(window.webpackJsonp=window.webpackJsonp||[]).push([[8,4,5,6],{"+K+b":function(ze,A,r){var M=r("JHRd");function y(T){var b=new T.constructor(T.byteLength);return new M(b).set(new M(T)),b}ze.exports=y},"+KLJ":function(ze,A,r){"use strict";var M=r("wx14"),y=r("rePB"),T=r("ODXe"),b=r("q1tI"),u=r("4i/N"),H=r("Ue1A"),k=r("RCxd"),Z=r("+YFz"),oe=r("2BaD"),ne=r("jO45"),Te=r("IMoZ"),at=r("zueq"),ve=r("jN4g"),we=r("8XRh"),I=r("TSYQ"),Ce=r.n(I),et=r("H84U"),Et=r("RqAY"),We=r("1OyB"),ct=r("vuIU"),ce=r("Ji7U"),Vt=r("LK+K"),It=function(Jt){Object(ce.a)(vt,Jt);var At=Object(Vt.a)(vt);function vt(){var ie;return Object(We.a)(this,vt),ie=At.apply(this,arguments),ie.state={error:void 0,info:{componentStack:""}},ie}return Object(ct.a)(vt,[{key:"componentDidCatch",value:function(J,ee){this.setState({error:J,info:ee})}},{key:"render",value:function(){var J=this.props,ee=J.message,Ie=J.description,me=J.children,Ve=this.state,Re=Ve.error,bt=Ve.info,Pt=bt&&bt.componentStack?bt.componentStack:null,ht=typeof ee=="undefined"?(Re||"").toString():ee,Ye=typeof Ie=="undefined"?Pt:Ie;return Re?b.createElement(Dt,{type:"error",message:ht,description:b.createElement("pre",null,Ye)}):me}}]),vt}(b.Component),Mt=r("0n0R"),Tt=function(Jt,At){var vt={};for(var ie in Jt)Object.prototype.hasOwnProperty.call(Jt,ie)&&At.indexOf(ie)<0&&(vt[ie]=Jt[ie]);if(Jt!=null&&typeof Object.getOwnPropertySymbols=="function")for(var J=0,ie=Object.getOwnPropertySymbols(Jt);J<ie.length;J++)At.indexOf(ie[J])<0&&Object.prototype.propertyIsEnumerable.call(Jt,ie[J])&&(vt[ie[J]]=Jt[ie[J]]);return vt},ye={success:ne.a,info:at.a,error:ve.a,warning:Te.a},lt={success:H.a,info:Z.a,error:oe.a,warning:k.a},yt=function(At){var vt,ie=At.description,J=At.prefixCls,ee=At.message,Ie=At.banner,me=At.className,Ve=me===void 0?"":me,Re=At.style,bt=At.onMouseEnter,Pt=At.onMouseLeave,ht=At.onClick,Ye=At.afterClose,Ke=At.showIcon,nt=At.closable,Ot=At.closeText,Xe=At.action,xt=Tt(At,["description","prefixCls","message","banner","className","style","onMouseEnter","onMouseLeave","onClick","afterClose","showIcon","closable","closeText","action"]),Ne=b.useState(!1),B=Object(T.a)(Ne,2),z=B[0],q=B[1],S=b.useRef(),K=b.useContext(et.b),fe=K.getPrefixCls,Fe=K.direction,pe=fe("alert",J),Me=function(ft){var ut;q(!0),(ut=xt.onClose)===null||ut===void 0||ut.call(xt,ft)},U=function(){var ft=xt.type;return ft!==void 0?ft:Ie?"warning":"info"},le=Ot?!0:nt,Le=U(),ot=function(){var ft=xt.icon,ut=(ie?lt:ye)[Le]||null;return ft?Object(Mt.c)(ft,b.createElement("span",{className:"".concat(pe,"-icon")},ft),function(){return{className:Ce()("".concat(pe,"-icon"),Object(y.a)({},ft.props.className,ft.props.className))}}):b.createElement(ut,{className:"".concat(pe,"-icon")})},St=function(){return le?b.createElement("button",{type:"button",onClick:Me,className:"".concat(pe,"-close-icon"),tabIndex:0},Ot?b.createElement("span",{className:"".concat(pe,"-close-text")},Ot):b.createElement(u.a,null)):null},Ge=Ie&&Ke===void 0?!0:Ke,Be=Ce()(pe,"".concat(pe,"-").concat(Le),(vt={},Object(y.a)(vt,"".concat(pe,"-with-description"),!!ie),Object(y.a)(vt,"".concat(pe,"-no-icon"),!Ge),Object(y.a)(vt,"".concat(pe,"-banner"),!!Ie),Object(y.a)(vt,"".concat(pe,"-rtl"),Fe==="rtl"),vt),Ve),Nt=Object(Et.a)(xt);return b.createElement(we.b,{visible:!z,motionName:"".concat(pe,"-motion"),motionAppear:!1,motionEnter:!1,onLeaveStart:function(ft){return{maxHeight:ft.offsetHeight}},onLeaveEnd:Ye},function(kt){var ft=kt.className,ut=kt.style;return b.createElement("div",Object(M.a)({ref:S,"data-show":!z,className:Ce()(Be,ft),style:Object(M.a)(Object(M.a)({},Re),ut),onMouseEnter:bt,onMouseLeave:Pt,onClick:ht,role:"alert"},Nt),Ge?ot():null,b.createElement("div",{className:"".concat(pe,"-content")},b.createElement("div",{className:"".concat(pe,"-message")},ee),b.createElement("div",{className:"".concat(pe,"-description")},ie)),Xe?b.createElement("div",{className:"".concat(pe,"-action")},Xe):null,St())})};yt.ErrorBoundary=It;var Dt=A.a=yt},"+Qka":function(ze,A,r){var M=r("fmRc"),y=r("t2Dn"),T=r("cq/+"),b=r("T1AV"),u=r("GoyQ"),H=r("mTTR"),k=r("itsj");function Z(oe,ne,Te,at,ve){oe!==ne&&T(ne,function(we,I){if(ve||(ve=new M),u(we))b(oe,ne,I,Te,Z,at,ve);else{var Ce=at?at(k(oe,I),we,I+"",oe,ne,ve):void 0;Ce===void 0&&(Ce=we),y(oe,I,Ce)}},H)}ze.exports=Z},"+VLl":function(ze,A,r){"use strict";r.d(A,"a",function(){return we});var M=r("lSNA"),y=r.n(M),T=r("J4zp"),b=r.n(T),u=r("Hel2"),H=Math.PI/3,k=[0,H,2*H,3*H,4*H,5*H];function Z(I){return I[0]}function oe(I){return I[1]}var ne=function(){var I=0,Ce=0,et=1,Et=1,We=Z,ct=oe,ce,Vt,It;function Mt(ye){var lt={},yt=[],Dt,Jt=ye.length;for(Dt=0;Dt<Jt;++Dt)if(!(isNaN(vt=+We.call(null,At=ye[Dt],Dt,ye))||isNaN(ie=+ct.call(null,At,Dt,ye)))){var At,vt,ie,J=Math.round(ie=ie/It),ee=Math.round(vt=vt/Vt-(J&1)/2),Ie=ie-J;if(Math.abs(Ie)*3>1){var me=vt-ee,Ve=ee+(vt<ee?-1:1)/2,Re=J+(ie<J?-1:1),bt=vt-Ve,Pt=ie-Re;me*me+Ie*Ie>bt*bt+Pt*Pt&&(ee=Ve+(J&1?1:-1)/2,J=Re)}var ht=ee+"-"+J,Ye=lt[ht];Ye?Ye.push(At):(yt.push(Ye=lt[ht]=[At]),Ye.x=(ee+(J&1)/2)*Vt,Ye.y=J*It)}return yt}function Tt(ye){var lt=0,yt=0;return k.map(function(Dt){var Jt=Math.sin(Dt)*ye,At=-Math.cos(Dt)*ye,vt=Jt-lt,ie=At-yt;return lt=Jt,yt=At,[vt,ie]})}return Mt.hexagon=function(ye){return"m"+Tt(ye==null?ce:+ye).join("l")+"z"},Mt.centers=function(){for(var ye=[],lt=Math.round(Ce/It),yt=Math.round(I/Vt),Dt=lt*It;Dt<Et+ce;Dt+=It,++lt)for(var Jt=yt*Vt+(lt&1)*Vt/2;Jt<et+Vt/2;Jt+=Vt)ye.push([Jt,Dt]);return ye},Mt.mesh=function(){var ye=Tt(ce).slice(0,4).join("l");return Mt.centers().map(function(lt){return"M"+lt+"m"+ye}).join("")},Mt.x=function(ye){return arguments.length?(We=ye,Mt):We},Mt.y=function(ye){return arguments.length?(ct=ye,Mt):ct},Mt.radius=function(ye){return arguments.length?(ce=+ye,Vt=ce*2*Math.sin(H),It=ce*1.5,Mt):ce},Mt.size=function(ye){return arguments.length?(I=Ce=0,et=+ye[0],Et=+ye[1],Mt):[et-I,Et-Ce]},Mt.extent=function(ye){return arguments.length?(I=+ye[0][0],Ce=+ye[0][1],et=+ye[1][0],Et=+ye[1][1],Mt):[[I,Ce],[et,Et]]},Mt.radius(1)};function Te(I,Ce){var et=Object.keys(I);if(Object.getOwnPropertySymbols){var Et=Object.getOwnPropertySymbols(I);Ce&&(Et=Et.filter(function(We){return Object.getOwnPropertyDescriptor(I,We).enumerable})),et.push.apply(et,Et)}return et}function at(I){for(var Ce=1;Ce<arguments.length;Ce++){var et=arguments[Ce]!=null?arguments[Ce]:{};Ce%2?Te(Object(et),!0).forEach(function(Et){y()(I,Et,et[Et])}):Object.getOwnPropertyDescriptors?Object.defineProperties(I,Object.getOwnPropertyDescriptors(et)):Te(Object(et)).forEach(function(Et){Object.defineProperty(I,Et,Object.getOwnPropertyDescriptor(et,Et))})}return I}var ve=6378e3;function we(I,Ce){var et=I.dataArray,Et=Ce.size,We=Et===void 0?10:Et,ct=Ce.method,ce=ct===void 0?"sum":ct,Vt=We/(2*Math.PI*ve)*(256<<20)/2,It=et.map(function(lt){var yt=Object(u.d)(lt.coordinates),Dt=b()(yt,2),Jt=Dt[0],At=Dt[1];return at(at({},lt),{},{coordinates:[Jt,At]})}),Mt=ne().radius(Vt).x(function(lt){return lt.coordinates[0]}).y(function(lt){return lt.coordinates[1]}),Tt=Mt(It),ye={dataArray:Tt.map(function(lt,yt){var Dt;if(Ce.field&&ce){var Jt=u.c.getColumn(lt,Ce.field);lt[ce]=u.c.statMap[ce](Jt)}return Dt={},y()(Dt,Ce.method,lt[ce]),y()(Dt,"count",lt.length),y()(Dt,"rawData",lt),y()(Dt,"coordinates",[lt.x,lt.y]),y()(Dt,"_id",yt),Dt}),radius:Vt,xOffset:Vt,yOffset:Vt,type:"hexagon"};return ye}},"+c4W":function(ze,A,r){var M=r("711d"),y=r("4/ic"),T=r("9ggG"),b=r("9Nap");function u(H){return T(H)?M(b(H)):y(H)}ze.exports=u},"+caW":function(ze,A,r){"use strict";var M=r("WmNS"),y=r.n(M),T=r("bbsP"),b=r("/wGt"),u=r("GNNt"),H=r("wEI+"),k=r("q1tI"),Z=r.n(k),oe=r("6cGi"),ne=r("i8i4"),Te=r.n(ne),at=r("BGR+"),ve=r("b1eo"),we=r("Kwbf"),I=r("4AAd"),Ce=["children","trigger","onVisibleChange","drawerProps","onFinish","title","width"];function et(){return et=Object.assign||function(vt){for(var ie=1;ie<arguments.length;ie++){var J=arguments[ie];for(var ee in J)Object.prototype.hasOwnProperty.call(J,ee)&&(vt[ee]=J[ee])}return vt},et.apply(this,arguments)}function Et(vt,ie,J,ee,Ie,me,Ve){try{var Re=vt[me](Ve),bt=Re.value}catch(Pt){J(Pt);return}Re.done?ie(bt):Promise.resolve(bt).then(ee,Ie)}function We(vt){return function(){var ie=this,J=arguments;return new Promise(function(ee,Ie){var me=vt.apply(ie,J);function Ve(bt){Et(me,ee,Ie,Ve,Re,"next",bt)}function Re(bt){Et(me,ee,Ie,Ve,Re,"throw",bt)}Ve(void 0)})}}function ct(vt,ie){var J=Object.keys(vt);if(Object.getOwnPropertySymbols){var ee=Object.getOwnPropertySymbols(vt);ie&&(ee=ee.filter(function(Ie){return Object.getOwnPropertyDescriptor(vt,Ie).enumerable})),J.push.apply(J,ee)}return J}function ce(vt){for(var ie=1;ie<arguments.length;ie++){var J=arguments[ie]!=null?arguments[ie]:{};ie%2?ct(Object(J),!0).forEach(function(ee){Vt(vt,ee,J[ee])}):Object.getOwnPropertyDescriptors?Object.defineProperties(vt,Object.getOwnPropertyDescriptors(J)):ct(Object(J)).forEach(function(ee){Object.defineProperty(vt,ee,Object.getOwnPropertyDescriptor(J,ee))})}return vt}function Vt(vt,ie,J){return ie in vt?Object.defineProperty(vt,ie,{value:J,enumerable:!0,configurable:!0,writable:!0}):vt[ie]=J,vt}function It(vt,ie){return yt(vt)||lt(vt,ie)||Tt(vt,ie)||Mt()}function Mt(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Tt(vt,ie){if(!!vt){if(typeof vt=="string")return ye(vt,ie);var J=Object.prototype.toString.call(vt).slice(8,-1);if(J==="Object"&&vt.constructor&&(J=vt.constructor.name),J==="Map"||J==="Set")return Array.from(vt);if(J==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(J))return ye(vt,ie)}}function ye(vt,ie){(ie==null||ie>vt.length)&&(ie=vt.length);for(var J=0,ee=new Array(ie);J<ie;J++)ee[J]=vt[J];return ee}function lt(vt,ie){var J=vt==null?null:typeof Symbol!="undefined"&&vt[Symbol.iterator]||vt["@@iterator"];if(J!=null){var ee=[],Ie=!0,me=!1,Ve,Re;try{for(J=J.call(vt);!(Ie=(Ve=J.next()).done)&&(ee.push(Ve.value),!(ie&&ee.length===ie));Ie=!0);}catch(bt){me=!0,Re=bt}finally{try{!Ie&&J.return!=null&&J.return()}finally{if(me)throw Re}}return ee}}function yt(vt){if(Array.isArray(vt))return vt}function Dt(vt,ie){if(vt==null)return{};var J=Jt(vt,ie),ee,Ie;if(Object.getOwnPropertySymbols){var me=Object.getOwnPropertySymbols(vt);for(Ie=0;Ie<me.length;Ie++)ee=me[Ie],!(ie.indexOf(ee)>=0)&&(!Object.prototype.propertyIsEnumerable.call(vt,ee)||(J[ee]=vt[ee]))}return J}function Jt(vt,ie){if(vt==null)return{};var J={},ee=Object.keys(vt),Ie,me;for(me=0;me<ee.length;me++)Ie=ee[me],!(ie.indexOf(Ie)>=0)&&(J[Ie]=vt[Ie]);return J}function At(vt){var ie,J,ee=vt.children,Ie=vt.trigger,me=vt.onVisibleChange,Ve=vt.drawerProps,Re=vt.onFinish,bt=vt.title,Pt=vt.width,ht=Dt(vt,Ce),Ye=Object(oe.a)(!!ht.visible,{value:ht.visible,onChange:me}),Ke=It(Ye,2),nt=Ke[0],Ot=Ke[1],Xe=Object(oe.a)(0),xt=It(Xe,2),Ne=xt[0],B=xt[1],z=Object(k.useContext)(H.b.ConfigContext),q=Object(k.useMemo)(function(){var le;if((Ve==null?void 0:Ve.getContainer)===!1)return!1;if(Ve==null?void 0:Ve.getContainer){if(typeof(Ve==null?void 0:Ve.getContainer)=="function"){var Le;return Ve==null||(Le=Ve.getContainer)===null||Le===void 0?void 0:Le.call(Ve)}return typeof(Ve==null?void 0:Ve.getContainer)=="string"?document.getElementById(Ve==null?void 0:Ve.getContainer):Ve==null?void 0:Ve.getContainer}return z==null||(le=z.getPopupContainer)===null||le===void 0?void 0:le.call(z,document.body)},[z,Ve,nt]),S=Object(k.useState)(function(){return new I.a({container:q||document.body})}),K=It(S,1),fe=K[0];Object(we.b)(!ht.footer||!(Ve==null?void 0:Ve.footer),"DrawerForm \u662F\u4E00\u4E2A ProForm \u7684\u7279\u6B8A\u5E03\u5C40\uFF0C\u5982\u679C\u60F3\u81EA\u5B9A\u4E49\u6309\u94AE\uFF0C\u8BF7\u4F7F\u7528 submit.render \u81EA\u5B9A\u4E49\u3002"),Object(k.useEffect)(function(){return nt?fe.lock():fe.unLock(),nt&&ht.visible&&(me==null||me(!0)),function(){var le;nt||fe==null||(le=fe.unLock)===null||le===void 0||le.call(fe)}},[nt]);var Fe=Object(k.useRef)(!(Ve==null?void 0:Ve.forceRender)),pe=Object(k.useMemo)(function(){return!(Fe.current&&nt===!1||nt===!1&&(Ve==null?void 0:Ve.destroyOnClose))},[nt,Ve==null?void 0:Ve.destroyOnClose]),Me=Object(k.useRef)();Object(k.useEffect)(function(){nt&&(Fe.current=!1),!nt&&(Ve==null?void 0:Ve.destroyOnClose)&&B(Ne+1)},[Ve==null?void 0:Ve.destroyOnClose,nt]),Object(k.useEffect)(function(){return function(){var le;fe==null||(le=fe.unLock)===null||le===void 0||le.call(fe)}},[]),Object(k.useImperativeHandle)(ht.formRef,function(){return Me.current});var U=Z.a.createElement("div",{onClick:function(Le){return Le.stopPropagation()}},Z.a.createElement(ve.a,et({formComponentType:"DrawerForm",layout:"vertical",key:Ne},Object(at.a)(ht,["visible"]),{formRef:Me,submitter:ht.submitter===!1?!1:ce(ce({},ht.submitter),{},{searchConfig:ce({submitText:"\u786E\u8BA4",resetText:"\u53D6\u6D88"},(ie=ht.submitter)===null||ie===void 0?void 0:ie.searchConfig),resetButtonProps:ce({preventDefault:!0,onClick:function(Le){var ot;Ot(!1),Ve==null||(ot=Ve.onClose)===null||ot===void 0||ot.call(Ve,Le)}},(J=ht.submitter)===null||J===void 0?void 0:J.resetButtonProps)}),onFinish:function(){var le=We(y.a.mark(function Le(ot){var St;return y.a.wrap(function(Be){for(;;)switch(Be.prev=Be.next){case 0:if(Re){Be.next=2;break}return Be.abrupt("return");case 2:return Be.next=4,Re(ot);case 4:St=Be.sent,St&&(Ot(!1),setTimeout(function(){var Nt;(Ve==null?void 0:Ve.destroyOnClose)&&((Nt=Me.current)===null||Nt===void 0||Nt.resetFields())},300));case 6:case"end":return Be.stop()}},Le)}));return function(Le){return le.apply(this,arguments)}}(),contentRender:function(Le,ot){return Z.a.createElement(b.a,et({title:bt,width:Pt||800},Ve,{getContainer:!1,visible:nt,onClose:function(Ge){var Be;Ot(!1),Ve==null||(Be=Ve.onClose)===null||Be===void 0||Be.call(Ve,Ge)},footer:!!ot&&Z.a.createElement("div",{style:{display:"flex",justifyContent:"flex-end"}},ot)}),pe?Le:null)}}),ee));return Z.a.createElement(Z.a.Fragment,null,q!==!1?Object(ne.createPortal)(U,q||document.body):U,Ie&&Z.a.cloneElement(Ie,ce(ce({},Ie.props),{},{onClick:function(Le){var ot,St;Ot(!nt),(ot=Ie.props)===null||ot===void 0||(St=ot.onClick)===null||St===void 0||St.call(ot,Le)}})))}A.a=At},"+em5":function(ze,A,r){"use strict";r.d(A,"a",function(){return J});var M=r("yG8O"),y=r.n(M),T=r("lwsE"),b=r.n(T),u=r("W8MJ"),H=r.n(u),k=r("lSNA"),Z=r.n(k),oe=r("U+yc"),ne=r.n(oe),Te=r("1ABj"),at=r.n(Te),ve=r("gQMU"),we=r.n(ve),I=r("J2iB"),Ce=r.n(I),et=r("u6S6"),Et=r.n(et),We=r("4cb6"),ct=r.n(We),ce=r("mNvP"),Vt=r.n(ce),It=r("o+pz"),Mt=r("bB6j"),Tt=r("bPkA"),ye,lt,yt,Dt,Jt;function At(ee,Ie){var me=Object.keys(ee);if(Object.getOwnPropertySymbols){var Ve=Object.getOwnPropertySymbols(ee);Ie&&(Ve=Ve.filter(function(Re){return Object.getOwnPropertyDescriptor(ee,Re).enumerable})),me.push.apply(me,Ve)}return me}function vt(ee){for(var Ie=1;Ie<arguments.length;Ie++){var me=arguments[Ie]!=null?arguments[Ie]:{};Ie%2?At(Object(me),!0).forEach(function(Ve){Z()(ee,Ve,me[Ve])}):Object.getOwnPropertyDescriptors?Object.defineProperties(ee,Object.getOwnPropertyDescriptors(me)):At(Object(me)).forEach(function(Ve){Object.defineProperty(ee,Ve,Object.getOwnPropertyDescriptor(me,Ve))})}return ee}var ie=`attribute vec2 a_Position;

varying vec2 v_UV;

void main() {
  v_UV = 0.5 * (a_Position + 1.0);
  gl_Position = vec4(a_Position, 0., 1.);
}`,J=(ye=Object(We.injectable)(),lt=Object(We.inject)(Mt.a.IShaderModuleService),ye(yt=(Dt=function(){function ee(){b()(this,ee),y()(this,"shaderModuleService",Jt,this),Z()(this,"rendererService",void 0),Z()(this,"config",void 0),Z()(this,"quad",ie),Z()(this,"enabled",!0),Z()(this,"renderToScreen",!1),Z()(this,"model",void 0),Z()(this,"name",void 0),Z()(this,"optionsToUpdate",{})}return H()(ee,[{key:"getName",value:function(){return this.name}},{key:"setName",value:function(me){this.name=me}},{key:"getType",value:function(){return Tt.a.PostProcessing}},{key:"init",value:function(me,Ve){this.config=Ve,this.rendererService=me.getContainer().get(Mt.a.IRendererService);var Re=this.rendererService,bt=Re.createAttribute,Pt=Re.createBuffer,ht=Re.createModel,Ye=this.setupShaders(),Ke=Ye.vs,nt=Ye.fs,Ot=Ye.uniforms;this.model=ht({vs:Ke,fs:nt,attributes:{a_Position:bt({buffer:Pt({data:[-4,-4,4,-4,0,4],type:It.a.FLOAT}),size:2})},uniforms:vt(vt({u_Texture:null},Ot),this.config&&this.convertOptionsToUniforms(this.config)),depth:{enable:!1},count:3,blend:{enable:this.getName()==="copy"}})}},{key:"render",value:function(me){var Ve=this,Re=me.multiPassRenderer.getPostProcessor(),bt=this.rendererService,Pt=bt.useFramebuffer,ht=bt.getViewportSize,Ye=bt.clear,Ke=ht(),nt=Ke.width,Ot=Ke.height;Pt(this.renderToScreen?null:Re.getWriteFBO(),function(){Ye({framebuffer:Re.getWriteFBO(),color:[0,0,0,0],depth:1,stencil:0}),Ve.model.draw({uniforms:vt({u_Texture:Re.getReadFBO(),u_ViewportSize:[nt,Ot]},Ve.convertOptionsToUniforms(Ve.optionsToUpdate))})})}},{key:"isEnabled",value:function(){return this.enabled}},{key:"setEnabled",value:function(me){this.enabled=me}},{key:"setRenderToScreen",value:function(me){this.renderToScreen=me}},{key:"updateOptions",value:function(me){this.optionsToUpdate=vt(vt({},this.optionsToUpdate),me)}},{key:"setupShaders",value:function(){throw new Error("Method not implemented.")}},{key:"convertOptionsToUniforms",value:function(me){var Ve={};return Object.keys(me).forEach(function(Re){Ce()(me[Re])||(Ve["u_".concat(we()(Et()(Re)))]=me[Re])}),Ve}}]),ee}(),Jt=ne()(Dt.prototype,"shaderModuleService",[lt],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Dt))||yt)},"+iFO":function(ze,A,r){var M=r("dTAl"),y=r("LcsW"),T=r("6sVZ");function b(u){return typeof u.constructor=="function"&&!T(u)?M(y(u)):{}}ze.exports=b},"/33/":function(ze,A){},"/FUP":function(ze,A,r){"use strict";Object.defineProperty(A,"__esModule",{value:!0}),A.ReactCSS=A.loop=A.handleActive=A.handleHover=A.hover=void 0;var M=r("W3HW"),y=ve(M),T=r("lreK"),b=ve(T),u=r("KfSR"),H=ve(u),k=r("VYtm"),Z=ve(k),oe=r("XQvf"),ne=ve(oe),Te=r("B5Mt"),at=ve(Te);function ve(I){return I&&I.__esModule?I:{default:I}}A.hover=Z.default,A.handleHover=Z.default,A.handleActive=ne.default,A.loop=at.default;var we=A.ReactCSS=function(Ce){for(var et=arguments.length,Et=Array(et>1?et-1:0),We=1;We<et;We++)Et[We-1]=arguments[We];var ct=(0,y.default)(Et),ce=(0,b.default)(Ce,ct);return(0,H.default)(ce)};A.default=we},"/Uc5":function(ze,A){},"/s86":function(ze,A,r){"use strict";var M=r("Telt"),y=r("Tckk"),T=r("q1tI"),b=r.n(T),u="valueType request plain renderFormItem render text formItemProps valueEnum",H="fieldProps isDefaultDom groupProps contentRender submitterProps submitter";function k(f){var d="".concat(u," ").concat(H).split(/[\s\n]+/),C={};return Object.keys(f||{}).forEach(function(P){d.includes(P)||(C[P]=f[P])}),C}var Z=r("PjWh"),oe=r("LQCs"),ne=r("giR+"),Te=r("fyUT"),at=r("CeSn"),ve=r.n(at);function we(f){return f===0?null:f>0?"+":"-"}function I(f){return f===0?"#595959":f>0?"#ff4d4f":"#52c41a"}function Ce(f){var d=arguments.length>1&&arguments[1]!==void 0?arguments[1]:2;return d&&d>0?f.toFixed(d):f}function et(){return et=Object.assign||function(f){for(var d=1;d<arguments.length;d++){var C=arguments[d];for(var P in C)Object.prototype.hasOwnProperty.call(C,P)&&(f[P]=C[P])}return f},et.apply(this,arguments)}function Et(f,d){var C=Object.keys(f);if(Object.getOwnPropertySymbols){var P=Object.getOwnPropertySymbols(f);d&&(P=P.filter(function(G){return Object.getOwnPropertyDescriptor(f,G).enumerable})),C.push.apply(C,P)}return C}function We(f){for(var d=1;d<arguments.length;d++){var C=arguments[d]!=null?arguments[d]:{};d%2?Et(Object(C),!0).forEach(function(P){ct(f,P,C[P])}):Object.getOwnPropertyDescriptors?Object.defineProperties(f,Object.getOwnPropertyDescriptors(C)):Et(Object(C)).forEach(function(P){Object.defineProperty(f,P,Object.getOwnPropertyDescriptor(C,P))})}return f}function ct(f,d,C){return d in f?Object.defineProperty(f,d,{value:C,enumerable:!0,configurable:!0,writable:!0}):f[d]=C,f}var ce=function(d,C){var P=d.text,G=d.prefix,ke=d.precision,qe=d.suffix,pt=qe===void 0?"%":qe,zt=d.mode,er=d.showColor,gr=er===void 0?!1:er,Lr=d.render,Or=d.renderFormItem,Vr=d.fieldProps,Kr=d.placeholder,cn=d.showSymbol,Tn=Object(T.useMemo)(function(){return typeof P=="string"&&P.includes("%")?ve()(P.replace("%","")):ve()(P)},[P]),xa=Object(T.useMemo)(function(){return typeof cn=="function"?cn==null?void 0:cn(P):cn},[cn,P]);if(zt==="read"){var za=gr?{color:I(Tn)}:{},zi=b.a.createElement("span",{style:za,ref:C},G&&b.a.createElement("span",null,G),xa&&b.a.createElement(T.Fragment,null,we(Tn)," "),Ce(Math.abs(Tn),ke),pt&&pt);return Lr?Lr(P,We(We({mode:zt},Vr),{},{prefix:G,precision:ke,showSymbol:xa,suffix:pt}),zi):zi}if(zt==="edit"||zt==="update"){var yo=b.a.createElement(Te.a,et({ref:C,formatter:function(ci){return ci&&G?"".concat(G," ").concat(ci).replace(/\B(?=(\d{3})+(?!\d)$)/g,","):ci},parser:function(ci){return ci?ci.replace(/.*\s|,/g,""):""},placeholder:Kr},Vr));return Or?Or(P,We({mode:zt},Vr),yo):yo}return null},Vt=b.a.forwardRef(ce),It=r("GNNt"),Mt=r("wEI+"),Tt=r("TSYQ"),ye=r.n(Tt),lt=r("75XV");function yt(f,d,C){return d in f?Object.defineProperty(f,d,{value:C,enumerable:!0,configurable:!0,writable:!0}):f[d]=C,f}var Dt=function(d,C){var P,G=d.border,ke=G===void 0?!1:G,qe=d.children,pt=Object(T.useContext)(Mt.b.ConfigContext),zt=pt.getPrefixCls,er=zt("pro-field-index-column");return b.a.createElement("div",{ref:C,className:ye()(er,(P={},yt(P,"".concat(er,"-border"),ke),yt(P,"top-three",qe>3),P))},qe)},Jt=b.a.forwardRef(Dt),At=r("MXD1"),vt=r("CFYs");function ie(f,d){var C=Object.keys(f);if(Object.getOwnPropertySymbols){var P=Object.getOwnPropertySymbols(f);d&&(P=P.filter(function(G){return Object.getOwnPropertyDescriptor(f,G).enumerable})),C.push.apply(C,P)}return C}function J(f){for(var d=1;d<arguments.length;d++){var C=arguments[d]!=null?arguments[d]:{};d%2?ie(Object(C),!0).forEach(function(P){ee(f,P,C[P])}):Object.getOwnPropertyDescriptors?Object.defineProperties(f,Object.getOwnPropertyDescriptors(C)):ie(Object(C)).forEach(function(P){Object.defineProperty(f,P,Object.getOwnPropertyDescriptor(C,P))})}return f}function ee(f,d,C){return d in f?Object.defineProperty(f,d,{value:C,enumerable:!0,configurable:!0,writable:!0}):f[d]=C,f}function Ie(){return Ie=Object.assign||function(f){for(var d=1;d<arguments.length;d++){var C=arguments[d];for(var P in C)Object.prototype.hasOwnProperty.call(C,P)&&(f[P]=C[P])}return f},Ie.apply(this,arguments)}function me(f){return typeof f!="number"?"exception":f===100?"success":f<0?"exception":f<100?"active":"normal"}var Ve=function(d,C){var P=d.text,G=d.mode,ke=d.render,qe=d.plain,pt=d.renderFormItem,zt=d.fieldProps,er=d.placeholder,gr=Object(T.useMemo)(function(){return typeof P=="string"&&P.includes("%")?ve()(P.replace("%","")):ve()(P)},[P]);if(G==="read"){var Lr=b.a.createElement(vt.a,Ie({ref:C,size:"small",style:{minWidth:100,maxWidth:320},percent:gr,steps:qe?10:void 0,status:me(gr)},zt));return ke?ke(gr,J({mode:G},zt),Lr):Lr}if(G==="edit"||G==="update"){var Or=b.a.createElement(Te.a,Ie({ref:C,placeholder:er},zt));return pt?pt(P,J({mode:G},zt),Or):Or}return null},Re=b.a.forwardRef(Ve),bt=["text","mode","locale","render","renderFormItem","fieldProps","proFieldKey","plain","valueEnum","placeholder","customSymbol"];function Pt(){return Pt=Object.assign||function(f){for(var d=1;d<arguments.length;d++){var C=arguments[d];for(var P in C)Object.prototype.hasOwnProperty.call(C,P)&&(f[P]=C[P])}return f},Pt.apply(this,arguments)}function ht(f,d){if(f==null)return{};var C=Ye(f,d),P,G;if(Object.getOwnPropertySymbols){var ke=Object.getOwnPropertySymbols(f);for(G=0;G<ke.length;G++)P=ke[G],!(d.indexOf(P)>=0)&&(!Object.prototype.propertyIsEnumerable.call(f,P)||(C[P]=f[P]))}return C}function Ye(f,d){if(f==null)return{};var C={},P=Object.keys(f),G,ke;for(ke=0;ke<P.length;ke++)G=P[ke],!(d.indexOf(G)>=0)&&(C[G]=f[G]);return C}function Ke(f,d){var C=Object.keys(f);if(Object.getOwnPropertySymbols){var P=Object.getOwnPropertySymbols(f);d&&(P=P.filter(function(G){return Object.getOwnPropertyDescriptor(f,G).enumerable})),C.push.apply(C,P)}return C}function nt(f){for(var d=1;d<arguments.length;d++){var C=arguments[d]!=null?arguments[d]:{};d%2?Ke(Object(C),!0).forEach(function(P){Ot(f,P,C[P])}):Object.getOwnPropertyDescriptors?Object.defineProperties(f,Object.getOwnPropertyDescriptors(C)):Ke(Object(C)).forEach(function(P){Object.defineProperty(f,P,Object.getOwnPropertyDescriptor(C,P))})}return f}function Ot(f,d,C){return d in f?Object.defineProperty(f,d,{value:C,enumerable:!0,configurable:!0,writable:!0}):f[d]=C,f}var Xe=new Intl.NumberFormat("zh-Hans-CN",{currency:"CNY",style:"currency"}),xt={style:"currency",currency:"USD"},Ne={style:"currency",currency:"RUB"},B={style:"currency",currency:"RSD"},z={style:"currency",currency:"MYR"},q={default:Xe,"zh-Hans-CN":{currency:"CNY",style:"currency"},"en-US":xt,"ru-RU":Ne,"ms-MY":z,"sr-RS":B},S=function(d,C,P){var G=C;return typeof G=="string"&&(G=Number(G)),d?new Intl.NumberFormat(d,nt(nt({},q[d||"zh-Hans-CN"]||q["zh-Hans-CN"]),{},{minimumFractionDigits:P})).format(G):new Intl.NumberFormat().format(G)},K=2,fe=function(d,C){var P,G=d.text,ke=d.mode,qe=d.locale,pt=qe===void 0?"zh-Hans-CN":qe,zt=d.render,er=d.renderFormItem,gr=d.fieldProps,Lr=d.proFieldKey,Or=d.plain,Vr=d.valueEnum,Kr=d.placeholder,cn=d.customSymbol,Tn=ht(d,bt),xa=(P=gr==null?void 0:gr.precision)!==null&&P!==void 0?P:K,za=Object(oe.d)();pt&&oe.c[pt]&&(za=oe.c[pt]);var zi=Object(T.useMemo)(function(){if(cn)return cn;var ci=za.getMessage("moneySymbol","\uFFE5");if(!(Tn.moneySymbol===!1||gr.moneySymbol===!1))return ci},[gr.moneySymbol,za,Tn.moneySymbol,cn]);if(ke==="read"){var yo=b.a.createElement("span",{ref:C},S(zi?pt:!1,G,xa));return zt?zt(G,nt({mode:ke},gr),yo):yo}if(ke==="edit"||ke==="update"){var Fi=b.a.createElement(Te.a,Pt({ref:C,precision:xa,formatter:function(as){if(as){var Ro=new RegExp("/B(?=(d{".concat(3+(xa-K),"})+(?!d))/g"));return"".concat(zi," ").concat(as).replace(Ro,",")}return""},parser:function(as){return as?as.replace(new RegExp("\\".concat(zi,"\\s?|(,*)"),"g"),""):""},placeholder:Kr},gr));return er?er(G,nt({mode:ke},gr),Fi):Fi}return null},Fe=b.a.forwardRef(fe),pe=r("ZTW2"),Me=r("+BJd"),U=r("+L6B"),le=r("wd/R"),Le=r.n(le),ot=r("Kwbf"),St={getNow:function(){return Le()()},getFixedDate:function(d){return Le()(d,"YYYY-MM-DD")},getEndDate:function(d){var C=d.clone();return C.endOf("month")},getWeekDay:function(d){var C=d.clone().locale("en_US");return C.weekday()+C.localeData().firstDayOfWeek()},getYear:function(d){return d.year()},getMonth:function(d){return d.month()},getDate:function(d){return d.date()},getHour:function(d){return d.hour()},getMinute:function(d){return d.minute()},getSecond:function(d){return d.second()},addYear:function(d,C){var P=d.clone();return P.add(C,"year")},addMonth:function(d,C){var P=d.clone();return P.add(C,"month")},addDate:function(d,C){var P=d.clone();return P.add(C,"day")},setYear:function(d,C){var P=d.clone();return P.year(C)},setMonth:function(d,C){var P=d.clone();return P.month(C)},setDate:function(d,C){var P=d.clone();return P.date(C)},setHour:function(d,C){var P=d.clone();return P.hour(C)},setMinute:function(d,C){var P=d.clone();return P.minute(C)},setSecond:function(d,C){var P=d.clone();return P.second(C)},isAfter:function(d,C){return d.isAfter(C)},isValidate:function(d){return d.isValid()},locale:{getWeekFirstDay:function(d){var C=Le()().locale(d);return C.localeData().firstDayOfWeek()},getWeekFirstDate:function(d,C){var P=C.clone(),G=P.locale(d);return G.weekday(0)},getWeek:function(d,C){var P=C.clone(),G=P.locale(d);return G.week()},getShortWeekDays:function(d){var C=Le()().locale(d);return C.localeData().weekdaysMin()},getShortMonths:function(d){var C=Le()().locale(d);return C.localeData().monthsShort()},format:function(d,C,P){var G=C.clone(),ke=G.locale(d);return ke.format(P)},parse:function(d,C,P){for(var G=[],ke=0;ke<P.length;ke+=1){var qe=P[ke],pt=C;if(qe.includes("wo")||qe.includes("Wo")){qe=qe.replace(/wo/g,"w").replace(/Wo/g,"W");var zt=qe.match(/[-YyMmDdHhSsWwGg]+/g),er=pt.match(/[-\d]+/g);zt&&er?(qe=zt.join(""),pt=er.join("")):G.push(qe.replace(/o/g,""))}var gr=Le()(pt,qe,d,!0);if(gr.isValid())return gr}for(var Lr=0;Lr<G.length;Lr+=1){var Or=Le()(C,G[Lr],d,!1);if(Or.isValid())return Object(ot.b)(!1,"Not match any format strictly and fallback to fuzzy match. Please help to fire a issue about this."),Or}return null}}},Ge=St,Be=r("wx14"),Nt=r("2/Rp");function kt(f){return T.createElement(Nt.a,Object(Be.a)({size:"small",type:"primary"},f))}var ft=r("mr32");function ut(f){return T.createElement(ft.a,Object(Be.a)({color:"blue"},f))}var Ze=r("rePB"),Qt=r("1OyB"),ar=r("vuIU"),zr=r("Ji7U"),qr=r("LK+K"),tn=r("VTBJ"),_n={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M880 184H712v-64c0-4.4-3.6-8-8-8h-56c-4.4 0-8 3.6-8 8v64H384v-64c0-4.4-3.6-8-8-8h-56c-4.4 0-8 3.6-8 8v64H144c-17.7 0-32 14.3-32 32v664c0 17.7 14.3 32 32 32h736c17.7 0 32-14.3 32-32V216c0-17.7-14.3-32-32-32zm-40 656H184V460h656v380zM184 392V256h128v48c0 4.4 3.6 8 8 8h56c4.4 0 8-3.6 8-8v-48h256v48c0 4.4 3.6 8 8 8h56c4.4 0 8-3.6 8-8v-48h128v136H184z"}}]},name:"calendar",theme:"outlined"},Bn=_n,ya=r("6VBw"),Tr=function(d,C){return T.createElement(ya.a,Object(tn.a)(Object(tn.a)({},d),{},{ref:C,icon:Bn}))};Tr.displayName="CalendarOutlined";var it=T.forwardRef(Tr),ue={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm0 820c-205.4 0-372-166.6-372-372s166.6-372 372-372 372 166.6 372 372-166.6 372-372 372z"}},{tag:"path",attrs:{d:"M686.7 638.6L544.1 535.5V288c0-4.4-3.6-8-8-8H488c-4.4 0-8 3.6-8 8v275.4c0 2.6 1.2 5 3.3 6.5l165.4 120.6c3.6 2.6 8.6 1.8 11.2-1.7l28.6-39c2.6-3.7 1.8-8.7-1.8-11.2z"}}]},name:"clock-circle",theme:"outlined"},ge=ue,De=function(d,C){return T.createElement(ya.a,Object(tn.a)(Object(tn.a)({},d),{},{ref:C,icon:ge}))};De.displayName="ClockCircleOutlined";var Ee=T.forwardRef(De),be=r("jN4g"),rt=r("ODXe"),de=r("6cGi"),Pe=r("U8pU"),xe=r("4IlW"),Oe=T.createContext({}),dt=Oe,Gt={visibility:"hidden"};function $t(f){var d=f.prefixCls,C=f.prevIcon,P=C===void 0?"\u2039":C,G=f.nextIcon,ke=G===void 0?"\u203A":G,qe=f.superPrevIcon,pt=qe===void 0?"\xAB":qe,zt=f.superNextIcon,er=zt===void 0?"\xBB":zt,gr=f.onSuperPrev,Lr=f.onSuperNext,Or=f.onPrev,Vr=f.onNext,Kr=f.children,cn=T.useContext(dt),Tn=cn.hideNextBtn,xa=cn.hidePrevBtn;return T.createElement("div",{className:d},gr&&T.createElement("button",{type:"button",onClick:gr,tabIndex:-1,className:"".concat(d,"-super-prev-btn"),style:xa?Gt:{}},pt),Or&&T.createElement("button",{type:"button",onClick:Or,tabIndex:-1,className:"".concat(d,"-prev-btn"),style:xa?Gt:{}},P),T.createElement("div",{className:"".concat(d,"-view")},Kr),Vr&&T.createElement("button",{type:"button",onClick:Vr,tabIndex:-1,className:"".concat(d,"-next-btn"),style:Tn?Gt:{}},ke),Lr&&T.createElement("button",{type:"button",onClick:Lr,tabIndex:-1,className:"".concat(d,"-super-next-btn"),style:Tn?Gt:{}},er))}var nr=$t;function lr(f){var d=f.prefixCls,C=f.generateConfig,P=f.viewDate,G=f.onPrevDecades,ke=f.onNextDecades,qe=T.useContext(dt),pt=qe.hideHeader;if(pt)return null;var zt="".concat(d,"-header"),er=C.getYear(P),gr=Math.floor(er/ko)*ko,Lr=gr+ko-1;return T.createElement(nr,Object(Be.a)({},f,{prefixCls:zt,onSuperPrev:G,onSuperNext:ke}),gr,"-",Lr)}var Dr=lr;function Pr(f,d,C,P,G){var ke=f.setHour(d,C);return ke=f.setMinute(ke,P),ke=f.setSecond(ke,G),ke}function Wr(f,d,C){if(!C)return d;var P=d;return P=f.setHour(P,f.getHour(C)),P=f.setMinute(P,f.getMinute(C)),P=f.setSecond(P,f.getSecond(C)),P}function an(f,d,C,P,G,ke){var qe=Math.floor(f/P)*P;if(qe<f)return[qe,60-G,60-ke];var pt=Math.floor(d/G)*G;if(pt<d)return[qe,pt,60-ke];var zt=Math.floor(C/ke)*ke;return[qe,pt,zt]}function dn(f,d){var C=f.getYear(d),P=f.getMonth(d)+1,G=f.getEndDate(f.getFixedDate("".concat(C,"-").concat(P,"-01"))),ke=f.getDate(G),qe=P<10?"0".concat(P):"".concat(P);return"".concat(C,"-").concat(qe,"-").concat(ke)}function Rn(f){for(var d=f.prefixCls,C=f.disabledDate,P=f.onSelect,G=f.picker,ke=f.rowNum,qe=f.colNum,pt=f.prefixColumn,zt=f.rowClassName,er=f.baseDate,gr=f.getCellClassName,Lr=f.getCellText,Or=f.getCellNode,Vr=f.getCellDate,Kr=f.generateConfig,cn=f.titleCell,Tn=f.headerCells,xa=T.useContext(dt),za=xa.onDateMouseEnter,zi=xa.onDateMouseLeave,yo=xa.mode,Fi="".concat(d,"-cell"),ci=[],as=0;as<ke;as+=1){for(var Ro=[],gs=void 0,lu=function(Ec){var Ff,cd=as*qe+Ec,Sc=Vr(er,cd),sh=fu({cellDate:Sc,mode:yo,disabledDate:C,generateConfig:Kr});Ec===0&&(gs=Sc,pt&&Ro.push(pt(gs)));var Yf=cn&&cn(Sc);Ro.push(T.createElement("td",{key:Ec,title:Yf,className:ye()(Fi,Object(tn.a)((Ff={},Object(Ze.a)(Ff,"".concat(Fi,"-disabled"),sh),Object(Ze.a)(Ff,"".concat(Fi,"-start"),Lr(Sc)===1||G==="year"&&Number(Yf)%10==0),Object(Ze.a)(Ff,"".concat(Fi,"-end"),Yf===dn(Kr,Sc)||G==="year"&&Number(Yf)%10==9),Ff),gr(Sc))),onClick:function(){sh||P(Sc)},onMouseEnter:function(){!sh&&za&&za(Sc)},onMouseLeave:function(){!sh&&zi&&zi(Sc)}},Or?Or(Sc):T.createElement("div",{className:"".concat(Fi,"-inner")},Lr(Sc))))},lc=0;lc<qe;lc+=1)lu(lc);ci.push(T.createElement("tr",{key:as,className:zt&&zt(gs)},Ro))}return T.createElement("div",{className:"".concat(d,"-body")},T.createElement("table",{className:"".concat(d,"-content")},Tn&&T.createElement("thead",null,T.createElement("tr",null,Tn)),T.createElement("tbody",null,ci)))}var zn=3,Qn=4;function Ma(f){var d=vi-1,C=f.prefixCls,P=f.viewDate,G=f.generateConfig,ke="".concat(C,"-cell"),qe=G.getYear(P),pt=Math.floor(qe/vi)*vi,zt=Math.floor(qe/ko)*ko,er=zt+ko-1,gr=G.setYear(P,zt-Math.ceil((zn*Qn*vi-ko)/2)),Lr=function(Vr){var Kr,cn=G.getYear(Vr),Tn=cn+d;return Kr={},Object(Ze.a)(Kr,"".concat(ke,"-in-view"),zt<=cn&&Tn<=er),Object(Ze.a)(Kr,"".concat(ke,"-selected"),cn===pt),Kr};return T.createElement(Rn,Object(Be.a)({},f,{rowNum:Qn,colNum:zn,baseDate:gr,getCellText:function(Vr){var Kr=G.getYear(Vr);return"".concat(Kr,"-").concat(Kr+d)},getCellClassName:Lr,getCellDate:function(Vr,Kr){return G.addYear(Vr,Kr*vi)}}))}var Ca=Ma,ia=r("KQm4"),_a=r("wgJM"),$a=r("x/xZ"),ra=new Map;function ni(f,d){var C;function P(){Object($a.a)(f)?d():C=Object(_a.a)(function(){P()})}return P(),function(){_a.a.cancel(C)}}function Da(f,d,C){if(ra.get(f)&&cancelAnimationFrame(ra.get(f)),C<=0){ra.set(f,requestAnimationFrame(function(){f.scrollTop=d}));return}var P=d-f.scrollTop,G=P/C*10;ra.set(f,requestAnimationFrame(function(){f.scrollTop+=G,f.scrollTop!==d&&Da(f,d,C-10)}))}function Fa(f,d){var C=d.onLeftRight,P=d.onCtrlLeftRight,G=d.onUpDown,ke=d.onPageUpDown,qe=d.onEnter,pt=f.which,zt=f.ctrlKey,er=f.metaKey;switch(pt){case xe.a.LEFT:if(zt||er){if(P)return P(-1),!0}else if(C)return C(-1),!0;break;case xe.a.RIGHT:if(zt||er){if(P)return P(1),!0}else if(C)return C(1),!0;break;case xe.a.UP:if(G)return G(-1),!0;break;case xe.a.DOWN:if(G)return G(1),!0;break;case xe.a.PAGE_UP:if(ke)return ke(-1),!0;break;case xe.a.PAGE_DOWN:if(ke)return ke(1),!0;break;case xe.a.ENTER:if(qe)return qe(),!0;break}return!1}function ba(f,d,C,P){var G=f;if(!G)switch(d){case"time":G=P?"hh:mm:ss a":"HH:mm:ss";break;case"week":G="gggg-wo";break;case"month":G="YYYY-MM";break;case"quarter":G="YYYY-[Q]Q";break;case"year":G="YYYY";break;default:G=C?"YYYY-MM-DD HH:mm:ss":"YYYY-MM-DD"}return G}function Oi(f,d,C){var P=f==="time"?8:10,G=typeof d=="function"?d(C.getNow()).length:d.length;return Math.max(P,G)+2}var Do=null,Li=new Set;function Ui(f){return!Do&&typeof window!="undefined"&&window.addEventListener&&(Do=function(C){Object(ia.a)(Li).forEach(function(P){P(C)})},window.addEventListener("mousedown",Do)),Li.add(f),function(){Li.delete(f),Li.size===0&&(window.removeEventListener("mousedown",Do),Do=null)}}function Na(f){var d=f.target;if(f.composed&&d.shadowRoot){var C;return((C=f.composedPath)===null||C===void 0?void 0:C.call(f)[0])||d}return d}var wa=function(d){return d==="month"||d==="date"?"year":d},ga=function(d){return d==="date"?"month":d},pi=function(d){return d==="month"||d==="date"?"quarter":d},_o=function(d){return d==="date"?"week":d},To={year:wa,month:ga,quarter:pi,week:_o,time:null,date:null};function so(f,d){return f.some(function(C){return C&&C.contains(d)})}var vi=10,ko=vi*10;function bo(f){var d=f.prefixCls,C=f.onViewDateChange,P=f.generateConfig,G=f.viewDate,ke=f.operationRef,qe=f.onSelect,pt=f.onPanelChange,zt="".concat(d,"-decade-panel");ke.current={onKeyDown:function(Or){return Fa(Or,{onLeftRight:function(Kr){qe(P.addYear(G,Kr*vi),"key")},onCtrlLeftRight:function(Kr){qe(P.addYear(G,Kr*ko),"key")},onUpDown:function(Kr){qe(P.addYear(G,Kr*vi*zn),"key")},onEnter:function(){pt("year",G)}})}};var er=function(Or){var Vr=P.addYear(G,Or*ko);C(Vr),pt(null,Vr)},gr=function(Or){qe(Or,"mouse"),pt("year",Or)};return T.createElement("div",{className:zt},T.createElement(Dr,Object(Be.a)({},f,{prefixCls:d,onPrevDecades:function(){er(-1)},onNextDecades:function(){er(1)}})),T.createElement(Ca,Object(Be.a)({},f,{prefixCls:d,onSelect:gr})))}var Ba=bo,Pa=7;function lo(f,d){if(!f&&!d)return!0;if(!f||!d)return!1}function No(f,d,C){var P=lo(d,C);if(typeof P=="boolean")return P;var G=Math.floor(f.getYear(d)/10),ke=Math.floor(f.getYear(C)/10);return G===ke}function La(f,d,C){var P=lo(d,C);return typeof P=="boolean"?P:f.getYear(d)===f.getYear(C)}function mr(f,d){var C=Math.floor(f.getMonth(d)/3);return C+1}function Wt(f,d,C){var P=lo(d,C);return typeof P=="boolean"?P:La(f,d,C)&&mr(f,d)===mr(f,C)}function vr(f,d,C){var P=lo(d,C);return typeof P=="boolean"?P:La(f,d,C)&&f.getMonth(d)===f.getMonth(C)}function un(f,d,C){var P=lo(d,C);return typeof P=="boolean"?P:f.getYear(d)===f.getYear(C)&&f.getMonth(d)===f.getMonth(C)&&f.getDate(d)===f.getDate(C)}function va(f,d,C){var P=lo(d,C);return typeof P=="boolean"?P:f.getHour(d)===f.getHour(C)&&f.getMinute(d)===f.getMinute(C)&&f.getSecond(d)===f.getSecond(C)}function qa(f,d,C,P){var G=lo(C,P);return typeof G=="boolean"?G:f.locale.getWeek(d,C)===f.locale.getWeek(d,P)}function mi(f,d,C){return un(f,d,C)&&va(f,d,C)}function ys(f,d,C,P){return!d||!C||!P?!1:!un(f,d,P)&&!un(f,C,P)&&f.isAfter(P,d)&&f.isAfter(C,P)}function cl(f,d,C){var P=d.locale.getWeekFirstDay(f),G=d.setDate(C,1),ke=d.getWeekDay(G),qe=d.addDate(G,P-ke);return d.getMonth(qe)===d.getMonth(C)&&d.getDate(qe)>1&&(qe=d.addDate(qe,-7)),qe}function gl(f,d,C){var P=arguments.length>3&&arguments[3]!==void 0?arguments[3]:1;switch(d){case"year":return C.addYear(f,P*10);case"quarter":case"month":return C.addYear(f,P);default:return C.addMonth(f,P)}}function Es(f,d){var C=d.generateConfig,P=d.locale,G=d.format;return typeof G=="function"?G(f):C.locale.format(P.locale,f,G)}function tl(f,d){var C=d.generateConfig,P=d.locale,G=d.formatList;return!f||typeof G[0]=="function"?null:C.locale.parse(P.locale,f,G)}function fu(f){var d=f.cellDate,C=f.mode,P=f.disabledDate,G=f.generateConfig;if(!P)return!1;var ke=function(Kr,cn,Tn){for(var xa=cn;xa<=Tn;){var za=void 0;switch(Kr){case"date":{if(za=G.setDate(d,xa),!P(za))return!1;break}case"month":{if(za=G.setMonth(d,xa),!fu({cellDate:za,mode:"month",generateConfig:G,disabledDate:P}))return!1;break}case"year":{if(za=G.setYear(d,xa),!fu({cellDate:za,mode:"year",generateConfig:G,disabledDate:P}))return!1;break}}xa+=1}return!0};switch(C){case"date":case"week":return P(d);case"month":{var qe=1,pt=G.getDate(G.getEndDate(d));return ke("date",qe,pt)}case"quarter":{var zt=Math.floor(G.getMonth(d)/3)*3,er=zt+2;return ke("month",zt,er)}case"year":return ke("month",0,11);case"decade":{var gr=G.getYear(d),Lr=Math.floor(gr/vi)*vi,Or=Lr+vi-1;return ke("year",Lr,Or)}}}function vc(f){var d=T.useContext(dt),C=d.hideHeader;if(C)return null;var P=f.prefixCls,G=f.generateConfig,ke=f.locale,qe=f.value,pt=f.format,zt="".concat(P,"-header");return T.createElement(nr,{prefixCls:zt},qe?Es(qe,{locale:ke,format:pt,generateConfig:G}):"\xA0")}var of=vc,ku=r("YrtM");function Wl(f){var d=f.prefixCls,C=f.units,P=f.onSelect,G=f.value,ke=f.active,qe=f.hideDisabledOptions,pt="".concat(d,"-cell"),zt=T.useContext(dt),er=zt.open,gr=Object(T.useRef)(null),Lr=Object(T.useRef)(new Map),Or=Object(T.useRef)();return Object(T.useLayoutEffect)(function(){var Vr=Lr.current.get(G);Vr&&er!==!1&&Da(gr.current,Vr.offsetTop,120)},[G]),Object(T.useLayoutEffect)(function(){if(er){var Vr=Lr.current.get(G);Vr&&(Or.current=ni(Vr,function(){Da(gr.current,Vr.offsetTop,0)}))}return function(){var Kr;(Kr=Or.current)===null||Kr===void 0||Kr.call(Or)}},[er]),T.createElement("ul",{className:ye()("".concat(d,"-column"),Object(Ze.a)({},"".concat(d,"-column-active"),ke)),ref:gr,style:{position:"relative"}},C.map(function(Vr){var Kr;return qe&&Vr.disabled?null:T.createElement("li",{key:Vr.value,ref:function(Tn){Lr.current.set(Vr.value,Tn)},className:ye()(pt,(Kr={},Object(Ze.a)(Kr,"".concat(pt,"-disabled"),Vr.disabled),Object(Ze.a)(Kr,"".concat(pt,"-selected"),G===Vr.value),Kr)),onClick:function(){Vr.disabled||P(Vr.value)}},T.createElement("div",{className:"".concat(pt,"-inner")},Vr.label))}))}var ql=Wl;function al(f,d){for(var C=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"0",P=String(f);P.length<d;)P="".concat(C).concat(f);return P}var du=function(){for(var d=arguments.length,C=new Array(d),P=0;P<d;P++)C[P]=arguments[P];return C};function Bu(f){return f==null?[]:Array.isArray(f)?f:[f]}function Hc(f){var d={};return Object.keys(f).forEach(function(C){(C.substr(0,5)==="data-"||C.substr(0,5)==="aria-"||C==="role"||C==="name")&&C.substr(0,7)!=="data-__"&&(d[C]=f[C])}),d}function ps(f,d){return f?f[d]:null}function Bs(f,d,C){var P=[ps(f,0),ps(f,1)];return P[C]=typeof d=="function"?d(P[C]):d,!P[0]&&!P[1]?null:P}function tu(f,d){if(f.length!==d.length)return!0;for(var C=0;C<f.length;C+=1)if(f[C].disabled!==d[C].disabled)return!0;return!1}function il(f,d,C,P){for(var G=[],ke=f;ke<=d;ke+=C)G.push({label:al(ke,2),value:ke,disabled:(P||[]).includes(ke)});return G}function fl(f){var d=f.generateConfig,C=f.prefixCls,P=f.operationRef,G=f.activeColumnIndex,ke=f.value,qe=f.showHour,pt=f.showMinute,zt=f.showSecond,er=f.use12Hours,gr=f.hourStep,Lr=gr===void 0?1:gr,Or=f.minuteStep,Vr=Or===void 0?1:Or,Kr=f.secondStep,cn=Kr===void 0?1:Kr,Tn=f.disabledHours,xa=f.disabledMinutes,za=f.disabledSeconds,zi=f.hideDisabledOptions,yo=f.onSelect,Fi=[],ci="".concat(C,"-content"),as="".concat(C,"-time-panel"),Ro,gs=ke?d.getHour(ke):-1,lu=gs,lc=ke?d.getMinute(ke):-1,ud=ke?d.getSecond(ke):-1,Ec=function(lh,Ch,rv,dp){var Hh=ke||d.getNow(),hp=Math.max(0,Ch),Im=Math.max(0,rv),Mg=Math.max(0,dp);return Hh=Pr(d,Hh,!er||!lh?hp:hp+12,Im,Mg),Hh},Ff=il(0,23,Lr,Tn&&Tn()),cd=Object(ku.a)(function(){return Ff},Ff,tu);er&&(Ro=lu>=12,lu%=12);var Sc=T.useMemo(function(){if(!er)return[!1,!1];var vu=[!0,!0];return cd.forEach(function(lh){var Ch=lh.disabled,rv=lh.value;Ch||(rv>=12?vu[1]=!1:vu[0]=!1)}),vu},[er,cd]),sh=Object(rt.a)(Sc,2),Yf=sh[0],kp=sh[1],Pv=T.useMemo(function(){return er?cd.filter(Ro?function(vu){return vu.value>=12}:function(vu){return vu.value<12}).map(function(vu){var lh=vu.value%12,Ch=lh===0?"12":al(lh,2);return Object(tn.a)(Object(tn.a)({},vu),{},{label:Ch,value:lh})}):cd},[er,Ro,cd]),Kv=il(0,59,Vr,xa&&xa(gs)),vg=il(0,59,cn,za&&za(gs,lc));P.current={onUpDown:function(lh){var Ch=Fi[G];if(Ch)for(var rv=Ch.units.findIndex(function(Im){return Im.value===Ch.value}),dp=Ch.units.length,Hh=1;Hh<dp;Hh+=1){var hp=Ch.units[(rv+lh*Hh+dp)%dp];if(hp.disabled!==!0){Ch.onSelect(hp.value);break}}}};function _m(vu,lh,Ch,rv,dp){vu!==!1&&Fi.push({node:T.cloneElement(lh,{prefixCls:as,value:Ch,active:G===Fi.length,onSelect:dp,units:rv,hideDisabledOptions:zi}),onSelect:dp,value:Ch,units:rv})}_m(qe,T.createElement(ql,{key:"hour"}),lu,Pv,function(vu){yo(Ec(Ro,vu,lc,ud),"mouse")}),_m(pt,T.createElement(ql,{key:"minute"}),lc,Kv,function(vu){yo(Ec(Ro,lu,vu,ud),"mouse")}),_m(zt,T.createElement(ql,{key:"second"}),ud,vg,function(vu){yo(Ec(Ro,lu,lc,vu),"mouse")});var tv=-1;return typeof Ro=="boolean"&&(tv=Ro?1:0),_m(er===!0,T.createElement(ql,{key:"12hours"}),tv,[{label:"AM",value:0,disabled:Yf},{label:"PM",value:1,disabled:kp}],function(vu){yo(Ec(!!vu,lu,lc,ud),"mouse")}),T.createElement("div",{className:ci},Fi.map(function(vu){var lh=vu.node;return lh}))}var Yh=fl,Fr=function(d){return d.filter(function(C){return C!==!1}).length};function Sn(f){var d=f.generateConfig,C=f.format,P=C===void 0?"HH:mm:ss":C,G=f.prefixCls,ke=f.active,qe=f.operationRef,pt=f.showHour,zt=f.showMinute,er=f.showSecond,gr=f.use12Hours,Lr=gr===void 0?!1:gr,Or=f.onSelect,Vr=f.value,Kr="".concat(G,"-time-panel"),cn=T.useRef(),Tn=T.useState(-1),xa=Object(rt.a)(Tn,2),za=xa[0],zi=xa[1],yo=Fr([pt,zt,er,Lr]);return qe.current={onKeyDown:function(ci){return Fa(ci,{onLeftRight:function(Ro){zi((za+Ro+yo)%yo)},onUpDown:function(Ro){za===-1?zi(0):cn.current&&cn.current.onUpDown(Ro)},onEnter:function(){Or(Vr||d.getNow(),"key"),zi(-1)}})},onBlur:function(){zi(-1)}},T.createElement("div",{className:ye()(Kr,Object(Ze.a)({},"".concat(Kr,"-active"),ke))},T.createElement(of,Object(Be.a)({},f,{format:P,prefixCls:G})),T.createElement(Yh,Object(Be.a)({},f,{prefixCls:G,activeColumnIndex:za,operationRef:cn})))}var Jn=Sn,xo=T.createContext({}),w=xo;function re(f){var d=f.cellPrefixCls,C=f.generateConfig,P=f.rangedValue,G=f.hoverRangedValue,ke=f.isInView,qe=f.isSameCell,pt=f.offsetCell,zt=f.today,er=f.value;function gr(Lr){var Or,Vr=pt(Lr,-1),Kr=pt(Lr,1),cn=ps(P,0),Tn=ps(P,1),xa=ps(G,0),za=ps(G,1),zi=ys(C,xa,za,Lr);function yo(lu){return qe(cn,lu)}function Fi(lu){return qe(Tn,lu)}var ci=qe(xa,Lr),as=qe(za,Lr),Ro=(zi||as)&&(!ke(Vr)||Fi(Vr)),gs=(zi||ci)&&(!ke(Kr)||yo(Kr));return Or={},Object(Ze.a)(Or,"".concat(d,"-in-view"),ke(Lr)),Object(Ze.a)(Or,"".concat(d,"-in-range"),ys(C,cn,Tn,Lr)),Object(Ze.a)(Or,"".concat(d,"-range-start"),yo(Lr)),Object(Ze.a)(Or,"".concat(d,"-range-end"),Fi(Lr)),Object(Ze.a)(Or,"".concat(d,"-range-start-single"),yo(Lr)&&!Tn),Object(Ze.a)(Or,"".concat(d,"-range-end-single"),Fi(Lr)&&!cn),Object(Ze.a)(Or,"".concat(d,"-range-start-near-hover"),yo(Lr)&&(qe(Vr,xa)||ys(C,xa,za,Vr))),Object(Ze.a)(Or,"".concat(d,"-range-end-near-hover"),Fi(Lr)&&(qe(Kr,za)||ys(C,xa,za,Kr))),Object(Ze.a)(Or,"".concat(d,"-range-hover"),zi),Object(Ze.a)(Or,"".concat(d,"-range-hover-start"),ci),Object(Ze.a)(Or,"".concat(d,"-range-hover-end"),as),Object(Ze.a)(Or,"".concat(d,"-range-hover-edge-start"),Ro),Object(Ze.a)(Or,"".concat(d,"-range-hover-edge-end"),gs),Object(Ze.a)(Or,"".concat(d,"-range-hover-edge-start-near-range"),Ro&&qe(Vr,Tn)),Object(Ze.a)(Or,"".concat(d,"-range-hover-edge-end-near-range"),gs&&qe(Kr,cn)),Object(Ze.a)(Or,"".concat(d,"-today"),qe(zt,Lr)),Object(Ze.a)(Or,"".concat(d,"-selected"),qe(er,Lr)),Or}return gr}function Qe(f){var d=f.prefixCls,C=f.generateConfig,P=f.prefixColumn,G=f.locale,ke=f.rowCount,qe=f.viewDate,pt=f.value,zt=f.dateRender,er=T.useContext(w),gr=er.rangedValue,Lr=er.hoverRangedValue,Or=cl(G.locale,C,qe),Vr="".concat(d,"-cell"),Kr=C.locale.getWeekFirstDay(G.locale),cn=C.getNow(),Tn=[],xa=G.shortWeekDays||(C.locale.getShortWeekDays?C.locale.getShortWeekDays(G.locale):[]);P&&Tn.push(T.createElement("th",{key:"empty","aria-label":"empty cell"}));for(var za=0;za<Pa;za+=1)Tn.push(T.createElement("th",{key:za},xa[(za+Kr)%Pa]));var zi=re({cellPrefixCls:Vr,today:cn,value:pt,generateConfig:C,rangedValue:P?null:gr,hoverRangedValue:P?null:Lr,isSameCell:function(ci,as){return un(C,ci,as)},isInView:function(ci){return vr(C,ci,qe)},offsetCell:function(ci,as){return C.addDate(ci,as)}}),yo=zt?function(Fi){return zt(Fi,cn)}:void 0;return T.createElement(Rn,Object(Be.a)({},f,{rowNum:ke,colNum:Pa,baseDate:Or,getCellNode:yo,getCellText:C.getDate,getCellClassName:zi,getCellDate:C.addDate,titleCell:function(ci){return Es(ci,{locale:G,format:"YYYY-MM-DD",generateConfig:C})},headerCells:Tn}))}var Se=Qe;function jt(f){var d=f.prefixCls,C=f.generateConfig,P=f.locale,G=f.viewDate,ke=f.onNextMonth,qe=f.onPrevMonth,pt=f.onNextYear,zt=f.onPrevYear,er=f.onYearClick,gr=f.onMonthClick,Lr=T.useContext(dt),Or=Lr.hideHeader;if(Or)return null;var Vr="".concat(d,"-header"),Kr=P.shortMonths||(C.locale.getShortMonths?C.locale.getShortMonths(P.locale):[]),cn=C.getMonth(G),Tn=T.createElement("button",{type:"button",key:"year",onClick:er,tabIndex:-1,className:"".concat(d,"-year-btn")},Es(G,{locale:P,format:P.yearFormat,generateConfig:C})),xa=T.createElement("button",{type:"button",key:"month",onClick:gr,tabIndex:-1,className:"".concat(d,"-month-btn")},P.monthFormat?Es(G,{locale:P,format:P.monthFormat,generateConfig:C}):Kr[cn]),za=P.monthBeforeYear?[xa,Tn]:[Tn,xa];return T.createElement(nr,Object(Be.a)({},f,{prefixCls:Vr,onSuperPrev:zt,onPrev:qe,onNext:ke,onSuperNext:pt}),za)}var br=jt,Yr=6;function fn(f){var d=f.prefixCls,C=f.panelName,P=C===void 0?"date":C,G=f.keyboardConfig,ke=f.active,qe=f.operationRef,pt=f.generateConfig,zt=f.value,er=f.viewDate,gr=f.onViewDateChange,Lr=f.onPanelChange,Or=f.onSelect,Vr="".concat(d,"-").concat(P,"-panel");qe.current={onKeyDown:function(xa){return Fa(xa,Object(tn.a)({onLeftRight:function(zi){Or(pt.addDate(zt||er,zi),"key")},onCtrlLeftRight:function(zi){Or(pt.addYear(zt||er,zi),"key")},onUpDown:function(zi){Or(pt.addDate(zt||er,zi*Pa),"key")},onPageUpDown:function(zi){Or(pt.addMonth(zt||er,zi),"key")}},G))}};var Kr=function(xa){var za=pt.addYear(er,xa);gr(za),Lr(null,za)},cn=function(xa){var za=pt.addMonth(er,xa);gr(za),Lr(null,za)};return T.createElement("div",{className:ye()(Vr,Object(Ze.a)({},"".concat(Vr,"-active"),ke))},T.createElement(br,Object(Be.a)({},f,{prefixCls:d,value:zt,viewDate:er,onPrevYear:function(){Kr(-1)},onNextYear:function(){Kr(1)},onPrevMonth:function(){cn(-1)},onNextMonth:function(){cn(1)},onMonthClick:function(){Lr("month",er)},onYearClick:function(){Lr("year",er)}})),T.createElement(Se,Object(Be.a)({},f,{onSelect:function(xa){return Or(xa,"mouse")},prefixCls:d,value:zt,viewDate:er,rowCount:Yr})))}var En=fn,ma=du("date","time");function Ia(f){var d=f.prefixCls,C=f.operationRef,P=f.generateConfig,G=f.value,ke=f.defaultValue,qe=f.disabledTime,pt=f.showTime,zt=f.onSelect,er="".concat(d,"-datetime-panel"),gr=T.useState(null),Lr=Object(rt.a)(gr,2),Or=Lr[0],Vr=Lr[1],Kr=T.useRef({}),cn=T.useRef({}),Tn=Object(Pe.a)(pt)==="object"?Object(tn.a)({},pt):{};function xa(Fi){var ci=ma.indexOf(Or)+Fi,as=ma[ci]||null;return as}var za=function(ci){cn.current.onBlur&&cn.current.onBlur(ci),Vr(null)};C.current={onKeyDown:function(ci){if(ci.which===xe.a.TAB){var as=xa(ci.shiftKey?-1:1);return Vr(as),as&&ci.preventDefault(),!0}if(Or){var Ro=Or==="date"?Kr:cn;return Ro.current&&Ro.current.onKeyDown&&Ro.current.onKeyDown(ci),!0}return[xe.a.LEFT,xe.a.RIGHT,xe.a.UP,xe.a.DOWN].includes(ci.which)?(Vr("date"),!0):!1},onBlur:za,onClose:za};var zi=function(ci,as){var Ro=ci;as==="date"&&!G&&Tn.defaultValue?(Ro=P.setHour(Ro,P.getHour(Tn.defaultValue)),Ro=P.setMinute(Ro,P.getMinute(Tn.defaultValue)),Ro=P.setSecond(Ro,P.getSecond(Tn.defaultValue))):as==="time"&&!G&&ke&&(Ro=P.setYear(Ro,P.getYear(ke)),Ro=P.setMonth(Ro,P.getMonth(ke)),Ro=P.setDate(Ro,P.getDate(ke))),zt&&zt(Ro,"mouse")},yo=qe?qe(G||null):{};return T.createElement("div",{className:ye()(er,Object(Ze.a)({},"".concat(er,"-active"),Or))},T.createElement(En,Object(Be.a)({},f,{operationRef:Kr,active:Or==="date",onSelect:function(ci){zi(Wr(P,ci,pt&&Object(Pe.a)(pt)==="object"?pt.defaultValue:null),"date")}})),T.createElement(Jn,Object(Be.a)({},f,{format:void 0},Tn,yo,{defaultValue:void 0,operationRef:cn,active:Or==="time",onSelect:function(ci){zi(ci,"time")}})))}var Co=Ia;function $o(f){var d=f.prefixCls,C=f.generateConfig,P=f.locale,G=f.value,ke="".concat(d,"-cell"),qe=function(gr){return T.createElement("td",{key:"week",className:ye()(ke,"".concat(ke,"-week"))},C.locale.getWeek(P.locale,gr))},pt="".concat(d,"-week-panel-row"),zt=function(gr){return ye()(pt,Object(Ze.a)({},"".concat(pt,"-selected"),qa(C,P.locale,G,gr)))};return T.createElement(En,Object(Be.a)({},f,{panelName:"week",prefixColumn:qe,rowClassName:zt,keyboardConfig:{onLeftRight:null}}))}var Zo=$o;function Hs(f){var d=f.prefixCls,C=f.generateConfig,P=f.locale,G=f.viewDate,ke=f.onNextYear,qe=f.onPrevYear,pt=f.onYearClick,zt=T.useContext(dt),er=zt.hideHeader;if(er)return null;var gr="".concat(d,"-header");return T.createElement(nr,Object(Be.a)({},f,{prefixCls:gr,onSuperPrev:qe,onSuperNext:ke}),T.createElement("button",{type:"button",onClick:pt,className:"".concat(d,"-year-btn")},Es(G,{locale:P,format:P.yearFormat,generateConfig:C})))}var ms=Hs,Ws=3,zu=4;function Pc(f){var d=f.prefixCls,C=f.locale,P=f.value,G=f.viewDate,ke=f.generateConfig,qe=f.monthCellRender,pt=T.useContext(w),zt=pt.rangedValue,er=pt.hoverRangedValue,gr="".concat(d,"-cell"),Lr=re({cellPrefixCls:gr,value:P,generateConfig:ke,rangedValue:zt,hoverRangedValue:er,isSameCell:function(Tn,xa){return vr(ke,Tn,xa)},isInView:function(){return!0},offsetCell:function(Tn,xa){return ke.addMonth(Tn,xa)}}),Or=C.shortMonths||(ke.locale.getShortMonths?ke.locale.getShortMonths(C.locale):[]),Vr=ke.setMonth(G,0),Kr=qe?function(cn){return qe(cn,C)}:void 0;return T.createElement(Rn,Object(Be.a)({},f,{rowNum:zu,colNum:Ws,baseDate:Vr,getCellNode:Kr,getCellText:function(Tn){return C.monthFormat?Es(Tn,{locale:C,format:C.monthFormat,generateConfig:ke}):Or[ke.getMonth(Tn)]},getCellClassName:Lr,getCellDate:ke.addMonth,titleCell:function(Tn){return Es(Tn,{locale:C,format:"YYYY-MM",generateConfig:ke})}}))}var Ys=Pc;function Ef(f){var d=f.prefixCls,C=f.operationRef,P=f.onViewDateChange,G=f.generateConfig,ke=f.value,qe=f.viewDate,pt=f.onPanelChange,zt=f.onSelect,er="".concat(d,"-month-panel");C.current={onKeyDown:function(Or){return Fa(Or,{onLeftRight:function(Kr){zt(G.addMonth(ke||qe,Kr),"key")},onCtrlLeftRight:function(Kr){zt(G.addYear(ke||qe,Kr),"key")},onUpDown:function(Kr){zt(G.addMonth(ke||qe,Kr*Ws),"key")},onEnter:function(){pt("date",ke||qe)}})}};var gr=function(Or){var Vr=G.addYear(qe,Or);P(Vr),pt(null,Vr)};return T.createElement("div",{className:er},T.createElement(ms,Object(Be.a)({},f,{prefixCls:d,onPrevYear:function(){gr(-1)},onNextYear:function(){gr(1)},onYearClick:function(){pt("year",qe)}})),T.createElement(Ys,Object(Be.a)({},f,{prefixCls:d,onSelect:function(Or){zt(Or,"mouse"),pt("date",Or)}})))}var hd=Ef;function Bf(f){var d=f.prefixCls,C=f.generateConfig,P=f.locale,G=f.viewDate,ke=f.onNextYear,qe=f.onPrevYear,pt=f.onYearClick,zt=T.useContext(dt),er=zt.hideHeader;if(er)return null;var gr="".concat(d,"-header");return T.createElement(nr,Object(Be.a)({},f,{prefixCls:gr,onSuperPrev:qe,onSuperNext:ke}),T.createElement("button",{type:"button",onClick:pt,className:"".concat(d,"-year-btn")},Es(G,{locale:P,format:P.yearFormat,generateConfig:C})))}var Ms=Bf,zf=4,wh=1;function _d(f){var d=f.prefixCls,C=f.locale,P=f.value,G=f.viewDate,ke=f.generateConfig,qe=T.useContext(w),pt=qe.rangedValue,zt=qe.hoverRangedValue,er="".concat(d,"-cell"),gr=re({cellPrefixCls:er,value:P,generateConfig:ke,rangedValue:pt,hoverRangedValue:zt,isSameCell:function(Vr,Kr){return Wt(ke,Vr,Kr)},isInView:function(){return!0},offsetCell:function(Vr,Kr){return ke.addMonth(Vr,Kr*3)}}),Lr=ke.setDate(ke.setMonth(G,0),1);return T.createElement(Rn,Object(Be.a)({},f,{rowNum:wh,colNum:zf,baseDate:Lr,getCellText:function(Vr){return Es(Vr,{locale:C,format:C.quarterFormat||"[Q]Q",generateConfig:ke})},getCellClassName:gr,getCellDate:function(Vr,Kr){return ke.addMonth(Vr,Kr*3)},titleCell:function(Vr){return Es(Vr,{locale:C,format:"YYYY-[Q]Q",generateConfig:ke})}}))}var zl=_d;function Uf(f){var d=f.prefixCls,C=f.operationRef,P=f.onViewDateChange,G=f.generateConfig,ke=f.value,qe=f.viewDate,pt=f.onPanelChange,zt=f.onSelect,er="".concat(d,"-quarter-panel");C.current={onKeyDown:function(Or){return Fa(Or,{onLeftRight:function(Kr){zt(G.addMonth(ke||qe,Kr*3),"key")},onCtrlLeftRight:function(Kr){zt(G.addYear(ke||qe,Kr),"key")},onUpDown:function(Kr){zt(G.addYear(ke||qe,Kr),"key")}})}};var gr=function(Or){var Vr=G.addYear(qe,Or);P(Vr),pt(null,Vr)};return T.createElement("div",{className:er},T.createElement(Ms,Object(Be.a)({},f,{prefixCls:d,onPrevYear:function(){gr(-1)},onNextYear:function(){gr(1)},onYearClick:function(){pt("year",qe)}})),T.createElement(zl,Object(Be.a)({},f,{prefixCls:d,onSelect:function(Or){zt(Or,"mouse")}})))}var $h=Uf;function Sf(f){var d=f.prefixCls,C=f.generateConfig,P=f.viewDate,G=f.onPrevDecade,ke=f.onNextDecade,qe=f.onDecadeClick,pt=T.useContext(dt),zt=pt.hideHeader;if(zt)return null;var er="".concat(d,"-header"),gr=C.getYear(P),Lr=Math.floor(gr/Gc)*Gc,Or=Lr+Gc-1;return T.createElement(nr,Object(Be.a)({},f,{prefixCls:er,onSuperPrev:G,onSuperNext:ke}),T.createElement("button",{type:"button",onClick:qe,className:"".concat(d,"-decade-btn")},Lr,"-",Or))}var Gl=Sf,Wc=3,mc=4;function pd(f){var d=f.prefixCls,C=f.value,P=f.viewDate,G=f.locale,ke=f.generateConfig,qe=T.useContext(w),pt=qe.rangedValue,zt=qe.hoverRangedValue,er="".concat(d,"-cell"),gr=ke.getYear(P),Lr=Math.floor(gr/Gc)*Gc,Or=Lr+Gc-1,Vr=ke.setYear(P,Lr-Math.ceil((Wc*mc-Gc)/2)),Kr=function(xa){var za=ke.getYear(xa);return Lr<=za&&za<=Or},cn=re({cellPrefixCls:er,value:C,generateConfig:ke,rangedValue:pt,hoverRangedValue:zt,isSameCell:function(xa,za){return La(ke,xa,za)},isInView:Kr,offsetCell:function(xa,za){return ke.addYear(xa,za)}});return T.createElement(Rn,Object(Be.a)({},f,{rowNum:mc,colNum:Wc,baseDate:Vr,getCellText:ke.getYear,getCellClassName:cn,getCellDate:ke.addYear,titleCell:function(xa){return Es(xa,{locale:G,format:"YYYY",generateConfig:ke})}}))}var Vf=pd,Gc=10;function vd(f){var d=f.prefixCls,C=f.operationRef,P=f.onViewDateChange,G=f.generateConfig,ke=f.value,qe=f.viewDate,pt=f.sourceMode,zt=f.onSelect,er=f.onPanelChange,gr="".concat(d,"-year-panel");C.current={onKeyDown:function(Vr){return Fa(Vr,{onLeftRight:function(cn){zt(G.addYear(ke||qe,cn),"key")},onCtrlLeftRight:function(cn){zt(G.addYear(ke||qe,cn*Gc),"key")},onUpDown:function(cn){zt(G.addYear(ke||qe,cn*Wc),"key")},onEnter:function(){er(pt==="date"?"date":"month",ke||qe)}})}};var Lr=function(Vr){var Kr=G.addYear(qe,Vr*10);P(Kr),er(null,Kr)};return T.createElement("div",{className:gr},T.createElement(Gl,Object(Be.a)({},f,{prefixCls:d,onPrevDecade:function(){Lr(-1)},onNextDecade:function(){Lr(1)},onDecadeClick:function(){er("decade",qe)}})),T.createElement(Vf,Object(Be.a)({},f,{prefixCls:d,onSelect:function(Vr){er(pt==="date"?"date":"month",Vr),zt(Vr,"mouse")}})))}var Ll=vd;function Yd(f,d,C){return C?T.createElement("div",{className:"".concat(f,"-footer-extra")},C(d)):null}function Up(f){var d=f.prefixCls,C=f.rangeList,P=C===void 0?[]:C,G=f.components,ke=G===void 0?{}:G,qe=f.needConfirmButton,pt=f.onNow,zt=f.onOk,er=f.okDisabled,gr=f.showNow,Lr=f.locale,Or,Vr;if(P.length){var Kr=ke.rangeItem||"span";Or=T.createElement(T.Fragment,null,P.map(function(Tn){var xa=Tn.label,za=Tn.onClick,zi=Tn.onMouseEnter,yo=Tn.onMouseLeave;return T.createElement("li",{key:xa,className:"".concat(d,"-preset")},T.createElement(Kr,{onClick:za,onMouseEnter:zi,onMouseLeave:yo},xa))}))}if(qe){var cn=ke.button||"button";pt&&!Or&&gr!==!1&&(Or=T.createElement("li",{className:"".concat(d,"-now")},T.createElement("a",{className:"".concat(d,"-now-btn"),onClick:pt},Lr.now))),Vr=qe&&T.createElement("li",{className:"".concat(d,"-ok")},T.createElement(cn,{disabled:er,onClick:zt},Lr.ok))}return!Or&&!Vr?null:T.createElement("ul",{className:"".concat(d,"-ranges")},Or,Vr)}function $d(f){var d,C=f.prefixCls,P=C===void 0?"rc-picker":C,G=f.className,ke=f.style,qe=f.locale,pt=f.generateConfig,zt=f.value,er=f.defaultValue,gr=f.pickerValue,Lr=f.defaultPickerValue,Or=f.disabledDate,Vr=f.mode,Kr=f.picker,cn=Kr===void 0?"date":Kr,Tn=f.tabIndex,xa=Tn===void 0?0:Tn,za=f.showNow,zi=f.showTime,yo=f.showToday,Fi=f.renderExtraFooter,ci=f.hideHeader,as=f.onSelect,Ro=f.onChange,gs=f.onPanelChange,lu=f.onMouseDown,lc=f.onPickerValueChange,ud=f.onOk,Ec=f.components,Ff=f.direction,cd=f.hourStep,Sc=cd===void 0?1:cd,sh=f.minuteStep,Yf=sh===void 0?1:sh,kp=f.secondStep,Pv=kp===void 0?1:kp,Kv=cn==="date"&&!!zi||cn==="time",vg=24%Sc==0,_m=60%Yf==0,tv=60%Pv==0,vu=T.useContext(dt),lh=vu.operationRef,Ch=vu.panelRef,rv=vu.onSelect,dp=vu.hideRanges,Hh=vu.defaultOpenValue,hp=T.useContext(w),Im=hp.inRange,Mg=hp.panelPosition,Rm=hp.rangedValue,ty=hp.hoverRangedValue,Eh=T.useRef({}),Lm=T.useRef(!0),xy=Object(de.a)(null,{value:zt,defaultValue:er,postState:function(Oo){return!Oo&&Hh&&cn==="time"?Hh:Oo}}),ry=Object(rt.a)(xy,2),pp=ry[0],Zy=ry[1],Dm=Object(de.a)(null,{value:gr,defaultValue:Lr||pp,postState:function(Oo){var mu=pt.getNow();return Oo?!pp&&zi?Object(Pe.a)(zi)==="object"?Wr(pt,Array.isArray(Oo)?Oo[0]:Oo,zi.defaultValue||mu):er?Wr(pt,Array.isArray(Oo)?Oo[0]:Oo,er):Wr(pt,Array.isArray(Oo)?Oo[0]:Oo,mu):Oo:mu}}),Yy=Object(rt.a)(Dm,2),mg=Yy[0],Zv=Yy[1],Sh=function(Oo){Zv(Oo),lc&&lc(Oo)},wv=function(Oo){var mu=To[cn];return mu?mu(Oo):Oo},nv=Object(de.a)(function(){return cn==="time"?"time":wv("date")},{value:Vr}),_g=Object(rt.a)(nv,2),Bp=_g[0],Wh=_g[1];T.useEffect(function(){Wh(cn)},[cn]);var gg=T.useState(function(){return Bp}),Yv=Object(rt.a)(gg,2),$y=Yv[0],Ig=Yv[1],kl=function(Oo,mu){var Nm=wv(Oo||Bp);Ig(Bp),Wh(Nm),gs&&(Bp!==Nm||mi(pt,mg,mg))&&gs(mu,Nm)},av=function(Oo,mu){var Nm=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;(Bp===cn||Nm)&&(Zy(Oo),as&&as(Oo),rv&&rv(Oo,mu),Ro&&!mi(pt,Oo,pp)&&!(Or==null?void 0:Or(Oo))&&Ro(Oo))},$v=function(Oo){return Eh.current&&Eh.current.onKeyDown?([xe.a.LEFT,xe.a.RIGHT,xe.a.UP,xe.a.DOWN,xe.a.PAGE_UP,xe.a.PAGE_DOWN,xe.a.ENTER].includes(Oo.which)&&Oo.preventDefault(),Eh.current.onKeyDown(Oo)):(Object(ot.a)(!1,"Panel not correct handle keyDown event. Please help to fire issue about this."),!1)},Nf=function(Oo){Eh.current&&Eh.current.onBlur&&Eh.current.onBlur(Oo)};lh&&Mg!=="right"&&(lh.current={onKeyDown:$v,onClose:function(){Eh.current&&Eh.current.onClose&&Eh.current.onClose()}}),T.useEffect(function(){zt&&!Lm.current&&Zv(zt)},[zt]),T.useEffect(function(){Lm.current=!1},[]);var Xv,Gh=Object(tn.a)(Object(tn.a)({},f),{},{operationRef:Eh,prefixCls:P,viewDate:mg,value:pp,onViewDateChange:Sh,sourceMode:$y,onPanelChange:kl,disabledDate:Or});switch(delete Gh.onChange,delete Gh.onSelect,Bp){case"decade":Xv=T.createElement(Ba,Object(Be.a)({},Gh,{onSelect:function(Oo,mu){Sh(Oo),av(Oo,mu)}}));break;case"year":Xv=T.createElement(Ll,Object(Be.a)({},Gh,{onSelect:function(Oo,mu){Sh(Oo),av(Oo,mu)}}));break;case"month":Xv=T.createElement(hd,Object(Be.a)({},Gh,{onSelect:function(Oo,mu){Sh(Oo),av(Oo,mu)}}));break;case"quarter":Xv=T.createElement($h,Object(Be.a)({},Gh,{onSelect:function(Oo,mu){Sh(Oo),av(Oo,mu)}}));break;case"week":Xv=T.createElement(Zo,Object(Be.a)({},Gh,{onSelect:function(Oo,mu){Sh(Oo),av(Oo,mu)}}));break;case"time":delete Gh.showTime,Xv=T.createElement(Jn,Object(Be.a)({},Gh,Object(Pe.a)(zi)==="object"?zi:null,{onSelect:function(Oo,mu){Sh(Oo),av(Oo,mu)}}));break;default:zi?Xv=T.createElement(Co,Object(Be.a)({},Gh,{onSelect:function(Oo,mu){Sh(Oo),av(Oo,mu)}})):Xv=T.createElement(En,Object(Be.a)({},Gh,{onSelect:function(Oo,mu){Sh(Oo),av(Oo,mu)}}))}var Ad,Fm,g0=function(){var Oo=pt.getNow(),mu=an(pt.getHour(Oo),pt.getMinute(Oo),pt.getSecond(Oo),vg?Sc:1,_m?Yf:1,tv?Pv:1),Nm=Pr(pt,Oo,mu[0],mu[1],mu[2]);av(Nm,"submit")};dp||(Ad=Yd(P,Bp,Fi),Fm=Up({prefixCls:P,components:Ec,needConfirmButton:Kv,okDisabled:!pp||Or&&Or(pp),locale:qe,showNow:za,onNow:Kv&&g0,onOk:function(){pp&&(av(pp,"submit",!0),ud&&ud(pp))}}));var ny;if(yo&&Bp==="date"&&cn==="date"&&!zi){var Xy=pt.getNow(),qm="".concat(P,"-today-btn"),Cy=Or&&Or(Xy);ny=T.createElement("a",{className:ye()(qm,Cy&&"".concat(qm,"-disabled")),"aria-disabled":Cy,onClick:function(){Cy||av(Xy,"mouse",!0)}},qe.today)}return T.createElement(dt.Provider,{value:Object(tn.a)(Object(tn.a)({},vu),{},{mode:Bp,hideHeader:"hideHeader"in f?ci:vu.hideHeader,hidePrevBtn:Im&&Mg==="right",hideNextBtn:Im&&Mg==="left"})},T.createElement("div",{tabIndex:xa,className:ye()("".concat(P,"-panel"),G,(d={},Object(Ze.a)(d,"".concat(P,"-panel-has-range"),Rm&&Rm[0]&&Rm[1]),Object(Ze.a)(d,"".concat(P,"-panel-has-range-hover"),ty&&ty[0]&&ty[1]),Object(Ze.a)(d,"".concat(P,"-panel-rtl"),Ff==="rtl"),d)),style:ke,onKeyDown:$v,onBlur:Nf,onMouseDown:lu,ref:Ch},Xv,Ad||Fm||ny?T.createElement("div",{className:"".concat(P,"-footer")},Ad,Fm,ny):null))}var uc=$d,sv=r("uciX"),Vp={bottomLeft:{points:["tl","bl"],offset:[0,4],overflow:{adjustX:1,adjustY:1}},bottomRight:{points:["tr","br"],offset:[0,4],overflow:{adjustX:1,adjustY:1}},topLeft:{points:["bl","tl"],offset:[0,-4],overflow:{adjustX:0,adjustY:1}},topRight:{points:["br","tr"],offset:[0,-4],overflow:{adjustX:0,adjustY:1}}};function wc(f){var d,C=f.prefixCls,P=f.popupElement,G=f.popupStyle,ke=f.visible,qe=f.dropdownClassName,pt=f.dropdownAlign,zt=f.transitionName,er=f.getPopupContainer,gr=f.children,Lr=f.range,Or=f.popupPlacement,Vr=f.direction,Kr="".concat(C,"-dropdown"),cn=function(){return Or!==void 0?Or:Vr==="rtl"?"bottomRight":"bottomLeft"};return T.createElement(sv.a,{showAction:[],hideAction:[],popupPlacement:cn(),builtinPlacements:Vp,prefixCls:Kr,popupTransitionName:zt,popup:P,popupAlign:pt,popupVisible:ke,popupClassName:ye()(qe,(d={},Object(Ze.a)(d,"".concat(Kr,"-range"),Lr),Object(Ze.a)(d,"".concat(Kr,"-rtl"),Vr==="rtl"),d)),popupStyle:G,getPopupContainer:er},gr)}var Xf=wc;function Hf(f){var d=f.open,C=f.value,P=f.isClickOutside,G=f.triggerOpen,ke=f.forwardKeyDown,qe=f.onKeyDown,pt=f.blurToCancel,zt=f.onSubmit,er=f.onCancel,gr=f.onFocus,Lr=f.onBlur,Or=Object(T.useState)(!1),Vr=Object(rt.a)(Or,2),Kr=Vr[0],cn=Vr[1],Tn=Object(T.useState)(!1),xa=Object(rt.a)(Tn,2),za=xa[0],zi=xa[1],yo=Object(T.useRef)(!1),Fi=Object(T.useRef)(!1),ci=Object(T.useRef)(!1),as={onMouseDown:function(){cn(!0),G(!0)},onKeyDown:function(gs){var lu=function(){ci.current=!0};if(qe(gs,lu),!ci.current){switch(gs.which){case xe.a.ENTER:{d?zt()!==!1&&cn(!0):G(!0),gs.preventDefault();return}case xe.a.TAB:{Kr&&d&&!gs.shiftKey?(cn(!1),gs.preventDefault()):!Kr&&d&&!ke(gs)&&gs.shiftKey&&(cn(!0),gs.preventDefault());return}case xe.a.ESC:{cn(!0),er();return}}!d&&![xe.a.SHIFT].includes(gs.which)?G(!0):Kr||ke(gs)}},onFocus:function(gs){cn(!0),zi(!0),gr&&gr(gs)},onBlur:function(gs){if(yo.current||!P(document.activeElement)){yo.current=!1;return}pt?setTimeout(function(){for(var lu=document,lc=lu.activeElement;lc&&lc.shadowRoot;)lc=lc.shadowRoot.activeElement;P(lc)&&er()},0):d&&(G(!1),Fi.current&&zt()),zi(!1),Lr&&Lr(gs)}};return Object(T.useEffect)(function(){Fi.current=!1},[d]),Object(T.useEffect)(function(){Fi.current=!0},[C]),Object(T.useEffect)(function(){return Ui(function(Ro){var gs=Na(Ro);if(d){var lu=P(gs);lu?(!za||lu)&&G(!1):(yo.current=!0,requestAnimationFrame(function(){yo.current=!1}))}})}),[as,{focused:za,typing:Kr}]}function jd(f){var d=f.valueTexts,C=f.onTextChange,P=T.useState(""),G=Object(rt.a)(P,2),ke=G[0],qe=G[1],pt=T.useRef([]);pt.current=d;function zt(gr){qe(gr),C(gr)}function er(){qe(pt.current[0])}return T.useEffect(function(){d.every(function(gr){return gr!==ke})&&er()},[d.join("||")]),[ke,zt,er]}var Tc=r("Gytx"),Qf=r.n(Tc);function kd(f,d){var C=d.formatList,P=d.generateConfig,G=d.locale;return Object(ku.a)(function(){if(!f)return[[""],""];for(var ke="",qe=[],pt=0;pt<C.length;pt+=1){var zt=C[pt],er=Es(f,{generateConfig:P,locale:G,format:zt});qe.push(er),pt===0&&(ke=er)}return[qe,ke]},[f,C],function(ke,qe){return ke[0]!==qe[0]||!Qf()(ke[1],qe[1])})}function md(f,d){var C=d.formatList,P=d.generateConfig,G=d.locale,ke=Object(T.useState)(null),qe=Object(rt.a)(ke,2),pt=qe[0],zt=qe[1],er=Object(T.useRef)(null);function gr(Tn){var xa=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;if(cancelAnimationFrame(er.current),xa){zt(Tn);return}er.current=requestAnimationFrame(function(){zt(Tn)})}var Lr=kd(pt,{formatList:C,generateConfig:P,locale:G}),Or=Object(rt.a)(Lr,2),Vr=Or[1];function Kr(Tn){gr(Tn)}function cn(){var Tn=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1;gr(null,Tn)}return Object(T.useEffect)(function(){cn(!0)},[f]),Object(T.useEffect)(function(){return function(){return cancelAnimationFrame(er.current)}},[]),[Vr,Kr,cn]}function sf(f){var d,C=f.prefixCls,P=C===void 0?"rc-picker":C,G=f.id,ke=f.tabIndex,qe=f.style,pt=f.className,zt=f.dropdownClassName,er=f.dropdownAlign,gr=f.popupStyle,Lr=f.transitionName,Or=f.generateConfig,Vr=f.locale,Kr=f.inputReadOnly,cn=f.allowClear,Tn=f.autoFocus,xa=f.showTime,za=f.picker,zi=za===void 0?"date":za,yo=f.format,Fi=f.use12Hours,ci=f.value,as=f.defaultValue,Ro=f.open,gs=f.defaultOpen,lu=f.defaultOpenValue,lc=f.suffixIcon,ud=f.clearIcon,Ec=f.disabled,Ff=f.disabledDate,cd=f.placeholder,Sc=f.getPopupContainer,sh=f.pickerRef,Yf=f.panelRender,kp=f.onChange,Pv=f.onOpenChange,Kv=f.onFocus,vg=f.onBlur,_m=f.onMouseDown,tv=f.onMouseUp,vu=f.onMouseEnter,lh=f.onMouseLeave,Ch=f.onContextMenu,rv=f.onClick,dp=f.onKeyDown,Hh=f.onSelect,hp=f.direction,Im=f.autoComplete,Mg=Im===void 0?"off":Im,Rm=T.useRef(null),ty=zi==="date"&&!!xa||zi==="time",Eh=Bu(ba(yo,zi,xa,Fi)),Lm=T.useRef(null),xy=T.useRef(null),ry=T.useRef(null),pp=Object(de.a)(null,{value:ci,defaultValue:as}),Zy=Object(rt.a)(pp,2),Dm=Zy[0],Yy=Zy[1],mg=T.useState(Dm),Zv=Object(rt.a)(mg,2),Sh=Zv[0],wv=Zv[1],nv=T.useRef(null),_g=Object(de.a)(!1,{value:Ro,defaultValue:gs,postState:function(uu){return Ec?!1:uu},onChange:function(uu){Pv&&Pv(uu),!uu&&nv.current&&nv.current.onClose&&nv.current.onClose()}}),Bp=Object(rt.a)(_g,2),Wh=Bp[0],gg=Bp[1],Yv=kd(Sh,{formatList:Eh,generateConfig:Or,locale:Vr}),$y=Object(rt.a)(Yv,2),Ig=$y[0],kl=$y[1],av=jd({valueTexts:Ig,onTextChange:function(uu){var eg=tl(uu,{locale:Vr,formatList:Eh,generateConfig:Or});eg&&(!Ff||!Ff(eg))&&wv(eg)}}),$v=Object(rt.a)(av,3),Nf=$v[0],Xv=$v[1],Gh=$v[2],Ad=function(uu){wv(uu),Yy(uu),kp&&!mi(Or,Dm,uu)&&kp(uu,uu?Es(uu,{generateConfig:Or,locale:Vr,format:Eh[0]}):"")},Fm=function(uu){Ec&&uu||gg(uu)},g0=function(uu){return Wh&&nv.current&&nv.current.onKeyDown?nv.current.onKeyDown(uu):(Object(ot.a)(!1,"Picker not correct forward KeyDown operation. Please help to fire issue about this."),!1)},ny=function(){tv&&tv.apply(void 0,arguments),Rm.current&&(Rm.current.focus(),Fm(!0))},Xy=Hf({blurToCancel:ty,open:Wh,value:Nf,triggerOpen:Fm,forwardKeyDown:g0,isClickOutside:function(uu){return!so([Lm.current,xy.current,ry.current],uu)},onSubmit:function(){return!Sh||Ff&&Ff(Sh)?!1:(Ad(Sh),Fm(!1),Gh(),!0)},onCancel:function(){Fm(!1),wv(Dm),Gh()},onKeyDown:function(uu,eg){dp==null||dp(uu,eg)},onFocus:Kv,onBlur:vg}),qm=Object(rt.a)(Xy,2),Cy=qm[0],fd=qm[1],Oo=fd.focused,mu=fd.typing;T.useEffect(function(){Wh||(wv(Dm),!Ig.length||Ig[0]===""?Xv(""):kl!==Nf&&Gh())},[Wh,Ig]),T.useEffect(function(){Wh||Gh()},[zi]),T.useEffect(function(){wv(Dm)},[Dm]),sh&&(sh.current={focus:function(){Rm.current&&Rm.current.focus()},blur:function(){Rm.current&&Rm.current.blur()}});var Nm=md(Nf,{formatList:Eh,generateConfig:Or,locale:Vr}),Qy=Object(rt.a)(Nm,3),ay=Qy[0],iy=Qy[1],J0=Qy[2],Rg=Object(tn.a)(Object(tn.a)({},f),{},{className:void 0,style:void 0,pickerValue:void 0,onPickerValueChange:void 0,onChange:null}),y0=T.createElement(uc,Object(Be.a)({},Rg,{generateConfig:Or,className:ye()(Object(Ze.a)({},"".concat(P,"-panel-focused"),!mu)),value:Sh,locale:Vr,tabIndex:-1,onSelect:function(uu){Hh==null||Hh(uu),wv(uu)},direction:hp,onPanelChange:function(uu,eg){var e1=f.onPanelChange;J0(!0),e1==null||e1(uu,eg)}}));Yf&&(y0=Yf(y0));var rb=T.createElement("div",{className:"".concat(P,"-panel-container"),onMouseDown:function(uu){uu.preventDefault()}},y0),q0;lc&&(q0=T.createElement("span",{className:"".concat(P,"-suffix")},lc));var nb;cn&&Dm&&!Ec&&(nb=T.createElement("span",{onMouseDown:function(uu){uu.preventDefault(),uu.stopPropagation()},onMouseUp:function(uu){uu.preventDefault(),uu.stopPropagation(),Ad(null),Fm(!1)},className:"".concat(P,"-clear"),role:"button"},ud||T.createElement("span",{className:"".concat(P,"-clear-btn")})));var ab=function(uu,eg){(eg==="submit"||eg!=="key"&&!ty)&&(Ad(uu),Fm(!1))},Qv=hp==="rtl"?"bottomRight":"bottomLeft";return T.createElement(dt.Provider,{value:{operationRef:nv,hideHeader:zi==="time",panelRef:Lm,onSelect:ab,open:Wh,defaultOpenValue:lu,onDateMouseEnter:iy,onDateMouseLeave:J0}},T.createElement(Xf,{visible:Wh,popupElement:rb,popupStyle:gr,prefixCls:P,dropdownClassName:zt,dropdownAlign:er,getPopupContainer:Sc,transitionName:Lr,popupPlacement:Qv,direction:hp},T.createElement("div",{ref:ry,className:ye()(P,pt,(d={},Object(Ze.a)(d,"".concat(P,"-disabled"),Ec),Object(Ze.a)(d,"".concat(P,"-focused"),Oo),Object(Ze.a)(d,"".concat(P,"-rtl"),hp==="rtl"),d)),style:qe,onMouseDown:_m,onMouseUp:ny,onMouseEnter:vu,onMouseLeave:lh,onContextMenu:Ch,onClick:rv},T.createElement("div",{className:ye()("".concat(P,"-input"),Object(Ze.a)({},"".concat(P,"-input-placeholder"),!!ay)),ref:xy},T.createElement("input",Object(Be.a)({id:G,tabIndex:ke,disabled:Ec,readOnly:Kr||typeof Eh[0]=="function"||!mu,value:ay||Nf,onChange:function(uu){Xv(uu.target.value)},autoFocus:Tn,placeholder:cd,ref:Rm,title:Nf},Cy,{size:Oi(zi,Eh[0],Or)},Hc(f),{autoComplete:Mg})),q0,nb))))}var Xh=function(f){Object(zr.a)(C,f);var d=Object(qr.a)(C);function C(){var P;Object(Qt.a)(this,C);for(var G=arguments.length,ke=new Array(G),qe=0;qe<G;qe++)ke[qe]=arguments[qe];return P=d.call.apply(d,[this].concat(ke)),P.pickerRef=T.createRef(),P.focus=function(){P.pickerRef.current&&P.pickerRef.current.focus()},P.blur=function(){P.pickerRef.current&&P.pickerRef.current.blur()},P}return Object(ar.a)(C,[{key:"render",value:function(){return T.createElement(sf,Object(Be.a)({},this.props,{pickerRef:this.pickerRef}))}}]),C}(T.Component),Id=Xh;function gp(f,d,C){var P=f.picker,G=f.locale,ke=f.selectedValue,qe=f.disabledDate,pt=f.disabled,zt=f.generateConfig,er=ps(ke,0),gr=ps(ke,1);function Lr(Tn){return zt.locale.getWeekFirstDate(G.locale,Tn)}function Or(Tn){var xa=zt.getYear(Tn),za=zt.getMonth(Tn);return xa*100+za}function Vr(Tn){var xa=zt.getYear(Tn),za=mr(zt,Tn);return xa*10+za}var Kr=T.useCallback(function(Tn){if(qe&&qe(Tn))return!0;if(pt[1]&&gr)return!un(zt,Tn,gr)&&zt.isAfter(Tn,gr);if(d&&gr)switch(P){case"quarter":return Vr(Tn)>Vr(gr);case"month":return Or(Tn)>Or(gr);case"week":return Lr(Tn)>Lr(gr);default:return!un(zt,Tn,gr)&&zt.isAfter(Tn,gr)}return!1},[qe,pt[1],gr,d]),cn=T.useCallback(function(Tn){if(qe&&qe(Tn))return!0;if(pt[0]&&er)return!un(zt,Tn,gr)&&zt.isAfter(er,Tn);if(C&&er)switch(P){case"quarter":return Vr(Tn)<Vr(er);case"month":return Or(Tn)<Or(er);case"week":return Lr(Tn)<Lr(er);default:return!un(zt,Tn,er)&&zt.isAfter(er,Tn)}return!1},[qe,pt[0],er,C]);return[Kr,cn]}function Xd(f,d,C,P){var G=gl(f,C,P,1);function ke(qe){return qe(f,d)?"same":qe(G,d)?"closing":"far"}switch(C){case"year":return ke(function(qe,pt){return No(P,qe,pt)});case"quarter":case"month":return ke(function(qe,pt){return La(P,qe,pt)});default:return ke(function(qe,pt){return vr(P,qe,pt)})}}function Of(f,d,C,P){var G=ps(f,0),ke=ps(f,1);if(d===0)return G;if(G&&ke){var qe=Xd(G,ke,C,P);switch(qe){case"same":return G;case"closing":return G;default:return gl(ke,C,P,-1)}}return G}function ch(f){var d=f.values,C=f.picker,P=f.defaultDates,G=f.generateConfig,ke=T.useState(function(){return[ps(P,0),ps(P,1)]}),qe=Object(rt.a)(ke,2),pt=qe[0],zt=qe[1],er=T.useState(null),gr=Object(rt.a)(er,2),Lr=gr[0],Or=gr[1],Vr=ps(d,0),Kr=ps(d,1);function cn(xa){return pt[xa]?pt[xa]:ps(Lr,xa)||Of(d,xa,C,G)||Vr||Kr||G.getNow()}function Tn(xa,za){if(xa){var zi=Bs(Lr,xa,za);zt(Bs(pt,null,za)||[null,null]);var yo=(za+1)%2;ps(d,yo)||(zi=Bs(zi,xa,yo)),Or(zi)}else(Vr||Kr)&&Or(null)}return[cn,Tn]}function Jf(f,d){return f&&f[0]&&f[1]&&d.isAfter(f[0],f[1])?[f[1],f[0]]:f}function Bd(f,d,C,P){return!!(f||P&&P[d]||C[(d+1)%2])}function fh(f){var d,C,P,G=f.prefixCls,ke=G===void 0?"rc-picker":G,qe=f.id,pt=f.style,zt=f.className,er=f.popupStyle,gr=f.dropdownClassName,Lr=f.transitionName,Or=f.dropdownAlign,Vr=f.getPopupContainer,Kr=f.generateConfig,cn=f.locale,Tn=f.placeholder,xa=f.autoFocus,za=f.disabled,zi=f.format,yo=f.picker,Fi=yo===void 0?"date":yo,ci=f.showTime,as=f.use12Hours,Ro=f.separator,gs=Ro===void 0?"~":Ro,lu=f.value,lc=f.defaultValue,ud=f.defaultPickerValue,Ec=f.open,Ff=f.defaultOpen,cd=f.disabledDate,Sc=f.disabledTime,sh=f.dateRender,Yf=f.panelRender,kp=f.ranges,Pv=f.allowEmpty,Kv=f.allowClear,vg=f.suffixIcon,_m=f.clearIcon,tv=f.pickerRef,vu=f.inputReadOnly,lh=f.mode,Ch=f.renderExtraFooter,rv=f.onChange,dp=f.onOpenChange,Hh=f.onPanelChange,hp=f.onCalendarChange,Im=f.onFocus,Mg=f.onBlur,Rm=f.onMouseEnter,ty=f.onMouseLeave,Eh=f.onOk,Lm=f.onKeyDown,xy=f.components,ry=f.order,pp=f.direction,Zy=f.activePickerIndex,Dm=f.autoComplete,Yy=Dm===void 0?"off":Dm,mg=Fi==="date"&&!!ci||Fi==="time",Zv=Object(T.useRef)({}),Sh=Object(T.useRef)(null),wv=Object(T.useRef)(null),nv=Object(T.useRef)(null),_g=Object(T.useRef)(null),Bp=Object(T.useRef)(null),Wh=Object(T.useRef)(null),gg=Object(T.useRef)(null),Yv=Bu(ba(zi,Fi,ci,as)),$y=Object(de.a)(0,{value:Zy}),Ig=Object(rt.a)($y,2),kl=Ig[0],av=Ig[1],$v=Object(T.useRef)(null),Nf=T.useMemo(function(){return Array.isArray(za)?za:[za||!1,za||!1]},[za]),Xv=Object(de.a)(null,{value:lu,defaultValue:lc,postState:function(Sa){return Fi==="time"&&!ry?Sa:Jf(Sa,Kr)}}),Gh=Object(rt.a)(Xv,2),Ad=Gh[0],Fm=Gh[1],g0=ch({values:Ad,picker:Fi,defaultDates:ud,generateConfig:Kr}),ny=Object(rt.a)(g0,2),Xy=ny[0],qm=ny[1],Cy=Object(de.a)(Ad,{postState:function(Sa){var Xa=Sa;if(Nf[0]&&Nf[1])return Xa;for(var oo=0;oo<2;oo+=1)Nf[oo]&&!ps(Xa,oo)&&!ps(Pv,oo)&&(Xa=Bs(Xa,Kr.getNow(),oo));return Xa}}),fd=Object(rt.a)(Cy,2),Oo=fd[0],mu=fd[1],Nm=Object(de.a)([Fi,Fi],{value:lh}),Qy=Object(rt.a)(Nm,2),ay=Qy[0],iy=Qy[1];Object(T.useEffect)(function(){iy([Fi,Fi])},[Fi]);var J0=function(Sa,Xa){iy(Sa),Hh&&Hh(Xa,Sa)},Rg=gp({picker:Fi,selectedValue:Oo,locale:cn,disabled:Nf,disabledDate:cd,generateConfig:Kr},Zv.current[1],Zv.current[0]),y0=Object(rt.a)(Rg,2),rb=y0[0],q0=y0[1],nb=Object(de.a)(!1,{value:Ec,defaultValue:Ff,postState:function(Sa){return Nf[kl]?!1:Sa},onChange:function(Sa){dp&&dp(Sa),!Sa&&$v.current&&$v.current.onClose&&$v.current.onClose()}}),ab=Object(rt.a)(nb,2),Qv=ab[0],uh=ab[1],uu=Qv&&kl===0,eg=Qv&&kl===1,e1=Object(T.useState)(0),b0=Object(rt.a)(e1,2),ux=b0[0],t1=b0[1];Object(T.useEffect)(function(){!Qv&&Sh.current&&t1(Sh.current.offsetWidth)},[Qv]);var cx=T.useRef();function Jy(li,Sa){if(li)clearTimeout(cx.current),Zv.current[Sa]=!0,av(Sa),uh(li),Qv||qm(null,Sa);else if(kl===Sa){uh(li);var Xa=Zv.current;cx.current=setTimeout(function(){Xa===Zv.current&&(Zv.current={})})}}function r1(li){Jy(!0,li),setTimeout(function(){var Sa=[Wh,gg][li];Sa.current&&Sa.current.focus()},0)}function x0(li,Sa){var Xa=li,oo=ps(Xa,0),Cs=ps(Xa,1);oo&&Cs&&Kr.isAfter(oo,Cs)&&(Fi==="week"&&!qa(Kr,cn.locale,oo,Cs)||Fi==="quarter"&&!Wt(Kr,oo,Cs)||Fi!=="week"&&Fi!=="quarter"&&Fi!=="time"&&!un(Kr,oo,Cs)?(Sa===0?(Xa=[oo,null],Cs=null):(oo=null,Xa=[null,Cs]),Zv.current=Object(Ze.a)({},Sa,!0)):(Fi!=="time"||ry!==!1)&&(Xa=Jf(Xa,Kr))),mu(Xa);var nl=Xa&&Xa[0]?Es(Xa[0],{generateConfig:Kr,locale:cn,format:Yv[0]}):"",Jl=Xa&&Xa[1]?Es(Xa[1],{generateConfig:Kr,locale:cn,format:Yv[0]}):"";if(hp){var Ol={range:Sa===0?"start":"end"};hp(Xa,[nl,Jl],Ol)}var cu=Bd(oo,0,Nf,Pv),Tl=Bd(Cs,1,Nf,Pv),Nc=Xa===null||cu&&Tl;Nc&&(Fm(Xa),rv&&(!mi(Kr,ps(Ad,0),oo)||!mi(Kr,ps(Ad,1),Cs))&&rv(Xa,[nl,Jl]));var Bl=null;Sa===0&&!Nf[1]?Bl=1:Sa===1&&!Nf[0]&&(Bl=0),Bl!==null&&Bl!==kl&&(!Zv.current[Bl]||!ps(Xa,Bl))&&ps(Xa,Sa)?r1(Bl):Jy(!1,Sa)}var oC=function(Sa){return Qv&&$v.current&&$v.current.onKeyDown?$v.current.onKeyDown(Sa):(Object(ot.a)(!1,"Picker not correct forward KeyDown operation. Please help to fire issue about this."),!1)},n1={formatList:Yv,generateConfig:Kr,locale:cn},sC=kd(ps(Oo,0),n1),fx=Object(rt.a)(sC,2),a1=fx[0],lC=fx[1],i1=kd(ps(Oo,1),n1),uC=Object(rt.a)(i1,2),Ey=uC[0],cC=uC[1],ib=function(Sa,Xa){var oo=tl(Sa,{locale:cn,formatList:Yv,generateConfig:Kr}),Cs=Xa===0?rb:q0;oo&&!Cs(oo)&&(mu(Bs(Oo,oo,Xa)),qm(oo,Xa))},fC=jd({valueTexts:a1,onTextChange:function(Sa){return ib(Sa,0)}}),ob=Object(rt.a)(fC,3),qy=ob[0],dx=ob[1],hx=ob[2],dC=jd({valueTexts:Ey,onTextChange:function(Sa){return ib(Sa,1)}}),sb=Object(rt.a)(dC,3),Sy=sb[0],hC=sb[1],px=sb[2],pC=Object(T.useState)(null),vC=Object(rt.a)(pC,2),mC=vC[0],gC=vC[1],yC=Object(T.useState)(null),Jv=Object(rt.a)(yC,2),Oy=Jv[0],vx=Jv[1],NC=md(qy,{formatList:Yv,generateConfig:Kr,locale:cn}),a=Object(rt.a)(NC,3),i=a[0],n=a[1],s=a[2],h=md(Sy,{formatList:Yv,generateConfig:Kr,locale:cn}),_=Object(rt.a)(h,3),Y=_[0],$=_[1],X=_[2],Ae=function(Sa){vx(Bs(Oo,Sa,kl)),kl===0?n(Sa):$(Sa)},gt=function(){vx(Bs(Oo,null,kl)),kl===0?s():X()},Ct=function(Sa,Xa){return{blurToCancel:mg,forwardKeyDown:oC,onBlur:Mg,isClickOutside:function(Cs){return!so([wv.current,nv.current,_g.current,Sh.current],Cs)},onFocus:function(Cs){av(Sa),Im&&Im(Cs)},triggerOpen:function(Cs){Jy(Cs,Sa)},onSubmit:function(){x0(Oo,Sa),Xa()},onCancel:function(){Jy(!1,Sa),mu(Ad),Xa()}}},Lt=Hf(Object(tn.a)(Object(tn.a)({},Ct(0,hx)),{},{open:uu,value:qy,onKeyDown:function(Sa,Xa){Lm==null||Lm(Sa,Xa)}})),Ut=Object(rt.a)(Lt,2),or=Ut[0],Cr=Ut[1],sr=Cr.focused,fr=Cr.typing,_r=Hf(Object(tn.a)(Object(tn.a)({},Ct(1,px)),{},{open:eg,value:Sy,onKeyDown:function(Sa,Xa){Lm==null||Lm(Sa,Xa)}})),Qr=Object(rt.a)(_r,2),bn=Qr[0],Vn=Qr[1],Xn=Vn.focused,Hn=Vn.typing,yn=function(Sa){!Qv&&!Wh.current.contains(Sa.target)&&!gg.current.contains(Sa.target)&&(Nf[0]?Nf[1]||r1(1):r1(0))},xn=function(Sa){Qv&&(sr||Xn)&&!Wh.current.contains(Sa.target)&&!gg.current.contains(Sa.target)&&Sa.preventDefault()},Wn=Ad&&Ad[0]?Es(Ad[0],{locale:cn,format:"YYYYMMDDHHmmss",generateConfig:Kr}):"",Un=Ad&&Ad[1]?Es(Ad[1],{locale:cn,format:"YYYYMMDDHHmmss",generateConfig:Kr}):"";Object(T.useEffect)(function(){Qv||(mu(Ad),!a1.length||a1[0]===""?dx(""):lC!==qy&&hx(),!Ey.length||Ey[0]===""?hC(""):cC!==Sy&&px())},[Qv,a1,Ey]),Object(T.useEffect)(function(){mu(Ad)},[Wn,Un]),tv&&(tv.current={focus:function(){Wh.current&&Wh.current.focus()},blur:function(){Wh.current&&Wh.current.blur(),gg.current&&gg.current.blur()}});var pa=Object.keys(kp||{}),Zn=pa.map(function(li){var Sa=kp[li],Xa=typeof Sa=="function"?Sa():Sa;return{label:li,onClick:function(){x0(Xa,null),Jy(!1,kl)},onMouseEnter:function(){gC(Xa)},onMouseLeave:function(){gC(null)}}});function ka(){var li=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1,Sa=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},Xa=null;Qv&&Oy&&Oy[0]&&Oy[1]&&Kr.isAfter(Oy[1],Oy[0])&&(Xa=Oy);var oo=ci;if(ci&&Object(Pe.a)(ci)==="object"&&ci.defaultValue){var Cs=ci.defaultValue;oo=Object(tn.a)(Object(tn.a)({},ci),{},{defaultValue:ps(Cs,kl)||void 0})}var nl=null;return sh&&(nl=function(Ol,cu){return sh(Ol,cu,{range:kl?"end":"start"})}),T.createElement(w.Provider,{value:{inRange:!0,panelPosition:li,rangedValue:mC||Oo,hoverRangedValue:Xa}},T.createElement(uc,Object(Be.a)({},f,Sa,{dateRender:nl,showTime:oo,mode:ay[kl],generateConfig:Kr,style:void 0,direction:pp,disabledDate:kl===0?rb:q0,disabledTime:function(Ol){return Sc?Sc(Ol,kl===0?"start":"end"):!1},className:ye()(Object(Ze.a)({},"".concat(ke,"-panel-focused"),kl===0?!fr:!Hn)),value:ps(Oo,kl),locale:cn,tabIndex:-1,onPanelChange:function(Ol,cu){kl===0&&s(!0),kl===1&&X(!0),J0(Bs(ay,cu,kl),Bs(Oo,Ol,kl));var Tl=Ol;li==="right"&&ay[kl]===cu&&(Tl=gl(Tl,cu,Kr,-1)),qm(Tl,kl)},onOk:null,onSelect:void 0,onChange:void 0,defaultValue:kl===0?ps(Oo,1):ps(Oo,0)})))}var Bi=0,Ki=0;kl&&nv.current&&Bp.current&&wv.current&&(Bi=nv.current.offsetWidth+Bp.current.offsetWidth,wv.current.offsetWidth&&Bi>wv.current.offsetWidth&&(Ki=Bi));var Po=pp==="rtl"?{right:Bi}:{left:Bi};function Zi(){var li,Sa=Yd(ke,ay[kl],Ch),Xa=Up({prefixCls:ke,components:xy,needConfirmButton:mg,okDisabled:!ps(Oo,kl)||cd&&cd(Oo[kl]),locale:cn,rangeList:Zn,onOk:function(){ps(Oo,kl)&&(x0(Oo,kl),Eh&&Eh(Oo))}});if(Fi!=="time"&&!ci){var oo=Xy(kl),Cs=gl(oo,Fi,Kr),nl=ay[kl],Jl=nl===Fi,Ol=ka(Jl?"left":!1,{pickerValue:oo,onPickerValueChange:function(Bl){qm(Bl,kl)}}),cu=ka("right",{pickerValue:Cs,onPickerValueChange:function(Bl){qm(gl(Bl,Fi,Kr,-1),kl)}});pp==="rtl"?li=T.createElement(T.Fragment,null,cu,Jl&&Ol):li=T.createElement(T.Fragment,null,Ol,Jl&&cu)}else li=ka();var Tl=T.createElement(T.Fragment,null,T.createElement("div",{className:"".concat(ke,"-panels")},li),(Sa||Xa)&&T.createElement("div",{className:"".concat(ke,"-footer")},Sa,Xa));return Yf&&(Tl=Yf(Tl)),T.createElement("div",{className:"".concat(ke,"-panel-container"),style:{marginLeft:Ki},ref:wv,onMouseDown:function(Bl){Bl.preventDefault()}},Tl)}var wo=T.createElement("div",{className:ye()("".concat(ke,"-range-wrapper"),"".concat(ke,"-").concat(Fi,"-range-wrapper")),style:{minWidth:ux}},T.createElement("div",{className:"".concat(ke,"-range-arrow"),style:Po}),Zi()),io;vg&&(io=T.createElement("span",{className:"".concat(ke,"-suffix")},vg));var qo;Kv&&(ps(Ad,0)&&!Nf[0]||ps(Ad,1)&&!Nf[1])&&(qo=T.createElement("span",{onMouseDown:function(Sa){Sa.preventDefault(),Sa.stopPropagation()},onMouseUp:function(Sa){Sa.preventDefault(),Sa.stopPropagation();var Xa=Ad;Nf[0]||(Xa=Bs(Xa,null,0)),Nf[1]||(Xa=Bs(Xa,null,1)),x0(Xa,null),Jy(!1,kl)},className:"".concat(ke,"-clear")},_m||T.createElement("span",{className:"".concat(ke,"-clear-btn")})));var Js={size:Oi(Fi,Yv[0],Kr)},Yo=0,ho=0;nv.current&&_g.current&&Bp.current&&(kl===0?ho=nv.current.offsetWidth:(Yo=Bi,ho=_g.current.offsetWidth));var Ni=pp==="rtl"?{right:Yo}:{left:Yo},po=function(Sa,Xa){var oo=Bs(Oo,Sa,kl);Xa==="submit"||Xa!=="key"&&!mg?(x0(oo,kl),kl===0?s():X()):mu(oo)};return T.createElement(dt.Provider,{value:{operationRef:$v,hideHeader:Fi==="time",onDateMouseEnter:Ae,onDateMouseLeave:gt,hideRanges:!0,onSelect:po,open:Qv}},T.createElement(Xf,{visible:Qv,popupElement:wo,popupStyle:er,prefixCls:ke,dropdownClassName:gr,dropdownAlign:Or,getPopupContainer:Vr,transitionName:Lr,range:!0,direction:pp},T.createElement("div",Object(Be.a)({ref:Sh,className:ye()(ke,"".concat(ke,"-range"),zt,(d={},Object(Ze.a)(d,"".concat(ke,"-disabled"),Nf[0]&&Nf[1]),Object(Ze.a)(d,"".concat(ke,"-focused"),kl===0?sr:Xn),Object(Ze.a)(d,"".concat(ke,"-rtl"),pp==="rtl"),d)),style:pt,onClick:yn,onMouseEnter:Rm,onMouseLeave:ty,onMouseDown:xn},Hc(f)),T.createElement("div",{className:ye()("".concat(ke,"-input"),(C={},Object(Ze.a)(C,"".concat(ke,"-input-active"),kl===0),Object(Ze.a)(C,"".concat(ke,"-input-placeholder"),!!i),C)),ref:nv},T.createElement("input",Object(Be.a)({id:qe,disabled:Nf[0],readOnly:vu||typeof Yv[0]=="function"||!fr,value:i||qy,onChange:function(Sa){dx(Sa.target.value)},autoFocus:xa,placeholder:ps(Tn,0)||"",ref:Wh},or,Js,{autoComplete:Yy}))),T.createElement("div",{className:"".concat(ke,"-range-separator"),ref:Bp},gs),T.createElement("div",{className:ye()("".concat(ke,"-input"),(P={},Object(Ze.a)(P,"".concat(ke,"-input-active"),kl===1),Object(Ze.a)(P,"".concat(ke,"-input-placeholder"),!!Y),P)),ref:_g},T.createElement("input",Object(Be.a)({disabled:Nf[1],readOnly:vu||typeof Yv[0]=="function"||!Hn,value:Y||Sy,onChange:function(Sa){hC(Sa.target.value)},placeholder:ps(Tn,1)||"",ref:gg},bn,Js,{autoComplete:Yy}))),T.createElement("div",{className:"".concat(ke,"-active-bar"),style:Object(tn.a)(Object(tn.a)({},Ni),{},{width:ho,position:"absolute"})}),io,qo)))}var Th=function(f){Object(zr.a)(C,f);var d=Object(qr.a)(C);function C(){var P;Object(Qt.a)(this,C);for(var G=arguments.length,ke=new Array(G),qe=0;qe<G;qe++)ke[qe]=arguments[qe];return P=d.call.apply(d,[this].concat(ke)),P.pickerRef=T.createRef(),P.focus=function(){P.pickerRef.current&&P.pickerRef.current.focus()},P.blur=function(){P.pickerRef.current&&P.pickerRef.current.blur()},P}return Object(ar.a)(C,[{key:"render",value:function(){return T.createElement(fh,Object(Be.a)({},this.props,{pickerRef:this.pickerRef}))}}]),C}(T.Component),yp=Th,Rd=Id,qf=r("61s2");function bp(f,d,C){return C!==void 0?C:f==="year"&&d.lang.yearPlaceholder?d.lang.yearPlaceholder:f==="quarter"&&d.lang.quarterPlaceholder?d.lang.quarterPlaceholder:f==="month"&&d.lang.monthPlaceholder?d.lang.monthPlaceholder:f==="week"&&d.lang.weekPlaceholder?d.lang.weekPlaceholder:f==="time"&&d.timePickerLocale.placeholder?d.timePickerLocale.placeholder:d.lang.placeholder}function Hp(f,d,C){return C!==void 0?C:f==="year"&&d.lang.yearPlaceholder?d.lang.rangeYearPlaceholder:f==="month"&&d.lang.monthPlaceholder?d.lang.rangeMonthPlaceholder:f==="week"&&d.lang.weekPlaceholder?d.lang.rangeWeekPlaceholder:f==="time"&&d.timePickerLocale.placeholder?d.timePickerLocale.rangePlaceholder:d.lang.rangePlaceholder}var Ah=r("uaoM"),Mh=r("H84U"),Qh=r("YMnH"),Wp=r("3Nzz"),ed=function(f,d){var C={};for(var P in f)Object.prototype.hasOwnProperty.call(f,P)&&d.indexOf(P)<0&&(C[P]=f[P]);if(f!=null&&typeof Object.getOwnPropertySymbols=="function")for(var G=0,P=Object.getOwnPropertySymbols(f);G<P.length;G++)d.indexOf(P[G])<0&&Object.prototype.propertyIsEnumerable.call(f,P[G])&&(C[P[G]]=f[P[G]]);return C};function vn(f){function d(zt,er){var gr=function(Lr){Object(zr.a)(Vr,Lr);var Or=Object(qr.a)(Vr);function Vr(Kr){var cn;return Object(Qt.a)(this,Vr),cn=Or.call(this,Kr),cn.pickerRef=T.createRef(),cn.focus=function(){cn.pickerRef.current&&cn.pickerRef.current.focus()},cn.blur=function(){cn.pickerRef.current&&cn.pickerRef.current.blur()},cn.renderPicker=function(Tn){var xa=Object(Be.a)(Object(Be.a)({},Tn),cn.props.locale),za=cn.context,zi=za.getPrefixCls,yo=za.direction,Fi=za.getPopupContainer,ci=cn.props,as=ci.prefixCls,Ro=ci.getPopupContainer,gs=ci.className,lu=ci.size,lc=ci.bordered,ud=lc===void 0?!0:lc,Ec=ci.placeholder,Ff=ed(ci,["prefixCls","getPopupContainer","className","size","bordered","placeholder"]),cd=cn.props,Sc=cd.format,sh=cd.showTime,Yf=zi("picker",as),kp={showToday:!0},Pv={};zt&&(Pv.picker=zt);var Kv=zt||cn.props.picker;Pv=Object(Be.a)(Object(Be.a)(Object(Be.a)({},Pv),sh?Ld(Object(Be.a)({format:Sc,picker:Kv},sh)):{}),Kv==="time"?Ld(Object(Be.a)(Object(Be.a)({format:Sc},cn.props),{picker:Kv})):{});var vg=zi();return T.createElement(Wp.b.Consumer,null,function(_m){var tv,vu=lu||_m;return T.createElement(Rd,Object(Be.a)({ref:cn.pickerRef,placeholder:bp(Kv,xa,Ec),suffixIcon:Kv==="time"?T.createElement(Ee,null):T.createElement(it,null),clearIcon:T.createElement(be.a,null),allowClear:!0,transitionName:"".concat(vg,"-slide-up")},kp,Ff,Pv,{locale:xa.lang,className:ye()((tv={},Object(Ze.a)(tv,"".concat(Yf,"-").concat(vu),vu),Object(Ze.a)(tv,"".concat(Yf,"-borderless"),!ud),tv),gs),prefixCls:Yf,getPopupContainer:Ro||Fi,generateConfig:f,prevIcon:T.createElement("span",{className:"".concat(Yf,"-prev-icon")}),nextIcon:T.createElement("span",{className:"".concat(Yf,"-next-icon")}),superPrevIcon:T.createElement("span",{className:"".concat(Yf,"-super-prev-icon")}),superNextIcon:T.createElement("span",{className:"".concat(Yf,"-super-next-icon")}),components:dl,direction:yo}))})},Object(Ah.a)(zt!=="quarter",er,"DatePicker.".concat(er," is legacy usage. Please use DatePicker[picker='").concat(zt,"'] directly.")),cn}return Object(ar.a)(Vr,[{key:"render",value:function(){return T.createElement(Qh.a,{componentName:"DatePicker",defaultLocale:qf.a},this.renderPicker)}}]),Vr}(T.Component);return gr.contextType=Mh.b,er&&(gr.displayName=er),gr}var C=d(),P=d("week","WeekPicker"),G=d("month","MonthPicker"),ke=d("year","YearPicker"),qe=d("time","TimePicker"),pt=d("quarter","QuarterPicker");return{DatePicker:C,WeekPicker:P,MonthPicker:G,YearPicker:ke,TimePicker:qe,QuarterPicker:pt}}var Oa={icon:{tag:"svg",attrs:{viewBox:"0 0 1024 1024",focusable:"false"},children:[{tag:"path",attrs:{d:"M873.1 596.2l-164-208A32 32 0 00684 376h-64.8c-6.7 0-10.4 7.7-6.3 13l144.3 183H152c-4.4 0-8 3.6-8 8v60c0 4.4 3.6 8 8 8h695.9c26.8 0 41.7-30.8 25.2-51.8z"}}]},name:"swap-right",theme:"outlined"},oa=Oa,to=function(d,C){return T.createElement(ya.a,Object(tn.a)(Object(tn.a)({},d),{},{ref:C,icon:oa}))};to.displayName="SwapRightOutlined";var Ai=T.forwardRef(to),Xo=function(f,d){var C={};for(var P in f)Object.prototype.hasOwnProperty.call(f,P)&&d.indexOf(P)<0&&(C[P]=f[P]);if(f!=null&&typeof Object.getOwnPropertySymbols=="function")for(var G=0,P=Object.getOwnPropertySymbols(f);G<P.length;G++)d.indexOf(P[G])<0&&Object.prototype.propertyIsEnumerable.call(f,P[G])&&(C[P[G]]=f[P[G]]);return C};function ol(f){var d=function(C){Object(zr.a)(G,C);var P=Object(qr.a)(G);function G(){var ke;return Object(Qt.a)(this,G),ke=P.apply(this,arguments),ke.pickerRef=T.createRef(),ke.focus=function(){ke.pickerRef.current&&ke.pickerRef.current.focus()},ke.blur=function(){ke.pickerRef.current&&ke.pickerRef.current.blur()},ke.renderPicker=function(qe){var pt=Object(Be.a)(Object(Be.a)({},qe),ke.props.locale),zt=ke.context,er=zt.getPrefixCls,gr=zt.direction,Lr=zt.getPopupContainer,Or=ke.props,Vr=Or.prefixCls,Kr=Or.getPopupContainer,cn=Or.className,Tn=Or.size,xa=Or.bordered,za=xa===void 0?!0:xa,zi=Or.placeholder,yo=Xo(Or,["prefixCls","getPopupContainer","className","size","bordered","placeholder"]),Fi=ke.props,ci=Fi.format,as=Fi.showTime,Ro=Fi.picker,gs=er("picker",Vr),lu={};lu=Object(Be.a)(Object(Be.a)(Object(Be.a)({},lu),as?Ld(Object(Be.a)({format:ci,picker:Ro},as)):{}),Ro==="time"?Ld(Object(Be.a)(Object(Be.a)({format:ci},ke.props),{picker:Ro})):{});var lc=er();return T.createElement(Wp.b.Consumer,null,function(ud){var Ec,Ff=Tn||ud;return T.createElement(yp,Object(Be.a)({separator:T.createElement("span",{"aria-label":"to",className:"".concat(gs,"-separator")},T.createElement(Ai,null)),ref:ke.pickerRef,placeholder:Hp(Ro,pt,zi),suffixIcon:Ro==="time"?T.createElement(Ee,null):T.createElement(it,null),clearIcon:T.createElement(be.a,null),allowClear:!0,transitionName:"".concat(lc,"-slide-up")},yo,lu,{className:ye()((Ec={},Object(Ze.a)(Ec,"".concat(gs,"-").concat(Ff),Ff),Object(Ze.a)(Ec,"".concat(gs,"-borderless"),!za),Ec),cn),locale:pt.lang,prefixCls:gs,getPopupContainer:Kr||Lr,generateConfig:f,prevIcon:T.createElement("span",{className:"".concat(gs,"-prev-icon")}),nextIcon:T.createElement("span",{className:"".concat(gs,"-next-icon")}),superPrevIcon:T.createElement("span",{className:"".concat(gs,"-super-prev-icon")}),superNextIcon:T.createElement("span",{className:"".concat(gs,"-super-next-icon")}),components:dl,direction:gr}))})},ke}return Object(ar.a)(G,[{key:"render",value:function(){return T.createElement(Qh.a,{componentName:"DatePicker",defaultLocale:qf.a},this.renderPicker)}}]),G}(T.Component);return d.contextType=Mh.b,d}var dl={button:kt,rangeItem:ut};function gd(f){return f?Array.isArray(f)?f:[f]:[]}function Ld(f){var d=f.format,C=f.picker,P=f.showHour,G=f.showMinute,ke=f.showSecond,qe=f.use12Hours,pt=gd(d)[0],zt=Object(Be.a)({},f);return pt&&typeof pt=="string"&&(!pt.includes("s")&&ke===void 0&&(zt.showSecond=!1),!pt.includes("m")&&G===void 0&&(zt.showMinute=!1),!pt.includes("H")&&!pt.includes("h")&&P===void 0&&(zt.showHour=!1),(pt.includes("a")||pt.includes("A"))&&qe===void 0&&(zt.use12Hours=!0)),C==="time"?zt:(typeof pt=="function"&&delete zt.format,{showTime:zt})}function lf(f){var d=vn(f),C=d.DatePicker,P=d.WeekPicker,G=d.MonthPicker,ke=d.YearPicker,qe=d.TimePicker,pt=d.QuarterPicker,zt=ol(f),er=C;return er.WeekPicker=P,er.MonthPicker=G,er.YearPicker=ke,er.RangePicker=zt,er.TimePicker=qe,er.QuarterPicker=pt,er}var Jh=lf,_h=Jh(Ge),uf=_h,Pf=r("POPG"),ru=function f(d,C){return Object(Pf.a)(d)||Le.a.isMoment(d)?d:Array.isArray(d)?d.map(function(P){return f(P,C)}):Le()(d,C)},hl=ru,dh=r("iGn7"),Al=r("Z1je");function bi(){return bi=Object.assign||function(f){for(var d=1;d<arguments.length;d++){var C=arguments[d];for(var P in C)Object.prototype.hasOwnProperty.call(C,P)&&(f[P]=C[P])}return f},bi.apply(this,arguments)}function Kc(f,d){var C=Object.keys(f);if(Object.getOwnPropertySymbols){var P=Object.getOwnPropertySymbols(f);d&&(P=P.filter(function(G){return Object.getOwnPropertyDescriptor(f,G).enumerable})),C.push.apply(C,P)}return C}function qh(f){for(var d=1;d<arguments.length;d++){var C=arguments[d]!=null?arguments[d]:{};d%2?Kc(Object(C),!0).forEach(function(P){Ih(f,P,C[P])}):Object.getOwnPropertyDescriptors?Object.defineProperties(f,Object.getOwnPropertyDescriptors(C)):Kc(Object(C)).forEach(function(P){Object.defineProperty(f,P,Object.getOwnPropertyDescriptor(C,P))})}return f}function Ih(f,d,C){return d in f?Object.defineProperty(f,d,{value:C,enumerable:!0,configurable:!0,writable:!0}):f[d]=C,f}function cf(f,d){return Uu(f)||td(f,d)||hh(f,d)||Yu()}function Yu(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function hh(f,d){if(!!f){if(typeof f=="string")return gi(f,d);var C=Object.prototype.toString.call(f).slice(8,-1);if(C==="Object"&&f.constructor&&(C=f.constructor.name),C==="Map"||C==="Set")return Array.from(f);if(C==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(C))return gi(f,d)}}function gi(f,d){(d==null||d>f.length)&&(d=f.length);for(var C=0,P=new Array(d);C<d;C++)P[C]=f[C];return P}function td(f,d){var C=f==null?null:typeof Symbol!="undefined"&&f[Symbol.iterator]||f["@@iterator"];if(C!=null){var P=[],G=!0,ke=!1,qe,pt;try{for(C=C.call(f);!(G=(qe=C.next()).done)&&(P.push(qe.value),!(d&&P.length===d));G=!0);}catch(zt){ke=!0,pt=zt}finally{try{!G&&C.return!=null&&C.return()}finally{if(ke)throw pt}}return P}}function Uu(f){if(Array.isArray(f))return f}var ep=function(d,C){var P=d.text,G=d.mode,ke=d.format,qe=d.label,pt=d.light,zt=d.render,er=d.renderFormItem,gr=d.plain,Lr=d.showTime,Or=d.fieldProps,Vr=d.picker,Kr=d.bordered,cn=Object(oe.d)(),Tn=Object(T.useContext)(Mt.b.SizeContext),xa=Object(T.useContext)(Mt.b.ConfigContext),za=xa.getPrefixCls,zi=za("pro-field-date-picker"),yo=Object(T.useState)(!1),Fi=cf(yo,2),ci=Fi[0],as=Fi[1];if(G==="read"){var Ro=b.a.createElement("span",{ref:C},P?Le()(P).format(Or.format||ke||"YYYY-MM-DD"):"-");return zt?zt(P,qh({mode:G},Or),b.a.createElement("span",null,Ro)):Ro}if(G==="edit"||G==="update"){var gs,lu=Or.disabled,lc=Or.value,ud=Or.onChange,Ec=Or.allowClear,Ff=Or.placeholder,cd=Ff===void 0?cn.getMessage("tableForm.selectPlaceholder","\u8BF7\u9009\u62E9"):Ff,Sc=hl(lc);if(pt){var sh=Sc&&Sc.format(ke)||"";gs=b.a.createElement("div",{className:"".concat(zi,"-light"),onClick:function(){as(!0)}},b.a.createElement(uf,bi({picker:Vr,showTime:Lr,format:ke,ref:C},Or,{value:Sc,onChange:function(kp){ud==null||ud(kp),setTimeout(function(){as(!1)},0)},onOpenChange:as,open:ci})),b.a.createElement(dh.a,{label:qe,disabled:lu,placeholder:cd,size:Tn,value:sh,onClear:function(){ud==null||ud(null)},allowClear:Ec,bordered:Kr,expanded:ci}))}else gs=b.a.createElement(uf,bi({picker:Vr,showTime:Lr,format:ke,placeholder:cd,bordered:gr===void 0?!0:!gr,ref:C},Or,{value:Sc}));return er?er(P,qh({mode:G},Or),gs):gs}return null},tc=b.a.forwardRef(ep),gu=r("5Dmo"),Zc=r("3S7+");function wf(){return wf=Object.assign||function(f){for(var d=1;d<arguments.length;d++){var C=arguments[d];for(var P in C)Object.prototype.hasOwnProperty.call(C,P)&&(f[P]=C[P])}return f},wf.apply(this,arguments)}function nu(f,d){var C=Object.keys(f);if(Object.getOwnPropertySymbols){var P=Object.getOwnPropertySymbols(f);d&&(P=P.filter(function(G){return Object.getOwnPropertyDescriptor(f,G).enumerable})),C.push.apply(C,P)}return C}function Wf(f){for(var d=1;d<arguments.length;d++){var C=arguments[d]!=null?arguments[d]:{};d%2?nu(Object(C),!0).forEach(function(P){Qd(f,P,C[P])}):Object.getOwnPropertyDescriptors?Object.defineProperties(f,Object.getOwnPropertyDescriptors(C)):nu(Object(C)).forEach(function(P){Object.defineProperty(f,P,Object.getOwnPropertyDescriptor(C,P))})}return f}function Qd(f,d,C){return d in f?Object.defineProperty(f,d,{value:C,enumerable:!0,configurable:!0,writable:!0}):f[d]=C,f}var Gf=function(d){var C=d.text,P=d.mode,G=d.render,ke=d.renderFormItem,qe=d.format,pt=d.fieldProps,zt=Object(oe.d)();if(P==="read"){var er=b.a.createElement(Zc.a,{title:Le()(C).format((pt==null?void 0:pt.format)||qe||"YYYY-MM-DD HH:mm:ss")},Le()(C).fromNow());return G?G(C,Wf({mode:P},pt),b.a.createElement(b.a.Fragment,null,er)):b.a.createElement(b.a.Fragment,null,er)}if(P==="edit"||P==="update"){var gr=zt.getMessage("tableForm.selectPlaceholder","\u8BF7\u9009\u62E9"),Lr=hl(pt.value),Or=b.a.createElement(uf,wf({placeholder:gr},pt,{value:Lr}));return ke?ke(C,Wf({mode:P},pt),Or):Or}return null},Rh=Gf;function Jd(){return Jd=Object.assign||function(f){for(var d=1;d<arguments.length;d++){var C=arguments[d];for(var P in C)Object.prototype.hasOwnProperty.call(C,P)&&(f[P]=C[P])}return f},Jd.apply(this,arguments)}function Tf(f,d){var C=Object.keys(f);if(Object.getOwnPropertySymbols){var P=Object.getOwnPropertySymbols(f);d&&(P=P.filter(function(G){return Object.getOwnPropertyDescriptor(f,G).enumerable})),C.push.apply(C,P)}return C}function gc(f){for(var d=1;d<arguments.length;d++){var C=arguments[d]!=null?arguments[d]:{};d%2?Tf(Object(C),!0).forEach(function(P){_s(f,P,C[P])}):Object.getOwnPropertyDescriptors?Object.defineProperties(f,Object.getOwnPropertyDescriptors(C)):Tf(Object(C)).forEach(function(P){Object.defineProperty(f,P,Object.getOwnPropertyDescriptor(C,P))})}return f}function _s(f,d,C){return d in f?Object.defineProperty(f,d,{value:C,enumerable:!0,configurable:!0,writable:!0}):f[d]=C,f}function yd(f,d){return Af(f)||ff(f,d)||sl(f,d)||rd()}function rd(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function sl(f,d){if(!!f){if(typeof f=="string")return Mu(f,d);var C=Object.prototype.toString.call(f).slice(8,-1);if(C==="Object"&&f.constructor&&(C=f.constructor.name),C==="Map"||C==="Set")return Array.from(f);if(C==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(C))return Mu(f,d)}}function Mu(f,d){(d==null||d>f.length)&&(d=f.length);for(var C=0,P=new Array(d);C<d;C++)P[C]=f[C];return P}function ff(f,d){var C=f==null?null:typeof Symbol!="undefined"&&f[Symbol.iterator]||f["@@iterator"];if(C!=null){var P=[],G=!0,ke=!1,qe,pt;try{for(C=C.call(f);!(G=(qe=C.next()).done)&&(P.push(qe.value),!(d&&P.length===d));G=!0);}catch(zt){ke=!0,pt=zt}finally{try{!G&&C.return!=null&&C.return()}finally{if(ke)throw pt}}return P}}function Af(f){if(Array.isArray(f))return f}var jc=function(d,C){var P=d.text,G=d.mode,ke=d.format,qe=d.render,pt=d.renderFormItem,zt=d.plain,er=d.showTime,gr=d.fieldProps,Lr=Object(oe.d)(),Or=Array.isArray(P)?P:[],Vr=yd(Or,2),Kr=Vr[0],cn=Vr[1],Tn=Kr?Le()(Kr).format((gr==null?void 0:gr.format)||ke||"YYYY-MM-DD"):"",xa=cn?Le()(cn).format((gr==null?void 0:gr.format)||ke||"YYYY-MM-DD"):"";if(G==="read"){var za=b.a.createElement("div",{ref:C},b.a.createElement("div",null,Tn||"-"),b.a.createElement("div",null,xa||"-"));return qe?qe(P,gc({mode:G},gr),b.a.createElement("span",null,za)):za}if(G==="edit"||G==="update"){var zi=hl(gr.value),yo=b.a.createElement(uf.RangePicker,Jd({ref:C,format:ke,showTime:er,placeholder:[Lr.getMessage("tableForm.selectPlaceholder","\u8BF7\u9009\u62E9"),Lr.getMessage("tableForm.selectPlaceholder","\u8BF7\u9009\u62E9")],bordered:zt===void 0?!0:!zt},gr,{value:zi}));return pt?pt(P,gc({mode:G},gr),yo):yo}return null},ph=b.a.forwardRef(jc),Io=r("5NDa"),Mi=r("5rEg");function df(){return df=Object.assign||function(f){for(var d=1;d<arguments.length;d++){var C=arguments[d];for(var P in C)Object.prototype.hasOwnProperty.call(C,P)&&(f[P]=C[P])}return f},df.apply(this,arguments)}function _u(f,d){var C=Object.keys(f);if(Object.getOwnPropertySymbols){var P=Object.getOwnPropertySymbols(f);d&&(P=P.filter(function(G){return Object.getOwnPropertyDescriptor(f,G).enumerable})),C.push.apply(C,P)}return C}function cc(f){for(var d=1;d<arguments.length;d++){var C=arguments[d]!=null?arguments[d]:{};d%2?_u(Object(C),!0).forEach(function(P){$u(f,P,C[P])}):Object.getOwnPropertyDescriptors?Object.defineProperties(f,Object.getOwnPropertyDescriptors(C)):_u(Object(C)).forEach(function(P){Object.defineProperty(f,P,Object.getOwnPropertyDescriptor(C,P))})}return f}function $u(f,d,C){return d in f?Object.defineProperty(f,d,{value:C,enumerable:!0,configurable:!0,writable:!0}):f[d]=C,f}var Mf=function(d,C){if(typeof d!="string")return d;try{if(C==="json")return JSON.stringify(JSON.parse(d),null,2)}catch(P){}return d},Ac=function(d,C){var P=d.text,G=d.mode,ke=d.render,qe=d.language,pt=qe===void 0?"text":qe,zt=d.renderFormItem,er=d.plain,gr=d.fieldProps,Lr=Mf(P,pt);if(G==="read"){var Or=b.a.createElement("pre",df({ref:C},gr,{style:cc({padding:16,overflow:"auto",fontSize:"85%",lineHeight:1.45,backgroundColor:"#f6f8fa",borderRadius:3,width:"min-content"},gr.style)}),b.a.createElement("code",null,Lr));return ke?ke(Lr,cc(cc({mode:G},gr),{},{ref:C}),Or):Or}if(G==="edit"||G==="update"){var Vr=b.a.createElement(Mi.a.TextArea,df({rows:5},gr,{ref:C}));return er&&(Vr=b.a.createElement(Mi.a,df({},gr,{ref:C}))),zt?zt(Lr,cc(cc({mode:G},gr),{},{ref:C}),Vr):Vr}return null},qd=b.a.forwardRef(Ac),Dl=r("cIOH"),yu=r("pL63"),eh=function(f,d){var C={};for(var P in f)Object.prototype.hasOwnProperty.call(f,P)&&d.indexOf(P)<0&&(C[P]=f[P]);if(f!=null&&typeof Object.getOwnPropertySymbols=="function")for(var G=0,P=Object.getOwnPropertySymbols(f);G<P.length;G++)d.indexOf(P[G])<0&&Object.prototype.propertyIsEnumerable.call(f,P[G])&&(C[P[G]]=f[P[G]]);return C},_f=uf.TimePicker,If=uf.RangePicker,Mc=T.forwardRef(function(f,d){return T.createElement(If,Object(Be.a)({},f,{dropdownClassName:f.popupClassName,picker:"time",mode:void 0,ref:d}))}),_c=T.forwardRef(function(f,d){var C=f.addon,P=f.renderExtraFooter,G=f.popupClassName,ke=eh(f,["addon","renderExtraFooter","popupClassName"]),qe=T.useMemo(function(){if(P)return P;if(C)return Object(Ah.a)(!1,"TimePicker","`addon` is deprecated. Please use `renderExtraFooter` instead."),C},[C,P]);return T.createElement(_f,Object(Be.a)({},ke,{dropdownClassName:G,mode:void 0,ref:d,renderExtraFooter:qe}))});_c.displayName="TimePicker",_c.RangePicker=Mc;var dr=_c;function Iu(){return Iu=Object.assign||function(f){for(var d=1;d<arguments.length;d++){var C=arguments[d];for(var P in C)Object.prototype.hasOwnProperty.call(C,P)&&(f[P]=C[P])}return f},Iu.apply(this,arguments)}function nd(f,d){var C=Object.keys(f);if(Object.getOwnPropertySymbols){var P=Object.getOwnPropertySymbols(f);d&&(P=P.filter(function(G){return Object.getOwnPropertyDescriptor(f,G).enumerable})),C.push.apply(C,P)}return C}function rc(f){for(var d=1;d<arguments.length;d++){var C=arguments[d]!=null?arguments[d]:{};d%2?nd(Object(C),!0).forEach(function(P){$s(f,P,C[P])}):Object.getOwnPropertyDescriptors?Object.defineProperties(f,Object.getOwnPropertyDescriptors(C)):nd(Object(C)).forEach(function(P){Object.defineProperty(f,P,Object.getOwnPropertyDescriptor(C,P))})}return f}function $s(f,d,C){return d in f?Object.defineProperty(f,d,{value:C,enumerable:!0,configurable:!0,writable:!0}):f[d]=C,f}function xp(f,d){return bd(f)||zd(f,d)||th(f,d)||tp()}function tp(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function th(f,d){if(!!f){if(typeof f=="string")return ad(f,d);var C=Object.prototype.toString.call(f).slice(8,-1);if(C==="Object"&&f.constructor&&(C=f.constructor.name),C==="Map"||C==="Set")return Array.from(f);if(C==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(C))return ad(f,d)}}function ad(f,d){(d==null||d>f.length)&&(d=f.length);for(var C=0,P=new Array(d);C<d;C++)P[C]=f[C];return P}function zd(f,d){var C=f==null?null:typeof Symbol!="undefined"&&f[Symbol.iterator]||f["@@iterator"];if(C!=null){var P=[],G=!0,ke=!1,qe,pt;try{for(C=C.call(f);!(G=(qe=C.next()).done)&&(P.push(qe.value),!(d&&P.length===d));G=!0);}catch(zt){ke=!0,pt=zt}finally{try{!G&&C.return!=null&&C.return()}finally{if(ke)throw pt}}return P}}function bd(f){if(Array.isArray(f))return f}var Yc=function(d,C){var P=d.text,G=d.mode,ke=d.light,qe=d.label,pt=d.format,zt=d.render,er=d.renderFormItem,gr=d.plain,Lr=d.fieldProps,Or=Object(T.useState)(!1),Vr=xp(Or,2),Kr=Vr[0],cn=Vr[1],Tn=Object(T.useContext)(Mt.b.SizeContext),xa=Object(T.useContext)(Mt.b.ConfigContext),za=xa.getPrefixCls,zi=za("pro-field-date-picker"),yo=(Lr==null?void 0:Lr.format)||pt||"HH:mm:ss",Fi=Le.a.isMoment(P)||typeof P=="number";if(G==="read"){var ci=b.a.createElement("span",{ref:C},P?Le()(P,Fi?void 0:yo).format(yo):"-");return zt?zt(P,rc({mode:G},Lr),b.a.createElement("span",null,ci)):ci}if(G==="edit"||G==="update"){var as,Ro=Lr.disabled,gs=Lr.onChange,lu=Lr.placeholder,lc=Lr.allowClear,ud=Lr.value,Ec=hl(ud,yo);if(ke){var Ff=Ec&&Ec.format(yo)||"";as=b.a.createElement("div",{className:"".concat(zi,"-light"),onClick:function(){cn(!0)}},b.a.createElement(dr,Iu({value:Ec,format:pt,ref:C},Lr,{onChange:function(Sc){gs==null||gs(Sc),setTimeout(function(){cn(!1)},0)},onOpenChange:cn,open:Kr})),b.a.createElement(dh.a,{label:qe,disabled:Ro,placeholder:lu,size:Tn,value:Ff,allowClear:lc,onClear:function(){gs==null||gs(null)},expanded:Kr}))}else as=b.a.createElement(uf.TimePicker,Iu({ref:C,format:pt,bordered:gr===void 0?!0:!gr},Lr,{value:Ec}));return er?er(P,rc({mode:G},Lr),as):as}return null},Ud=function(d){var C=d.text,P=d.mode,G=d.format,ke=d.render,qe=d.renderFormItem,pt=d.plain,zt=d.fieldProps,er=Array.isArray(C)?C:[],gr=xp(er,2),Lr=gr[0],Or=gr[1],Vr=Lr?Le()(Lr).format((zt==null?void 0:zt.format)||G||"YYYY-MM-DD"):"",Kr=Or?Le()(Or).format((zt==null?void 0:zt.format)||G||"YYYY-MM-DD"):"";if(P==="read"){var cn=b.a.createElement("div",null,b.a.createElement("div",null,Vr||"-"),b.a.createElement("div",null,Kr||"-"));return ke?ke(C,rc({mode:P},zt),b.a.createElement("span",null,cn)):cn}if(P==="edit"||P==="update"){var Tn=zt.value,xa=hl(Tn),za=b.a.createElement(dr.RangePicker,Iu({format:G,bordered:pt===void 0?!0:!pt},zt,{value:xa}));return qe?qe(C,rc({mode:P},zt),za):za}return null},Rf=b.a.forwardRef(Yc);function $c(){return $c=Object.assign||function(f){for(var d=1;d<arguments.length;d++){var C=arguments[d];for(var P in C)Object.prototype.hasOwnProperty.call(C,P)&&(f[P]=C[P])}return f},$c.apply(this,arguments)}function id(f,d){var C=Object.keys(f);if(Object.getOwnPropertySymbols){var P=Object.getOwnPropertySymbols(f);d&&(P=P.filter(function(G){return Object.getOwnPropertyDescriptor(f,G).enumerable})),C.push.apply(C,P)}return C}function Vd(f){for(var d=1;d<arguments.length;d++){var C=arguments[d]!=null?arguments[d]:{};d%2?id(Object(C),!0).forEach(function(P){Cp(f,P,C[P])}):Object.getOwnPropertyDescriptors?Object.defineProperties(f,Object.getOwnPropertyDescriptors(C)):id(Object(C)).forEach(function(P){Object.defineProperty(f,P,Object.getOwnPropertyDescriptor(C,P))})}return f}function Cp(f,d,C){return d in f?Object.defineProperty(f,d,{value:C,enumerable:!0,configurable:!0,writable:!0}):f[d]=C,f}var v=function(d){var C=d.text,P=d.mode,G=d.render,ke=d.renderFormItem,qe=d.fieldProps,pt=d.emptyText,zt=pt===void 0?"-":pt,er=Object(oe.d)();if(P==="read"){var gr=C!=null?C:zt;if(G){var Lr;return(Lr=G(C,Vd({mode:P},qe),b.a.createElement(b.a.Fragment,null,(qe==null?void 0:qe.prefix)||"",gr,(qe==null?void 0:qe.suffix)||"")))!==null&&Lr!==void 0?Lr:zt}return b.a.createElement(b.a.Fragment,null,(qe==null?void 0:qe.prefix)||"",gr,(qe==null?void 0:qe.suffix)||"")}if(P==="edit"||P==="update"){var Or=er.getMessage("tableForm.inputPlaceholder","\u8BF7\u8F93\u5165"),Vr=b.a.createElement(Mi.a,$c({placeholder:Or,allowClear:!0},qe));return ke?ke(C,Vd({mode:P},qe),Vr):Vr}return null},c=v;function l(){return l=Object.assign||function(f){for(var d=1;d<arguments.length;d++){var C=arguments[d];for(var P in C)Object.prototype.hasOwnProperty.call(C,P)&&(f[P]=C[P])}return f},l.apply(this,arguments)}function g(f,d){var C=Object.keys(f);if(Object.getOwnPropertySymbols){var P=Object.getOwnPropertySymbols(f);d&&(P=P.filter(function(G){return Object.getOwnPropertyDescriptor(f,G).enumerable})),C.push.apply(C,P)}return C}function F(f){for(var d=1;d<arguments.length;d++){var C=arguments[d]!=null?arguments[d]:{};d%2?g(Object(C),!0).forEach(function(P){Q(f,P,C[P])}):Object.getOwnPropertyDescriptors?Object.defineProperties(f,Object.getOwnPropertyDescriptors(C)):g(Object(C)).forEach(function(P){Object.defineProperty(f,P,Object.getOwnPropertyDescriptor(C,P))})}return f}function Q(f,d,C){return d in f?Object.defineProperty(f,d,{value:C,enumerable:!0,configurable:!0,writable:!0}):f[d]=C,f}var se=function(d,C){var P=d.text,G=d.mode,ke=d.render,qe=d.renderFormItem,pt=d.fieldProps,zt=Object(oe.d)();if(G==="read"){var er=b.a.createElement("span",{ref:C},P!=null?P:"-");return ke?ke(P,F({mode:G},pt),er):er}if(G==="edit"||G==="update"){var gr=b.a.createElement(Mi.a.TextArea,l({rows:3,onKeyPress:function(Or){Or.key==="Enter"&&Or.stopPropagation()},placeholder:zt.getMessage("tableForm.inputPlaceholder","\u8BF7\u8F93\u5165"),ref:C},pt));return qe?qe(P,F({mode:G},pt),gr):gr}return null},_e=b.a.forwardRef(se),mt=r("DYRE"),Rt=r("zeV3"),ir=r("9BLJ"),rr=r("fHMl"),ur=["text","mode","render","renderFormItem","fieldProps","proFieldKey"];function kr(){return kr=Object.assign||function(f){for(var d=1;d<arguments.length;d++){var C=arguments[d];for(var P in C)Object.prototype.hasOwnProperty.call(C,P)&&(f[P]=C[P])}return f},kr.apply(this,arguments)}function Nr(f,d){var C=Object.keys(f);if(Object.getOwnPropertySymbols){var P=Object.getOwnPropertySymbols(f);d&&(P=P.filter(function(G){return Object.getOwnPropertyDescriptor(f,G).enumerable})),C.push.apply(C,P)}return C}function Xr(f){for(var d=1;d<arguments.length;d++){var C=arguments[d]!=null?arguments[d]:{};d%2?Nr(Object(C),!0).forEach(function(P){Br(f,P,C[P])}):Object.getOwnPropertyDescriptors?Object.defineProperties(f,Object.getOwnPropertyDescriptors(C)):Nr(Object(C)).forEach(function(P){Object.defineProperty(f,P,Object.getOwnPropertyDescriptor(C,P))})}return f}function Br(f,d,C){return d in f?Object.defineProperty(f,d,{value:C,enumerable:!0,configurable:!0,writable:!0}):f[d]=C,f}function Hr(f,d){return aa(f)||Gn(f,d)||pn(f,d)||hn()}function hn(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function pn(f,d){if(!!f){if(typeof f=="string")return la(f,d);var C=Object.prototype.toString.call(f).slice(8,-1);if(C==="Object"&&f.constructor&&(C=f.constructor.name),C==="Map"||C==="Set")return Array.from(f);if(C==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(C))return la(f,d)}}function la(f,d){(d==null||d>f.length)&&(d=f.length);for(var C=0,P=new Array(d);C<d;C++)P[C]=f[C];return P}function Gn(f,d){var C=f==null?null:typeof Symbol!="undefined"&&f[Symbol.iterator]||f["@@iterator"];if(C!=null){var P=[],G=!0,ke=!1,qe,pt;try{for(C=C.call(f);!(G=(qe=C.next()).done)&&(P.push(qe.value),!(d&&P.length===d));G=!0);}catch(zt){ke=!0,pt=zt}finally{try{!G&&C.return!=null&&C.return()}finally{if(ke)throw pt}}return P}}function aa(f){if(Array.isArray(f))return f}function sa(f,d){if(f==null)return{};var C=Ya(f,d),P,G;if(Object.getOwnPropertySymbols){var ke=Object.getOwnPropertySymbols(f);for(G=0;G<ke.length;G++)P=ke[G],!(d.indexOf(P)>=0)&&(!Object.prototype.propertyIsEnumerable.call(f,P)||(C[P]=f[P]))}return C}function Ya(f,d){if(f==null)return{};var C={},P=Object.keys(f),G,ke;for(ke=0;ke<P.length;ke++)G=P[ke],!(d.indexOf(G)>=0)&&(C[G]=f[G]);return C}var Ka=function(d,C){var P=d.text,G=d.mode,ke=d.render,qe=d.renderFormItem,pt=d.fieldProps,zt=d.proFieldKey,er=sa(d,ur),gr=Object(oe.d)(),Lr=Object(de.a)(function(){return er.visible||!1},{value:er.visible,onChange:er.onVisible}),Or=Hr(Lr,2),Vr=Or[0],Kr=Or[1];if(G==="read"){var cn=b.a.createElement(b.a.Fragment,null,"-");return P&&(cn=b.a.createElement(Rt.b,null,b.a.createElement("span",{ref:C},Vr?P:"\uFF0A \uFF0A \uFF0A \uFF0A \uFF0A"),b.a.createElement("a",{onClick:function(){return Kr(!Vr)}},Vr?b.a.createElement(ir.a,null):b.a.createElement(rr.a,null)))),ke?ke(P,Xr({mode:G},pt),cn):cn}if(G==="edit"||G==="update"){var Tn=b.a.createElement(Mi.a.Password,kr({placeholder:gr.getMessage("tableForm.inputPlaceholder","\u8BF7\u8F93\u5165"),ref:C},pt));return qe?qe(P,Xr({mode:G},pt),Tn):Tn}return null},Di=b.a.forwardRef(Ka);function di(f,d){var C=Object.keys(f);if(Object.getOwnPropertySymbols){var P=Object.getOwnPropertySymbols(f);d&&(P=P.filter(function(G){return Object.getOwnPropertyDescriptor(f,G).enumerable})),C.push.apply(C,P)}return C}function Eo(f){for(var d=1;d<arguments.length;d++){var C=arguments[d]!=null?arguments[d]:{};d%2?di(Object(C),!0).forEach(function(P){Bo(f,P,C[P])}):Object.getOwnPropertyDescriptors?Object.defineProperties(f,Object.getOwnPropertyDescriptors(C)):di(Object(C)).forEach(function(P){Object.defineProperty(f,P,Object.getOwnPropertyDescriptor(C,P))})}return f}function Bo(f,d,C){return d in f?Object.defineProperty(f,d,{value:C,enumerable:!0,configurable:!0,writable:!0}):f[d]=C,f}var Wo=function(d){return d.map(function(C,P){return b.a.isValidElement(C)?b.a.cloneElement(C,Eo({key:P},C==null?void 0:C.props)):b.a.createElement(b.a.Fragment,{key:P},C)})},ll=function(d){var C=d.text,P=d.mode,G=d.render,ke=d.fieldProps,qe=Object(T.useContext)(Mt.b.ConfigContext),pt=qe.getPrefixCls,zt=pt("pro-field-option");if(G){var er=G(C,Eo({mode:P},ke),b.a.createElement(b.a.Fragment,null));return!er||(er==null?void 0:er.length)<1||!Array.isArray(er)?null:b.a.createElement(Rt.b,{size:16,className:zt},Wo(er))}return!C||!Array.isArray(C)?b.a.isValidElement(C)?C:null:b.a.createElement(Rt.b,{size:16,className:zt},Wo(C))},_i=ll,Qo=r("yeZT"),os=r("sRBo"),qi=r("kaz8"),hs=r("T2oS"),zo=r("W9HT"),us=r("PdkY"),Xs=["layout","renderFormItem","mode","render"];function au(){return au=Object.assign||function(f){for(var d=1;d<arguments.length;d++){var C=arguments[d];for(var P in C)Object.prototype.hasOwnProperty.call(C,P)&&(f[P]=C[P])}return f},au.apply(this,arguments)}function zs(f,d){var C=Object.keys(f);if(Object.getOwnPropertySymbols){var P=Object.getOwnPropertySymbols(f);d&&(P=P.filter(function(G){return Object.getOwnPropertyDescriptor(f,G).enumerable})),C.push.apply(C,P)}return C}function pl(f){for(var d=1;d<arguments.length;d++){var C=arguments[d]!=null?arguments[d]:{};d%2?zs(Object(C),!0).forEach(function(P){xl(f,P,C[P])}):Object.getOwnPropertyDescriptors?Object.defineProperties(f,Object.getOwnPropertyDescriptors(C)):zs(Object(C)).forEach(function(P){Object.defineProperty(f,P,Object.getOwnPropertyDescriptor(C,P))})}return f}function xl(f,d,C){return d in f?Object.defineProperty(f,d,{value:C,enumerable:!0,configurable:!0,writable:!0}):f[d]=C,f}function Ns(f,d){return Ft(f)||Hd(f,d)||nc(f,d)||yc()}function yc(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function nc(f,d){if(!!f){if(typeof f=="string")return Ru(f,d);var C=Object.prototype.toString.call(f).slice(8,-1);if(C==="Object"&&f.constructor&&(C=f.constructor.name),C==="Map"||C==="Set")return Array.from(f);if(C==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(C))return Ru(f,d)}}function Ru(f,d){(d==null||d>f.length)&&(d=f.length);for(var C=0,P=new Array(d);C<d;C++)P[C]=f[C];return P}function Hd(f,d){var C=f==null?null:typeof Symbol!="undefined"&&f[Symbol.iterator]||f["@@iterator"];if(C!=null){var P=[],G=!0,ke=!1,qe,pt;try{for(C=C.call(f);!(G=(qe=C.next()).done)&&(P.push(qe.value),!(d&&P.length===d));G=!0);}catch(zt){ke=!0,pt=zt}finally{try{!G&&C.return!=null&&C.return()}finally{if(ke)throw pt}}return P}}function Ft(f){if(Array.isArray(f))return f}function Ht(f,d){if(f==null)return{};var C=Ue(f,d),P,G;if(Object.getOwnPropertySymbols){var ke=Object.getOwnPropertySymbols(f);for(G=0;G<ke.length;G++)P=ke[G],!(d.indexOf(P)>=0)&&(!Object.prototype.propertyIsEnumerable.call(f,P)||(C[P]=f[P]))}return C}function Ue(f,d){if(f==null)return{};var C={},P=Object.keys(f),G,ke;for(ke=0;ke<P.length;ke++)G=P[ke],!(d.indexOf(G)>=0)&&(C[G]=f[G]);return C}var He=function(d,C){var P=d.layout,G=P===void 0?"horizontal":P,ke=d.renderFormItem,qe=d.mode,pt=d.render,zt=Ht(d,Xs),er=Object(T.useContext)(Mt.b.ConfigContext),gr=er.getPrefixCls,Lr=gr("pro-field-checkbox"),Or=Object(Qo.e)(zt),Vr=Ns(Or,3),Kr=Vr[0],cn=Vr[1],Tn=Vr[2],xa=Object(T.useRef)();if(Object(T.useImperativeHandle)(C,function(){return pl(pl({},xa.current||{}),{},{fetchData:function(){return Tn()}})}),Kr)return b.a.createElement(zo.a,{size:"small"});if(qe==="read"){var za=(cn==null?void 0:cn.length)?cn==null?void 0:cn.reduce(function(ci,as){return pl(pl({},ci),{},xl({},as.value,as.label))},{}):void 0,zi=Object(Qo.c)(zt.text,Object(Qo.a)(zt.valueEnum||za));return pt?pt(zt.text,pl({mode:qe},zt.fieldProps),b.a.createElement(b.a.Fragment,null,zi))||null:b.a.createElement(Rt.b,null,zi)}if(qe==="edit"){var yo,Fi=b.a.createElement(qi.a.Group,au({},zt.fieldProps,{className:ye()((yo=zt.fieldProps)===null||yo===void 0?void 0:yo.className,"".concat(Lr,"-").concat(G)),options:cn}));return ke?ke(zt.text,pl({mode:qe},zt.fieldProps),Fi)||null:Fi}return null},Zt=b.a.forwardRef(He),cr=r("xzDV"),ln=r("m+aA");function Mn(f){var d=f.pageXOffset,C="scrollLeft";if(typeof d!="number"){var P=f.document;d=P.documentElement[C],typeof d!="number"&&(d=P.body[C])}return d}function Cn(f){var d,C,P=f.ownerDocument,G=P.body,ke=P&&P.documentElement,qe=f.getBoundingClientRect();return d=qe.left,C=qe.top,d-=ke.clientLeft||G.clientLeft||0,C-=ke.clientTop||G.clientTop||0,{left:d,top:C}}function qn(f){var d=Cn(f),C=f.ownerDocument,P=C.defaultView||C.parentWindow;return d.left+=Mn(P),d.left}var Ea=function(f){Object(zr.a)(C,f);var d=Object(qr.a)(C);function C(){var P;return Object(Qt.a)(this,C),P=d.apply(this,arguments),P.onHover=function(G){var ke=P.props,qe=ke.onHover,pt=ke.index;qe(G,pt)},P.onClick=function(G){var ke=P.props,qe=ke.onClick,pt=ke.index;qe(G,pt)},P.onKeyDown=function(G){var ke=P.props,qe=ke.onClick,pt=ke.index;G.keyCode===13&&qe(G,pt)},P}return Object(ar.a)(C,[{key:"getClassName",value:function(){var G=this.props,ke=G.prefixCls,qe=G.index,pt=G.value,zt=G.allowHalf,er=G.focused,gr=qe+1,Lr=ke;return pt===0&&qe===0&&er?Lr+=" ".concat(ke,"-focused"):zt&&pt+.5>=gr&&pt<gr?(Lr+=" ".concat(ke,"-half ").concat(ke,"-active"),er&&(Lr+=" ".concat(ke,"-focused"))):(Lr+=gr<=pt?" ".concat(ke,"-full"):" ".concat(ke,"-zero"),gr===pt&&er&&(Lr+=" ".concat(ke,"-focused"))),Lr}},{key:"render",value:function(){var G=this.onHover,ke=this.onClick,qe=this.onKeyDown,pt=this.props,zt=pt.disabled,er=pt.prefixCls,gr=pt.character,Lr=pt.characterRender,Or=pt.index,Vr=pt.count,Kr=pt.value,cn=typeof gr=="function"?gr(this.props):gr,Tn=b.a.createElement("li",{className:this.getClassName()},b.a.createElement("div",{onClick:zt?null:ke,onKeyDown:zt?null:qe,onMouseMove:zt?null:G,role:"radio","aria-checked":Kr>Or?"true":"false","aria-posinset":Or+1,"aria-setsize":Vr,tabIndex:zt?-1:0},b.a.createElement("div",{className:"".concat(er,"-first")},cn),b.a.createElement("div",{className:"".concat(er,"-second")},cn)));return Lr&&(Tn=Lr(Tn,this.props)),Tn}}]),C}(b.a.Component);function ji(){}var ro=function(f){Object(zr.a)(C,f);var d=Object(qr.a)(C);function C(P){var G;Object(Qt.a)(this,C),G=d.call(this,P),G.onHover=function(qe,pt){var zt=G.props.onHoverChange,er=G.getStarValue(pt,qe.pageX),gr=G.state.cleanedValue;er!==gr&&G.setState({hoverValue:er,cleanedValue:null}),zt(er)},G.onMouseLeave=function(){var qe=G.props.onHoverChange;G.setState({hoverValue:void 0,cleanedValue:null}),qe(void 0)},G.onClick=function(qe,pt){var zt=G.props.allowClear,er=G.state.value,gr=G.getStarValue(pt,qe.pageX),Lr=!1;zt&&(Lr=gr===er),G.onMouseLeave(),G.changeValue(Lr?0:gr),G.setState({cleanedValue:Lr?gr:null})},G.onFocus=function(){var qe=G.props.onFocus;G.setState({focused:!0}),qe&&qe()},G.onBlur=function(){var qe=G.props.onBlur;G.setState({focused:!1}),qe&&qe()},G.onKeyDown=function(qe){var pt=qe.keyCode,zt=G.props,er=zt.count,gr=zt.allowHalf,Lr=zt.onKeyDown,Or=zt.direction,Vr=Or==="rtl",Kr=G.state.value;pt===xe.a.RIGHT&&Kr<er&&!Vr?(gr?Kr+=.5:Kr+=1,G.changeValue(Kr),qe.preventDefault()):pt===xe.a.LEFT&&Kr>0&&!Vr||pt===xe.a.RIGHT&&Kr>0&&Vr?(gr?Kr-=.5:Kr-=1,G.changeValue(Kr),qe.preventDefault()):pt===xe.a.LEFT&&Kr<er&&Vr&&(gr?Kr+=.5:Kr+=1,G.changeValue(Kr),qe.preventDefault()),Lr&&Lr(qe)},G.saveRef=function(qe){return function(pt){G.stars[qe]=pt}},G.saveRate=function(qe){G.rate=qe};var ke=P.value;return ke===void 0&&(ke=P.defaultValue),G.stars={},G.state={value:ke,focused:!1,cleanedValue:null},G}return Object(ar.a)(C,[{key:"componentDidMount",value:function(){var G=this.props,ke=G.autoFocus,qe=G.disabled;ke&&!qe&&this.focus()}},{key:"getStarDOM",value:function(G){return Object(ln.a)(this.stars[G])}},{key:"getStarValue",value:function(G,ke){var qe=this.props,pt=qe.allowHalf,zt=qe.direction,er=zt==="rtl",gr=G+1;if(pt){var Lr=this.getStarDOM(G),Or=qn(Lr),Vr=Lr.clientWidth;(er&&ke-Or>Vr/2||!er&&ke-Or<Vr/2)&&(gr-=.5)}return gr}},{key:"focus",value:function(){var G=this.props.disabled;G||this.rate.focus()}},{key:"blur",value:function(){var G=this.props.disabled;G||this.rate.blur()}},{key:"changeValue",value:function(G){var ke=this.props.onChange;"value"in this.props||this.setState({value:G}),ke(G)}},{key:"render",value:function(){for(var G=this.props,ke=G.count,qe=G.allowHalf,pt=G.style,zt=G.prefixCls,er=G.disabled,gr=G.className,Lr=G.character,Or=G.characterRender,Vr=G.tabIndex,Kr=G.direction,cn=this.state,Tn=cn.value,xa=cn.hoverValue,za=cn.focused,zi=[],yo=er?"".concat(zt,"-disabled"):"",Fi=0;Fi<ke;Fi+=1)zi.push(b.a.createElement(Ea,{ref:this.saveRef(Fi),index:Fi,count:ke,disabled:er,prefixCls:"".concat(zt,"-star"),allowHalf:qe,value:xa===void 0?Tn:xa,onClick:this.onClick,onHover:this.onHover,key:Fi,character:Lr,characterRender:Or,focused:za}));var ci=ye()(zt,yo,gr,Object(Ze.a)({},"".concat(zt,"-rtl"),Kr==="rtl"));return b.a.createElement("ul",{className:ci,style:pt,onMouseLeave:er?null:this.onMouseLeave,tabIndex:er?-1:Vr,onFocus:er?null:this.onFocus,onBlur:er?null:this.onBlur,onKeyDown:er?null:this.onKeyDown,ref:this.saveRate,role:"radiogroup"},zi)}}],[{key:"getDerivedStateFromProps",value:function(G,ke){return"value"in G&&G.value!==void 0?Object(tn.a)(Object(tn.a)({},ke),{},{value:G.value}):ke}}]),C}(b.a.Component);ro.defaultProps={defaultValue:0,count:5,allowHalf:!1,allowClear:!0,style:{},prefixCls:"rc-rate",onChange:ji,character:"\u2605",onHoverChange:ji,tabIndex:0,direction:"ltr"};var Ao=ro,uo=Ao,So={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M908.1 353.1l-253.9-36.9L540.7 86.1c-3.1-6.3-8.2-11.4-14.5-14.5-15.8-7.8-35-1.3-42.9 14.5L369.8 316.2l-253.9 36.9c-7 1-13.4 4.3-18.3 9.3a32.05 32.05 0 00.6 45.3l183.7 179.1-43.4 252.9a31.95 31.95 0 0046.4 33.7L512 754l227.1 119.4c6.2 3.3 13.4 4.4 20.3 3.2 17.4-3 29.1-19.5 26.1-36.9l-43.4-252.9 183.7-179.1c5-4.9 8.3-11.3 9.3-18.3 2.7-17.5-9.5-33.7-27-36.3z"}}]},name:"star",theme:"filled"},fs=So,vs=function(d,C){return T.createElement(ya.a,Object(tn.a)(Object(tn.a)({},d),{},{ref:C,icon:fs}))};vs.displayName="StarFilled";var bs=T.forwardRef(vs),Yl=function(f,d){var C={};for(var P in f)Object.prototype.hasOwnProperty.call(f,P)&&d.indexOf(P)<0&&(C[P]=f[P]);if(f!=null&&typeof Object.getOwnPropertySymbols=="function")for(var G=0,P=Object.getOwnPropertySymbols(f);G<P.length;G++)d.indexOf(P[G])<0&&Object.prototype.propertyIsEnumerable.call(f,P[G])&&(C[P[G]]=f[P[G]]);return C},Ml=T.forwardRef(function(f,d){var C=f.prefixCls,P=f.tooltips,G=Yl(f,["prefixCls","tooltips"]),ke=function(Lr,Or){var Vr=Or.index;return P?T.createElement(Zc.a,{title:P[Vr]},Lr):Lr},qe=T.useContext(Mh.b),pt=qe.getPrefixCls,zt=qe.direction,er=pt("rate",C);return T.createElement(uo,Object(Be.a)({ref:d,characterRender:ke},G,{prefixCls:er,direction:zt}))});Ml.displayName="Rate",Ml.defaultProps={character:T.createElement(bs,null)};var Xu=Ml;function Ul(f,d){var C=Object.keys(f);if(Object.getOwnPropertySymbols){var P=Object.getOwnPropertySymbols(f);d&&(P=P.filter(function(G){return Object.getOwnPropertyDescriptor(f,G).enumerable})),C.push.apply(C,P)}return C}function Ds(f){for(var d=1;d<arguments.length;d++){var C=arguments[d]!=null?arguments[d]:{};d%2?Ul(Object(C),!0).forEach(function(P){Qs(f,P,C[P])}):Object.getOwnPropertyDescriptors?Object.defineProperties(f,Object.getOwnPropertyDescriptors(C)):Ul(Object(C)).forEach(function(P){Object.defineProperty(f,P,Object.getOwnPropertyDescriptor(C,P))})}return f}function Qs(f,d,C){return d in f?Object.defineProperty(f,d,{value:C,enumerable:!0,configurable:!0,writable:!0}):f[d]=C,f}function Vl(){return Vl=Object.assign||function(f){for(var d=1;d<arguments.length;d++){var C=arguments[d];for(var P in C)Object.prototype.hasOwnProperty.call(C,P)&&(f[P]=C[P])}return f},Vl.apply(this,arguments)}var Kl=function(d,C){var P=d.text,G=d.mode,ke=d.render,qe=d.renderFormItem,pt=d.fieldProps;if(G==="read"){var zt=b.a.createElement(Xu,Vl({allowHalf:!0,disabled:!0,ref:C},pt,{value:P}));return ke?ke(P,Ds({mode:G},pt),b.a.createElement(b.a.Fragment,null,zt)):zt}if(G==="edit"||G==="update"){var er=b.a.createElement(Xu,Vl({allowHalf:!0,ref:C},pt));return qe?qe(P,Ds({mode:G},pt),er):er}return null},vl=b.a.forwardRef(Kl),hf=r("czTT"),pf=r("Ff2n"),Gp=T.forwardRef(function(f,d){var C,P=f.prefixCls,G=P===void 0?"rc-switch":P,ke=f.className,qe=f.checked,pt=f.defaultChecked,zt=f.disabled,er=f.loadingIcon,gr=f.checkedChildren,Lr=f.unCheckedChildren,Or=f.onClick,Vr=f.onChange,Kr=f.onKeyDown,cn=Object(pf.a)(f,["prefixCls","className","checked","defaultChecked","disabled","loadingIcon","checkedChildren","unCheckedChildren","onClick","onChange","onKeyDown"]),Tn=Object(de.a)(!1,{value:qe,defaultValue:pt}),xa=Object(rt.a)(Tn,2),za=xa[0],zi=xa[1];function yo(Ro,gs){var lu=za;return zt||(lu=Ro,zi(lu),Vr==null||Vr(lu,gs)),lu}function Fi(Ro){Ro.which===xe.a.LEFT?yo(!1,Ro):Ro.which===xe.a.RIGHT&&yo(!0,Ro),Kr==null||Kr(Ro)}function ci(Ro){var gs=yo(!za,Ro);Or==null||Or(gs,Ro)}var as=ye()(G,ke,(C={},Object(Ze.a)(C,"".concat(G,"-checked"),za),Object(Ze.a)(C,"".concat(G,"-disabled"),zt),C));return T.createElement("button",Object.assign({},cn,{type:"button",role:"switch","aria-checked":za,disabled:zt,className:as,ref:d,onKeyDown:Fi,onClick:ci}),er,T.createElement("span",{className:"".concat(G,"-inner")},za?gr:Lr))});Gp.displayName="Switch";var vh=Gp,bc=r("ye1Q"),lv=r("g0mS"),Tv=function(f,d){var C={};for(var P in f)Object.prototype.hasOwnProperty.call(f,P)&&d.indexOf(P)<0&&(C[P]=f[P]);if(f!=null&&typeof Object.getOwnPropertySymbols=="function")for(var G=0,P=Object.getOwnPropertySymbols(f);G<P.length;G++)d.indexOf(P[G])<0&&Object.prototype.propertyIsEnumerable.call(f,P[G])&&(C[P[G]]=f[P[G]]);return C},Kp=T.forwardRef(function(f,d){var C,P=f.prefixCls,G=f.size,ke=f.loading,qe=f.className,pt=qe===void 0?"":qe,zt=f.disabled,er=Tv(f,["prefixCls","size","loading","className","disabled"]);Object(Ah.a)("checked"in er||!("value"in er),"Switch","`value` is not a valid prop, do you mean `checked`?");var gr=T.useContext(Mh.b),Lr=gr.getPrefixCls,Or=gr.direction,Vr=T.useContext(Wp.b),Kr=Lr("switch",P),cn=T.createElement("div",{className:"".concat(Kr,"-handle")},ke&&T.createElement(bc.a,{className:"".concat(Kr,"-loading-icon")})),Tn=ye()((C={},Object(Ze.a)(C,"".concat(Kr,"-small"),(G||Vr)==="small"),Object(Ze.a)(C,"".concat(Kr,"-loading"),ke),Object(Ze.a)(C,"".concat(Kr,"-rtl"),Or==="rtl"),C),pt);return T.createElement(lv.a,{insertExtraNode:!0},T.createElement(vh,Object(Be.a)({},er,{prefixCls:Kr,className:Tn,disabled:zt||ke,ref:d,loadingIcon:cn})))});Kp.__ANT_SWITCH=!0,Kp.displayName="Switch";var tm=Kp,Ep=r("BGR+");function Gs(){return Gs=Object.assign||function(f){for(var d=1;d<arguments.length;d++){var C=arguments[d];for(var P in C)Object.prototype.hasOwnProperty.call(C,P)&&(f[P]=C[P])}return f},Gs.apply(this,arguments)}function rh(f,d){var C=Object.keys(f);if(Object.getOwnPropertySymbols){var P=Object.getOwnPropertySymbols(f);d&&(P=P.filter(function(G){return Object.getOwnPropertyDescriptor(f,G).enumerable})),C.push.apply(C,P)}return C}function rm(f){for(var d=1;d<arguments.length;d++){var C=arguments[d]!=null?arguments[d]:{};d%2?rh(Object(C),!0).forEach(function(P){Zp(f,P,C[P])}):Object.getOwnPropertyDescriptors?Object.defineProperties(f,Object.getOwnPropertyDescriptors(C)):rh(Object(C)).forEach(function(P){Object.defineProperty(f,P,Object.getOwnPropertyDescriptor(C,P))})}return f}function Zp(f,d,C){return d in f?Object.defineProperty(f,d,{value:C,enumerable:!0,configurable:!0,writable:!0}):f[d]=C,f}var tg=function(d,C){var P=d.text,G=d.mode,ke=d.render,qe=d.renderFormItem,pt=d.fieldProps,zt=Object(oe.d)(),er=Object(T.useMemo)(function(){var Lr,Or;return P==null||"".concat(P).length<1?"-":P?(Lr=pt==null?void 0:pt.checkedChildren)!==null&&Lr!==void 0?Lr:zt.getMessage("switch.open","\u6253\u5F00"):(Or=pt==null?void 0:pt.unCheckedChildren)!==null&&Or!==void 0?Or:zt.getMessage("switch.close","\u5173\u95ED")},[pt==null?void 0:pt.checkedChildren,pt==null?void 0:pt.unCheckedChildren,P]);if(G==="read")return ke?ke(P,rm({mode:G},pt),b.a.createElement(b.a.Fragment,null,er)):er!=null?er:"-";if(G==="edit"||G==="update"){var gr=b.a.createElement(tm,Gs({ref:C},Object(Ep.a)(pt,["value"]),{checked:(pt==null?void 0:pt.checked)||(pt==null?void 0:pt.value)}));return qe?qe(P,rm({mode:G},pt),gr):gr}return null},nm=b.a.forwardRef(tg);function gm(){return gm=Object.assign||function(f){for(var d=1;d<arguments.length;d++){var C=arguments[d];for(var P in C)Object.prototype.hasOwnProperty.call(C,P)&&(f[P]=C[P])}return f},gm.apply(this,arguments)}function mh(f,d){var C=Object.keys(f);if(Object.getOwnPropertySymbols){var P=Object.getOwnPropertySymbols(f);d&&(P=P.filter(function(G){return Object.getOwnPropertyDescriptor(f,G).enumerable})),C.push.apply(C,P)}return C}function rg(f){for(var d=1;d<arguments.length;d++){var C=arguments[d]!=null?arguments[d]:{};d%2?mh(Object(C),!0).forEach(function(P){rp(f,P,C[P])}):Object.getOwnPropertyDescriptors?Object.defineProperties(f,Object.getOwnPropertyDescriptors(C)):mh(Object(C)).forEach(function(P){Object.defineProperty(f,P,Object.getOwnPropertyDescriptor(C,P))})}return f}function rp(f,d,C){return d in f?Object.defineProperty(f,d,{value:C,enumerable:!0,configurable:!0,writable:!0}):f[d]=C,f}var ym=function(d,C){var P=d.text,G=d.mode,ke=d.render,qe=d.placeholder,pt=d.renderFormItem,zt=d.fieldProps;if(G==="read"){var er,gr=new Intl.NumberFormat(void 0,zt==null?void 0:zt.intlProps).format(Number(P)),Lr=b.a.createElement("span",{ref:C},(zt==null||(er=zt.formatter)===null||er===void 0?void 0:er.call(zt,gr))||gr);return ke?ke(P,rg({mode:G},zt),Lr):Lr}if(G==="edit"||G==="update"){var Or=b.a.createElement(Te.a,gm({ref:C,min:0,placeholder:qe},zt));return pt?pt(P,rg({mode:G},zt),Or):Or}return null},Ic=b.a.forwardRef(ym);function Av(){return Av=Object.assign||function(f){for(var d=1;d<arguments.length;d++){var C=arguments[d];for(var P in C)Object.prototype.hasOwnProperty.call(C,P)&&(f[P]=C[P])}return f},Av.apply(this,arguments)}function Hl(f,d){var C=Object.keys(f);if(Object.getOwnPropertySymbols){var P=Object.getOwnPropertySymbols(f);d&&(P=P.filter(function(G){return Object.getOwnPropertyDescriptor(f,G).enumerable})),C.push.apply(C,P)}return C}function gh(f){for(var d=1;d<arguments.length;d++){var C=arguments[d]!=null?arguments[d]:{};d%2?Hl(Object(C),!0).forEach(function(P){am(f,P,C[P])}):Object.getOwnPropertyDescriptors?Object.defineProperties(f,Object.getOwnPropertyDescriptors(C)):Hl(Object(C)).forEach(function(P){Object.defineProperty(f,P,Object.getOwnPropertyDescriptor(C,P))})}return f}function am(f,d,C){return d in f?Object.defineProperty(f,d,{value:C,enumerable:!0,configurable:!0,writable:!0}):f[d]=C,f}function Lh(f){var d="",C=Math.floor(f/(3600*24)),P=Math.floor(f/3600),G=Math.floor(f/60%60),ke=Math.floor(f%60);return d="".concat(ke,"\u79D2"),G>0&&(d="".concat(G,"\u5206\u949F").concat(d)),P>0&&(d="".concat(P,"\u5C0F\u65F6").concat(d)),C>0&&(d="".concat(C,"\u5929").concat(d)),d}var nh=function(d,C){var P=d.text,G=d.mode,ke=d.render,qe=d.renderFormItem,pt=d.fieldProps,zt=d.placeholder;if(G==="read"){var er=Lh(Number(P)),gr=b.a.createElement("span",{ref:C},er);return ke?ke(P,gh({mode:G},pt),gr):gr}if(G==="edit"||G==="update"){var Lr=b.a.createElement(Te.a,Av({ref:C,min:0,style:{width:"100%"},placeholder:zt},pt));return qe?qe(P,gh({mode:G},pt),Lr):Lr}return null},np=b.a.forwardRef(nh),Mv=r("7Kak"),Dh=r("9yH6"),Fh=r("nSmt"),Sp=["radioType","renderFormItem","mode","render"];function Rc(){return Rc=Object.assign||function(f){for(var d=1;d<arguments.length;d++){var C=arguments[d];for(var P in C)Object.prototype.hasOwnProperty.call(C,P)&&(f[P]=C[P])}return f},Rc.apply(this,arguments)}function Op(f,d){var C=Object.keys(f);if(Object.getOwnPropertySymbols){var P=Object.getOwnPropertySymbols(f);d&&(P=P.filter(function(G){return Object.getOwnPropertyDescriptor(f,G).enumerable})),C.push.apply(C,P)}return C}function vf(f){for(var d=1;d<arguments.length;d++){var C=arguments[d]!=null?arguments[d]:{};d%2?Op(Object(C),!0).forEach(function(P){_v(f,P,C[P])}):Object.getOwnPropertyDescriptors?Object.defineProperties(f,Object.getOwnPropertyDescriptors(C)):Op(Object(C)).forEach(function(P){Object.defineProperty(f,P,Object.getOwnPropertyDescriptor(C,P))})}return f}function _v(f,d,C){return d in f?Object.defineProperty(f,d,{value:C,enumerable:!0,configurable:!0,writable:!0}):f[d]=C,f}function uv(f,d){return fv(f)||xd(f,d)||cv(f,d)||Yp()}function Yp(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function cv(f,d){if(!!f){if(typeof f=="string")return $p(f,d);var C=Object.prototype.toString.call(f).slice(8,-1);if(C==="Object"&&f.constructor&&(C=f.constructor.name),C==="Map"||C==="Set")return Array.from(f);if(C==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(C))return $p(f,d)}}function $p(f,d){(d==null||d>f.length)&&(d=f.length);for(var C=0,P=new Array(d);C<d;C++)P[C]=f[C];return P}function xd(f,d){var C=f==null?null:typeof Symbol!="undefined"&&f[Symbol.iterator]||f["@@iterator"];if(C!=null){var P=[],G=!0,ke=!1,qe,pt;try{for(C=C.call(f);!(G=(qe=C.next()).done)&&(P.push(qe.value),!(d&&P.length===d));G=!0);}catch(zt){ke=!0,pt=zt}finally{try{!G&&C.return!=null&&C.return()}finally{if(ke)throw pt}}return P}}function fv(f){if(Array.isArray(f))return f}function im(f,d){if(f==null)return{};var C=dv(f,d),P,G;if(Object.getOwnPropertySymbols){var ke=Object.getOwnPropertySymbols(f);for(G=0;G<ke.length;G++)P=ke[G],!(d.indexOf(P)>=0)&&(!Object.prototype.propertyIsEnumerable.call(f,P)||(C[P]=f[P]))}return C}function dv(f,d){if(f==null)return{};var C={},P=Object.keys(f),G,ke;for(ke=0;ke<P.length;ke++)G=P[ke],!(d.indexOf(G)>=0)&&(C[G]=f[G]);return C}var Pp=function(d,C){var P=d.radioType,G=d.renderFormItem,ke=d.mode,qe=d.render,pt=im(d,Sp),zt=Object(T.useContext)(Mt.b.ConfigContext),er=zt.getPrefixCls,gr=er("pro-field-radio"),Lr=Object(Qo.e)(pt),Or=uv(Lr,3),Vr=Or[0],Kr=Or[1],cn=Or[2],Tn=Object(T.useRef)();if(Object(T.useImperativeHandle)(C,function(){return vf(vf({},Tn.current||{}),{},{fetchData:function(){return cn()}})}),Vr)return b.a.createElement(zo.a,{size:"small"});if(ke==="read"){var xa=(Kr==null?void 0:Kr.length)?Kr==null?void 0:Kr.reduce(function(ci,as){return vf(vf({},ci),{},_v({},as.value,as.label))},{}):void 0,za=b.a.createElement(b.a.Fragment,null,Object(Qo.c)(pt.text,Object(Qo.a)(pt.valueEnum||xa)));return qe?qe(pt.text,vf({mode:ke},pt.fieldProps),za)||null:za}if(ke==="edit"){var zi,yo=P==="button"?Dh.a.Button:Dh.a,Fi=b.a.createElement(Dh.a.Group,Rc({ref:Tn},pt.fieldProps,{className:ye()((zi=pt.fieldProps)===null||zi===void 0?void 0:zi.className,"".concat(gr,"-").concat(pt.fieldProps.layout||"horizontal")),options:void 0}),Kr==null?void 0:Kr.map(function(ci){return b.a.createElement(yo,Rc({key:ci.value},ci),ci.label)}));return G?G(pt.text,vf({mode:ke},pt.fieldProps),Fi)||null:Fi}return null},om=b.a.forwardRef(Pp),Lc=r("XCrF"),ah=r("1GRj");function km(f,d){var C=Object.keys(f);if(Object.getOwnPropertySymbols){var P=Object.getOwnPropertySymbols(f);d&&(P=P.filter(function(G){return Object.getOwnPropertyDescriptor(f,G).enumerable})),C.push.apply(C,P)}return C}function Bm(f){for(var d=1;d<arguments.length;d++){var C=arguments[d]!=null?arguments[d]:{};d%2?km(Object(C),!0).forEach(function(P){ih(f,P,C[P])}):Object.getOwnPropertyDescriptors?Object.defineProperties(f,Object.getOwnPropertyDescriptors(C)):km(Object(C)).forEach(function(P){Object.defineProperty(f,P,Object.getOwnPropertyDescriptor(C,P))})}return f}function ih(f,d,C){return d in f?Object.defineProperty(f,d,{value:C,enumerable:!0,configurable:!0,writable:!0}):f[d]=C,f}function ap(){return ap=Object.assign||function(f){for(var d=1;d<arguments.length;d++){var C=arguments[d];for(var P in C)Object.prototype.hasOwnProperty.call(C,P)&&(f[P]=C[P])}return f},ap.apply(this,arguments)}var hv=function(d){var C=d.text,P=d.mode,G=d.render,ke=d.renderFormItem,qe=d.fieldProps,pt=d.placeholder,zt=d.width;if(P==="read"){var er=b.a.createElement(ah.a,ap({width:zt||32,src:C},qe));return G?G(C,Bm({mode:P},qe),er):er}if(P==="edit"||P==="update"){var gr=b.a.createElement(Mi.a,ap({placeholder:pt},qe));return ke?ke(C,Bm({mode:P},qe),gr):gr}return null},Cd=hv,ng=r("Q9mQ"),pv=r("diRs"),Wd=r("/FUP"),Vo=r.n(Wd),zm=function(d,C,P,G,ke){var qe=ke.clientWidth,pt=ke.clientHeight,zt=typeof d.pageX=="number"?d.pageX:d.touches[0].pageX,er=typeof d.pageY=="number"?d.pageY:d.touches[0].pageY,gr=zt-(ke.getBoundingClientRect().left+window.pageXOffset),Lr=er-(ke.getBoundingClientRect().top+window.pageYOffset);if(P==="vertical"){var Or=void 0;if(Lr<0?Or=0:Lr>pt?Or=1:Or=Math.round(Lr*100/pt)/100,C.a!==Or)return{h:C.h,s:C.s,l:C.l,a:Or,source:"rgb"}}else{var Vr=void 0;if(gr<0?Vr=0:gr>qe?Vr=1:Vr=Math.round(gr*100/qe)/100,G!==Vr)return{h:C.h,s:C.s,l:C.l,a:Vr,source:"rgb"}}return null},wp={},ip=function(d,C,P,G){if(typeof document=="undefined"&&!G)return null;var ke=G?new G:document.createElement("canvas");ke.width=P*2,ke.height=P*2;var qe=ke.getContext("2d");return qe?(qe.fillStyle=d,qe.fillRect(0,0,ke.width,ke.height),qe.fillStyle=C,qe.fillRect(0,0,P,P),qe.translate(P,P),qe.fillRect(0,0,P,P),ke.toDataURL()):null},Tp=function(d,C,P,G){var ke=d+"-"+C+"-"+P+(G?"-server":"");if(wp[ke])return wp[ke];var qe=ip(d,C,P,G);return wp[ke]=qe,qe},Iv=Object.assign||function(f){for(var d=1;d<arguments.length;d++){var C=arguments[d];for(var P in C)Object.prototype.hasOwnProperty.call(C,P)&&(f[P]=C[P])}return f},op=function(d){var C=d.white,P=d.grey,G=d.size,ke=d.renderers,qe=d.borderRadius,pt=d.boxShadow,zt=d.children,er=Vo()({default:{grid:{borderRadius:qe,boxShadow:pt,absolute:"0px 0px 0px 0px",background:"url("+Tp(C,P,G,ke.canvas)+") center left"}}});return Object(T.isValidElement)(zt)?b.a.cloneElement(zt,Iv({},zt.props,{style:Iv({},zt.props.style,er.grid)})):b.a.createElement("div",{style:er.grid})};op.defaultProps={size:8,white:"transparent",grey:"rgba(0,0,0,.08)",renderers:{}};var Ap=op,fc=Object.assign||function(f){for(var d=1;d<arguments.length;d++){var C=arguments[d];for(var P in C)Object.prototype.hasOwnProperty.call(C,P)&&(f[P]=C[P])}return f},Mp=function(){function f(d,C){for(var P=0;P<C.length;P++){var G=C[P];G.enumerable=G.enumerable||!1,G.configurable=!0,"value"in G&&(G.writable=!0),Object.defineProperty(d,G.key,G)}}return function(d,C,P){return C&&f(d.prototype,C),P&&f(d,P),d}}();function dc(f,d){if(!(f instanceof d))throw new TypeError("Cannot call a class as a function")}function $l(f,d){if(!f)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return d&&(typeof d=="object"||typeof d=="function")?d:f}function sm(f,d){if(typeof d!="function"&&d!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof d);f.prototype=Object.create(d&&d.prototype,{constructor:{value:f,enumerable:!1,writable:!0,configurable:!0}}),d&&(Object.setPrototypeOf?Object.setPrototypeOf(f,d):f.__proto__=d)}var lm=function(f){sm(d,f);function d(){var C,P,G,ke;dc(this,d);for(var qe=arguments.length,pt=Array(qe),zt=0;zt<qe;zt++)pt[zt]=arguments[zt];return ke=(P=(G=$l(this,(C=d.__proto__||Object.getPrototypeOf(d)).call.apply(C,[this].concat(pt))),G),G.handleChange=function(er){var gr=zm(er,G.props.hsl,G.props.direction,G.props.a,G.container);gr&&typeof G.props.onChange=="function"&&G.props.onChange(gr,er)},G.handleMouseDown=function(er){G.handleChange(er),window.addEventListener("mousemove",G.handleChange),window.addEventListener("mouseup",G.handleMouseUp)},G.handleMouseUp=function(){G.unbindEventListeners()},G.unbindEventListeners=function(){window.removeEventListener("mousemove",G.handleChange),window.removeEventListener("mouseup",G.handleMouseUp)},P),$l(G,ke)}return Mp(d,[{key:"componentWillUnmount",value:function(){this.unbindEventListeners()}},{key:"render",value:function(){var P=this,G=this.props.rgb,ke=Vo()({default:{alpha:{absolute:"0px 0px 0px 0px",borderRadius:this.props.radius},checkboard:{absolute:"0px 0px 0px 0px",overflow:"hidden",borderRadius:this.props.radius},gradient:{absolute:"0px 0px 0px 0px",background:"linear-gradient(to right, rgba("+G.r+","+G.g+","+G.b+`, 0) 0%,
           rgba(`+G.r+","+G.g+","+G.b+", 1) 100%)",boxShadow:this.props.shadow,borderRadius:this.props.radius},container:{position:"relative",height:"100%",margin:"0 3px"},pointer:{position:"absolute",left:G.a*100+"%"},slider:{width:"4px",borderRadius:"1px",height:"8px",boxShadow:"0 0 2px rgba(0, 0, 0, .6)",background:"#fff",marginTop:"1px",transform:"translateX(-2px)"}},vertical:{gradient:{background:"linear-gradient(to bottom, rgba("+G.r+","+G.g+","+G.b+`, 0) 0%,
           rgba(`+G.r+","+G.g+","+G.b+", 1) 100%)"},pointer:{left:0,top:G.a*100+"%"}},overwrite:fc({},this.props.style)},{vertical:this.props.direction==="vertical",overwrite:!0});return b.a.createElement("div",{style:ke.alpha},b.a.createElement("div",{style:ke.checkboard},b.a.createElement(Ap,{renderers:this.props.renderers})),b.a.createElement("div",{style:ke.gradient}),b.a.createElement("div",{style:ke.container,ref:function(pt){return P.container=pt},onMouseDown:this.handleMouseDown,onTouchMove:this.handleChange,onTouchStart:this.handleChange},b.a.createElement("div",{style:ke.pointer},this.props.pointer?b.a.createElement(this.props.pointer,this.props):b.a.createElement("div",{style:ke.slider}))))}}]),d}(T.PureComponent||T.Component),Rv=lm,ag=function(){function f(d,C){for(var P=0;P<C.length;P++){var G=C[P];G.enumerable=G.enumerable||!1,G.configurable=!0,"value"in G&&(G.writable=!0),Object.defineProperty(d,G.key,G)}}return function(d,C,P){return C&&f(d.prototype,C),P&&f(d,P),d}}();function sp(f,d,C){return d in f?Object.defineProperty(f,d,{value:C,enumerable:!0,configurable:!0,writable:!0}):f[d]=C,f}function Lv(f,d){if(!(f instanceof d))throw new TypeError("Cannot call a class as a function")}function bm(f,d){if(!f)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return d&&(typeof d=="object"||typeof d=="function")?d:f}function jg(f,d){if(typeof d!="function"&&d!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof d);f.prototype=Object.create(d&&d.prototype,{constructor:{value:f,enumerable:!1,writable:!0,configurable:!0}}),d&&(Object.setPrototypeOf?Object.setPrototypeOf(f,d):f.__proto__=d)}var xm=1,Cm=38,ig=40,xc=[Cm,ig],_p=function(d){return xc.indexOf(d)>-1},kc=function(d){return Number(String(d).replace(/%/g,""))},lp=1,Pl=function(f){jg(d,f);function d(C){Lv(this,d);var P=bm(this,(d.__proto__||Object.getPrototypeOf(d)).call(this));return P.handleBlur=function(){P.state.blurValue&&P.setState({value:P.state.blurValue,blurValue:null})},P.handleChange=function(G){P.setUpdatedValue(G.target.value,G)},P.handleKeyDown=function(G){var ke=kc(G.target.value);if(!isNaN(ke)&&_p(G.keyCode)){var qe=P.getArrowOffset(),pt=G.keyCode===Cm?ke+qe:ke-qe;P.setUpdatedValue(pt,G)}},P.handleDrag=function(G){if(P.props.dragLabel){var ke=Math.round(P.props.value+G.movementX);ke>=0&&ke<=P.props.dragMax&&P.props.onChange&&P.props.onChange(P.getValueObjectWithLabel(ke),G)}},P.handleMouseDown=function(G){P.props.dragLabel&&(G.preventDefault(),P.handleDrag(G),window.addEventListener("mousemove",P.handleDrag),window.addEventListener("mouseup",P.handleMouseUp))},P.handleMouseUp=function(){P.unbindEventListeners()},P.unbindEventListeners=function(){window.removeEventListener("mousemove",P.handleDrag),window.removeEventListener("mouseup",P.handleMouseUp)},P.state={value:String(C.value).toUpperCase(),blurValue:String(C.value).toUpperCase()},P.inputId="rc-editable-input-"+lp++,P}return ag(d,[{key:"componentDidUpdate",value:function(P,G){this.props.value!==this.state.value&&(P.value!==this.props.value||G.value!==this.state.value)&&(this.input===document.activeElement?this.setState({blurValue:String(this.props.value).toUpperCase()}):this.setState({value:String(this.props.value).toUpperCase(),blurValue:!this.state.blurValue&&String(this.props.value).toUpperCase()}))}},{key:"componentWillUnmount",value:function(){this.unbindEventListeners()}},{key:"getValueObjectWithLabel",value:function(P){return sp({},this.props.label,P)}},{key:"getArrowOffset",value:function(){return this.props.arrowOffset||xm}},{key:"setUpdatedValue",value:function(P,G){var ke=this.props.label?this.getValueObjectWithLabel(P):P;this.props.onChange&&this.props.onChange(ke,G),this.setState({value:P})}},{key:"render",value:function(){var P=this,G=Vo()({default:{wrap:{position:"relative"}},"user-override":{wrap:this.props.style&&this.props.style.wrap?this.props.style.wrap:{},input:this.props.style&&this.props.style.input?this.props.style.input:{},label:this.props.style&&this.props.style.label?this.props.style.label:{}},"dragLabel-true":{label:{cursor:"ew-resize"}}},{"user-override":!0},this.props);return b.a.createElement("div",{style:G.wrap},b.a.createElement("input",{id:this.inputId,style:G.input,ref:function(qe){return P.input=qe},value:this.state.value,onKeyDown:this.handleKeyDown,onChange:this.handleChange,onBlur:this.handleBlur,placeholder:this.props.placeholder,spellCheck:"false"}),this.props.label&&!this.props.hideLabel?b.a.createElement("label",{htmlFor:this.inputId,style:G.label,onMouseDown:this.handleMouseDown},this.props.label):null)}}]),d}(T.PureComponent||T.Component),Cl=Pl,ss=function(d,C,P,G){var ke=G.clientWidth,qe=G.clientHeight,pt=typeof d.pageX=="number"?d.pageX:d.touches[0].pageX,zt=typeof d.pageY=="number"?d.pageY:d.touches[0].pageY,er=pt-(G.getBoundingClientRect().left+window.pageXOffset),gr=zt-(G.getBoundingClientRect().top+window.pageYOffset);if(C==="vertical"){var Lr=void 0;if(gr<0)Lr=359;else if(gr>qe)Lr=0;else{var Or=-(gr*100/qe)+100;Lr=360*Or/100}if(P.h!==Lr)return{h:Lr,s:P.s,l:P.l,a:P.a,source:"hsl"}}else{var Vr=void 0;if(er<0)Vr=0;else if(er>ke)Vr=359;else{var Kr=er*100/ke;Vr=360*Kr/100}if(P.h!==Vr)return{h:Vr,s:P.s,l:P.l,a:P.a,source:"hsl"}}return null},_t=function(){function f(d,C){for(var P=0;P<C.length;P++){var G=C[P];G.enumerable=G.enumerable||!1,G.configurable=!0,"value"in G&&(G.writable=!0),Object.defineProperty(d,G.key,G)}}return function(d,C,P){return C&&f(d.prototype,C),P&&f(d,P),d}}();function qt(f,d){if(!(f instanceof d))throw new TypeError("Cannot call a class as a function")}function Ur(f,d){if(!f)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return d&&(typeof d=="object"||typeof d=="function")?d:f}function jn(f,d){if(typeof d!="function"&&d!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof d);f.prototype=Object.create(d&&d.prototype,{constructor:{value:f,enumerable:!1,writable:!0,configurable:!0}}),d&&(Object.setPrototypeOf?Object.setPrototypeOf(f,d):f.__proto__=d)}var fa=function(f){jn(d,f);function d(){var C,P,G,ke;qt(this,d);for(var qe=arguments.length,pt=Array(qe),zt=0;zt<qe;zt++)pt[zt]=arguments[zt];return ke=(P=(G=Ur(this,(C=d.__proto__||Object.getPrototypeOf(d)).call.apply(C,[this].concat(pt))),G),G.handleChange=function(er){var gr=ss(er,G.props.direction,G.props.hsl,G.container);gr&&typeof G.props.onChange=="function"&&G.props.onChange(gr,er)},G.handleMouseDown=function(er){G.handleChange(er),window.addEventListener("mousemove",G.handleChange),window.addEventListener("mouseup",G.handleMouseUp)},G.handleMouseUp=function(){G.unbindEventListeners()},P),Ur(G,ke)}return _t(d,[{key:"componentWillUnmount",value:function(){this.unbindEventListeners()}},{key:"unbindEventListeners",value:function(){window.removeEventListener("mousemove",this.handleChange),window.removeEventListener("mouseup",this.handleMouseUp)}},{key:"render",value:function(){var P=this,G=this.props.direction,ke=G===void 0?"horizontal":G,qe=Vo()({default:{hue:{absolute:"0px 0px 0px 0px",borderRadius:this.props.radius,boxShadow:this.props.shadow},container:{padding:"0 2px",position:"relative",height:"100%",borderRadius:this.props.radius},pointer:{position:"absolute",left:this.props.hsl.h*100/360+"%"},slider:{marginTop:"1px",width:"4px",borderRadius:"1px",height:"8px",boxShadow:"0 0 2px rgba(0, 0, 0, .6)",background:"#fff",transform:"translateX(-2px)"}},vertical:{pointer:{left:"0px",top:-(this.props.hsl.h*100/360)+100+"%"}}},{vertical:ke==="vertical"});return b.a.createElement("div",{style:qe.hue},b.a.createElement("div",{className:"hue-"+ke,style:qe.container,ref:function(zt){return P.container=zt},onMouseDown:this.handleMouseDown,onTouchMove:this.handleChange,onTouchStart:this.handleChange},b.a.createElement("style",null,`
            .hue-horizontal {
              background: linear-gradient(to right, #f00 0%, #ff0 17%, #0f0
                33%, #0ff 50%, #00f 67%, #f0f 83%, #f00 100%);
              background: -webkit-linear-gradient(to right, #f00 0%, #ff0
                17%, #0f0 33%, #0ff 50%, #00f 67%, #f0f 83%, #f00 100%);
            }

            .hue-vertical {
              background: linear-gradient(to top, #f00 0%, #ff0 17%, #0f0 33%,
                #0ff 50%, #00f 67%, #f0f 83%, #f00 100%);
              background: -webkit-linear-gradient(to top, #f00 0%, #ff0 17%,
                #0f0 33%, #0ff 50%, #00f 67%, #f0f 83%, #f00 100%);
            }
          `),b.a.createElement("div",{style:qe.pointer},this.props.pointer?b.a.createElement(this.props.pointer,this.props):b.a.createElement("div",{style:qe.slider}))))}}]),d}(T.PureComponent||T.Component),ea=fa,Nn=r("17x9"),mn=r.n(Nn);function Ua(){this.__data__=[],this.size=0}var ja=Ua;function ei(f,d){return f===d||f!==f&&d!==d}var Va=ei;function si(f,d){for(var C=f.length;C--;)if(Va(f[C][0],d))return C;return-1}var ai=si,Ha=Array.prototype,Fn=Ha.splice;function In(f){var d=this.__data__,C=ai(d,f);if(C<0)return!1;var P=d.length-1;return C==P?d.pop():Fn.call(d,C,1),--this.size,!0}var Wa=In;function ki(f){var d=this.__data__,C=ai(d,f);return C<0?void 0:d[C][1]}var ua=ki;function vo(f){return ai(this.__data__,f)>-1}var Pi=vo;function yi(f,d){var C=this.__data__,P=ai(C,f);return P<0?(++this.size,C.push([f,d])):C[P][1]=d,this}var ta=yi;function na(f){var d=-1,C=f==null?0:f.length;for(this.clear();++d<C;){var P=f[d];this.set(P[0],P[1])}}na.prototype.clear=ja,na.prototype.delete=Wa,na.prototype.get=ua,na.prototype.has=Pi,na.prototype.set=ta;var Ii=na;function Qa(){this.__data__=new Ii,this.size=0}var Za=Qa;function Ei(f){var d=this.__data__,C=d.delete(f);return this.size=d.size,C}var Si=Ei;function Ss(f){return this.__data__.get(f)}var ls=Ss;function xi(f){return this.__data__.has(f)}var wi=xi,Fo=r("8M4i");function es(f){var d=typeof f;return f!=null&&(d=="object"||d=="function")}var cs=es,eu="[object AsyncFunction]",bu="[object Function]",js="[object GeneratorFunction]",Lu="[object Proxy]";function Zl(f){if(!cs(f))return!1;var d=Object(Fo.a)(f);return d==bu||d==js||d==eu||d==Lu}var xu=Zl,hu=r("Ju5/"),mf=hu.a["__core-js_shared__"],Xc=mf,Su=function(){var f=/[^.]+$/.exec(Xc&&Xc.keys&&Xc.keys.IE_PROTO||"");return f?"Symbol(src)_1."+f:""}();function ac(f){return!!Su&&Su in f}var Os=ac,Lf=Function.prototype,_l=Lf.toString;function Bc(f){if(f!=null){try{return _l.call(f)}catch(d){}try{return f+""}catch(d){}}return""}var Go=Bc,ds=/[\\^$.*+?()[\]{}|]/g,Ou=/^\[object .+?Constructor\]$/,Qc=Function.prototype,gf=Object.prototype,Rr=Qc.toString,$n=gf.hasOwnProperty,kn=RegExp("^"+Rr.call($n).replace(ds,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function Ri(f){if(!cs(f)||Os(f))return!1;var d=xu(f)?kn:Ou;return d.test(Go(f))}var As=Ri;function wr(f,d){return f==null?void 0:f[d]}var tr=wr;function en(f,d){var C=tr(f,d);return As(C)?C:void 0}var Pn=en,wn=Pn(hu.a,"Map"),rn=wn,Jr=Pn(Object,"create"),sn=Jr;function xr(){this.__data__=sn?sn(null):{},this.size=0}var jr=xr;function Mr(f){var d=this.has(f)&&delete this.__data__[f];return this.size-=d?1:0,d}var An=Mr,Ln="__lodash_hash_undefined__",Aa=Object.prototype,fi=Aa.hasOwnProperty;function ui(f){var d=this.__data__;if(sn){var C=d[f];return C===Ln?void 0:C}return fi.call(d,f)?d[f]:void 0}var Ti=ui,ii=Object.prototype,no=ii.hasOwnProperty;function Vi(f){var d=this.__data__;return sn?d[f]!==void 0:no.call(d,f)}var Xi=Vi,Qi="__lodash_hash_undefined__";function ao(f,d){var C=this.__data__;return this.size+=this.has(f)?0:1,C[f]=sn&&d===void 0?Qi:d,this}var ts=ao;function Fl(f){var d=-1,C=f==null?0:f.length;for(this.clear();++d<C;){var P=f[d];this.set(P[0],P[1])}}Fl.prototype.clear=jr,Fl.prototype.delete=An,Fl.prototype.get=Ti,Fl.prototype.has=Xi,Fl.prototype.set=ts;var ic=Fl;function Gd(){this.size=0,this.__data__={hash:new ic,map:new(rn||Ii),string:new ic}}var Dd=Gd;function od(f){var d=typeof f;return d=="string"||d=="number"||d=="symbol"||d=="boolean"?f!=="__proto__":f===null}var Il=od;function Nl(f,d){var C=f.__data__;return Il(d)?C[typeof d=="string"?"string":"hash"]:C.map}var Ed=Nl;function vv(f){var d=Ed(this,f).delete(f);return this.size-=d?1:0,d}var yh=vv;function Um(f){return Ed(this,f).get(f)}var kg=Um;function Vm(f){return Ed(this,f).has(f)}var Dv=Vm;function Em(f,d){var C=Ed(this,f),P=C.size;return C.set(f,d),this.size+=C.size==P?0:1,this}var Cg=Em;function hc(f){var d=-1,C=f==null?0:f.length;for(this.clear();++d<C;){var P=f[d];this.set(P[0],P[1])}}hc.prototype.clear=Dd,hc.prototype.delete=yh,hc.prototype.get=kg,hc.prototype.has=Dv,hc.prototype.set=Cg;var Fv=hc,mv=200;function og(f,d){var C=this.__data__;if(C instanceof Ii){var P=C.__data__;if(!rn||P.length<mv-1)return P.push([f,d]),this.size=++C.size,this;C=this.__data__=new Fv(P)}return C.set(f,d),this.size=C.size,this}var Eg=og;function Nv(f){var d=this.__data__=new Ii(f);this.size=d.size}Nv.prototype.clear=Za,Nv.prototype.delete=Si,Nv.prototype.get=ls,Nv.prototype.has=wi,Nv.prototype.set=Eg;var Nh=Nv,Xp=function(){try{var f=Pn(Object,"defineProperty");return f({},"",{}),f}catch(d){}}(),gv=Xp;function Sg(f,d,C){d=="__proto__"&&gv?gv(f,d,{configurable:!0,enumerable:!0,value:C,writable:!0}):f[d]=C}var Qp=Sg;function Dc(f,d,C){(C!==void 0&&!Va(f[d],C)||C===void 0&&!(d in f))&&Qp(f,d,C)}var Ip=Dc;function Bg(f){return function(d,C,P){for(var G=-1,ke=Object(d),qe=P(d),pt=qe.length;pt--;){var zt=qe[f?pt:++G];if(C(ke[zt],zt,ke)===!1)break}return d}}var e=Bg,t=e(),o=t,m=r("3/ER"),E=hu.a.Uint8Array,D=E;function V(f){var d=new f.constructor(f.byteLength);return new D(d).set(new D(f)),d}var ae=V;function je(f,d){var C=d?ae(f.buffer):f.buffer;return new f.constructor(C,f.byteOffset,f.length)}var tt=je;function wt(f,d){var C=-1,P=f.length;for(d||(d=Array(P));++C<P;)d[C]=f[C];return d}var Bt=wt,Kt=Object.create,pr=function(){function f(){}return function(d){if(!cs(d))return{};if(Kt)return Kt(d);f.prototype=d;var C=new f;return f.prototype=void 0,C}}(),Ir=pr,Ar=r("UudT"),$r=Object.prototype;function Gr(f){var d=f&&f.constructor,C=typeof d=="function"&&d.prototype||$r;return f===C}var gn=Gr;function Dn(f){return typeof f.constructor=="function"&&!gn(f)?Ir(Object(Ar.a)(f)):{}}var Kn=Dn,ha=r("EUcb"),da="[object Arguments]";function Ja(f){return Object(ha.a)(f)&&Object(Fo.a)(f)==da}var ti=Ja,Hi=Object.prototype,co=Hi.hasOwnProperty,mo=Hi.propertyIsEnumerable,Wi=ti(function(){return arguments}())?ti:function(f){return Object(ha.a)(f)&&co.call(f,"callee")&&!mo.call(f,"callee")},Jo=Wi,Ko=Array.isArray,Yi=Ko,Ks=9007199254740991;function Ps(f){return typeof f=="number"&&f>-1&&f%1==0&&f<=Ks}var Rl=Ps;function rs(f){return f!=null&&Rl(f.length)&&!xu(f)}var Us=rs;function Cu(f){return Object(ha.a)(f)&&Us(f)}var Du=Cu,Vu=r("WOAq"),Qu=r("6LIB"),Hu="[object Arguments]",yf="[object Array]",Jc="[object Boolean]",bf="[object Date]",Wu="[object Error]",Fc="[object Function]",qc="[object Map]",ef="[object Number]",tf="[object Object]",jl="[object RegExp]",yl="[object Set]",Xl="[object String]",Fu="[object WeakMap]",Sd="[object ArrayBuffer]",Pu="[object DataView]",iu="[object Float32Array]",zc="[object Float64Array]",Is="[object Int8Array]",oc="[object Int16Array]",bh="[object Int32Array]",up="[object Uint8Array]",rf="[object Uint8ClampedArray]",ns="[object Uint16Array]",yv="[object Uint32Array]",Zs={};Zs[iu]=Zs[zc]=Zs[Is]=Zs[oc]=Zs[bh]=Zs[up]=Zs[rf]=Zs[ns]=Zs[yv]=!0,Zs[Hu]=Zs[yf]=Zs[Sd]=Zs[Jc]=Zs[Pu]=Zs[bf]=Zs[Wu]=Zs[Fc]=Zs[qc]=Zs[ef]=Zs[tf]=Zs[jl]=Zs[yl]=Zs[Xl]=Zs[Fu]=!1;function Gu(f){return Object(ha.a)(f)&&Rl(f.length)&&!!Zs[Object(Fo.a)(f)]}var oh=Gu;function Od(f){return function(d){return f(d)}}var Sm=Od,um=r("xutz"),Jp=um.a&&um.a.isTypedArray,Hm=Jp?Sm(Jp):oh,jv=Hm;function cm(f,d){if(!(d==="constructor"&&typeof f[d]=="function")&&d!="__proto__")return f[d]}var Rp=cm,Pd=Object.prototype,Om=Pd.hasOwnProperty;function Lp(f,d,C){var P=f[d];(!(Om.call(f,d)&&Va(P,C))||C===void 0&&!(d in f))&&Qp(f,d,C)}var Ju=Lp;function pc(f,d,C,P){var G=!C;C||(C={});for(var ke=-1,qe=d.length;++ke<qe;){var pt=d[ke],zt=P?P(C[pt],f[pt],pt,C,f):void 0;zt===void 0&&(zt=f[pt]),G?Qp(C,pt,zt):Ju(C,pt,zt)}return C}var Pm=pc;function sg(f,d){for(var C=-1,P=Array(f);++C<f;)P[C]=d(C);return P}var kv=sg,Wm=9007199254740991,Bv=/^(?:0|[1-9]\d*)$/;function jh(f,d){var C=typeof f;return d=d==null?Wm:d,!!d&&(C=="number"||C!="symbol"&&Bv.test(f))&&f>-1&&f%1==0&&f<d}var fm=jh,wm=Object.prototype,bv=wm.hasOwnProperty;function kh(f,d){var C=Yi(f),P=!C&&Jo(f),G=!C&&!P&&Object(Vu.a)(f),ke=!C&&!P&&!G&&jv(f),qe=C||P||G||ke,pt=qe?kv(f.length,String):[],zt=pt.length;for(var er in f)(d||bv.call(f,er))&&!(qe&&(er=="length"||G&&(er=="offset"||er=="parent")||ke&&(er=="buffer"||er=="byteLength"||er=="byteOffset")||fm(er,zt)))&&pt.push(er);return pt}var zv=kh;function Tm(f){var d=[];if(f!=null)for(var C in Object(f))d.push(C);return d}var qp=Tm,sd=Object.prototype,Dp=sd.hasOwnProperty;function Uv(f){if(!cs(f))return qp(f);var d=gn(f),C=[];for(var P in f)P=="constructor"&&(d||!Dp.call(f,P))||C.push(P);return C}var lg=Uv;function ld(f){return Us(f)?zv(f,!0):lg(f)}var Vv=ld;function Og(f){return Pm(f,Vv(f))}var Gm=Og;function xv(f,d,C,P,G,ke,qe){var pt=Rp(f,C),zt=Rp(d,C),er=qe.get(zt);if(er){Ip(f,C,er);return}var gr=ke?ke(pt,zt,C+"",f,d,qe):void 0,Lr=gr===void 0;if(Lr){var Or=Yi(zt),Vr=!Or&&Object(Vu.a)(zt),Kr=!Or&&!Vr&&jv(zt);gr=zt,Or||Vr||Kr?Yi(pt)?gr=pt:Du(pt)?gr=Bt(pt):Vr?(Lr=!1,gr=Object(m.a)(zt,!0)):Kr?(Lr=!1,gr=tt(zt,!0)):gr=[]:Object(Qu.a)(zt)||Jo(zt)?(gr=pt,Jo(pt)?gr=Gm(pt):(!cs(pt)||xu(pt))&&(gr=Kn(zt))):Lr=!1}Lr&&(qe.set(zt,gr),G(gr,zt,P,ke,qe),qe.delete(zt)),Ip(f,C,gr)}var wl=xv;function Cv(f,d,C,P,G){f!==d&&o(d,function(ke,qe){if(G||(G=new Nh),cs(ke))wl(f,d,qe,C,Cv,P,G);else{var pt=P?P(Rp(f,qe),ke,qe+"",f,d,G):void 0;pt===void 0&&(pt=ke),Ip(f,qe,pt)}},Vv)}var Ql=Cv;function Bh(f){return f}var Ev=Bh;function El(f,d,C){switch(C.length){case 0:return f.call(d);case 1:return f.call(d,C[0]);case 2:return f.call(d,C[0],C[1]);case 3:return f.call(d,C[0],C[1],C[2])}return f.apply(d,C)}var Km=El,Zm=Math.max;function Hv(f,d,C){return d=Zm(d===void 0?f.length-1:d,0),function(){for(var P=arguments,G=-1,ke=Zm(P.length-d,0),qe=Array(ke);++G<ke;)qe[G]=P[d+G];G=-1;for(var pt=Array(d+1);++G<d;)pt[G]=P[G];return pt[d]=C(qe),Km(f,this,pt)}}var Fp=Hv;function Ym(f){return function(){return f}}var Am=Ym,$m=gv?function(f,d){return gv(f,"toString",{configurable:!0,enumerable:!1,value:Am(d),writable:!0})}:Ev,Xm=$m,Qm=800,zg=16,x=Date.now;function j(f){var d=0,C=0;return function(){var P=x(),G=zg-(P-C);if(C=P,G>0){if(++d>=Qm)return arguments[0]}else d=0;return f.apply(void 0,arguments)}}var L=j,R=L(Xm),N=R;function W(f,d){return N(Fp(f,d,Ev),f+"")}var he=W;function $e(f,d,C){if(!cs(C))return!1;var P=typeof d;return(P=="number"?Us(C)&&fm(d,C.length):P=="string"&&d in C)?Va(C[d],f):!1}var st=$e;function Yt(f){return he(function(d,C){var P=-1,G=C.length,ke=G>1?C[G-1]:void 0,qe=G>2?C[2]:void 0;for(ke=f.length>3&&typeof ke=="function"?(G--,ke):void 0,qe&&st(C[0],C[1],qe)&&(ke=G<3?void 0:ke,G=1),d=Object(d);++P<G;){var pt=C[P];pt&&f(d,pt,P,ke)}return d})}var hr=Yt,yr=hr(function(f,d,C){Ql(f,d,C)}),Zr=yr,on=function(d){var C=d.zDepth,P=d.radius,G=d.background,ke=d.children,qe=d.styles,pt=qe===void 0?{}:qe,zt=Vo()(Zr({default:{wrap:{position:"relative",display:"inline-block"},content:{position:"relative"},bg:{absolute:"0px 0px 0px 0px",boxShadow:"0 "+C+"px "+C*4+"px rgba(0,0,0,.24)",borderRadius:P,background:G}},"zDepth-0":{bg:{boxShadow:"none"}},"zDepth-1":{bg:{boxShadow:"0 2px 10px rgba(0,0,0,.12), 0 2px 5px rgba(0,0,0,.16)"}},"zDepth-2":{bg:{boxShadow:"0 6px 20px rgba(0,0,0,.19), 0 8px 17px rgba(0,0,0,.2)"}},"zDepth-3":{bg:{boxShadow:"0 17px 50px rgba(0,0,0,.19), 0 12px 15px rgba(0,0,0,.24)"}},"zDepth-4":{bg:{boxShadow:"0 25px 55px rgba(0,0,0,.21), 0 16px 28px rgba(0,0,0,.22)"}},"zDepth-5":{bg:{boxShadow:"0 40px 77px rgba(0,0,0,.22), 0 27px 24px rgba(0,0,0,.2)"}},square:{bg:{borderRadius:"0"}},circle:{bg:{borderRadius:"50%"}}},pt),{"zDepth-1":C===1});return b.a.createElement("div",{style:zt.wrap},b.a.createElement("div",{style:zt.bg}),b.a.createElement("div",{style:zt.content},ke))};on.propTypes={background:mn.a.string,zDepth:mn.a.oneOf([0,1,2,3,4,5]),radius:mn.a.number,styles:mn.a.object},on.defaultProps={background:"#fff",zDepth:1,radius:2,styles:{}};var ca=on,Ra=function(){return hu.a.Date.now()},Ga=Ra,Ji=/\s/;function go(f){for(var d=f.length;d--&&Ji.test(f.charAt(d)););return d}var jo=go,Mo=/^\s+/;function $i(f){return f&&f.slice(0,jo(f)+1).replace(Mo,"")}var Ho=$i,Ta="[object Symbol]";function Rs(f){return typeof f=="symbol"||Object(ha.a)(f)&&Object(Fo.a)(f)==Ta}var hi=Rs,Sl=0/0,fo=/^[-+]0x[0-9a-f]+$/i,ou=/^0b[01]+$/i,Fs=/^0o[0-7]+$/i,xh=parseInt;function ks(f){if(typeof f=="number")return f;if(hi(f))return Sl;if(cs(f)){var d=typeof f.valueOf=="function"?f.valueOf():f;f=cs(d)?d+"":d}if(typeof f!="string")return f===0?f:+f;f=Ho(f);var C=ou.test(f);return C||Fs.test(f)?xh(f.slice(2),C?2:8):fo.test(f)?Sl:+f}var Wv=ks,Cc="Expected a function",dm=Math.max,Er=Math.min;function sy(f,d,C){var P,G,ke,qe,pt,zt,er=0,gr=!1,Lr=!1,Or=!0;if(typeof f!="function")throw new TypeError(Cc);d=Wv(d)||0,cs(C)&&(gr=!!C.leading,Lr="maxWait"in C,ke=Lr?dm(Wv(C.maxWait)||0,d):ke,Or="trailing"in C?!!C.trailing:Or);function Vr(ci){var as=P,Ro=G;return P=G=void 0,er=ci,qe=f.apply(Ro,as),qe}function Kr(ci){return er=ci,pt=setTimeout(xa,d),gr?Vr(ci):qe}function cn(ci){var as=ci-zt,Ro=ci-er,gs=d-as;return Lr?Er(gs,ke-Ro):gs}function Tn(ci){var as=ci-zt,Ro=ci-er;return zt===void 0||as>=d||as<0||Lr&&Ro>=ke}function xa(){var ci=Ga();if(Tn(ci))return za(ci);pt=setTimeout(xa,cn(ci))}function za(ci){return pt=void 0,Or&&P?Vr(ci):(P=G=void 0,qe)}function zi(){pt!==void 0&&clearTimeout(pt),er=0,P=zt=G=pt=void 0}function yo(){return pt===void 0?qe:za(Ga())}function Fi(){var ci=Ga(),as=Tn(ci);if(P=arguments,G=this,zt=ci,as){if(pt===void 0)return Kr(zt);if(Lr)return clearTimeout(pt),pt=setTimeout(xa,d),Vr(zt)}return pt===void 0&&(pt=setTimeout(xa,d)),qe}return Fi.cancel=zi,Fi.flush=yo,Fi}var Kf=sy,ly="Expected a function";function pu(f,d,C){var P=!0,G=!0;if(typeof f!="function")throw new TypeError(ly);return cs(C)&&(P="leading"in C?!!C.leading:P,G="trailing"in C?!!C.trailing:G),Kf(f,d,{leading:P,maxWait:d,trailing:G})}var Ug=pu,Pg=function(d,C,P){var G=P.getBoundingClientRect(),ke=G.width,qe=G.height,pt=typeof d.pageX=="number"?d.pageX:d.touches[0].pageX,zt=typeof d.pageY=="number"?d.pageY:d.touches[0].pageY,er=pt-(P.getBoundingClientRect().left+window.pageXOffset),gr=zt-(P.getBoundingClientRect().top+window.pageYOffset);er<0?er=0:er>ke&&(er=ke),gr<0?gr=0:gr>qe&&(gr=qe);var Lr=er/ke,Or=1-gr/qe;return{h:C.h,s:Lr,v:Or,a:C.a,source:"hsv"}},Vg=function(){function f(d,C){for(var P=0;P<C.length;P++){var G=C[P];G.enumerable=G.enumerable||!1,G.configurable=!0,"value"in G&&(G.writable=!0),Object.defineProperty(d,G.key,G)}}return function(d,C,P){return C&&f(d.prototype,C),P&&f(d,P),d}}();function Hg(f,d){if(!(f instanceof d))throw new TypeError("Cannot call a class as a function")}function Wg(f,d){if(!f)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return d&&(typeof d=="object"||typeof d=="function")?d:f}function xs(f,d){if(typeof d!="function"&&d!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof d);f.prototype=Object.create(d&&d.prototype,{constructor:{value:f,enumerable:!1,writable:!0,configurable:!0}}),d&&(Object.setPrototypeOf?Object.setPrototypeOf(f,d):f.__proto__=d)}var ml=function(f){xs(d,f);function d(C){Hg(this,d);var P=Wg(this,(d.__proto__||Object.getPrototypeOf(d)).call(this,C));return P.handleChange=function(G){typeof P.props.onChange=="function"&&P.throttle(P.props.onChange,Pg(G,P.props.hsl,P.container),G)},P.handleMouseDown=function(G){P.handleChange(G);var ke=P.getContainerRenderWindow();ke.addEventListener("mousemove",P.handleChange),ke.addEventListener("mouseup",P.handleMouseUp)},P.handleMouseUp=function(){P.unbindEventListeners()},P.throttle=Ug(function(G,ke,qe){G(ke,qe)},50),P}return Vg(d,[{key:"componentWillUnmount",value:function(){this.throttle.cancel(),this.unbindEventListeners()}},{key:"getContainerRenderWindow",value:function(){for(var P=this.container,G=window;!G.document.contains(P)&&G.parent!==G;)G=G.parent;return G}},{key:"unbindEventListeners",value:function(){var P=this.getContainerRenderWindow();P.removeEventListener("mousemove",this.handleChange),P.removeEventListener("mouseup",this.handleMouseUp)}},{key:"render",value:function(){var P=this,G=this.props.style||{},ke=G.color,qe=G.white,pt=G.black,zt=G.pointer,er=G.circle,gr=Vo()({default:{color:{absolute:"0px 0px 0px 0px",background:"hsl("+this.props.hsl.h+",100%, 50%)",borderRadius:this.props.radius},white:{absolute:"0px 0px 0px 0px",borderRadius:this.props.radius},black:{absolute:"0px 0px 0px 0px",boxShadow:this.props.shadow,borderRadius:this.props.radius},pointer:{position:"absolute",top:-(this.props.hsv.v*100)+100+"%",left:this.props.hsv.s*100+"%",cursor:"default"},circle:{width:"4px",height:"4px",boxShadow:`0 0 0 1.5px #fff, inset 0 0 1px 1px rgba(0,0,0,.3),
            0 0 1px 2px rgba(0,0,0,.4)`,borderRadius:"50%",cursor:"hand",transform:"translate(-2px, -2px)"}},custom:{color:ke,white:qe,black:pt,pointer:zt,circle:er}},{custom:!!this.props.style});return b.a.createElement("div",{style:gr.color,ref:function(Or){return P.container=Or},onMouseDown:this.handleMouseDown,onTouchMove:this.handleChange,onTouchStart:this.handleChange},b.a.createElement("style",null,`
          .saturation-white {
            background: -webkit-linear-gradient(to right, #fff, rgba(255,255,255,0));
            background: linear-gradient(to right, #fff, rgba(255,255,255,0));
          }
          .saturation-black {
            background: -webkit-linear-gradient(to top, #000, rgba(0,0,0,0));
            background: linear-gradient(to top, #000, rgba(0,0,0,0));
          }
        `),b.a.createElement("div",{style:gr.white,className:"saturation-white"},b.a.createElement("div",{style:gr.black,className:"saturation-black"}),b.a.createElement("div",{style:gr.pointer},this.props.pointer?b.a.createElement(this.props.pointer,this.props):b.a.createElement("div",{style:gr.circle}))))}}]),d}(T.PureComponent||T.Component),Ls=ml;function Gi(f,d){for(var C=-1,P=f==null?0:f.length;++C<P&&d(f[C],C,f)!==!1;);return f}var wd=Gi,sc=r("U6JX"),xf=Object(sc.a)(Object.keys,Object),Np=xf,cp=Object.prototype,Ry=cp.hasOwnProperty;function C0(f){if(!gn(f))return Np(f);var d=[];for(var C in Object(f))Ry.call(f,C)&&C!="constructor"&&d.push(C);return d}var ug=C0;function eo(f){return Us(f)?zv(f):ug(f)}var Td=eo;function lb(f,d){return f&&o(f,d,Td)}var E0=lb;function S0(f,d){return function(C,P){if(C==null)return C;if(!Us(C))return f(C,P);for(var G=C.length,ke=d?G:-1,qe=Object(C);(d?ke--:++ke<G)&&P(qe[ke],ke,qe)!==!1;);return C}}var Ly=S0,Gg=Ly(E0),uy=Gg;function t0(f){return typeof f=="function"?f:Ev}var O0=t0;function P0(f,d){var C=Yi(f)?wd:uy;return C(f,O0(d))}var w0=P0,T0=r("Zss7"),wg=r.n(T0),r0=function(d){var C=["r","g","b","a","h","s","l","v"],P=0,G=0;return w0(C,function(ke){if(d[ke]&&(P+=1,isNaN(d[ke])||(G+=1),ke==="s"||ke==="l")){var qe=/^\d+%$/;qe.test(d[ke])&&(G+=1)}}),P===G?d:!1},Kg=function(d,C){var P=d.hex?wg()(d.hex):wg()(d),G=P.toHsl(),ke=P.toHsv(),qe=P.toRgb(),pt=P.toHex();G.s===0&&(G.h=C||0,ke.h=C||0);var zt=pt==="000000"&&qe.a===0;return{hsl:G,hex:zt?"transparent":"#"+pt,rgb:qe,hsv:ke,oldHue:d.h||C||G.h,source:d.source}},Sv=function(d){if(d==="transparent")return!0;var C=String(d).charAt(0)==="#"?1:0;return d.length!==4+C&&d.length<7+C&&wg()(d).isValid()},zh=function(d){if(!d)return"#fff";var C=Kg(d);if(C.hex==="transparent")return"rgba(0,0,0,0.4)";var P=(C.rgb.r*299+C.rgb.g*587+C.rgb.b*114)/1e3;return P>=128?"#000":"#fff"},n0={hsl:{a:1,h:0,l:.5,s:1},hex:"#ff0000",rgb:{r:255,g:0,b:0,a:1},hsv:{h:0,s:1,v:1,a:1}},Dy=function(d,C){var P=d.replace("\xB0","");return wg()(C+" ("+P+")")._ok},Zg=Object.assign||function(f){for(var d=1;d<arguments.length;d++){var C=arguments[d];for(var P in C)Object.prototype.hasOwnProperty.call(C,P)&&(f[P]=C[P])}return f},A0=function(){function f(d,C){for(var P=0;P<C.length;P++){var G=C[P];G.enumerable=G.enumerable||!1,G.configurable=!0,"value"in G&&(G.writable=!0),Object.defineProperty(d,G.key,G)}}return function(d,C,P){return C&&f(d.prototype,C),P&&f(d,P),d}}();function l1(f,d){if(!(f instanceof d))throw new TypeError("Cannot call a class as a function")}function a0(f,d){if(!f)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return d&&(typeof d=="object"||typeof d=="function")?d:f}function u1(f,d){if(typeof d!="function"&&d!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof d);f.prototype=Object.create(d&&d.prototype,{constructor:{value:f,enumerable:!1,writable:!0,configurable:!0}}),d&&(Object.setPrototypeOf?Object.setPrototypeOf(f,d):f.__proto__=d)}var Fy=function(d){var C=function(P){u1(G,P);function G(ke){l1(this,G);var qe=a0(this,(G.__proto__||Object.getPrototypeOf(G)).call(this));return qe.handleChange=function(pt,zt){var er=r0(pt);if(er){var gr=Kg(pt,pt.h||qe.state.oldHue);qe.setState(gr),qe.props.onChangeComplete&&qe.debounce(qe.props.onChangeComplete,gr,zt),qe.props.onChange&&qe.props.onChange(gr,zt)}},qe.handleSwatchHover=function(pt,zt){var er=r0(pt);if(er){var gr=Kg(pt,pt.h||qe.state.oldHue);qe.props.onSwatchHover&&qe.props.onSwatchHover(gr,zt)}},qe.state=Zg({},Kg(ke.color,0)),qe.debounce=Kf(function(pt,zt,er){pt(zt,er)},100),qe}return A0(G,[{key:"render",value:function(){var qe={};return this.props.onSwatchHover&&(qe.onSwatchHover=this.handleSwatchHover),b.a.createElement(d,Zg({},this.props,this.state,{onChange:this.handleChange},qe))}}],[{key:"getDerivedStateFromProps",value:function(qe,pt){return Zg({},Kg(qe.color,pt.oldHue))}}]),G}(T.PureComponent||T.Component);return C.propTypes=Zg({},d.propTypes),C.defaultProps=Zg({},d.defaultProps,{color:{h:250,s:.5,l:.2,a:1}}),C},ev=Fy,c1=Object.assign||function(f){for(var d=1;d<arguments.length;d++){var C=arguments[d];for(var P in C)Object.prototype.hasOwnProperty.call(C,P)&&(f[P]=C[P])}return f},i0=function(){function f(d,C){for(var P=0;P<C.length;P++){var G=C[P];G.enumerable=G.enumerable||!1,G.configurable=!0,"value"in G&&(G.writable=!0),Object.defineProperty(d,G.key,G)}}return function(d,C,P){return C&&f(d.prototype,C),P&&f(d,P),d}}();function Ny(f,d){if(!(f instanceof d))throw new TypeError("Cannot call a class as a function")}function o0(f,d){if(!f)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return d&&(typeof d=="object"||typeof d=="function")?d:f}function f1(f,d){if(typeof d!="function"&&d!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof d);f.prototype=Object.create(d&&d.prototype,{constructor:{value:f,enumerable:!1,writable:!0,configurable:!0}}),d&&(Object.setPrototypeOf?Object.setPrototypeOf(f,d):f.__proto__=d)}var d1=function(d){var C=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"span";return function(P){f1(G,P);function G(){var ke,qe,pt,zt;Ny(this,G);for(var er=arguments.length,gr=Array(er),Lr=0;Lr<er;Lr++)gr[Lr]=arguments[Lr];return zt=(qe=(pt=o0(this,(ke=G.__proto__||Object.getPrototypeOf(G)).call.apply(ke,[this].concat(gr))),pt),pt.state={focus:!1},pt.handleFocus=function(){return pt.setState({focus:!0})},pt.handleBlur=function(){return pt.setState({focus:!1})},qe),o0(pt,zt)}return i0(G,[{key:"render",value:function(){return b.a.createElement(C,{onFocus:this.handleFocus,onBlur:this.handleBlur},b.a.createElement(d,c1({},this.props,this.state)))}}]),G}(b.a.Component)},M0=Object.assign||function(f){for(var d=1;d<arguments.length;d++){var C=arguments[d];for(var P in C)Object.prototype.hasOwnProperty.call(C,P)&&(f[P]=C[P])}return f},s0=13,jy=function(d){var C=d.color,P=d.style,G=d.onClick,ke=G===void 0?function(){}:G,qe=d.onHover,pt=d.title,zt=pt===void 0?C:pt,er=d.children,gr=d.focus,Lr=d.focusStyle,Or=Lr===void 0?{}:Lr,Vr=C==="transparent",Kr=Vo()({default:{swatch:M0({background:C,height:"100%",width:"100%",cursor:"pointer",position:"relative",outline:"none"},P,gr?Or:{})}}),cn=function(yo){return ke(C,yo)},Tn=function(yo){return yo.keyCode===s0&&ke(C,yo)},xa=function(yo){return qe(C,yo)},za={};return qe&&(za.onMouseOver=xa),b.a.createElement("div",M0({style:Kr.swatch,onClick:cn,title:zt,tabIndex:0,onKeyDown:Tn},za),er,Vr&&b.a.createElement(Ap,{borderRadius:Kr.swatch.borderRadius,boxShadow:"inset 0 0 0 1px rgba(0,0,0,0.1)"}))},cg=d1(jy),h1=function(d){var C=d.direction,P=Vo()({default:{picker:{width:"18px",height:"18px",borderRadius:"50%",transform:"translate(-9px, -1px)",backgroundColor:"rgb(248, 248, 248)",boxShadow:"0 1px 4px 0 rgba(0, 0, 0, 0.37)"}},vertical:{picker:{transform:"translate(-3px, -9px)"}}},{vertical:C==="vertical"});return b.a.createElement("div",{style:P.picker})},p1=h1,v1=Object.assign||function(f){for(var d=1;d<arguments.length;d++){var C=arguments[d];for(var P in C)Object.prototype.hasOwnProperty.call(C,P)&&(f[P]=C[P])}return f},_0=function(d){var C=d.rgb,P=d.hsl,G=d.width,ke=d.height,qe=d.onChange,pt=d.direction,zt=d.style,er=d.renderers,gr=d.pointer,Lr=d.className,Or=Lr===void 0?"":Lr,Vr=Vo()({default:{picker:{position:"relative",width:G,height:ke},alpha:{radius:"2px",style:zt}}});return b.a.createElement("div",{style:Vr.picker,className:"alpha-picker "+Or},b.a.createElement(Rv,v1({},Vr.alpha,{rgb:C,hsl:P,pointer:gr,renderers:er,onChange:qe,direction:pt})))};_0.defaultProps={width:"316px",height:"16px",direction:"horizontal",pointer:p1};var m1=ev(_0);function g1(f,d){for(var C=-1,P=f==null?0:f.length,G=Array(P);++C<P;)G[C]=d(f[C],C,f);return G}var I0=g1,y1="__lodash_hash_undefined__";function b1(f){return this.__data__.set(f,y1),this}var x1=b1;function C1(f){return this.__data__.has(f)}var E1=C1;function ky(f){var d=-1,C=f==null?0:f.length;for(this.__data__=new Fv;++d<C;)this.add(f[d])}ky.prototype.add=ky.prototype.push=x1,ky.prototype.has=E1;var R0=ky;function cy(f,d){for(var C=-1,P=f==null?0:f.length;++C<P;)if(d(f[C],C,f))return!0;return!1}var By=cy;function ub(f,d){return f.has(d)}var cb=ub,jp=1,zy=2;function p(f,d,C,P,G,ke){var qe=C&jp,pt=f.length,zt=d.length;if(pt!=zt&&!(qe&&zt>pt))return!1;var er=ke.get(f),gr=ke.get(d);if(er&&gr)return er==d&&gr==f;var Lr=-1,Or=!0,Vr=C&zy?new R0:void 0;for(ke.set(f,d),ke.set(d,f);++Lr<pt;){var Kr=f[Lr],cn=d[Lr];if(P)var Tn=qe?P(cn,Kr,Lr,d,f,ke):P(Kr,cn,Lr,f,d,ke);if(Tn!==void 0){if(Tn)continue;Or=!1;break}if(Vr){if(!By(d,function(xa,za){if(!cb(Vr,za)&&(Kr===xa||G(Kr,xa,C,P,ke)))return Vr.push(za)})){Or=!1;break}}else if(!(Kr===cn||G(Kr,cn,C,P,ke))){Or=!1;break}}return ke.delete(f),ke.delete(d),Or}var O=p,te=r("ylTp");function Je(f){var d=-1,C=Array(f.size);return f.forEach(function(P,G){C[++d]=[G,P]}),C}var Xt=Je;function Sr(f){var d=-1,C=Array(f.size);return f.forEach(function(P){C[++d]=P}),C}var nn=Sr,On=1,Yn=2,ri="[object Boolean]",oi="[object Date]",Ci="[object Error]",Uo="[object Map]",ws="[object Number]",rl="[object RegExp]",su="[object Set]",ul="[object String]",Eu="[object Symbol]",Nu="[object ArrayBuffer]",Ov="[object DataView]",Uh=te.a?te.a.prototype:void 0,fp=Uh?Uh.valueOf:void 0;function Fd(f,d,C,P,G,ke,qe){switch(C){case Ov:if(f.byteLength!=d.byteLength||f.byteOffset!=d.byteOffset)return!1;f=f.buffer,d=d.buffer;case Nu:return!(f.byteLength!=d.byteLength||!ke(new D(f),new D(d)));case ri:case oi:case ws:return Va(+f,+d);case Ci:return f.name==d.name&&f.message==d.message;case rl:case ul:return f==d+"";case Uo:var pt=Xt;case su:var zt=P&On;if(pt||(pt=nn),f.size!=d.size&&!zt)return!1;var er=qe.get(f);if(er)return er==d;P|=Yn,qe.set(f,d);var gr=O(pt(f),pt(d),P,G,ke,qe);return qe.delete(f),gr;case Eu:if(fp)return fp.call(f)==fp.call(d)}return!1}var hm=Fd;function pm(f,d){for(var C=-1,P=d.length,G=f.length;++C<P;)f[G+C]=d[C];return f}var L0=pm;function fb(f,d,C){var P=d(f);return Yi(f)?P:L0(P,C(f))}var db=fb;function hb(f,d){for(var C=-1,P=f==null?0:f.length,G=0,ke=[];++C<P;){var qe=f[C];d(qe,C,f)&&(ke[G++]=qe)}return ke}var pb=hb;function vb(){return[]}var mb=vb,gb=Object.prototype,Uy=gb.propertyIsEnumerable,S1=Object.getOwnPropertySymbols,yb=S1?function(f){return f==null?[]:(f=Object(f),pb(S1(f),function(d){return Uy.call(f,d)}))}:mb,bb=yb;function xb(f){return db(f,Td,bb)}var O1=xb,yx=1,bx=Object.prototype,Cb=bx.hasOwnProperty;function xx(f,d,C,P,G,ke){var qe=C&yx,pt=O1(f),zt=pt.length,er=O1(d),gr=er.length;if(zt!=gr&&!qe)return!1;for(var Lr=zt;Lr--;){var Or=pt[Lr];if(!(qe?Or in d:Cb.call(d,Or)))return!1}var Vr=ke.get(f),Kr=ke.get(d);if(Vr&&Kr)return Vr==d&&Kr==f;var cn=!0;ke.set(f,d),ke.set(d,f);for(var Tn=qe;++Lr<zt;){Or=pt[Lr];var xa=f[Or],za=d[Or];if(P)var zi=qe?P(za,xa,Or,d,f,ke):P(xa,za,Or,f,d,ke);if(!(zi===void 0?xa===za||G(xa,za,C,P,ke):zi)){cn=!1;break}Tn||(Tn=Or=="constructor")}if(cn&&!Tn){var yo=f.constructor,Fi=d.constructor;yo!=Fi&&"constructor"in f&&"constructor"in d&&!(typeof yo=="function"&&yo instanceof yo&&typeof Fi=="function"&&Fi instanceof Fi)&&(cn=!1)}return ke.delete(f),ke.delete(d),cn}var Cx=xx,Eb=Pn(hu.a,"DataView"),P1=Eb,Ex=Pn(hu.a,"Promise"),w1=Ex,Sx=Pn(hu.a,"Set"),T1=Sx,Sb=Pn(hu.a,"WeakMap"),D0=Sb,Ob="[object Map]",Ox="[object Object]",Pb="[object Promise]",wb="[object Set]",A1="[object WeakMap]",Tb="[object DataView]",Px=Go(P1),wx=Go(rn),OC=Go(w1),Tx=Go(T1),F0=Go(D0),Yg=Fo.a;(P1&&Yg(new P1(new ArrayBuffer(1)))!=Tb||rn&&Yg(new rn)!=Ob||w1&&Yg(w1.resolve())!=Pb||T1&&Yg(new T1)!=wb||D0&&Yg(new D0)!=A1)&&(Yg=function(d){var C=Object(Fo.a)(d),P=C==Ox?d.constructor:void 0,G=P?Go(P):"";if(G)switch(G){case Px:return Tb;case wx:return Ob;case OC:return Pb;case Tx:return wb;case F0:return A1}return C});var Ab=Yg,Mb=1,M1="[object Arguments]",_1="[object Array]",l0="[object Object]",_b=Object.prototype,I1=_b.hasOwnProperty;function Vy(f,d,C,P,G,ke){var qe=Yi(f),pt=Yi(d),zt=qe?_1:Ab(f),er=pt?_1:Ab(d);zt=zt==M1?l0:zt,er=er==M1?l0:er;var gr=zt==l0,Lr=er==l0,Or=zt==er;if(Or&&Object(Vu.a)(f)){if(!Object(Vu.a)(d))return!1;qe=!0,gr=!1}if(Or&&!gr)return ke||(ke=new Nh),qe||jv(f)?O(f,d,C,P,G,ke):hm(f,d,zt,C,P,G,ke);if(!(C&Mb)){var Vr=gr&&I1.call(f,"__wrapped__"),Kr=Lr&&I1.call(d,"__wrapped__");if(Vr||Kr){var cn=Vr?f.value():f,Tn=Kr?d.value():d;return ke||(ke=new Nh),G(cn,Tn,C,P,ke)}}return Or?(ke||(ke=new Nh),Cx(f,d,C,P,G,ke)):!1}var Ib=Vy;function R1(f,d,C,P,G){return f===d?!0:f==null||d==null||!Object(ha.a)(f)&&!Object(ha.a)(d)?f!==f&&d!==d:Ib(f,d,C,P,R1,G)}var L1=R1,Rb=1,Lb=2;function Ax(f,d,C,P){var G=C.length,ke=G,qe=!P;if(f==null)return!ke;for(f=Object(f);G--;){var pt=C[G];if(qe&&pt[2]?pt[1]!==f[pt[0]]:!(pt[0]in f))return!1}for(;++G<ke;){pt=C[G];var zt=pt[0],er=f[zt],gr=pt[1];if(qe&&pt[2]){if(er===void 0&&!(zt in f))return!1}else{var Lr=new Nh;if(P)var Or=P(er,gr,zt,f,d,Lr);if(!(Or===void 0?L1(gr,er,Rb|Lb,P,Lr):Or))return!1}}return!0}var Mx=Ax;function _x(f){return f===f&&!cs(f)}var D1=_x;function Ix(f){for(var d=Td(f),C=d.length;C--;){var P=d[C],G=f[P];d[C]=[P,G,D1(G)]}return d}var Rx=Ix;function F1(f,d){return function(C){return C==null?!1:C[f]===d&&(d!==void 0||f in Object(C))}}var u0=F1;function Lx(f){var d=Rx(f);return d.length==1&&d[0][2]?u0(d[0][0],d[0][1]):function(C){return C===f||Mx(C,f,d)}}var Dx=Lx,Fx=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,Nx=/^\w*$/;function Db(f,d){if(Yi(f))return!1;var C=typeof f;return C=="number"||C=="symbol"||C=="boolean"||f==null||hi(f)?!0:Nx.test(f)||!Fx.test(f)||d!=null&&f in Object(d)}var N0=Db,jx="Expected a function";function N1(f,d){if(typeof f!="function"||d!=null&&typeof d!="function")throw new TypeError(jx);var C=function P(){var G=arguments,ke=d?d.apply(this,G):G[0],qe=P.cache;if(qe.has(ke))return qe.get(ke);var pt=f.apply(this,G);return P.cache=qe.set(ke,pt)||qe,pt};return C.cache=new(N1.Cache||Fv),C}N1.Cache=Fv;var kx=N1,Bx=500;function Fb(f){var d=kx(f,function(P){return C.size===Bx&&C.clear(),P}),C=d.cache;return d}var zx=Fb,Ux=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,Vx=/\\(\\)?/g,PC=zx(function(f){var d=[];return f.charCodeAt(0)===46&&d.push(""),f.replace(Ux,function(C,P,G,ke){d.push(G?ke.replace(Vx,"$1"):P||C)}),d}),Hx=PC,Lo=1/0,Nb=te.a?te.a.prototype:void 0,Zf=Nb?Nb.toString:void 0;function jb(f){if(typeof f=="string")return f;if(Yi(f))return I0(f,jb)+"";if(hi(f))return Zf?Zf.call(f):"";var d=f+"";return d=="0"&&1/f==-Lo?"-0":d}var Wx=jb;function Gx(f){return f==null?"":Wx(f)}var Kx=Gx;function Zx(f,d){return Yi(f)?f:N0(f,d)?[f]:Hx(Kx(f))}var kb=Zx,Yx=1/0;function Bb(f){if(typeof f=="string"||hi(f))return f;var d=f+"";return d=="0"&&1/f==-Yx?"-0":d}var Hy=Bb;function j1(f,d){d=kb(d,f);for(var C=0,P=d.length;f!=null&&C<P;)f=f[Hy(d[C++])];return C&&C==P?f:void 0}var fg=j1;function Mm(f,d,C){var P=f==null?void 0:fg(f,d);return P===void 0?C:P}var k1=Mm;function B1(f,d){return f!=null&&d in Object(f)}var zb=B1;function $x(f,d,C){d=kb(d,f);for(var P=-1,G=d.length,ke=!1;++P<G;){var qe=Hy(d[P]);if(!(ke=f!=null&&C(f,qe)))break;f=f[qe]}return ke||++P!=G?ke:(G=f==null?0:f.length,!!G&&Rl(G)&&fm(qe,G)&&(Yi(f)||Jo(f)))}var $g=$x;function Xx(f,d){return f!=null&&$g(f,d,zb)}var Qx=Xx,j0=1,Ub=2;function Df(f,d){return N0(f)&&D1(d)?u0(Hy(f),d):function(C){var P=k1(C,f);return P===void 0&&P===d?Qx(C,f):L1(d,P,j0|Ub)}}var c0=Df;function Ku(f){return function(d){return d==null?void 0:d[f]}}var Jx=Ku;function Vb(f){return function(d){return fg(d,f)}}var Hb=Vb;function k0(f){return N0(f)?Jx(Hy(f)):Hb(f)}var B0=k0;function Wb(f){return typeof f=="function"?f:f==null?Ev:typeof f=="object"?Yi(f)?c0(f[0],f[1]):Dx(f):B0(f)}var qx=Wb;function z1(f,d){var C=-1,P=Us(f)?Array(f.length):[];return uy(f,function(G,ke,qe){P[++C]=d(G,ke,qe)}),P}var e2=z1;function t2(f,d){var C=Yi(f)?I0:e2;return C(f,qx(d,3))}var dg=t2,r2=function(d){var C=d.colors,P=d.onClick,G=d.onSwatchHover,ke=Vo()({default:{swatches:{marginRight:"-10px"},swatch:{width:"22px",height:"22px",float:"left",marginRight:"10px",marginBottom:"10px",borderRadius:"4px"},clear:{clear:"both"}}});return b.a.createElement("div",{style:ke.swatches},dg(C,function(qe){return b.a.createElement(cg,{key:qe,color:qe,style:ke.swatch,onClick:P,onHover:G,focusStyle:{boxShadow:"0 0 4px "+qe}})}),b.a.createElement("div",{style:ke.clear}))},n2=r2,z0=function(d){var C=d.onChange,P=d.onSwatchHover,G=d.hex,ke=d.colors,qe=d.width,pt=d.triangle,zt=d.styles,er=zt===void 0?{}:zt,gr=d.className,Lr=gr===void 0?"":gr,Or=G==="transparent",Vr=function(Tn,xa){Sv(Tn)&&C({hex:Tn,source:"hex"},xa)},Kr=Vo()(Zr({default:{card:{width:qe,background:"#fff",boxShadow:"0 1px rgba(0,0,0,.1)",borderRadius:"6px",position:"relative"},head:{height:"110px",background:G,borderRadius:"6px 6px 0 0",display:"flex",alignItems:"center",justifyContent:"center",position:"relative"},body:{padding:"10px"},label:{fontSize:"18px",color:zh(G),position:"relative"},triangle:{width:"0px",height:"0px",borderStyle:"solid",borderWidth:"0 10px 10px 10px",borderColor:"transparent transparent "+G+" transparent",position:"absolute",top:"-10px",left:"50%",marginLeft:"-10px"},input:{width:"100%",fontSize:"12px",color:"#666",border:"0px",outline:"none",height:"22px",boxShadow:"inset 0 0 0 1px #ddd",borderRadius:"4px",padding:"0 7px",boxSizing:"border-box"}},"hide-triangle":{triangle:{display:"none"}}},er),{"hide-triangle":pt==="hide"});return b.a.createElement("div",{style:Kr.card,className:"block-picker "+Lr},b.a.createElement("div",{style:Kr.triangle}),b.a.createElement("div",{style:Kr.head},Or&&b.a.createElement(Ap,{borderRadius:"6px 6px 0 0"}),b.a.createElement("div",{style:Kr.label},G)),b.a.createElement("div",{style:Kr.body},b.a.createElement(n2,{colors:ke,onClick:Vr,onSwatchHover:P}),b.a.createElement(Cl,{style:{input:Kr.input},value:G,onChange:Vr})))};z0.propTypes={width:mn.a.oneOfType([mn.a.string,mn.a.number]),colors:mn.a.arrayOf(mn.a.string),triangle:mn.a.oneOf(["top","hide"]),styles:mn.a.object},z0.defaultProps={width:170,colors:["#D9E3F0","#F47373","#697689","#37D67A","#2CCCE4","#555555","#dce775","#ff8a65","#ba68c8"],triangle:"top",styles:{}};var KC=ev(z0),fy={"50":"#ffebee","100":"#ffcdd2","200":"#ef9a9a","300":"#e57373","400":"#ef5350","500":"#f44336","600":"#e53935","700":"#d32f2f","800":"#c62828","900":"#b71c1c",a100:"#ff8a80",a200:"#ff5252",a400:"#ff1744",a700:"#d50000"},wu={"50":"#fce4ec","100":"#f8bbd0","200":"#f48fb1","300":"#f06292","400":"#ec407a","500":"#e91e63","600":"#d81b60","700":"#c2185b","800":"#ad1457","900":"#880e4f",a100:"#ff80ab",a200:"#ff4081",a400:"#f50057",a700:"#c51162"},dy={"50":"#f3e5f5","100":"#e1bee7","200":"#ce93d8","300":"#ba68c8","400":"#ab47bc","500":"#9c27b0","600":"#8e24aa","700":"#7b1fa2","800":"#6a1b9a","900":"#4a148c",a100:"#ea80fc",a200:"#e040fb",a400:"#d500f9",a700:"#aa00ff"},hy={"50":"#ede7f6","100":"#d1c4e9","200":"#b39ddb","300":"#9575cd","400":"#7e57c2","500":"#673ab7","600":"#5e35b1","700":"#512da8","800":"#4527a0","900":"#311b92",a100:"#b388ff",a200:"#7c4dff",a400:"#651fff",a700:"#6200ea"},Xg={"50":"#e8eaf6","100":"#c5cae9","200":"#9fa8da","300":"#7986cb","400":"#5c6bc0","500":"#3f51b5","600":"#3949ab","700":"#303f9f","800":"#283593","900":"#1a237e",a100:"#8c9eff",a200:"#536dfe",a400:"#3d5afe",a700:"#304ffe"},Qg={"50":"#e3f2fd","100":"#bbdefb","200":"#90caf9","300":"#64b5f6","400":"#42a5f5","500":"#2196f3","600":"#1e88e5","700":"#1976d2","800":"#1565c0","900":"#0d47a1",a100:"#82b1ff",a200:"#448aff",a400:"#2979ff",a700:"#2962ff"},py={"50":"#e1f5fe","100":"#b3e5fc","200":"#81d4fa","300":"#4fc3f7","400":"#29b6f6","500":"#03a9f4","600":"#039be5","700":"#0288d1","800":"#0277bd","900":"#01579b",a100:"#80d8ff",a200:"#40c4ff",a400:"#00b0ff",a700:"#0091ea"},Jg={"50":"#e0f7fa","100":"#b2ebf2","200":"#80deea","300":"#4dd0e1","400":"#26c6da","500":"#00bcd4","600":"#00acc1","700":"#0097a7","800":"#00838f","900":"#006064",a100:"#84ffff",a200:"#18ffff",a400:"#00e5ff",a700:"#00b8d4"},Vh={"50":"#e0f2f1","100":"#b2dfdb","200":"#80cbc4","300":"#4db6ac","400":"#26a69a","500":"#009688","600":"#00897b","700":"#00796b","800":"#00695c","900":"#004d40",a100:"#a7ffeb",a200:"#64ffda",a400:"#1de9b6",a700:"#00bfa5"},Kd={"50":"#e8f5e9","100":"#c8e6c9","200":"#a5d6a7","300":"#81c784","400":"#66bb6a","500":"#4caf50","600":"#43a047","700":"#388e3c","800":"#2e7d32","900":"#1b5e20",a100:"#b9f6ca",a200:"#69f0ae",a400:"#00e676",a700:"#00c853"},vm={"50":"#f1f8e9","100":"#dcedc8","200":"#c5e1a5","300":"#aed581","400":"#9ccc65","500":"#8bc34a","600":"#7cb342","700":"#689f38","800":"#558b2f","900":"#33691e",a100:"#ccff90",a200:"#b2ff59",a400:"#76ff03",a700:"#64dd17"},qg={"50":"#f9fbe7","100":"#f0f4c3","200":"#e6ee9c","300":"#dce775","400":"#d4e157","500":"#cddc39","600":"#c0ca33","700":"#afb42b","800":"#9e9d24","900":"#827717",a100:"#f4ff81",a200:"#eeff41",a400:"#c6ff00",a700:"#aeea00"},Jm={"50":"#fffde7","100":"#fff9c4","200":"#fff59d","300":"#fff176","400":"#ffee58","500":"#ffeb3b","600":"#fdd835","700":"#fbc02d","800":"#f9a825","900":"#f57f17",a100:"#ffff8d",a200:"#ffff00",a400:"#ffea00",a700:"#ffd600"},ey={"50":"#fff8e1","100":"#ffecb3","200":"#ffe082","300":"#ffd54f","400":"#ffca28","500":"#ffc107","600":"#ffb300","700":"#ffa000","800":"#ff8f00","900":"#ff6f00",a100:"#ffe57f",a200:"#ffd740",a400:"#ffc400",a700:"#ffab00"},vy={"50":"#fff3e0","100":"#ffe0b2","200":"#ffcc80","300":"#ffb74d","400":"#ffa726","500":"#ff9800","600":"#fb8c00","700":"#f57c00","800":"#ef6c00","900":"#e65100",a100:"#ffd180",a200:"#ffab40",a400:"#ff9100",a700:"#ff6d00"},hg={"50":"#fbe9e7","100":"#ffccbc","200":"#ffab91","300":"#ff8a65","400":"#ff7043","500":"#ff5722","600":"#f4511e","700":"#e64a19","800":"#d84315","900":"#bf360c",a100:"#ff9e80",a200:"#ff6e40",a400:"#ff3d00",a700:"#dd2c00"},pg={"50":"#efebe9","100":"#d7ccc8","200":"#bcaaa4","300":"#a1887f","400":"#8d6e63","500":"#795548","600":"#6d4c41","700":"#5d4037","800":"#4e342e","900":"#3e2723"},Gb={"50":"#fafafa","100":"#f5f5f5","200":"#eeeeee","300":"#e0e0e0","400":"#bdbdbd","500":"#9e9e9e","600":"#757575","700":"#616161","800":"#424242","900":"#212121"},gy={"50":"#eceff1","100":"#cfd8dc","200":"#b0bec5","300":"#90a4ae","400":"#78909c","500":"#607d8b","600":"#546e7a","700":"#455a64","800":"#37474f","900":"#263238"},a2={primary:"rgba(0, 0, 0, 0.87)",secondary:"rgba(0, 0, 0, 0.54)",disabled:"rgba(0, 0, 0, 0.38)",dividers:"rgba(0, 0, 0, 0.12)"},Tg={primary:"rgba(255, 255, 255, 1)",secondary:"rgba(255, 255, 255, 0.7)",disabled:"rgba(255, 255, 255, 0.5)",dividers:"rgba(255, 255, 255, 0.12)"},i2={active:"rgba(0, 0, 0, 0.54)",inactive:"rgba(0, 0, 0, 0.38)"},o2={active:"rgba(255, 255, 255, 1)",inactive:"rgba(255, 255, 255, 0.5)"},U0="#ffffff",s2="#000000",wC={red:fy,pink:wu,purple:dy,deepPurple:hy,indigo:Xg,blue:Qg,lightBlue:py,cyan:Jg,teal:Vh,green:Kd,lightGreen:vm,lime:qg,yellow:Jm,amber:ey,orange:vy,deepOrange:hg,brown:pg,grey:Gb,blueGrey:gy,darkText:a2,lightText:Tg,darkIcons:i2,lightIcons:o2,white:U0,black:s2},Kb=function(d){var C=d.color,P=d.onClick,G=d.onSwatchHover,ke=d.hover,qe=d.active,pt=d.circleSize,zt=d.circleSpacing,er=Vo()({default:{swatch:{width:pt,height:pt,marginRight:zt,marginBottom:zt,transform:"scale(1)",transition:"100ms transform ease"},Swatch:{borderRadius:"50%",background:"transparent",boxShadow:"inset 0 0 0 "+(pt/2+1)+"px "+C,transition:"100ms box-shadow ease"}},hover:{swatch:{transform:"scale(1.2)"}},active:{Swatch:{boxShadow:"inset 0 0 0 3px "+C}}},{hover:ke,active:qe});return b.a.createElement("div",{style:er.swatch},b.a.createElement(cg,{style:er.Swatch,color:C,onClick:P,onHover:G,focusStyle:{boxShadow:er.Swatch.boxShadow+", 0 0 5px "+C}}))};Kb.defaultProps={circleSize:28,circleSpacing:14};var l2=Object(Wd.handleHover)(Kb),U1=function(d){var C=d.width,P=d.onChange,G=d.onSwatchHover,ke=d.colors,qe=d.hex,pt=d.circleSize,zt=d.styles,er=zt===void 0?{}:zt,gr=d.circleSpacing,Lr=d.className,Or=Lr===void 0?"":Lr,Vr=Vo()(Zr({default:{card:{width:C,display:"flex",flexWrap:"wrap",marginRight:-gr,marginBottom:-gr}}},er)),Kr=function(Tn,xa){return P({hex:Tn,source:"hex"},xa)};return b.a.createElement("div",{style:Vr.card,className:"circle-picker "+Or},dg(ke,function(cn){return b.a.createElement(l2,{key:cn,color:cn,onClick:Kr,onSwatchHover:G,active:qe===cn.toLowerCase(),circleSize:pt,circleSpacing:gr})}))};U1.propTypes={width:mn.a.oneOfType([mn.a.string,mn.a.number]),circleSize:mn.a.number,circleSpacing:mn.a.number,styles:mn.a.object},U1.defaultProps={width:252,circleSize:28,circleSpacing:14,colors:[fy["500"],wu["500"],dy["500"],hy["500"],Xg["500"],Qg["500"],py["500"],Jg["500"],Vh["500"],Kd["500"],vm["500"],qg["500"],Jm["500"],ey["500"],vy["500"],hg["500"],pg["500"],gy["500"]],styles:{}};var TC=ev(U1);function u2(f){return f===void 0}var Zb=u2,c2=r("9F0J"),f2=r.n(c2),d2=function(){function f(d,C){for(var P=0;P<C.length;P++){var G=C[P];G.enumerable=G.enumerable||!1,G.configurable=!0,"value"in G&&(G.writable=!0),Object.defineProperty(d,G.key,G)}}return function(d,C,P){return C&&f(d.prototype,C),P&&f(d,P),d}}();function h2(f,d){if(!(f instanceof d))throw new TypeError("Cannot call a class as a function")}function Yb(f,d){if(!f)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return d&&(typeof d=="object"||typeof d=="function")?d:f}function V0(f,d){if(typeof d!="function"&&d!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof d);f.prototype=Object.create(d&&d.prototype,{constructor:{value:f,enumerable:!1,writable:!0,configurable:!0}}),d&&(Object.setPrototypeOf?Object.setPrototypeOf(f,d):f.__proto__=d)}var $b=function(f){V0(d,f);function d(C){h2(this,d);var P=Yb(this,(d.__proto__||Object.getPrototypeOf(d)).call(this));return P.toggleViews=function(){P.state.view==="hex"?P.setState({view:"rgb"}):P.state.view==="rgb"?P.setState({view:"hsl"}):P.state.view==="hsl"&&(P.props.hsl.a===1?P.setState({view:"hex"}):P.setState({view:"rgb"}))},P.handleChange=function(G,ke){G.hex?Sv(G.hex)&&P.props.onChange({hex:G.hex,source:"hex"},ke):G.r||G.g||G.b?P.props.onChange({r:G.r||P.props.rgb.r,g:G.g||P.props.rgb.g,b:G.b||P.props.rgb.b,source:"rgb"},ke):G.a?(G.a<0?G.a=0:G.a>1&&(G.a=1),P.props.onChange({h:P.props.hsl.h,s:P.props.hsl.s,l:P.props.hsl.l,a:Math.round(G.a*100)/100,source:"rgb"},ke)):(G.h||G.s||G.l)&&(typeof G.s=="string"&&G.s.includes("%")&&(G.s=G.s.replace("%","")),typeof G.l=="string"&&G.l.includes("%")&&(G.l=G.l.replace("%","")),G.s==1?G.s=.01:G.l==1&&(G.l=.01),P.props.onChange({h:G.h||P.props.hsl.h,s:Number(Zb(G.s)?P.props.hsl.s:G.s),l:Number(Zb(G.l)?P.props.hsl.l:G.l),source:"hsl"},ke))},P.showHighlight=function(G){G.currentTarget.style.background="#eee"},P.hideHighlight=function(G){G.currentTarget.style.background="transparent"},C.hsl.a!==1&&C.view==="hex"?P.state={view:"rgb"}:P.state={view:C.view},P}return d2(d,[{key:"render",value:function(){var P=this,G=Vo()({default:{wrap:{paddingTop:"16px",display:"flex"},fields:{flex:"1",display:"flex",marginLeft:"-6px"},field:{paddingLeft:"6px",width:"100%"},alpha:{paddingLeft:"6px",width:"100%"},toggle:{width:"32px",textAlign:"right",position:"relative"},icon:{marginRight:"-4px",marginTop:"12px",cursor:"pointer",position:"relative"},iconHighlight:{position:"absolute",width:"24px",height:"28px",background:"#eee",borderRadius:"4px",top:"10px",left:"12px",display:"none"},input:{fontSize:"11px",color:"#333",width:"100%",borderRadius:"2px",border:"none",boxShadow:"inset 0 0 0 1px #dadada",height:"21px",textAlign:"center"},label:{textTransform:"uppercase",fontSize:"11px",lineHeight:"11px",color:"#969696",textAlign:"center",display:"block",marginTop:"12px"},svg:{fill:"#333",width:"24px",height:"24px",border:"1px transparent solid",borderRadius:"5px"}},disableAlpha:{alpha:{display:"none"}}},this.props,this.state),ke=void 0;return this.state.view==="hex"?ke=b.a.createElement("div",{style:G.fields,className:"flexbox-fix"},b.a.createElement("div",{style:G.field},b.a.createElement(Cl,{style:{input:G.input,label:G.label},label:"hex",value:this.props.hex,onChange:this.handleChange}))):this.state.view==="rgb"?ke=b.a.createElement("div",{style:G.fields,className:"flexbox-fix"},b.a.createElement("div",{style:G.field},b.a.createElement(Cl,{style:{input:G.input,label:G.label},label:"r",value:this.props.rgb.r,onChange:this.handleChange})),b.a.createElement("div",{style:G.field},b.a.createElement(Cl,{style:{input:G.input,label:G.label},label:"g",value:this.props.rgb.g,onChange:this.handleChange})),b.a.createElement("div",{style:G.field},b.a.createElement(Cl,{style:{input:G.input,label:G.label},label:"b",value:this.props.rgb.b,onChange:this.handleChange})),b.a.createElement("div",{style:G.alpha},b.a.createElement(Cl,{style:{input:G.input,label:G.label},label:"a",value:this.props.rgb.a,arrowOffset:.01,onChange:this.handleChange}))):this.state.view==="hsl"&&(ke=b.a.createElement("div",{style:G.fields,className:"flexbox-fix"},b.a.createElement("div",{style:G.field},b.a.createElement(Cl,{style:{input:G.input,label:G.label},label:"h",value:Math.round(this.props.hsl.h),onChange:this.handleChange})),b.a.createElement("div",{style:G.field},b.a.createElement(Cl,{style:{input:G.input,label:G.label},label:"s",value:Math.round(this.props.hsl.s*100)+"%",onChange:this.handleChange})),b.a.createElement("div",{style:G.field},b.a.createElement(Cl,{style:{input:G.input,label:G.label},label:"l",value:Math.round(this.props.hsl.l*100)+"%",onChange:this.handleChange})),b.a.createElement("div",{style:G.alpha},b.a.createElement(Cl,{style:{input:G.input,label:G.label},label:"a",value:this.props.hsl.a,arrowOffset:.01,onChange:this.handleChange})))),b.a.createElement("div",{style:G.wrap,className:"flexbox-fix"},ke,b.a.createElement("div",{style:G.toggle},b.a.createElement("div",{style:G.icon,onClick:this.toggleViews,ref:function(pt){return P.icon=pt}},b.a.createElement(f2.a,{style:G.svg,onMouseOver:this.showHighlight,onMouseEnter:this.showHighlight,onMouseOut:this.hideHighlight}))))}}],[{key:"getDerivedStateFromProps",value:function(P,G){return P.hsl.a!==1&&G.view==="hex"?{view:"rgb"}:null}}]),d}(b.a.Component);$b.defaultProps={view:"hex"};var p2=$b,v2=function(){var d=Vo()({default:{picker:{width:"12px",height:"12px",borderRadius:"6px",transform:"translate(-6px, -1px)",backgroundColor:"rgb(248, 248, 248)",boxShadow:"0 1px 4px 0 rgba(0, 0, 0, 0.37)"}}});return b.a.createElement("div",{style:d.picker})},Xb=v2,m2=function(){var d=Vo()({default:{picker:{width:"12px",height:"12px",borderRadius:"6px",boxShadow:"inset 0 0 0 1px #fff",transform:"translate(-6px, -6px)"}}});return b.a.createElement("div",{style:d.picker})},H0=m2,Wy=function(d){var C=d.width,P=d.onChange,G=d.disableAlpha,ke=d.rgb,qe=d.hsl,pt=d.hsv,zt=d.hex,er=d.renderers,gr=d.styles,Lr=gr===void 0?{}:gr,Or=d.className,Vr=Or===void 0?"":Or,Kr=d.defaultView,cn=Vo()(Zr({default:{picker:{width:C,background:"#fff",borderRadius:"2px",boxShadow:"0 0 2px rgba(0,0,0,.3), 0 4px 8px rgba(0,0,0,.3)",boxSizing:"initial",fontFamily:"Menlo"},saturation:{width:"100%",paddingBottom:"55%",position:"relative",borderRadius:"2px 2px 0 0",overflow:"hidden"},Saturation:{radius:"2px 2px 0 0"},body:{padding:"16px 16px 12px"},controls:{display:"flex"},color:{width:"32px"},swatch:{marginTop:"6px",width:"16px",height:"16px",borderRadius:"8px",position:"relative",overflow:"hidden"},active:{absolute:"0px 0px 0px 0px",borderRadius:"8px",boxShadow:"inset 0 0 0 1px rgba(0,0,0,.1)",background:"rgba("+ke.r+", "+ke.g+", "+ke.b+", "+ke.a+")",zIndex:"2"},toggles:{flex:"1"},hue:{height:"10px",position:"relative",marginBottom:"8px"},Hue:{radius:"2px"},alpha:{height:"10px",position:"relative"},Alpha:{radius:"2px"}},disableAlpha:{color:{width:"22px"},alpha:{display:"none"},hue:{marginBottom:"0px"},swatch:{width:"10px",height:"10px",marginTop:"0px"}}},Lr),{disableAlpha:G});return b.a.createElement("div",{style:cn.picker,className:"chrome-picker "+Vr},b.a.createElement("div",{style:cn.saturation},b.a.createElement(Ls,{style:cn.Saturation,hsl:qe,hsv:pt,pointer:H0,onChange:P})),b.a.createElement("div",{style:cn.body},b.a.createElement("div",{style:cn.controls,className:"flexbox-fix"},b.a.createElement("div",{style:cn.color},b.a.createElement("div",{style:cn.swatch},b.a.createElement("div",{style:cn.active}),b.a.createElement(Ap,{renderers:er}))),b.a.createElement("div",{style:cn.toggles},b.a.createElement("div",{style:cn.hue},b.a.createElement(ea,{style:cn.Hue,hsl:qe,pointer:Xb,onChange:P})),b.a.createElement("div",{style:cn.alpha},b.a.createElement(Rv,{style:cn.Alpha,rgb:ke,hsl:qe,pointer:Xb,renderers:er,onChange:P})))),b.a.createElement(p2,{rgb:ke,hsl:qe,hex:zt,view:Kr,onChange:P,disableAlpha:G})))};Wy.propTypes={width:mn.a.oneOfType([mn.a.string,mn.a.number]),disableAlpha:mn.a.bool,styles:mn.a.object,defaultView:mn.a.oneOf(["hex","rgb","hsl"])},Wy.defaultProps={width:225,disableAlpha:!1,styles:{}};var AC=ev(Wy),g2=function(d){var C=d.color,P=d.onClick,G=P===void 0?function(){}:P,ke=d.onSwatchHover,qe=d.active,pt=Vo()({default:{color:{background:C,width:"15px",height:"15px",float:"left",marginRight:"5px",marginBottom:"5px",position:"relative",cursor:"pointer"},dot:{absolute:"5px 5px 5px 5px",background:zh(C),borderRadius:"50%",opacity:"0"}},active:{dot:{opacity:"1"}},"color-#FFFFFF":{color:{boxShadow:"inset 0 0 0 1px #ddd"},dot:{background:"#000"}},transparent:{dot:{background:"#000"}}},{active:qe,"color-#FFFFFF":C==="#FFFFFF",transparent:C==="transparent"});return b.a.createElement(cg,{style:pt.color,color:C,onClick:G,onHover:ke,focusStyle:{boxShadow:"0 0 4px "+C}},b.a.createElement("div",{style:pt.dot}))},y2=g2,b2=function(d){var C=d.hex,P=d.rgb,G=d.onChange,ke=Vo()({default:{fields:{display:"flex",paddingBottom:"6px",paddingRight:"5px",position:"relative"},active:{position:"absolute",top:"6px",left:"5px",height:"9px",width:"9px",background:C},HEXwrap:{flex:"6",position:"relative"},HEXinput:{width:"80%",padding:"0px",paddingLeft:"20%",border:"none",outline:"none",background:"none",fontSize:"12px",color:"#333",height:"16px"},HEXlabel:{display:"none"},RGBwrap:{flex:"3",position:"relative"},RGBinput:{width:"70%",padding:"0px",paddingLeft:"30%",border:"none",outline:"none",background:"none",fontSize:"12px",color:"#333",height:"16px"},RGBlabel:{position:"absolute",top:"3px",left:"0px",lineHeight:"16px",textTransform:"uppercase",fontSize:"12px",color:"#999"}}}),qe=function(zt,er){zt.r||zt.g||zt.b?G({r:zt.r||P.r,g:zt.g||P.g,b:zt.b||P.b,source:"rgb"},er):G({hex:zt.hex,source:"hex"},er)};return b.a.createElement("div",{style:ke.fields,className:"flexbox-fix"},b.a.createElement("div",{style:ke.active}),b.a.createElement(Cl,{style:{wrap:ke.HEXwrap,input:ke.HEXinput,label:ke.HEXlabel},label:"hex",value:C,onChange:qe}),b.a.createElement(Cl,{style:{wrap:ke.RGBwrap,input:ke.RGBinput,label:ke.RGBlabel},label:"r",value:P.r,onChange:qe}),b.a.createElement(Cl,{style:{wrap:ke.RGBwrap,input:ke.RGBinput,label:ke.RGBlabel},label:"g",value:P.g,onChange:qe}),b.a.createElement(Cl,{style:{wrap:ke.RGBwrap,input:ke.RGBinput,label:ke.RGBlabel},label:"b",value:P.b,onChange:qe}))},x2=b2,V1=function(d){var C=d.onChange,P=d.onSwatchHover,G=d.colors,ke=d.hex,qe=d.rgb,pt=d.styles,zt=pt===void 0?{}:pt,er=d.className,gr=er===void 0?"":er,Lr=Vo()(Zr({default:{Compact:{background:"#f6f6f6",radius:"4px"},compact:{paddingTop:"5px",paddingLeft:"5px",boxSizing:"initial",width:"240px"},clear:{clear:"both"}}},zt)),Or=function(Kr,cn){Kr.hex?Sv(Kr.hex)&&C({hex:Kr.hex,source:"hex"},cn):C(Kr,cn)};return b.a.createElement(ca,{style:Lr.Compact,styles:zt},b.a.createElement("div",{style:Lr.compact,className:"compact-picker "+gr},b.a.createElement("div",null,dg(G,function(Vr){return b.a.createElement(y2,{key:Vr,color:Vr,active:Vr.toLowerCase()===ke,onClick:Or,onSwatchHover:P})}),b.a.createElement("div",{style:Lr.clear})),b.a.createElement(x2,{hex:ke,rgb:qe,onChange:Or})))};V1.propTypes={colors:mn.a.arrayOf(mn.a.string),styles:mn.a.object},V1.defaultProps={colors:["#4D4D4D","#999999","#FFFFFF","#F44E3B","#FE9200","#FCDC00","#DBDF00","#A4DD00","#68CCCA","#73D8FF","#AEA1FF","#FDA1FF","#333333","#808080","#cccccc","#D33115","#E27300","#FCC400","#B0BC00","#68BC00","#16A5A5","#009CE0","#7B64FF","#FA28FF","#000000","#666666","#B3B3B3","#9F0500","#C45100","#FB9E00","#808900","#194D33","#0C797D","#0062B1","#653294","#AB149E"],styles:{}};var H1=ev(V1),W0=function(d){var C=d.hover,P=d.color,G=d.onClick,ke=d.onSwatchHover,qe={position:"relative",zIndex:"2",outline:"2px solid #fff",boxShadow:"0 0 5px 2px rgba(0,0,0,0.25)"},pt=Vo()({default:{swatch:{width:"25px",height:"25px",fontSize:"0"}},hover:{swatch:qe}},{hover:C});return b.a.createElement("div",{style:pt.swatch},b.a.createElement(cg,{color:P,onClick:G,onHover:ke,focusStyle:qe}))},G0=Object(Wd.handleHover)(W0),f0=function(d){var C=d.width,P=d.colors,G=d.onChange,ke=d.onSwatchHover,qe=d.triangle,pt=d.styles,zt=pt===void 0?{}:pt,er=d.className,gr=er===void 0?"":er,Lr=Vo()(Zr({default:{card:{width:C,background:"#fff",border:"1px solid rgba(0,0,0,0.2)",boxShadow:"0 3px 12px rgba(0,0,0,0.15)",borderRadius:"4px",position:"relative",padding:"5px",display:"flex",flexWrap:"wrap"},triangle:{position:"absolute",border:"7px solid transparent",borderBottomColor:"#fff"},triangleShadow:{position:"absolute",border:"8px solid transparent",borderBottomColor:"rgba(0,0,0,0.15)"}},"hide-triangle":{triangle:{display:"none"},triangleShadow:{display:"none"}},"top-left-triangle":{triangle:{top:"-14px",left:"10px"},triangleShadow:{top:"-16px",left:"9px"}},"top-right-triangle":{triangle:{top:"-14px",right:"10px"},triangleShadow:{top:"-16px",right:"9px"}},"bottom-left-triangle":{triangle:{top:"35px",left:"10px",transform:"rotate(180deg)"},triangleShadow:{top:"37px",left:"9px",transform:"rotate(180deg)"}},"bottom-right-triangle":{triangle:{top:"35px",right:"10px",transform:"rotate(180deg)"},triangleShadow:{top:"37px",right:"9px",transform:"rotate(180deg)"}}},zt),{"hide-triangle":qe==="hide","top-left-triangle":qe==="top-left","top-right-triangle":qe==="top-right","bottom-left-triangle":qe==="bottom-left","bottom-right-triangle":qe==="bottom-right"}),Or=function(Kr,cn){return G({hex:Kr,source:"hex"},cn)};return b.a.createElement("div",{style:Lr.card,className:"github-picker "+gr},b.a.createElement("div",{style:Lr.triangleShadow}),b.a.createElement("div",{style:Lr.triangle}),dg(P,function(Vr){return b.a.createElement(G0,{color:Vr,key:Vr,onClick:Or,onSwatchHover:ke})}))};f0.propTypes={width:mn.a.oneOfType([mn.a.string,mn.a.number]),colors:mn.a.arrayOf(mn.a.string),triangle:mn.a.oneOf(["hide","top-left","top-right","bottom-left","bottom-right"]),styles:mn.a.object},f0.defaultProps={width:200,colors:["#B80000","#DB3E00","#FCCB00","#008B02","#006B76","#1273DE","#004DCF","#5300EB","#EB9694","#FAD0C3","#FEF3BD","#C1E1C5","#BEDADC","#C4DEF6","#BED3F3","#D4C4FB"],triangle:"top-left",styles:{}};var MC=ev(f0),C2=function(d){var C=d.direction,P=Vo()({default:{picker:{width:"18px",height:"18px",borderRadius:"50%",transform:"translate(-9px, -1px)",backgroundColor:"rgb(248, 248, 248)",boxShadow:"0 1px 4px 0 rgba(0, 0, 0, 0.37)"}},vertical:{picker:{transform:"translate(-3px, -9px)"}}},{vertical:C==="vertical"});return b.a.createElement("div",{style:P.picker})},W1=C2,E2=Object.assign||function(f){for(var d=1;d<arguments.length;d++){var C=arguments[d];for(var P in C)Object.prototype.hasOwnProperty.call(C,P)&&(f[P]=C[P])}return f},G1=function(d){var C=d.width,P=d.height,G=d.onChange,ke=d.hsl,qe=d.direction,pt=d.pointer,zt=d.styles,er=zt===void 0?{}:zt,gr=d.className,Lr=gr===void 0?"":gr,Or=Vo()(Zr({default:{picker:{position:"relative",width:C,height:P},hue:{radius:"2px"}}},er)),Vr=function(cn){return G({a:1,h:cn.h,l:.5,s:1})};return b.a.createElement("div",{style:Or.picker,className:"hue-picker "+Lr},b.a.createElement(ea,E2({},Or.hue,{hsl:ke,pointer:pt,onChange:Vr,direction:qe})))};G1.propTypes={styles:mn.a.object},G1.defaultProps={width:"316px",height:"16px",direction:"horizontal",pointer:W1,styles:{}};var _C=ev(G1),S2=function(d){var C=d.onChange,P=d.hex,G=d.rgb,ke=d.styles,qe=ke===void 0?{}:ke,pt=d.className,zt=pt===void 0?"":pt,er=Vo()(Zr({default:{material:{width:"98px",height:"98px",padding:"16px",fontFamily:"Roboto"},HEXwrap:{position:"relative"},HEXinput:{width:"100%",marginTop:"12px",fontSize:"15px",color:"#333",padding:"0px",border:"0px",borderBottom:"2px solid "+P,outline:"none",height:"30px"},HEXlabel:{position:"absolute",top:"0px",left:"0px",fontSize:"11px",color:"#999999",textTransform:"capitalize"},Hex:{style:{}},RGBwrap:{position:"relative"},RGBinput:{width:"100%",marginTop:"12px",fontSize:"15px",color:"#333",padding:"0px",border:"0px",borderBottom:"1px solid #eee",outline:"none",height:"30px"},RGBlabel:{position:"absolute",top:"0px",left:"0px",fontSize:"11px",color:"#999999",textTransform:"capitalize"},split:{display:"flex",marginRight:"-10px",paddingTop:"11px"},third:{flex:"1",paddingRight:"10px"}}},qe)),gr=function(Or,Vr){Or.hex?Sv(Or.hex)&&C({hex:Or.hex,source:"hex"},Vr):(Or.r||Or.g||Or.b)&&C({r:Or.r||G.r,g:Or.g||G.g,b:Or.b||G.b,source:"rgb"},Vr)};return b.a.createElement(ca,{styles:qe},b.a.createElement("div",{style:er.material,className:"material-picker "+zt},b.a.createElement(Cl,{style:{wrap:er.HEXwrap,input:er.HEXinput,label:er.HEXlabel},label:"hex",value:P,onChange:gr}),b.a.createElement("div",{style:er.split,className:"flexbox-fix"},b.a.createElement("div",{style:er.third},b.a.createElement(Cl,{style:{wrap:er.RGBwrap,input:er.RGBinput,label:er.RGBlabel},label:"r",value:G.r,onChange:gr})),b.a.createElement("div",{style:er.third},b.a.createElement(Cl,{style:{wrap:er.RGBwrap,input:er.RGBinput,label:er.RGBlabel},label:"g",value:G.g,onChange:gr})),b.a.createElement("div",{style:er.third},b.a.createElement(Cl,{style:{wrap:er.RGBwrap,input:er.RGBinput,label:er.RGBlabel},label:"b",value:G.b,onChange:gr})))))},IC=ev(S2),O2=function(d){var C=d.onChange,P=d.rgb,G=d.hsv,ke=d.hex,qe=Vo()({default:{fields:{paddingTop:"5px",paddingBottom:"9px",width:"80px",position:"relative"},divider:{height:"5px"},RGBwrap:{position:"relative"},RGBinput:{marginLeft:"40%",width:"40%",height:"18px",border:"1px solid #888888",boxShadow:"inset 0 1px 1px rgba(0,0,0,.1), 0 1px 0 0 #ECECEC",marginBottom:"5px",fontSize:"13px",paddingLeft:"3px",marginRight:"10px"},RGBlabel:{left:"0px",top:"0px",width:"34px",textTransform:"uppercase",fontSize:"13px",height:"18px",lineHeight:"22px",position:"absolute"},HEXwrap:{position:"relative"},HEXinput:{marginLeft:"20%",width:"80%",height:"18px",border:"1px solid #888888",boxShadow:"inset 0 1px 1px rgba(0,0,0,.1), 0 1px 0 0 #ECECEC",marginBottom:"6px",fontSize:"13px",paddingLeft:"3px"},HEXlabel:{position:"absolute",top:"0px",left:"0px",width:"14px",textTransform:"uppercase",fontSize:"13px",height:"18px",lineHeight:"22px"},fieldSymbols:{position:"absolute",top:"5px",right:"-7px",fontSize:"13px"},symbol:{height:"20px",lineHeight:"22px",paddingBottom:"7px"}}}),pt=function(er,gr){er["#"]?Sv(er["#"])&&C({hex:er["#"],source:"hex"},gr):er.r||er.g||er.b?C({r:er.r||P.r,g:er.g||P.g,b:er.b||P.b,source:"rgb"},gr):(er.h||er.s||er.v)&&C({h:er.h||G.h,s:er.s||G.s,v:er.v||G.v,source:"hsv"},gr)};return b.a.createElement("div",{style:qe.fields},b.a.createElement(Cl,{style:{wrap:qe.RGBwrap,input:qe.RGBinput,label:qe.RGBlabel},label:"h",value:Math.round(G.h),onChange:pt}),b.a.createElement(Cl,{style:{wrap:qe.RGBwrap,input:qe.RGBinput,label:qe.RGBlabel},label:"s",value:Math.round(G.s*100),onChange:pt}),b.a.createElement(Cl,{style:{wrap:qe.RGBwrap,input:qe.RGBinput,label:qe.RGBlabel},label:"v",value:Math.round(G.v*100),onChange:pt}),b.a.createElement("div",{style:qe.divider}),b.a.createElement(Cl,{style:{wrap:qe.RGBwrap,input:qe.RGBinput,label:qe.RGBlabel},label:"r",value:P.r,onChange:pt}),b.a.createElement(Cl,{style:{wrap:qe.RGBwrap,input:qe.RGBinput,label:qe.RGBlabel},label:"g",value:P.g,onChange:pt}),b.a.createElement(Cl,{style:{wrap:qe.RGBwrap,input:qe.RGBinput,label:qe.RGBlabel},label:"b",value:P.b,onChange:pt}),b.a.createElement("div",{style:qe.divider}),b.a.createElement(Cl,{style:{wrap:qe.HEXwrap,input:qe.HEXinput,label:qe.HEXlabel},label:"#",value:ke.replace("#",""),onChange:pt}),b.a.createElement("div",{style:qe.fieldSymbols},b.a.createElement("div",{style:qe.symbol},"\xB0"),b.a.createElement("div",{style:qe.symbol},"%"),b.a.createElement("div",{style:qe.symbol},"%")))},P2=O2,w2=function(d){var C=d.hsl,P=Vo()({default:{picker:{width:"12px",height:"12px",borderRadius:"6px",boxShadow:"inset 0 0 0 1px #fff",transform:"translate(-6px, -6px)"}},"black-outline":{picker:{boxShadow:"inset 0 0 0 1px #000"}}},{"black-outline":C.l>.5});return b.a.createElement("div",{style:P.picker})},T2=w2,Qb=function(){var d=Vo()({default:{triangle:{width:0,height:0,borderStyle:"solid",borderWidth:"4px 0 4px 6px",borderColor:"transparent transparent transparent #fff",position:"absolute",top:"1px",left:"1px"},triangleBorder:{width:0,height:0,borderStyle:"solid",borderWidth:"5px 0 5px 8px",borderColor:"transparent transparent transparent #555"},left:{Extend:"triangleBorder",transform:"translate(-13px, -4px)"},leftInside:{Extend:"triangle",transform:"translate(-8px, -5px)"},right:{Extend:"triangleBorder",transform:"translate(20px, -14px) rotate(180deg)"},rightInside:{Extend:"triangle",transform:"translate(-8px, -5px)"}}});return b.a.createElement("div",{style:d.pointer},b.a.createElement("div",{style:d.left},b.a.createElement("div",{style:d.leftInside})),b.a.createElement("div",{style:d.right},b.a.createElement("div",{style:d.rightInside})))},A2=Qb,M2=function(d){var C=d.onClick,P=d.label,G=d.children,ke=d.active,qe=Vo()({default:{button:{backgroundImage:"linear-gradient(-180deg, #FFFFFF 0%, #E6E6E6 100%)",border:"1px solid #878787",borderRadius:"2px",height:"20px",boxShadow:"0 1px 0 0 #EAEAEA",fontSize:"14px",color:"#000",lineHeight:"20px",textAlign:"center",marginBottom:"10px",cursor:"pointer"}},active:{button:{boxShadow:"0 0 0 1px #878787"}}},{active:ke});return b.a.createElement("div",{style:qe.button,onClick:C},P||G)},Jb=M2,_2=function(d){var C=d.rgb,P=d.currentColor,G=Vo()({default:{swatches:{border:"1px solid #B3B3B3",borderBottom:"1px solid #F0F0F0",marginBottom:"2px",marginTop:"1px"},new:{height:"34px",background:"rgb("+C.r+","+C.g+", "+C.b+")",boxShadow:"inset 1px 0 0 #000, inset -1px 0 0 #000, inset 0 1px 0 #000"},current:{height:"34px",background:P,boxShadow:"inset 1px 0 0 #000, inset -1px 0 0 #000, inset 0 -1px 0 #000"},label:{fontSize:"14px",color:"#000",textAlign:"center"}}});return b.a.createElement("div",null,b.a.createElement("div",{style:G.label},"new"),b.a.createElement("div",{style:G.swatches},b.a.createElement("div",{style:G.new}),b.a.createElement("div",{style:G.current})),b.a.createElement("div",{style:G.label},"current"))},I2=_2,R2=function(){function f(d,C){for(var P=0;P<C.length;P++){var G=C[P];G.enumerable=G.enumerable||!1,G.configurable=!0,"value"in G&&(G.writable=!0),Object.defineProperty(d,G.key,G)}}return function(d,C,P){return C&&f(d.prototype,C),P&&f(d,P),d}}();function L2(f,d){if(!(f instanceof d))throw new TypeError("Cannot call a class as a function")}function D2(f,d){if(!f)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return d&&(typeof d=="object"||typeof d=="function")?d:f}function F2(f,d){if(typeof d!="function"&&d!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof d);f.prototype=Object.create(d&&d.prototype,{constructor:{value:f,enumerable:!1,writable:!0,configurable:!0}}),d&&(Object.setPrototypeOf?Object.setPrototypeOf(f,d):f.__proto__=d)}var d0=function(f){F2(d,f);function d(C){L2(this,d);var P=D2(this,(d.__proto__||Object.getPrototypeOf(d)).call(this));return P.state={currentColor:C.hex},P}return R2(d,[{key:"render",value:function(){var P=this.props,G=P.styles,ke=G===void 0?{}:G,qe=P.className,pt=qe===void 0?"":qe,zt=Vo()(Zr({default:{picker:{background:"#DCDCDC",borderRadius:"4px",boxShadow:"0 0 0 1px rgba(0,0,0,.25), 0 8px 16px rgba(0,0,0,.15)",boxSizing:"initial",width:"513px"},head:{backgroundImage:"linear-gradient(-180deg, #F0F0F0 0%, #D4D4D4 100%)",borderBottom:"1px solid #B1B1B1",boxShadow:"inset 0 1px 0 0 rgba(255,255,255,.2), inset 0 -1px 0 0 rgba(0,0,0,.02)",height:"23px",lineHeight:"24px",borderRadius:"4px 4px 0 0",fontSize:"13px",color:"#4D4D4D",textAlign:"center"},body:{padding:"15px 15px 0",display:"flex"},saturation:{width:"256px",height:"256px",position:"relative",border:"2px solid #B3B3B3",borderBottom:"2px solid #F0F0F0",overflow:"hidden"},hue:{position:"relative",height:"256px",width:"19px",marginLeft:"10px",border:"2px solid #B3B3B3",borderBottom:"2px solid #F0F0F0"},controls:{width:"180px",marginLeft:"10px"},top:{display:"flex"},previews:{width:"60px"},actions:{flex:"1",marginLeft:"20px"}}},ke));return b.a.createElement("div",{style:zt.picker,className:"photoshop-picker "+pt},b.a.createElement("div",{style:zt.head},this.props.header),b.a.createElement("div",{style:zt.body,className:"flexbox-fix"},b.a.createElement("div",{style:zt.saturation},b.a.createElement(Ls,{hsl:this.props.hsl,hsv:this.props.hsv,pointer:T2,onChange:this.props.onChange})),b.a.createElement("div",{style:zt.hue},b.a.createElement(ea,{direction:"vertical",hsl:this.props.hsl,pointer:A2,onChange:this.props.onChange})),b.a.createElement("div",{style:zt.controls},b.a.createElement("div",{style:zt.top,className:"flexbox-fix"},b.a.createElement("div",{style:zt.previews},b.a.createElement(I2,{rgb:this.props.rgb,currentColor:this.state.currentColor})),b.a.createElement("div",{style:zt.actions},b.a.createElement(Jb,{label:"OK",onClick:this.props.onAccept,active:!0}),b.a.createElement(Jb,{label:"Cancel",onClick:this.props.onCancel}),b.a.createElement(P2,{onChange:this.props.onChange,rgb:this.props.rgb,hsv:this.props.hsv,hex:this.props.hex}))))))}}]),d}(b.a.Component);d0.propTypes={header:mn.a.string,styles:mn.a.object},d0.defaultProps={header:"Color Picker",styles:{}};var RC=ev(d0),N2=function(d){var C=d.onChange,P=d.rgb,G=d.hsl,ke=d.hex,qe=d.disableAlpha,pt=Vo()({default:{fields:{display:"flex",paddingTop:"4px"},single:{flex:"1",paddingLeft:"6px"},alpha:{flex:"1",paddingLeft:"6px"},double:{flex:"2"},input:{width:"80%",padding:"4px 10% 3px",border:"none",boxShadow:"inset 0 0 0 1px #ccc",fontSize:"11px"},label:{display:"block",textAlign:"center",fontSize:"11px",color:"#222",paddingTop:"3px",paddingBottom:"4px",textTransform:"capitalize"}},disableAlpha:{alpha:{display:"none"}}},{disableAlpha:qe}),zt=function(gr,Lr){gr.hex?Sv(gr.hex)&&C({hex:gr.hex,source:"hex"},Lr):gr.r||gr.g||gr.b?C({r:gr.r||P.r,g:gr.g||P.g,b:gr.b||P.b,a:P.a,source:"rgb"},Lr):gr.a&&(gr.a<0?gr.a=0:gr.a>100&&(gr.a=100),gr.a/=100,C({h:G.h,s:G.s,l:G.l,a:gr.a,source:"rgb"},Lr))};return b.a.createElement("div",{style:pt.fields,className:"flexbox-fix"},b.a.createElement("div",{style:pt.double},b.a.createElement(Cl,{style:{input:pt.input,label:pt.label},label:"hex",value:ke.replace("#",""),onChange:zt})),b.a.createElement("div",{style:pt.single},b.a.createElement(Cl,{style:{input:pt.input,label:pt.label},label:"r",value:P.r,onChange:zt,dragLabel:"true",dragMax:"255"})),b.a.createElement("div",{style:pt.single},b.a.createElement(Cl,{style:{input:pt.input,label:pt.label},label:"g",value:P.g,onChange:zt,dragLabel:"true",dragMax:"255"})),b.a.createElement("div",{style:pt.single},b.a.createElement(Cl,{style:{input:pt.input,label:pt.label},label:"b",value:P.b,onChange:zt,dragLabel:"true",dragMax:"255"})),b.a.createElement("div",{style:pt.alpha},b.a.createElement(Cl,{style:{input:pt.input,label:pt.label},label:"a",value:Math.round(P.a*100),onChange:zt,dragLabel:"true",dragMax:"100"})))},qb=N2,j2=Object.assign||function(f){for(var d=1;d<arguments.length;d++){var C=arguments[d];for(var P in C)Object.prototype.hasOwnProperty.call(C,P)&&(f[P]=C[P])}return f},K1=function(d){var C=d.colors,P=d.onClick,G=P===void 0?function(){}:P,ke=d.onSwatchHover,qe=Vo()({default:{colors:{margin:"0 -10px",padding:"10px 0 0 10px",borderTop:"1px solid #eee",display:"flex",flexWrap:"wrap",position:"relative"},swatchWrap:{width:"16px",height:"16px",margin:"0 10px 10px 0"},swatch:{borderRadius:"3px",boxShadow:"inset 0 0 0 1px rgba(0,0,0,.15)"}},"no-presets":{colors:{display:"none"}}},{"no-presets":!C||!C.length}),pt=function(er,gr){G({hex:er,source:"hex"},gr)};return b.a.createElement("div",{style:qe.colors,className:"flexbox-fix"},C.map(function(zt){var er=typeof zt=="string"?{color:zt}:zt,gr=""+er.color+(er.title||"");return b.a.createElement("div",{key:gr,style:qe.swatchWrap},b.a.createElement(cg,j2({},er,{style:qe.swatch,onClick:pt,onHover:ke,focusStyle:{boxShadow:"inset 0 0 0 1px rgba(0,0,0,.15), 0 0 4px "+er.color}})))}))};K1.propTypes={colors:mn.a.arrayOf(mn.a.oneOfType([mn.a.string,mn.a.shape({color:mn.a.string,title:mn.a.string})])).isRequired};var k2=K1,ex=Object.assign||function(f){for(var d=1;d<arguments.length;d++){var C=arguments[d];for(var P in C)Object.prototype.hasOwnProperty.call(C,P)&&(f[P]=C[P])}return f},Z1=function(d){var C=d.width,P=d.rgb,G=d.hex,ke=d.hsv,qe=d.hsl,pt=d.onChange,zt=d.onSwatchHover,er=d.disableAlpha,gr=d.presetColors,Lr=d.renderers,Or=d.styles,Vr=Or===void 0?{}:Or,Kr=d.className,cn=Kr===void 0?"":Kr,Tn=Vo()(Zr({default:ex({picker:{width:C,padding:"10px 10px 0",boxSizing:"initial",background:"#fff",borderRadius:"4px",boxShadow:"0 0 0 1px rgba(0,0,0,.15), 0 8px 16px rgba(0,0,0,.15)"},saturation:{width:"100%",paddingBottom:"75%",position:"relative",overflow:"hidden"},Saturation:{radius:"3px",shadow:"inset 0 0 0 1px rgba(0,0,0,.15), inset 0 0 4px rgba(0,0,0,.25)"},controls:{display:"flex"},sliders:{padding:"4px 0",flex:"1"},color:{width:"24px",height:"24px",position:"relative",marginTop:"4px",marginLeft:"4px",borderRadius:"3px"},activeColor:{absolute:"0px 0px 0px 0px",borderRadius:"2px",background:"rgba("+P.r+","+P.g+","+P.b+","+P.a+")",boxShadow:"inset 0 0 0 1px rgba(0,0,0,.15), inset 0 0 4px rgba(0,0,0,.25)"},hue:{position:"relative",height:"10px",overflow:"hidden"},Hue:{radius:"2px",shadow:"inset 0 0 0 1px rgba(0,0,0,.15), inset 0 0 4px rgba(0,0,0,.25)"},alpha:{position:"relative",height:"10px",marginTop:"4px",overflow:"hidden"},Alpha:{radius:"2px",shadow:"inset 0 0 0 1px rgba(0,0,0,.15), inset 0 0 4px rgba(0,0,0,.25)"}},Vr),disableAlpha:{color:{height:"10px"},hue:{height:"10px"},alpha:{display:"none"}}},Vr),{disableAlpha:er});return b.a.createElement("div",{style:Tn.picker,className:"sketch-picker "+cn},b.a.createElement("div",{style:Tn.saturation},b.a.createElement(Ls,{style:Tn.Saturation,hsl:qe,hsv:ke,onChange:pt})),b.a.createElement("div",{style:Tn.controls,className:"flexbox-fix"},b.a.createElement("div",{style:Tn.sliders},b.a.createElement("div",{style:Tn.hue},b.a.createElement(ea,{style:Tn.Hue,hsl:qe,onChange:pt})),b.a.createElement("div",{style:Tn.alpha},b.a.createElement(Rv,{style:Tn.Alpha,rgb:P,hsl:qe,renderers:Lr,onChange:pt}))),b.a.createElement("div",{style:Tn.color},b.a.createElement(Ap,null),b.a.createElement("div",{style:Tn.activeColor}))),b.a.createElement(qb,{rgb:P,hsl:qe,hex:G,onChange:pt,disableAlpha:er}),b.a.createElement(k2,{colors:gr,onClick:pt,onSwatchHover:zt}))};Z1.propTypes={disableAlpha:mn.a.bool,width:mn.a.oneOfType([mn.a.string,mn.a.number]),styles:mn.a.object},Z1.defaultProps={disableAlpha:!1,width:200,styles:{},presetColors:["#D0021B","#F5A623","#F8E71C","#8B572A","#7ED321","#417505","#BD10E0","#9013FE","#4A90E2","#50E3C2","#B8E986","#000000","#4A4A4A","#9B9B9B","#FFFFFF"]};var Y1=ev(Z1),B2=function(d){var C=d.hsl,P=d.offset,G=d.onClick,ke=G===void 0?function(){}:G,qe=d.active,pt=d.first,zt=d.last,er=Vo()({default:{swatch:{height:"12px",background:"hsl("+C.h+", 50%, "+P*100+"%)",cursor:"pointer"}},first:{swatch:{borderRadius:"2px 0 0 2px"}},last:{swatch:{borderRadius:"0 2px 2px 0"}},active:{swatch:{transform:"scaleY(1.8)",borderRadius:"3.6px/2px"}}},{active:qe,first:pt,last:zt}),gr=function(Or){return ke({h:C.h,s:.5,l:P,source:"hsl"},Or)};return b.a.createElement("div",{style:er.swatch,onClick:gr})},h0=B2,z2=function(d){var C=d.onClick,P=d.hsl,G=Vo()({default:{swatches:{marginTop:"20px"},swatch:{boxSizing:"border-box",width:"20%",paddingRight:"1px",float:"left"},clear:{clear:"both"}}}),ke=.1;return b.a.createElement("div",{style:G.swatches},b.a.createElement("div",{style:G.swatch},b.a.createElement(h0,{hsl:P,offset:".80",active:Math.abs(P.l-.8)<ke&&Math.abs(P.s-.5)<ke,onClick:C,first:!0})),b.a.createElement("div",{style:G.swatch},b.a.createElement(h0,{hsl:P,offset:".65",active:Math.abs(P.l-.65)<ke&&Math.abs(P.s-.5)<ke,onClick:C})),b.a.createElement("div",{style:G.swatch},b.a.createElement(h0,{hsl:P,offset:".50",active:Math.abs(P.l-.5)<ke&&Math.abs(P.s-.5)<ke,onClick:C})),b.a.createElement("div",{style:G.swatch},b.a.createElement(h0,{hsl:P,offset:".35",active:Math.abs(P.l-.35)<ke&&Math.abs(P.s-.5)<ke,onClick:C})),b.a.createElement("div",{style:G.swatch},b.a.createElement(h0,{hsl:P,offset:".20",active:Math.abs(P.l-.2)<ke&&Math.abs(P.s-.5)<ke,onClick:C,last:!0})),b.a.createElement("div",{style:G.clear}))},$1=z2,K0=function(){var d=Vo()({default:{picker:{width:"14px",height:"14px",borderRadius:"6px",transform:"translate(-7px, -1px)",backgroundColor:"rgb(248, 248, 248)",boxShadow:"0 1px 4px 0 rgba(0, 0, 0, 0.37)"}}});return b.a.createElement("div",{style:d.picker})},U2=K0,X1=function(d){var C=d.hsl,P=d.onChange,G=d.pointer,ke=d.styles,qe=ke===void 0?{}:ke,pt=d.className,zt=pt===void 0?"":pt,er=Vo()(Zr({default:{hue:{height:"12px",position:"relative"},Hue:{radius:"2px"}}},qe));return b.a.createElement("div",{style:er.wrap||{},className:"slider-picker "+zt},b.a.createElement("div",{style:er.hue},b.a.createElement(ea,{style:er.Hue,hsl:C,pointer:G,onChange:P})),b.a.createElement("div",{style:er.swatches},b.a.createElement($1,{hsl:C,onClick:P})))};X1.propTypes={styles:mn.a.object},X1.defaultProps={pointer:U2,styles:{}};var tx=ev(X1),V2=r("ql/k"),H2=r.n(V2),W2=function(d){var C=d.color,P=d.onClick,G=P===void 0?function(){}:P,ke=d.onSwatchHover,qe=d.first,pt=d.last,zt=d.active,er=Vo()({default:{color:{width:"40px",height:"24px",cursor:"pointer",background:C,marginBottom:"1px"},check:{color:zh(C),marginLeft:"8px",display:"none"}},first:{color:{overflow:"hidden",borderRadius:"2px 2px 0 0"}},last:{color:{overflow:"hidden",borderRadius:"0 0 2px 2px"}},active:{check:{display:"block"}},"color-#FFFFFF":{color:{boxShadow:"inset 0 0 0 1px #ddd"},check:{color:"#333"}},transparent:{check:{color:"#333"}}},{first:qe,last:pt,active:zt,"color-#FFFFFF":C==="#FFFFFF",transparent:C==="transparent"});return b.a.createElement(cg,{color:C,style:er.color,onClick:G,onHover:ke,focusStyle:{boxShadow:"0 0 4px "+C}},b.a.createElement("div",{style:er.check},b.a.createElement(H2.a,null)))},G2=W2,K2=function(d){var C=d.onClick,P=d.onSwatchHover,G=d.group,ke=d.active,qe=Vo()({default:{group:{paddingBottom:"10px",width:"40px",float:"left",marginRight:"10px"}}});return b.a.createElement("div",{style:qe.group},dg(G,function(pt,zt){return b.a.createElement(G2,{key:pt,color:pt,active:pt.toLowerCase()===ke,first:zt===0,last:zt===G.length-1,onClick:C,onSwatchHover:P})}))},rx=K2,Q1=function(d){var C=d.width,P=d.height,G=d.onChange,ke=d.onSwatchHover,qe=d.colors,pt=d.hex,zt=d.styles,er=zt===void 0?{}:zt,gr=d.className,Lr=gr===void 0?"":gr,Or=Vo()(Zr({default:{picker:{width:C,height:P},overflow:{height:P,overflowY:"scroll"},body:{padding:"16px 0 6px 16px"},clear:{clear:"both"}}},er)),Vr=function(cn,Tn){return G({hex:cn,source:"hex"},Tn)};return b.a.createElement("div",{style:Or.picker,className:"swatches-picker "+Lr},b.a.createElement(ca,null,b.a.createElement("div",{style:Or.overflow},b.a.createElement("div",{style:Or.body},dg(qe,function(Kr){return b.a.createElement(rx,{key:Kr.toString(),group:Kr,active:pt,onClick:Vr,onSwatchHover:ke})}),b.a.createElement("div",{style:Or.clear})))))};Q1.propTypes={width:mn.a.oneOfType([mn.a.string,mn.a.number]),height:mn.a.oneOfType([mn.a.string,mn.a.number]),colors:mn.a.arrayOf(mn.a.arrayOf(mn.a.string)),styles:mn.a.object},Q1.defaultProps={width:320,height:240,colors:[[fy["900"],fy["700"],fy["500"],fy["300"],fy["100"]],[wu["900"],wu["700"],wu["500"],wu["300"],wu["100"]],[dy["900"],dy["700"],dy["500"],dy["300"],dy["100"]],[hy["900"],hy["700"],hy["500"],hy["300"],hy["100"]],[Xg["900"],Xg["700"],Xg["500"],Xg["300"],Xg["100"]],[Qg["900"],Qg["700"],Qg["500"],Qg["300"],Qg["100"]],[py["900"],py["700"],py["500"],py["300"],py["100"]],[Jg["900"],Jg["700"],Jg["500"],Jg["300"],Jg["100"]],[Vh["900"],Vh["700"],Vh["500"],Vh["300"],Vh["100"]],["#194D33",Kd["700"],Kd["500"],Kd["300"],Kd["100"]],[vm["900"],vm["700"],vm["500"],vm["300"],vm["100"]],[qg["900"],qg["700"],qg["500"],qg["300"],qg["100"]],[Jm["900"],Jm["700"],Jm["500"],Jm["300"],Jm["100"]],[ey["900"],ey["700"],ey["500"],ey["300"],ey["100"]],[vy["900"],vy["700"],vy["500"],vy["300"],vy["100"]],[hg["900"],hg["700"],hg["500"],hg["300"],hg["100"]],[pg["900"],pg["700"],pg["500"],pg["300"],pg["100"]],[gy["900"],gy["700"],gy["500"],gy["300"],gy["100"]],["#000000","#525252","#969696","#D9D9D9","#FFFFFF"]],styles:{}};var LC=ev(Q1),J1=function(d){var C=d.onChange,P=d.onSwatchHover,G=d.hex,ke=d.colors,qe=d.width,pt=d.triangle,zt=d.styles,er=zt===void 0?{}:zt,gr=d.className,Lr=gr===void 0?"":gr,Or=Vo()(Zr({default:{card:{width:qe,background:"#fff",border:"0 solid rgba(0,0,0,0.25)",boxShadow:"0 1px 4px rgba(0,0,0,0.25)",borderRadius:"4px",position:"relative"},body:{padding:"15px 9px 9px 15px"},label:{fontSize:"18px",color:"#fff"},triangle:{width:"0px",height:"0px",borderStyle:"solid",borderWidth:"0 9px 10px 9px",borderColor:"transparent transparent #fff transparent",position:"absolute"},triangleShadow:{width:"0px",height:"0px",borderStyle:"solid",borderWidth:"0 9px 10px 9px",borderColor:"transparent transparent rgba(0,0,0,.1) transparent",position:"absolute"},hash:{background:"#F0F0F0",height:"30px",width:"30px",borderRadius:"4px 0 0 4px",float:"left",color:"#98A1A4",display:"flex",alignItems:"center",justifyContent:"center"},input:{width:"100px",fontSize:"14px",color:"#666",border:"0px",outline:"none",height:"28px",boxShadow:"inset 0 0 0 1px #F0F0F0",boxSizing:"content-box",borderRadius:"0 4px 4px 0",float:"left",paddingLeft:"8px"},swatch:{width:"30px",height:"30px",float:"left",borderRadius:"4px",margin:"0 6px 6px 0"},clear:{clear:"both"}},"hide-triangle":{triangle:{display:"none"},triangleShadow:{display:"none"}},"top-left-triangle":{triangle:{top:"-10px",left:"12px"},triangleShadow:{top:"-11px",left:"12px"}},"top-right-triangle":{triangle:{top:"-10px",right:"12px"},triangleShadow:{top:"-11px",right:"12px"}}},er),{"hide-triangle":pt==="hide","top-left-triangle":pt==="top-left","top-right-triangle":pt==="top-right"}),Vr=function(cn,Tn){Sv(cn)&&C({hex:cn,source:"hex"},Tn)};return b.a.createElement("div",{style:Or.card,className:"twitter-picker "+Lr},b.a.createElement("div",{style:Or.triangleShadow}),b.a.createElement("div",{style:Or.triangle}),b.a.createElement("div",{style:Or.body},dg(ke,function(Kr,cn){return b.a.createElement(cg,{key:cn,color:Kr,hex:Kr,style:Or.swatch,onClick:Vr,onHover:P,focusStyle:{boxShadow:"0 0 4px "+Kr}})}),b.a.createElement("div",{style:Or.hash},"#"),b.a.createElement(Cl,{label:null,style:{input:Or.input},value:G.replace("#",""),onChange:Vr}),b.a.createElement("div",{style:Or.clear})))};J1.propTypes={width:mn.a.oneOfType([mn.a.string,mn.a.number]),triangle:mn.a.oneOf(["hide","top-left","top-right"]),colors:mn.a.arrayOf(mn.a.string),styles:mn.a.object},J1.defaultProps={width:276,colors:["#FF6900","#FCB900","#7BDCB5","#00D084","#8ED1FC","#0693E3","#ABB8C3","#EB144C","#F78DA7","#9900EF"],triangle:"top-left",styles:{}};var DC=ev(J1),Z0=function(d){var C=Vo()({default:{picker:{width:"20px",height:"20px",borderRadius:"22px",border:"2px #fff solid",transform:"translate(-12px, -13px)",background:"hsl("+Math.round(d.hsl.h)+", "+Math.round(d.hsl.s*100)+"%, "+Math.round(d.hsl.l*100)+"%)"}}});return b.a.createElement("div",{style:C.picker})};Z0.propTypes={hsl:mn.a.shape({h:mn.a.number,s:mn.a.number,l:mn.a.number,a:mn.a.number})},Z0.defaultProps={hsl:{a:1,h:249.94,l:.2,s:.5}};var Z2=Z0,Ag=function(d){var C=Vo()({default:{picker:{width:"20px",height:"20px",borderRadius:"22px",transform:"translate(-10px, -7px)",background:"hsl("+Math.round(d.hsl.h)+", 100%, 50%)",border:"2px white solid"}}});return b.a.createElement("div",{style:C.picker})};Ag.propTypes={hsl:mn.a.shape({h:mn.a.number,s:mn.a.number,l:mn.a.number,a:mn.a.number})},Ag.defaultProps={hsl:{a:1,h:249.94,l:.2,s:.5}};var Y2=Ag,nx=function(d){var C=d.onChange,P=d.rgb,G=d.hsl,ke=d.hex,qe=d.hsv,pt=function(Vr,Kr){if(Vr.hex)Sv(Vr.hex)&&C({hex:Vr.hex,source:"hex"},Kr);else if(Vr.rgb){var cn=Vr.rgb.split(",");Dy(Vr.rgb,"rgb")&&C({r:cn[0],g:cn[1],b:cn[2],a:1,source:"rgb"},Kr)}else if(Vr.hsv){var Tn=Vr.hsv.split(",");Dy(Vr.hsv,"hsv")&&(Tn[2]=Tn[2].replace("%",""),Tn[1]=Tn[1].replace("%",""),Tn[0]=Tn[0].replace("\xB0",""),Tn[1]==1?Tn[1]=.01:Tn[2]==1&&(Tn[2]=.01),C({h:Number(Tn[0]),s:Number(Tn[1]),v:Number(Tn[2]),source:"hsv"},Kr))}else if(Vr.hsl){var xa=Vr.hsl.split(",");Dy(Vr.hsl,"hsl")&&(xa[2]=xa[2].replace("%",""),xa[1]=xa[1].replace("%",""),xa[0]=xa[0].replace("\xB0",""),Lr[1]==1?Lr[1]=.01:Lr[2]==1&&(Lr[2]=.01),C({h:Number(xa[0]),s:Number(xa[1]),v:Number(xa[2]),source:"hsl"},Kr))}},zt=Vo()({default:{wrap:{display:"flex",height:"100px",marginTop:"4px"},fields:{width:"100%"},column:{paddingTop:"10px",display:"flex",justifyContent:"space-between"},double:{padding:"0px 4.4px",boxSizing:"border-box"},input:{width:"100%",height:"38px",boxSizing:"border-box",padding:"4px 10% 3px",textAlign:"center",border:"1px solid #dadce0",fontSize:"11px",textTransform:"lowercase",borderRadius:"5px",outline:"none",fontFamily:"Roboto,Arial,sans-serif"},input2:{height:"38px",width:"100%",border:"1px solid #dadce0",boxSizing:"border-box",fontSize:"11px",textTransform:"lowercase",borderRadius:"5px",outline:"none",paddingLeft:"10px",fontFamily:"Roboto,Arial,sans-serif"},label:{textAlign:"center",fontSize:"12px",background:"#fff",position:"absolute",textTransform:"uppercase",color:"#3c4043",width:"35px",top:"-6px",left:"0",right:"0",marginLeft:"auto",marginRight:"auto",fontFamily:"Roboto,Arial,sans-serif"},label2:{left:"10px",textAlign:"center",fontSize:"12px",background:"#fff",position:"absolute",textTransform:"uppercase",color:"#3c4043",width:"32px",top:"-6px",fontFamily:"Roboto,Arial,sans-serif"},single:{flexGrow:"1",margin:"0px 4.4px"}}}),er=P.r+", "+P.g+", "+P.b,gr=Math.round(G.h)+"\xB0, "+Math.round(G.s*100)+"%, "+Math.round(G.l*100)+"%",Lr=Math.round(qe.h)+"\xB0, "+Math.round(qe.s*100)+"%, "+Math.round(qe.v*100)+"%";return b.a.createElement("div",{style:zt.wrap,className:"flexbox-fix"},b.a.createElement("div",{style:zt.fields},b.a.createElement("div",{style:zt.double},b.a.createElement(Cl,{style:{input:zt.input,label:zt.label},label:"hex",value:ke,onChange:pt})),b.a.createElement("div",{style:zt.column},b.a.createElement("div",{style:zt.single},b.a.createElement(Cl,{style:{input:zt.input2,label:zt.label2},label:"rgb",value:er,onChange:pt})),b.a.createElement("div",{style:zt.single},b.a.createElement(Cl,{style:{input:zt.input2,label:zt.label2},label:"hsv",value:Lr,onChange:pt})),b.a.createElement("div",{style:zt.single},b.a.createElement(Cl,{style:{input:zt.input2,label:zt.label2},label:"hsl",value:gr,onChange:pt})))))},Y0=nx,p0=function(d){var C=d.width,P=d.onChange,G=d.rgb,ke=d.hsl,qe=d.hsv,pt=d.hex,zt=d.header,er=d.styles,gr=er===void 0?{}:er,Lr=d.className,Or=Lr===void 0?"":Lr,Vr=Vo()(Zr({default:{picker:{width:C,background:"#fff",border:"1px solid #dfe1e5",boxSizing:"initial",display:"flex",flexWrap:"wrap",borderRadius:"8px 8px 0px 0px"},head:{height:"57px",width:"100%",paddingTop:"16px",paddingBottom:"16px",paddingLeft:"16px",fontSize:"20px",boxSizing:"border-box",fontFamily:"Roboto-Regular,HelveticaNeue,Arial,sans-serif"},saturation:{width:"70%",padding:"0px",position:"relative",overflow:"hidden"},swatch:{width:"30%",height:"228px",padding:"0px",background:"rgba("+G.r+", "+G.g+", "+G.b+", 1)",position:"relative",overflow:"hidden"},body:{margin:"auto",width:"95%"},controls:{display:"flex",boxSizing:"border-box",height:"52px",paddingTop:"22px"},color:{width:"32px"},hue:{height:"8px",position:"relative",margin:"0px 16px 0px 16px",width:"100%"},Hue:{radius:"2px"}}},gr));return b.a.createElement("div",{style:Vr.picker,className:"google-picker "+Or},b.a.createElement("div",{style:Vr.head},zt),b.a.createElement("div",{style:Vr.swatch}),b.a.createElement("div",{style:Vr.saturation},b.a.createElement(Ls,{hsl:ke,hsv:qe,pointer:Z2,onChange:P})),b.a.createElement("div",{style:Vr.body},b.a.createElement("div",{style:Vr.controls,className:"flexbox-fix"},b.a.createElement("div",{style:Vr.hue},b.a.createElement(ea,{style:Vr.Hue,hsl:ke,radius:"4px",pointer:Y2,onChange:P}))),b.a.createElement(Y0,{rgb:G,hsl:ke,hex:pt,hsv:qe,onChange:P})))};p0.propTypes={width:mn.a.oneOfType([mn.a.string,mn.a.number]),styles:mn.a.object,header:mn.a.string},p0.defaultProps={width:652,styles:{},header:"Color picker"};var FC=ev(p0),ax=["mode","popoverProps"];function ix(f,d){var C=Object.keys(f);if(Object.getOwnPropertySymbols){var P=Object.getOwnPropertySymbols(f);d&&(P=P.filter(function(G){return Object.getOwnPropertyDescriptor(f,G).enumerable})),C.push.apply(C,P)}return C}function ox(f){for(var d=1;d<arguments.length;d++){var C=arguments[d]!=null?arguments[d]:{};d%2?ix(Object(C),!0).forEach(function(P){$2(f,P,C[P])}):Object.getOwnPropertyDescriptors?Object.defineProperties(f,Object.getOwnPropertyDescriptors(C)):ix(Object(C)).forEach(function(P){Object.defineProperty(f,P,Object.getOwnPropertyDescriptor(C,P))})}return f}function $2(f,d,C){return d in f?Object.defineProperty(f,d,{value:C,enumerable:!0,configurable:!0,writable:!0}):f[d]=C,f}function v0(){return v0=Object.assign||function(f){for(var d=1;d<arguments.length;d++){var C=arguments[d];for(var P in C)Object.prototype.hasOwnProperty.call(C,P)&&(f[P]=C[P])}return f},v0.apply(this,arguments)}function $0(f,d){return Ky(f)||Gy(f,d)||X2(f,d)||m0()}function m0(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function X2(f,d){if(!!f){if(typeof f=="string")return X0(f,d);var C=Object.prototype.toString.call(f).slice(8,-1);if(C==="Object"&&f.constructor&&(C=f.constructor.name),C==="Map"||C==="Set")return Array.from(f);if(C==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(C))return X0(f,d)}}function X0(f,d){(d==null||d>f.length)&&(d=f.length);for(var C=0,P=new Array(d);C<d;C++)P[C]=f[C];return P}function Gy(f,d){var C=f==null?null:typeof Symbol!="undefined"&&f[Symbol.iterator]||f["@@iterator"];if(C!=null){var P=[],G=!0,ke=!1,qe,pt;try{for(C=C.call(f);!(G=(qe=C.next()).done)&&(P.push(qe.value),!(d&&P.length===d));G=!0);}catch(zt){ke=!0,pt=zt}finally{try{!G&&C.return!=null&&C.return()}finally{if(ke)throw pt}}return P}}function Ky(f){if(Array.isArray(f))return f}function Q0(f,d){if(f==null)return{};var C=sx(f,d),P,G;if(Object.getOwnPropertySymbols){var ke=Object.getOwnPropertySymbols(f);for(G=0;G<ke.length;G++)P=ke[G],!(d.indexOf(P)>=0)&&(!Object.prototype.propertyIsEnumerable.call(f,P)||(C[P]=f[P]))}return C}function sx(f,d){if(f==null)return{};var C={},P=Object.keys(f),G,ke;for(ke=0;ke<P.length;ke++)G=P[ke],!(d.indexOf(G)>=0)&&(C[G]=f[G]);return C}var Q2=["#FF9D4E","#5BD8A6","#5B8FF9","#F7664E","#FF86B7","#2B9E9D","#9270CA","#6DC8EC","#667796","#F6BD16"],q1=function(d){var C=d.mode,P=d.popoverProps,G=Q0(d,ax),ke=Object(T.useContext)(Mt.b.ConfigContext),qe=ke.getPrefixCls,pt=qe("pro-field-color-picker"),zt=Object(de.a)("#1890ff",{value:G.value,onChange:G.onChange}),er=$0(zt,2),gr=er[0],Lr=er[1],Or=b.a.createElement("div",{className:pt,style:{padding:5,width:48,border:"1px solid #ddd",borderRadius:"2px",cursor:"pointer"}},b.a.createElement("div",{style:{backgroundColor:gr,width:36,height:14,borderRadius:"2px"}}));return C==="read"?Or:b.a.createElement(pv.a,v0({trigger:"click",placement:"right"},P,{content:b.a.createElement("div",{style:{margin:"-12px -16px"}},b.a.createElement(Y1,v0({},G,{presetColors:G.colors||G.presetColors||Q2,color:gr,onChange:function(Kr){var cn=Kr.hex,Tn=Kr.rgb,xa=Tn.r,za=Tn.g,zi=Tn.b,yo=Tn.a;yo&&yo<1&&Lr("rgba(".concat(xa,", ").concat(za,", ").concat(zi,", ").concat(yo,")")),Lr(cn)}})))}),Or)},J2=function(d){var C=d.text,P=d.mode,G=d.render,ke=d.renderFormItem,qe=d.fieldProps;if(P==="read"){var pt=b.a.createElement(q1,{value:C,mode:"read"});return G?G(C,ox({mode:P},qe),pt):pt}if(P==="edit"||P==="update"){var zt=b.a.createElement(q1,qe);return ke?ke(C,ox({mode:P},qe),zt):zt}return null},lx=J2,q2=["text","valueType","onChange","renderFormItem","value"];function eC(f,d){if(f==null)return{};var C=tC(f,d),P,G;if(Object.getOwnPropertySymbols){var ke=Object.getOwnPropertySymbols(f);for(G=0;G<ke.length;G++)P=ke[G],!(d.indexOf(P)>=0)&&(!Object.prototype.propertyIsEnumerable.call(f,P)||(C[P]=f[P]))}return C}function tC(f,d){if(f==null)return{};var C={},P=Object.keys(f),G,ke;for(ke=0;ke<P.length;ke++)G=P[ke],!(d.indexOf(G)>=0)&&(C[G]=f[G]);return C}function yy(f){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?yy=function(C){return typeof C}:yy=function(C){return C&&typeof Symbol=="function"&&C.constructor===Symbol&&C!==Symbol.prototype?"symbol":typeof C},yy(f)}function ju(){return ju=Object.assign||function(f){for(var d=1;d<arguments.length;d++){var C=arguments[d];for(var P in C)Object.prototype.hasOwnProperty.call(C,P)&&(f[P]=C[P])}return f},ju.apply(this,arguments)}function by(f,d){var C=Object.keys(f);if(Object.getOwnPropertySymbols){var P=Object.getOwnPropertySymbols(f);d&&(P=P.filter(function(G){return Object.getOwnPropertyDescriptor(f,G).enumerable})),C.push.apply(C,P)}return C}function Gv(f){for(var d=1;d<arguments.length;d++){var C=arguments[d]!=null?arguments[d]:{};d%2?by(Object(C),!0).forEach(function(P){rC(f,P,C[P])}):Object.getOwnPropertyDescriptors?Object.defineProperties(f,Object.getOwnPropertyDescriptors(C)):by(Object(C)).forEach(function(P){Object.defineProperty(f,P,Object.getOwnPropertyDescriptor(C,P))})}return f}function rC(f,d,C){return d in f?Object.defineProperty(f,d,{value:C,enumerable:!0,configurable:!0,writable:!0}):f[d]=C,f}var eb=["select","radio","radioButton","checkbook"],nC=function(d,C,P){var G=k(P.fieldProps);return C.type==="progress"?b.a.createElement(Re,ju({},P,{text:d,fieldProps:Gv({status:C.status?C.status:void 0},G)})):C.type==="money"?b.a.createElement(Fe,ju({locale:C.locale},P,{fieldProps:G,text:d,moneySymbol:C.moneySymbol})):C.type==="percent"?b.a.createElement(Vt,ju({},P,{text:d,showSymbol:C.showSymbol,precision:C.precision,fieldProps:G,showColor:C.showColor})):C.type==="image"?b.a.createElement(Cd,ju({},P,{text:d,width:C.width})):d},aC=function(d,C,P,G){var ke,qe=P.mode,pt=qe===void 0?"read":qe,zt=P.emptyText,er=zt===void 0?"-":zt;if(er!==!1&&pt==="read"&&C!=="option"&&C!=="switch"&&typeof d!="boolean"&&typeof d!="number"&&!d){var gr=P.fieldProps,Lr=P.render;return Lr?Lr(d,Gv({mode:pt},gr),b.a.createElement(b.a.Fragment,null,er)):b.a.createElement(b.a.Fragment,null,er)}if(delete P.emptyText,yy(C)==="object")return nC(d,C,P);var Or=G&&G[C];if(Or){if(delete P.ref,pt==="read"){var Vr;return(Vr=Or.render)===null||Vr===void 0?void 0:Vr.call(Or,d,Gv(Gv({text:d},P),{},{mode:pt||"read"}),b.a.createElement(b.a.Fragment,null,d))}if(pt==="update"||pt==="edit"){var Kr;return(Kr=Or.renderFormItem)===null||Kr===void 0?void 0:Kr.call(Or,d,Gv({text:d},P),b.a.createElement(b.a.Fragment,null,d))}}var cn=eb.includes(C),Tn=!!(P.valueEnum||P.request||P.options||((ke=P.fieldProps)===null||ke===void 0?void 0:ke.options));return Object(ot.b)(!cn||Tn,"\u5982\u679C\u8BBE\u7F6E\u4E86 valueType \u4E3A ".concat(eb.join(","),"\u4E2D\u4EFB\u610F\u4E00\u4E2A\uFF0C\u5219\u9700\u8981\u914D\u7F6Eoptions\uFF0Crequest, valueEnum \u5176\u4E2D\u4E4B\u4E00\uFF0C\u5426\u5219\u65E0\u6CD5\u751F\u6210\u9009\u9879\u3002")),Object(ot.b)(!cn||Tn,"If you set valueType to any of ".concat(eb.join(","),", you need to configure options, request or valueEnum.")),C==="money"?b.a.createElement(Fe,ju({},P,{text:d})):C==="date"?b.a.createElement(tc,ju({text:d,format:"YYYY-MM-DD"},P)):C==="dateWeek"?b.a.createElement(tc,ju({text:d,format:"YYYY-wo",picker:"week"},P)):C==="dateMonth"?b.a.createElement(tc,ju({text:d,format:"YYYY-MM",picker:"month"},P)):C==="dateQuarter"?b.a.createElement(tc,ju({text:d,format:"YYYY-\\QQ",picker:"quarter"},P)):C==="dateYear"?b.a.createElement(tc,ju({text:d,format:"YYYY",picker:"year"},P)):C==="dateRange"?b.a.createElement(ph,ju({text:d,format:"YYYY-MM-DD"},P)):C==="dateTime"?b.a.createElement(tc,ju({text:d,format:"YYYY-MM-DD HH:mm:ss",showTime:!0},P)):C==="dateTimeRange"?b.a.createElement(ph,ju({text:d,format:"YYYY-MM-DD HH:mm:ss",showTime:!0},P)):C==="time"?b.a.createElement(Rf,ju({text:d,format:"HH:mm:ss"},P)):C==="timeRange"?b.a.createElement(Ud,ju({text:d,format:"HH:mm:ss"},P)):C==="fromNow"?b.a.createElement(Rh,ju({text:d},P)):C==="index"?b.a.createElement(Jt,null,d+1):C==="indexBorder"?b.a.createElement(Jt,{border:!0},d+1):C==="progress"?b.a.createElement(Re,ju({},P,{text:d})):C==="percent"?b.a.createElement(Vt,ju({text:d},P)):C==="avatar"&&typeof d=="string"&&P.mode==="read"?b.a.createElement(y.a,{src:d,size:22,shape:"circle"}):C==="code"?b.a.createElement(qd,ju({text:d},P)):C==="jsonCode"?b.a.createElement(qd,ju({text:d,language:"json"},P)):C==="textarea"?b.a.createElement(_e,ju({text:d},P)):C==="digit"?b.a.createElement(Ic,ju({text:d},P)):C==="second"?b.a.createElement(np,ju({text:d},P)):C==="select"||C==="text"&&(P.valueEnum||P.request)?b.a.createElement(Qo.b,ju({text:d},P)):C==="checkbox"?b.a.createElement(Zt,ju({text:d},P)):C==="radio"?b.a.createElement(om,ju({text:d},P)):C==="radioButton"?b.a.createElement(om,ju({radioType:"button",text:d},P)):C==="rate"?b.a.createElement(vl,ju({text:d},P)):C==="switch"?b.a.createElement(nm,ju({text:d},P)):C==="option"?b.a.createElement(_i,ju({text:d},P)):C==="password"?b.a.createElement(Di,ju({text:d},P)):C==="image"?b.a.createElement(Cd,ju({text:d},P)):C==="color"?b.a.createElement(lx,ju({text:d},P)):b.a.createElement(c,ju({text:d},P))},iC=function(d,C){var P,G=d.text,ke=d.valueType,qe=ke===void 0?"text":ke,pt=d.onChange,zt=d.renderFormItem,er=d.value,gr=eC(d,q2),Lr=Object(oe.d)(),Or=Object(T.useContext)(oe.b),Vr=(er!==void 0||pt||(gr==null?void 0:gr.fieldProps))&&Gv(Gv({value:er},Object(Z.a)(gr==null?void 0:gr.fieldProps)),{},{onChange:function(){for(var cn,Tn,xa=arguments.length,za=new Array(xa),zi=0;zi<xa;zi++)za[zi]=arguments[zi];pt==null||pt.apply(void 0,za),gr==null||(cn=gr.fieldProps)===null||cn===void 0||(Tn=cn.onChange)===null||Tn===void 0||Tn.call.apply(Tn,[cn].concat(za))}});return b.a.createElement(b.a.Fragment,null,aC((P=G!=null?G:Vr==null?void 0:Vr.value)!==null&&P!==void 0?P:"",qe||"text",Gv(Gv({},gr),{},{mode:gr.mode||"read",ref:C,renderFormItem:zt?function(){var Kr=zt.apply(void 0,arguments);return b.a.isValidElement(Kr)?b.a.cloneElement(Kr,Gv(Gv({placeholder:gr.placeholder||Lr.getMessage("tableForm.inputPlaceholder","\u8BF7\u8F93\u5165")},Vr),Kr.props||{})):Kr}:void 0,placeholder:gr.placeholder||Lr.getMessage("tableForm.inputPlaceholder","\u8BF7\u8F93\u5165"),fieldProps:k(Vr)}),Or.valueTypeMap))},tb=A.a=b.a.forwardRef(iC)},"/wGt":function(ze,A,r){"use strict";var M=r("rePB"),y=r("wx14"),T=r("ODXe"),b=r("q1tI"),u=r("Ff2n"),H=r("1OyB"),k=r("vuIU"),Z=r("Ji7U"),oe=r("LK+K"),ne=r("1W/9"),Te=r("VTBJ"),at=r("JX7q"),ve=r("TSYQ"),we=r.n(ve),I=r("qx4F"),Ce=r("4IlW"),et=r("bT9E");function Et(nt){return Array.isArray(nt)?nt:[nt]}var We={transition:"transitionend",WebkitTransition:"webkitTransitionEnd",MozTransition:"transitionend",OTransition:"oTransitionEnd otransitionend"},ct=Object.keys(We).filter(function(nt){if(typeof document=="undefined")return!1;var Ot=document.getElementsByTagName("html")[0];return nt in(Ot?Ot.style:{})})[0],ce=We[ct];function Vt(nt,Ot,Xe,xt){nt.addEventListener?nt.addEventListener(Ot,Xe,xt):nt.attachEvent&&nt.attachEvent("on".concat(Ot),Xe)}function It(nt,Ot,Xe,xt){nt.removeEventListener?nt.removeEventListener(Ot,Xe,xt):nt.attachEvent&&nt.detachEvent("on".concat(Ot),Xe)}function Mt(nt,Ot){var Xe=typeof nt=="function"?nt(Ot):nt;return Array.isArray(Xe)?Xe.length===2?Xe:[Xe[0],Xe[1]]:[Xe]}var Tt=function(Ot){return!isNaN(parseFloat(Ot))&&isFinite(Ot)},ye=!(typeof window!="undefined"&&window.document&&window.document.createElement),lt=function nt(Ot,Xe,xt,Ne){if(!Xe||Xe===document||Xe instanceof Document)return!1;if(Xe===Ot.parentNode)return!0;var B=Math.max(Math.abs(xt),Math.abs(Ne))===Math.abs(Ne),z=Math.max(Math.abs(xt),Math.abs(Ne))===Math.abs(xt),q=Xe.scrollHeight-Xe.clientHeight,S=Xe.scrollWidth-Xe.clientWidth,K=document.defaultView.getComputedStyle(Xe),fe=K.overflowY==="auto"||K.overflowY==="scroll",Fe=K.overflowX==="auto"||K.overflowX==="scroll",pe=q&&fe,Me=S&&Fe;return B&&(!pe||pe&&(Xe.scrollTop>=q&&Ne<0||Xe.scrollTop<=0&&Ne>0))||z&&(!Me||Me&&(Xe.scrollLeft>=S&&xt<0||Xe.scrollLeft<=0&&xt>0))?nt(Ot,Xe.parentNode,xt,Ne):!1},yt={},Dt=function(nt){Object(Z.a)(Xe,nt);var Ot=Object(oe.a)(Xe);function Xe(xt){var Ne;return Object(H.a)(this,Xe),Ne=Ot.call(this,xt),Ne.domFocus=function(){Ne.dom&&Ne.dom.focus()},Ne.removeStartHandler=function(B){B.touches.length>1||(Ne.startPos={x:B.touches[0].clientX,y:B.touches[0].clientY})},Ne.removeMoveHandler=function(B){if(!(B.changedTouches.length>1)){var z=B.currentTarget,q=B.changedTouches[0].clientX-Ne.startPos.x,S=B.changedTouches[0].clientY-Ne.startPos.y;(z===Ne.maskDom||z===Ne.handlerDom||z===Ne.contentDom&&lt(z,B.target,q,S))&&B.cancelable&&B.preventDefault()}},Ne.transitionEnd=function(B){var z=B.target;It(z,ce,Ne.transitionEnd),z.style.transition=""},Ne.onKeyDown=function(B){if(B.keyCode===Ce.a.ESC){var z=Ne.props.onClose;B.stopPropagation(),z&&z(B)}},Ne.onWrapperTransitionEnd=function(B){var z=Ne.props,q=z.open,S=z.afterVisibleChange;B.target===Ne.contentWrapper&&B.propertyName.match(/transform$/)&&(Ne.dom.style.transition="",!q&&Ne.getCurrentDrawerSome()&&(document.body.style.overflowX="",Ne.maskDom&&(Ne.maskDom.style.left="",Ne.maskDom.style.width="")),S&&S(!!q))},Ne.openLevelTransition=function(){var B=Ne.props,z=B.open,q=B.width,S=B.height,K=Ne.getHorizontalBoolAndPlacementName(),fe=K.isHorizontal,Fe=K.placementName,pe=Ne.contentDom?Ne.contentDom.getBoundingClientRect()[fe?"width":"height"]:0,Me=(fe?q:S)||pe;Ne.setLevelAndScrolling(z,Fe,Me)},Ne.setLevelTransform=function(B,z,q,S){var K=Ne.props,fe=K.placement,Fe=K.levelMove,pe=K.duration,Me=K.ease,U=K.showMask;Ne.levelDom.forEach(function(le){le.style.transition="transform ".concat(pe," ").concat(Me),Vt(le,ce,Ne.transitionEnd);var Le=B?q:0;if(Fe){var ot=Mt(Fe,{target:le,open:B});Le=B?ot[0]:ot[1]||0}var St=typeof Le=="number"?"".concat(Le,"px"):Le,Ge=fe==="left"||fe==="top"?St:"-".concat(St);Ge=U&&fe==="right"&&S?"calc(".concat(Ge," + ").concat(S,"px)"):Ge,le.style.transform=Le?"".concat(z,"(").concat(Ge,")"):""})},Ne.setLevelAndScrolling=function(B,z,q){var S=Ne.props.onChange;if(!ye){var K=document.body.scrollHeight>(window.innerHeight||document.documentElement.clientHeight)&&window.innerWidth>document.body.offsetWidth?Object(I.a)(!0):0;Ne.setLevelTransform(B,z,q,K),Ne.toggleScrollingToDrawerAndBody(K)}S&&S(B)},Ne.toggleScrollingToDrawerAndBody=function(B){var z=Ne.props,q=z.getContainer,S=z.showMask,K=z.open,fe=q&&q();if(fe&&fe.parentNode===document.body&&S){var Fe=["touchstart"],pe=[document.body,Ne.maskDom,Ne.handlerDom,Ne.contentDom];K&&document.body.style.overflow!=="hidden"?(B&&Ne.addScrollingEffect(B),document.body.style.touchAction="none",pe.forEach(function(Me,U){!Me||Vt(Me,Fe[U]||"touchmove",U?Ne.removeMoveHandler:Ne.removeStartHandler,Ne.passive)})):Ne.getCurrentDrawerSome()&&(document.body.style.touchAction="",B&&Ne.remScrollingEffect(B),pe.forEach(function(Me,U){!Me||It(Me,Fe[U]||"touchmove",U?Ne.removeMoveHandler:Ne.removeStartHandler,Ne.passive)}))}},Ne.addScrollingEffect=function(B){var z=Ne.props,q=z.placement,S=z.duration,K=z.ease,fe="width ".concat(S," ").concat(K),Fe="transform ".concat(S," ").concat(K);switch(Ne.dom.style.transition="none",q){case"right":Ne.dom.style.transform="translateX(-".concat(B,"px)");break;case"top":case"bottom":Ne.dom.style.width="calc(100% - ".concat(B,"px)"),Ne.dom.style.transform="translateZ(0)";break;default:break}clearTimeout(Ne.timeout),Ne.timeout=setTimeout(function(){Ne.dom&&(Ne.dom.style.transition="".concat(Fe,",").concat(fe),Ne.dom.style.width="",Ne.dom.style.transform="")})},Ne.remScrollingEffect=function(B){var z=Ne.props,q=z.placement,S=z.duration,K=z.ease;ct&&(document.body.style.overflowX="hidden"),Ne.dom.style.transition="none";var fe,Fe="width ".concat(S," ").concat(K),pe="transform ".concat(S," ").concat(K);switch(q){case"left":{Ne.dom.style.width="100%",Fe="width 0s ".concat(K," ").concat(S);break}case"right":{Ne.dom.style.transform="translateX(".concat(B,"px)"),Ne.dom.style.width="100%",Fe="width 0s ".concat(K," ").concat(S),Ne.maskDom&&(Ne.maskDom.style.left="-".concat(B,"px"),Ne.maskDom.style.width="calc(100% + ".concat(B,"px)"));break}case"top":case"bottom":{Ne.dom.style.width="calc(100% + ".concat(B,"px)"),Ne.dom.style.height="100%",Ne.dom.style.transform="translateZ(0)",fe="height 0s ".concat(K," ").concat(S);break}default:break}clearTimeout(Ne.timeout),Ne.timeout=setTimeout(function(){Ne.dom&&(Ne.dom.style.transition="".concat(pe,",").concat(fe?"".concat(fe,","):"").concat(Fe),Ne.dom.style.transform="",Ne.dom.style.width="",Ne.dom.style.height="")})},Ne.getCurrentDrawerSome=function(){return!Object.keys(yt).some(function(B){return yt[B]})},Ne.getLevelDom=function(B){var z=B.level,q=B.getContainer;if(!ye){var S=q&&q(),K=S?S.parentNode:null;if(Ne.levelDom=[],z==="all"){var fe=K?Array.prototype.slice.call(K.children):[];fe.forEach(function(Fe){Fe.nodeName!=="SCRIPT"&&Fe.nodeName!=="STYLE"&&Fe.nodeName!=="LINK"&&Fe!==S&&Ne.levelDom.push(Fe)})}else z&&Et(z).forEach(function(Fe){document.querySelectorAll(Fe).forEach(function(pe){Ne.levelDom.push(pe)})})}},Ne.getHorizontalBoolAndPlacementName=function(){var B=Ne.props.placement,z=B==="left"||B==="right",q="translate".concat(z?"X":"Y");return{isHorizontal:z,placementName:q}},Ne.state={_self:Object(at.a)(Ne)},Ne}return Object(k.a)(Xe,[{key:"componentDidMount",value:function(){var Ne=this;if(!ye){var B=!1;try{window.addEventListener("test",null,Object.defineProperty({},"passive",{get:function(){return B=!0,null}}))}catch(pe){}this.passive=B?{passive:!1}:!1}var z=this.props,q=z.open,S=z.getContainer,K=z.showMask,fe=S&&S();if(this.drawerId="drawer_id_".concat(Number((Date.now()+Math.random()).toString().replace(".",Math.round(Math.random()*9).toString())).toString(16)),this.getLevelDom(this.props),q&&(fe&&fe.parentNode===document.body&&(yt[this.drawerId]=q),this.openLevelTransition(),this.forceUpdate(function(){Ne.domFocus()}),K)){var Fe;(Fe=this.props.scrollLocker)===null||Fe===void 0||Fe.lock()}}},{key:"componentDidUpdate",value:function(Ne){var B=this.props,z=B.open,q=B.getContainer,S=B.scrollLocker,K=B.showMask,fe=q&&q();z!==Ne.open&&(fe&&fe.parentNode===document.body&&(yt[this.drawerId]=!!z),this.openLevelTransition(),z?(this.domFocus(),K&&(S==null||S.lock())):S==null||S.unLock())}},{key:"componentWillUnmount",value:function(){var Ne=this.props,B=Ne.open,z=Ne.scrollLocker;delete yt[this.drawerId],B&&(this.setLevelTransform(!1),document.body.style.touchAction=""),z==null||z.unLock()}},{key:"render",value:function(){var Ne,B=this,z=this.props,q=z.className,S=z.children,K=z.style,fe=z.width,Fe=z.height,pe=z.defaultOpen,Me=z.open,U=z.prefixCls,le=z.placement,Le=z.level,ot=z.levelMove,St=z.ease,Ge=z.duration,Be=z.getContainer,Nt=z.handler,kt=z.onChange,ft=z.afterVisibleChange,ut=z.showMask,Ze=z.maskClosable,Qt=z.maskStyle,ar=z.onClose,zr=z.onHandleClick,qr=z.keyboard,tn=z.getOpenCount,_n=z.scrollLocker,Bn=z.contentWrapperStyle,ya=Object(u.a)(z,["className","children","style","width","height","defaultOpen","open","prefixCls","placement","level","levelMove","ease","duration","getContainer","handler","onChange","afterVisibleChange","showMask","maskClosable","maskStyle","onClose","onHandleClick","keyboard","getOpenCount","scrollLocker","contentWrapperStyle"]),Tr=this.dom?Me:!1,it=we()(U,(Ne={},Object(M.a)(Ne,"".concat(U,"-").concat(le),!0),Object(M.a)(Ne,"".concat(U,"-open"),Tr),Object(M.a)(Ne,q||"",!!q),Object(M.a)(Ne,"no-mask",!ut),Ne)),ue=this.getHorizontalBoolAndPlacementName(),ge=ue.placementName,De=le==="left"||le==="top"?"-100%":"100%",Ee=Tr?"":"".concat(ge,"(").concat(De,")"),be=Nt&&b.cloneElement(Nt,{onClick:function(de){Nt.props.onClick&&Nt.props.onClick(),zr&&zr(de)},ref:function(de){B.handlerDom=de}});return b.createElement("div",Object(y.a)({},Object(et.a)(ya,["switchScrollingEffect"]),{tabIndex:-1,className:it,style:K,ref:function(de){B.dom=de},onKeyDown:Tr&&qr?this.onKeyDown:void 0,onTransitionEnd:this.onWrapperTransitionEnd}),ut&&b.createElement("div",{className:"".concat(U,"-mask"),onClick:Ze?ar:void 0,style:Qt,ref:function(de){B.maskDom=de}}),b.createElement("div",{className:"".concat(U,"-content-wrapper"),style:Object(Te.a)({transform:Ee,msTransform:Ee,width:Tt(fe)?"".concat(fe,"px"):fe,height:Tt(Fe)?"".concat(Fe,"px"):Fe},Bn),ref:function(de){B.contentWrapper=de}},b.createElement("div",{className:"".concat(U,"-content"),ref:function(de){B.contentDom=de},onTouchStart:Tr&&ut?this.removeStartHandler:void 0,onTouchMove:Tr&&ut?this.removeMoveHandler:void 0},S),be))}}],[{key:"getDerivedStateFromProps",value:function(Ne,B){var z=B.prevProps,q=B._self,S={prevProps:Ne};if(z!==void 0){var K=Ne.placement,fe=Ne.level;K!==z.placement&&(q.contentDom=null),fe!==z.level&&q.getLevelDom(Ne)}return S}}]),Xe}(b.Component),Jt=Dt,At=function(nt){Object(Z.a)(Xe,nt);var Ot=Object(oe.a)(Xe);function Xe(xt){var Ne;Object(H.a)(this,Xe),Ne=Ot.call(this,xt),Ne.onHandleClick=function(z){var q=Ne.props,S=q.onHandleClick,K=q.open;if(S&&S(z),typeof K=="undefined"){var fe=Ne.state.open;Ne.setState({open:!fe})}},Ne.onClose=function(z){var q=Ne.props,S=q.onClose,K=q.open;S&&S(z),typeof K=="undefined"&&Ne.setState({open:!1})};var B=typeof xt.open!="undefined"?xt.open:!!xt.defaultOpen;return Ne.state={open:B},"onMaskClick"in xt&&console.warn("`onMaskClick` are removed, please use `onClose` instead."),Ne}return Object(k.a)(Xe,[{key:"render",value:function(){var Ne=this,B=this.props,z=B.defaultOpen,q=B.getContainer,S=B.wrapperClassName,K=B.forceRender,fe=B.handler,Fe=Object(u.a)(B,["defaultOpen","getContainer","wrapperClassName","forceRender","handler"]),pe=this.state.open;if(!q)return b.createElement("div",{className:S,ref:function(le){Ne.dom=le}},b.createElement(Jt,Object(y.a)({},Fe,{open:pe,handler:fe,getContainer:function(){return Ne.dom},onClose:this.onClose,onHandleClick:this.onHandleClick})));var Me=!!fe||K;return b.createElement(ne.a,{visible:pe,forceRender:Me,getContainer:q,wrapperClassName:S},function(U){var le=U.visible,Le=U.afterClose,ot=Object(u.a)(U,["visible","afterClose"]);return b.createElement(Jt,Object(y.a)({},Fe,ot,{open:le!==void 0?le:pe,afterVisibleChange:Le!==void 0?Le:Fe.afterVisibleChange,handler:fe,onClose:Ne.onClose,onHandleClick:Ne.onHandleClick}))})}}],[{key:"getDerivedStateFromProps",value:function(Ne,B){var z=B.prevProps,q={prevProps:Ne};return typeof z!="undefined"&&Ne.open!==z.open&&(q.open=Ne.open),q}}]),Xe}(b.Component);At.defaultProps={prefixCls:"drawer",placement:"left",getContainer:"body",defaultOpen:!1,level:"all",duration:".3s",ease:"cubic-bezier(0.78, 0.14, 0.15, 0.86)",onChange:function(){},afterVisibleChange:function(){},handler:b.createElement("div",{className:"drawer-handle"},b.createElement("i",{className:"drawer-handle-icon"})),showMask:!0,maskClosable:!0,maskStyle:{},wrapperClassName:"",className:"",keyboard:!0,forceRender:!1};var vt=At,ie=vt,J=r("4i/N"),ee=r("H84U"),Ie=r("CWQg"),me=r("hkKa"),Ve=function(nt,Ot){var Xe={};for(var xt in nt)Object.prototype.hasOwnProperty.call(nt,xt)&&Ot.indexOf(xt)<0&&(Xe[xt]=nt[xt]);if(nt!=null&&typeof Object.getOwnPropertySymbols=="function")for(var Ne=0,xt=Object.getOwnPropertySymbols(nt);Ne<xt.length;Ne++)Ot.indexOf(xt[Ne])<0&&Object.prototype.propertyIsEnumerable.call(nt,xt[Ne])&&(Xe[xt[Ne]]=nt[xt[Ne]]);return Xe},Re=b.createContext(null),bt=Object(Ie.a)("top","right","bottom","left"),Pt={distance:180},ht=b.forwardRef(function(nt,Ot){var Xe=nt.width,xt=Xe===void 0?256:Xe,Ne=nt.height,B=Ne===void 0?256:Ne,z=nt.closable,q=z===void 0?!0:z,S=nt.placement,K=S===void 0?"right":S,fe=nt.maskClosable,Fe=fe===void 0?!0:fe,pe=nt.mask,Me=pe===void 0?!0:pe,U=nt.level,le=U===void 0?null:U,Le=nt.keyboard,ot=Le===void 0?!0:Le,St=nt.push,Ge=St===void 0?Pt:St,Be=nt.closeIcon,Nt=Be===void 0?b.createElement(J.a,null):Be,kt=nt.bodyStyle,ft=nt.drawerStyle,ut=nt.prefixCls,Ze=nt.className,Qt=nt.direction,ar=nt.visible,zr=nt.children,qr=nt.zIndex,tn=nt.destroyOnClose,_n=nt.style,Bn=nt.title,ya=nt.headerStyle,Tr=nt.onClose,it=nt.footer,ue=nt.footerStyle,ge=Ve(nt,["width","height","closable","placement","maskClosable","mask","level","keyboard","push","closeIcon","bodyStyle","drawerStyle","prefixCls","className","direction","visible","children","zIndex","destroyOnClose","style","title","headerStyle","onClose","footer","footerStyle"]),De=Object(me.a)(),Ee=b.useState(!1),be=Object(T.a)(Ee,2),rt=be[0],de=be[1],Pe=b.useContext(Re),xe=b.useRef(!1);b.useEffect(function(){return ar&&Pe&&Pe.push(),function(){Pe&&Pe.pull()}},[]),b.useEffect(function(){Pe&&(ar?Pe.push():Pe.pull())},[ar]);var Oe=b.useMemo(function(){return{push:function(){Ge&&de(!0)},pull:function(){Ge&&de(!1)}}},[Ge]);b.useImperativeHandle(Ot,function(){return Oe},[Oe]);var dt=tn&&!ar,Gt=function(){!dt||ar||(xe.current=!0,De())},$t=function(){if(!ar&&!Me)return{};var zn={};return K==="left"||K==="right"?zn.width=xt:zn.height=B,zn},nr=function(){var zn=function(Ca){var ia;if(typeof Ge=="boolean"?ia=Ge?Pt.distance:0:ia=Ge.distance,ia=parseFloat(String(ia||0)),Ca==="left"||Ca==="right")return"translateX(".concat(Ca==="left"?ia:-ia,"px)");if(Ca==="top"||Ca==="bottom")return"translateY(".concat(Ca==="top"?ia:-ia,"px)")},Qn=Me?{}:$t();return Object(y.a)(Object(y.a)({zIndex:qr,transform:rt?zn(K):void 0},Qn),_n)};function lr(){return q&&b.createElement("button",{type:"button",onClick:Tr,"aria-label":"Close",className:"".concat(ut,"-close"),style:{"--scroll-bar":"".concat(Object(I.a)(),"px")}},Nt)}function Dr(){if(!Bn&&!q)return null;var Rn=Bn?"".concat(ut,"-header"):"".concat(ut,"-header-no-title");return b.createElement("div",{className:Rn,style:ya},Bn&&b.createElement("div",{className:"".concat(ut,"-title")},Bn),q&&lr())}function Pr(){if(!it)return null;var Rn="".concat(ut,"-footer");return b.createElement("div",{className:Rn,style:ue},it)}var Wr=function(){if(xe.current&&!ar)return null;xe.current=!1;var zn={};return dt&&(zn.opacity=0,zn.transition="opacity .3s"),b.createElement("div",{className:"".concat(ut,"-wrapper-body"),style:Object(y.a)(Object(y.a)({},zn),ft),onTransitionEnd:Gt},Dr(),b.createElement("div",{className:"".concat(ut,"-body"),style:kt},zr),Pr())},an=we()(Object(M.a)({"no-mask":!Me},"".concat(ut,"-rtl"),Qt==="rtl"),Ze),dn=Me?$t():{};return b.createElement(Re.Provider,{value:Oe},b.createElement(ie,Object(y.a)({handler:!1},Object(y.a)({placement:K,prefixCls:ut,maskClosable:Fe,level:le,keyboard:ot,children:zr,onClose:Tr},ge),dn,{open:ar,showMask:Me,style:nr(),className:an}),Wr()))});ht.displayName="Drawer";var Ye=b.forwardRef(function(nt,Ot){var Xe=nt.prefixCls,xt=nt.getContainer,Ne=b.useContext(ee.b),B=Ne.getPopupContainer,z=Ne.getPrefixCls,q=Ne.direction,S=z("drawer",Xe),K=xt===void 0&&B?function(){return B(document.body)}:xt;return b.createElement(ht,Object(y.a)({},nt,{ref:Ot,prefixCls:S,getContainer:K,direction:q}))});Ye.displayName="DrawerWrapper";var Ke=A.a=Ye},"/zsF":function(ze,A,r){"use strict";var M=r("cIOH"),y=r.n(M),T=r("bE4E"),b=r.n(T)},"0JQy":function(ze,A){var r="\\ud800-\\udfff",M="\\u0300-\\u036f",y="\\ufe20-\\ufe2f",T="\\u20d0-\\u20ff",b=M+y+T,u="\\ufe0e\\ufe0f",H="["+r+"]",k="["+b+"]",Z="\\ud83c[\\udffb-\\udfff]",oe="(?:"+k+"|"+Z+")",ne="[^"+r+"]",Te="(?:\\ud83c[\\udde6-\\uddff]){2}",at="[\\ud800-\\udbff][\\udc00-\\udfff]",ve="\\u200d",we=oe+"?",I="["+u+"]?",Ce="(?:"+ve+"(?:"+[ne,Te,at].join("|")+")"+I+we+")*",et=I+we+Ce,Et="(?:"+[ne+k+"?",k,Te,at,H].join("|")+")",We=RegExp(Z+"(?="+Z+")|"+Et+et,"g");function ct(ce){return ce.match(We)||[]}ze.exports=ct},"0ZTe":function(ze,A,r){var M=r("wy8a"),y=r("quyA"),T=r("Em2t"),b=r("dt0z");function u(H){return function(k){k=b(k);var Z=y(k)?T(k):void 0,oe=Z?Z[0]:k.charAt(0),ne=Z?M(Z,1).join(""):k.slice(1);return oe[H]()+ne}}ze.exports=u},"0byF":function(ze,A,r){"use strict";var M=r("/zsF"),y=r("PArb"),T=r("q1tI"),b=r.n(T),u=r("NK8t"),H=r("VMEa"),k=r("adzw"),Z=r("YSkC"),oe=r("PjWh"),ne=r("uX+g"),Te=r("BGR+"),at=r("+caW"),ve=r("PNUv"),we=r("iOmF"),I=r("Ga8k"),Ce=r("rmhi"),et=r("x1Ii"),Et=["columns","layoutType","steps","type","action"];function We(ie,J){var ee=Object.keys(ie);if(Object.getOwnPropertySymbols){var Ie=Object.getOwnPropertySymbols(ie);J&&(Ie=Ie.filter(function(me){return Object.getOwnPropertyDescriptor(ie,me).enumerable})),ee.push.apply(ee,Ie)}return ee}function ct(ie){for(var J=1;J<arguments.length;J++){var ee=arguments[J]!=null?arguments[J]:{};J%2?We(Object(ee),!0).forEach(function(Ie){ce(ie,Ie,ee[Ie])}):Object.getOwnPropertyDescriptors?Object.defineProperties(ie,Object.getOwnPropertyDescriptors(ee)):We(Object(ee)).forEach(function(Ie){Object.defineProperty(ie,Ie,Object.getOwnPropertyDescriptor(ee,Ie))})}return ie}function ce(ie,J,ee){return J in ie?Object.defineProperty(ie,J,{value:ee,enumerable:!0,configurable:!0,writable:!0}):ie[J]=ee,ie}function Vt(){return Vt=Object.assign||function(ie){for(var J=1;J<arguments.length;J++){var ee=arguments[J];for(var Ie in ee)Object.prototype.hasOwnProperty.call(ee,Ie)&&(ie[Ie]=ee[Ie])}return ie},Vt.apply(this,arguments)}function It(ie,J){return yt(ie)||lt(ie,J)||Tt(ie,J)||Mt()}function Mt(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Tt(ie,J){if(!!ie){if(typeof ie=="string")return ye(ie,J);var ee=Object.prototype.toString.call(ie).slice(8,-1);if(ee==="Object"&&ie.constructor&&(ee=ie.constructor.name),ee==="Map"||ee==="Set")return Array.from(ie);if(ee==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(ee))return ye(ie,J)}}function ye(ie,J){(J==null||J>ie.length)&&(J=ie.length);for(var ee=0,Ie=new Array(J);ee<J;ee++)Ie[ee]=ie[ee];return Ie}function lt(ie,J){var ee=ie==null?null:typeof Symbol!="undefined"&&ie[Symbol.iterator]||ie["@@iterator"];if(ee!=null){var Ie=[],me=!0,Ve=!1,Re,bt;try{for(ee=ee.call(ie);!(me=(Re=ee.next()).done)&&(Ie.push(Re.value),!(J&&Ie.length===J));me=!0);}catch(Pt){Ve=!0,bt=Pt}finally{try{!me&&ee.return!=null&&ee.return()}finally{if(Ve)throw bt}}return Ie}}function yt(ie){if(Array.isArray(ie))return ie}function Dt(ie,J){if(ie==null)return{};var ee=Jt(ie,J),Ie,me;if(Object.getOwnPropertySymbols){var Ve=Object.getOwnPropertySymbols(ie);for(me=0;me<Ve.length;me++)Ie=Ve[me],!(J.indexOf(Ie)>=0)&&(!Object.prototype.propertyIsEnumerable.call(ie,Ie)||(ee[Ie]=ie[Ie]))}return ee}function Jt(ie,J){if(ie==null)return{};var ee={},Ie=Object.keys(ie),me,Ve;for(Ve=0;Ve<Ie.length;Ve++)me=Ie[Ve],!(J.indexOf(me)>=0)&&(ee[me]=ie[me]);return ee}var At={DrawerForm:at.a,QueryFilter:ve.a,LightFilter:we.a,StepForm:I.b.StepForm,StepsForm:I.b,ModalForm:Ce.a};function vt(ie){var J=ie.columns,ee=ie.layoutType,Ie=ee===void 0?"ProForm":ee,me=ie.steps,Ve=me===void 0?[]:me,Re=ie.type,bt=Re===void 0?"form":Re,Pt=ie.action,ht=Dt(ie,Et),Ye=At[Ie]||H.b,Ke=H.b.useForm(),nt=It(Ke,1),Ot=nt[0],Xe=Object(T.useRef)(Ot),xt=Object(T.useState)(0),Ne=It(xt,2),B=Ne[0],z=Ne[1],q=Object(T.useCallback)(function(fe,Fe){return Ie==="StepsForm"?[]:fe.filter(function(pe){return!(pe.hideInForm&&bt==="form")}).sort(function(pe,Me){return Me.order||pe.order?(Me.order||0)-(pe.order||0):(Me.index||0)-(pe.index||0)}).map(function(pe,Me){var U,le=Object(ne.a)(pe.title,pe,"form",b.a.createElement(Z.a,{label:pe.title,tooltip:pe.tooltip||pe.tip})),Le=Object(oe.a)({name:pe.name,valueType:Object(ne.a)(pe.valueType,{}),key:pe.key,columns:pe.columns,fieldProps:Object(ne.a)(pe.fieldProps,Xe.current,pe),valueEnum:pe.valueEnum,dataIndex:pe.key||pe.dataIndex,initialValue:pe.initialValue,formItemProps:Object(ne.a)(pe.formItemProps,Xe.current,pe),width:pe.width,render:pe.render,renderFormItem:pe.renderFormItem,index:pe.index,readonly:pe.readonly,transform:pe.transform,colSize:pe.colSize,className:pe.className,renderText:pe.renderText,request:pe.request,params:pe.params,tooltip:pe.tooltip||pe.tip,title:le,dependencies:pe.dependencies,proFieldProps:pe.proFieldProps});if(Le.valueType&&typeof Le.valueType=="string"&&["index","indexBorder","option"].includes(Le==null?void 0:Le.valueType))return null;var ot=Le.key||((U=Le.dataIndex)===null||U===void 0?void 0:U.toString())||Me;if(Le.valueType==="group")return Le.columns?b.a.createElement(H.a,Vt({key:ot,label:le},Le.fieldProps),q(Le.columns)):null;if(Le.valueType==="formList"&&Le.dataIndex)return Le.columns?b.a.createElement(et.b,Vt({key:ot,name:Le.dataIndex,label:Le.title,initialValue:Le.initialValue},Le.fieldProps),q(Le.columns)):null;if(Le.valueType==="formSet"&&Le.dataIndex)return Le.columns?b.a.createElement(u.a,Vt({},Le.formItemProps,{key:ot,initialValue:Le.initialValue,name:Le.dataIndex,label:Le.title},Le.fieldProps),q(Le.columns,Fe)):null;if(Le.valueType==="divider")return b.a.createElement(y.a,Vt({},Le.fieldProps,{key:Me}));var St=ct(ct({label:Le.title},Object(Te.a)(Le,["dataIndex","width","render","renderFormItem","renderText","title"])),{},{key:ot,name:Le.dataIndex,width:Le.width,formItemProps:Le.formItemProps,fieldProps:Le.fieldProps,render:(Le==null?void 0:Le.render)?function(kt,ft,ut){var Ze;return Le==null||(Ze=Le.render)===null||Ze===void 0?void 0:Ze.call(Le,kt,ft,ut,Pt==null?void 0:Pt.current,ct({type:bt},Le))}:void 0}),Ge=function(){return b.a.createElement(k.a,Vt({},St,{ignoreFormItem:!0}))};if(Le==null?void 0:Le.renderFormItem){var Be,Nt=Le==null||(Be=Le.renderFormItem)===null||Be===void 0?void 0:Be.call(Le,ct(ct({type:bt},Le),{},{originProps:pe}),ct(ct({},Le),{},{defaultRender:Ge,type:bt}),Xe.current);if(Nt===!1||Nt===void 0||Nt===null)return null}return b.a.createElement(k.a,Vt({},St,{key:"".concat(ot,"-").concat(Me),transform:Le.transform,renderFormItem:(Le==null?void 0:Le.renderFormItem)?function(kt,ft){var ut,Ze=Object(oe.a)(ct(ct({},ft),{},{onChange:void 0}));return Le==null||(ut=Le.renderFormItem)===null||ut===void 0?void 0:ut.call(Le,ct(ct({type:bt},Le),{},{originProps:pe}),ct(ct({},Ze),{},{defaultRender:Ge,type:bt}),Xe.current)}:void 0}))})},[Pt,Ie,bt]),S=Object(T.useMemo)(function(){return Ie==="StepsForm"?[]:J.some(function(fe){return fe.renderFormItem||typeof fe.fieldProps=="function"||typeof fe.formItemProps=="function"})},[J,Ie]),K=Object(T.useMemo)(function(){return q(J,B)},[J,q,B]);return Ie==="StepsForm"?b.a.createElement(I.b,Vt({formRef:Xe,form:Ot},ht),Ve==null?void 0:Ve.map(function(fe,Fe){return b.a.createElement(vt,Vt({},fe,{key:Fe,layoutType:"StepForm",columns:J[Fe]}))})):Ie==="Embed"?b.a.createElement(b.a.Fragment,null,K):b.a.createElement(Ye,Vt({formRef:Xe,form:Ot},ht,{onInit:function(){var Fe;S&&z(B+1);for(var pe=arguments.length,Me=new Array(pe),U=0;U<pe;U++)Me[U]=arguments[U];ht==null||(Fe=ht.onInit)===null||Fe===void 0||Fe.call.apply(Fe,[ht].concat(Me))},onValuesChange:function(){var Fe;S&&z(B+1);for(var pe=arguments.length,Me=new Array(pe),U=0;U<pe;U++)Me[U]=arguments[U];ht==null||(Fe=ht.onValuesChange)===null||Fe===void 0||Fe.call.apply(Fe,[ht].concat(Me))}}),K)}A.a=vt},"0eqD":function(ze,A){},"0gSV":function(ze,A,r){"use strict";Object.defineProperty(A,"__esModule",{value:!0}),A.tagged=void 0;var M=r("GXnB"),y=r("Ztfv");function T(b,u){return function(H,k,Z){var oe=new M.Metadata(b,u);typeof Z=="number"?y.tagParameter(H,k,Z,oe):y.tagProperty(H,k,oe)}}A.tagged=T},"0wsv":function(ze,A,r){"use strict";r.d(A,"b",function(){return u}),r.d(A,"f",function(){return k}),r.d(A,"e",function(){return Te}),r.d(A,"g",function(){return We}),r.d(A,"a",function(){return Mt}),r.d(A,"c",function(){return lt}),r.d(A,"d",function(){return yt});var M=63710088e-1,y={centimeters:M*100,centimetres:M*100,degrees:M/111325,feet:M*3.28084,inches:M*39.37,kilometers:M/1e3,kilometres:M/1e3,meters:M,metres:M,miles:M/1609.344,millimeters:M*1e3,millimetres:M*1e3,nauticalmiles:M/1852,radians:1,yards:M*1.0936},T={centimeters:100,centimetres:100,degrees:1/111325,feet:3.28084,inches:39.37,kilometers:1/1e3,kilometres:1/1e3,meters:1,metres:1,miles:1/1609.344,millimeters:1e3,millimetres:1e3,nauticalmiles:1/1852,radians:1/M,yards:1.0936133},b={acres:247105e-9,centimeters:1e4,centimetres:1e4,feet:10.763910417,hectares:1e-4,inches:1550.003100006,kilometers:1e-6,kilometres:1e-6,meters:1,metres:1,miles:386e-9,millimeters:1e6,millimetres:1e6,yards:1.195990046};function u(At,vt,ie){ie===void 0&&(ie={});var J={type:"Feature"};return(ie.id===0||ie.id)&&(J.id=ie.id),ie.bbox&&(J.bbox=ie.bbox),J.properties=vt||{},J.geometry=At,J}function H(At,vt,ie){switch(ie===void 0&&(ie={}),At){case"Point":return k(vt).geometry;case"LineString":return Te(vt).geometry;case"Polygon":return oe(vt).geometry;case"MultiPoint":return I(vt).geometry;case"MultiLineString":return we(vt).geometry;case"MultiPolygon":return Ce(vt).geometry;default:throw new Error(At+" is invalid")}}function k(At,vt,ie){if(ie===void 0&&(ie={}),!At)throw new Error("coordinates is required");if(!Array.isArray(At))throw new Error("coordinates must be an Array");if(At.length<2)throw new Error("coordinates must be at least 2 numbers long");if(!lt(At[0])||!lt(At[1]))throw new Error("coordinates must contain numbers");var J={type:"Point",coordinates:At};return u(J,vt,ie)}function Z(At,vt,ie){return ie===void 0&&(ie={}),ve(At.map(function(J){return k(J,vt)}),ie)}function oe(At,vt,ie){ie===void 0&&(ie={});for(var J=0,ee=At;J<ee.length;J++){var Ie=ee[J];if(Ie.length<4)throw new Error("Each LinearRing of a Polygon must have 4 or more Positions.");for(var me=0;me<Ie[Ie.length-1].length;me++)if(Ie[Ie.length-1][me]!==Ie[0][me])throw new Error("First and last Position are not equivalent.")}var Ve={type:"Polygon",coordinates:At};return u(Ve,vt,ie)}function ne(At,vt,ie){return ie===void 0&&(ie={}),ve(At.map(function(J){return oe(J,vt)}),ie)}function Te(At,vt,ie){if(ie===void 0&&(ie={}),At.length<2)throw new Error("coordinates must be an array of two or more positions");var J={type:"LineString",coordinates:At};return u(J,vt,ie)}function at(At,vt,ie){return ie===void 0&&(ie={}),ve(At.map(function(J){return Te(J,vt)}),ie)}function ve(At,vt){vt===void 0&&(vt={});var ie={type:"FeatureCollection"};return vt.id&&(ie.id=vt.id),vt.bbox&&(ie.bbox=vt.bbox),ie.features=At,ie}function we(At,vt,ie){ie===void 0&&(ie={});var J={type:"MultiLineString",coordinates:At};return u(J,vt,ie)}function I(At,vt,ie){ie===void 0&&(ie={});var J={type:"MultiPoint",coordinates:At};return u(J,vt,ie)}function Ce(At,vt,ie){ie===void 0&&(ie={});var J={type:"MultiPolygon",coordinates:At};return u(J,vt,ie)}function et(At,vt,ie){ie===void 0&&(ie={});var J={type:"GeometryCollection",geometries:At};return u(J,vt,ie)}function Et(At,vt){if(vt===void 0&&(vt=0),vt&&!(vt>=0))throw new Error("precision must be a positive number");var ie=Math.pow(10,vt||0);return Math.round(At*ie)/ie}function We(At,vt){vt===void 0&&(vt="kilometers");var ie=y[vt];if(!ie)throw new Error(vt+" units is invalid");return At*ie}function ct(At,vt){vt===void 0&&(vt="kilometers");var ie=y[vt];if(!ie)throw new Error(vt+" units is invalid");return At/ie}function ce(At,vt){return It(ct(At,vt))}function Vt(At){var vt=At%360;return vt<0&&(vt+=360),vt}function It(At){var vt=At%(2*Math.PI);return vt*180/Math.PI}function Mt(At){var vt=At%360;return vt*Math.PI/180}function Tt(At,vt,ie){if(vt===void 0&&(vt="kilometers"),ie===void 0&&(ie="kilometers"),!(At>=0))throw new Error("length must be a positive number");return We(ct(At,vt),ie)}function ye(At,vt,ie){if(vt===void 0&&(vt="meters"),ie===void 0&&(ie="kilometers"),!(At>=0))throw new Error("area must be a positive number");var J=b[vt];if(!J)throw new Error("invalid original units");var ee=b[ie];if(!ee)throw new Error("invalid final units");return At/J*ee}function lt(At){return!isNaN(At)&&At!==null&&!Array.isArray(At)}function yt(At){return!!At&&At.constructor===Object}function Dt(At){if(!At)throw new Error("bbox is required");if(!Array.isArray(At))throw new Error("bbox must be an Array");if(At.length!==4&&At.length!==6)throw new Error("bbox must be an Array of 4 or 6 numbers");At.forEach(function(vt){if(!lt(vt))throw new Error("bbox must only contain numbers")})}function Jt(At){if(!At)throw new Error("id is required");if(["string","number"].indexOf(typeof At)===-1)throw new Error("id must be a number or a string")}},"1+5i":function(ze,A,r){var M=r("w/wX"),y=r("sEf8"),T=r("mdPL"),b=T&&T.isSet,u=b?y(b):M;ze.exports=u},"1ABj":function(ze,A){function r(M,y){throw new Error("Decorating class property failed. Please ensure that proposal-class-properties is enabled and runs after the decorators transform.")}ze.exports=r,ze.exports.default=ze.exports,ze.exports.__esModule=!0},"1GRj":function(ze,A,r){"use strict";var M=r("wx14"),y=r("U8pU"),T=r("q1tI"),b=r("9BLJ"),u=r("VTBJ"),H=r("rePB"),k=r("ODXe"),Z=r("Ff2n"),oe=r("TSYQ"),ne=r.n(oe),Te=r("y0+3"),at=r("6cGi"),ve=r("hzQT"),we=r("zT1h"),I=r("Kwbf"),Ce=r("wgJM");function et(kt){var ft=T.useRef(null),ut=T.useState(kt),Ze=Object(k.a)(ut,2),Qt=Ze[0],ar=Ze[1],zr=T.useRef([]),qr=function(_n){ft.current===null&&(zr.current=[],ft.current=Object(Ce.a)(function(){ar(function(Bn){var ya=Bn;return zr.current.forEach(function(Tr){ya=Object(u.a)(Object(u.a)({},ya),Tr)}),ft.current=null,ya})})),zr.current.push(_n)};return T.useEffect(function(){return function(){return ft.current&&Ce.a.cancel(ft.current)}},[]),[Qt,qr]}function Et(kt,ft,ut,Ze){var Qt=ft+ut,ar=(ut-Ze)/2;if(ut>Ze){if(ft>0)return Object(H.a)({},kt,ar);if(ft<0&&Qt<Ze)return Object(H.a)({},kt,-ar)}else if(ft<0||Qt>Ze)return Object(H.a)({},kt,ft<0?ar:-ar);return{}}function We(kt,ft,ut,Ze){var Qt=Object(Te.a)(),ar=Qt.width,zr=Qt.height,qr=null;return kt<=ar&&ft<=zr?qr={x:0,y:0}:(kt>ar||ft>zr)&&(qr=Object(u.a)(Object(u.a)({},Et("x",ut,kt,ar)),Et("y",Ze,ft,zr))),qr}var ct=["visible","onVisibleChange","getContainer","current"],ce=T.createContext({previewUrls:new Map,setPreviewUrls:function(){return null},current:null,setCurrent:function(){return null},setShowPreview:function(){return null},setMousePosition:function(){return null},registerImage:function(){return function(){return null}}}),Vt=ce.Provider,It=function(ft){var ut=ft.previewPrefixCls,Ze=ut===void 0?"rc-image-preview":ut,Qt=ft.children,ar=ft.icons,zr=ar===void 0?{}:ar,qr=ft.preview,tn=Object(y.a)(qr)==="object"?qr:{},_n=tn.visible,Bn=_n===void 0?void 0:_n,ya=tn.onVisibleChange,Tr=ya===void 0?void 0:ya,it=tn.getContainer,ue=it===void 0?void 0:it,ge=tn.current,De=ge===void 0?0:ge,Ee=Object(Z.a)(tn,ct),be=Object(T.useState)(new Map),rt=Object(k.a)(be,2),de=rt[0],Pe=rt[1],xe=Object(T.useState)(),Oe=Object(k.a)(xe,2),dt=Oe[0],Gt=Oe[1],$t=Object(at.a)(!!Bn,{value:Bn,onChange:Tr}),nr=Object(k.a)($t,2),lr=nr[0],Dr=nr[1],Pr=Object(T.useState)(null),Wr=Object(k.a)(Pr,2),an=Wr[0],dn=Wr[1],Rn=Bn!==void 0,zn=Array.from(de.keys()),Qn=zn[De],Ma=new Map(Array.from(de).filter(function(_a){var $a=Object(k.a)(_a,2),ra=$a[1].canPreview;return!!ra}).map(function(_a){var $a=Object(k.a)(_a,2),ra=$a[0],ni=$a[1].url;return[ra,ni]})),Ca=function($a,ra){var ni=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,Da=function(){Pe(function(ba){var Oi=new Map(ba),Do=Oi.delete($a);return Do?Oi:ba})};return Pe(function(Fa){return new Map(Fa).set($a,{url:ra,canPreview:ni})}),Da},ia=function($a){$a.stopPropagation(),Dr(!1),dn(null)};return T.useEffect(function(){Gt(Qn)},[Qn]),T.useEffect(function(){!lr&&Rn&&Gt(Qn)},[Qn,Rn,lr]),T.createElement(Vt,{value:{isPreviewGroup:!0,previewUrls:Ma,setPreviewUrls:Pe,current:dt,setCurrent:Gt,setShowPreview:Dr,setMousePosition:dn,registerImage:Ca}},Qt,T.createElement(Jt,Object(M.a)({"aria-hidden":!lr,visible:lr,prefixCls:Ze,onClose:ia,mousePosition:an,src:Ma.get(dt),icons:zr,getContainer:ue},Ee)))},Mt=It,Tt=["prefixCls","src","alt","onClose","afterClose","visible","icons"],ye=T.useState,lt=T.useEffect,yt={x:0,y:0},Dt=function(ft){var ut=ft.prefixCls,Ze=ft.src,Qt=ft.alt,ar=ft.onClose,zr=ft.afterClose,qr=ft.visible,tn=ft.icons,_n=tn===void 0?{}:tn,Bn=Object(Z.a)(ft,Tt),ya=_n.rotateLeft,Tr=_n.rotateRight,it=_n.zoomIn,ue=_n.zoomOut,ge=_n.close,De=_n.left,Ee=_n.right,be=ye(1),rt=Object(k.a)(be,2),de=rt[0],Pe=rt[1],xe=ye(0),Oe=Object(k.a)(xe,2),dt=Oe[0],Gt=Oe[1],$t=et(yt),nr=Object(k.a)($t,2),lr=nr[0],Dr=nr[1],Pr=T.useRef(),Wr=T.useRef({originX:0,originY:0,deltaX:0,deltaY:0}),an=T.useState(!1),dn=Object(k.a)(an,2),Rn=dn[0],zn=dn[1],Qn=T.useContext(ce),Ma=Qn.previewUrls,Ca=Qn.current,ia=Qn.isPreviewGroup,_a=Qn.setCurrent,$a=Ma.size,ra=Array.from(Ma.keys()),ni=ra.indexOf(Ca),Da=ia?Ma.get(Ca):Ze,Fa=ia&&$a>1,ba=T.useState({wheelDirection:0}),Oi=Object(k.a)(ba,2),Do=Oi[0],Li=Oi[1],Ui=function(){Pe(1),Gt(0),Dr(yt)},Na=function(){Pe(function(mr){return mr+1}),Dr(yt)},wa=function(){de>1&&Pe(function(mr){return mr-1}),Dr(yt)},ga=function(){Gt(function(mr){return mr+90})},pi=function(){Gt(function(mr){return mr-90})},_o=function(mr){mr.preventDefault(),mr.stopPropagation(),ni>0&&_a(ra[ni-1])},To=function(mr){mr.preventDefault(),mr.stopPropagation(),ni<$a-1&&_a(ra[ni+1])},so=ne()(Object(H.a)({},"".concat(ut,"-moving"),Rn)),vi="".concat(ut,"-operations-operation"),ko="".concat(ut,"-operations-icon"),bo=[{icon:ge,onClick:ar,type:"close"},{icon:it,onClick:Na,type:"zoomIn"},{icon:ue,onClick:wa,type:"zoomOut",disabled:de===1},{icon:Tr,onClick:ga,type:"rotateRight"},{icon:ya,onClick:pi,type:"rotateLeft"}],Ba=function(){if(qr&&Rn){var mr=Pr.current.offsetWidth*de,Wt=Pr.current.offsetHeight*de,vr=Pr.current.getBoundingClientRect(),un=vr.left,va=vr.top,qa=dt%180!=0;zn(!1);var mi=We(qa?Wt:mr,qa?mr:Wt,un,va);mi&&Dr(Object(u.a)({},mi))}},Pa=function(mr){mr.button===0&&(mr.preventDefault(),mr.stopPropagation(),Wr.current.deltaX=mr.pageX-lr.x,Wr.current.deltaY=mr.pageY-lr.y,Wr.current.originX=lr.x,Wr.current.originY=lr.y,zn(!0))},lo=function(mr){qr&&Rn&&Dr({x:mr.pageX-Wr.current.deltaX,y:mr.pageY-Wr.current.deltaY})},No=function(mr){if(!!qr){mr.preventDefault();var Wt=mr.deltaY;Li({wheelDirection:Wt})}};return lt(function(){var La=Do.wheelDirection;La>0?wa():La<0&&Na()},[Do]),lt(function(){var La,mr,Wt=Object(we.a)(window,"mouseup",Ba,!1),vr=Object(we.a)(window,"mousemove",lo,!1),un=Object(we.a)(window,"wheel",No,{passive:!1});try{window.top!==window.self&&(La=Object(we.a)(window.top,"mouseup",Ba,!1),mr=Object(we.a)(window.top,"mousemove",lo,!1))}catch(va){Object(I.c)(!1,"[rc-image] ".concat(va))}return function(){Wt.remove(),vr.remove(),un.remove(),La&&La.remove(),mr&&mr.remove()}},[qr,Rn]),T.createElement(ve.a,Object(M.a)({transitionName:"zoom",maskTransitionName:"fade",closable:!1,keyboard:!0,prefixCls:ut,onClose:ar,afterClose:Ui,visible:qr,wrapClassName:so},Bn),T.createElement("ul",{className:"".concat(ut,"-operations")},bo.map(function(La){var mr=La.icon,Wt=La.onClick,vr=La.type,un=La.disabled;return T.createElement("li",{className:ne()(vi,Object(H.a)({},"".concat(ut,"-operations-operation-disabled"),!!un)),onClick:Wt,key:vr},T.isValidElement(mr)?T.cloneElement(mr,{className:ko}):mr)})),T.createElement("div",{className:"".concat(ut,"-img-wrapper"),style:{transform:"translate3d(".concat(lr.x,"px, ").concat(lr.y,"px, 0)")}},T.createElement("img",{onMouseDown:Pa,ref:Pr,className:"".concat(ut,"-img"),src:Da,alt:Qt,style:{transform:"scale3d(".concat(de,", ").concat(de,", 1) rotate(").concat(dt,"deg)")}})),Fa&&T.createElement("div",{className:ne()("".concat(ut,"-switch-left"),Object(H.a)({},"".concat(ut,"-switch-left-disabled"),ni===0)),onClick:_o},De),Fa&&T.createElement("div",{className:ne()("".concat(ut,"-switch-right"),Object(H.a)({},"".concat(ut,"-switch-right-disabled"),ni===$a-1)),onClick:To},Ee))},Jt=Dt,At=["src","alt","onPreviewClose","prefixCls","previewPrefixCls","placeholder","fallback","width","height","style","preview","className","onClick","onError","wrapperClassName","wrapperStyle","crossOrigin","decoding","loading","referrerPolicy","sizes","srcSet","useMap"],vt=["src","visible","onVisibleChange","getContainer","mask","maskClassName","icons"],ie=0,J=function(ft){var ut=ft.src,Ze=ft.alt,Qt=ft.onPreviewClose,ar=ft.prefixCls,zr=ar===void 0?"rc-image":ar,qr=ft.previewPrefixCls,tn=qr===void 0?"".concat(zr,"-preview"):qr,_n=ft.placeholder,Bn=ft.fallback,ya=ft.width,Tr=ft.height,it=ft.style,ue=ft.preview,ge=ue===void 0?!0:ue,De=ft.className,Ee=ft.onClick,be=ft.onError,rt=ft.wrapperClassName,de=ft.wrapperStyle,Pe=ft.crossOrigin,xe=ft.decoding,Oe=ft.loading,dt=ft.referrerPolicy,Gt=ft.sizes,$t=ft.srcSet,nr=ft.useMap,lr=Object(Z.a)(ft,At),Dr=_n&&_n!==!0,Pr=Object(y.a)(ge)==="object"?ge:{},Wr=Pr.src,an=Pr.visible,dn=an===void 0?void 0:an,Rn=Pr.onVisibleChange,zn=Rn===void 0?Qt:Rn,Qn=Pr.getContainer,Ma=Qn===void 0?void 0:Qn,Ca=Pr.mask,ia=Pr.maskClassName,_a=Pr.icons,$a=Object(Z.a)(Pr,vt),ra=Wr!=null?Wr:ut,ni=dn!==void 0,Da=Object(at.a)(!!dn,{value:dn,onChange:zn}),Fa=Object(k.a)(Da,2),ba=Fa[0],Oi=Fa[1],Do=Object(T.useState)(Dr?"loading":"normal"),Li=Object(k.a)(Do,2),Ui=Li[0],Na=Li[1],wa=Object(T.useState)(null),ga=Object(k.a)(wa,2),pi=ga[0],_o=ga[1],To=Ui==="error",so=T.useContext(ce),vi=so.isPreviewGroup,ko=so.setCurrent,bo=so.setShowPreview,Ba=so.setMousePosition,Pa=so.registerImage,lo=T.useState(function(){return ie+=1,ie}),No=Object(k.a)(lo,1),La=No[0],mr=ge&&!To,Wt=T.useRef(!1),vr=function(){Na("normal")},un=function(tl){be&&be(tl),Na("error")},va=function(tl){if(!ni){var fu=Object(Te.b)(tl.target),vc=fu.left,of=fu.top;vi?(ko(La),Ba({x:vc,y:of})):_o({x:vc,y:of})}vi?bo(!0):Oi(!0),Ee&&Ee(tl)},qa=function(tl){tl.stopPropagation(),Oi(!1),ni||_o(null)},mi=function(tl){Wt.current=!1,Ui==="loading"&&(tl==null?void 0:tl.complete)&&(tl.naturalWidth||tl.naturalHeight)&&(Wt.current=!0,vr())};T.useEffect(function(){var Es=Pa(La,ra);return Es},[]),T.useEffect(function(){Pa(La,ra,mr)},[ra,mr]),T.useEffect(function(){To&&Na("normal"),Dr&&!Wt.current&&Na("loading")},[ut]);var ys=ne()(zr,rt,Object(H.a)({},"".concat(zr,"-error"),To)),cl=To&&Bn?Bn:ra,gl={crossOrigin:Pe,decoding:xe,loading:Oe,referrerPolicy:dt,sizes:Gt,srcSet:$t,useMap:nr,alt:Ze,className:ne()("".concat(zr,"-img"),Object(H.a)({},"".concat(zr,"-img-placeholder"),_n===!0),De),style:Object(u.a)({height:Tr},it)};return T.createElement(T.Fragment,null,T.createElement("div",Object(M.a)({},lr,{className:ys,onClick:mr?va:Ee,style:Object(u.a)({width:ya,height:Tr},de)}),T.createElement("img",Object(M.a)({},gl,{ref:mi},To&&Bn?{src:Bn}:{onLoad:vr,onError:un,src:ut})),Ui==="loading"&&T.createElement("div",{"aria-hidden":"true",className:"".concat(zr,"-placeholder")},_n),Ca&&mr&&T.createElement("div",{className:ne()("".concat(zr,"-mask"),ia)},Ca)),!vi&&mr&&T.createElement(Jt,Object(M.a)({"aria-hidden":!ba,visible:ba,prefixCls:tn,onClose:qa,mousePosition:pi,src:cl,alt:Ze,getContainer:Ma,icons:_a},$a)))};J.PreviewGroup=Mt,J.displayName="Image";var ee=J,Ie=ee,me=r("D7Yy"),Ve={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"defs",attrs:{},children:[{tag:"style",attrs:{}}]},{tag:"path",attrs:{d:"M672 418H144c-17.7 0-32 14.3-32 32v414c0 17.7 14.3 32 32 32h528c17.7 0 32-14.3 32-32V450c0-17.7-14.3-32-32-32zm-44 402H188V494h440v326z"}},{tag:"path",attrs:{d:"M819.3 328.5c-78.8-100.7-196-153.6-314.6-154.2l-.2-64c0-6.5-7.6-10.1-12.6-6.1l-128 101c-4 3.1-3.9 9.1 0 12.3L492 318.6c5.1 4 12.7.4 12.6-6.1v-63.9c12.9.1 25.9.9 38.8 2.5 42.1 5.2 82.1 18.2 119 38.7 38.1 21.2 71.2 49.7 98.4 84.3 27.1 34.7 46.7 73.7 58.1 115.8a325.95 325.95 0 016.5 140.9h74.9c14.8-103.6-11.3-213-81-302.3z"}}]},name:"rotate-left",theme:"outlined"},Re=Ve,bt=r("6VBw"),Pt=function(ft,ut){return T.createElement(bt.a,Object(u.a)(Object(u.a)({},ft),{},{ref:ut,icon:Re}))};Pt.displayName="RotateLeftOutlined";var ht=T.forwardRef(Pt),Ye={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"defs",attrs:{},children:[{tag:"style",attrs:{}}]},{tag:"path",attrs:{d:"M480.5 251.2c13-1.6 25.9-2.4 38.8-2.5v63.9c0 6.5 7.5 10.1 12.6 6.1L660 217.6c4-3.2 4-9.2 0-12.3l-128-101c-5.1-4-12.6-.4-12.6 6.1l-.2 64c-118.6.5-235.8 53.4-314.6 154.2A399.75 399.75 0 00123.5 631h74.9c-.9-5.3-1.7-10.7-2.4-16.1-5.1-42.1-2.1-84.1 8.9-124.8 11.4-42.2 31-81.1 58.1-115.8 27.2-34.7 60.3-63.2 98.4-84.3 37-20.6 76.9-33.6 119.1-38.8z"}},{tag:"path",attrs:{d:"M880 418H352c-17.7 0-32 14.3-32 32v414c0 17.7 14.3 32 32 32h528c17.7 0 32-14.3 32-32V450c0-17.7-14.3-32-32-32zm-44 402H396V494h440v326z"}}]},name:"rotate-right",theme:"outlined"},Ke=Ye,nt=function(ft,ut){return T.createElement(bt.a,Object(u.a)(Object(u.a)({},ft),{},{ref:ut,icon:Ke}))};nt.displayName="RotateRightOutlined";var Ot=T.forwardRef(nt),Xe={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M637 443H519V309c0-4.4-3.6-8-8-8h-60c-4.4 0-8 3.6-8 8v134H325c-4.4 0-8 3.6-8 8v60c0 4.4 3.6 8 8 8h118v134c0 4.4 3.6 8 8 8h60c4.4 0 8-3.6 8-8V519h118c4.4 0 8-3.6 8-8v-60c0-4.4-3.6-8-8-8zm284 424L775 721c122.1-148.9 113.6-369.5-26-509-148-148.1-388.4-148.1-537 0-148.1 148.6-148.1 389 0 537 139.5 139.6 360.1 148.1 509 26l146 146c3.2 2.8 8.3 2.8 11 0l43-43c2.8-2.7 2.8-7.8 0-11zM696 696c-118.8 118.7-311.2 118.7-430 0-118.7-118.8-118.7-311.2 0-430 118.8-118.7 311.2-118.7 430 0 118.7 118.8 118.7 311.2 0 430z"}}]},name:"zoom-in",theme:"outlined"},xt=Xe,Ne=function(ft,ut){return T.createElement(bt.a,Object(u.a)(Object(u.a)({},ft),{},{ref:ut,icon:xt}))};Ne.displayName="ZoomInOutlined";var B=T.forwardRef(Ne),z={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M637 443H325c-4.4 0-8 3.6-8 8v60c0 4.4 3.6 8 8 8h312c4.4 0 8-3.6 8-8v-60c0-4.4-3.6-8-8-8zm284 424L775 721c122.1-148.9 113.6-369.5-26-509-148-148.1-388.4-148.1-537 0-148.1 148.6-148.1 389 0 537 139.5 139.6 360.1 148.1 509 26l146 146c3.2 2.8 8.3 2.8 11 0l43-43c2.8-2.7 2.8-7.8 0-11zM696 696c-118.8 118.7-311.2 118.7-430 0-118.7-118.8-118.7-311.2 0-430 118.8-118.7 311.2-118.7 430 0 118.7 118.8 118.7 311.2 0 430z"}}]},name:"zoom-out",theme:"outlined"},q=z,S=function(ft,ut){return T.createElement(bt.a,Object(u.a)(Object(u.a)({},ft),{},{ref:ut,icon:q}))};S.displayName="ZoomOutOutlined";var K=T.forwardRef(S),fe=r("4i/N"),Fe=r("5bA4"),pe=r("UESt"),Me=r("H84U"),U=r("EXcs"),le=function(kt,ft){var ut={};for(var Ze in kt)Object.prototype.hasOwnProperty.call(kt,Ze)&&ft.indexOf(Ze)<0&&(ut[Ze]=kt[Ze]);if(kt!=null&&typeof Object.getOwnPropertySymbols=="function")for(var Qt=0,Ze=Object.getOwnPropertySymbols(kt);Qt<Ze.length;Qt++)ft.indexOf(Ze[Qt])<0&&Object.prototype.propertyIsEnumerable.call(kt,Ze[Qt])&&(ut[Ze[Qt]]=kt[Ze[Qt]]);return ut},Le={rotateLeft:T.createElement(ht,null),rotateRight:T.createElement(Ot,null),zoomIn:T.createElement(B,null),zoomOut:T.createElement(K,null),close:T.createElement(fe.a,null),left:T.createElement(Fe.a,null),right:T.createElement(pe.a,null)},ot=function(ft){var ut=ft.previewPrefixCls,Ze=ft.preview,Qt=le(ft,["previewPrefixCls","preview"]),ar=T.useContext(Me.b),zr=ar.getPrefixCls,qr=zr("image-preview",ut),tn=zr(),_n=T.useMemo(function(){if(Ze===!1)return Ze;var Bn=Object(y.a)(Ze)==="object"?Ze:{};return Object(M.a)(Object(M.a)({},Bn),{transitionName:Object(U.b)(tn,"zoom",Bn.transitionName),maskTransitionName:Object(U.b)(tn,"fade",Bn.maskTransitionName)})},[Ze]);return T.createElement(Ie.PreviewGroup,Object(M.a)({preview:_n,previewPrefixCls:qr,icons:Le},Qt))},St=ot,Ge=function(kt,ft){var ut={};for(var Ze in kt)Object.prototype.hasOwnProperty.call(kt,Ze)&&ft.indexOf(Ze)<0&&(ut[Ze]=kt[Ze]);if(kt!=null&&typeof Object.getOwnPropertySymbols=="function")for(var Qt=0,Ze=Object.getOwnPropertySymbols(kt);Qt<Ze.length;Qt++)ft.indexOf(Ze[Qt])<0&&Object.prototype.propertyIsEnumerable.call(kt,Ze[Qt])&&(ut[Ze[Qt]]=kt[Ze[Qt]]);return ut},Be=function(ft){var ut=ft.prefixCls,Ze=ft.preview,Qt=Ge(ft,["prefixCls","preview"]),ar=Object(T.useContext)(Me.b),zr=ar.getPrefixCls,qr=zr("image",ut),tn=zr(),_n=Object(T.useContext)(Me.b),Bn=_n.locale,ya=Bn===void 0?me.a:Bn,Tr=ya.Image||me.a.Image,it=T.useMemo(function(){if(Ze===!1)return Ze;var ue=Object(y.a)(Ze)==="object"?Ze:{};return Object(M.a)(Object(M.a)({mask:T.createElement("div",{className:"".concat(qr,"-mask-info")},T.createElement(b.a,null),Tr==null?void 0:Tr.preview),icons:Le},ue),{transitionName:Object(U.b)(tn,"zoom",ue.transitionName),maskTransitionName:Object(U.b)(tn,"fade",ue.maskTransitionName)})},[Ze,Tr]);return T.createElement(Ie,Object(M.a)({prefixCls:qr,preview:it},Qt))};Be.PreviewGroup=St;var Nt=A.a=Be},"1O3P":function(ze,A,r){"use strict";r.d(A,"a",function(){return H});var M=r("wd/R"),y=r.n(M),T=r("ub+h"),b=r("POPG");function u(Te){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?u=function(ve){return typeof ve}:u=function(ve){return ve&&typeof Symbol=="function"&&ve.constructor===Symbol&&ve!==Symbol.prototype?"symbol":typeof ve},u(Te)}var H={time:"HH:mm:ss",timeRange:"HH:mm:ss",date:"YYYY-MM-DD",dateWeek:"YYYY-wo",dateMonth:"YYYY-MM",dateQuarter:"YYYY-QQ",dateYear:"YYYY",dateRange:"YYYY-MM-DD",dateTime:"YYYY-MM-DD HH:mm:ss",dateTimeRange:"YYYY-MM-DD HH:mm:ss"};function k(Te){return Object.prototype.toString.call(Te)==="[object Object]"}function Z(Te){if(k(Te)===!1)return!1;var at=Te.constructor;if(at===void 0)return!0;var ve=at.prototype;return!(k(ve)===!1||ve.hasOwnProperty("isPrototypeOf")===!1)}var oe=function(at,ve,we){if(!ve)return at;if(y.a.isMoment(at)){if(ve==="number")return at.valueOf();if(ve==="string")return at.format(H[we]||"YYYY-MM-DD HH:mm:ss");if(typeof ve=="string"&&ve!=="string")return at.format(ve)}return at},ne=function Te(at,ve,we,I,Ce){var et={};return u(at)!=="object"||Object(b.a)(at)||at instanceof Blob||Array.isArray(at)?at:(Object.keys(at).forEach(function(Et){var We=Ce?[Ce,Et].flat(1):[Et],ct=Object(T.a)(we,We)||"text",ce="text",Vt;typeof ct=="string"?ce=ct:ct&&(ce=ct.valueType,Vt=ct.dateFormat);var It=at[Et];if(!(Object(b.a)(It)&&I)){if(Z(It)&&!Array.isArray(It)&&!y.a.isMoment(It)){et[Et]=Te(It,ve,we,I,[Et]);return}if(Array.isArray(It)){et[Et]=It.map(function(Mt,Tt){return y.a.isMoment(Mt)?oe(Mt,Vt||ve,ce):Te(Mt,ve,we,I,[Et,"".concat(Tt)])});return}et[Et]=oe(It,Vt||ve,ce)}}),et)};A.b=ne},"1W/9":function(ze,A,r){"use strict";var M=r("1OyB"),y=r("vuIU"),T=r("Ji7U"),b=r("LK+K"),u=r("U8pU"),H=r("q1tI"),k=r("wgJM"),Z=r("QC+M"),oe=r("MNnm"),ne=r("qx4F"),Te=r("bNmP");function at(){return document.body.scrollHeight>(window.innerHeight||document.documentElement.clientHeight)&&window.innerWidth>document.body.offsetWidth}var ve={},we=function(It){if(!(!at()&&!It)){var Mt="ant-scrolling-effect",Tt=new RegExp("".concat(Mt),"g"),ye=document.body.className;if(It){if(!Tt.test(ye))return;Object(Te.a)(ve),ve={},document.body.className=ye.replace(Tt,"").trim();return}var lt=Object(ne.a)();if(lt&&(ve=Object(Te.a)({position:"relative",width:"calc(100% - ".concat(lt,"px)")}),!Tt.test(ye))){var yt="".concat(ye," ").concat(Mt);document.body.className=yt.trim()}}},I=r("4AAd"),Ce=0,et=Object(oe.a)();function Et(){return 0}var We={},ct=function(Mt){if(!et)return null;if(Mt){if(typeof Mt=="string")return document.querySelectorAll(Mt)[0];if(typeof Mt=="function")return Mt();if(Object(u.a)(Mt)==="object"&&Mt instanceof window.HTMLElement)return Mt}return document.body},ce=function(It){Object(T.a)(Tt,It);var Mt=Object(b.a)(Tt);function Tt(ye){var lt;return Object(M.a)(this,Tt),lt=Mt.call(this,ye),lt.container=void 0,lt.componentRef=H.createRef(),lt.rafId=void 0,lt.scrollLocker=void 0,lt.renderComponent=void 0,lt.updateScrollLocker=function(yt){var Dt=yt||{},Jt=Dt.visible,At=lt.props,vt=At.getContainer,ie=At.visible;ie&&ie!==Jt&&et&&ct(vt)!==lt.scrollLocker.getContainer()&&lt.scrollLocker.reLock({container:ct(vt)})},lt.updateOpenCount=function(yt){var Dt=yt||{},Jt=Dt.visible,At=Dt.getContainer,vt=lt.props,ie=vt.visible,J=vt.getContainer;ie!==Jt&&et&&ct(J)===document.body&&(ie&&!Jt?Ce+=1:yt&&(Ce-=1));var ee=typeof J=="function"&&typeof At=="function";(ee?J.toString()!==At.toString():J!==At)&&lt.removeCurrentContainer()},lt.attachToParent=function(){var yt=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1;if(yt||lt.container&&!lt.container.parentNode){var Dt=ct(lt.props.getContainer);return Dt?(Dt.appendChild(lt.container),!0):!1}return!0},lt.getContainer=function(){return et?(lt.container||(lt.container=document.createElement("div"),lt.attachToParent(!0)),lt.setWrapperClassName(),lt.container):null},lt.setWrapperClassName=function(){var yt=lt.props.wrapperClassName;lt.container&&yt&&yt!==lt.container.className&&(lt.container.className=yt)},lt.removeCurrentContainer=function(){var yt,Dt;(yt=lt.container)===null||yt===void 0||(Dt=yt.parentNode)===null||Dt===void 0||Dt.removeChild(lt.container)},lt.switchScrollingEffect=function(){Ce===1&&!Object.keys(We).length?(we(),We=Object(Te.a)({overflow:"hidden",overflowX:"hidden",overflowY:"hidden"})):Ce||(Object(Te.a)(We),We={},we(!0))},lt.scrollLocker=new I.a({container:ct(ye.getContainer)}),lt}return Object(y.a)(Tt,[{key:"componentDidMount",value:function(){var lt=this;this.updateOpenCount(),this.attachToParent()||(this.rafId=Object(k.a)(function(){lt.forceUpdate()}))}},{key:"componentDidUpdate",value:function(lt){this.updateOpenCount(lt),this.updateScrollLocker(lt),this.setWrapperClassName(),this.attachToParent()}},{key:"componentWillUnmount",value:function(){var lt=this.props,yt=lt.visible,Dt=lt.getContainer;et&&ct(Dt)===document.body&&(Ce=yt&&Ce?Ce-1:Ce),this.removeCurrentContainer(),k.a.cancel(this.rafId)}},{key:"render",value:function(){var lt=this.props,yt=lt.children,Dt=lt.forceRender,Jt=lt.visible,At=null,vt={getOpenCount:function(){return Ce},getContainer:this.getContainer,switchScrollingEffect:this.switchScrollingEffect,scrollLocker:this.scrollLocker};return(Dt||Jt||this.componentRef.current)&&(At=H.createElement(Z.a,{getContainer:this.getContainer,ref:this.componentRef},yt(vt))),At}}]),Tt}(H.Component),Vt=A.a=ce},"1jvM":function(ze,A){},"1wcP":function(ze,A,r){},"2ajD":function(ze,A){function r(M){return M!==M}ze.exports=r},"2oH+":function(ze,A,r){(function(M,y){var T=200,b="__lodash_hash_undefined__",u=800,H=16,k=9007199254740991,Z="[object Arguments]",oe="[object Array]",ne="[object AsyncFunction]",Te="[object Boolean]",at="[object Date]",ve="[object Error]",we="[object Function]",I="[object GeneratorFunction]",Ce="[object Map]",et="[object Number]",Et="[object Null]",We="[object Object]",ct="[object Proxy]",ce="[object RegExp]",Vt="[object Set]",It="[object String]",Mt="[object Undefined]",Tt="[object WeakMap]",ye="[object ArrayBuffer]",lt="[object DataView]",yt="[object Float32Array]",Dt="[object Float64Array]",Jt="[object Int8Array]",At="[object Int16Array]",vt="[object Int32Array]",ie="[object Uint8Array]",J="[object Uint8ClampedArray]",ee="[object Uint16Array]",Ie="[object Uint32Array]",me=/[\\^$.*+?()[\]{}|]/g,Ve=/^\[object .+?Constructor\]$/,Re=/^(?:0|[1-9]\d*)$/,bt={};bt[yt]=bt[Dt]=bt[Jt]=bt[At]=bt[vt]=bt[ie]=bt[J]=bt[ee]=bt[Ie]=!0,bt[Z]=bt[oe]=bt[ye]=bt[Te]=bt[lt]=bt[at]=bt[ve]=bt[we]=bt[Ce]=bt[et]=bt[We]=bt[ce]=bt[Vt]=bt[It]=bt[Tt]=!1;var Pt=typeof M=="object"&&M&&M.Object===Object&&M,ht=typeof self=="object"&&self&&self.Object===Object&&self,Ye=Pt||ht||Function("return this")(),Ke=A&&!A.nodeType&&A,nt=Ke&&typeof y=="object"&&y&&!y.nodeType&&y,Ot=nt&&nt.exports===Ke,Xe=Ot&&Pt.process,xt=function(){try{var Fr=nt&&nt.require&&nt.require("util").types;return Fr||Xe&&Xe.binding&&Xe.binding("util")}catch(Sn){}}(),Ne=xt&&xt.isTypedArray;function B(Fr,Sn,Jn){switch(Jn.length){case 0:return Fr.call(Sn);case 1:return Fr.call(Sn,Jn[0]);case 2:return Fr.call(Sn,Jn[0],Jn[1]);case 3:return Fr.call(Sn,Jn[0],Jn[1],Jn[2])}return Fr.apply(Sn,Jn)}function z(Fr,Sn){for(var Jn=-1,xo=Array(Fr);++Jn<Fr;)xo[Jn]=Sn(Jn);return xo}function q(Fr){return function(Sn){return Fr(Sn)}}function S(Fr,Sn){return Fr==null?void 0:Fr[Sn]}function K(Fr,Sn){return function(Jn){return Fr(Sn(Jn))}}var fe=Array.prototype,Fe=Function.prototype,pe=Object.prototype,Me=Ye["__core-js_shared__"],U=Fe.toString,le=pe.hasOwnProperty,Le=function(){var Fr=/[^.]+$/.exec(Me&&Me.keys&&Me.keys.IE_PROTO||"");return Fr?"Symbol(src)_1."+Fr:""}(),ot=pe.toString,St=U.call(Object),Ge=RegExp("^"+U.call(le).replace(me,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),Be=Ot?Ye.Buffer:void 0,Nt=Ye.Symbol,kt=Ye.Uint8Array,ft=Be?Be.allocUnsafe:void 0,ut=K(Object.getPrototypeOf,Object),Ze=Object.create,Qt=pe.propertyIsEnumerable,ar=fe.splice,zr=Nt?Nt.toStringTag:void 0,qr=function(){try{var Fr=Ba(Object,"defineProperty");return Fr({},"",{}),Fr}catch(Sn){}}(),tn=Be?Be.isBuffer:void 0,_n=Math.max,Bn=Date.now,ya=Ba(Ye,"Map"),Tr=Ba(Object,"create"),it=function(){function Fr(){}return function(Sn){if(!al(Sn))return{};if(Ze)return Ze(Sn);Fr.prototype=Sn;var Jn=new Fr;return Fr.prototype=void 0,Jn}}();function ue(Fr){var Sn=-1,Jn=Fr==null?0:Fr.length;for(this.clear();++Sn<Jn;){var xo=Fr[Sn];this.set(xo[0],xo[1])}}function ge(){this.__data__=Tr?Tr(null):{},this.size=0}function De(Fr){var Sn=this.has(Fr)&&delete this.__data__[Fr];return this.size-=Sn?1:0,Sn}function Ee(Fr){var Sn=this.__data__;if(Tr){var Jn=Sn[Fr];return Jn===b?void 0:Jn}return le.call(Sn,Fr)?Sn[Fr]:void 0}function be(Fr){var Sn=this.__data__;return Tr?Sn[Fr]!==void 0:le.call(Sn,Fr)}function rt(Fr,Sn){var Jn=this.__data__;return this.size+=this.has(Fr)?0:1,Jn[Fr]=Tr&&Sn===void 0?b:Sn,this}ue.prototype.clear=ge,ue.prototype.delete=De,ue.prototype.get=Ee,ue.prototype.has=be,ue.prototype.set=rt;function de(Fr){var Sn=-1,Jn=Fr==null?0:Fr.length;for(this.clear();++Sn<Jn;){var xo=Fr[Sn];this.set(xo[0],xo[1])}}function Pe(){this.__data__=[],this.size=0}function xe(Fr){var Sn=this.__data__,Jn=$a(Sn,Fr);if(Jn<0)return!1;var xo=Sn.length-1;return Jn==xo?Sn.pop():ar.call(Sn,Jn,1),--this.size,!0}function Oe(Fr){var Sn=this.__data__,Jn=$a(Sn,Fr);return Jn<0?void 0:Sn[Jn][1]}function dt(Fr){return $a(this.__data__,Fr)>-1}function Gt(Fr,Sn){var Jn=this.__data__,xo=$a(Jn,Fr);return xo<0?(++this.size,Jn.push([Fr,Sn])):Jn[xo][1]=Sn,this}de.prototype.clear=Pe,de.prototype.delete=xe,de.prototype.get=Oe,de.prototype.has=dt,de.prototype.set=Gt;function $t(Fr){var Sn=-1,Jn=Fr==null?0:Fr.length;for(this.clear();++Sn<Jn;){var xo=Fr[Sn];this.set(xo[0],xo[1])}}function nr(){this.size=0,this.__data__={hash:new ue,map:new(ya||de),string:new ue}}function lr(Fr){var Sn=bo(this,Fr).delete(Fr);return this.size-=Sn?1:0,Sn}function Dr(Fr){return bo(this,Fr).get(Fr)}function Pr(Fr){return bo(this,Fr).has(Fr)}function Wr(Fr,Sn){var Jn=bo(this,Fr),xo=Jn.size;return Jn.set(Fr,Sn),this.size+=Jn.size==xo?0:1,this}$t.prototype.clear=nr,$t.prototype.delete=lr,$t.prototype.get=Dr,$t.prototype.has=Pr,$t.prototype.set=Wr;function an(Fr){var Sn=this.__data__=new de(Fr);this.size=Sn.size}function dn(){this.__data__=new de,this.size=0}function Rn(Fr){var Sn=this.__data__,Jn=Sn.delete(Fr);return this.size=Sn.size,Jn}function zn(Fr){return this.__data__.get(Fr)}function Qn(Fr){return this.__data__.has(Fr)}function Ma(Fr,Sn){var Jn=this.__data__;if(Jn instanceof de){var xo=Jn.__data__;if(!ya||xo.length<T-1)return xo.push([Fr,Sn]),this.size=++Jn.size,this;Jn=this.__data__=new $t(xo)}return Jn.set(Fr,Sn),this.size=Jn.size,this}an.prototype.clear=dn,an.prototype.delete=Rn,an.prototype.get=zn,an.prototype.has=Qn,an.prototype.set=Ma;function Ca(Fr,Sn){var Jn=fu(Fr),xo=!Jn&&tl(Fr),w=!Jn&&!xo&&ku(Fr),re=!Jn&&!xo&&!w&&Hc(Fr),Qe=Jn||xo||w||re,Se=Qe?z(Fr.length,String):[],jt=Se.length;for(var br in Fr)(Sn||le.call(Fr,br))&&!(Qe&&(br=="length"||w&&(br=="offset"||br=="parent")||re&&(br=="buffer"||br=="byteLength"||br=="byteOffset")||No(br,jt)))&&Se.push(br);return Se}function ia(Fr,Sn,Jn){(Jn!==void 0&&!Es(Fr[Sn],Jn)||Jn===void 0&&!(Sn in Fr))&&ra(Fr,Sn,Jn)}function _a(Fr,Sn,Jn){var xo=Fr[Sn];(!(le.call(Fr,Sn)&&Es(xo,Jn))||Jn===void 0&&!(Sn in Fr))&&ra(Fr,Sn,Jn)}function $a(Fr,Sn){for(var Jn=Fr.length;Jn--;)if(Es(Fr[Jn][0],Sn))return Jn;return-1}function ra(Fr,Sn,Jn){Sn=="__proto__"&&qr?qr(Fr,Sn,{configurable:!0,enumerable:!0,value:Jn,writable:!0}):Fr[Sn]=Jn}var ni=ko();function Da(Fr){return Fr==null?Fr===void 0?Mt:Et:zr&&zr in Object(Fr)?Pa(Fr):va(Fr)}function Fa(Fr){return du(Fr)&&Da(Fr)==Z}function ba(Fr){if(!al(Fr)||Wt(Fr))return!1;var Sn=Wl(Fr)?Ge:Ve;return Sn.test(gl(Fr))}function Oi(Fr){return du(Fr)&&ql(Fr.length)&&!!bt[Da(Fr)]}function Do(Fr){if(!al(Fr))return un(Fr);var Sn=vr(Fr),Jn=[];for(var xo in Fr)xo=="constructor"&&(Sn||!le.call(Fr,xo))||Jn.push(xo);return Jn}function Li(Fr,Sn,Jn,xo,w){Fr!==Sn&&ni(Sn,function(re,Qe){if(w||(w=new an),al(re))Ui(Fr,Sn,Qe,Jn,Li,xo,w);else{var Se=xo?xo(mi(Fr,Qe),re,Qe+"",Fr,Sn,w):void 0;Se===void 0&&(Se=re),ia(Fr,Qe,Se)}},Bs)}function Ui(Fr,Sn,Jn,xo,w,re,Qe){var Se=mi(Fr,Jn),jt=mi(Sn,Jn),br=Qe.get(jt);if(br){ia(Fr,Jn,br);return}var Yr=re?re(Se,jt,Jn+"",Fr,Sn,Qe):void 0,fn=Yr===void 0;if(fn){var En=fu(jt),ma=!En&&ku(jt),Ia=!En&&!ma&&Hc(jt);Yr=jt,En||ma||Ia?fu(Se)?Yr=Se:of(Se)?Yr=To(Se):ma?(fn=!1,Yr=ga(jt,!0)):Ia?(fn=!1,Yr=_o(jt,!0)):Yr=[]:Bu(jt)||tl(jt)?(Yr=Se,tl(Se)?Yr=ps(Se):(!al(Se)||Wl(Se))&&(Yr=lo(jt))):fn=!1}fn&&(Qe.set(jt,Yr),w(Yr,jt,xo,re,Qe),Qe.delete(jt)),ia(Fr,Jn,Yr)}function Na(Fr,Sn){return ys(qa(Fr,Sn,fl),Fr+"")}var wa=qr?function(Fr,Sn){return qr(Fr,"toString",{configurable:!0,enumerable:!1,value:il(Sn),writable:!0})}:fl;function ga(Fr,Sn){if(Sn)return Fr.slice();var Jn=Fr.length,xo=ft?ft(Jn):new Fr.constructor(Jn);return Fr.copy(xo),xo}function pi(Fr){var Sn=new Fr.constructor(Fr.byteLength);return new kt(Sn).set(new kt(Fr)),Sn}function _o(Fr,Sn){var Jn=Sn?pi(Fr.buffer):Fr.buffer;return new Fr.constructor(Jn,Fr.byteOffset,Fr.length)}function To(Fr,Sn){var Jn=-1,xo=Fr.length;for(Sn||(Sn=Array(xo));++Jn<xo;)Sn[Jn]=Fr[Jn];return Sn}function so(Fr,Sn,Jn,xo){var w=!Jn;Jn||(Jn={});for(var re=-1,Qe=Sn.length;++re<Qe;){var Se=Sn[re],jt=xo?xo(Jn[Se],Fr[Se],Se,Jn,Fr):void 0;jt===void 0&&(jt=Fr[Se]),w?ra(Jn,Se,jt):_a(Jn,Se,jt)}return Jn}function vi(Fr){return Na(function(Sn,Jn){var xo=-1,w=Jn.length,re=w>1?Jn[w-1]:void 0,Qe=w>2?Jn[2]:void 0;for(re=Fr.length>3&&typeof re=="function"?(w--,re):void 0,Qe&&La(Jn[0],Jn[1],Qe)&&(re=w<3?void 0:re,w=1),Sn=Object(Sn);++xo<w;){var Se=Jn[xo];Se&&Fr(Sn,Se,xo,re)}return Sn})}function ko(Fr){return function(Sn,Jn,xo){for(var w=-1,re=Object(Sn),Qe=xo(Sn),Se=Qe.length;Se--;){var jt=Qe[Fr?Se:++w];if(Jn(re[jt],jt,re)===!1)break}return Sn}}function bo(Fr,Sn){var Jn=Fr.__data__;return mr(Sn)?Jn[typeof Sn=="string"?"string":"hash"]:Jn.map}function Ba(Fr,Sn){var Jn=S(Fr,Sn);return ba(Jn)?Jn:void 0}function Pa(Fr){var Sn=le.call(Fr,zr),Jn=Fr[zr];try{Fr[zr]=void 0;var xo=!0}catch(re){}var w=ot.call(Fr);return xo&&(Sn?Fr[zr]=Jn:delete Fr[zr]),w}function lo(Fr){return typeof Fr.constructor=="function"&&!vr(Fr)?it(ut(Fr)):{}}function No(Fr,Sn){var Jn=typeof Fr;return Sn=Sn==null?k:Sn,!!Sn&&(Jn=="number"||Jn!="symbol"&&Re.test(Fr))&&Fr>-1&&Fr%1==0&&Fr<Sn}function La(Fr,Sn,Jn){if(!al(Jn))return!1;var xo=typeof Sn;return(xo=="number"?vc(Jn)&&No(Sn,Jn.length):xo=="string"&&Sn in Jn)?Es(Jn[Sn],Fr):!1}function mr(Fr){var Sn=typeof Fr;return Sn=="string"||Sn=="number"||Sn=="symbol"||Sn=="boolean"?Fr!=="__proto__":Fr===null}function Wt(Fr){return!!Le&&Le in Fr}function vr(Fr){var Sn=Fr&&Fr.constructor,Jn=typeof Sn=="function"&&Sn.prototype||pe;return Fr===Jn}function un(Fr){var Sn=[];if(Fr!=null)for(var Jn in Object(Fr))Sn.push(Jn);return Sn}function va(Fr){return ot.call(Fr)}function qa(Fr,Sn,Jn){return Sn=_n(Sn===void 0?Fr.length-1:Sn,0),function(){for(var xo=arguments,w=-1,re=_n(xo.length-Sn,0),Qe=Array(re);++w<re;)Qe[w]=xo[Sn+w];w=-1;for(var Se=Array(Sn+1);++w<Sn;)Se[w]=xo[w];return Se[Sn]=Jn(Qe),B(Fr,this,Se)}}function mi(Fr,Sn){if(!(Sn==="constructor"&&typeof Fr[Sn]=="function")&&Sn!="__proto__")return Fr[Sn]}var ys=cl(wa);function cl(Fr){var Sn=0,Jn=0;return function(){var xo=Bn(),w=H-(xo-Jn);if(Jn=xo,w>0){if(++Sn>=u)return arguments[0]}else Sn=0;return Fr.apply(void 0,arguments)}}function gl(Fr){if(Fr!=null){try{return U.call(Fr)}catch(Sn){}try{return Fr+""}catch(Sn){}}return""}function Es(Fr,Sn){return Fr===Sn||Fr!==Fr&&Sn!==Sn}var tl=Fa(function(){return arguments}())?Fa:function(Fr){return du(Fr)&&le.call(Fr,"callee")&&!Qt.call(Fr,"callee")},fu=Array.isArray;function vc(Fr){return Fr!=null&&ql(Fr.length)&&!Wl(Fr)}function of(Fr){return du(Fr)&&vc(Fr)}var ku=tn||Yh;function Wl(Fr){if(!al(Fr))return!1;var Sn=Da(Fr);return Sn==we||Sn==I||Sn==ne||Sn==ct}function ql(Fr){return typeof Fr=="number"&&Fr>-1&&Fr%1==0&&Fr<=k}function al(Fr){var Sn=typeof Fr;return Fr!=null&&(Sn=="object"||Sn=="function")}function du(Fr){return Fr!=null&&typeof Fr=="object"}function Bu(Fr){if(!du(Fr)||Da(Fr)!=We)return!1;var Sn=ut(Fr);if(Sn===null)return!0;var Jn=le.call(Sn,"constructor")&&Sn.constructor;return typeof Jn=="function"&&Jn instanceof Jn&&U.call(Jn)==St}var Hc=Ne?q(Ne):Oi;function ps(Fr){return so(Fr,Bs(Fr))}function Bs(Fr){return vc(Fr)?Ca(Fr,!0):Do(Fr)}var tu=vi(function(Fr,Sn,Jn){Li(Fr,Sn,Jn)});function il(Fr){return function(){return Fr}}function fl(Fr){return Fr}function Yh(){return!1}y.exports=tu}).call(this,r("IyRk"),r("hOG+")(ze))},"3/ER":function(ze,A,r){"use strict";(function(M){var y=r("Ju5/"),T=typeof exports=="object"&&exports&&!exports.nodeType&&exports,b=T&&typeof M=="object"&&M&&!M.nodeType&&M,u=b&&b.exports===T,H=u?y.a.Buffer:void 0,k=H?H.allocUnsafe:void 0;function Z(oe,ne){if(ne)return oe.slice();var Te=oe.length,at=k?k(Te):new oe.constructor(Te);return oe.copy(at),at}A.a=Z}).call(this,r("Vg/k")(ze))},"3L66":function(ze,A,r){var M=r("MMmD"),y=r("ExA7");function T(b){return y(b)&&M(b)}ze.exports=T},"3WF5":function(ze,A,r){var M=r("eUgh"),y=r("ut/Y"),T=r("l9OW"),b=r("Z0cm");function u(H,k){var Z=b(H)?M:T;return Z(H,y(k,3))}ze.exports=u},"3cYt":function(ze,A){function r(M){return function(y){return M==null?void 0:M[y]}}ze.exports=r},"3j9d":function(ze,A,r){"use strict";var M=r("J+/v"),y=r("MoRW"),T=r("q1tI"),b=r.n(T);function u(et){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?u=function(We){return typeof We}:u=function(We){return We&&typeof Symbol=="function"&&We.constructor===Symbol&&We!==Symbol.prototype?"symbol":typeof We},u(et)}function H(et,Et){if(!(et instanceof Et))throw new TypeError("Cannot call a class as a function")}function k(et,Et){for(var We=0;We<Et.length;We++){var ct=Et[We];ct.enumerable=ct.enumerable||!1,ct.configurable=!0,"value"in ct&&(ct.writable=!0),Object.defineProperty(et,ct.key,ct)}}function Z(et,Et,We){return Et&&k(et.prototype,Et),We&&k(et,We),et}function oe(et,Et){if(typeof Et!="function"&&Et!==null)throw new TypeError("Super expression must either be null or a function");et.prototype=Object.create(Et&&Et.prototype,{constructor:{value:et,writable:!0,configurable:!0}}),Et&&ne(et,Et)}function ne(et,Et){return ne=Object.setPrototypeOf||function(ct,ce){return ct.__proto__=ce,ct},ne(et,Et)}function Te(et){var Et=we();return function(){var ct=I(et),ce;if(Et){var Vt=I(this).constructor;ce=Reflect.construct(ct,arguments,Vt)}else ce=ct.apply(this,arguments);return at(this,ce)}}function at(et,Et){if(Et&&(u(Et)==="object"||typeof Et=="function"))return Et;if(Et!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return ve(et)}function ve(et){if(et===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return et}function we(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(et){return!1}}function I(et){return I=Object.setPrototypeOf?Object.getPrototypeOf:function(We){return We.__proto__||Object.getPrototypeOf(We)},I(et)}var Ce=function(et){oe(We,et);var Et=Te(We);function We(){var ct;H(this,We);for(var ce=arguments.length,Vt=new Array(ce),It=0;It<ce;It++)Vt[It]=arguments[It];return ct=Et.call.apply(Et,[this].concat(Vt)),ct.state={hasError:!1,errorInfo:""},ct}return Z(We,[{key:"componentDidCatch",value:function(ce,Vt){console.log(ce,Vt)}},{key:"render",value:function(){return this.state.hasError?b.a.createElement(y.a,{status:"error",title:"Something went wrong.",extra:this.state.errorInfo}):this.props.children}}],[{key:"getDerivedStateFromError",value:function(ce){return{hasError:!0,errorInfo:ce.message}}}]),We}(b.a.Component);A.a=Ce},"4/ic":function(ze,A,r){var M=r("ZWtO");function y(T){return function(b){return M(b,T)}}ze.exports=y},"406g":function(ze,A,r){"use strict";Object.defineProperty(A,"__esModule",{value:!0}),A.BindingOnSyntax=void 0;var M=r("z4Hk"),y=function(){function T(b){this._binding=b}return T.prototype.onActivation=function(b){return this._binding.onActivation=b,new M.BindingWhenSyntax(this._binding)},T}();A.BindingOnSyntax=y},"44Ds":function(ze,A,r){var M=r("e4Nc"),y="Expected a function";function T(b,u){if(typeof b!="function"||u!=null&&typeof u!="function")throw new TypeError(y);var H=function(){var k=arguments,Z=u?u.apply(this,k):k[0],oe=H.cache;if(oe.has(Z))return oe.get(Z);var ne=b.apply(this,k);return H.cache=oe.set(Z,ne)||oe,ne};return H.cache=new(T.Cache||M),H}T.Cache=M,ze.exports=T},"4AAd":function(ze,A,r){"use strict";r.d(A,"a",function(){return ne});var M=r("KQm4"),y=r("1OyB"),T=r("qx4F"),b=r("bNmP"),u=[],H="ant-scrolling-effect",k=new RegExp("".concat(H),"g"),Z=0,oe=new Map,ne=function Te(at){var ve=this;Object(y.a)(this,Te),this.lockTarget=void 0,this.options=void 0,this.getContainer=function(){var we;return(we=ve.options)===null||we===void 0?void 0:we.container},this.reLock=function(we){var I=u.find(function(Ce){var et=Ce.target;return et===ve.lockTarget});I&&ve.unLock(),ve.options=we,I&&(I.options=we,ve.lock())},this.lock=function(){var we;if(!u.some(function(We){var ct=We.target;return ct===ve.lockTarget})){if(u.some(function(We){var ct,ce=We.options;return(ce==null?void 0:ce.container)===((ct=ve.options)===null||ct===void 0?void 0:ct.container)})){u=[].concat(Object(M.a)(u),[{target:ve.lockTarget,options:ve.options}]);return}var I=0,Ce=((we=ve.options)===null||we===void 0?void 0:we.container)||document.body;(Ce===document.body&&window.innerWidth-document.documentElement.clientWidth>0||Ce.scrollHeight>Ce.clientHeight)&&(I=Object(T.a)());var et=Ce.className;if(u.filter(function(We){var ct,ce=We.options;return(ce==null?void 0:ce.container)===((ct=ve.options)===null||ct===void 0?void 0:ct.container)}).length===0&&oe.set(Ce,Object(b.a)({width:I!==0?"calc(100% - ".concat(I,"px)"):void 0,overflow:"hidden",overflowX:"hidden",overflowY:"hidden"},{element:Ce})),!k.test(et)){var Et="".concat(et," ").concat(H);Ce.className=Et.trim()}u=[].concat(Object(M.a)(u),[{target:ve.lockTarget,options:ve.options}])}},this.unLock=function(){var we,I=u.find(function(Et){var We=Et.target;return We===ve.lockTarget});if(u=u.filter(function(Et){var We=Et.target;return We!==ve.lockTarget}),!(!I||u.some(function(Et){var We,ct=Et.options;return(ct==null?void 0:ct.container)===((We=I.options)===null||We===void 0?void 0:We.container)}))){var Ce=((we=ve.options)===null||we===void 0?void 0:we.container)||document.body,et=Ce.className;!k.test(et)||(Object(b.a)(oe.get(Ce),{element:Ce}),oe.delete(Ce),Ce.className=Ce.className.replace(k,"").trim())}},this.lockTarget=Z++,this.options=at}},"4ZJM":function(ze,A,r){(function(M,y){ze.exports=y()})(this,function(){"use strict";var M,y,T;function b(u,H){if(!M)M=H;else if(!y)y=H;else{var k="var sharedChunk = {}; ("+M+")(sharedChunk); ("+y+")(sharedChunk);",Z={};M(Z),T=H(Z),typeof window!="undefined"&&(T.workerUrl=window.URL.createObjectURL(new Blob([k],{type:"text/javascript"})))}}return b(["exports"],function(u){"use strict";function H(e,t){return e(t={exports:{}},t.exports),t.exports}var k=Z;function Z(e,t,o,m){this.cx=3*e,this.bx=3*(o-e)-this.cx,this.ax=1-this.cx-this.bx,this.cy=3*t,this.by=3*(m-t)-this.cy,this.ay=1-this.cy-this.by,this.p1x=e,this.p1y=m,this.p2x=o,this.p2y=m}Z.prototype.sampleCurveX=function(e){return((this.ax*e+this.bx)*e+this.cx)*e},Z.prototype.sampleCurveY=function(e){return((this.ay*e+this.by)*e+this.cy)*e},Z.prototype.sampleCurveDerivativeX=function(e){return(3*this.ax*e+2*this.bx)*e+this.cx},Z.prototype.solveCurveX=function(e,t){var o,m,E,D,V;for(t===void 0&&(t=1e-6),E=e,V=0;V<8;V++){if(D=this.sampleCurveX(E)-e,Math.abs(D)<t)return E;var ae=this.sampleCurveDerivativeX(E);if(Math.abs(ae)<1e-6)break;E-=D/ae}if((E=e)<(o=0))return o;if(E>(m=1))return m;for(;o<m;){if(D=this.sampleCurveX(E),Math.abs(D-e)<t)return E;e>D?o=E:m=E,E=.5*(m-o)+o}return E},Z.prototype.solve=function(e,t){return this.sampleCurveY(this.solveCurveX(e,t))};var oe=ne;function ne(e,t){this.x=e,this.y=t}ne.prototype={clone:function(){return new ne(this.x,this.y)},add:function(t){return this.clone()._add(t)},sub:function(t){return this.clone()._sub(t)},multByPoint:function(t){return this.clone()._multByPoint(t)},divByPoint:function(t){return this.clone()._divByPoint(t)},mult:function(t){return this.clone()._mult(t)},div:function(t){return this.clone()._div(t)},rotate:function(t){return this.clone()._rotate(t)},rotateAround:function(t,o){return this.clone()._rotateAround(t,o)},matMult:function(t){return this.clone()._matMult(t)},unit:function(){return this.clone()._unit()},perp:function(){return this.clone()._perp()},round:function(){return this.clone()._round()},mag:function(){return Math.sqrt(this.x*this.x+this.y*this.y)},equals:function(t){return this.x===t.x&&this.y===t.y},dist:function(t){return Math.sqrt(this.distSqr(t))},distSqr:function(t){var o=t.x-this.x,m=t.y-this.y;return o*o+m*m},angle:function(){return Math.atan2(this.y,this.x)},angleTo:function(t){return Math.atan2(this.y-t.y,this.x-t.x)},angleWith:function(t){return this.angleWithSep(t.x,t.y)},angleWithSep:function(t,o){return Math.atan2(this.x*o-this.y*t,this.x*t+this.y*o)},_matMult:function(t){var o=t[2]*this.x+t[3]*this.y;return this.x=t[0]*this.x+t[1]*this.y,this.y=o,this},_add:function(t){return this.x+=t.x,this.y+=t.y,this},_sub:function(t){return this.x-=t.x,this.y-=t.y,this},_mult:function(t){return this.x*=t,this.y*=t,this},_div:function(t){return this.x/=t,this.y/=t,this},_multByPoint:function(t){return this.x*=t.x,this.y*=t.y,this},_divByPoint:function(t){return this.x/=t.x,this.y/=t.y,this},_unit:function(){return this._div(this.mag()),this},_perp:function(){var t=this.y;return this.y=this.x,this.x=-t,this},_rotate:function(t){var o=Math.cos(t),m=Math.sin(t),E=m*this.x+o*this.y;return this.x=o*this.x-m*this.y,this.y=E,this},_rotateAround:function(t,o){var m=Math.cos(t),E=Math.sin(t),D=o.y+E*(this.x-o.x)+m*(this.y-o.y);return this.x=o.x+m*(this.x-o.x)-E*(this.y-o.y),this.y=D,this},_round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this}},ne.convert=function(e){return e instanceof ne?e:Array.isArray(e)?new ne(e[0],e[1]):e};var Te=typeof self!="undefined"?self:{},at=Math.pow(2,53)-1;function ve(e,t,o,m){var E=new k(e,t,o,m);return function(D){return E.solve(D)}}var we=ve(.25,.1,.25,1);function I(e,t,o){return Math.min(o,Math.max(t,e))}function Ce(e,t,o){var m=o-t,E=((e-t)%m+m)%m+t;return E===t?o:E}function et(e){for(var t=[],o=arguments.length-1;o-- >0;)t[o]=arguments[o+1];for(var m=0,E=t;m<E.length;m+=1){var D=E[m];for(var V in D)e[V]=D[V]}return e}var Et=1;function We(){return Et++}function ct(){return function e(t){return t?(t^16*Math.random()>>t/4).toString(16):([1e7]+-[1e3]+-4e3+-8e3+-1e11).replace(/[018]/g,e)}()}function ce(e){return!!e&&/^[0-9a-f]{8}-[0-9a-f]{4}-[4][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}$/i.test(e)}function Vt(e,t){e.forEach(function(o){t[o]&&(t[o]=t[o].bind(t))})}function It(e,t){return e.indexOf(t,e.length-t.length)!==-1}function Mt(e,t,o){var m={};for(var E in e)m[E]=t.call(o||this,e[E],E,e);return m}function Tt(e,t,o){var m={};for(var E in e)t.call(o||this,e[E],E,e)&&(m[E]=e[E]);return m}function ye(e){return Array.isArray(e)?e.map(ye):typeof e=="object"&&e?Mt(e,ye):e}var lt={};function yt(e){lt[e]||(typeof console!="undefined"&&console.warn(e),lt[e]=!0)}function Dt(e,t,o){return(o.y-e.y)*(t.x-e.x)>(t.y-e.y)*(o.x-e.x)}function Jt(e){for(var t=0,o=0,m=e.length,E=m-1,D=void 0,V=void 0;o<m;E=o++)t+=((V=e[E]).x-(D=e[o]).x)*(D.y+V.y);return t}function At(){return typeof WorkerGlobalScope!="undefined"&&typeof self!="undefined"&&self instanceof WorkerGlobalScope}function vt(e){var t={};if(e.replace(/(?:^|(?:\s*\,\s*))([^\x00-\x20\(\)<>@\,;\:\\"\/\[\]\?\=\{\}\x7F]+)(?:\=(?:([^\x00-\x20\(\)<>@\,;\:\\"\/\[\]\?\=\{\}\x7F]+)|(?:\"((?:[^"\\]|\\.)*)\")))?/g,function(m,E,D,V){var ae=D||V;return t[E]=!ae||ae.toLowerCase(),""}),t["max-age"]){var o=parseInt(t["max-age"],10);isNaN(o)?delete t["max-age"]:t["max-age"]=o}return t}var ie=null;function J(e){if(ie==null){var t=e.navigator?e.navigator.userAgent:null;ie=!!e.safari||!(!t||!(/\b(iPad|iPhone|iPod)\b/.test(t)||t.match("Safari")&&!t.match("Chrome")))}return ie}function ee(e){try{var t=Te[e];return t.setItem("_mapbox_test_",1),t.removeItem("_mapbox_test_"),!0}catch(o){return!1}}var Ie,me,Ve,Re,bt=Te.performance&&Te.performance.now?Te.performance.now.bind(Te.performance):Date.now.bind(Date),Pt=Te.requestAnimationFrame||Te.mozRequestAnimationFrame||Te.webkitRequestAnimationFrame||Te.msRequestAnimationFrame,ht=Te.cancelAnimationFrame||Te.mozCancelAnimationFrame||Te.webkitCancelAnimationFrame||Te.msCancelAnimationFrame,Ye={now:bt,frame:function(t){var o=Pt(t);return{cancel:function(){return ht(o)}}},getImageData:function(t,o){o===void 0&&(o=0);var m=Te.document.createElement("canvas"),E=m.getContext("2d");if(!E)throw new Error("failed to create canvas 2d context");return m.width=t.width,m.height=t.height,E.drawImage(t,0,0,t.width,t.height),E.getImageData(-o,-o,t.width+2*o,t.height+2*o)},resolveURL:function(t){return Ie||(Ie=Te.document.createElement("a")),Ie.href=t,Ie.href},hardwareConcurrency:Te.navigator&&Te.navigator.hardwareConcurrency||4,get devicePixelRatio(){return Te.devicePixelRatio},get prefersReducedMotion(){return!!Te.matchMedia&&(me==null&&(me=Te.matchMedia("(prefers-reduced-motion: reduce)")),me.matches)}},Ke={API_URL:"https://api.mapbox.com",get EVENTS_URL(){return this.API_URL?this.API_URL.indexOf("https://api.mapbox.cn")===0?"https://events.mapbox.cn/events/v2":this.API_URL.indexOf("https://api.mapbox.com")===0?"https://events.mapbox.com/events/v2":null:null},FEEDBACK_URL:"https://apps.mapbox.com/feedback",REQUIRE_ACCESS_TOKEN:!0,ACCESS_TOKEN:null,MAX_PARALLEL_IMAGE_REQUESTS:16},nt={supported:!1,testSupport:function(t){!Ot&&Re&&(Xe?xt(t):Ve=t)}},Ot=!1,Xe=!1;function xt(e){var t=e.createTexture();e.bindTexture(e.TEXTURE_2D,t);try{if(e.texImage2D(e.TEXTURE_2D,0,e.RGBA,e.RGBA,e.UNSIGNED_BYTE,Re),e.isContextLost())return;nt.supported=!0}catch(o){}e.deleteTexture(t),Ot=!0}Te.document&&((Re=Te.document.createElement("img")).onload=function(){Ve&&xt(Ve),Ve=null,Xe=!0},Re.onerror=function(){Ot=!0,Ve=null},Re.src="data:image/webp;base64,UklGRh4AAABXRUJQVlA4TBEAAAAvAQAAAAfQ//73v/+BiOh/AAA=");var Ne="01",B=function(t,o){this._transformRequestFn=t,this._customAccessToken=o,this._createSkuToken()};function z(e){return e.indexOf("mapbox:")===0}B.prototype._createSkuToken=function(){var e=function(){for(var t="",o=0;o<10;o++)t+="0123456789abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ"[Math.floor(62*Math.random())];return{token:["1",Ne,t].join(""),tokenExpiresAt:Date.now()+432e5}}();this._skuToken=e.token,this._skuTokenExpiresAt=e.tokenExpiresAt},B.prototype._isSkuTokenExpired=function(){return Date.now()>this._skuTokenExpiresAt},B.prototype.transformRequest=function(e,t){return this._transformRequestFn&&this._transformRequestFn(e,t)||{url:e}},B.prototype.normalizeStyleURL=function(e,t){if(!z(e))return e;var o=fe(e);return o.path="/styles/v1"+o.path,this._makeAPIURL(o,this._customAccessToken||t)},B.prototype.normalizeGlyphsURL=function(e,t){if(!z(e))return e;var o=fe(e);return o.path="/fonts/v1"+o.path,this._makeAPIURL(o,this._customAccessToken||t)},B.prototype.normalizeSourceURL=function(e,t){if(!z(e))return e;var o=fe(e);return o.path="/v4/"+o.authority+".json",o.params.push("secure"),this._makeAPIURL(o,this._customAccessToken||t)},B.prototype.normalizeSpriteURL=function(e,t,o,m){var E=fe(e);return z(e)?(E.path="/styles/v1"+E.path+"/sprite"+t+o,this._makeAPIURL(E,this._customAccessToken||m)):(E.path+=""+t+o,Fe(E))},B.prototype.normalizeTileURL=function(e,t){if(this._isSkuTokenExpired()&&this._createSkuToken(),e&&!z(e))return e;var o=fe(e);o.path=o.path.replace(/(\.(png|jpg)\d*)(?=$)/,(Ye.devicePixelRatio>=2||t===512?"@2x":"")+(nt.supported?".webp":"$1")),o.path=o.path.replace(/^.+\/v4\//,"/"),o.path="/v4"+o.path;var m=this._customAccessToken||function(E){for(var D=0,V=E;D<V.length;D+=1){var ae=V[D].match(/^access_token=(.*)$/);if(ae)return ae[1]}return null}(o.params)||Ke.ACCESS_TOKEN;return Ke.REQUIRE_ACCESS_TOKEN&&m&&this._skuToken&&o.params.push("sku="+this._skuToken),this._makeAPIURL(o,m)},B.prototype.canonicalizeTileURL=function(e,t){var o=fe(e);if(!o.path.match(/(^\/v4\/)/)||!o.path.match(/\.[\w]+$/))return e;var m="mapbox://tiles/";m+=o.path.replace("/v4/","");var E=o.params;return t&&(E=E.filter(function(D){return!D.match(/^access_token=/)})),E.length&&(m+="?"+E.join("&")),m},B.prototype.canonicalizeTileset=function(e,t){for(var o=!!t&&z(t),m=[],E=0,D=e.tiles||[];E<D.length;E+=1){var V=D[E];S(V)?m.push(this.canonicalizeTileURL(V,o)):m.push(V)}return m},B.prototype._makeAPIURL=function(e,t){var o="See https://www.mapbox.com/api-documentation/#access-tokens-and-token-scopes",m=fe(Ke.API_URL);if(e.protocol=m.protocol,e.authority=m.authority,e.protocol==="http"){var E=e.params.indexOf("secure");E>=0&&e.params.splice(E,1)}if(m.path!=="/"&&(e.path=""+m.path+e.path),!Ke.REQUIRE_ACCESS_TOKEN)return Fe(e);if(!(t=t||Ke.ACCESS_TOKEN))throw new Error("An API access token is required to use Mapbox GL. "+o);if(t[0]==="s")throw new Error("Use a public access token (pk.*) with Mapbox GL, not a secret access token (sk.*). "+o);return e.params=e.params.filter(function(D){return D.indexOf("access_token")===-1}),e.params.push("access_token="+t),Fe(e)};var q=/^((https?:)?\/\/)?([^\/]+\.)?mapbox\.c(n|om)(\/|\?|$)/i;function S(e){return q.test(e)}var K=/^(\w+):\/\/([^/?]*)(\/[^?]+)?\??(.+)?/;function fe(e){var t=e.match(K);if(!t)throw new Error("Unable to parse URL object");return{protocol:t[1],authority:t[2],path:t[3]||"/",params:t[4]?t[4].split("&"):[]}}function Fe(e){var t=e.params.length?"?"+e.params.join("&"):"";return e.protocol+"://"+e.authority+e.path+t}function pe(e){if(!e)return null;var t=e.split(".");if(!t||t.length!==3)return null;try{return JSON.parse(decodeURIComponent(Te.atob(t[1]).split("").map(function(o){return"%"+("00"+o.charCodeAt(0).toString(16)).slice(-2)}).join("")))}catch(o){return null}}var Me=function(t){this.type=t,this.anonId=null,this.eventData={},this.queue=[],this.pendingRequest=null};Me.prototype.getStorageKey=function(e){var t,o=pe(Ke.ACCESS_TOKEN);return t=o&&o.u?Te.btoa(encodeURIComponent(o.u).replace(/%([0-9A-F]{2})/g,function(m,E){return String.fromCharCode(Number("0x"+E))})):Ke.ACCESS_TOKEN||"",e?"mapbox.eventData."+e+":"+t:"mapbox.eventData:"+t},Me.prototype.fetchEventData=function(){var e=ee("localStorage"),t=this.getStorageKey(),o=this.getStorageKey("uuid");if(e)try{var m=Te.localStorage.getItem(t);m&&(this.eventData=JSON.parse(m));var E=Te.localStorage.getItem(o);E&&(this.anonId=E)}catch(D){yt("Unable to read from LocalStorage")}},Me.prototype.saveEventData=function(){var e=ee("localStorage"),t=this.getStorageKey(),o=this.getStorageKey("uuid");if(e)try{Te.localStorage.setItem(o,this.anonId),Object.keys(this.eventData).length>=1&&Te.localStorage.setItem(t,JSON.stringify(this.eventData))}catch(m){yt("Unable to write to LocalStorage")}},Me.prototype.processRequests=function(e){},Me.prototype.postEvent=function(e,t,o,m){var E=this;if(Ke.EVENTS_URL){var D=fe(Ke.EVENTS_URL);D.params.push("access_token="+(m||Ke.ACCESS_TOKEN||""));var V={event:this.type,created:new Date(e).toISOString(),sdkIdentifier:"mapbox-gl-js",sdkVersion:"1.13.2",skuId:Ne,userId:this.anonId},ae=t?et(V,t):V,je={url:Fe(D),headers:{"Content-Type":"text/plain"},body:JSON.stringify([ae])};this.pendingRequest=it(je,function(tt){E.pendingRequest=null,o(tt),E.saveEventData(),E.processRequests(m)})}},Me.prototype.queueRequest=function(e,t){this.queue.push(e),this.processRequests(t)};var U,le,Le=function(e){function t(){e.call(this,"map.load"),this.success={},this.skuToken=""}return e&&(t.__proto__=e),(t.prototype=Object.create(e&&e.prototype)).constructor=t,t.prototype.postMapLoadEvent=function(o,m,E,D){this.skuToken=E,(Ke.EVENTS_URL&&D||Ke.ACCESS_TOKEN&&Array.isArray(o)&&o.some(function(V){return z(V)||S(V)}))&&this.queueRequest({id:m,timestamp:Date.now()},D)},t.prototype.processRequests=function(o){var m=this;if(!this.pendingRequest&&this.queue.length!==0){var E=this.queue.shift(),D=E.id,V=E.timestamp;D&&this.success[D]||(this.anonId||this.fetchEventData(),ce(this.anonId)||(this.anonId=ct()),this.postEvent(V,{skuToken:this.skuToken},function(ae){ae||D&&(m.success[D]=!0)},o))}},t}(Me),ot=new(function(e){function t(o){e.call(this,"appUserTurnstile"),this._customAccessToken=o}return e&&(t.__proto__=e),(t.prototype=Object.create(e&&e.prototype)).constructor=t,t.prototype.postTurnstileEvent=function(o,m){Ke.EVENTS_URL&&Ke.ACCESS_TOKEN&&Array.isArray(o)&&o.some(function(E){return z(E)||S(E)})&&this.queueRequest(Date.now(),m)},t.prototype.processRequests=function(o){var m=this;if(!this.pendingRequest&&this.queue.length!==0){this.anonId&&this.eventData.lastSuccess&&this.eventData.tokenU||this.fetchEventData();var E=pe(Ke.ACCESS_TOKEN),D=E?E.u:Ke.ACCESS_TOKEN,V=D!==this.eventData.tokenU;ce(this.anonId)||(this.anonId=ct(),V=!0);var ae=this.queue.shift();if(this.eventData.lastSuccess){var je=new Date(this.eventData.lastSuccess),tt=new Date(ae),wt=(ae-this.eventData.lastSuccess)/864e5;V=V||wt>=1||wt<-1||je.getDate()!==tt.getDate()}else V=!0;if(!V)return this.processRequests();this.postEvent(ae,{"enabled.telemetry":!1},function(Bt){Bt||(m.eventData.lastSuccess=ae,m.eventData.tokenU=D)},o)}},t}(Me)),St=ot.postTurnstileEvent.bind(ot),Ge=new Le,Be=Ge.postMapLoadEvent.bind(Ge),Nt=500,kt=50;function ft(){Te.caches&&!U&&(U=Te.caches.open("mapbox-tiles"))}function ut(e){var t=e.indexOf("?");return t<0?e:e.slice(0,t)}var Ze,Qt=1/0;function ar(){return Ze==null&&(Ze=Te.OffscreenCanvas&&new Te.OffscreenCanvas(1,1).getContext("2d")&&typeof Te.createImageBitmap=="function"),Ze}var zr={Unknown:"Unknown",Style:"Style",Source:"Source",Tile:"Tile",Glyphs:"Glyphs",SpriteImage:"SpriteImage",SpriteJSON:"SpriteJSON",Image:"Image"};typeof Object.freeze=="function"&&Object.freeze(zr);var qr=function(e){function t(o,m,E){m===401&&S(E)&&(o+=": you may have provided an invalid Mapbox access token. See https://www.mapbox.com/api-documentation/#access-tokens-and-token-scopes"),e.call(this,o),this.status=m,this.url=E,this.name=this.constructor.name,this.message=o}return e&&(t.__proto__=e),(t.prototype=Object.create(e&&e.prototype)).constructor=t,t.prototype.toString=function(){return this.name+": "+this.message+" ("+this.status+"): "+this.url},t}(Error),tn=At()?function(){return self.worker&&self.worker.referrer}:function(){return(Te.location.protocol==="blob:"?Te.parent:Te).location.href},_n,Bn,ya=function(t,o){if(!(/^file:/.test(m=t.url)||/^file:/.test(tn())&&!/^\w+:/.test(m))){if(Te.fetch&&Te.Request&&Te.AbortController&&Te.Request.prototype.hasOwnProperty("signal"))return function(E,D){var V,ae=new Te.AbortController,je=new Te.Request(E.url,{method:E.method||"GET",body:E.body,credentials:E.credentials,headers:E.headers,referrer:tn(),signal:ae.signal}),tt=!1,wt=!1,Bt=(V=je.url).indexOf("sku=")>0&&S(V);E.type==="json"&&je.headers.set("Accept","application/json");var Kt=function(Ar,$r,Gr){if(!wt){if(Ar&&Ar.message!=="SecurityError"&&yt(Ar),$r&&Gr)return pr($r);var gn=Date.now();Te.fetch(je).then(function(Dn){if(Dn.ok){var Kn=Bt?Dn.clone():null;return pr(Dn,Kn,gn)}return D(new qr(Dn.statusText,Dn.status,E.url))}).catch(function(Dn){Dn.code!==20&&D(new Error(Dn.message))})}},pr=function(Ar,$r,Gr){(E.type==="arrayBuffer"?Ar.arrayBuffer():E.type==="json"?Ar.json():Ar.text()).then(function(gn){wt||($r&&Gr&&function(Dn,Kn,ha){if(ft(),U){var da={status:Kn.status,statusText:Kn.statusText,headers:new Te.Headers};Kn.headers.forEach(function(ti,Hi){return da.headers.set(Hi,ti)});var Ja=vt(Kn.headers.get("Cache-Control")||"");Ja["no-store"]||(Ja["max-age"]&&da.headers.set("Expires",new Date(ha+1e3*Ja["max-age"]).toUTCString()),new Date(da.headers.get("Expires")).getTime()-ha<42e4||function(ti,Hi){if(le===void 0)try{new Response(new ReadableStream),le=!0}catch(co){le=!1}le?Hi(ti.body):ti.blob().then(Hi)}(Kn,function(ti){var Hi=new Te.Response(ti,da);ft(),U&&U.then(function(co){return co.put(ut(Dn.url),Hi)}).catch(function(co){return yt(co.message)})}))}}(je,$r,Gr),tt=!0,D(null,gn,Ar.headers.get("Cache-Control"),Ar.headers.get("Expires")))}).catch(function(gn){wt||D(new Error(gn.message))})};return Bt?function(Ir,Ar){if(ft(),!U)return Ar(null);var $r=ut(Ir.url);U.then(function(Gr){Gr.match($r).then(function(gn){var Dn=function(Kn){if(!Kn)return!1;var ha=new Date(Kn.headers.get("Expires")||0),da=vt(Kn.headers.get("Cache-Control")||"");return ha>Date.now()&&!da["no-cache"]}(gn);Gr.delete($r),Dn&&Gr.put($r,gn.clone()),Ar(null,gn,Dn)}).catch(Ar)}).catch(Ar)}(je,Kt):Kt(null,null),{cancel:function(){wt=!0,tt||ae.abort()}}}(t,o);if(At()&&self.worker&&self.worker.actor)return self.worker.actor.send("getResource",t,o,void 0,!0)}var m;return function(E,D){var V=new Te.XMLHttpRequest;for(var ae in V.open(E.method||"GET",E.url,!0),E.type==="arrayBuffer"&&(V.responseType="arraybuffer"),E.headers)V.setRequestHeader(ae,E.headers[ae]);return E.type==="json"&&(V.responseType="text",V.setRequestHeader("Accept","application/json")),V.withCredentials=E.credentials==="include",V.onerror=function(){D(new Error(V.statusText))},V.onload=function(){if((V.status>=200&&V.status<300||V.status===0)&&V.response!==null){var je=V.response;if(E.type==="json")try{je=JSON.parse(V.response)}catch(tt){return D(tt)}D(null,je,V.getResponseHeader("Cache-Control"),V.getResponseHeader("Expires"))}else D(new qr(V.statusText,V.status,E.url))},V.send(E.body),{cancel:function(){return V.abort()}}}(t,o)},Tr=function(t,o){return ya(et(t,{type:"arrayBuffer"}),o)},it=function(t,o){return ya(et(t,{method:"POST"}),o)},ue="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAAC0lEQVQYV2NgAAIAAAUAAarVyFEAAAAASUVORK5CYII=";_n=[],Bn=0;var ge=function e(t,o){if(nt.supported&&(t.headers||(t.headers={}),t.headers.accept="image/webp,*/*"),Bn>=Ke.MAX_PARALLEL_IMAGE_REQUESTS){var m={requestParameters:t,callback:o,cancelled:!1,cancel:function(){this.cancelled=!0}};return _n.push(m),m}Bn++;var E=!1,D=function(){if(!E)for(E=!0,Bn--;_n.length&&Bn<Ke.MAX_PARALLEL_IMAGE_REQUESTS;){var je=_n.shift();je.cancelled||(je.cancel=e(je.requestParameters,je.callback).cancel)}},V=Tr(t,function(ae,je,tt,wt){D(),ae?o(ae):je&&(ar()?function(Bt,Kt){var pr=new Te.Blob([new Uint8Array(Bt)],{type:"image/png"});Te.createImageBitmap(pr).then(function(Ir){Kt(null,Ir)}).catch(function(Ir){Kt(new Error("Could not load image because of "+Ir.message+". Please make sure to use a supported image type such as PNG or JPEG. Note that SVGs are not supported."))})}(je,o):function(Bt,Kt,pr,Ir){var Ar=new Te.Image,$r=Te.URL;Ar.onload=function(){Kt(null,Ar),$r.revokeObjectURL(Ar.src),Ar.onload=null,Te.requestAnimationFrame(function(){Ar.src=ue})},Ar.onerror=function(){return Kt(new Error("Could not load image. Please make sure to use a supported image type such as PNG or JPEG. Note that SVGs are not supported."))};var Gr=new Te.Blob([new Uint8Array(Bt)],{type:"image/png"});Ar.cacheControl=pr,Ar.expires=Ir,Ar.src=Bt.byteLength?$r.createObjectURL(Gr):ue}(je,o,tt,wt))});return{cancel:function(){V.cancel(),D()}}};function De(e,t,o){o[e]&&o[e].indexOf(t)!==-1||(o[e]=o[e]||[],o[e].push(t))}function Ee(e,t,o){if(o&&o[e]){var m=o[e].indexOf(t);m!==-1&&o[e].splice(m,1)}}var be=function(t,o){o===void 0&&(o={}),et(this,o),this.type=t},rt=function(e){function t(o,m){m===void 0&&(m={}),e.call(this,"error",et({error:o},m))}return e&&(t.__proto__=e),(t.prototype=Object.create(e&&e.prototype)).constructor=t,t}(be),de=function(){};de.prototype.on=function(e,t){return this._listeners=this._listeners||{},De(e,t,this._listeners),this},de.prototype.off=function(e,t){return Ee(e,t,this._listeners),Ee(e,t,this._oneTimeListeners),this},de.prototype.once=function(e,t){return this._oneTimeListeners=this._oneTimeListeners||{},De(e,t,this._oneTimeListeners),this},de.prototype.fire=function(e,t){typeof e=="string"&&(e=new be(e,t||{}));var o=e.type;if(this.listens(o)){e.target=this;for(var m=0,E=this._listeners&&this._listeners[o]?this._listeners[o].slice():[];m<E.length;m+=1)E[m].call(this,e);for(var D=0,V=this._oneTimeListeners&&this._oneTimeListeners[o]?this._oneTimeListeners[o].slice():[];D<V.length;D+=1){var ae=V[D];Ee(o,ae,this._oneTimeListeners),ae.call(this,e)}var je=this._eventedParent;je&&(et(e,typeof this._eventedParentData=="function"?this._eventedParentData():this._eventedParentData),je.fire(e))}else e instanceof rt&&console.error(e.error);return this},de.prototype.listens=function(e){return this._listeners&&this._listeners[e]&&this._listeners[e].length>0||this._oneTimeListeners&&this._oneTimeListeners[e]&&this._oneTimeListeners[e].length>0||this._eventedParent&&this._eventedParent.listens(e)},de.prototype.setEventedParent=function(e,t){return this._eventedParent=e,this._eventedParentData=t,this};var Pe={$version:8,$root:{version:{required:!0,type:"enum",values:[8]},name:{type:"string"},metadata:{type:"*"},center:{type:"array",value:"number"},zoom:{type:"number"},bearing:{type:"number",default:0,period:360,units:"degrees"},pitch:{type:"number",default:0,units:"degrees"},light:{type:"light"},sources:{required:!0,type:"sources"},sprite:{type:"string"},glyphs:{type:"string"},transition:{type:"transition"},layers:{required:!0,type:"array",value:"layer"}},sources:{"*":{type:"source"}},source:["source_vector","source_raster","source_raster_dem","source_geojson","source_video","source_image"],source_vector:{type:{required:!0,type:"enum",values:{vector:{}}},url:{type:"string"},tiles:{type:"array",value:"string"},bounds:{type:"array",value:"number",length:4,default:[-180,-85.051129,180,85.051129]},scheme:{type:"enum",values:{xyz:{},tms:{}},default:"xyz"},minzoom:{type:"number",default:0},maxzoom:{type:"number",default:22},attribution:{type:"string"},promoteId:{type:"promoteId"},volatile:{type:"boolean",default:!1},"*":{type:"*"}},source_raster:{type:{required:!0,type:"enum",values:{raster:{}}},url:{type:"string"},tiles:{type:"array",value:"string"},bounds:{type:"array",value:"number",length:4,default:[-180,-85.051129,180,85.051129]},minzoom:{type:"number",default:0},maxzoom:{type:"number",default:22},tileSize:{type:"number",default:512,units:"pixels"},scheme:{type:"enum",values:{xyz:{},tms:{}},default:"xyz"},attribution:{type:"string"},volatile:{type:"boolean",default:!1},"*":{type:"*"}},source_raster_dem:{type:{required:!0,type:"enum",values:{"raster-dem":{}}},url:{type:"string"},tiles:{type:"array",value:"string"},bounds:{type:"array",value:"number",length:4,default:[-180,-85.051129,180,85.051129]},minzoom:{type:"number",default:0},maxzoom:{type:"number",default:22},tileSize:{type:"number",default:512,units:"pixels"},attribution:{type:"string"},encoding:{type:"enum",values:{terrarium:{},mapbox:{}},default:"mapbox"},volatile:{type:"boolean",default:!1},"*":{type:"*"}},source_geojson:{type:{required:!0,type:"enum",values:{geojson:{}}},data:{type:"*"},maxzoom:{type:"number",default:18},attribution:{type:"string"},buffer:{type:"number",default:128,maximum:512,minimum:0},filter:{type:"*"},tolerance:{type:"number",default:.375},cluster:{type:"boolean",default:!1},clusterRadius:{type:"number",default:50,minimum:0},clusterMaxZoom:{type:"number"},clusterMinPoints:{type:"number"},clusterProperties:{type:"*"},lineMetrics:{type:"boolean",default:!1},generateId:{type:"boolean",default:!1},promoteId:{type:"promoteId"}},source_video:{type:{required:!0,type:"enum",values:{video:{}}},urls:{required:!0,type:"array",value:"string"},coordinates:{required:!0,type:"array",length:4,value:{type:"array",length:2,value:"number"}}},source_image:{type:{required:!0,type:"enum",values:{image:{}}},url:{required:!0,type:"string"},coordinates:{required:!0,type:"array",length:4,value:{type:"array",length:2,value:"number"}}},layer:{id:{type:"string",required:!0},type:{type:"enum",values:{fill:{},line:{},symbol:{},circle:{},heatmap:{},"fill-extrusion":{},raster:{},hillshade:{},background:{}},required:!0},metadata:{type:"*"},source:{type:"string"},"source-layer":{type:"string"},minzoom:{type:"number",minimum:0,maximum:24},maxzoom:{type:"number",minimum:0,maximum:24},filter:{type:"filter"},layout:{type:"layout"},paint:{type:"paint"}},layout:["layout_fill","layout_line","layout_circle","layout_heatmap","layout_fill-extrusion","layout_symbol","layout_raster","layout_hillshade","layout_background"],layout_background:{visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},layout_fill:{"fill-sort-key":{type:"number",expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},layout_circle:{"circle-sort-key":{type:"number",expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},layout_heatmap:{visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},"layout_fill-extrusion":{visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},layout_line:{"line-cap":{type:"enum",values:{butt:{},round:{},square:{}},default:"butt",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"line-join":{type:"enum",values:{bevel:{},round:{},miter:{}},default:"miter",expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"line-miter-limit":{type:"number",default:2,requires:[{"line-join":"miter"}],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"line-round-limit":{type:"number",default:1.05,requires:[{"line-join":"round"}],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"line-sort-key":{type:"number",expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},layout_symbol:{"symbol-placement":{type:"enum",values:{point:{},line:{},"line-center":{}},default:"point",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"symbol-spacing":{type:"number",default:250,minimum:1,units:"pixels",requires:[{"symbol-placement":"line"}],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"symbol-avoid-edges":{type:"boolean",default:!1,expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"symbol-sort-key":{type:"number",expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"symbol-z-order":{type:"enum",values:{auto:{},"viewport-y":{},source:{}},default:"auto",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-allow-overlap":{type:"boolean",default:!1,requires:["icon-image"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-ignore-placement":{type:"boolean",default:!1,requires:["icon-image"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-optional":{type:"boolean",default:!1,requires:["icon-image","text-field"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-rotation-alignment":{type:"enum",values:{map:{},viewport:{},auto:{}},default:"auto",requires:["icon-image"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-size":{type:"number",default:1,minimum:0,units:"factor of the original icon size",requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"icon-text-fit":{type:"enum",values:{none:{},width:{},height:{},both:{}},default:"none",requires:["icon-image","text-field"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-text-fit-padding":{type:"array",value:"number",length:4,default:[0,0,0,0],units:"pixels",requires:["icon-image","text-field",{"icon-text-fit":["both","width","height"]}],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"icon-image":{type:"resolvedImage",tokens:!0,expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"icon-rotate":{type:"number",default:0,period:360,units:"degrees",requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"icon-padding":{type:"number",default:2,minimum:0,units:"pixels",requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"icon-keep-upright":{type:"boolean",default:!1,requires:["icon-image",{"icon-rotation-alignment":"map"},{"symbol-placement":["line","line-center"]}],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-offset":{type:"array",value:"number",length:2,default:[0,0],requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"icon-anchor":{type:"enum",values:{center:{},left:{},right:{},top:{},bottom:{},"top-left":{},"top-right":{},"bottom-left":{},"bottom-right":{}},default:"center",requires:["icon-image"],expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"icon-pitch-alignment":{type:"enum",values:{map:{},viewport:{},auto:{}},default:"auto",requires:["icon-image"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-pitch-alignment":{type:"enum",values:{map:{},viewport:{},auto:{}},default:"auto",requires:["text-field"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-rotation-alignment":{type:"enum",values:{map:{},viewport:{},auto:{}},default:"auto",requires:["text-field"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-field":{type:"formatted",default:"",tokens:!0,expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-font":{type:"array",value:"string",default:["Open Sans Regular","Arial Unicode MS Regular"],requires:["text-field"],expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-size":{type:"number",default:16,minimum:0,units:"pixels",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-max-width":{type:"number",default:10,minimum:0,units:"ems",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-line-height":{type:"number",default:1.2,units:"ems",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"text-letter-spacing":{type:"number",default:0,units:"ems",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-justify":{type:"enum",values:{auto:{},left:{},center:{},right:{}},default:"center",requires:["text-field"],expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-radial-offset":{type:"number",units:"ems",default:0,requires:["text-field"],"property-type":"data-driven",expression:{interpolated:!0,parameters:["zoom","feature"]}},"text-variable-anchor":{type:"array",value:"enum",values:{center:{},left:{},right:{},top:{},bottom:{},"top-left":{},"top-right":{},"bottom-left":{},"bottom-right":{}},requires:["text-field",{"symbol-placement":["point"]}],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-anchor":{type:"enum",values:{center:{},left:{},right:{},top:{},bottom:{},"top-left":{},"top-right":{},"bottom-left":{},"bottom-right":{}},default:"center",requires:["text-field",{"!":"text-variable-anchor"}],expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-max-angle":{type:"number",default:45,units:"degrees",requires:["text-field",{"symbol-placement":["line","line-center"]}],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"text-writing-mode":{type:"array",value:"enum",values:{horizontal:{},vertical:{}},requires:["text-field",{"symbol-placement":["point"]}],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-rotate":{type:"number",default:0,period:360,units:"degrees",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-padding":{type:"number",default:2,minimum:0,units:"pixels",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"text-keep-upright":{type:"boolean",default:!0,requires:["text-field",{"text-rotation-alignment":"map"},{"symbol-placement":["line","line-center"]}],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-transform":{type:"enum",values:{none:{},uppercase:{},lowercase:{}},default:"none",requires:["text-field"],expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-offset":{type:"array",value:"number",units:"ems",length:2,default:[0,0],requires:["text-field",{"!":"text-radial-offset"}],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-allow-overlap":{type:"boolean",default:!1,requires:["text-field"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-ignore-placement":{type:"boolean",default:!1,requires:["text-field"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-optional":{type:"boolean",default:!1,requires:["text-field","icon-image"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},layout_raster:{visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},layout_hillshade:{visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},filter:{type:"array",value:"*"},filter_operator:{type:"enum",values:{"==":{},"!=":{},">":{},">=":{},"<":{},"<=":{},in:{},"!in":{},all:{},any:{},none:{},has:{},"!has":{},within:{}}},geometry_type:{type:"enum",values:{Point:{},LineString:{},Polygon:{}}},function:{expression:{type:"expression"},stops:{type:"array",value:"function_stop"},base:{type:"number",default:1,minimum:0},property:{type:"string",default:"$zoom"},type:{type:"enum",values:{identity:{},exponential:{},interval:{},categorical:{}},default:"exponential"},colorSpace:{type:"enum",values:{rgb:{},lab:{},hcl:{}},default:"rgb"},default:{type:"*",required:!1}},function_stop:{type:"array",minimum:0,maximum:24,value:["number","color"],length:2},expression:{type:"array",value:"*",minimum:1},light:{anchor:{type:"enum",default:"viewport",values:{map:{},viewport:{}},"property-type":"data-constant",transition:!1,expression:{interpolated:!1,parameters:["zoom"]}},position:{type:"array",default:[1.15,210,30],length:3,value:"number","property-type":"data-constant",transition:!0,expression:{interpolated:!0,parameters:["zoom"]}},color:{type:"color","property-type":"data-constant",default:"#ffffff",expression:{interpolated:!0,parameters:["zoom"]},transition:!0},intensity:{type:"number","property-type":"data-constant",default:.5,minimum:0,maximum:1,expression:{interpolated:!0,parameters:["zoom"]},transition:!0}},paint:["paint_fill","paint_line","paint_circle","paint_heatmap","paint_fill-extrusion","paint_symbol","paint_raster","paint_hillshade","paint_background"],paint_fill:{"fill-antialias":{type:"boolean",default:!0,expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"fill-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-color":{type:"color",default:"#000000",transition:!0,requires:[{"!":"fill-pattern"}],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-outline-color":{type:"color",transition:!0,requires:[{"!":"fill-pattern"},{"fill-antialias":!0}],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-translate":{type:"array",value:"number",length:2,default:[0,0],transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"fill-translate-anchor":{type:"enum",values:{map:{},viewport:{}},default:"map",requires:["fill-translate"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"fill-pattern":{type:"resolvedImage",transition:!0,expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"cross-faded-data-driven"}},"paint_fill-extrusion":{"fill-extrusion-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"fill-extrusion-color":{type:"color",default:"#000000",transition:!0,requires:[{"!":"fill-extrusion-pattern"}],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-extrusion-translate":{type:"array",value:"number",length:2,default:[0,0],transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"fill-extrusion-translate-anchor":{type:"enum",values:{map:{},viewport:{}},default:"map",requires:["fill-extrusion-translate"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"fill-extrusion-pattern":{type:"resolvedImage",transition:!0,expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"cross-faded-data-driven"},"fill-extrusion-height":{type:"number",default:0,minimum:0,units:"meters",transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-extrusion-base":{type:"number",default:0,minimum:0,units:"meters",transition:!0,requires:["fill-extrusion-height"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-extrusion-vertical-gradient":{type:"boolean",default:!0,transition:!1,expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"}},paint_line:{"line-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-color":{type:"color",default:"#000000",transition:!0,requires:[{"!":"line-pattern"}],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-translate":{type:"array",value:"number",length:2,default:[0,0],transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"line-translate-anchor":{type:"enum",values:{map:{},viewport:{}},default:"map",requires:["line-translate"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"line-width":{type:"number",default:1,minimum:0,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-gap-width":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-offset":{type:"number",default:0,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-blur":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-dasharray":{type:"array",value:"number",minimum:0,transition:!0,units:"line widths",requires:[{"!":"line-pattern"}],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"cross-faded"},"line-pattern":{type:"resolvedImage",transition:!0,expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"cross-faded-data-driven"},"line-gradient":{type:"color",transition:!1,requires:[{"!":"line-dasharray"},{"!":"line-pattern"},{source:"geojson",has:{lineMetrics:!0}}],expression:{interpolated:!0,parameters:["line-progress"]},"property-type":"color-ramp"}},paint_circle:{"circle-radius":{type:"number",default:5,minimum:0,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-color":{type:"color",default:"#000000",transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-blur":{type:"number",default:0,transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-translate":{type:"array",value:"number",length:2,default:[0,0],transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"circle-translate-anchor":{type:"enum",values:{map:{},viewport:{}},default:"map",requires:["circle-translate"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"circle-pitch-scale":{type:"enum",values:{map:{},viewport:{}},default:"map",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"circle-pitch-alignment":{type:"enum",values:{map:{},viewport:{}},default:"viewport",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"circle-stroke-width":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-stroke-color":{type:"color",default:"#000000",transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-stroke-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"}},paint_heatmap:{"heatmap-radius":{type:"number",default:30,minimum:1,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"heatmap-weight":{type:"number",default:1,minimum:0,transition:!1,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"heatmap-intensity":{type:"number",default:1,minimum:0,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"heatmap-color":{type:"color",default:["interpolate",["linear"],["heatmap-density"],0,"rgba(0, 0, 255, 0)",.1,"royalblue",.3,"cyan",.5,"lime",.7,"yellow",1,"red"],transition:!1,expression:{interpolated:!0,parameters:["heatmap-density"]},"property-type":"color-ramp"},"heatmap-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"}},paint_symbol:{"icon-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"icon-color":{type:"color",default:"#000000",transition:!0,requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"icon-halo-color":{type:"color",default:"rgba(0, 0, 0, 0)",transition:!0,requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"icon-halo-width":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"icon-halo-blur":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"icon-translate":{type:"array",value:"number",length:2,default:[0,0],transition:!0,units:"pixels",requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"icon-translate-anchor":{type:"enum",values:{map:{},viewport:{}},default:"map",requires:["icon-image","icon-translate"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"text-color":{type:"color",default:"#000000",transition:!0,overridable:!0,requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"text-halo-color":{type:"color",default:"rgba(0, 0, 0, 0)",transition:!0,requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"text-halo-width":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"text-halo-blur":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"text-translate":{type:"array",value:"number",length:2,default:[0,0],transition:!0,units:"pixels",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"text-translate-anchor":{type:"enum",values:{map:{},viewport:{}},default:"map",requires:["text-field","text-translate"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"}},paint_raster:{"raster-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-hue-rotate":{type:"number",default:0,period:360,transition:!0,units:"degrees",expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-brightness-min":{type:"number",default:0,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-brightness-max":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-saturation":{type:"number",default:0,minimum:-1,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-contrast":{type:"number",default:0,minimum:-1,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-resampling":{type:"enum",values:{linear:{},nearest:{}},default:"linear",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"raster-fade-duration":{type:"number",default:300,minimum:0,transition:!1,units:"milliseconds",expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"}},paint_hillshade:{"hillshade-illumination-direction":{type:"number",default:335,minimum:0,maximum:359,transition:!1,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"hillshade-illumination-anchor":{type:"enum",values:{map:{},viewport:{}},default:"viewport",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"hillshade-exaggeration":{type:"number",default:.5,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"hillshade-shadow-color":{type:"color",default:"#000000",transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"hillshade-highlight-color":{type:"color",default:"#FFFFFF",transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"hillshade-accent-color":{type:"color",default:"#000000",transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"}},paint_background:{"background-color":{type:"color",default:"#000000",transition:!0,requires:[{"!":"background-pattern"}],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"background-pattern":{type:"resolvedImage",transition:!0,expression:{interpolated:!1,parameters:["zoom"]},"property-type":"cross-faded"},"background-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"}},transition:{duration:{type:"number",default:300,minimum:0,units:"milliseconds"},delay:{type:"number",default:0,minimum:0,units:"milliseconds"}},"property-type":{"data-driven":{type:"property-type"},"cross-faded":{type:"property-type"},"cross-faded-data-driven":{type:"property-type"},"color-ramp":{type:"property-type"},"data-constant":{type:"property-type"},constant:{type:"property-type"}},promoteId:{"*":{type:"string"}}},xe=function(t,o,m,E){this.message=(t?t+": ":"")+m,E&&(this.identifier=E),o!=null&&o.__line__&&(this.line=o.__line__)};function Oe(e){var t=e.value;return t?[new xe(e.key,t,"constants have been deprecated as of v8")]:[]}function dt(e){for(var t=[],o=arguments.length-1;o-- >0;)t[o]=arguments[o+1];for(var m=0,E=t;m<E.length;m+=1){var D=E[m];for(var V in D)e[V]=D[V]}return e}function Gt(e){return e instanceof Number||e instanceof String||e instanceof Boolean?e.valueOf():e}function $t(e){if(Array.isArray(e))return e.map($t);if(e instanceof Object&&!(e instanceof Number||e instanceof String||e instanceof Boolean)){var t={};for(var o in e)t[o]=$t(e[o]);return t}return Gt(e)}var nr=function(e){function t(o,m){e.call(this,m),this.message=m,this.key=o}return e&&(t.__proto__=e),(t.prototype=Object.create(e&&e.prototype)).constructor=t,t}(Error),lr=function(t,o){o===void 0&&(o=[]),this.parent=t,this.bindings={};for(var m=0,E=o;m<E.length;m+=1){var D=E[m];this.bindings[D[0]]=D[1]}};lr.prototype.concat=function(e){return new lr(this,e)},lr.prototype.get=function(e){if(this.bindings[e])return this.bindings[e];if(this.parent)return this.parent.get(e);throw new Error(e+" not found in scope.")},lr.prototype.has=function(e){return!!this.bindings[e]||!!this.parent&&this.parent.has(e)};var Dr={kind:"null"},Pr={kind:"number"},Wr={kind:"string"},an={kind:"boolean"},dn={kind:"color"},Rn={kind:"object"},zn={kind:"value"},Qn={kind:"collator"},Ma={kind:"formatted"},Ca={kind:"resolvedImage"};function ia(e,t){return{kind:"array",itemType:e,N:t}}function _a(e){if(e.kind==="array"){var t=_a(e.itemType);return typeof e.N=="number"?"array<"+t+", "+e.N+">":e.itemType.kind==="value"?"array":"array<"+t+">"}return e.kind}var $a=[Dr,Pr,Wr,an,dn,Ma,Rn,ia(zn),Ca];function ra(e,t){if(t.kind==="error")return null;if(e.kind==="array"){if(t.kind==="array"&&(t.N===0&&t.itemType.kind==="value"||!ra(e.itemType,t.itemType))&&(typeof e.N!="number"||e.N===t.N))return null}else{if(e.kind===t.kind)return null;if(e.kind==="value"){for(var o=0,m=$a;o<m.length;o+=1)if(!ra(m[o],t))return null}}return"Expected "+_a(e)+" but found "+_a(t)+" instead."}function ni(e,t){return t.some(function(o){return o.kind===e.kind})}function Da(e,t){return t.some(function(o){return o==="null"?e===null:o==="array"?Array.isArray(e):o==="object"?e&&!Array.isArray(e)&&typeof e=="object":o===typeof e})}var Fa=H(function(e,t){var o={transparent:[0,0,0,0],aliceblue:[240,248,255,1],antiquewhite:[250,235,215,1],aqua:[0,255,255,1],aquamarine:[127,255,212,1],azure:[240,255,255,1],beige:[245,245,220,1],bisque:[255,228,196,1],black:[0,0,0,1],blanchedalmond:[255,235,205,1],blue:[0,0,255,1],blueviolet:[138,43,226,1],brown:[165,42,42,1],burlywood:[222,184,135,1],cadetblue:[95,158,160,1],chartreuse:[127,255,0,1],chocolate:[210,105,30,1],coral:[255,127,80,1],cornflowerblue:[100,149,237,1],cornsilk:[255,248,220,1],crimson:[220,20,60,1],cyan:[0,255,255,1],darkblue:[0,0,139,1],darkcyan:[0,139,139,1],darkgoldenrod:[184,134,11,1],darkgray:[169,169,169,1],darkgreen:[0,100,0,1],darkgrey:[169,169,169,1],darkkhaki:[189,183,107,1],darkmagenta:[139,0,139,1],darkolivegreen:[85,107,47,1],darkorange:[255,140,0,1],darkorchid:[153,50,204,1],darkred:[139,0,0,1],darksalmon:[233,150,122,1],darkseagreen:[143,188,143,1],darkslateblue:[72,61,139,1],darkslategray:[47,79,79,1],darkslategrey:[47,79,79,1],darkturquoise:[0,206,209,1],darkviolet:[148,0,211,1],deeppink:[255,20,147,1],deepskyblue:[0,191,255,1],dimgray:[105,105,105,1],dimgrey:[105,105,105,1],dodgerblue:[30,144,255,1],firebrick:[178,34,34,1],floralwhite:[255,250,240,1],forestgreen:[34,139,34,1],fuchsia:[255,0,255,1],gainsboro:[220,220,220,1],ghostwhite:[248,248,255,1],gold:[255,215,0,1],goldenrod:[218,165,32,1],gray:[128,128,128,1],green:[0,128,0,1],greenyellow:[173,255,47,1],grey:[128,128,128,1],honeydew:[240,255,240,1],hotpink:[255,105,180,1],indianred:[205,92,92,1],indigo:[75,0,130,1],ivory:[255,255,240,1],khaki:[240,230,140,1],lavender:[230,230,250,1],lavenderblush:[255,240,245,1],lawngreen:[124,252,0,1],lemonchiffon:[255,250,205,1],lightblue:[173,216,230,1],lightcoral:[240,128,128,1],lightcyan:[224,255,255,1],lightgoldenrodyellow:[250,250,210,1],lightgray:[211,211,211,1],lightgreen:[144,238,144,1],lightgrey:[211,211,211,1],lightpink:[255,182,193,1],lightsalmon:[255,160,122,1],lightseagreen:[32,178,170,1],lightskyblue:[135,206,250,1],lightslategray:[119,136,153,1],lightslategrey:[119,136,153,1],lightsteelblue:[176,196,222,1],lightyellow:[255,255,224,1],lime:[0,255,0,1],limegreen:[50,205,50,1],linen:[250,240,230,1],magenta:[255,0,255,1],maroon:[128,0,0,1],mediumaquamarine:[102,205,170,1],mediumblue:[0,0,205,1],mediumorchid:[186,85,211,1],mediumpurple:[147,112,219,1],mediumseagreen:[60,179,113,1],mediumslateblue:[123,104,238,1],mediumspringgreen:[0,250,154,1],mediumturquoise:[72,209,204,1],mediumvioletred:[199,21,133,1],midnightblue:[25,25,112,1],mintcream:[245,255,250,1],mistyrose:[255,228,225,1],moccasin:[255,228,181,1],navajowhite:[255,222,173,1],navy:[0,0,128,1],oldlace:[253,245,230,1],olive:[128,128,0,1],olivedrab:[107,142,35,1],orange:[255,165,0,1],orangered:[255,69,0,1],orchid:[218,112,214,1],palegoldenrod:[238,232,170,1],palegreen:[152,251,152,1],paleturquoise:[175,238,238,1],palevioletred:[219,112,147,1],papayawhip:[255,239,213,1],peachpuff:[255,218,185,1],peru:[205,133,63,1],pink:[255,192,203,1],plum:[221,160,221,1],powderblue:[176,224,230,1],purple:[128,0,128,1],rebeccapurple:[102,51,153,1],red:[255,0,0,1],rosybrown:[188,143,143,1],royalblue:[65,105,225,1],saddlebrown:[139,69,19,1],salmon:[250,128,114,1],sandybrown:[244,164,96,1],seagreen:[46,139,87,1],seashell:[255,245,238,1],sienna:[160,82,45,1],silver:[192,192,192,1],skyblue:[135,206,235,1],slateblue:[106,90,205,1],slategray:[112,128,144,1],slategrey:[112,128,144,1],snow:[255,250,250,1],springgreen:[0,255,127,1],steelblue:[70,130,180,1],tan:[210,180,140,1],teal:[0,128,128,1],thistle:[216,191,216,1],tomato:[255,99,71,1],turquoise:[64,224,208,1],violet:[238,130,238,1],wheat:[245,222,179,1],white:[255,255,255,1],whitesmoke:[245,245,245,1],yellow:[255,255,0,1],yellowgreen:[154,205,50,1]};function m(ae){return(ae=Math.round(ae))<0?0:ae>255?255:ae}function E(ae){return m(ae[ae.length-1]==="%"?parseFloat(ae)/100*255:parseInt(ae))}function D(ae){return(je=ae[ae.length-1]==="%"?parseFloat(ae)/100:parseFloat(ae))<0?0:je>1?1:je;var je}function V(ae,je,tt){return tt<0?tt+=1:tt>1&&(tt-=1),6*tt<1?ae+(je-ae)*tt*6:2*tt<1?je:3*tt<2?ae+(je-ae)*(2/3-tt)*6:ae}try{t.parseCSSColor=function(ae){var je,tt=ae.replace(/ /g,"").toLowerCase();if(tt in o)return o[tt].slice();if(tt[0]==="#")return tt.length===4?(je=parseInt(tt.substr(1),16))>=0&&je<=4095?[(3840&je)>>4|(3840&je)>>8,240&je|(240&je)>>4,15&je|(15&je)<<4,1]:null:tt.length===7&&(je=parseInt(tt.substr(1),16))>=0&&je<=16777215?[(16711680&je)>>16,(65280&je)>>8,255&je,1]:null;var wt=tt.indexOf("("),Bt=tt.indexOf(")");if(wt!==-1&&Bt+1===tt.length){var Kt=tt.substr(0,wt),pr=tt.substr(wt+1,Bt-(wt+1)).split(","),Ir=1;switch(Kt){case"rgba":if(pr.length!==4)return null;Ir=D(pr.pop());case"rgb":return pr.length!==3?null:[E(pr[0]),E(pr[1]),E(pr[2]),Ir];case"hsla":if(pr.length!==4)return null;Ir=D(pr.pop());case"hsl":if(pr.length!==3)return null;var Ar=(parseFloat(pr[0])%360+360)%360/360,$r=D(pr[1]),Gr=D(pr[2]),gn=Gr<=.5?Gr*($r+1):Gr+$r-Gr*$r,Dn=2*Gr-gn;return[m(255*V(Dn,gn,Ar+1/3)),m(255*V(Dn,gn,Ar)),m(255*V(Dn,gn,Ar-1/3)),Ir];default:return null}}return null}}catch(ae){}}).parseCSSColor,ba=function(t,o,m,E){E===void 0&&(E=1),this.r=t,this.g=o,this.b=m,this.a=E};ba.parse=function(e){if(e){if(e instanceof ba)return e;if(typeof e=="string"){var t=Fa(e);if(t)return new ba(t[0]/255*t[3],t[1]/255*t[3],t[2]/255*t[3],t[3])}}},ba.prototype.toString=function(){var e=this.toArray(),t=e[1],o=e[2],m=e[3];return"rgba("+Math.round(e[0])+","+Math.round(t)+","+Math.round(o)+","+m+")"},ba.prototype.toArray=function(){var e=this.a;return e===0?[0,0,0,0]:[255*this.r/e,255*this.g/e,255*this.b/e,e]},ba.black=new ba(0,0,0,1),ba.white=new ba(1,1,1,1),ba.transparent=new ba(0,0,0,0),ba.red=new ba(1,0,0,1);var Oi=function(t,o,m){this.sensitivity=t?o?"variant":"case":o?"accent":"base",this.locale=m,this.collator=new Intl.Collator(this.locale?this.locale:[],{sensitivity:this.sensitivity,usage:"search"})};Oi.prototype.compare=function(e,t){return this.collator.compare(e,t)},Oi.prototype.resolvedLocale=function(){return new Intl.Collator(this.locale?this.locale:[]).resolvedOptions().locale};var Do=function(t,o,m,E,D){this.text=t,this.image=o,this.scale=m,this.fontStack=E,this.textColor=D},Li=function(t){this.sections=t};Li.fromString=function(e){return new Li([new Do(e,null,null,null,null)])},Li.prototype.isEmpty=function(){return this.sections.length===0||!this.sections.some(function(e){return e.text.length!==0||e.image&&e.image.name.length!==0})},Li.factory=function(e){return e instanceof Li?e:Li.fromString(e)},Li.prototype.toString=function(){return this.sections.length===0?"":this.sections.map(function(e){return e.text}).join("")},Li.prototype.serialize=function(){for(var e=["format"],t=0,o=this.sections;t<o.length;t+=1){var m=o[t];if(m.image)e.push(["image",m.image.name]);else{e.push(m.text);var E={};m.fontStack&&(E["text-font"]=["literal",m.fontStack.split(",")]),m.scale&&(E["font-scale"]=m.scale),m.textColor&&(E["text-color"]=["rgba"].concat(m.textColor.toArray())),e.push(E)}}return e};var Ui=function(t){this.name=t.name,this.available=t.available};function Na(e,t,o,m){return typeof e=="number"&&e>=0&&e<=255&&typeof t=="number"&&t>=0&&t<=255&&typeof o=="number"&&o>=0&&o<=255?m===void 0||typeof m=="number"&&m>=0&&m<=1?null:"Invalid rgba value ["+[e,t,o,m].join(", ")+"]: 'a' must be between 0 and 1.":"Invalid rgba value ["+(typeof m=="number"?[e,t,o,m]:[e,t,o]).join(", ")+"]: 'r', 'g', and 'b' must be between 0 and 255."}function wa(e){if(e===null||typeof e=="string"||typeof e=="boolean"||typeof e=="number"||e instanceof ba||e instanceof Oi||e instanceof Li||e instanceof Ui)return!0;if(Array.isArray(e)){for(var t=0,o=e;t<o.length;t+=1)if(!wa(o[t]))return!1;return!0}if(typeof e=="object"){for(var m in e)if(!wa(e[m]))return!1;return!0}return!1}function ga(e){if(e===null)return Dr;if(typeof e=="string")return Wr;if(typeof e=="boolean")return an;if(typeof e=="number")return Pr;if(e instanceof ba)return dn;if(e instanceof Oi)return Qn;if(e instanceof Li)return Ma;if(e instanceof Ui)return Ca;if(Array.isArray(e)){for(var t,o=e.length,m=0,E=e;m<E.length;m+=1){var D=ga(E[m]);if(t){if(t===D)continue;t=zn;break}t=D}return ia(t||zn,o)}return Rn}function pi(e){var t=typeof e;return e===null?"":t==="string"||t==="number"||t==="boolean"?String(e):e instanceof ba||e instanceof Li||e instanceof Ui?e.toString():JSON.stringify(e)}Ui.prototype.toString=function(){return this.name},Ui.fromString=function(e){return e?new Ui({name:e,available:!1}):null},Ui.prototype.serialize=function(){return["image",this.name]};var _o=function(t,o){this.type=t,this.value=o};_o.parse=function(e,t){if(e.length!==2)return t.error("'literal' expression requires exactly one argument, but found "+(e.length-1)+" instead.");if(!wa(e[1]))return t.error("invalid value");var o=e[1],m=ga(o),E=t.expectedType;return m.kind!=="array"||m.N!==0||!E||E.kind!=="array"||typeof E.N=="number"&&E.N!==0||(m=E),new _o(m,o)},_o.prototype.evaluate=function(){return this.value},_o.prototype.eachChild=function(){},_o.prototype.outputDefined=function(){return!0},_o.prototype.serialize=function(){return this.type.kind==="array"||this.type.kind==="object"?["literal",this.value]:this.value instanceof ba?["rgba"].concat(this.value.toArray()):this.value instanceof Li?this.value.serialize():this.value};var To=function(t){this.name="ExpressionEvaluationError",this.message=t};To.prototype.toJSON=function(){return this.message};var so={string:Wr,number:Pr,boolean:an,object:Rn},vi=function(t,o){this.type=t,this.args=o};vi.parse=function(e,t){if(e.length<2)return t.error("Expected at least one argument.");var o,m=1,E=e[0];if(E==="array"){var D,V;if(e.length>2){var ae=e[1];if(typeof ae!="string"||!(ae in so)||ae==="object")return t.error('The item type argument of "array" must be one of string, number, boolean',1);D=so[ae],m++}else D=zn;if(e.length>3){if(e[2]!==null&&(typeof e[2]!="number"||e[2]<0||e[2]!==Math.floor(e[2])))return t.error('The length argument to "array" must be a positive integer literal',2);V=e[2],m++}o=ia(D,V)}else o=so[E];for(var je=[];m<e.length;m++){var tt=t.parse(e[m],m,zn);if(!tt)return null;je.push(tt)}return new vi(o,je)},vi.prototype.evaluate=function(e){for(var t=0;t<this.args.length;t++){var o=this.args[t].evaluate(e);if(!ra(this.type,ga(o)))return o;if(t===this.args.length-1)throw new To("Expected value to be of type "+_a(this.type)+", but found "+_a(ga(o))+" instead.")}return null},vi.prototype.eachChild=function(e){this.args.forEach(e)},vi.prototype.outputDefined=function(){return this.args.every(function(e){return e.outputDefined()})},vi.prototype.serialize=function(){var e=this.type,t=[e.kind];if(e.kind==="array"){var o=e.itemType;if(o.kind==="string"||o.kind==="number"||o.kind==="boolean"){t.push(o.kind);var m=e.N;(typeof m=="number"||this.args.length>1)&&t.push(m)}}return t.concat(this.args.map(function(E){return E.serialize()}))};var ko=function(t){this.type=Ma,this.sections=t};ko.parse=function(e,t){if(e.length<2)return t.error("Expected at least one argument.");var o=e[1];if(!Array.isArray(o)&&typeof o=="object")return t.error("First argument must be an image or text section.");for(var m=[],E=!1,D=1;D<=e.length-1;++D){var V=e[D];if(E&&typeof V=="object"&&!Array.isArray(V)){E=!1;var ae=null;if(V["font-scale"]&&!(ae=t.parse(V["font-scale"],1,Pr)))return null;var je=null;if(V["text-font"]&&!(je=t.parse(V["text-font"],1,ia(Wr))))return null;var tt=null;if(V["text-color"]&&!(tt=t.parse(V["text-color"],1,dn)))return null;var wt=m[m.length-1];wt.scale=ae,wt.font=je,wt.textColor=tt}else{var Bt=t.parse(e[D],1,zn);if(!Bt)return null;var Kt=Bt.type.kind;if(Kt!=="string"&&Kt!=="value"&&Kt!=="null"&&Kt!=="resolvedImage")return t.error("Formatted text type must be 'string', 'value', 'image' or 'null'.");E=!0,m.push({content:Bt,scale:null,font:null,textColor:null})}}return new ko(m)},ko.prototype.evaluate=function(e){return new Li(this.sections.map(function(t){var o=t.content.evaluate(e);return ga(o)===Ca?new Do("",o,null,null,null):new Do(pi(o),null,t.scale?t.scale.evaluate(e):null,t.font?t.font.evaluate(e).join(","):null,t.textColor?t.textColor.evaluate(e):null)}))},ko.prototype.eachChild=function(e){for(var t=0,o=this.sections;t<o.length;t+=1){var m=o[t];e(m.content),m.scale&&e(m.scale),m.font&&e(m.font),m.textColor&&e(m.textColor)}},ko.prototype.outputDefined=function(){return!1},ko.prototype.serialize=function(){for(var e=["format"],t=0,o=this.sections;t<o.length;t+=1){var m=o[t];e.push(m.content.serialize());var E={};m.scale&&(E["font-scale"]=m.scale.serialize()),m.font&&(E["text-font"]=m.font.serialize()),m.textColor&&(E["text-color"]=m.textColor.serialize()),e.push(E)}return e};var bo=function(t){this.type=Ca,this.input=t};bo.parse=function(e,t){if(e.length!==2)return t.error("Expected two arguments.");var o=t.parse(e[1],1,Wr);return o?new bo(o):t.error("No image name provided.")},bo.prototype.evaluate=function(e){var t=this.input.evaluate(e),o=Ui.fromString(t);return o&&e.availableImages&&(o.available=e.availableImages.indexOf(t)>-1),o},bo.prototype.eachChild=function(e){e(this.input)},bo.prototype.outputDefined=function(){return!1},bo.prototype.serialize=function(){return["image",this.input.serialize()]};var Ba={"to-boolean":an,"to-color":dn,"to-number":Pr,"to-string":Wr},Pa=function(t,o){this.type=t,this.args=o};Pa.parse=function(e,t){if(e.length<2)return t.error("Expected at least one argument.");var o=e[0];if((o==="to-boolean"||o==="to-string")&&e.length!==2)return t.error("Expected one argument.");for(var m=Ba[o],E=[],D=1;D<e.length;D++){var V=t.parse(e[D],D,zn);if(!V)return null;E.push(V)}return new Pa(m,E)},Pa.prototype.evaluate=function(e){if(this.type.kind==="boolean")return Boolean(this.args[0].evaluate(e));if(this.type.kind==="color"){for(var t,o,m=0,E=this.args;m<E.length;m+=1){if(o=null,(t=E[m].evaluate(e))instanceof ba)return t;if(typeof t=="string"){var D=e.parseColor(t);if(D)return D}else if(Array.isArray(t)&&!(o=t.length<3||t.length>4?"Invalid rbga value "+JSON.stringify(t)+": expected an array containing either three or four numeric values.":Na(t[0],t[1],t[2],t[3])))return new ba(t[0]/255,t[1]/255,t[2]/255,t[3])}throw new To(o||"Could not parse color from value '"+(typeof t=="string"?t:String(JSON.stringify(t)))+"'")}if(this.type.kind==="number"){for(var V=null,ae=0,je=this.args;ae<je.length;ae+=1){if((V=je[ae].evaluate(e))===null)return 0;var tt=Number(V);if(!isNaN(tt))return tt}throw new To("Could not convert "+JSON.stringify(V)+" to number.")}return this.type.kind==="formatted"?Li.fromString(pi(this.args[0].evaluate(e))):this.type.kind==="resolvedImage"?Ui.fromString(pi(this.args[0].evaluate(e))):pi(this.args[0].evaluate(e))},Pa.prototype.eachChild=function(e){this.args.forEach(e)},Pa.prototype.outputDefined=function(){return this.args.every(function(e){return e.outputDefined()})},Pa.prototype.serialize=function(){if(this.type.kind==="formatted")return new ko([{content:this.args[0],scale:null,font:null,textColor:null}]).serialize();if(this.type.kind==="resolvedImage")return new bo(this.args[0]).serialize();var e=["to-"+this.type.kind];return this.eachChild(function(t){e.push(t.serialize())}),e};var lo=["Unknown","Point","LineString","Polygon"],No=function(){this.globals=null,this.feature=null,this.featureState=null,this.formattedSection=null,this._parseColorCache={},this.availableImages=null,this.canonical=null};No.prototype.id=function(){return this.feature&&"id"in this.feature?this.feature.id:null},No.prototype.geometryType=function(){return this.feature?typeof this.feature.type=="number"?lo[this.feature.type]:this.feature.type:null},No.prototype.geometry=function(){return this.feature&&"geometry"in this.feature?this.feature.geometry:null},No.prototype.canonicalID=function(){return this.canonical},No.prototype.properties=function(){return this.feature&&this.feature.properties||{}},No.prototype.parseColor=function(e){var t=this._parseColorCache[e];return t||(t=this._parseColorCache[e]=ba.parse(e)),t};var La=function(t,o,m,E){this.name=t,this.type=o,this._evaluate=m,this.args=E};La.prototype.evaluate=function(e){return this._evaluate(e,this.args)},La.prototype.eachChild=function(e){this.args.forEach(e)},La.prototype.outputDefined=function(){return!1},La.prototype.serialize=function(){return[this.name].concat(this.args.map(function(e){return e.serialize()}))},La.parse=function(e,t){var o,m=e[0],E=La.definitions[m];if(!E)return t.error('Unknown expression "'+m+'". If you wanted a literal array, use ["literal", [...]].',0);for(var D=Array.isArray(E)?E[0]:E.type,V=Array.isArray(E)?[[E[1],E[2]]]:E.overloads,ae=V.filter(function(mo){var Wi=mo[0];return!Array.isArray(Wi)||Wi.length===e.length-1}),je=null,tt=0,wt=ae;tt<wt.length;tt+=1){var Bt=wt[tt],Kt=Bt[0],pr=Bt[1];je=new Hc(t.registry,t.path,null,t.scope);for(var Ir=[],Ar=!1,$r=1;$r<e.length;$r++){var Gr=e[$r],gn=Array.isArray(Kt)?Kt[$r-1]:Kt.type,Dn=je.parse(Gr,1+Ir.length,gn);if(!Dn){Ar=!0;break}Ir.push(Dn)}if(!Ar)if(Array.isArray(Kt)&&Kt.length!==Ir.length)je.error("Expected "+Kt.length+" arguments, but found "+Ir.length+" instead.");else{for(var Kn=0;Kn<Ir.length;Kn++){var ha=Array.isArray(Kt)?Kt[Kn]:Kt.type,da=Ir[Kn];je.concat(Kn+1).checkSubtype(ha,da.type)}if(je.errors.length===0)return new La(m,D,pr,Ir)}}if(ae.length===1)(o=t.errors).push.apply(o,je.errors);else{for(var Ja=(ae.length?ae:V).map(function(mo){var Wi;return Wi=mo[0],Array.isArray(Wi)?"("+Wi.map(_a).join(", ")+")":"("+_a(Wi.type)+"...)"}).join(" | "),ti=[],Hi=1;Hi<e.length;Hi++){var co=t.parse(e[Hi],1+ti.length);if(!co)return null;ti.push(_a(co.type))}t.error("Expected arguments of type "+Ja+", but found ("+ti.join(", ")+") instead.")}return null},La.register=function(e,t){for(var o in La.definitions=t,t)e[o]=La};var mr=function(t,o,m){this.type=Qn,this.locale=m,this.caseSensitive=t,this.diacriticSensitive=o};function Wt(e,t){e[0]=Math.min(e[0],t[0]),e[1]=Math.min(e[1],t[1]),e[2]=Math.max(e[2],t[0]),e[3]=Math.max(e[3],t[1])}function vr(e,t){return!(e[0]<=t[0]||e[2]>=t[2]||e[1]<=t[1]||e[3]>=t[3])}function un(e,t){var o=(180+e[0])/360,m=(180-180/Math.PI*Math.log(Math.tan(Math.PI/4+e[1]*Math.PI/360)))/360,E=Math.pow(2,t.z);return[Math.round(o*E*8192),Math.round(m*E*8192)]}function va(e,t,o){return t[1]>e[1]!=o[1]>e[1]&&e[0]<(o[0]-t[0])*(e[1]-t[1])/(o[1]-t[1])+t[0]}function qa(e,t){for(var o,m,E,D,V,ae,je,tt=!1,wt=0,Bt=t.length;wt<Bt;wt++)for(var Kt=t[wt],pr=0,Ir=Kt.length;pr<Ir-1;pr++){if((D=(o=e)[0]-(m=Kt[pr])[0])*(je=o[1]-(E=Kt[pr+1])[1])-(ae=o[0]-E[0])*(V=o[1]-m[1])==0&&D*ae<=0&&V*je<=0)return!1;va(e,Kt[pr],Kt[pr+1])&&(tt=!tt)}return tt}function mi(e,t){for(var o=0;o<t.length;o++)if(qa(e,t[o]))return!0;return!1}function ys(e,t,o,m){var E=m[0]-o[0],D=m[1]-o[1],V=(e[0]-o[0])*D-E*(e[1]-o[1]),ae=(t[0]-o[0])*D-E*(t[1]-o[1]);return V>0&&ae<0||V<0&&ae>0}function cl(e,t,o){for(var m=0,E=o;m<E.length;m+=1)for(var D=E[m],V=0;V<D.length-1;++V)if((Bt=[(wt=D[V+1])[0]-(tt=D[V])[0],wt[1]-tt[1]])[0]*(Kt=[(je=t)[0]-(ae=e)[0],je[1]-ae[1]])[1]-Bt[1]*Kt[0]!=0&&ys(ae,je,tt,wt)&&ys(tt,wt,ae,je))return!0;var ae,je,tt,wt,Bt,Kt;return!1}function gl(e,t){for(var o=0;o<e.length;++o)if(!qa(e[o],t))return!1;for(var m=0;m<e.length-1;++m)if(cl(e[m],e[m+1],t))return!1;return!0}function Es(e,t){for(var o=0;o<t.length;o++)if(gl(e,t[o]))return!0;return!1}function tl(e,t,o){for(var m=[],E=0;E<e.length;E++){for(var D=[],V=0;V<e[E].length;V++){var ae=un(e[E][V],o);Wt(t,ae),D.push(ae)}m.push(D)}return m}function fu(e,t,o){for(var m=[],E=0;E<e.length;E++){var D=tl(e[E],t,o);m.push(D)}return m}function vc(e,t,o,m){if(e[0]<o[0]||e[0]>o[2]){var E=.5*m,D=e[0]-o[0]>E?-m:o[0]-e[0]>E?m:0;D===0&&(D=e[0]-o[2]>E?-m:o[2]-e[0]>E?m:0),e[0]+=D}Wt(t,e)}function of(e,t,o,m){for(var E=8192*Math.pow(2,m.z),D=[8192*m.x,8192*m.y],V=[],ae=0,je=e;ae<je.length;ae+=1)for(var tt=0,wt=je[ae];tt<wt.length;tt+=1){var Bt=wt[tt],Kt=[Bt.x+D[0],Bt.y+D[1]];vc(Kt,t,o,E),V.push(Kt)}return V}function ku(e,t,o,m){for(var E,D=8192*Math.pow(2,m.z),V=[8192*m.x,8192*m.y],ae=[],je=0,tt=e;je<tt.length;je+=1){for(var wt=[],Bt=0,Kt=tt[je];Bt<Kt.length;Bt+=1){var pr=Kt[Bt],Ir=[pr.x+V[0],pr.y+V[1]];Wt(t,Ir),wt.push(Ir)}ae.push(wt)}if(t[2]-t[0]<=D/2){(E=t)[0]=E[1]=1/0,E[2]=E[3]=-1/0;for(var Ar=0,$r=ae;Ar<$r.length;Ar+=1)for(var Gr=0,gn=$r[Ar];Gr<gn.length;Gr+=1)vc(gn[Gr],t,o,D)}return ae}mr.parse=function(e,t){if(e.length!==2)return t.error("Expected one argument.");var o=e[1];if(typeof o!="object"||Array.isArray(o))return t.error("Collator options argument must be an object.");var m=t.parse(o["case-sensitive"]!==void 0&&o["case-sensitive"],1,an);if(!m)return null;var E=t.parse(o["diacritic-sensitive"]!==void 0&&o["diacritic-sensitive"],1,an);if(!E)return null;var D=null;return o.locale&&!(D=t.parse(o.locale,1,Wr))?null:new mr(m,E,D)},mr.prototype.evaluate=function(e){return new Oi(this.caseSensitive.evaluate(e),this.diacriticSensitive.evaluate(e),this.locale?this.locale.evaluate(e):null)},mr.prototype.eachChild=function(e){e(this.caseSensitive),e(this.diacriticSensitive),this.locale&&e(this.locale)},mr.prototype.outputDefined=function(){return!1},mr.prototype.serialize=function(){var e={};return e["case-sensitive"]=this.caseSensitive.serialize(),e["diacritic-sensitive"]=this.diacriticSensitive.serialize(),this.locale&&(e.locale=this.locale.serialize()),["collator",e]};var Wl=function(t,o){this.type=an,this.geojson=t,this.geometries=o};function ql(e){if(e instanceof La&&(e.name==="get"&&e.args.length===1||e.name==="feature-state"||e.name==="has"&&e.args.length===1||e.name==="properties"||e.name==="geometry-type"||e.name==="id"||/^filter-/.test(e.name))||e instanceof Wl)return!1;var t=!0;return e.eachChild(function(o){t&&!ql(o)&&(t=!1)}),t}function al(e){if(e instanceof La&&e.name==="feature-state")return!1;var t=!0;return e.eachChild(function(o){t&&!al(o)&&(t=!1)}),t}function du(e,t){if(e instanceof La&&t.indexOf(e.name)>=0)return!1;var o=!0;return e.eachChild(function(m){o&&!du(m,t)&&(o=!1)}),o}Wl.parse=function(e,t){if(e.length!==2)return t.error("'within' expression requires exactly one argument, but found "+(e.length-1)+" instead.");if(wa(e[1])){var o=e[1];if(o.type==="FeatureCollection")for(var m=0;m<o.features.length;++m){var E=o.features[m].geometry.type;if(E==="Polygon"||E==="MultiPolygon")return new Wl(o,o.features[m].geometry)}else if(o.type==="Feature"){var D=o.geometry.type;if(D==="Polygon"||D==="MultiPolygon")return new Wl(o,o.geometry)}else if(o.type==="Polygon"||o.type==="MultiPolygon")return new Wl(o,o)}return t.error("'within' expression requires valid geojson object that contains polygon geometry type.")},Wl.prototype.evaluate=function(e){if(e.geometry()!=null&&e.canonicalID()!=null){if(e.geometryType()==="Point")return function(t,o){var m=[1/0,1/0,-1/0,-1/0],E=[1/0,1/0,-1/0,-1/0],D=t.canonicalID();if(o.type==="Polygon"){var V=tl(o.coordinates,E,D),ae=of(t.geometry(),m,E,D);if(!vr(m,E))return!1;for(var je=0,tt=ae;je<tt.length;je+=1)if(!qa(tt[je],V))return!1}if(o.type==="MultiPolygon"){var wt=fu(o.coordinates,E,D),Bt=of(t.geometry(),m,E,D);if(!vr(m,E))return!1;for(var Kt=0,pr=Bt;Kt<pr.length;Kt+=1)if(!mi(pr[Kt],wt))return!1}return!0}(e,this.geometries);if(e.geometryType()==="LineString")return function(t,o){var m=[1/0,1/0,-1/0,-1/0],E=[1/0,1/0,-1/0,-1/0],D=t.canonicalID();if(o.type==="Polygon"){var V=tl(o.coordinates,E,D),ae=ku(t.geometry(),m,E,D);if(!vr(m,E))return!1;for(var je=0,tt=ae;je<tt.length;je+=1)if(!gl(tt[je],V))return!1}if(o.type==="MultiPolygon"){var wt=fu(o.coordinates,E,D),Bt=ku(t.geometry(),m,E,D);if(!vr(m,E))return!1;for(var Kt=0,pr=Bt;Kt<pr.length;Kt+=1)if(!Es(pr[Kt],wt))return!1}return!0}(e,this.geometries)}return!1},Wl.prototype.eachChild=function(){},Wl.prototype.outputDefined=function(){return!0},Wl.prototype.serialize=function(){return["within",this.geojson]};var Bu=function(t,o){this.type=o.type,this.name=t,this.boundExpression=o};Bu.parse=function(e,t){if(e.length!==2||typeof e[1]!="string")return t.error("'var' expression requires exactly one string literal argument.");var o=e[1];return t.scope.has(o)?new Bu(o,t.scope.get(o)):t.error('Unknown variable "'+o+'". Make sure "'+o+'" has been bound in an enclosing "let" expression before using it.',1)},Bu.prototype.evaluate=function(e){return this.boundExpression.evaluate(e)},Bu.prototype.eachChild=function(){},Bu.prototype.outputDefined=function(){return!1},Bu.prototype.serialize=function(){return["var",this.name]};var Hc=function(t,o,m,E,D){o===void 0&&(o=[]),E===void 0&&(E=new lr),D===void 0&&(D=[]),this.registry=t,this.path=o,this.key=o.map(function(V){return"["+V+"]"}).join(""),this.scope=E,this.errors=D,this.expectedType=m};function ps(e,t){for(var o,m=e.length-1,E=0,D=m,V=0;E<=D;)if((o=e[V=Math.floor((E+D)/2)])<=t){if(V===m||t<e[V+1])return V;E=V+1}else{if(!(o>t))throw new To("Input is not a number.");D=V-1}return 0}Hc.prototype.parse=function(e,t,o,m,E){return E===void 0&&(E={}),t?this.concat(t,o,m)._parse(e,E):this._parse(e,E)},Hc.prototype._parse=function(e,t){function o(tt,wt,Bt){return Bt==="assert"?new vi(wt,[tt]):Bt==="coerce"?new Pa(wt,[tt]):tt}if(e!==null&&typeof e!="string"&&typeof e!="boolean"&&typeof e!="number"||(e=["literal",e]),Array.isArray(e)){if(e.length===0)return this.error('Expected an array with at least one element. If you wanted a literal array, use ["literal", []].');var m=e[0];if(typeof m!="string")return this.error("Expression name must be a string, but found "+typeof m+' instead. If you wanted a literal array, use ["literal", [...]].',0),null;var E=this.registry[m];if(E){var D=E.parse(e,this);if(!D)return null;if(this.expectedType){var V=this.expectedType,ae=D.type;if(V.kind!=="string"&&V.kind!=="number"&&V.kind!=="boolean"&&V.kind!=="object"&&V.kind!=="array"||ae.kind!=="value")if(V.kind!=="color"&&V.kind!=="formatted"&&V.kind!=="resolvedImage"||ae.kind!=="value"&&ae.kind!=="string"){if(this.checkSubtype(V,ae))return null}else D=o(D,V,t.typeAnnotation||"coerce");else D=o(D,V,t.typeAnnotation||"assert")}if(!(D instanceof _o)&&D.type.kind!=="resolvedImage"&&function tt(wt){if(wt instanceof Bu)return tt(wt.boundExpression);if(wt instanceof La&&wt.name==="error"||wt instanceof mr||wt instanceof Wl)return!1;var Bt=wt instanceof Pa||wt instanceof vi,Kt=!0;return wt.eachChild(function(pr){Kt=Bt?Kt&&tt(pr):Kt&&pr instanceof _o}),!!Kt&&ql(wt)&&du(wt,["zoom","heatmap-density","line-progress","accumulated","is-supported-script"])}(D)){var je=new No;try{D=new _o(D.type,D.evaluate(je))}catch(tt){return this.error(tt.message),null}}return D}return this.error('Unknown expression "'+m+'". If you wanted a literal array, use ["literal", [...]].',0)}return this.error(e===void 0?"'undefined' value invalid. Use null instead.":typeof e=="object"?'Bare objects invalid. Use ["literal", {...}] instead.':"Expected an array, but found "+typeof e+" instead.")},Hc.prototype.concat=function(e,t,o){var m=typeof e=="number"?this.path.concat(e):this.path,E=o?this.scope.concat(o):this.scope;return new Hc(this.registry,m,t||null,E,this.errors)},Hc.prototype.error=function(e){for(var t=[],o=arguments.length-1;o-- >0;)t[o]=arguments[o+1];var m=""+this.key+t.map(function(E){return"["+E+"]"}).join("");this.errors.push(new nr(m,e))},Hc.prototype.checkSubtype=function(e,t){var o=ra(e,t);return o&&this.error(o),o};var Bs=function(t,o,m){this.type=t,this.input=o,this.labels=[],this.outputs=[];for(var E=0,D=m;E<D.length;E+=1){var V=D[E],ae=V[1];this.labels.push(V[0]),this.outputs.push(ae)}};function tu(e,t,o){return e*(1-o)+t*o}Bs.parse=function(e,t){if(e.length-1<4)return t.error("Expected at least 4 arguments, but found only "+(e.length-1)+".");if((e.length-1)%2!=0)return t.error("Expected an even number of arguments.");var o=t.parse(e[1],1,Pr);if(!o)return null;var m=[],E=null;t.expectedType&&t.expectedType.kind!=="value"&&(E=t.expectedType);for(var D=1;D<e.length;D+=2){var V=D===1?-1/0:e[D],ae=e[D+1],je=D,tt=D+1;if(typeof V!="number")return t.error('Input/output pairs for "step" expressions must be defined using literal numeric values (not computed expressions) for the input values.',je);if(m.length&&m[m.length-1][0]>=V)return t.error('Input/output pairs for "step" expressions must be arranged with input values in strictly ascending order.',je);var wt=t.parse(ae,tt,E);if(!wt)return null;E=E||wt.type,m.push([V,wt])}return new Bs(E,o,m)},Bs.prototype.evaluate=function(e){var t=this.labels,o=this.outputs;if(t.length===1)return o[0].evaluate(e);var m=this.input.evaluate(e);if(m<=t[0])return o[0].evaluate(e);var E=t.length;return m>=t[E-1]?o[E-1].evaluate(e):o[ps(t,m)].evaluate(e)},Bs.prototype.eachChild=function(e){e(this.input);for(var t=0,o=this.outputs;t<o.length;t+=1)e(o[t])},Bs.prototype.outputDefined=function(){return this.outputs.every(function(e){return e.outputDefined()})},Bs.prototype.serialize=function(){for(var e=["step",this.input.serialize()],t=0;t<this.labels.length;t++)t>0&&e.push(this.labels[t]),e.push(this.outputs[t].serialize());return e};var il=Object.freeze({__proto__:null,number:tu,color:function(t,o,m){return new ba(tu(t.r,o.r,m),tu(t.g,o.g,m),tu(t.b,o.b,m),tu(t.a,o.a,m))},array:function(t,o,m){return t.map(function(E,D){return tu(E,o[D],m)})}}),fl=6/29*3*(6/29),Yh=Math.PI/180,Fr=180/Math.PI;function Sn(e){return e>.008856451679035631?Math.pow(e,1/3):e/fl+4/29}function Jn(e){return e>6/29?e*e*e:fl*(e-4/29)}function xo(e){return 255*(e<=.0031308?12.92*e:1.055*Math.pow(e,1/2.4)-.055)}function w(e){return(e/=255)<=.04045?e/12.92:Math.pow((e+.055)/1.055,2.4)}function re(e){var t=w(e.r),o=w(e.g),m=w(e.b),E=Sn((.4124564*t+.3575761*o+.1804375*m)/.95047),D=Sn((.2126729*t+.7151522*o+.072175*m)/1);return{l:116*D-16,a:500*(E-D),b:200*(D-Sn((.0193339*t+.119192*o+.9503041*m)/1.08883)),alpha:e.a}}function Qe(e){var t=(e.l+16)/116,o=isNaN(e.a)?t:t+e.a/500,m=isNaN(e.b)?t:t-e.b/200;return t=1*Jn(t),o=.95047*Jn(o),m=1.08883*Jn(m),new ba(xo(3.2404542*o-1.5371385*t-.4985314*m),xo(-.969266*o+1.8760108*t+.041556*m),xo(.0556434*o-.2040259*t+1.0572252*m),e.alpha)}function Se(e,t,o){var m=t-e;return e+o*(m>180||m<-180?m-360*Math.round(m/360):m)}var jt={forward:re,reverse:Qe,interpolate:function(t,o,m){return{l:tu(t.l,o.l,m),a:tu(t.a,o.a,m),b:tu(t.b,o.b,m),alpha:tu(t.alpha,o.alpha,m)}}},br={forward:function(t){var o=re(t),m=o.l,E=o.a,D=o.b,V=Math.atan2(D,E)*Fr;return{h:V<0?V+360:V,c:Math.sqrt(E*E+D*D),l:m,alpha:t.a}},reverse:function(t){var o=t.h*Yh,m=t.c;return Qe({l:t.l,a:Math.cos(o)*m,b:Math.sin(o)*m,alpha:t.alpha})},interpolate:function(t,o,m){return{h:Se(t.h,o.h,m),c:tu(t.c,o.c,m),l:tu(t.l,o.l,m),alpha:tu(t.alpha,o.alpha,m)}}},Yr=Object.freeze({__proto__:null,lab:jt,hcl:br}),fn=function(t,o,m,E,D){this.type=t,this.operator=o,this.interpolation=m,this.input=E,this.labels=[],this.outputs=[];for(var V=0,ae=D;V<ae.length;V+=1){var je=ae[V],tt=je[1];this.labels.push(je[0]),this.outputs.push(tt)}};function En(e,t,o,m){var E=m-o,D=e-o;return E===0?0:t===1?D/E:(Math.pow(t,D)-1)/(Math.pow(t,E)-1)}fn.interpolationFactor=function(e,t,o,m){var E=0;if(e.name==="exponential")E=En(t,e.base,o,m);else if(e.name==="linear")E=En(t,1,o,m);else if(e.name==="cubic-bezier"){var D=e.controlPoints;E=new k(D[0],D[1],D[2],D[3]).solve(En(t,1,o,m))}return E},fn.parse=function(e,t){var o=e[0],m=e[1],E=e[2],D=e.slice(3);if(!Array.isArray(m)||m.length===0)return t.error("Expected an interpolation type expression.",1);if(m[0]==="linear")m={name:"linear"};else if(m[0]==="exponential"){var V=m[1];if(typeof V!="number")return t.error("Exponential interpolation requires a numeric base.",1,1);m={name:"exponential",base:V}}else{if(m[0]!=="cubic-bezier")return t.error("Unknown interpolation type "+String(m[0]),1,0);var ae=m.slice(1);if(ae.length!==4||ae.some(function($r){return typeof $r!="number"||$r<0||$r>1}))return t.error("Cubic bezier interpolation requires four numeric arguments with values between 0 and 1.",1);m={name:"cubic-bezier",controlPoints:ae}}if(e.length-1<4)return t.error("Expected at least 4 arguments, but found only "+(e.length-1)+".");if((e.length-1)%2!=0)return t.error("Expected an even number of arguments.");if(!(E=t.parse(E,2,Pr)))return null;var je=[],tt=null;o==="interpolate-hcl"||o==="interpolate-lab"?tt=dn:t.expectedType&&t.expectedType.kind!=="value"&&(tt=t.expectedType);for(var wt=0;wt<D.length;wt+=2){var Bt=D[wt],Kt=D[wt+1],pr=wt+3,Ir=wt+4;if(typeof Bt!="number")return t.error('Input/output pairs for "interpolate" expressions must be defined using literal numeric values (not computed expressions) for the input values.',pr);if(je.length&&je[je.length-1][0]>=Bt)return t.error('Input/output pairs for "interpolate" expressions must be arranged with input values in strictly ascending order.',pr);var Ar=t.parse(Kt,Ir,tt);if(!Ar)return null;tt=tt||Ar.type,je.push([Bt,Ar])}return tt.kind==="number"||tt.kind==="color"||tt.kind==="array"&&tt.itemType.kind==="number"&&typeof tt.N=="number"?new fn(tt,o,m,E,je):t.error("Type "+_a(tt)+" is not interpolatable.")},fn.prototype.evaluate=function(e){var t=this.labels,o=this.outputs;if(t.length===1)return o[0].evaluate(e);var m=this.input.evaluate(e);if(m<=t[0])return o[0].evaluate(e);var E=t.length;if(m>=t[E-1])return o[E-1].evaluate(e);var D=ps(t,m),V=fn.interpolationFactor(this.interpolation,m,t[D],t[D+1]),ae=o[D].evaluate(e),je=o[D+1].evaluate(e);return this.operator==="interpolate"?il[this.type.kind.toLowerCase()](ae,je,V):this.operator==="interpolate-hcl"?br.reverse(br.interpolate(br.forward(ae),br.forward(je),V)):jt.reverse(jt.interpolate(jt.forward(ae),jt.forward(je),V))},fn.prototype.eachChild=function(e){e(this.input);for(var t=0,o=this.outputs;t<o.length;t+=1)e(o[t])},fn.prototype.outputDefined=function(){return this.outputs.every(function(e){return e.outputDefined()})},fn.prototype.serialize=function(){var e;e=this.interpolation.name==="linear"?["linear"]:this.interpolation.name==="exponential"?this.interpolation.base===1?["linear"]:["exponential",this.interpolation.base]:["cubic-bezier"].concat(this.interpolation.controlPoints);for(var t=[this.operator,e,this.input.serialize()],o=0;o<this.labels.length;o++)t.push(this.labels[o],this.outputs[o].serialize());return t};var ma=function(t,o){this.type=t,this.args=o};ma.parse=function(e,t){if(e.length<2)return t.error("Expectected at least one argument.");var o=null,m=t.expectedType;m&&m.kind!=="value"&&(o=m);for(var E=[],D=0,V=e.slice(1);D<V.length;D+=1){var ae=t.parse(V[D],1+E.length,o,void 0,{typeAnnotation:"omit"});if(!ae)return null;o=o||ae.type,E.push(ae)}var je=m&&E.some(function(tt){return ra(m,tt.type)});return new ma(je?zn:o,E)},ma.prototype.evaluate=function(e){for(var t,o=null,m=0,E=0,D=this.args;E<D.length&&(m++,(o=D[E].evaluate(e))&&o instanceof Ui&&!o.available&&(t||(t=o.name),o=null,m===this.args.length&&(o=t)),o===null);E+=1);return o},ma.prototype.eachChild=function(e){this.args.forEach(e)},ma.prototype.outputDefined=function(){return this.args.every(function(e){return e.outputDefined()})},ma.prototype.serialize=function(){var e=["coalesce"];return this.eachChild(function(t){e.push(t.serialize())}),e};var Ia=function(t,o){this.type=o.type,this.bindings=[].concat(t),this.result=o};Ia.prototype.evaluate=function(e){return this.result.evaluate(e)},Ia.prototype.eachChild=function(e){for(var t=0,o=this.bindings;t<o.length;t+=1)e(o[t][1]);e(this.result)},Ia.parse=function(e,t){if(e.length<4)return t.error("Expected at least 3 arguments, but found "+(e.length-1)+" instead.");for(var o=[],m=1;m<e.length-1;m+=2){var E=e[m];if(typeof E!="string")return t.error("Expected string, but found "+typeof E+" instead.",m);if(/[^a-zA-Z0-9_]/.test(E))return t.error("Variable names must contain only alphanumeric characters or '_'.",m);var D=t.parse(e[m+1],m+1);if(!D)return null;o.push([E,D])}var V=t.parse(e[e.length-1],e.length-1,t.expectedType,o);return V?new Ia(o,V):null},Ia.prototype.outputDefined=function(){return this.result.outputDefined()},Ia.prototype.serialize=function(){for(var e=["let"],t=0,o=this.bindings;t<o.length;t+=1){var m=o[t];e.push(m[0],m[1].serialize())}return e.push(this.result.serialize()),e};var Co=function(t,o,m){this.type=t,this.index=o,this.input=m};Co.parse=function(e,t){if(e.length!==3)return t.error("Expected 2 arguments, but found "+(e.length-1)+" instead.");var o=t.parse(e[1],1,Pr),m=t.parse(e[2],2,ia(t.expectedType||zn));return o&&m?new Co(m.type.itemType,o,m):null},Co.prototype.evaluate=function(e){var t=this.index.evaluate(e),o=this.input.evaluate(e);if(t<0)throw new To("Array index out of bounds: "+t+" < 0.");if(t>=o.length)throw new To("Array index out of bounds: "+t+" > "+(o.length-1)+".");if(t!==Math.floor(t))throw new To("Array index must be an integer, but found "+t+" instead.");return o[t]},Co.prototype.eachChild=function(e){e(this.index),e(this.input)},Co.prototype.outputDefined=function(){return!1},Co.prototype.serialize=function(){return["at",this.index.serialize(),this.input.serialize()]};var $o=function(t,o){this.type=an,this.needle=t,this.haystack=o};$o.parse=function(e,t){if(e.length!==3)return t.error("Expected 2 arguments, but found "+(e.length-1)+" instead.");var o=t.parse(e[1],1,zn),m=t.parse(e[2],2,zn);return o&&m?ni(o.type,[an,Wr,Pr,Dr,zn])?new $o(o,m):t.error("Expected first argument to be of type boolean, string, number or null, but found "+_a(o.type)+" instead"):null},$o.prototype.evaluate=function(e){var t=this.needle.evaluate(e),o=this.haystack.evaluate(e);if(!o)return!1;if(!Da(t,["boolean","string","number","null"]))throw new To("Expected first argument to be of type boolean, string, number or null, but found "+_a(ga(t))+" instead.");if(!Da(o,["string","array"]))throw new To("Expected second argument to be of type array or string, but found "+_a(ga(o))+" instead.");return o.indexOf(t)>=0},$o.prototype.eachChild=function(e){e(this.needle),e(this.haystack)},$o.prototype.outputDefined=function(){return!0},$o.prototype.serialize=function(){return["in",this.needle.serialize(),this.haystack.serialize()]};var Zo=function(t,o,m){this.type=Pr,this.needle=t,this.haystack=o,this.fromIndex=m};Zo.parse=function(e,t){if(e.length<=2||e.length>=5)return t.error("Expected 3 or 4 arguments, but found "+(e.length-1)+" instead.");var o=t.parse(e[1],1,zn),m=t.parse(e[2],2,zn);if(!o||!m)return null;if(!ni(o.type,[an,Wr,Pr,Dr,zn]))return t.error("Expected first argument to be of type boolean, string, number or null, but found "+_a(o.type)+" instead");if(e.length===4){var E=t.parse(e[3],3,Pr);return E?new Zo(o,m,E):null}return new Zo(o,m)},Zo.prototype.evaluate=function(e){var t=this.needle.evaluate(e),o=this.haystack.evaluate(e);if(!Da(t,["boolean","string","number","null"]))throw new To("Expected first argument to be of type boolean, string, number or null, but found "+_a(ga(t))+" instead.");if(!Da(o,["string","array"]))throw new To("Expected second argument to be of type array or string, but found "+_a(ga(o))+" instead.");if(this.fromIndex){var m=this.fromIndex.evaluate(e);return o.indexOf(t,m)}return o.indexOf(t)},Zo.prototype.eachChild=function(e){e(this.needle),e(this.haystack),this.fromIndex&&e(this.fromIndex)},Zo.prototype.outputDefined=function(){return!1},Zo.prototype.serialize=function(){if(this.fromIndex!=null&&this.fromIndex!==void 0){var e=this.fromIndex.serialize();return["index-of",this.needle.serialize(),this.haystack.serialize(),e]}return["index-of",this.needle.serialize(),this.haystack.serialize()]};var Hs=function(t,o,m,E,D,V){this.inputType=t,this.type=o,this.input=m,this.cases=E,this.outputs=D,this.otherwise=V};Hs.parse=function(e,t){if(e.length<5)return t.error("Expected at least 4 arguments, but found only "+(e.length-1)+".");if(e.length%2!=1)return t.error("Expected an even number of arguments.");var o,m;t.expectedType&&t.expectedType.kind!=="value"&&(m=t.expectedType);for(var E={},D=[],V=2;V<e.length-1;V+=2){var ae=e[V],je=e[V+1];Array.isArray(ae)||(ae=[ae]);var tt=t.concat(V);if(ae.length===0)return tt.error("Expected at least one branch label.");for(var wt=0,Bt=ae;wt<Bt.length;wt+=1){var Kt=Bt[wt];if(typeof Kt!="number"&&typeof Kt!="string")return tt.error("Branch labels must be numbers or strings.");if(typeof Kt=="number"&&Math.abs(Kt)>Number.MAX_SAFE_INTEGER)return tt.error("Branch labels must be integers no larger than "+Number.MAX_SAFE_INTEGER+".");if(typeof Kt=="number"&&Math.floor(Kt)!==Kt)return tt.error("Numeric branch labels must be integer values.");if(o){if(tt.checkSubtype(o,ga(Kt)))return null}else o=ga(Kt);if(E[String(Kt)]!==void 0)return tt.error("Branch labels must be unique.");E[String(Kt)]=D.length}var pr=t.parse(je,V,m);if(!pr)return null;m=m||pr.type,D.push(pr)}var Ir=t.parse(e[1],1,zn);if(!Ir)return null;var Ar=t.parse(e[e.length-1],e.length-1,m);return Ar?Ir.type.kind!=="value"&&t.concat(1).checkSubtype(o,Ir.type)?null:new Hs(o,m,Ir,E,D,Ar):null},Hs.prototype.evaluate=function(e){var t=this.input.evaluate(e);return(ga(t)===this.inputType&&this.outputs[this.cases[t]]||this.otherwise).evaluate(e)},Hs.prototype.eachChild=function(e){e(this.input),this.outputs.forEach(e),e(this.otherwise)},Hs.prototype.outputDefined=function(){return this.outputs.every(function(e){return e.outputDefined()})&&this.otherwise.outputDefined()},Hs.prototype.serialize=function(){for(var e=this,t=["match",this.input.serialize()],o=[],m={},E=0,D=Object.keys(this.cases).sort();E<D.length;E+=1){var V=D[E];(Bt=m[this.cases[V]])===void 0?(m[this.cases[V]]=o.length,o.push([this.cases[V],[V]])):o[Bt][1].push(V)}for(var ae=function(Ir){return e.inputType.kind==="number"?Number(Ir):Ir},je=0,tt=o;je<tt.length;je+=1){var wt=tt[je],Bt=wt[0],Kt=wt[1];t.push(Kt.length===1?ae(Kt[0]):Kt.map(ae)),t.push(this.outputs[outputIndex$1].serialize())}return t.push(this.otherwise.serialize()),t};var ms=function(t,o,m){this.type=t,this.branches=o,this.otherwise=m};ms.parse=function(e,t){if(e.length<4)return t.error("Expected at least 3 arguments, but found only "+(e.length-1)+".");if(e.length%2!=0)return t.error("Expected an odd number of arguments.");var o;t.expectedType&&t.expectedType.kind!=="value"&&(o=t.expectedType);for(var m=[],E=1;E<e.length-1;E+=2){var D=t.parse(e[E],E,an);if(!D)return null;var V=t.parse(e[E+1],E+1,o);if(!V)return null;m.push([D,V]),o=o||V.type}var ae=t.parse(e[e.length-1],e.length-1,o);return ae?new ms(o,m,ae):null},ms.prototype.evaluate=function(e){for(var t=0,o=this.branches;t<o.length;t+=1){var m=o[t],E=m[1];if(m[0].evaluate(e))return E.evaluate(e)}return this.otherwise.evaluate(e)},ms.prototype.eachChild=function(e){for(var t=0,o=this.branches;t<o.length;t+=1){var m=o[t],E=m[1];e(m[0]),e(E)}e(this.otherwise)},ms.prototype.outputDefined=function(){return this.branches.every(function(e){return e[1].outputDefined()})&&this.otherwise.outputDefined()},ms.prototype.serialize=function(){var e=["case"];return this.eachChild(function(t){e.push(t.serialize())}),e};var Ws=function(t,o,m,E){this.type=t,this.input=o,this.beginIndex=m,this.endIndex=E};function zu(e,t){return e==="=="||e==="!="?t.kind==="boolean"||t.kind==="string"||t.kind==="number"||t.kind==="null"||t.kind==="value":t.kind==="string"||t.kind==="number"||t.kind==="value"}function Pc(e,t,o,m){return m.compare(t,o)===0}function Ys(e,t,o){var m=e!=="=="&&e!=="!=";return function(){function E(D,V,ae){this.type=an,this.lhs=D,this.rhs=V,this.collator=ae,this.hasUntypedArgument=D.type.kind==="value"||V.type.kind==="value"}return E.parse=function(D,V){if(D.length!==3&&D.length!==4)return V.error("Expected two or three arguments.");var ae=D[0],je=V.parse(D[1],1,zn);if(!je)return null;if(!zu(ae,je.type))return V.concat(1).error('"'+ae+`" comparisons are not supported for type '`+_a(je.type)+"'.");var tt=V.parse(D[2],2,zn);if(!tt)return null;if(!zu(ae,tt.type))return V.concat(2).error('"'+ae+`" comparisons are not supported for type '`+_a(tt.type)+"'.");if(je.type.kind!==tt.type.kind&&je.type.kind!=="value"&&tt.type.kind!=="value")return V.error("Cannot compare types '"+_a(je.type)+"' and '"+_a(tt.type)+"'.");m&&(je.type.kind==="value"&&tt.type.kind!=="value"?je=new vi(tt.type,[je]):je.type.kind!=="value"&&tt.type.kind==="value"&&(tt=new vi(je.type,[tt])));var wt=null;if(D.length===4){if(je.type.kind!=="string"&&tt.type.kind!=="string"&&je.type.kind!=="value"&&tt.type.kind!=="value")return V.error("Cannot use collator to compare non-string types.");if(!(wt=V.parse(D[3],3,Qn)))return null}return new E(je,tt,wt)},E.prototype.evaluate=function(D){var V=this.lhs.evaluate(D),ae=this.rhs.evaluate(D);if(m&&this.hasUntypedArgument){var je=ga(V),tt=ga(ae);if(je.kind!==tt.kind||je.kind!=="string"&&je.kind!=="number")throw new To('Expected arguments for "'+e+'" to be (string, string) or (number, number), but found ('+je.kind+", "+tt.kind+") instead.")}if(this.collator&&!m&&this.hasUntypedArgument){var wt=ga(V),Bt=ga(ae);if(wt.kind!=="string"||Bt.kind!=="string")return t(D,V,ae)}return this.collator?o(D,V,ae,this.collator.evaluate(D)):t(D,V,ae)},E.prototype.eachChild=function(D){D(this.lhs),D(this.rhs),this.collator&&D(this.collator)},E.prototype.outputDefined=function(){return!0},E.prototype.serialize=function(){var D=[e];return this.eachChild(function(V){D.push(V.serialize())}),D},E}()}Ws.parse=function(e,t){if(e.length<=2||e.length>=5)return t.error("Expected 3 or 4 arguments, but found "+(e.length-1)+" instead.");var o=t.parse(e[1],1,zn),m=t.parse(e[2],2,Pr);if(!o||!m)return null;if(!ni(o.type,[ia(zn),Wr,zn]))return t.error("Expected first argument to be of type array or string, but found "+_a(o.type)+" instead");if(e.length===4){var E=t.parse(e[3],3,Pr);return E?new Ws(o.type,o,m,E):null}return new Ws(o.type,o,m)},Ws.prototype.evaluate=function(e){var t=this.input.evaluate(e),o=this.beginIndex.evaluate(e);if(!Da(t,["string","array"]))throw new To("Expected first argument to be of type array or string, but found "+_a(ga(t))+" instead.");if(this.endIndex){var m=this.endIndex.evaluate(e);return t.slice(o,m)}return t.slice(o)},Ws.prototype.eachChild=function(e){e(this.input),e(this.beginIndex),this.endIndex&&e(this.endIndex)},Ws.prototype.outputDefined=function(){return!1},Ws.prototype.serialize=function(){if(this.endIndex!=null&&this.endIndex!==void 0){var e=this.endIndex.serialize();return["slice",this.input.serialize(),this.beginIndex.serialize(),e]}return["slice",this.input.serialize(),this.beginIndex.serialize()]};var Ef=Ys("==",function(e,t,o){return t===o},Pc),hd=Ys("!=",function(e,t,o){return t!==o},function(e,t,o,m){return!Pc(0,t,o,m)}),Bf=Ys("<",function(e,t,o){return t<o},function(e,t,o,m){return m.compare(t,o)<0}),Ms=Ys(">",function(e,t,o){return t>o},function(e,t,o,m){return m.compare(t,o)>0}),zf=Ys("<=",function(e,t,o){return t<=o},function(e,t,o,m){return m.compare(t,o)<=0}),wh=Ys(">=",function(e,t,o){return t>=o},function(e,t,o,m){return m.compare(t,o)>=0}),_d=function(t,o,m,E,D){this.type=Wr,this.number=t,this.locale=o,this.currency=m,this.minFractionDigits=E,this.maxFractionDigits=D};_d.parse=function(e,t){if(e.length!==3)return t.error("Expected two arguments.");var o=t.parse(e[1],1,Pr);if(!o)return null;var m=e[2];if(typeof m!="object"||Array.isArray(m))return t.error("NumberFormat options argument must be an object.");var E=null;if(m.locale&&!(E=t.parse(m.locale,1,Wr)))return null;var D=null;if(m.currency&&!(D=t.parse(m.currency,1,Wr)))return null;var V=null;if(m["min-fraction-digits"]&&!(V=t.parse(m["min-fraction-digits"],1,Pr)))return null;var ae=null;return m["max-fraction-digits"]&&!(ae=t.parse(m["max-fraction-digits"],1,Pr))?null:new _d(o,E,D,V,ae)},_d.prototype.evaluate=function(e){return new Intl.NumberFormat(this.locale?this.locale.evaluate(e):[],{style:this.currency?"currency":"decimal",currency:this.currency?this.currency.evaluate(e):void 0,minimumFractionDigits:this.minFractionDigits?this.minFractionDigits.evaluate(e):void 0,maximumFractionDigits:this.maxFractionDigits?this.maxFractionDigits.evaluate(e):void 0}).format(this.number.evaluate(e))},_d.prototype.eachChild=function(e){e(this.number),this.locale&&e(this.locale),this.currency&&e(this.currency),this.minFractionDigits&&e(this.minFractionDigits),this.maxFractionDigits&&e(this.maxFractionDigits)},_d.prototype.outputDefined=function(){return!1},_d.prototype.serialize=function(){var e={};return this.locale&&(e.locale=this.locale.serialize()),this.currency&&(e.currency=this.currency.serialize()),this.minFractionDigits&&(e["min-fraction-digits"]=this.minFractionDigits.serialize()),this.maxFractionDigits&&(e["max-fraction-digits"]=this.maxFractionDigits.serialize()),["number-format",this.number.serialize(),e]};var zl=function(t){this.type=Pr,this.input=t};zl.parse=function(e,t){if(e.length!==2)return t.error("Expected 1 argument, but found "+(e.length-1)+" instead.");var o=t.parse(e[1],1);return o?o.type.kind!=="array"&&o.type.kind!=="string"&&o.type.kind!=="value"?t.error("Expected argument of type string or array, but found "+_a(o.type)+" instead."):new zl(o):null},zl.prototype.evaluate=function(e){var t=this.input.evaluate(e);if(typeof t=="string"||Array.isArray(t))return t.length;throw new To("Expected value to be of type string or array, but found "+_a(ga(t))+" instead.")},zl.prototype.eachChild=function(e){e(this.input)},zl.prototype.outputDefined=function(){return!1},zl.prototype.serialize=function(){var e=["length"];return this.eachChild(function(t){e.push(t.serialize())}),e};var Uf={"==":Ef,"!=":hd,">":Ms,"<":Bf,">=":wh,"<=":zf,array:vi,at:Co,boolean:vi,case:ms,coalesce:ma,collator:mr,format:ko,image:bo,in:$o,"index-of":Zo,interpolate:fn,"interpolate-hcl":fn,"interpolate-lab":fn,length:zl,let:Ia,literal:_o,match:Hs,number:vi,"number-format":_d,object:vi,slice:Ws,step:Bs,string:vi,"to-boolean":Pa,"to-color":Pa,"to-number":Pa,"to-string":Pa,var:Bu,within:Wl};function $h(e,t){var o=t[0],m=t[1],E=t[2],D=t[3];o=o.evaluate(e),m=m.evaluate(e),E=E.evaluate(e);var V=D?D.evaluate(e):1,ae=Na(o,m,E,V);if(ae)throw new To(ae);return new ba(o/255*V,m/255*V,E/255*V,V)}function Sf(e,t){return e in t}function Gl(e,t){var o=t[e];return o===void 0?null:o}function Wc(e){return{type:e}}function mc(e){return{result:"success",value:e}}function pd(e){return{result:"error",value:e}}function Vf(e){return e["property-type"]==="data-driven"||e["property-type"]==="cross-faded-data-driven"}function Gc(e){return!!e.expression&&e.expression.parameters.indexOf("zoom")>-1}function vd(e){return!!e.expression&&e.expression.interpolated}function Ll(e){return e instanceof Number?"number":e instanceof String?"string":e instanceof Boolean?"boolean":Array.isArray(e)?"array":e===null?"null":typeof e}function Yd(e){return typeof e=="object"&&e!==null&&!Array.isArray(e)}function Up(e){return e}function $d(e,t,o){return e!==void 0?e:t!==void 0?t:o!==void 0?o:void 0}function uc(e,t,o,m,E){return $d(typeof o===E?m[o]:void 0,e.default,t.default)}function sv(e,t,o){if(Ll(o)!=="number")return $d(e.default,t.default);var m=e.stops.length;if(m===1||o<=e.stops[0][0])return e.stops[0][1];if(o>=e.stops[m-1][0])return e.stops[m-1][1];var E=ps(e.stops.map(function(D){return D[0]}),o);return e.stops[E][1]}function Vp(e,t,o){var m=e.base!==void 0?e.base:1;if(Ll(o)!=="number")return $d(e.default,t.default);var E=e.stops.length;if(E===1||o<=e.stops[0][0])return e.stops[0][1];if(o>=e.stops[E-1][0])return e.stops[E-1][1];var D=ps(e.stops.map(function(Bt){return Bt[0]}),o),V=function(Bt,Kt,pr,Ir){var Ar=Ir-pr,$r=Bt-pr;return Ar===0?0:Kt===1?$r/Ar:(Math.pow(Kt,$r)-1)/(Math.pow(Kt,Ar)-1)}(o,m,e.stops[D][0],e.stops[D+1][0]),ae=e.stops[D][1],je=e.stops[D+1][1],tt=il[t.type]||Up;if(e.colorSpace&&e.colorSpace!=="rgb"){var wt=Yr[e.colorSpace];tt=function(Kt,pr){return wt.reverse(wt.interpolate(wt.forward(Kt),wt.forward(pr),V))}}return typeof ae.evaluate=="function"?{evaluate:function(){for(var Kt=[],pr=arguments.length;pr--;)Kt[pr]=arguments[pr];var Ir=ae.evaluate.apply(void 0,Kt),Ar=je.evaluate.apply(void 0,Kt);if(Ir!==void 0&&Ar!==void 0)return tt(Ir,Ar,V)}}:tt(ae,je,V)}function wc(e,t,o){return t.type==="color"?o=ba.parse(o):t.type==="formatted"?o=Li.fromString(o.toString()):t.type==="resolvedImage"?o=Ui.fromString(o.toString()):Ll(o)===t.type||t.type==="enum"&&t.values[o]||(o=void 0),$d(o,e.default,t.default)}La.register(Uf,{error:[{kind:"error"},[Wr],function(e,t){throw new To(t[0].evaluate(e))}],typeof:[Wr,[zn],function(e,t){return _a(ga(t[0].evaluate(e)))}],"to-rgba":[ia(Pr,4),[dn],function(e,t){return t[0].evaluate(e).toArray()}],rgb:[dn,[Pr,Pr,Pr],$h],rgba:[dn,[Pr,Pr,Pr,Pr],$h],has:{type:an,overloads:[[[Wr],function(e,t){return Sf(t[0].evaluate(e),e.properties())}],[[Wr,Rn],function(e,t){var o=t[1];return Sf(t[0].evaluate(e),o.evaluate(e))}]]},get:{type:zn,overloads:[[[Wr],function(e,t){return Gl(t[0].evaluate(e),e.properties())}],[[Wr,Rn],function(e,t){var o=t[1];return Gl(t[0].evaluate(e),o.evaluate(e))}]]},"feature-state":[zn,[Wr],function(e,t){return Gl(t[0].evaluate(e),e.featureState||{})}],properties:[Rn,[],function(e){return e.properties()}],"geometry-type":[Wr,[],function(e){return e.geometryType()}],id:[zn,[],function(e){return e.id()}],zoom:[Pr,[],function(e){return e.globals.zoom}],"heatmap-density":[Pr,[],function(e){return e.globals.heatmapDensity||0}],"line-progress":[Pr,[],function(e){return e.globals.lineProgress||0}],accumulated:[zn,[],function(e){return e.globals.accumulated===void 0?null:e.globals.accumulated}],"+":[Pr,Wc(Pr),function(e,t){for(var o=0,m=0,E=t;m<E.length;m+=1)o+=E[m].evaluate(e);return o}],"*":[Pr,Wc(Pr),function(e,t){for(var o=1,m=0,E=t;m<E.length;m+=1)o*=E[m].evaluate(e);return o}],"-":{type:Pr,overloads:[[[Pr,Pr],function(e,t){var o=t[1];return t[0].evaluate(e)-o.evaluate(e)}],[[Pr],function(e,t){return-t[0].evaluate(e)}]]},"/":[Pr,[Pr,Pr],function(e,t){var o=t[1];return t[0].evaluate(e)/o.evaluate(e)}],"%":[Pr,[Pr,Pr],function(e,t){var o=t[1];return t[0].evaluate(e)%o.evaluate(e)}],ln2:[Pr,[],function(){return Math.LN2}],pi:[Pr,[],function(){return Math.PI}],e:[Pr,[],function(){return Math.E}],"^":[Pr,[Pr,Pr],function(e,t){var o=t[1];return Math.pow(t[0].evaluate(e),o.evaluate(e))}],sqrt:[Pr,[Pr],function(e,t){return Math.sqrt(t[0].evaluate(e))}],log10:[Pr,[Pr],function(e,t){return Math.log(t[0].evaluate(e))/Math.LN10}],ln:[Pr,[Pr],function(e,t){return Math.log(t[0].evaluate(e))}],log2:[Pr,[Pr],function(e,t){return Math.log(t[0].evaluate(e))/Math.LN2}],sin:[Pr,[Pr],function(e,t){return Math.sin(t[0].evaluate(e))}],cos:[Pr,[Pr],function(e,t){return Math.cos(t[0].evaluate(e))}],tan:[Pr,[Pr],function(e,t){return Math.tan(t[0].evaluate(e))}],asin:[Pr,[Pr],function(e,t){return Math.asin(t[0].evaluate(e))}],acos:[Pr,[Pr],function(e,t){return Math.acos(t[0].evaluate(e))}],atan:[Pr,[Pr],function(e,t){return Math.atan(t[0].evaluate(e))}],min:[Pr,Wc(Pr),function(e,t){return Math.min.apply(Math,t.map(function(o){return o.evaluate(e)}))}],max:[Pr,Wc(Pr),function(e,t){return Math.max.apply(Math,t.map(function(o){return o.evaluate(e)}))}],abs:[Pr,[Pr],function(e,t){return Math.abs(t[0].evaluate(e))}],round:[Pr,[Pr],function(e,t){var o=t[0].evaluate(e);return o<0?-Math.round(-o):Math.round(o)}],floor:[Pr,[Pr],function(e,t){return Math.floor(t[0].evaluate(e))}],ceil:[Pr,[Pr],function(e,t){return Math.ceil(t[0].evaluate(e))}],"filter-==":[an,[Wr,zn],function(e,t){var o=t[0],m=t[1];return e.properties()[o.value]===m.value}],"filter-id-==":[an,[zn],function(e,t){var o=t[0];return e.id()===o.value}],"filter-type-==":[an,[Wr],function(e,t){var o=t[0];return e.geometryType()===o.value}],"filter-<":[an,[Wr,zn],function(e,t){var o=t[0],m=t[1],E=e.properties()[o.value],D=m.value;return typeof E==typeof D&&E<D}],"filter-id-<":[an,[zn],function(e,t){var o=t[0],m=e.id(),E=o.value;return typeof m==typeof E&&m<E}],"filter->":[an,[Wr,zn],function(e,t){var o=t[0],m=t[1],E=e.properties()[o.value],D=m.value;return typeof E==typeof D&&E>D}],"filter-id->":[an,[zn],function(e,t){var o=t[0],m=e.id(),E=o.value;return typeof m==typeof E&&m>E}],"filter-<=":[an,[Wr,zn],function(e,t){var o=t[0],m=t[1],E=e.properties()[o.value],D=m.value;return typeof E==typeof D&&E<=D}],"filter-id-<=":[an,[zn],function(e,t){var o=t[0],m=e.id(),E=o.value;return typeof m==typeof E&&m<=E}],"filter->=":[an,[Wr,zn],function(e,t){var o=t[0],m=t[1],E=e.properties()[o.value],D=m.value;return typeof E==typeof D&&E>=D}],"filter-id->=":[an,[zn],function(e,t){var o=t[0],m=e.id(),E=o.value;return typeof m==typeof E&&m>=E}],"filter-has":[an,[zn],function(e,t){return t[0].value in e.properties()}],"filter-has-id":[an,[],function(e){return e.id()!==null&&e.id()!==void 0}],"filter-type-in":[an,[ia(Wr)],function(e,t){return t[0].value.indexOf(e.geometryType())>=0}],"filter-id-in":[an,[ia(zn)],function(e,t){return t[0].value.indexOf(e.id())>=0}],"filter-in-small":[an,[Wr,ia(zn)],function(e,t){var o=t[0];return t[1].value.indexOf(e.properties()[o.value])>=0}],"filter-in-large":[an,[Wr,ia(zn)],function(e,t){var o=t[0],m=t[1];return function(E,D,V,ae){for(;V<=ae;){var je=V+ae>>1;if(D[je]===E)return!0;D[je]>E?ae=je-1:V=je+1}return!1}(e.properties()[o.value],m.value,0,m.value.length-1)}],all:{type:an,overloads:[[[an,an],function(e,t){var o=t[1];return t[0].evaluate(e)&&o.evaluate(e)}],[Wc(an),function(e,t){for(var o=0,m=t;o<m.length;o+=1)if(!m[o].evaluate(e))return!1;return!0}]]},any:{type:an,overloads:[[[an,an],function(e,t){var o=t[1];return t[0].evaluate(e)||o.evaluate(e)}],[Wc(an),function(e,t){for(var o=0,m=t;o<m.length;o+=1)if(m[o].evaluate(e))return!0;return!1}]]},"!":[an,[an],function(e,t){return!t[0].evaluate(e)}],"is-supported-script":[an,[Wr],function(e,t){var o=e.globals&&e.globals.isSupportedScript;return!o||o(t[0].evaluate(e))}],upcase:[Wr,[Wr],function(e,t){return t[0].evaluate(e).toUpperCase()}],downcase:[Wr,[Wr],function(e,t){return t[0].evaluate(e).toLowerCase()}],concat:[Wr,Wc(zn),function(e,t){return t.map(function(o){return pi(o.evaluate(e))}).join("")}],"resolved-locale":[Wr,[Qn],function(e,t){return t[0].evaluate(e).resolvedLocale()}]});var Xf=function(t,o){this.expression=t,this._warningHistory={},this._evaluator=new No,this._defaultValue=o?function(m){return m.type==="color"&&Yd(m.default)?new ba(0,0,0,0):m.type==="color"?ba.parse(m.default)||null:m.default===void 0?null:m.default}(o):null,this._enumValues=o&&o.type==="enum"?o.values:null};function Hf(e){return Array.isArray(e)&&e.length>0&&typeof e[0]=="string"&&e[0]in Uf}function jd(e,t){var o=new Hc(Uf,[],t?function(E){var D={color:dn,string:Wr,number:Pr,enum:Wr,boolean:an,formatted:Ma,resolvedImage:Ca};return E.type==="array"?ia(D[E.value]||zn,E.length):D[E.type]}(t):void 0),m=o.parse(e,void 0,void 0,void 0,t&&t.type==="string"?{typeAnnotation:"coerce"}:void 0);return m?mc(new Xf(m,t)):pd(o.errors)}Xf.prototype.evaluateWithoutErrorHandling=function(e,t,o,m,E,D){return this._evaluator.globals=e,this._evaluator.feature=t,this._evaluator.featureState=o,this._evaluator.canonical=m,this._evaluator.availableImages=E||null,this._evaluator.formattedSection=D,this.expression.evaluate(this._evaluator)},Xf.prototype.evaluate=function(e,t,o,m,E,D){this._evaluator.globals=e,this._evaluator.feature=t||null,this._evaluator.featureState=o||null,this._evaluator.canonical=m,this._evaluator.availableImages=E||null,this._evaluator.formattedSection=D||null;try{var V=this.expression.evaluate(this._evaluator);if(V==null||typeof V=="number"&&V!=V)return this._defaultValue;if(this._enumValues&&!(V in this._enumValues))throw new To("Expected value to be one of "+Object.keys(this._enumValues).map(function(ae){return JSON.stringify(ae)}).join(", ")+", but found "+JSON.stringify(V)+" instead.");return V}catch(ae){return this._warningHistory[ae.message]||(this._warningHistory[ae.message]=!0,typeof console!="undefined"&&console.warn(ae.message)),this._defaultValue}};var Tc=function(t,o){this.kind=t,this._styleExpression=o,this.isStateDependent=t!=="constant"&&!al(o.expression)};Tc.prototype.evaluateWithoutErrorHandling=function(e,t,o,m,E,D){return this._styleExpression.evaluateWithoutErrorHandling(e,t,o,m,E,D)},Tc.prototype.evaluate=function(e,t,o,m,E,D){return this._styleExpression.evaluate(e,t,o,m,E,D)};var Qf=function(t,o,m,E){this.kind=t,this.zoomStops=m,this._styleExpression=o,this.isStateDependent=t!=="camera"&&!al(o.expression),this.interpolationType=E};function kd(e,t){if((e=jd(e,t)).result==="error")return e;var o=e.value.expression,m=ql(o);if(!m&&!Vf(t))return pd([new nr("","data expressions not supported")]);var E=du(o,["zoom"]);if(!E&&!Gc(t))return pd([new nr("","zoom expressions not supported")]);var D=function V(ae){var je=null;if(ae instanceof Ia)je=V(ae.result);else if(ae instanceof ma)for(var tt=0,wt=ae.args;tt<wt.length&&!(je=V(wt[tt]));tt+=1);else(ae instanceof Bs||ae instanceof fn)&&ae.input instanceof La&&ae.input.name==="zoom"&&(je=ae);return je instanceof nr||ae.eachChild(function(Bt){var Kt=V(Bt);Kt instanceof nr?je=Kt:!je&&Kt?je=new nr("",'"zoom" expression may only be used as input to a top-level "step" or "interpolate" expression.'):je&&Kt&&je!==Kt&&(je=new nr("",'Only one zoom-based "step" or "interpolate" subexpression may be used in an expression.'))}),je}(o);return D||E?D instanceof nr?pd([D]):D instanceof fn&&!vd(t)?pd([new nr("",'"interpolate" expressions cannot be used with this property')]):mc(D?new Qf(m?"camera":"composite",e.value,D.labels,D instanceof fn?D.interpolation:void 0):new Tc(m?"constant":"source",e.value)):pd([new nr("",'"zoom" expression may only be used as input to a top-level "step" or "interpolate" expression.')])}Qf.prototype.evaluateWithoutErrorHandling=function(e,t,o,m,E,D){return this._styleExpression.evaluateWithoutErrorHandling(e,t,o,m,E,D)},Qf.prototype.evaluate=function(e,t,o,m,E,D){return this._styleExpression.evaluate(e,t,o,m,E,D)},Qf.prototype.interpolationFactor=function(e,t,o){return this.interpolationType?fn.interpolationFactor(this.interpolationType,e,t,o):0};var md=function(t,o){this._parameters=t,this._specification=o,dt(this,function m(E,D){var V,ae,je,tt=D.type==="color",wt=E.stops&&typeof E.stops[0][0]=="object",Bt=wt||!(wt||E.property!==void 0),Kt=E.type||(vd(D)?"exponential":"interval");if(tt&&((E=dt({},E)).stops&&(E.stops=E.stops.map(function(mo){return[mo[0],ba.parse(mo[1])]})),E.default=ba.parse(E.default?E.default:D.default)),E.colorSpace&&E.colorSpace!=="rgb"&&!Yr[E.colorSpace])throw new Error("Unknown color space: "+E.colorSpace);if(Kt==="exponential")V=Vp;else if(Kt==="interval")V=sv;else if(Kt==="categorical"){V=uc,ae=Object.create(null);for(var pr=0,Ir=E.stops;pr<Ir.length;pr+=1){var Ar=Ir[pr];ae[Ar[0]]=Ar[1]}je=typeof E.stops[0][0]}else{if(Kt!=="identity")throw new Error('Unknown function type "'+Kt+'"');V=wc}if(wt){for(var $r={},Gr=[],gn=0;gn<E.stops.length;gn++){var Dn=E.stops[gn],Kn=Dn[0].zoom;$r[Kn]===void 0&&($r[Kn]={zoom:Kn,type:E.type,property:E.property,default:E.default,stops:[]},Gr.push(Kn)),$r[Kn].stops.push([Dn[0].value,Dn[1]])}for(var ha=[],da=0,Ja=Gr;da<Ja.length;da+=1){var ti=Ja[da];ha.push([$r[ti].zoom,m($r[ti],D)])}var Hi={name:"linear"};return{kind:"composite",interpolationType:Hi,interpolationFactor:fn.interpolationFactor.bind(void 0,Hi),zoomStops:ha.map(function(mo){return mo[0]}),evaluate:function(Wi,Jo){var Ko=Wi.zoom;return Vp({stops:ha,base:E.base},D,Ko).evaluate(Ko,Jo)}}}if(Bt){var co=Kt==="exponential"?{name:"exponential",base:E.base!==void 0?E.base:1}:null;return{kind:"camera",interpolationType:co,interpolationFactor:fn.interpolationFactor.bind(void 0,co),zoomStops:E.stops.map(function(mo){return mo[0]}),evaluate:function(Wi){return V(E,D,Wi.zoom,ae,je)}}}return{kind:"source",evaluate:function(Wi,Jo){var Ko=Jo&&Jo.properties?Jo.properties[E.property]:void 0;return Ko===void 0?$d(E.default,D.default):V(E,D,Ko,ae,je)}}}(this._parameters,this._specification))};function sf(e){var t=e.key,o=e.value,m=e.valueSpec||{},E=e.objectElementValidators||{},D=e.style,V=e.styleSpec,ae=[],je=Ll(o);if(je!=="object")return[new xe(t,o,"object expected, "+je+" found")];for(var tt in o){var wt=tt.split(".")[0],Bt=m[wt]||m["*"],Kt=void 0;if(E[wt])Kt=E[wt];else if(m[wt])Kt=Ai;else if(E["*"])Kt=E["*"];else{if(!m["*"]){ae.push(new xe(t,o[tt],'unknown property "'+tt+'"'));continue}Kt=Ai}ae=ae.concat(Kt({key:(t&&t+".")+tt,value:o[tt],valueSpec:Bt,style:D,styleSpec:V,object:o,objectKey:tt},o))}for(var pr in m)E[pr]||m[pr].required&&m[pr].default===void 0&&o[pr]===void 0&&ae.push(new xe(t,o,'missing required property "'+pr+'"'));return ae}function Xh(e){var t=e.value,o=e.valueSpec,m=e.style,E=e.styleSpec,D=e.key,V=e.arrayElementValidator||Ai;if(Ll(t)!=="array")return[new xe(D,t,"array expected, "+Ll(t)+" found")];if(o.length&&t.length!==o.length)return[new xe(D,t,"array length "+o.length+" expected, length "+t.length+" found")];if(o["min-length"]&&t.length<o["min-length"])return[new xe(D,t,"array length at least "+o["min-length"]+" expected, length "+t.length+" found")];var ae={type:o.value,values:o.values};E.$version<7&&(ae.function=o.function),Ll(o.value)==="object"&&(ae=o.value);for(var je=[],tt=0;tt<t.length;tt++)je=je.concat(V({array:t,arrayIndex:tt,value:t[tt],valueSpec:ae,style:m,styleSpec:E,key:D+"["+tt+"]"}));return je}function Id(e){var t=e.key,o=e.value,m=e.valueSpec,E=Ll(o);return E==="number"&&o!=o&&(E="NaN"),E!=="number"?[new xe(t,o,"number expected, "+E+" found")]:"minimum"in m&&o<m.minimum?[new xe(t,o,o+" is less than the minimum value "+m.minimum)]:"maximum"in m&&o>m.maximum?[new xe(t,o,o+" is greater than the maximum value "+m.maximum)]:[]}function gp(e){var t,o,m,E=e.valueSpec,D=Gt(e.value.type),V={},ae=D!=="categorical"&&e.value.property===void 0,je=!ae,tt=Ll(e.value.stops)==="array"&&Ll(e.value.stops[0])==="array"&&Ll(e.value.stops[0][0])==="object",wt=sf({key:e.key,value:e.value,valueSpec:e.styleSpec.function,style:e.style,styleSpec:e.styleSpec,objectElementValidators:{stops:function(Ir){if(D==="identity")return[new xe(Ir.key,Ir.value,'identity function may not have a "stops" property')];var Ar=[],$r=Ir.value;return Ar=Ar.concat(Xh({key:Ir.key,value:$r,valueSpec:Ir.valueSpec,style:Ir.style,styleSpec:Ir.styleSpec,arrayElementValidator:Bt})),Ll($r)==="array"&&$r.length===0&&Ar.push(new xe(Ir.key,$r,"array must have at least one stop")),Ar},default:function(Ir){return Ai({key:Ir.key,value:Ir.value,valueSpec:E,style:Ir.style,styleSpec:Ir.styleSpec})}}});return D==="identity"&&ae&&wt.push(new xe(e.key,e.value,'missing required property "property"')),D==="identity"||e.value.stops||wt.push(new xe(e.key,e.value,'missing required property "stops"')),D==="exponential"&&e.valueSpec.expression&&!vd(e.valueSpec)&&wt.push(new xe(e.key,e.value,"exponential functions not supported")),e.styleSpec.$version>=8&&(je&&!Vf(e.valueSpec)?wt.push(new xe(e.key,e.value,"property functions not supported")):ae&&!Gc(e.valueSpec)&&wt.push(new xe(e.key,e.value,"zoom functions not supported"))),D!=="categorical"&&!tt||e.value.property!==void 0||wt.push(new xe(e.key,e.value,'"property" property is required')),wt;function Bt(pr){var Ir=[],Ar=pr.value,$r=pr.key;if(Ll(Ar)!=="array")return[new xe($r,Ar,"array expected, "+Ll(Ar)+" found")];if(Ar.length!==2)return[new xe($r,Ar,"array length 2 expected, length "+Ar.length+" found")];if(tt){if(Ll(Ar[0])!=="object")return[new xe($r,Ar,"object expected, "+Ll(Ar[0])+" found")];if(Ar[0].zoom===void 0)return[new xe($r,Ar,"object stop key must have zoom")];if(Ar[0].value===void 0)return[new xe($r,Ar,"object stop key must have value")];if(m&&m>Gt(Ar[0].zoom))return[new xe($r,Ar[0].zoom,"stop zoom values must appear in ascending order")];Gt(Ar[0].zoom)!==m&&(m=Gt(Ar[0].zoom),o=void 0,V={}),Ir=Ir.concat(sf({key:$r+"[0]",value:Ar[0],valueSpec:{zoom:{}},style:pr.style,styleSpec:pr.styleSpec,objectElementValidators:{zoom:Id,value:Kt}}))}else Ir=Ir.concat(Kt({key:$r+"[0]",value:Ar[0],valueSpec:{},style:pr.style,styleSpec:pr.styleSpec},Ar));return Hf($t(Ar[1]))?Ir.concat([new xe($r+"[1]",Ar[1],"expressions are not allowed in function stops.")]):Ir.concat(Ai({key:$r+"[1]",value:Ar[1],valueSpec:E,style:pr.style,styleSpec:pr.styleSpec}))}function Kt(pr,Ir){var Ar=Ll(pr.value),$r=Gt(pr.value),Gr=pr.value!==null?pr.value:Ir;if(t){if(Ar!==t)return[new xe(pr.key,Gr,Ar+" stop domain type must match previous stop domain type "+t)]}else t=Ar;if(Ar!=="number"&&Ar!=="string"&&Ar!=="boolean")return[new xe(pr.key,Gr,"stop domain value must be a number, string, or boolean")];if(Ar!=="number"&&D!=="categorical"){var gn="number expected, "+Ar+" found";return Vf(E)&&D===void 0&&(gn+='\nIf you intended to use a categorical function, specify `"type": "categorical"`.'),[new xe(pr.key,Gr,gn)]}return D!=="categorical"||Ar!=="number"||isFinite($r)&&Math.floor($r)===$r?D!=="categorical"&&Ar==="number"&&o!==void 0&&$r<o?[new xe(pr.key,Gr,"stop domain values must appear in ascending order")]:(o=$r,D==="categorical"&&$r in V?[new xe(pr.key,Gr,"stop domain values must be unique")]:(V[$r]=!0,[])):[new xe(pr.key,Gr,"integer expected, found "+$r)]}}function Xd(e){var t=(e.expressionContext==="property"?kd:jd)($t(e.value),e.valueSpec);if(t.result==="error")return t.value.map(function(m){return new xe(""+e.key+m.key,e.value,m.message)});var o=t.value.expression||t.value._styleExpression.expression;if(e.expressionContext==="property"&&e.propertyKey==="text-font"&&!o.outputDefined())return[new xe(e.key,e.value,'Invalid data expression for "'+e.propertyKey+'". Output values must be contained as literals within the expression.')];if(e.expressionContext==="property"&&e.propertyType==="layout"&&!al(o))return[new xe(e.key,e.value,'"feature-state" data expressions are not supported with layout properties.')];if(e.expressionContext==="filter"&&!al(o))return[new xe(e.key,e.value,'"feature-state" data expressions are not supported with filters.')];if(e.expressionContext&&e.expressionContext.indexOf("cluster")===0){if(!du(o,["zoom","feature-state"]))return[new xe(e.key,e.value,'"zoom" and "feature-state" expressions are not supported with cluster properties.')];if(e.expressionContext==="cluster-initial"&&!ql(o))return[new xe(e.key,e.value,"Feature data expressions are not supported with initial expression part of cluster properties.")]}return[]}function Of(e){var t=e.key,o=e.value,m=e.valueSpec,E=[];return Array.isArray(m.values)?m.values.indexOf(Gt(o))===-1&&E.push(new xe(t,o,"expected one of ["+m.values.join(", ")+"], "+JSON.stringify(o)+" found")):Object.keys(m.values).indexOf(Gt(o))===-1&&E.push(new xe(t,o,"expected one of ["+Object.keys(m.values).join(", ")+"], "+JSON.stringify(o)+" found")),E}function ch(e){if(e===!0||e===!1)return!0;if(!Array.isArray(e)||e.length===0)return!1;switch(e[0]){case"has":return e.length>=2&&e[1]!=="$id"&&e[1]!=="$type";case"in":return e.length>=3&&(typeof e[1]!="string"||Array.isArray(e[2]));case"!in":case"!has":case"none":return!1;case"==":case"!=":case">":case">=":case"<":case"<=":return e.length!==3||Array.isArray(e[1])||Array.isArray(e[2]);case"any":case"all":for(var t=0,o=e.slice(1);t<o.length;t+=1){var m=o[t];if(!ch(m)&&typeof m!="boolean")return!1}return!0;default:return!0}}md.deserialize=function(e){return new md(e._parameters,e._specification)},md.serialize=function(e){return{_parameters:e._parameters,_specification:e._specification}};var Jf={type:"boolean",default:!1,transition:!1,"property-type":"data-driven",expression:{interpolated:!1,parameters:["zoom","feature"]}};function Bd(e){if(e==null)return{filter:function(){return!0},needGeometry:!1};ch(e)||(e=Th(e));var t=jd(e,Jf);if(t.result==="error")throw new Error(t.value.map(function(o){return o.key+": "+o.message}).join(", "));return{filter:function(m,E,D){return t.value.evaluate(m,E,{},D)},needGeometry:function o(m){if(!Array.isArray(m))return!1;if(m[0]==="within")return!0;for(var E=1;E<m.length;E++)if(o(m[E]))return!0;return!1}(e)}}function fh(e,t){return e<t?-1:e>t?1:0}function Th(e){if(!e)return!0;var t,o=e[0];return e.length<=1?o!=="any":o==="=="?yp(e[1],e[2],"=="):o==="!="?bp(yp(e[1],e[2],"==")):o==="<"||o===">"||o==="<="||o===">="?yp(e[1],e[2],o):o==="any"?(t=e.slice(1),["any"].concat(t.map(Th))):o==="all"?["all"].concat(e.slice(1).map(Th)):o==="none"?["all"].concat(e.slice(1).map(Th).map(bp)):o==="in"?Rd(e[1],e.slice(2)):o==="!in"?bp(Rd(e[1],e.slice(2))):o==="has"?qf(e[1]):o==="!has"?bp(qf(e[1])):o!=="within"||e}function yp(e,t,o){switch(e){case"$type":return["filter-type-"+o,t];case"$id":return["filter-id-"+o,t];default:return["filter-"+o,e,t]}}function Rd(e,t){if(t.length===0)return!1;switch(e){case"$type":return["filter-type-in",["literal",t]];case"$id":return["filter-id-in",["literal",t]];default:return t.length>200&&!t.some(function(o){return typeof o!=typeof t[0]})?["filter-in-large",e,["literal",t.sort(fh)]]:["filter-in-small",e,["literal",t]]}}function qf(e){switch(e){case"$type":return!0;case"$id":return["filter-has-id"];default:return["filter-has",e]}}function bp(e){return["!",e]}function Hp(e){return ch($t(e.value))?Xd(dt({},e,{expressionContext:"filter",valueSpec:{value:"boolean"}})):function t(o){var m=o.value,E=o.key;if(Ll(m)!=="array")return[new xe(E,m,"array expected, "+Ll(m)+" found")];var D,V=o.styleSpec,ae=[];if(m.length<1)return[new xe(E,m,"filter array must have at least 1 element")];switch(ae=ae.concat(Of({key:E+"[0]",value:m[0],valueSpec:V.filter_operator,style:o.style,styleSpec:o.styleSpec})),Gt(m[0])){case"<":case"<=":case">":case">=":m.length>=2&&Gt(m[1])==="$type"&&ae.push(new xe(E,m,'"$type" cannot be use with operator "'+m[0]+'"'));case"==":case"!=":m.length!==3&&ae.push(new xe(E,m,'filter array for operator "'+m[0]+'" must have 3 elements'));case"in":case"!in":m.length>=2&&(D=Ll(m[1]))!=="string"&&ae.push(new xe(E+"[1]",m[1],"string expected, "+D+" found"));for(var je=2;je<m.length;je++)D=Ll(m[je]),Gt(m[1])==="$type"?ae=ae.concat(Of({key:E+"["+je+"]",value:m[je],valueSpec:V.geometry_type,style:o.style,styleSpec:o.styleSpec})):D!=="string"&&D!=="number"&&D!=="boolean"&&ae.push(new xe(E+"["+je+"]",m[je],"string, number, or boolean expected, "+D+" found"));break;case"any":case"all":case"none":for(var tt=1;tt<m.length;tt++)ae=ae.concat(t({key:E+"["+tt+"]",value:m[tt],style:o.style,styleSpec:o.styleSpec}));break;case"has":case"!has":D=Ll(m[1]),m.length!==2?ae.push(new xe(E,m,'filter array for "'+m[0]+'" operator must have 2 elements')):D!=="string"&&ae.push(new xe(E+"[1]",m[1],"string expected, "+D+" found"));break;case"within":D=Ll(m[1]),m.length!==2?ae.push(new xe(E,m,'filter array for "'+m[0]+'" operator must have 2 elements')):D!=="object"&&ae.push(new xe(E+"[1]",m[1],"object expected, "+D+" found"))}return ae}(e)}function Ah(e,t){var o=e.key,m=e.style,E=e.styleSpec,D=e.value,V=e.objectKey,ae=E[t+"_"+e.layerType];if(!ae)return[];var je=V.match(/^(.*)-transition$/);if(t==="paint"&&je&&ae[je[1]]&&ae[je[1]].transition)return Ai({key:o,value:D,valueSpec:E.transition,style:m,styleSpec:E});var tt,wt=e.valueSpec||ae[V];if(!wt)return[new xe(o,D,'unknown property "'+V+'"')];if(Ll(D)==="string"&&Vf(wt)&&!wt.tokens&&(tt=/^{([^}]+)}$/.exec(D)))return[new xe(o,D,'"'+V+'" does not support interpolation syntax\nUse an identity property function instead: `{ "type": "identity", "property": '+JSON.stringify(tt[1])+" }`.")];var Bt=[];return e.layerType==="symbol"&&(V==="text-field"&&m&&!m.glyphs&&Bt.push(new xe(o,D,'use of "text-field" requires a style "glyphs" property')),V==="text-font"&&Yd($t(D))&&Gt(D.type)==="identity"&&Bt.push(new xe(o,D,'"text-font" does not support identity functions'))),Bt.concat(Ai({key:e.key,value:D,valueSpec:wt,style:m,styleSpec:E,expressionContext:"property",propertyType:t,propertyKey:V}))}function Mh(e){return Ah(e,"paint")}function Qh(e){return Ah(e,"layout")}function Wp(e){var t=[],o=e.value,m=e.key,E=e.style,D=e.styleSpec;o.type||o.ref||t.push(new xe(m,o,'either "type" or "ref" is required'));var V,ae=Gt(o.type),je=Gt(o.ref);if(o.id)for(var tt=Gt(o.id),wt=0;wt<e.arrayIndex;wt++){var Bt=E.layers[wt];Gt(Bt.id)===tt&&t.push(new xe(m,o.id,'duplicate layer id "'+o.id+'", previously used at line '+Bt.id.__line__))}if("ref"in o)["type","source","source-layer","filter","layout"].forEach(function(Ir){Ir in o&&t.push(new xe(m,o[Ir],'"'+Ir+'" is prohibited for ref layers'))}),E.layers.forEach(function(Ir){Gt(Ir.id)===je&&(V=Ir)}),V?V.ref?t.push(new xe(m,o.ref,"ref cannot reference another ref layer")):ae=Gt(V.type):t.push(new xe(m,o.ref,'ref layer "'+je+'" not found'));else if(ae!=="background")if(o.source){var Kt=E.sources&&E.sources[o.source],pr=Kt&&Gt(Kt.type);Kt?pr==="vector"&&ae==="raster"?t.push(new xe(m,o.source,'layer "'+o.id+'" requires a raster source')):pr==="raster"&&ae!=="raster"?t.push(new xe(m,o.source,'layer "'+o.id+'" requires a vector source')):pr!=="vector"||o["source-layer"]?pr==="raster-dem"&&ae!=="hillshade"?t.push(new xe(m,o.source,"raster-dem source can only be used with layer type 'hillshade'.")):ae!=="line"||!o.paint||!o.paint["line-gradient"]||pr==="geojson"&&Kt.lineMetrics||t.push(new xe(m,o,'layer "'+o.id+'" specifies a line-gradient, which requires a GeoJSON source with `lineMetrics` enabled.')):t.push(new xe(m,o,'layer "'+o.id+'" must specify a "source-layer"')):t.push(new xe(m,o.source,'source "'+o.source+'" not found'))}else t.push(new xe(m,o,'missing required property "source"'));return t=t.concat(sf({key:m,value:o,valueSpec:D.layer,style:e.style,styleSpec:e.styleSpec,objectElementValidators:{"*":function(){return[]},type:function(){return Ai({key:m+".type",value:o.type,valueSpec:D.layer.type,style:e.style,styleSpec:e.styleSpec,object:o,objectKey:"type"})},filter:Hp,layout:function(Ar){return sf({layer:o,key:Ar.key,value:Ar.value,style:Ar.style,styleSpec:Ar.styleSpec,objectElementValidators:{"*":function(Gr){return Qh(dt({layerType:ae},Gr))}}})},paint:function(Ar){return sf({layer:o,key:Ar.key,value:Ar.value,style:Ar.style,styleSpec:Ar.styleSpec,objectElementValidators:{"*":function(Gr){return Mh(dt({layerType:ae},Gr))}}})}}}))}function ed(e){var t=e.value,o=e.key,m=Ll(t);return m!=="string"?[new xe(o,t,"string expected, "+m+" found")]:[]}var vn={promoteId:function(t){var o=t.key,m=t.value;if(Ll(m)==="string")return ed({key:o,value:m});var E=[];for(var D in m)E.push.apply(E,ed({key:o+"."+D,value:m[D]}));return E}};function Oa(e){var t=e.value,o=e.key,m=e.styleSpec,E=e.style;if(!t.type)return[new xe(o,t,'"type" is required')];var D,V=Gt(t.type);switch(V){case"vector":case"raster":case"raster-dem":return sf({key:o,value:t,valueSpec:m["source_"+V.replace("-","_")],style:e.style,styleSpec:m,objectElementValidators:vn});case"geojson":if(D=sf({key:o,value:t,valueSpec:m.source_geojson,style:E,styleSpec:m,objectElementValidators:vn}),t.cluster)for(var ae in t.clusterProperties){var je=t.clusterProperties[ae],tt=je[0],wt=typeof tt=="string"?[tt,["accumulated"],["get",ae]]:tt;D.push.apply(D,Xd({key:o+"."+ae+".map",value:je[1],expressionContext:"cluster-map"})),D.push.apply(D,Xd({key:o+"."+ae+".reduce",value:wt,expressionContext:"cluster-reduce"}))}return D;case"video":return sf({key:o,value:t,valueSpec:m.source_video,style:E,styleSpec:m});case"image":return sf({key:o,value:t,valueSpec:m.source_image,style:E,styleSpec:m});case"canvas":return[new xe(o,null,"Please use runtime APIs to add canvas sources, rather than including them in stylesheets.","source.canvas")];default:return Of({key:o+".type",value:t.type,valueSpec:{values:["vector","raster","raster-dem","geojson","video","image"]},style:E,styleSpec:m})}}function oa(e){var t=e.value,o=e.styleSpec,m=o.light,E=e.style,D=[],V=Ll(t);if(t===void 0)return D;if(V!=="object")return D.concat([new xe("light",t,"object expected, "+V+" found")]);for(var ae in t){var je=ae.match(/^(.*)-transition$/);D=D.concat(je&&m[je[1]]&&m[je[1]].transition?Ai({key:ae,value:t[ae],valueSpec:o.transition,style:E,styleSpec:o}):m[ae]?Ai({key:ae,value:t[ae],valueSpec:m[ae],style:E,styleSpec:o}):[new xe(ae,t[ae],'unknown property "'+ae+'"')])}return D}var to={"*":function(){return[]},array:Xh,boolean:function(t){var o=t.value,m=t.key,E=Ll(o);return E!=="boolean"?[new xe(m,o,"boolean expected, "+E+" found")]:[]},number:Id,color:function(t){var o=t.key,m=t.value,E=Ll(m);return E!=="string"?[new xe(o,m,"color expected, "+E+" found")]:Fa(m)===null?[new xe(o,m,'color expected, "'+m+'" found')]:[]},constants:Oe,enum:Of,filter:Hp,function:gp,layer:Wp,object:sf,source:Oa,light:oa,string:ed,formatted:function(t){return ed(t).length===0?[]:Xd(t)},resolvedImage:function(t){return ed(t).length===0?[]:Xd(t)}};function Ai(e){var t=e.value,o=e.valueSpec,m=e.styleSpec;return o.expression&&Yd(Gt(t))?gp(e):o.expression&&Hf($t(t))?Xd(e):o.type&&to[o.type]?to[o.type](e):sf(dt({},e,{valueSpec:o.type?m[o.type]:o}))}function Xo(e){var t=e.value,o=e.key,m=ed(e);return m.length||(t.indexOf("{fontstack}")===-1&&m.push(new xe(o,t,'"glyphs" url must include a "{fontstack}" token')),t.indexOf("{range}")===-1&&m.push(new xe(o,t,'"glyphs" url must include a "{range}" token'))),m}function ol(e,t){t===void 0&&(t=Pe);var o=[];return o=o.concat(Ai({key:"",value:e,valueSpec:t.$root,styleSpec:t,style:e,objectElementValidators:{glyphs:Xo,"*":function(){return[]}}})),e.constants&&(o=o.concat(Oe({key:"constants",value:e.constants,style:e,styleSpec:t}))),dl(o)}function dl(e){return[].concat(e).sort(function(t,o){return t.line-o.line})}function gd(e){return function(){for(var t=[],o=arguments.length;o--;)t[o]=arguments[o];return dl(e.apply(this,t))}}ol.source=gd(Oa),ol.light=gd(oa),ol.layer=gd(Wp),ol.filter=gd(Hp),ol.paintProperty=gd(Mh),ol.layoutProperty=gd(Qh);var Ld=ol,lf=Ld.light,Jh=Ld.paintProperty,_h=Ld.layoutProperty;function uf(e,t){var o=!1;if(t&&t.length)for(var m=0,E=t;m<E.length;m+=1)e.fire(new rt(new Error(E[m].message))),o=!0;return o}var Pf=ru;function ru(e,t,o){var m=this.cells=[];if(e instanceof ArrayBuffer){this.arrayBuffer=e;var E=new Int32Array(this.arrayBuffer);e=E[0],this.d=(t=E[1])+2*(o=E[2]);for(var D=0;D<this.d*this.d;D++){var V=E[3+D],ae=E[3+D+1];m.push(V===ae?null:E.subarray(V,ae))}var je=E[3+m.length+1];this.keys=E.subarray(E[3+m.length],je),this.bboxes=E.subarray(je),this.insert=this._insertReadonly}else{this.d=t+2*o;for(var tt=0;tt<this.d*this.d;tt++)m.push([]);this.keys=[],this.bboxes=[]}this.n=t,this.extent=e,this.padding=o,this.scale=t/e,this.uid=0;var wt=o/t*e;this.min=-wt,this.max=e+wt}ru.prototype.insert=function(e,t,o,m,E){this._forEachCell(t,o,m,E,this._insertCell,this.uid++),this.keys.push(e),this.bboxes.push(t),this.bboxes.push(o),this.bboxes.push(m),this.bboxes.push(E)},ru.prototype._insertReadonly=function(){throw"Cannot insert into a GridIndex created from an ArrayBuffer."},ru.prototype._insertCell=function(e,t,o,m,E,D){this.cells[E].push(D)},ru.prototype.query=function(e,t,o,m,E){var D=this.min,V=this.max;if(e<=D&&t<=D&&V<=o&&V<=m&&!E)return Array.prototype.slice.call(this.keys);var ae=[];return this._forEachCell(e,t,o,m,this._queryCell,ae,{},E),ae},ru.prototype._queryCell=function(e,t,o,m,E,D,V,ae){var je=this.cells[E];if(je!==null)for(var tt=this.keys,wt=this.bboxes,Bt=0;Bt<je.length;Bt++){var Kt=je[Bt];if(V[Kt]===void 0){var pr=4*Kt;(ae?ae(wt[pr+0],wt[pr+1],wt[pr+2],wt[pr+3]):e<=wt[pr+2]&&t<=wt[pr+3]&&o>=wt[pr+0]&&m>=wt[pr+1])?(V[Kt]=!0,D.push(tt[Kt])):V[Kt]=!1}}},ru.prototype._forEachCell=function(e,t,o,m,E,D,V,ae){for(var je=this._convertToCellCoord(e),tt=this._convertToCellCoord(t),wt=this._convertToCellCoord(o),Bt=this._convertToCellCoord(m),Kt=je;Kt<=wt;Kt++)for(var pr=tt;pr<=Bt;pr++){var Ir=this.d*pr+Kt;if((!ae||ae(this._convertFromCellCoord(Kt),this._convertFromCellCoord(pr),this._convertFromCellCoord(Kt+1),this._convertFromCellCoord(pr+1)))&&E.call(this,e,t,o,m,Ir,D,V,ae))return}},ru.prototype._convertFromCellCoord=function(e){return(e-this.padding)/this.scale},ru.prototype._convertToCellCoord=function(e){return Math.max(0,Math.min(this.d-1,Math.floor(e*this.scale)+this.padding))},ru.prototype.toArrayBuffer=function(){if(this.arrayBuffer)return this.arrayBuffer;for(var e=this.cells,t=3+this.cells.length+1+1,o=0,m=0;m<this.cells.length;m++)o+=this.cells[m].length;var E=new Int32Array(t+o+this.keys.length+this.bboxes.length);E[0]=this.extent,E[1]=this.n,E[2]=this.padding;for(var D=t,V=0;V<e.length;V++){var ae=e[V];E[3+V]=D,E.set(ae,D),D+=ae.length}return E[3+e.length]=D,E.set(this.keys,D),E[3+e.length+1]=D+=this.keys.length,E.set(this.bboxes,D),D+=this.bboxes.length,E.buffer};var hl=Te.ImageData,dh=Te.ImageBitmap,Al={};function bi(e,t,o){o===void 0&&(o={}),Object.defineProperty(t,"_classRegistryKey",{value:e,writeable:!1}),Al[e]={klass:t,omit:o.omit||[],shallow:o.shallow||[]}}for(var Kc in bi("Object",Object),Pf.serialize=function(e,t){var o=e.toArrayBuffer();return t&&t.push(o),{buffer:o}},Pf.deserialize=function(e){return new Pf(e.buffer)},bi("Grid",Pf),bi("Color",ba),bi("Error",Error),bi("ResolvedImage",Ui),bi("StylePropertyFunction",md),bi("StyleExpression",Xf,{omit:["_evaluator"]}),bi("ZoomDependentExpression",Qf),bi("ZoomConstantExpression",Tc),bi("CompoundExpression",La,{omit:["_evaluate"]}),Uf)Uf[Kc]._classRegistryKey||bi("Expression_"+Kc,Uf[Kc]);function qh(e){return e&&typeof ArrayBuffer!="undefined"&&(e instanceof ArrayBuffer||e.constructor&&e.constructor.name==="ArrayBuffer")}function Ih(e){return dh&&e instanceof dh}function cf(e,t){if(e==null||typeof e=="boolean"||typeof e=="number"||typeof e=="string"||e instanceof Boolean||e instanceof Number||e instanceof String||e instanceof Date||e instanceof RegExp)return e;if(qh(e)||Ih(e))return t&&t.push(e),e;if(ArrayBuffer.isView(e)){var o=e;return t&&t.push(o.buffer),o}if(e instanceof hl)return t&&t.push(e.data.buffer),e;if(Array.isArray(e)){for(var m=[],E=0,D=e;E<D.length;E+=1)m.push(cf(D[E],t));return m}if(typeof e=="object"){var V=e.constructor,ae=V._classRegistryKey;if(!ae)throw new Error("can't serialize object of unregistered class");var je=V.serialize?V.serialize(e,t):{};if(!V.serialize){for(var tt in e)if(e.hasOwnProperty(tt)&&!(Al[ae].omit.indexOf(tt)>=0)){var wt=e[tt];je[tt]=Al[ae].shallow.indexOf(tt)>=0?wt:cf(wt,t)}e instanceof Error&&(je.message=e.message)}if(je.$name)throw new Error("$name property is reserved for worker serialization logic.");return ae!=="Object"&&(je.$name=ae),je}throw new Error("can't serialize object of type "+typeof e)}function Yu(e){if(e==null||typeof e=="boolean"||typeof e=="number"||typeof e=="string"||e instanceof Boolean||e instanceof Number||e instanceof String||e instanceof Date||e instanceof RegExp||qh(e)||Ih(e)||ArrayBuffer.isView(e)||e instanceof hl)return e;if(Array.isArray(e))return e.map(Yu);if(typeof e=="object"){var t=e.$name||"Object",o=Al[t].klass;if(!o)throw new Error("can't deserialize unregistered class "+t);if(o.deserialize)return o.deserialize(e);for(var m=Object.create(o.prototype),E=0,D=Object.keys(e);E<D.length;E+=1){var V=D[E];if(V!=="$name"){var ae=e[V];m[V]=Al[t].shallow.indexOf(V)>=0?ae:Yu(ae)}}return m}throw new Error("can't deserialize object of type "+typeof e)}var hh=function(){this.first=!0};hh.prototype.update=function(e,t){var o=Math.floor(e);return this.first?(this.first=!1,this.lastIntegerZoom=o,this.lastIntegerZoomTime=0,this.lastZoom=e,this.lastFloorZoom=o,!0):(this.lastFloorZoom>o?(this.lastIntegerZoom=o+1,this.lastIntegerZoomTime=t):this.lastFloorZoom<o&&(this.lastIntegerZoom=o,this.lastIntegerZoomTime=t),e!==this.lastZoom&&(this.lastZoom=e,this.lastFloorZoom=o,!0))};var gi={"Latin-1 Supplement":function(t){return t>=128&&t<=255},Arabic:function(t){return t>=1536&&t<=1791},"Arabic Supplement":function(t){return t>=1872&&t<=1919},"Arabic Extended-A":function(t){return t>=2208&&t<=2303},"Hangul Jamo":function(t){return t>=4352&&t<=4607},"Unified Canadian Aboriginal Syllabics":function(t){return t>=5120&&t<=5759},Khmer:function(t){return t>=6016&&t<=6143},"Unified Canadian Aboriginal Syllabics Extended":function(t){return t>=6320&&t<=6399},"General Punctuation":function(t){return t>=8192&&t<=8303},"Letterlike Symbols":function(t){return t>=8448&&t<=8527},"Number Forms":function(t){return t>=8528&&t<=8591},"Miscellaneous Technical":function(t){return t>=8960&&t<=9215},"Control Pictures":function(t){return t>=9216&&t<=9279},"Optical Character Recognition":function(t){return t>=9280&&t<=9311},"Enclosed Alphanumerics":function(t){return t>=9312&&t<=9471},"Geometric Shapes":function(t){return t>=9632&&t<=9727},"Miscellaneous Symbols":function(t){return t>=9728&&t<=9983},"Miscellaneous Symbols and Arrows":function(t){return t>=11008&&t<=11263},"CJK Radicals Supplement":function(t){return t>=11904&&t<=12031},"Kangxi Radicals":function(t){return t>=12032&&t<=12255},"Ideographic Description Characters":function(t){return t>=12272&&t<=12287},"CJK Symbols and Punctuation":function(t){return t>=12288&&t<=12351},Hiragana:function(t){return t>=12352&&t<=12447},Katakana:function(t){return t>=12448&&t<=12543},Bopomofo:function(t){return t>=12544&&t<=12591},"Hangul Compatibility Jamo":function(t){return t>=12592&&t<=12687},Kanbun:function(t){return t>=12688&&t<=12703},"Bopomofo Extended":function(t){return t>=12704&&t<=12735},"CJK Strokes":function(t){return t>=12736&&t<=12783},"Katakana Phonetic Extensions":function(t){return t>=12784&&t<=12799},"Enclosed CJK Letters and Months":function(t){return t>=12800&&t<=13055},"CJK Compatibility":function(t){return t>=13056&&t<=13311},"CJK Unified Ideographs Extension A":function(t){return t>=13312&&t<=19903},"Yijing Hexagram Symbols":function(t){return t>=19904&&t<=19967},"CJK Unified Ideographs":function(t){return t>=19968&&t<=40959},"Yi Syllables":function(t){return t>=40960&&t<=42127},"Yi Radicals":function(t){return t>=42128&&t<=42191},"Hangul Jamo Extended-A":function(t){return t>=43360&&t<=43391},"Hangul Syllables":function(t){return t>=44032&&t<=55215},"Hangul Jamo Extended-B":function(t){return t>=55216&&t<=55295},"Private Use Area":function(t){return t>=57344&&t<=63743},"CJK Compatibility Ideographs":function(t){return t>=63744&&t<=64255},"Arabic Presentation Forms-A":function(t){return t>=64336&&t<=65023},"Vertical Forms":function(t){return t>=65040&&t<=65055},"CJK Compatibility Forms":function(t){return t>=65072&&t<=65103},"Small Form Variants":function(t){return t>=65104&&t<=65135},"Arabic Presentation Forms-B":function(t){return t>=65136&&t<=65279},"Halfwidth and Fullwidth Forms":function(t){return t>=65280&&t<=65519}};function td(e){for(var t=0,o=e;t<o.length;t+=1)if(Uu(o[t].charCodeAt(0)))return!0;return!1}function Uu(e){return!(e!==746&&e!==747&&(e<4352||!(gi["Bopomofo Extended"](e)||gi.Bopomofo(e)||gi["CJK Compatibility Forms"](e)&&!(e>=65097&&e<=65103)||gi["CJK Compatibility Ideographs"](e)||gi["CJK Compatibility"](e)||gi["CJK Radicals Supplement"](e)||gi["CJK Strokes"](e)||!(!gi["CJK Symbols and Punctuation"](e)||e>=12296&&e<=12305||e>=12308&&e<=12319||e===12336)||gi["CJK Unified Ideographs Extension A"](e)||gi["CJK Unified Ideographs"](e)||gi["Enclosed CJK Letters and Months"](e)||gi["Hangul Compatibility Jamo"](e)||gi["Hangul Jamo Extended-A"](e)||gi["Hangul Jamo Extended-B"](e)||gi["Hangul Jamo"](e)||gi["Hangul Syllables"](e)||gi.Hiragana(e)||gi["Ideographic Description Characters"](e)||gi.Kanbun(e)||gi["Kangxi Radicals"](e)||gi["Katakana Phonetic Extensions"](e)||gi.Katakana(e)&&e!==12540||!(!gi["Halfwidth and Fullwidth Forms"](e)||e===65288||e===65289||e===65293||e>=65306&&e<=65310||e===65339||e===65341||e===65343||e>=65371&&e<=65503||e===65507||e>=65512&&e<=65519)||!(!gi["Small Form Variants"](e)||e>=65112&&e<=65118||e>=65123&&e<=65126)||gi["Unified Canadian Aboriginal Syllabics"](e)||gi["Unified Canadian Aboriginal Syllabics Extended"](e)||gi["Vertical Forms"](e)||gi["Yijing Hexagram Symbols"](e)||gi["Yi Syllables"](e)||gi["Yi Radicals"](e))))}function ep(e){return!(Uu(e)||function(t){return!!(gi["Latin-1 Supplement"](t)&&(t===167||t===169||t===174||t===177||t===188||t===189||t===190||t===215||t===247)||gi["General Punctuation"](t)&&(t===8214||t===8224||t===8225||t===8240||t===8241||t===8251||t===8252||t===8258||t===8263||t===8264||t===8265||t===8273)||gi["Letterlike Symbols"](t)||gi["Number Forms"](t)||gi["Miscellaneous Technical"](t)&&(t>=8960&&t<=8967||t>=8972&&t<=8991||t>=8996&&t<=9e3||t===9003||t>=9085&&t<=9114||t>=9150&&t<=9165||t===9167||t>=9169&&t<=9179||t>=9186&&t<=9215)||gi["Control Pictures"](t)&&t!==9251||gi["Optical Character Recognition"](t)||gi["Enclosed Alphanumerics"](t)||gi["Geometric Shapes"](t)||gi["Miscellaneous Symbols"](t)&&!(t>=9754&&t<=9759)||gi["Miscellaneous Symbols and Arrows"](t)&&(t>=11026&&t<=11055||t>=11088&&t<=11097||t>=11192&&t<=11243)||gi["CJK Symbols and Punctuation"](t)||gi.Katakana(t)||gi["Private Use Area"](t)||gi["CJK Compatibility Forms"](t)||gi["Small Form Variants"](t)||gi["Halfwidth and Fullwidth Forms"](t)||t===8734||t===8756||t===8757||t>=9984&&t<=10087||t>=10102&&t<=10131||t===65532||t===65533)}(e))}function tc(e){return e>=1424&&e<=2303||gi["Arabic Presentation Forms-A"](e)||gi["Arabic Presentation Forms-B"](e)}function gu(e,t){return!(!t&&tc(e)||e>=2304&&e<=3583||e>=3840&&e<=4255||gi.Khmer(e))}function Zc(e){for(var t=0,o=e;t<o.length;t+=1)if(tc(o[t].charCodeAt(0)))return!0;return!1}var wf=null,nu="unavailable",Wf=null,Qd=function(t){t&&typeof t=="string"&&t.indexOf("NetworkError")>-1&&(nu="error"),wf&&wf(t)};function Gf(){Rh.fire(new be("pluginStateChange",{pluginStatus:nu,pluginURL:Wf}))}var Rh=new de,Jd=function(){return nu},Tf=function(){if(nu!=="deferred"||!Wf)throw new Error("rtl-text-plugin cannot be downloaded unless a pluginURL is specified");nu="loading",Gf(),Wf&&Tr({url:Wf},function(t){t?Qd(t):(nu="loaded",Gf())})},gc={applyArabicShaping:null,processBidirectionalText:null,processStyledBidirectionalText:null,isLoaded:function(){return nu==="loaded"||gc.applyArabicShaping!=null},isLoading:function(){return nu==="loading"},setState:function(t){nu=t.pluginStatus,Wf=t.pluginURL},isParsed:function(){return gc.applyArabicShaping!=null&&gc.processBidirectionalText!=null&&gc.processStyledBidirectionalText!=null},getPluginURL:function(){return Wf}},_s=function(t,o){this.zoom=t,o?(this.now=o.now,this.fadeDuration=o.fadeDuration,this.zoomHistory=o.zoomHistory,this.transition=o.transition):(this.now=0,this.fadeDuration=0,this.zoomHistory=new hh,this.transition={})};_s.prototype.isSupportedScript=function(e){return function(t,o){for(var m=0,E=t;m<E.length;m+=1)if(!gu(E[m].charCodeAt(0),o))return!1;return!0}(e,gc.isLoaded())},_s.prototype.crossFadingFactor=function(){return this.fadeDuration===0?1:Math.min((this.now-this.zoomHistory.lastIntegerZoomTime)/this.fadeDuration,1)},_s.prototype.getCrossfadeParameters=function(){var e=this.zoom,t=e-Math.floor(e),o=this.crossFadingFactor();return e>this.zoomHistory.lastIntegerZoom?{fromScale:2,toScale:1,t:t+(1-t)*o}:{fromScale:.5,toScale:1,t:1-(1-o)*t}};var yd=function(t,o){this.property=t,this.value=o,this.expression=function(m,E){if(Yd(m))return new md(m,E);if(Hf(m)){var D=kd(m,E);if(D.result==="error")throw new Error(D.value.map(function(ae){return ae.key+": "+ae.message}).join(", "));return D.value}var V=m;return typeof m=="string"&&E.type==="color"&&(V=ba.parse(m)),{kind:"constant",evaluate:function(){return V}}}(o===void 0?t.specification.default:o,t.specification)};yd.prototype.isDataDriven=function(){return this.expression.kind==="source"||this.expression.kind==="composite"},yd.prototype.possiblyEvaluate=function(e,t,o){return this.property.possiblyEvaluate(this,e,t,o)};var rd=function(t){this.property=t,this.value=new yd(t,void 0)};rd.prototype.transitioned=function(e,t){return new Mu(this.property,this.value,t,et({},e.transition,this.transition),e.now)},rd.prototype.untransitioned=function(){return new Mu(this.property,this.value,null,{},0)};var sl=function(t){this._properties=t,this._values=Object.create(t.defaultTransitionablePropertyValues)};sl.prototype.getValue=function(e){return ye(this._values[e].value.value)},sl.prototype.setValue=function(e,t){this._values.hasOwnProperty(e)||(this._values[e]=new rd(this._values[e].property)),this._values[e].value=new yd(this._values[e].property,t===null?void 0:ye(t))},sl.prototype.getTransition=function(e){return ye(this._values[e].transition)},sl.prototype.setTransition=function(e,t){this._values.hasOwnProperty(e)||(this._values[e]=new rd(this._values[e].property)),this._values[e].transition=ye(t)||void 0},sl.prototype.serialize=function(){for(var e={},t=0,o=Object.keys(this._values);t<o.length;t+=1){var m=o[t],E=this.getValue(m);E!==void 0&&(e[m]=E);var D=this.getTransition(m);D!==void 0&&(e[m+"-transition"]=D)}return e},sl.prototype.transitioned=function(e,t){for(var o=new ff(this._properties),m=0,E=Object.keys(this._values);m<E.length;m+=1){var D=E[m];o._values[D]=this._values[D].transitioned(e,t._values[D])}return o},sl.prototype.untransitioned=function(){for(var e=new ff(this._properties),t=0,o=Object.keys(this._values);t<o.length;t+=1){var m=o[t];e._values[m]=this._values[m].untransitioned()}return e};var Mu=function(t,o,m,E,D){this.property=t,this.value=o,this.begin=D+E.delay||0,this.end=this.begin+E.duration||0,t.specification.transition&&(E.delay||E.duration)&&(this.prior=m)};Mu.prototype.possiblyEvaluate=function(e,t,o){var m=e.now||0,E=this.value.possiblyEvaluate(e,t,o),D=this.prior;if(D){if(m>this.end)return this.prior=null,E;if(this.value.isDataDriven())return this.prior=null,E;if(m<this.begin)return D.possiblyEvaluate(e,t,o);var V=(m-this.begin)/(this.end-this.begin);return this.property.interpolate(D.possiblyEvaluate(e,t,o),E,function(ae){if(ae<=0)return 0;if(ae>=1)return 1;var je=ae*ae,tt=je*ae;return 4*(ae<.5?tt:3*(ae-je)+tt-.75)}(V))}return E};var ff=function(t){this._properties=t,this._values=Object.create(t.defaultTransitioningPropertyValues)};ff.prototype.possiblyEvaluate=function(e,t,o){for(var m=new ph(this._properties),E=0,D=Object.keys(this._values);E<D.length;E+=1){var V=D[E];m._values[V]=this._values[V].possiblyEvaluate(e,t,o)}return m},ff.prototype.hasTransition=function(){for(var e=0,t=Object.keys(this._values);e<t.length;e+=1)if(this._values[t[e]].prior)return!0;return!1};var Af=function(t){this._properties=t,this._values=Object.create(t.defaultPropertyValues)};Af.prototype.getValue=function(e){return ye(this._values[e].value)},Af.prototype.setValue=function(e,t){this._values[e]=new yd(this._values[e].property,t===null?void 0:ye(t))},Af.prototype.serialize=function(){for(var e={},t=0,o=Object.keys(this._values);t<o.length;t+=1){var m=o[t],E=this.getValue(m);E!==void 0&&(e[m]=E)}return e},Af.prototype.possiblyEvaluate=function(e,t,o){for(var m=new ph(this._properties),E=0,D=Object.keys(this._values);E<D.length;E+=1){var V=D[E];m._values[V]=this._values[V].possiblyEvaluate(e,t,o)}return m};var jc=function(t,o,m){this.property=t,this.value=o,this.parameters=m};jc.prototype.isConstant=function(){return this.value.kind==="constant"},jc.prototype.constantOr=function(e){return this.value.kind==="constant"?this.value.value:e},jc.prototype.evaluate=function(e,t,o,m){return this.property.evaluate(this.value,this.parameters,e,t,o,m)};var ph=function(t){this._properties=t,this._values=Object.create(t.defaultPossiblyEvaluatedValues)};ph.prototype.get=function(e){return this._values[e]};var Io=function(t){this.specification=t};Io.prototype.possiblyEvaluate=function(e,t){return e.expression.evaluate(t)},Io.prototype.interpolate=function(e,t,o){var m=il[this.specification.type];return m?m(e,t,o):e};var Mi=function(t,o){this.specification=t,this.overrides=o};Mi.prototype.possiblyEvaluate=function(e,t,o,m){return new jc(this,e.expression.kind==="constant"||e.expression.kind==="camera"?{kind:"constant",value:e.expression.evaluate(t,null,{},o,m)}:e.expression,t)},Mi.prototype.interpolate=function(e,t,o){if(e.value.kind!=="constant"||t.value.kind!=="constant")return e;if(e.value.value===void 0||t.value.value===void 0)return new jc(this,{kind:"constant",value:void 0},e.parameters);var m=il[this.specification.type];return m?new jc(this,{kind:"constant",value:m(e.value.value,t.value.value,o)},e.parameters):e},Mi.prototype.evaluate=function(e,t,o,m,E,D){return e.kind==="constant"?e.value:e.evaluate(t,o,m,E,D)};var df=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),(t.prototype=Object.create(e&&e.prototype)).constructor=t,t.prototype.possiblyEvaluate=function(o,m,E,D){if(o.value===void 0)return new jc(this,{kind:"constant",value:void 0},m);if(o.expression.kind==="constant"){var V=o.expression.evaluate(m,null,{},E,D),ae=o.property.specification.type==="resolvedImage"&&typeof V!="string"?V.name:V,je=this._calculate(ae,ae,ae,m);return new jc(this,{kind:"constant",value:je},m)}if(o.expression.kind==="camera"){var tt=this._calculate(o.expression.evaluate({zoom:m.zoom-1}),o.expression.evaluate({zoom:m.zoom}),o.expression.evaluate({zoom:m.zoom+1}),m);return new jc(this,{kind:"constant",value:tt},m)}return new jc(this,o.expression,m)},t.prototype.evaluate=function(o,m,E,D,V,ae){if(o.kind==="source"){var je=o.evaluate(m,E,D,V,ae);return this._calculate(je,je,je,m)}return o.kind==="composite"?this._calculate(o.evaluate({zoom:Math.floor(m.zoom)-1},E,D),o.evaluate({zoom:Math.floor(m.zoom)},E,D),o.evaluate({zoom:Math.floor(m.zoom)+1},E,D),m):o.value},t.prototype._calculate=function(o,m,E,D){return D.zoom>D.zoomHistory.lastIntegerZoom?{from:o,to:m}:{from:E,to:m}},t.prototype.interpolate=function(o){return o},t}(Mi),_u=function(t){this.specification=t};_u.prototype.possiblyEvaluate=function(e,t,o,m){if(e.value!==void 0){if(e.expression.kind==="constant"){var E=e.expression.evaluate(t,null,{},o,m);return this._calculate(E,E,E,t)}return this._calculate(e.expression.evaluate(new _s(Math.floor(t.zoom-1),t)),e.expression.evaluate(new _s(Math.floor(t.zoom),t)),e.expression.evaluate(new _s(Math.floor(t.zoom+1),t)),t)}},_u.prototype._calculate=function(e,t,o,m){return m.zoom>m.zoomHistory.lastIntegerZoom?{from:e,to:t}:{from:o,to:t}},_u.prototype.interpolate=function(e){return e};var cc=function(t){this.specification=t};cc.prototype.possiblyEvaluate=function(e,t,o,m){return!!e.expression.evaluate(t,null,{},o,m)},cc.prototype.interpolate=function(){return!1};var $u=function(t){for(var o in this.properties=t,this.defaultPropertyValues={},this.defaultTransitionablePropertyValues={},this.defaultTransitioningPropertyValues={},this.defaultPossiblyEvaluatedValues={},this.overridableProperties=[],t){var m=t[o];m.specification.overridable&&this.overridableProperties.push(o);var E=this.defaultPropertyValues[o]=new yd(m,void 0),D=this.defaultTransitionablePropertyValues[o]=new rd(m);this.defaultTransitioningPropertyValues[o]=D.untransitioned(),this.defaultPossiblyEvaluatedValues[o]=E.possiblyEvaluate({})}};bi("DataDrivenProperty",Mi),bi("DataConstantProperty",Io),bi("CrossFadedDataDrivenProperty",df),bi("CrossFadedProperty",_u),bi("ColorRampProperty",cc);var Mf=function(e){function t(o,m){if(e.call(this),this.id=o.id,this.type=o.type,this._featureFilter={filter:function(){return!0},needGeometry:!1},o.type!=="custom"&&(this.metadata=(o=o).metadata,this.minzoom=o.minzoom,this.maxzoom=o.maxzoom,o.type!=="background"&&(this.source=o.source,this.sourceLayer=o["source-layer"],this.filter=o.filter),m.layout&&(this._unevaluatedLayout=new Af(m.layout)),m.paint)){for(var E in this._transitionablePaint=new sl(m.paint),o.paint)this.setPaintProperty(E,o.paint[E],{validate:!1});for(var D in o.layout)this.setLayoutProperty(D,o.layout[D],{validate:!1});this._transitioningPaint=this._transitionablePaint.untransitioned(),this.paint=new ph(m.paint)}}return e&&(t.__proto__=e),(t.prototype=Object.create(e&&e.prototype)).constructor=t,t.prototype.getCrossfadeParameters=function(){return this._crossfadeParameters},t.prototype.getLayoutProperty=function(o){return o==="visibility"?this.visibility:this._unevaluatedLayout.getValue(o)},t.prototype.setLayoutProperty=function(o,m,E){E===void 0&&(E={}),m!=null&&this._validate(_h,"layers."+this.id+".layout."+o,o,m,E)||(o!=="visibility"?this._unevaluatedLayout.setValue(o,m):this.visibility=m)},t.prototype.getPaintProperty=function(o){return It(o,"-transition")?this._transitionablePaint.getTransition(o.slice(0,-"-transition".length)):this._transitionablePaint.getValue(o)},t.prototype.setPaintProperty=function(o,m,E){if(E===void 0&&(E={}),m!=null&&this._validate(Jh,"layers."+this.id+".paint."+o,o,m,E))return!1;if(It(o,"-transition"))return this._transitionablePaint.setTransition(o.slice(0,-"-transition".length),m||void 0),!1;var D=this._transitionablePaint._values[o],V=D.property.specification["property-type"]==="cross-faded-data-driven",ae=D.value.isDataDriven(),je=D.value;this._transitionablePaint.setValue(o,m),this._handleSpecialPaintPropertyUpdate(o);var tt=this._transitionablePaint._values[o].value;return tt.isDataDriven()||ae||V||this._handleOverridablePaintPropertyUpdate(o,je,tt)},t.prototype._handleSpecialPaintPropertyUpdate=function(o){},t.prototype._handleOverridablePaintPropertyUpdate=function(o,m,E){return!1},t.prototype.isHidden=function(o){return!!(this.minzoom&&o<this.minzoom)||!!(this.maxzoom&&o>=this.maxzoom)||this.visibility==="none"},t.prototype.updateTransitions=function(o){this._transitioningPaint=this._transitionablePaint.transitioned(o,this._transitioningPaint)},t.prototype.hasTransition=function(){return this._transitioningPaint.hasTransition()},t.prototype.recalculate=function(o,m){o.getCrossfadeParameters&&(this._crossfadeParameters=o.getCrossfadeParameters()),this._unevaluatedLayout&&(this.layout=this._unevaluatedLayout.possiblyEvaluate(o,void 0,m)),this.paint=this._transitioningPaint.possiblyEvaluate(o,void 0,m)},t.prototype.serialize=function(){var o={id:this.id,type:this.type,source:this.source,"source-layer":this.sourceLayer,metadata:this.metadata,minzoom:this.minzoom,maxzoom:this.maxzoom,filter:this.filter,layout:this._unevaluatedLayout&&this._unevaluatedLayout.serialize(),paint:this._transitionablePaint&&this._transitionablePaint.serialize()};return this.visibility&&(o.layout=o.layout||{},o.layout.visibility=this.visibility),Tt(o,function(m,E){return!(m===void 0||E==="layout"&&!Object.keys(m).length||E==="paint"&&!Object.keys(m).length)})},t.prototype._validate=function(o,m,E,D,V){return V===void 0&&(V={}),(!V||V.validate!==!1)&&uf(this,o.call(Ld,{key:m,layerType:this.type,objectKey:E,value:D,styleSpec:Pe,style:{glyphs:!0,sprite:!0}}))},t.prototype.is3D=function(){return!1},t.prototype.isTileClipped=function(){return!1},t.prototype.hasOffscreenPass=function(){return!1},t.prototype.resize=function(){},t.prototype.isStateDependent=function(){for(var o in this.paint._values){var m=this.paint.get(o);if(m instanceof jc&&Vf(m.property.specification)&&(m.value.kind==="source"||m.value.kind==="composite")&&m.value.isStateDependent)return!0}return!1},t}(de),Ac={Int8:Int8Array,Uint8:Uint8Array,Int16:Int16Array,Uint16:Uint16Array,Int32:Int32Array,Uint32:Uint32Array,Float32:Float32Array},qd=function(t,o){this._structArray=t,this._pos1=o*this.size,this._pos2=this._pos1/2,this._pos4=this._pos1/4,this._pos8=this._pos1/8},Dl=function(){this.isTransferred=!1,this.capacity=-1,this.resize(0)};function yu(e,t){t===void 0&&(t=1);var o=0,m=0;return{members:e.map(function(E){var D=Ac[E.type].BYTES_PER_ELEMENT,V=o=eh(o,Math.max(t,D)),ae=E.components||1;return m=Math.max(m,D),o+=D*ae,{name:E.name,type:E.type,components:ae,offset:V}}),size:eh(o,Math.max(m,t)),alignment:t}}function eh(e,t){return Math.ceil(e/t)*t}Dl.serialize=function(e,t){return e._trim(),t&&(e.isTransferred=!0,t.push(e.arrayBuffer)),{length:e.length,arrayBuffer:e.arrayBuffer}},Dl.deserialize=function(e){var t=Object.create(this.prototype);return t.arrayBuffer=e.arrayBuffer,t.length=e.length,t.capacity=e.arrayBuffer.byteLength/t.bytesPerElement,t._refreshViews(),t},Dl.prototype._trim=function(){this.length!==this.capacity&&(this.capacity=this.length,this.arrayBuffer=this.arrayBuffer.slice(0,this.length*this.bytesPerElement),this._refreshViews())},Dl.prototype.clear=function(){this.length=0},Dl.prototype.resize=function(e){this.reserve(e),this.length=e},Dl.prototype.reserve=function(e){if(e>this.capacity){this.capacity=Math.max(e,Math.floor(5*this.capacity),128),this.arrayBuffer=new ArrayBuffer(this.capacity*this.bytesPerElement);var t=this.uint8;this._refreshViews(),t&&this.uint8.set(t)}},Dl.prototype._refreshViews=function(){throw new Error("_refreshViews() must be implemented by each concrete StructArray layout")};var _f=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),(t.prototype=Object.create(e&&e.prototype)).constructor=t,t.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)},t.prototype.emplaceBack=function(o,m){var E=this.length;return this.resize(E+1),this.emplace(E,o,m)},t.prototype.emplace=function(o,m,E){var D=2*o;return this.int16[D+0]=m,this.int16[D+1]=E,o},t}(Dl);_f.prototype.bytesPerElement=4,bi("StructArrayLayout2i4",_f);var If=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),(t.prototype=Object.create(e&&e.prototype)).constructor=t,t.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)},t.prototype.emplaceBack=function(o,m,E,D){var V=this.length;return this.resize(V+1),this.emplace(V,o,m,E,D)},t.prototype.emplace=function(o,m,E,D,V){var ae=4*o;return this.int16[ae+0]=m,this.int16[ae+1]=E,this.int16[ae+2]=D,this.int16[ae+3]=V,o},t}(Dl);If.prototype.bytesPerElement=8,bi("StructArrayLayout4i8",If);var Mc=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),(t.prototype=Object.create(e&&e.prototype)).constructor=t,t.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)},t.prototype.emplaceBack=function(o,m,E,D,V,ae){var je=this.length;return this.resize(je+1),this.emplace(je,o,m,E,D,V,ae)},t.prototype.emplace=function(o,m,E,D,V,ae,je){var tt=6*o;return this.int16[tt+0]=m,this.int16[tt+1]=E,this.int16[tt+2]=D,this.int16[tt+3]=V,this.int16[tt+4]=ae,this.int16[tt+5]=je,o},t}(Dl);Mc.prototype.bytesPerElement=12,bi("StructArrayLayout2i4i12",Mc);var _c=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),(t.prototype=Object.create(e&&e.prototype)).constructor=t,t.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)},t.prototype.emplaceBack=function(o,m,E,D,V,ae){var je=this.length;return this.resize(je+1),this.emplace(je,o,m,E,D,V,ae)},t.prototype.emplace=function(o,m,E,D,V,ae,je){var tt=4*o,wt=8*o;return this.int16[tt+0]=m,this.int16[tt+1]=E,this.uint8[wt+4]=D,this.uint8[wt+5]=V,this.uint8[wt+6]=ae,this.uint8[wt+7]=je,o},t}(Dl);_c.prototype.bytesPerElement=8,bi("StructArrayLayout2i4ub8",_c);var dr=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),(t.prototype=Object.create(e&&e.prototype)).constructor=t,t.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)},t.prototype.emplaceBack=function(o,m){var E=this.length;return this.resize(E+1),this.emplace(E,o,m)},t.prototype.emplace=function(o,m,E){var D=2*o;return this.float32[D+0]=m,this.float32[D+1]=E,o},t}(Dl);dr.prototype.bytesPerElement=8,bi("StructArrayLayout2f8",dr);var Iu=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),(t.prototype=Object.create(e&&e.prototype)).constructor=t,t.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)},t.prototype.emplaceBack=function(o,m,E,D,V,ae,je,tt,wt,Bt){var Kt=this.length;return this.resize(Kt+1),this.emplace(Kt,o,m,E,D,V,ae,je,tt,wt,Bt)},t.prototype.emplace=function(o,m,E,D,V,ae,je,tt,wt,Bt,Kt){var pr=10*o;return this.uint16[pr+0]=m,this.uint16[pr+1]=E,this.uint16[pr+2]=D,this.uint16[pr+3]=V,this.uint16[pr+4]=ae,this.uint16[pr+5]=je,this.uint16[pr+6]=tt,this.uint16[pr+7]=wt,this.uint16[pr+8]=Bt,this.uint16[pr+9]=Kt,o},t}(Dl);Iu.prototype.bytesPerElement=20,bi("StructArrayLayout10ui20",Iu);var nd=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),(t.prototype=Object.create(e&&e.prototype)).constructor=t,t.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)},t.prototype.emplaceBack=function(o,m,E,D,V,ae,je,tt,wt,Bt,Kt,pr){var Ir=this.length;return this.resize(Ir+1),this.emplace(Ir,o,m,E,D,V,ae,je,tt,wt,Bt,Kt,pr)},t.prototype.emplace=function(o,m,E,D,V,ae,je,tt,wt,Bt,Kt,pr,Ir){var Ar=12*o;return this.int16[Ar+0]=m,this.int16[Ar+1]=E,this.int16[Ar+2]=D,this.int16[Ar+3]=V,this.uint16[Ar+4]=ae,this.uint16[Ar+5]=je,this.uint16[Ar+6]=tt,this.uint16[Ar+7]=wt,this.int16[Ar+8]=Bt,this.int16[Ar+9]=Kt,this.int16[Ar+10]=pr,this.int16[Ar+11]=Ir,o},t}(Dl);nd.prototype.bytesPerElement=24,bi("StructArrayLayout4i4ui4i24",nd);var rc=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),(t.prototype=Object.create(e&&e.prototype)).constructor=t,t.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)},t.prototype.emplaceBack=function(o,m,E){var D=this.length;return this.resize(D+1),this.emplace(D,o,m,E)},t.prototype.emplace=function(o,m,E,D){var V=3*o;return this.float32[V+0]=m,this.float32[V+1]=E,this.float32[V+2]=D,o},t}(Dl);rc.prototype.bytesPerElement=12,bi("StructArrayLayout3f12",rc);var $s=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),(t.prototype=Object.create(e&&e.prototype)).constructor=t,t.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint32=new Uint32Array(this.arrayBuffer)},t.prototype.emplaceBack=function(o){var m=this.length;return this.resize(m+1),this.emplace(m,o)},t.prototype.emplace=function(o,m){return this.uint32[1*o+0]=m,o},t}(Dl);$s.prototype.bytesPerElement=4,bi("StructArrayLayout1ul4",$s);var xp=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),(t.prototype=Object.create(e&&e.prototype)).constructor=t,t.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer),this.uint32=new Uint32Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)},t.prototype.emplaceBack=function(o,m,E,D,V,ae,je,tt,wt){var Bt=this.length;return this.resize(Bt+1),this.emplace(Bt,o,m,E,D,V,ae,je,tt,wt)},t.prototype.emplace=function(o,m,E,D,V,ae,je,tt,wt,Bt){var Kt=10*o,pr=5*o;return this.int16[Kt+0]=m,this.int16[Kt+1]=E,this.int16[Kt+2]=D,this.int16[Kt+3]=V,this.int16[Kt+4]=ae,this.int16[Kt+5]=je,this.uint32[pr+3]=tt,this.uint16[Kt+8]=wt,this.uint16[Kt+9]=Bt,o},t}(Dl);xp.prototype.bytesPerElement=20,bi("StructArrayLayout6i1ul2ui20",xp);var tp=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),(t.prototype=Object.create(e&&e.prototype)).constructor=t,t.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)},t.prototype.emplaceBack=function(o,m,E,D,V,ae){var je=this.length;return this.resize(je+1),this.emplace(je,o,m,E,D,V,ae)},t.prototype.emplace=function(o,m,E,D,V,ae,je){var tt=6*o;return this.int16[tt+0]=m,this.int16[tt+1]=E,this.int16[tt+2]=D,this.int16[tt+3]=V,this.int16[tt+4]=ae,this.int16[tt+5]=je,o},t}(Dl);tp.prototype.bytesPerElement=12,bi("StructArrayLayout2i2i2i12",tp);var th=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),(t.prototype=Object.create(e&&e.prototype)).constructor=t,t.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)},t.prototype.emplaceBack=function(o,m,E,D,V){var ae=this.length;return this.resize(ae+1),this.emplace(ae,o,m,E,D,V)},t.prototype.emplace=function(o,m,E,D,V,ae){var je=4*o,tt=8*o;return this.float32[je+0]=m,this.float32[je+1]=E,this.float32[je+2]=D,this.int16[tt+6]=V,this.int16[tt+7]=ae,o},t}(Dl);th.prototype.bytesPerElement=16,bi("StructArrayLayout2f1f2i16",th);var ad=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),(t.prototype=Object.create(e&&e.prototype)).constructor=t,t.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)},t.prototype.emplaceBack=function(o,m,E,D){var V=this.length;return this.resize(V+1),this.emplace(V,o,m,E,D)},t.prototype.emplace=function(o,m,E,D,V){var ae=12*o,je=3*o;return this.uint8[ae+0]=m,this.uint8[ae+1]=E,this.float32[je+1]=D,this.float32[je+2]=V,o},t}(Dl);ad.prototype.bytesPerElement=12,bi("StructArrayLayout2ub2f12",ad);var zd=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),(t.prototype=Object.create(e&&e.prototype)).constructor=t,t.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)},t.prototype.emplaceBack=function(o,m,E){var D=this.length;return this.resize(D+1),this.emplace(D,o,m,E)},t.prototype.emplace=function(o,m,E,D){var V=3*o;return this.uint16[V+0]=m,this.uint16[V+1]=E,this.uint16[V+2]=D,o},t}(Dl);zd.prototype.bytesPerElement=6,bi("StructArrayLayout3ui6",zd);var bd=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),(t.prototype=Object.create(e&&e.prototype)).constructor=t,t.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer),this.uint32=new Uint32Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)},t.prototype.emplaceBack=function(o,m,E,D,V,ae,je,tt,wt,Bt,Kt,pr,Ir,Ar,$r,Gr,gn){var Dn=this.length;return this.resize(Dn+1),this.emplace(Dn,o,m,E,D,V,ae,je,tt,wt,Bt,Kt,pr,Ir,Ar,$r,Gr,gn)},t.prototype.emplace=function(o,m,E,D,V,ae,je,tt,wt,Bt,Kt,pr,Ir,Ar,$r,Gr,gn,Dn){var Kn=24*o,ha=12*o,da=48*o;return this.int16[Kn+0]=m,this.int16[Kn+1]=E,this.uint16[Kn+2]=D,this.uint16[Kn+3]=V,this.uint32[ha+2]=ae,this.uint32[ha+3]=je,this.uint32[ha+4]=tt,this.uint16[Kn+10]=wt,this.uint16[Kn+11]=Bt,this.uint16[Kn+12]=Kt,this.float32[ha+7]=pr,this.float32[ha+8]=Ir,this.uint8[da+36]=Ar,this.uint8[da+37]=$r,this.uint8[da+38]=Gr,this.uint32[ha+10]=gn,this.int16[Kn+22]=Dn,o},t}(Dl);bd.prototype.bytesPerElement=48,bi("StructArrayLayout2i2ui3ul3ui2f3ub1ul1i48",bd);var Yc=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),(t.prototype=Object.create(e&&e.prototype)).constructor=t,t.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer),this.uint32=new Uint32Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)},t.prototype.emplaceBack=function(o,m,E,D,V,ae,je,tt,wt,Bt,Kt,pr,Ir,Ar,$r,Gr,gn,Dn,Kn,ha,da,Ja,ti,Hi,co,mo,Wi,Jo){var Ko=this.length;return this.resize(Ko+1),this.emplace(Ko,o,m,E,D,V,ae,je,tt,wt,Bt,Kt,pr,Ir,Ar,$r,Gr,gn,Dn,Kn,ha,da,Ja,ti,Hi,co,mo,Wi,Jo)},t.prototype.emplace=function(o,m,E,D,V,ae,je,tt,wt,Bt,Kt,pr,Ir,Ar,$r,Gr,gn,Dn,Kn,ha,da,Ja,ti,Hi,co,mo,Wi,Jo,Ko){var Yi=34*o,Ks=17*o;return this.int16[Yi+0]=m,this.int16[Yi+1]=E,this.int16[Yi+2]=D,this.int16[Yi+3]=V,this.int16[Yi+4]=ae,this.int16[Yi+5]=je,this.int16[Yi+6]=tt,this.int16[Yi+7]=wt,this.uint16[Yi+8]=Bt,this.uint16[Yi+9]=Kt,this.uint16[Yi+10]=pr,this.uint16[Yi+11]=Ir,this.uint16[Yi+12]=Ar,this.uint16[Yi+13]=$r,this.uint16[Yi+14]=Gr,this.uint16[Yi+15]=gn,this.uint16[Yi+16]=Dn,this.uint16[Yi+17]=Kn,this.uint16[Yi+18]=ha,this.uint16[Yi+19]=da,this.uint16[Yi+20]=Ja,this.uint16[Yi+21]=ti,this.uint16[Yi+22]=Hi,this.uint32[Ks+12]=co,this.float32[Ks+13]=mo,this.float32[Ks+14]=Wi,this.float32[Ks+15]=Jo,this.float32[Ks+16]=Ko,o},t}(Dl);Yc.prototype.bytesPerElement=68,bi("StructArrayLayout8i15ui1ul4f68",Yc);var Ud=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),(t.prototype=Object.create(e&&e.prototype)).constructor=t,t.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)},t.prototype.emplaceBack=function(o){var m=this.length;return this.resize(m+1),this.emplace(m,o)},t.prototype.emplace=function(o,m){return this.float32[1*o+0]=m,o},t}(Dl);Ud.prototype.bytesPerElement=4,bi("StructArrayLayout1f4",Ud);var Rf=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),(t.prototype=Object.create(e&&e.prototype)).constructor=t,t.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)},t.prototype.emplaceBack=function(o,m,E){var D=this.length;return this.resize(D+1),this.emplace(D,o,m,E)},t.prototype.emplace=function(o,m,E,D){var V=3*o;return this.int16[V+0]=m,this.int16[V+1]=E,this.int16[V+2]=D,o},t}(Dl);Rf.prototype.bytesPerElement=6,bi("StructArrayLayout3i6",Rf);var $c=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),(t.prototype=Object.create(e&&e.prototype)).constructor=t,t.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint32=new Uint32Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)},t.prototype.emplaceBack=function(o,m,E){var D=this.length;return this.resize(D+1),this.emplace(D,o,m,E)},t.prototype.emplace=function(o,m,E,D){var V=4*o;return this.uint32[2*o+0]=m,this.uint16[V+2]=E,this.uint16[V+3]=D,o},t}(Dl);$c.prototype.bytesPerElement=8,bi("StructArrayLayout1ul2ui8",$c);var id=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),(t.prototype=Object.create(e&&e.prototype)).constructor=t,t.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)},t.prototype.emplaceBack=function(o,m){var E=this.length;return this.resize(E+1),this.emplace(E,o,m)},t.prototype.emplace=function(o,m,E){var D=2*o;return this.uint16[D+0]=m,this.uint16[D+1]=E,o},t}(Dl);id.prototype.bytesPerElement=4,bi("StructArrayLayout2ui4",id);var Vd=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),(t.prototype=Object.create(e&&e.prototype)).constructor=t,t.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)},t.prototype.emplaceBack=function(o){var m=this.length;return this.resize(m+1),this.emplace(m,o)},t.prototype.emplace=function(o,m){return this.uint16[1*o+0]=m,o},t}(Dl);Vd.prototype.bytesPerElement=2,bi("StructArrayLayout1ui2",Vd);var Cp=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),(t.prototype=Object.create(e&&e.prototype)).constructor=t,t.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)},t.prototype.emplaceBack=function(o,m,E,D){var V=this.length;return this.resize(V+1),this.emplace(V,o,m,E,D)},t.prototype.emplace=function(o,m,E,D,V){var ae=4*o;return this.float32[ae+0]=m,this.float32[ae+1]=E,this.float32[ae+2]=D,this.float32[ae+3]=V,o},t}(Dl);Cp.prototype.bytesPerElement=16,bi("StructArrayLayout4f16",Cp);var v=function(e){function t(){e.apply(this,arguments)}e&&(t.__proto__=e),(t.prototype=Object.create(e&&e.prototype)).constructor=t;var o={anchorPointX:{configurable:!0},anchorPointY:{configurable:!0},x1:{configurable:!0},y1:{configurable:!0},x2:{configurable:!0},y2:{configurable:!0},featureIndex:{configurable:!0},sourceLayerIndex:{configurable:!0},bucketIndex:{configurable:!0},anchorPoint:{configurable:!0}};return o.anchorPointX.get=function(){return this._structArray.int16[this._pos2+0]},o.anchorPointY.get=function(){return this._structArray.int16[this._pos2+1]},o.x1.get=function(){return this._structArray.int16[this._pos2+2]},o.y1.get=function(){return this._structArray.int16[this._pos2+3]},o.x2.get=function(){return this._structArray.int16[this._pos2+4]},o.y2.get=function(){return this._structArray.int16[this._pos2+5]},o.featureIndex.get=function(){return this._structArray.uint32[this._pos4+3]},o.sourceLayerIndex.get=function(){return this._structArray.uint16[this._pos2+8]},o.bucketIndex.get=function(){return this._structArray.uint16[this._pos2+9]},o.anchorPoint.get=function(){return new oe(this.anchorPointX,this.anchorPointY)},Object.defineProperties(t.prototype,o),t}(qd);v.prototype.size=20;var c=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),(t.prototype=Object.create(e&&e.prototype)).constructor=t,t.prototype.get=function(o){return new v(this,o)},t}(xp);bi("CollisionBoxArray",c);var l=function(e){function t(){e.apply(this,arguments)}e&&(t.__proto__=e),(t.prototype=Object.create(e&&e.prototype)).constructor=t;var o={anchorX:{configurable:!0},anchorY:{configurable:!0},glyphStartIndex:{configurable:!0},numGlyphs:{configurable:!0},vertexStartIndex:{configurable:!0},lineStartIndex:{configurable:!0},lineLength:{configurable:!0},segment:{configurable:!0},lowerSize:{configurable:!0},upperSize:{configurable:!0},lineOffsetX:{configurable:!0},lineOffsetY:{configurable:!0},writingMode:{configurable:!0},placedOrientation:{configurable:!0},hidden:{configurable:!0},crossTileID:{configurable:!0},associatedIconIndex:{configurable:!0}};return o.anchorX.get=function(){return this._structArray.int16[this._pos2+0]},o.anchorY.get=function(){return this._structArray.int16[this._pos2+1]},o.glyphStartIndex.get=function(){return this._structArray.uint16[this._pos2+2]},o.numGlyphs.get=function(){return this._structArray.uint16[this._pos2+3]},o.vertexStartIndex.get=function(){return this._structArray.uint32[this._pos4+2]},o.lineStartIndex.get=function(){return this._structArray.uint32[this._pos4+3]},o.lineLength.get=function(){return this._structArray.uint32[this._pos4+4]},o.segment.get=function(){return this._structArray.uint16[this._pos2+10]},o.lowerSize.get=function(){return this._structArray.uint16[this._pos2+11]},o.upperSize.get=function(){return this._structArray.uint16[this._pos2+12]},o.lineOffsetX.get=function(){return this._structArray.float32[this._pos4+7]},o.lineOffsetY.get=function(){return this._structArray.float32[this._pos4+8]},o.writingMode.get=function(){return this._structArray.uint8[this._pos1+36]},o.placedOrientation.get=function(){return this._structArray.uint8[this._pos1+37]},o.placedOrientation.set=function(m){this._structArray.uint8[this._pos1+37]=m},o.hidden.get=function(){return this._structArray.uint8[this._pos1+38]},o.hidden.set=function(m){this._structArray.uint8[this._pos1+38]=m},o.crossTileID.get=function(){return this._structArray.uint32[this._pos4+10]},o.crossTileID.set=function(m){this._structArray.uint32[this._pos4+10]=m},o.associatedIconIndex.get=function(){return this._structArray.int16[this._pos2+22]},Object.defineProperties(t.prototype,o),t}(qd);l.prototype.size=48;var g=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),(t.prototype=Object.create(e&&e.prototype)).constructor=t,t.prototype.get=function(o){return new l(this,o)},t}(bd);bi("PlacedSymbolArray",g);var F=function(e){function t(){e.apply(this,arguments)}e&&(t.__proto__=e),(t.prototype=Object.create(e&&e.prototype)).constructor=t;var o={anchorX:{configurable:!0},anchorY:{configurable:!0},rightJustifiedTextSymbolIndex:{configurable:!0},centerJustifiedTextSymbolIndex:{configurable:!0},leftJustifiedTextSymbolIndex:{configurable:!0},verticalPlacedTextSymbolIndex:{configurable:!0},placedIconSymbolIndex:{configurable:!0},verticalPlacedIconSymbolIndex:{configurable:!0},key:{configurable:!0},textBoxStartIndex:{configurable:!0},textBoxEndIndex:{configurable:!0},verticalTextBoxStartIndex:{configurable:!0},verticalTextBoxEndIndex:{configurable:!0},iconBoxStartIndex:{configurable:!0},iconBoxEndIndex:{configurable:!0},verticalIconBoxStartIndex:{configurable:!0},verticalIconBoxEndIndex:{configurable:!0},featureIndex:{configurable:!0},numHorizontalGlyphVertices:{configurable:!0},numVerticalGlyphVertices:{configurable:!0},numIconVertices:{configurable:!0},numVerticalIconVertices:{configurable:!0},useRuntimeCollisionCircles:{configurable:!0},crossTileID:{configurable:!0},textBoxScale:{configurable:!0},textOffset0:{configurable:!0},textOffset1:{configurable:!0},collisionCircleDiameter:{configurable:!0}};return o.anchorX.get=function(){return this._structArray.int16[this._pos2+0]},o.anchorY.get=function(){return this._structArray.int16[this._pos2+1]},o.rightJustifiedTextSymbolIndex.get=function(){return this._structArray.int16[this._pos2+2]},o.centerJustifiedTextSymbolIndex.get=function(){return this._structArray.int16[this._pos2+3]},o.leftJustifiedTextSymbolIndex.get=function(){return this._structArray.int16[this._pos2+4]},o.verticalPlacedTextSymbolIndex.get=function(){return this._structArray.int16[this._pos2+5]},o.placedIconSymbolIndex.get=function(){return this._structArray.int16[this._pos2+6]},o.verticalPlacedIconSymbolIndex.get=function(){return this._structArray.int16[this._pos2+7]},o.key.get=function(){return this._structArray.uint16[this._pos2+8]},o.textBoxStartIndex.get=function(){return this._structArray.uint16[this._pos2+9]},o.textBoxEndIndex.get=function(){return this._structArray.uint16[this._pos2+10]},o.verticalTextBoxStartIndex.get=function(){return this._structArray.uint16[this._pos2+11]},o.verticalTextBoxEndIndex.get=function(){return this._structArray.uint16[this._pos2+12]},o.iconBoxStartIndex.get=function(){return this._structArray.uint16[this._pos2+13]},o.iconBoxEndIndex.get=function(){return this._structArray.uint16[this._pos2+14]},o.verticalIconBoxStartIndex.get=function(){return this._structArray.uint16[this._pos2+15]},o.verticalIconBoxEndIndex.get=function(){return this._structArray.uint16[this._pos2+16]},o.featureIndex.get=function(){return this._structArray.uint16[this._pos2+17]},o.numHorizontalGlyphVertices.get=function(){return this._structArray.uint16[this._pos2+18]},o.numVerticalGlyphVertices.get=function(){return this._structArray.uint16[this._pos2+19]},o.numIconVertices.get=function(){return this._structArray.uint16[this._pos2+20]},o.numVerticalIconVertices.get=function(){return this._structArray.uint16[this._pos2+21]},o.useRuntimeCollisionCircles.get=function(){return this._structArray.uint16[this._pos2+22]},o.crossTileID.get=function(){return this._structArray.uint32[this._pos4+12]},o.crossTileID.set=function(m){this._structArray.uint32[this._pos4+12]=m},o.textBoxScale.get=function(){return this._structArray.float32[this._pos4+13]},o.textOffset0.get=function(){return this._structArray.float32[this._pos4+14]},o.textOffset1.get=function(){return this._structArray.float32[this._pos4+15]},o.collisionCircleDiameter.get=function(){return this._structArray.float32[this._pos4+16]},Object.defineProperties(t.prototype,o),t}(qd);F.prototype.size=68;var Q=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),(t.prototype=Object.create(e&&e.prototype)).constructor=t,t.prototype.get=function(o){return new F(this,o)},t}(Yc);bi("SymbolInstanceArray",Q);var se=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),(t.prototype=Object.create(e&&e.prototype)).constructor=t,t.prototype.getoffsetX=function(o){return this.float32[1*o+0]},t}(Ud);bi("GlyphOffsetArray",se);var _e=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),(t.prototype=Object.create(e&&e.prototype)).constructor=t,t.prototype.getx=function(o){return this.int16[3*o+0]},t.prototype.gety=function(o){return this.int16[3*o+1]},t.prototype.gettileUnitDistanceFromAnchor=function(o){return this.int16[3*o+2]},t}(Rf);bi("SymbolLineVertexArray",_e);var mt=function(e){function t(){e.apply(this,arguments)}e&&(t.__proto__=e),(t.prototype=Object.create(e&&e.prototype)).constructor=t;var o={featureIndex:{configurable:!0},sourceLayerIndex:{configurable:!0},bucketIndex:{configurable:!0}};return o.featureIndex.get=function(){return this._structArray.uint32[this._pos4+0]},o.sourceLayerIndex.get=function(){return this._structArray.uint16[this._pos2+2]},o.bucketIndex.get=function(){return this._structArray.uint16[this._pos2+3]},Object.defineProperties(t.prototype,o),t}(qd);mt.prototype.size=8;var Rt=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),(t.prototype=Object.create(e&&e.prototype)).constructor=t,t.prototype.get=function(o){return new mt(this,o)},t}($c);bi("FeatureIndexArray",Rt);var ir=yu([{name:"a_pos",components:2,type:"Int16"}],4).members,rr=function(t){t===void 0&&(t=[]),this.segments=t};function ur(e,t){return 256*(e=I(Math.floor(e),0,255))+I(Math.floor(t),0,255)}rr.prototype.prepareSegment=function(e,t,o,m){var E=this.segments[this.segments.length-1];return e>rr.MAX_VERTEX_ARRAY_LENGTH&&yt("Max vertices per segment is "+rr.MAX_VERTEX_ARRAY_LENGTH+": bucket requested "+e),(!E||E.vertexLength+e>rr.MAX_VERTEX_ARRAY_LENGTH||E.sortKey!==m)&&(E={vertexOffset:t.length,primitiveOffset:o.length,vertexLength:0,primitiveLength:0},m!==void 0&&(E.sortKey=m),this.segments.push(E)),E},rr.prototype.get=function(){return this.segments},rr.prototype.destroy=function(){for(var e=0,t=this.segments;e<t.length;e+=1){var o=t[e];for(var m in o.vaos)o.vaos[m].destroy()}},rr.simpleSegment=function(e,t,o,m){return new rr([{vertexOffset:e,primitiveOffset:t,vertexLength:o,primitiveLength:m,vaos:{},sortKey:0}])},rr.MAX_VERTEX_ARRAY_LENGTH=Math.pow(2,16)-1,bi("SegmentVector",rr);var kr=yu([{name:"a_pattern_from",components:4,type:"Uint16"},{name:"a_pattern_to",components:4,type:"Uint16"},{name:"a_pixel_ratio_from",components:1,type:"Uint16"},{name:"a_pixel_ratio_to",components:1,type:"Uint16"}]),Nr=H(function(e){e.exports=function(t,o){var m,E,D,V,ae,je,tt,wt;for(E=t.length-(m=3&t.length),D=o,ae=3432918353,je=461845907,wt=0;wt<E;)tt=255&t.charCodeAt(wt)|(255&t.charCodeAt(++wt))<<8|(255&t.charCodeAt(++wt))<<16|(255&t.charCodeAt(++wt))<<24,++wt,D=27492+(65535&(V=5*(65535&(D=(D^=tt=(65535&(tt=(tt=(65535&tt)*ae+(((tt>>>16)*ae&65535)<<16)&4294967295)<<15|tt>>>17))*je+(((tt>>>16)*je&65535)<<16)&4294967295)<<13|D>>>19))+((5*(D>>>16)&65535)<<16)&4294967295))+((58964+(V>>>16)&65535)<<16);switch(tt=0,m){case 3:tt^=(255&t.charCodeAt(wt+2))<<16;case 2:tt^=(255&t.charCodeAt(wt+1))<<8;case 1:D^=tt=(65535&(tt=(tt=(65535&(tt^=255&t.charCodeAt(wt)))*ae+(((tt>>>16)*ae&65535)<<16)&4294967295)<<15|tt>>>17))*je+(((tt>>>16)*je&65535)<<16)&4294967295}return D^=t.length,D=2246822507*(65535&(D^=D>>>16))+((2246822507*(D>>>16)&65535)<<16)&4294967295,D=3266489909*(65535&(D^=D>>>13))+((3266489909*(D>>>16)&65535)<<16)&4294967295,(D^=D>>>16)>>>0}}),Xr=H(function(e){e.exports=function(t,o){for(var m,E=t.length,D=o^E,V=0;E>=4;)m=1540483477*(65535&(m=255&t.charCodeAt(V)|(255&t.charCodeAt(++V))<<8|(255&t.charCodeAt(++V))<<16|(255&t.charCodeAt(++V))<<24))+((1540483477*(m>>>16)&65535)<<16),D=1540483477*(65535&D)+((1540483477*(D>>>16)&65535)<<16)^(m=1540483477*(65535&(m^=m>>>24))+((1540483477*(m>>>16)&65535)<<16)),E-=4,++V;switch(E){case 3:D^=(255&t.charCodeAt(V+2))<<16;case 2:D^=(255&t.charCodeAt(V+1))<<8;case 1:D=1540483477*(65535&(D^=255&t.charCodeAt(V)))+((1540483477*(D>>>16)&65535)<<16)}return D=1540483477*(65535&(D^=D>>>13))+((1540483477*(D>>>16)&65535)<<16),(D^=D>>>15)>>>0}}),Br=Nr,Hr=Xr;Br.murmur3=Nr,Br.murmur2=Hr;var hn=function(){this.ids=[],this.positions=[],this.indexed=!1};hn.prototype.add=function(e,t,o,m){this.ids.push(la(e)),this.positions.push(t,o,m)},hn.prototype.getPositions=function(e){for(var t=la(e),o=0,m=this.ids.length-1;o<m;){var E=o+m>>1;this.ids[E]>=t?m=E:o=E+1}for(var D=[];this.ids[o]===t;)D.push({index:this.positions[3*o],start:this.positions[3*o+1],end:this.positions[3*o+2]}),o++;return D},hn.serialize=function(e,t){var o=new Float64Array(e.ids),m=new Uint32Array(e.positions);return function E(D,V,ae,je){for(;ae<je;){for(var tt=D[ae+je>>1],wt=ae-1,Bt=je+1;;){do wt++;while(D[wt]<tt);do Bt--;while(D[Bt]>tt);if(wt>=Bt)break;Gn(D,wt,Bt),Gn(V,3*wt,3*Bt),Gn(V,3*wt+1,3*Bt+1),Gn(V,3*wt+2,3*Bt+2)}Bt-ae<je-Bt?(E(D,V,ae,Bt),ae=Bt+1):(E(D,V,Bt+1,je),je=Bt)}}(o,m,0,o.length-1),t&&t.push(o.buffer,m.buffer),{ids:o,positions:m}},hn.deserialize=function(e){var t=new hn;return t.ids=e.ids,t.positions=e.positions,t.indexed=!0,t};var pn=Math.pow(2,53)-1;function la(e){var t=+e;return!isNaN(t)&&t<=pn?t:Br(String(e))}function Gn(e,t,o){var m=e[t];e[t]=e[o],e[o]=m}bi("FeaturePositionMap",hn);var aa=function(t,o){this.gl=t.gl,this.location=o},sa=function(e){function t(o,m){e.call(this,o,m),this.current=0}return e&&(t.__proto__=e),(t.prototype=Object.create(e&&e.prototype)).constructor=t,t.prototype.set=function(o){this.current!==o&&(this.current=o,this.gl.uniform1i(this.location,o))},t}(aa),Ya=function(e){function t(o,m){e.call(this,o,m),this.current=0}return e&&(t.__proto__=e),(t.prototype=Object.create(e&&e.prototype)).constructor=t,t.prototype.set=function(o){this.current!==o&&(this.current=o,this.gl.uniform1f(this.location,o))},t}(aa),Ka=function(e){function t(o,m){e.call(this,o,m),this.current=[0,0]}return e&&(t.__proto__=e),(t.prototype=Object.create(e&&e.prototype)).constructor=t,t.prototype.set=function(o){o[0]===this.current[0]&&o[1]===this.current[1]||(this.current=o,this.gl.uniform2f(this.location,o[0],o[1]))},t}(aa),Di=function(e){function t(o,m){e.call(this,o,m),this.current=[0,0,0]}return e&&(t.__proto__=e),(t.prototype=Object.create(e&&e.prototype)).constructor=t,t.prototype.set=function(o){o[0]===this.current[0]&&o[1]===this.current[1]&&o[2]===this.current[2]||(this.current=o,this.gl.uniform3f(this.location,o[0],o[1],o[2]))},t}(aa),di=function(e){function t(o,m){e.call(this,o,m),this.current=[0,0,0,0]}return e&&(t.__proto__=e),(t.prototype=Object.create(e&&e.prototype)).constructor=t,t.prototype.set=function(o){o[0]===this.current[0]&&o[1]===this.current[1]&&o[2]===this.current[2]&&o[3]===this.current[3]||(this.current=o,this.gl.uniform4f(this.location,o[0],o[1],o[2],o[3]))},t}(aa),Eo=function(e){function t(o,m){e.call(this,o,m),this.current=ba.transparent}return e&&(t.__proto__=e),(t.prototype=Object.create(e&&e.prototype)).constructor=t,t.prototype.set=function(o){o.r===this.current.r&&o.g===this.current.g&&o.b===this.current.b&&o.a===this.current.a||(this.current=o,this.gl.uniform4f(this.location,o.r,o.g,o.b,o.a))},t}(aa),Bo=new Float32Array(16),Wo=function(e){function t(o,m){e.call(this,o,m),this.current=Bo}return e&&(t.__proto__=e),(t.prototype=Object.create(e&&e.prototype)).constructor=t,t.prototype.set=function(o){if(o[12]!==this.current[12]||o[0]!==this.current[0])return this.current=o,void this.gl.uniformMatrix4fv(this.location,!1,o);for(var m=1;m<16;m++)if(o[m]!==this.current[m]){this.current=o,this.gl.uniformMatrix4fv(this.location,!1,o);break}},t}(aa);function ll(e){return[ur(255*e.r,255*e.g),ur(255*e.b,255*e.a)]}var _i=function(t,o,m){this.value=t,this.uniformNames=o.map(function(E){return"u_"+E}),this.type=m};_i.prototype.setUniform=function(e,t,o){e.set(o.constantOr(this.value))},_i.prototype.getBinding=function(e,t,o){return this.type==="color"?new Eo(e,t):new Ya(e,t)};var Qo=function(t,o){this.uniformNames=o.map(function(m){return"u_"+m}),this.patternFrom=null,this.patternTo=null,this.pixelRatioFrom=1,this.pixelRatioTo=1};Qo.prototype.setConstantPatternPositions=function(e,t){this.pixelRatioFrom=t.pixelRatio,this.pixelRatioTo=e.pixelRatio,this.patternFrom=t.tlbr,this.patternTo=e.tlbr},Qo.prototype.setUniform=function(e,t,o,m){var E=m==="u_pattern_to"?this.patternTo:m==="u_pattern_from"?this.patternFrom:m==="u_pixel_ratio_to"?this.pixelRatioTo:m==="u_pixel_ratio_from"?this.pixelRatioFrom:null;E&&e.set(E)},Qo.prototype.getBinding=function(e,t,o){return o.substr(0,9)==="u_pattern"?new di(e,t):new Ya(e,t)};var os=function(t,o,m,E){this.expression=t,this.type=m,this.maxValue=0,this.paintVertexAttributes=o.map(function(D){return{name:"a_"+D,type:"Float32",components:m==="color"?2:1,offset:0}}),this.paintVertexArray=new E};os.prototype.populatePaintArray=function(e,t,o,m,E){var D=this.paintVertexArray.length,V=this.expression.evaluate(new _s(0),t,{},m,[],E);this.paintVertexArray.resize(e),this._setPaintValue(D,e,V)},os.prototype.updatePaintArray=function(e,t,o,m){var E=this.expression.evaluate({zoom:0},o,m);this._setPaintValue(e,t,E)},os.prototype._setPaintValue=function(e,t,o){if(this.type==="color")for(var m=ll(o),E=e;E<t;E++)this.paintVertexArray.emplace(E,m[0],m[1]);else{for(var D=e;D<t;D++)this.paintVertexArray.emplace(D,o);this.maxValue=Math.max(this.maxValue,Math.abs(o))}},os.prototype.upload=function(e){this.paintVertexArray&&this.paintVertexArray.arrayBuffer&&(this.paintVertexBuffer&&this.paintVertexBuffer.buffer?this.paintVertexBuffer.updateData(this.paintVertexArray):this.paintVertexBuffer=e.createVertexBuffer(this.paintVertexArray,this.paintVertexAttributes,this.expression.isStateDependent))},os.prototype.destroy=function(){this.paintVertexBuffer&&this.paintVertexBuffer.destroy()};var qi=function(t,o,m,E,D,V){this.expression=t,this.uniformNames=o.map(function(ae){return"u_"+ae+"_t"}),this.type=m,this.useIntegerZoom=E,this.zoom=D,this.maxValue=0,this.paintVertexAttributes=o.map(function(ae){return{name:"a_"+ae,type:"Float32",components:m==="color"?4:2,offset:0}}),this.paintVertexArray=new V};qi.prototype.populatePaintArray=function(e,t,o,m,E){var D=this.expression.evaluate(new _s(this.zoom),t,{},m,[],E),V=this.expression.evaluate(new _s(this.zoom+1),t,{},m,[],E),ae=this.paintVertexArray.length;this.paintVertexArray.resize(e),this._setPaintValue(ae,e,D,V)},qi.prototype.updatePaintArray=function(e,t,o,m){var E=this.expression.evaluate({zoom:this.zoom},o,m),D=this.expression.evaluate({zoom:this.zoom+1},o,m);this._setPaintValue(e,t,E,D)},qi.prototype._setPaintValue=function(e,t,o,m){if(this.type==="color")for(var E=ll(o),D=ll(m),V=e;V<t;V++)this.paintVertexArray.emplace(V,E[0],E[1],D[0],D[1]);else{for(var ae=e;ae<t;ae++)this.paintVertexArray.emplace(ae,o,m);this.maxValue=Math.max(this.maxValue,Math.abs(o),Math.abs(m))}},qi.prototype.upload=function(e){this.paintVertexArray&&this.paintVertexArray.arrayBuffer&&(this.paintVertexBuffer&&this.paintVertexBuffer.buffer?this.paintVertexBuffer.updateData(this.paintVertexArray):this.paintVertexBuffer=e.createVertexBuffer(this.paintVertexArray,this.paintVertexAttributes,this.expression.isStateDependent))},qi.prototype.destroy=function(){this.paintVertexBuffer&&this.paintVertexBuffer.destroy()},qi.prototype.setUniform=function(e,t){var o=this.useIntegerZoom?Math.floor(t.zoom):t.zoom,m=I(this.expression.interpolationFactor(o,this.zoom,this.zoom+1),0,1);e.set(m)},qi.prototype.getBinding=function(e,t,o){return new Ya(e,t)};var hs=function(t,o,m,E,D,V){this.expression=t,this.type=o,this.useIntegerZoom=m,this.zoom=E,this.layerId=V,this.zoomInPaintVertexArray=new D,this.zoomOutPaintVertexArray=new D};hs.prototype.populatePaintArray=function(e,t,o){var m=this.zoomInPaintVertexArray.length;this.zoomInPaintVertexArray.resize(e),this.zoomOutPaintVertexArray.resize(e),this._setPaintValues(m,e,t.patterns&&t.patterns[this.layerId],o)},hs.prototype.updatePaintArray=function(e,t,o,m,E){this._setPaintValues(e,t,o.patterns&&o.patterns[this.layerId],E)},hs.prototype._setPaintValues=function(e,t,o,m){if(m&&o){var E=m[o.min],D=m[o.mid],V=m[o.max];if(E&&D&&V)for(var ae=e;ae<t;ae++)this.zoomInPaintVertexArray.emplace(ae,D.tl[0],D.tl[1],D.br[0],D.br[1],E.tl[0],E.tl[1],E.br[0],E.br[1],D.pixelRatio,E.pixelRatio),this.zoomOutPaintVertexArray.emplace(ae,D.tl[0],D.tl[1],D.br[0],D.br[1],V.tl[0],V.tl[1],V.br[0],V.br[1],D.pixelRatio,V.pixelRatio)}},hs.prototype.upload=function(e){this.zoomInPaintVertexArray&&this.zoomInPaintVertexArray.arrayBuffer&&this.zoomOutPaintVertexArray&&this.zoomOutPaintVertexArray.arrayBuffer&&(this.zoomInPaintVertexBuffer=e.createVertexBuffer(this.zoomInPaintVertexArray,kr.members,this.expression.isStateDependent),this.zoomOutPaintVertexBuffer=e.createVertexBuffer(this.zoomOutPaintVertexArray,kr.members,this.expression.isStateDependent))},hs.prototype.destroy=function(){this.zoomOutPaintVertexBuffer&&this.zoomOutPaintVertexBuffer.destroy(),this.zoomInPaintVertexBuffer&&this.zoomInPaintVertexBuffer.destroy()};var zo=function(t,o,m){this.binders={},this._buffers=[];var E=[];for(var D in t.paint._values)if(m(D)){var V=t.paint.get(D);if(V instanceof jc&&Vf(V.property.specification)){var ae=Xs(D,t.type),je=V.value,tt=V.property.specification.type,wt=V.property.useIntegerZoom,Bt=V.property.specification["property-type"],Kt=Bt==="cross-faded"||Bt==="cross-faded-data-driven";if(je.kind==="constant")this.binders[D]=Kt?new Qo(je.value,ae):new _i(je.value,ae,tt),E.push("/u_"+D);else if(je.kind==="source"||Kt){var pr=au(D,tt,"source");this.binders[D]=Kt?new hs(je,tt,wt,o,pr,t.id):new os(je,ae,tt,pr),E.push("/a_"+D)}else{var Ir=au(D,tt,"composite");this.binders[D]=new qi(je,ae,tt,wt,o,Ir),E.push("/z_"+D)}}}this.cacheKey=E.sort().join("")};zo.prototype.getMaxValue=function(e){var t=this.binders[e];return t instanceof os||t instanceof qi?t.maxValue:0},zo.prototype.populatePaintArrays=function(e,t,o,m,E){for(var D in this.binders){var V=this.binders[D];(V instanceof os||V instanceof qi||V instanceof hs)&&V.populatePaintArray(e,t,o,m,E)}},zo.prototype.setConstantPatternPositions=function(e,t){for(var o in this.binders){var m=this.binders[o];m instanceof Qo&&m.setConstantPatternPositions(e,t)}},zo.prototype.updatePaintArrays=function(e,t,o,m,E){var D=!1;for(var V in e)for(var ae=0,je=t.getPositions(V);ae<je.length;ae+=1){var tt=je[ae],wt=o.feature(tt.index);for(var Bt in this.binders){var Kt=this.binders[Bt];if((Kt instanceof os||Kt instanceof qi||Kt instanceof hs)&&Kt.expression.isStateDependent===!0){var pr=m.paint.get(Bt);Kt.expression=pr.value,Kt.updatePaintArray(tt.start,tt.end,wt,e[V],E),D=!0}}}return D},zo.prototype.defines=function(){var e=[];for(var t in this.binders){var o=this.binders[t];(o instanceof _i||o instanceof Qo)&&e.push.apply(e,o.uniformNames.map(function(m){return"#define HAS_UNIFORM_"+m}))}return e},zo.prototype.getBinderAttributes=function(){var e=[];for(var t in this.binders){var o=this.binders[t];if(o instanceof os||o instanceof qi)for(var m=0;m<o.paintVertexAttributes.length;m++)e.push(o.paintVertexAttributes[m].name);else if(o instanceof hs)for(var E=0;E<kr.members.length;E++)e.push(kr.members[E].name)}return e},zo.prototype.getBinderUniforms=function(){var e=[];for(var t in this.binders){var o=this.binders[t];if(o instanceof _i||o instanceof Qo||o instanceof qi)for(var m=0,E=o.uniformNames;m<E.length;m+=1)e.push(E[m])}return e},zo.prototype.getPaintVertexBuffers=function(){return this._buffers},zo.prototype.getUniforms=function(e,t){var o=[];for(var m in this.binders){var E=this.binders[m];if(E instanceof _i||E instanceof Qo||E instanceof qi)for(var D=0,V=E.uniformNames;D<V.length;D+=1){var ae=V[D];if(t[ae]){var je=E.getBinding(e,t[ae],ae);o.push({name:ae,property:m,binding:je})}}}return o},zo.prototype.setUniforms=function(e,t,o,m){for(var E=0,D=t;E<D.length;E+=1){var V=D[E],ae=V.name,je=V.property;this.binders[je].setUniform(V.binding,m,o.get(je),ae)}},zo.prototype.updatePaintBuffers=function(e){for(var t in this._buffers=[],this.binders){var o=this.binders[t];if(e&&o instanceof hs){var m=e.fromScale===2?o.zoomInPaintVertexBuffer:o.zoomOutPaintVertexBuffer;m&&this._buffers.push(m)}else(o instanceof os||o instanceof qi)&&o.paintVertexBuffer&&this._buffers.push(o.paintVertexBuffer)}},zo.prototype.upload=function(e){for(var t in this.binders){var o=this.binders[t];(o instanceof os||o instanceof qi||o instanceof hs)&&o.upload(e)}this.updatePaintBuffers()},zo.prototype.destroy=function(){for(var e in this.binders){var t=this.binders[e];(t instanceof os||t instanceof qi||t instanceof hs)&&t.destroy()}};var us=function(t,o,m){m===void 0&&(m=function(){return!0}),this.programConfigurations={};for(var E=0,D=t;E<D.length;E+=1){var V=D[E];this.programConfigurations[V.id]=new zo(V,o,m)}this.needsUpload=!1,this._featureMap=new hn,this._bufferOffset=0};function Xs(e,t){return{"text-opacity":["opacity"],"icon-opacity":["opacity"],"text-color":["fill_color"],"icon-color":["fill_color"],"text-halo-color":["halo_color"],"icon-halo-color":["halo_color"],"text-halo-blur":["halo_blur"],"icon-halo-blur":["halo_blur"],"text-halo-width":["halo_width"],"icon-halo-width":["halo_width"],"line-gap-width":["gapwidth"],"line-pattern":["pattern_to","pattern_from","pixel_ratio_to","pixel_ratio_from"],"fill-pattern":["pattern_to","pattern_from","pixel_ratio_to","pixel_ratio_from"],"fill-extrusion-pattern":["pattern_to","pattern_from","pixel_ratio_to","pixel_ratio_from"]}[e]||[e.replace(t+"-","").replace(/-/g,"_")]}function au(e,t,o){var m={color:{source:dr,composite:Cp},number:{source:Ud,composite:dr}},E=function(D){return{"line-pattern":{source:Iu,composite:Iu},"fill-pattern":{source:Iu,composite:Iu},"fill-extrusion-pattern":{source:Iu,composite:Iu}}[D]}(e);return E&&E[o]||m[t][o]}us.prototype.populatePaintArrays=function(e,t,o,m,E,D){for(var V in this.programConfigurations)this.programConfigurations[V].populatePaintArrays(e,t,m,E,D);t.id!==void 0&&this._featureMap.add(t.id,o,this._bufferOffset,e),this._bufferOffset=e,this.needsUpload=!0},us.prototype.updatePaintArrays=function(e,t,o,m){for(var E=0,D=o;E<D.length;E+=1){var V=D[E];this.needsUpload=this.programConfigurations[V.id].updatePaintArrays(e,this._featureMap,t,V,m)||this.needsUpload}},us.prototype.get=function(e){return this.programConfigurations[e]},us.prototype.upload=function(e){if(this.needsUpload){for(var t in this.programConfigurations)this.programConfigurations[t].upload(e);this.needsUpload=!1}},us.prototype.destroy=function(){for(var e in this.programConfigurations)this.programConfigurations[e].destroy()},bi("ConstantBinder",_i),bi("CrossFadedConstantBinder",Qo),bi("SourceExpressionBinder",os),bi("CrossFadedCompositeBinder",hs),bi("CompositeExpressionBinder",qi),bi("ProgramConfiguration",zo,{omit:["_buffers"]}),bi("ProgramConfigurationSet",us);var zs=Math.pow(2,14)-1,pl=-zs-1;function xl(e){for(var t=8192/e.extent,o=e.loadGeometry(),m=0;m<o.length;m++)for(var E=o[m],D=0;D<E.length;D++){var V=E[D],ae=Math.round(V.x*t),je=Math.round(V.y*t);V.x=I(ae,pl,zs),V.y=I(je,pl,zs),(ae<V.x||ae>V.x+1||je<V.y||je>V.y+1)&&yt("Geometry exceeds allowed extent, reduce your vector tile buffer size")}return o}function Ns(e,t){return{type:e.type,id:e.id,properties:e.properties,geometry:t?xl(e):[]}}function yc(e,t,o,m,E){e.emplaceBack(2*t+(m+1)/2,2*o+(E+1)/2)}var nc=function(t){this.zoom=t.zoom,this.overscaling=t.overscaling,this.layers=t.layers,this.layerIds=this.layers.map(function(o){return o.id}),this.index=t.index,this.hasPattern=!1,this.layoutVertexArray=new _f,this.indexArray=new zd,this.segments=new rr,this.programConfigurations=new us(t.layers,t.zoom),this.stateDependentLayerIds=this.layers.filter(function(o){return o.isStateDependent()}).map(function(o){return o.id})};function Ru(e,t){for(var o=0;o<e.length;o++)if(Mn(t,e[o]))return!0;for(var m=0;m<t.length;m++)if(Mn(e,t[m]))return!0;return!!Ue(e,t)}function Hd(e,t,o){return!!Mn(e,t)||!!Zt(t,e,o)}function Ft(e,t){if(e.length===1)return ln(t,e[0]);for(var o=0;o<t.length;o++)for(var m=t[o],E=0;E<m.length;E++)if(Mn(e,m[E]))return!0;for(var D=0;D<e.length;D++)if(ln(t,e[D]))return!0;for(var V=0;V<t.length;V++)if(Ue(e,t[V]))return!0;return!1}function Ht(e,t,o){if(e.length>1){if(Ue(e,t))return!0;for(var m=0;m<t.length;m++)if(Zt(t[m],e,o))return!0}for(var E=0;E<e.length;E++)if(Zt(e[E],t,o))return!0;return!1}function Ue(e,t){if(e.length===0||t.length===0)return!1;for(var o=0;o<e.length-1;o++)for(var m=e[o],E=e[o+1],D=0;D<t.length-1;D++)if(He(m,E,t[D],t[D+1]))return!0;return!1}function He(e,t,o,m){return Dt(e,o,m)!==Dt(t,o,m)&&Dt(e,t,o)!==Dt(e,t,m)}function Zt(e,t,o){var m=o*o;if(t.length===1)return e.distSqr(t[0])<m;for(var E=1;E<t.length;E++)if(cr(e,t[E-1],t[E])<m)return!0;return!1}function cr(e,t,o){var m=t.distSqr(o);if(m===0)return e.distSqr(t);var E=((e.x-t.x)*(o.x-t.x)+(e.y-t.y)*(o.y-t.y))/m;return e.distSqr(E<0?t:E>1?o:o.sub(t)._mult(E)._add(t))}function ln(e,t){for(var o,m,E,D=!1,V=0;V<e.length;V++)for(var ae=0,je=(o=e[V]).length-1;ae<o.length;je=ae++)(m=o[ae]).y>t.y!=(E=o[je]).y>t.y&&t.x<(E.x-m.x)*(t.y-m.y)/(E.y-m.y)+m.x&&(D=!D);return D}function Mn(e,t){for(var o=!1,m=0,E=e.length-1;m<e.length;E=m++){var D=e[m],V=e[E];D.y>t.y!=V.y>t.y&&t.x<(V.x-D.x)*(t.y-D.y)/(V.y-D.y)+D.x&&(o=!o)}return o}function Cn(e,t,o){var m=o[0],E=o[2];if(e.x<m.x&&t.x<m.x||e.x>E.x&&t.x>E.x||e.y<m.y&&t.y<m.y||e.y>E.y&&t.y>E.y)return!1;var D=Dt(e,t,o[0]);return D!==Dt(e,t,o[1])||D!==Dt(e,t,o[2])||D!==Dt(e,t,o[3])}function qn(e,t,o){var m=t.paint.get(e).value;return m.kind==="constant"?m.value:o.programConfigurations.get(t.id).getMaxValue(e)}function Ea(e){return Math.sqrt(e[0]*e[0]+e[1]*e[1])}function ji(e,t,o,m,E){if(!t[0]&&!t[1])return e;var D=oe.convert(t)._mult(E);o==="viewport"&&D._rotate(-m);for(var V=[],ae=0;ae<e.length;ae++)V.push(e[ae].sub(D));return V}nc.prototype.populate=function(e,t,o){var m=this.layers[0],E=[],D=null;m.type==="circle"&&(D=m.layout.get("circle-sort-key"));for(var V=0,ae=e;V<ae.length;V+=1){var je=ae[V],tt=je.feature,wt=je.id,Bt=je.index,Kt=je.sourceLayerIndex,pr=this.layers[0]._featureFilter.needGeometry,Ir=Ns(tt,pr);if(this.layers[0]._featureFilter.filter(new _s(this.zoom),Ir,o)){var Ar=D?D.evaluate(Ir,{},o):void 0,$r={id:wt,properties:tt.properties,type:tt.type,sourceLayerIndex:Kt,index:Bt,geometry:pr?Ir.geometry:xl(tt),patterns:{},sortKey:Ar};E.push($r)}}D&&E.sort(function(ti,Hi){return ti.sortKey-Hi.sortKey});for(var Gr=0,gn=E;Gr<gn.length;Gr+=1){var Dn=gn[Gr],Kn=Dn.geometry,ha=Dn.index,da=Dn.sourceLayerIndex,Ja=e[ha].feature;this.addFeature(Dn,Kn,ha,o),t.featureIndex.insert(Ja,Kn,ha,da,this.index)}},nc.prototype.update=function(e,t,o){this.stateDependentLayers.length&&this.programConfigurations.updatePaintArrays(e,t,this.stateDependentLayers,o)},nc.prototype.isEmpty=function(){return this.layoutVertexArray.length===0},nc.prototype.uploadPending=function(){return!this.uploaded||this.programConfigurations.needsUpload},nc.prototype.upload=function(e){this.uploaded||(this.layoutVertexBuffer=e.createVertexBuffer(this.layoutVertexArray,ir),this.indexBuffer=e.createIndexBuffer(this.indexArray)),this.programConfigurations.upload(e),this.uploaded=!0},nc.prototype.destroy=function(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.programConfigurations.destroy(),this.segments.destroy())},nc.prototype.addFeature=function(e,t,o,m){for(var E=0,D=t;E<D.length;E+=1)for(var V=0,ae=D[E];V<ae.length;V+=1){var je=ae[V],tt=je.x,wt=je.y;if(!(tt<0||tt>=8192||wt<0||wt>=8192)){var Bt=this.segments.prepareSegment(4,this.layoutVertexArray,this.indexArray,e.sortKey),Kt=Bt.vertexLength;yc(this.layoutVertexArray,tt,wt,-1,-1),yc(this.layoutVertexArray,tt,wt,1,-1),yc(this.layoutVertexArray,tt,wt,1,1),yc(this.layoutVertexArray,tt,wt,-1,1),this.indexArray.emplaceBack(Kt,Kt+1,Kt+2),this.indexArray.emplaceBack(Kt,Kt+3,Kt+2),Bt.vertexLength+=4,Bt.primitiveLength+=2}}this.programConfigurations.populatePaintArrays(this.layoutVertexArray.length,e,o,{},m)},bi("CircleBucket",nc,{omit:["layers"]});var ro=new $u({"circle-sort-key":new Mi(Pe.layout_circle["circle-sort-key"])}),Ao={paint:new $u({"circle-radius":new Mi(Pe.paint_circle["circle-radius"]),"circle-color":new Mi(Pe.paint_circle["circle-color"]),"circle-blur":new Mi(Pe.paint_circle["circle-blur"]),"circle-opacity":new Mi(Pe.paint_circle["circle-opacity"]),"circle-translate":new Io(Pe.paint_circle["circle-translate"]),"circle-translate-anchor":new Io(Pe.paint_circle["circle-translate-anchor"]),"circle-pitch-scale":new Io(Pe.paint_circle["circle-pitch-scale"]),"circle-pitch-alignment":new Io(Pe.paint_circle["circle-pitch-alignment"]),"circle-stroke-width":new Mi(Pe.paint_circle["circle-stroke-width"]),"circle-stroke-color":new Mi(Pe.paint_circle["circle-stroke-color"]),"circle-stroke-opacity":new Mi(Pe.paint_circle["circle-stroke-opacity"])}),layout:ro},uo=typeof Float32Array!="undefined"?Float32Array:Array;function So(e){return e[0]=1,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=1,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[10]=1,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e}function fs(e,t,o){var m=t[0],E=t[1],D=t[2],V=t[3],ae=t[4],je=t[5],tt=t[6],wt=t[7],Bt=t[8],Kt=t[9],pr=t[10],Ir=t[11],Ar=t[12],$r=t[13],Gr=t[14],gn=t[15],Dn=o[0],Kn=o[1],ha=o[2],da=o[3];return e[0]=Dn*m+Kn*ae+ha*Bt+da*Ar,e[1]=Dn*E+Kn*je+ha*Kt+da*$r,e[2]=Dn*D+Kn*tt+ha*pr+da*Gr,e[3]=Dn*V+Kn*wt+ha*Ir+da*gn,e[4]=(Dn=o[4])*m+(Kn=o[5])*ae+(ha=o[6])*Bt+(da=o[7])*Ar,e[5]=Dn*E+Kn*je+ha*Kt+da*$r,e[6]=Dn*D+Kn*tt+ha*pr+da*Gr,e[7]=Dn*V+Kn*wt+ha*Ir+da*gn,e[8]=(Dn=o[8])*m+(Kn=o[9])*ae+(ha=o[10])*Bt+(da=o[11])*Ar,e[9]=Dn*E+Kn*je+ha*Kt+da*$r,e[10]=Dn*D+Kn*tt+ha*pr+da*Gr,e[11]=Dn*V+Kn*wt+ha*Ir+da*gn,e[12]=(Dn=o[12])*m+(Kn=o[13])*ae+(ha=o[14])*Bt+(da=o[15])*Ar,e[13]=Dn*E+Kn*je+ha*Kt+da*$r,e[14]=Dn*D+Kn*tt+ha*pr+da*Gr,e[15]=Dn*V+Kn*wt+ha*Ir+da*gn,e}Math.hypot||(Math.hypot=function(){for(var e=arguments,t=0,o=arguments.length;o--;)t+=e[o]*e[o];return Math.sqrt(t)});var vs,bs=fs;function Yl(e,t,o){var m=t[0],E=t[1],D=t[2],V=t[3];return e[0]=o[0]*m+o[4]*E+o[8]*D+o[12]*V,e[1]=o[1]*m+o[5]*E+o[9]*D+o[13]*V,e[2]=o[2]*m+o[6]*E+o[10]*D+o[14]*V,e[3]=o[3]*m+o[7]*E+o[11]*D+o[15]*V,e}vs=new uo(3),uo!=Float32Array&&(vs[0]=0,vs[1]=0,vs[2]=0),function(){var e=new uo(4);uo!=Float32Array&&(e[0]=0,e[1]=0,e[2]=0,e[3]=0)}();var Ml=(function(){var e=new uo(2);uo!=Float32Array&&(e[0]=0,e[1]=0)}(),function(e){function t(o){e.call(this,o,Ao)}return e&&(t.__proto__=e),(t.prototype=Object.create(e&&e.prototype)).constructor=t,t.prototype.createBucket=function(o){return new nc(o)},t.prototype.queryRadius=function(o){var m=o;return qn("circle-radius",this,m)+qn("circle-stroke-width",this,m)+Ea(this.paint.get("circle-translate"))},t.prototype.queryIntersectsFeature=function(o,m,E,D,V,ae,je,tt){for(var wt=ji(o,this.paint.get("circle-translate"),this.paint.get("circle-translate-anchor"),ae.angle,je),Bt=this.paint.get("circle-radius").evaluate(m,E)+this.paint.get("circle-stroke-width").evaluate(m,E),Kt=this.paint.get("circle-pitch-alignment")==="map",pr=Kt?wt:function(Ja,ti){return Ja.map(function(Hi){return Xu(Hi,ti)})}(wt,tt),Ir=Kt?Bt*je:Bt,Ar=0,$r=D;Ar<$r.length;Ar+=1)for(var Gr=0,gn=$r[Ar];Gr<gn.length;Gr+=1){var Dn=gn[Gr],Kn=Kt?Dn:Xu(Dn,tt),ha=Ir,da=Yl([],[Dn.x,Dn.y,0,1],tt);if(this.paint.get("circle-pitch-scale")==="viewport"&&this.paint.get("circle-pitch-alignment")==="map"?ha*=da[3]/ae.cameraToCenterDistance:this.paint.get("circle-pitch-scale")==="map"&&this.paint.get("circle-pitch-alignment")==="viewport"&&(ha*=ae.cameraToCenterDistance/da[3]),Hd(pr,Kn,ha))return!0}return!1},t}(Mf));function Xu(e,t){var o=Yl([],[e.x,e.y,0,1],t);return new oe(o[0]/o[3],o[1]/o[3])}var Ul=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),(t.prototype=Object.create(e&&e.prototype)).constructor=t,t}(nc);function Ds(e,t,o,m){var E=t.width,D=t.height;if(m){if(m instanceof Uint8ClampedArray)m=new Uint8Array(m.buffer);else if(m.length!==E*D*o)throw new RangeError("mismatched image size")}else m=new Uint8Array(E*D*o);return e.width=E,e.height=D,e.data=m,e}function Qs(e,t,o){var m=t.width,E=t.height;if(m!==e.width||E!==e.height){var D=Ds({},{width:m,height:E},o);Vl(e,D,{x:0,y:0},{x:0,y:0},{width:Math.min(e.width,m),height:Math.min(e.height,E)},o),e.width=m,e.height=E,e.data=D.data}}function Vl(e,t,o,m,E,D){if(E.width===0||E.height===0)return t;if(E.width>e.width||E.height>e.height||o.x>e.width-E.width||o.y>e.height-E.height)throw new RangeError("out of range source coordinates for image copy");if(E.width>t.width||E.height>t.height||m.x>t.width-E.width||m.y>t.height-E.height)throw new RangeError("out of range destination coordinates for image copy");for(var V=e.data,ae=t.data,je=0;je<E.height;je++)for(var tt=((o.y+je)*e.width+o.x)*D,wt=((m.y+je)*t.width+m.x)*D,Bt=0;Bt<E.width*D;Bt++)ae[wt+Bt]=V[tt+Bt];return t}bi("HeatmapBucket",Ul,{omit:["layers"]});var Kl=function(t,o){Ds(this,t,1,o)};Kl.prototype.resize=function(e){Qs(this,e,1)},Kl.prototype.clone=function(){return new Kl({width:this.width,height:this.height},new Uint8Array(this.data))},Kl.copy=function(e,t,o,m,E){Vl(e,t,o,m,E,1)};var vl=function(t,o){Ds(this,t,4,o)};vl.prototype.resize=function(e){Qs(this,e,4)},vl.prototype.replace=function(e,t){t?this.data.set(e):this.data=e instanceof Uint8ClampedArray?new Uint8Array(e.buffer):e},vl.prototype.clone=function(){return new vl({width:this.width,height:this.height},new Uint8Array(this.data))},vl.copy=function(e,t,o,m,E){Vl(e,t,o,m,E,4)},bi("AlphaImage",Kl),bi("RGBAImage",vl);var hf={paint:new $u({"heatmap-radius":new Mi(Pe.paint_heatmap["heatmap-radius"]),"heatmap-weight":new Mi(Pe.paint_heatmap["heatmap-weight"]),"heatmap-intensity":new Io(Pe.paint_heatmap["heatmap-intensity"]),"heatmap-color":new cc(Pe.paint_heatmap["heatmap-color"]),"heatmap-opacity":new Io(Pe.paint_heatmap["heatmap-opacity"])})};function pf(e){var t={},o=e.resolution||256,m=e.clips?e.clips.length:1,E=e.image||new vl({width:o,height:m}),D=function(Ar,$r,Gr){t[e.evaluationKey]=Gr;var gn=e.expression.evaluate(t);E.data[Ar+$r+0]=Math.floor(255*gn.r/gn.a),E.data[Ar+$r+1]=Math.floor(255*gn.g/gn.a),E.data[Ar+$r+2]=Math.floor(255*gn.b/gn.a),E.data[Ar+$r+3]=Math.floor(255*gn.a)};if(e.clips)for(var V=0,ae=0;V<m;++V,ae+=4*o)for(var je=0,tt=0;je<o;je++,tt+=4){var wt=je/(o-1),Bt=e.clips[V];D(ae,tt,Bt.start*(1-wt)+Bt.end*wt)}else for(var Kt=0,pr=0;Kt<o;Kt++,pr+=4)D(0,pr,Kt/(o-1));return E}var Gp=function(e){function t(o){e.call(this,o,hf),this._updateColorRamp()}return e&&(t.__proto__=e),(t.prototype=Object.create(e&&e.prototype)).constructor=t,t.prototype.createBucket=function(o){return new Ul(o)},t.prototype._handleSpecialPaintPropertyUpdate=function(o){o==="heatmap-color"&&this._updateColorRamp()},t.prototype._updateColorRamp=function(){this.colorRamp=pf({expression:this._transitionablePaint._values["heatmap-color"].value.expression,evaluationKey:"heatmapDensity",image:this.colorRamp}),this.colorRampTexture=null},t.prototype.resize=function(){this.heatmapFbo&&(this.heatmapFbo.destroy(),this.heatmapFbo=null)},t.prototype.queryRadius=function(){return 0},t.prototype.queryIntersectsFeature=function(){return!1},t.prototype.hasOffscreenPass=function(){return this.paint.get("heatmap-opacity")!==0&&this.visibility!=="none"},t}(Mf),vh={paint:new $u({"hillshade-illumination-direction":new Io(Pe.paint_hillshade["hillshade-illumination-direction"]),"hillshade-illumination-anchor":new Io(Pe.paint_hillshade["hillshade-illumination-anchor"]),"hillshade-exaggeration":new Io(Pe.paint_hillshade["hillshade-exaggeration"]),"hillshade-shadow-color":new Io(Pe.paint_hillshade["hillshade-shadow-color"]),"hillshade-highlight-color":new Io(Pe.paint_hillshade["hillshade-highlight-color"]),"hillshade-accent-color":new Io(Pe.paint_hillshade["hillshade-accent-color"])})},bc=function(e){function t(o){e.call(this,o,vh)}return e&&(t.__proto__=e),(t.prototype=Object.create(e&&e.prototype)).constructor=t,t.prototype.hasOffscreenPass=function(){return this.paint.get("hillshade-exaggeration")!==0&&this.visibility!=="none"},t}(Mf),lv=yu([{name:"a_pos",components:2,type:"Int16"}],4).members,Tv=tm,Kp=tm;function tm(e,t,o){o=o||2;var m,E,D,V,ae,je,tt,wt=t&&t.length,Bt=wt?t[0]*o:e.length,Kt=Ep(e,0,Bt,o,!0),pr=[];if(!Kt||Kt.next===Kt.prev)return pr;if(wt&&(Kt=function(Ar,$r,Gr,gn){var Dn,Kn,ha,da=[];for(Dn=0,Kn=$r.length;Dn<Kn;Dn++)(ha=Ep(Ar,$r[Dn]*gn,Dn<Kn-1?$r[Dn+1]*gn:Ar.length,gn,!1))===ha.next&&(ha.steiner=!0),da.push(ym(ha));for(da.sort(gm),Dn=0;Dn<da.length;Dn++)mh(da[Dn],Gr),Gr=Gs(Gr,Gr.next);return Gr}(e,t,Kt,o)),e.length>80*o){m=D=e[0],E=V=e[1];for(var Ir=o;Ir<Bt;Ir+=o)(ae=e[Ir])<m&&(m=ae),(je=e[Ir+1])<E&&(E=je),ae>D&&(D=ae),je>V&&(V=je);tt=(tt=Math.max(D-m,V-E))!==0?1/tt:0}return rh(Kt,pr,o,m,E,tt),pr}function Ep(e,t,o,m,E){var D,V;if(E===Rc(e,t,o,m)>0)for(D=t;D<o;D+=m)V=Dh(D,e[D],e[D+1],V);else for(D=o-m;D>=t;D-=m)V=Dh(D,e[D],e[D+1],V);return V&&gh(V,V.next)&&(Fh(V),V=V.next),V}function Gs(e,t){if(!e)return e;t||(t=e);var o,m=e;do if(o=!1,m.steiner||!gh(m,m.next)&&Hl(m.prev,m,m.next)!==0)m=m.next;else{if(Fh(m),(m=t=m.prev)===m.next)break;o=!0}while(o||m!==t);return t}function rh(e,t,o,m,E,D,V){if(e){!V&&D&&function(wt,Bt,Kt,pr){var Ir=wt;do Ir.z===null&&(Ir.z=rp(Ir.x,Ir.y,Bt,Kt,pr)),Ir.prevZ=Ir.prev,Ir.nextZ=Ir.next,Ir=Ir.next;while(Ir!==wt);Ir.prevZ.nextZ=null,Ir.prevZ=null,function(Ar){var $r,Gr,gn,Dn,Kn,ha,da,Ja,ti=1;do{for(Gr=Ar,Ar=null,Kn=null,ha=0;Gr;){for(ha++,gn=Gr,da=0,$r=0;$r<ti&&(da++,gn=gn.nextZ);$r++);for(Ja=ti;da>0||Ja>0&&gn;)da!==0&&(Ja===0||!gn||Gr.z<=gn.z)?(Dn=Gr,Gr=Gr.nextZ,da--):(Dn=gn,gn=gn.nextZ,Ja--),Kn?Kn.nextZ=Dn:Ar=Dn,Dn.prevZ=Kn,Kn=Dn;Gr=gn}Kn.nextZ=null,ti*=2}while(ha>1)}(Ir)}(e,m,E,D);for(var ae,je,tt=e;e.prev!==e.next;)if(ae=e.prev,je=e.next,D?Zp(e,m,E,D):rm(e))t.push(ae.i/o),t.push(e.i/o),t.push(je.i/o),Fh(e),e=je.next,tt=je.next;else if((e=je)===tt){V?V===1?rh(e=tg(Gs(e),t,o),t,o,m,E,D,2):V===2&&nm(e,t,o,m,E,D):rh(Gs(e),t,o,m,E,D,1);break}}}function rm(e){var t=e.prev,o=e,m=e.next;if(Hl(t,o,m)>=0)return!1;for(var E=e.next.next;E!==e.prev;){if(Ic(t.x,t.y,o.x,o.y,m.x,m.y,E.x,E.y)&&Hl(E.prev,E,E.next)>=0)return!1;E=E.next}return!0}function Zp(e,t,o,m){var E=e.prev,D=e,V=e.next;if(Hl(E,D,V)>=0)return!1;for(var ae=E.x>D.x?E.x>V.x?E.x:V.x:D.x>V.x?D.x:V.x,je=E.y>D.y?E.y>V.y?E.y:V.y:D.y>V.y?D.y:V.y,tt=rp(E.x<D.x?E.x<V.x?E.x:V.x:D.x<V.x?D.x:V.x,E.y<D.y?E.y<V.y?E.y:V.y:D.y<V.y?D.y:V.y,t,o,m),wt=rp(ae,je,t,o,m),Bt=e.prevZ,Kt=e.nextZ;Bt&&Bt.z>=tt&&Kt&&Kt.z<=wt;){if(Bt!==e.prev&&Bt!==e.next&&Ic(E.x,E.y,D.x,D.y,V.x,V.y,Bt.x,Bt.y)&&Hl(Bt.prev,Bt,Bt.next)>=0||(Bt=Bt.prevZ,Kt!==e.prev&&Kt!==e.next&&Ic(E.x,E.y,D.x,D.y,V.x,V.y,Kt.x,Kt.y)&&Hl(Kt.prev,Kt,Kt.next)>=0))return!1;Kt=Kt.nextZ}for(;Bt&&Bt.z>=tt;){if(Bt!==e.prev&&Bt!==e.next&&Ic(E.x,E.y,D.x,D.y,V.x,V.y,Bt.x,Bt.y)&&Hl(Bt.prev,Bt,Bt.next)>=0)return!1;Bt=Bt.prevZ}for(;Kt&&Kt.z<=wt;){if(Kt!==e.prev&&Kt!==e.next&&Ic(E.x,E.y,D.x,D.y,V.x,V.y,Kt.x,Kt.y)&&Hl(Kt.prev,Kt,Kt.next)>=0)return!1;Kt=Kt.nextZ}return!0}function tg(e,t,o){var m=e;do{var E=m.prev,D=m.next.next;!gh(E,D)&&am(E,m,m.next,D)&&np(E,D)&&np(D,E)&&(t.push(E.i/o),t.push(m.i/o),t.push(D.i/o),Fh(m),Fh(m.next),m=e=D),m=m.next}while(m!==e);return Gs(m)}function nm(e,t,o,m,E,D){var V=e;do{for(var ae=V.next.next;ae!==V.prev;){if(V.i!==ae.i&&Av(V,ae)){var je=Mv(V,ae);return V=Gs(V,V.next),je=Gs(je,je.next),rh(V,t,o,m,E,D),void rh(je,t,o,m,E,D)}ae=ae.next}V=V.next}while(V!==e)}function gm(e,t){return e.x-t.x}function mh(e,t){if(t=function(m,E){var D,V=E,ae=m.x,je=m.y,tt=-1/0;do{if(je<=V.y&&je>=V.next.y&&V.next.y!==V.y){var wt=V.x+(je-V.y)*(V.next.x-V.x)/(V.next.y-V.y);if(wt<=ae&&wt>tt){if(tt=wt,wt===ae){if(je===V.y)return V;if(je===V.next.y)return V.next}D=V.x<V.next.x?V:V.next}}V=V.next}while(V!==E);if(!D)return null;if(ae===tt)return D;var Bt,Kt=D,pr=D.x,Ir=D.y,Ar=1/0;V=D;do ae>=V.x&&V.x>=pr&&ae!==V.x&&Ic(je<Ir?ae:tt,je,pr,Ir,je<Ir?tt:ae,je,V.x,V.y)&&(Bt=Math.abs(je-V.y)/(ae-V.x),np(V,m)&&(Bt<Ar||Bt===Ar&&(V.x>D.x||V.x===D.x&&rg(D,V)))&&(D=V,Ar=Bt)),V=V.next;while(V!==Kt);return D}(e,t)){var o=Mv(t,e);Gs(t,t.next),Gs(o,o.next)}}function rg(e,t){return Hl(e.prev,e,t.prev)<0&&Hl(t.next,e,e.next)<0}function rp(e,t,o,m,E){return(e=1431655765&((e=858993459&((e=252645135&((e=16711935&((e=32767*(e-o)*E)|e<<8))|e<<4))|e<<2))|e<<1))|(t=1431655765&((t=858993459&((t=252645135&((t=16711935&((t=32767*(t-m)*E)|t<<8))|t<<4))|t<<2))|t<<1))<<1}function ym(e){var t=e,o=e;do(t.x<o.x||t.x===o.x&&t.y<o.y)&&(o=t),t=t.next;while(t!==e);return o}function Ic(e,t,o,m,E,D,V,ae){return(E-V)*(t-ae)-(e-V)*(D-ae)>=0&&(e-V)*(m-ae)-(o-V)*(t-ae)>=0&&(o-V)*(D-ae)-(E-V)*(m-ae)>=0}function Av(e,t){return e.next.i!==t.i&&e.prev.i!==t.i&&!function(o,m){var E=o;do{if(E.i!==o.i&&E.next.i!==o.i&&E.i!==m.i&&E.next.i!==m.i&&am(E,E.next,o,m))return!0;E=E.next}while(E!==o);return!1}(e,t)&&(np(e,t)&&np(t,e)&&function(o,m){var E=o,D=!1,V=(o.x+m.x)/2,ae=(o.y+m.y)/2;do E.y>ae!=E.next.y>ae&&E.next.y!==E.y&&V<(E.next.x-E.x)*(ae-E.y)/(E.next.y-E.y)+E.x&&(D=!D),E=E.next;while(E!==o);return D}(e,t)&&(Hl(e.prev,e,t.prev)||Hl(e,t.prev,t))||gh(e,t)&&Hl(e.prev,e,e.next)>0&&Hl(t.prev,t,t.next)>0)}function Hl(e,t,o){return(t.y-e.y)*(o.x-t.x)-(t.x-e.x)*(o.y-t.y)}function gh(e,t){return e.x===t.x&&e.y===t.y}function am(e,t,o,m){var E=nh(Hl(e,t,o)),D=nh(Hl(e,t,m)),V=nh(Hl(o,m,e)),ae=nh(Hl(o,m,t));return E!==D&&V!==ae||!(E!==0||!Lh(e,o,t))||!(D!==0||!Lh(e,m,t))||!(V!==0||!Lh(o,e,m))||!(ae!==0||!Lh(o,t,m))}function Lh(e,t,o){return t.x<=Math.max(e.x,o.x)&&t.x>=Math.min(e.x,o.x)&&t.y<=Math.max(e.y,o.y)&&t.y>=Math.min(e.y,o.y)}function nh(e){return e>0?1:e<0?-1:0}function np(e,t){return Hl(e.prev,e,e.next)<0?Hl(e,t,e.next)>=0&&Hl(e,e.prev,t)>=0:Hl(e,t,e.prev)<0||Hl(e,e.next,t)<0}function Mv(e,t){var o=new Sp(e.i,e.x,e.y),m=new Sp(t.i,t.x,t.y),E=e.next,D=t.prev;return e.next=t,t.prev=e,o.next=E,E.prev=o,m.next=o,o.prev=m,D.next=m,m.prev=D,m}function Dh(e,t,o,m){var E=new Sp(e,t,o);return m?(E.next=m.next,E.prev=m,m.next.prev=E,m.next=E):(E.prev=E,E.next=E),E}function Fh(e){e.next.prev=e.prev,e.prev.next=e.next,e.prevZ&&(e.prevZ.nextZ=e.nextZ),e.nextZ&&(e.nextZ.prevZ=e.prevZ)}function Sp(e,t,o){this.i=e,this.x=t,this.y=o,this.prev=null,this.next=null,this.z=null,this.prevZ=null,this.nextZ=null,this.steiner=!1}function Rc(e,t,o,m){for(var E=0,D=t,V=o-m;D<o;D+=m)E+=(e[V]-e[D])*(e[D+1]+e[V+1]),V=D;return E}function Op(e,t,o,m,E){(function D(V,ae,je,tt,wt){for(;tt>je;){if(tt-je>600){var Bt=tt-je+1,Kt=ae-je+1,pr=Math.log(Bt),Ir=.5*Math.exp(2*pr/3),Ar=.5*Math.sqrt(pr*Ir*(Bt-Ir)/Bt)*(Kt-Bt/2<0?-1:1);D(V,ae,Math.max(je,Math.floor(ae-Kt*Ir/Bt+Ar)),Math.min(tt,Math.floor(ae+(Bt-Kt)*Ir/Bt+Ar)),wt)}var $r=V[ae],Gr=je,gn=tt;for(vf(V,je,ae),wt(V[tt],$r)>0&&vf(V,je,tt);Gr<gn;){for(vf(V,Gr,gn),Gr++,gn--;wt(V[Gr],$r)<0;)Gr++;for(;wt(V[gn],$r)>0;)gn--}wt(V[je],$r)===0?vf(V,je,gn):vf(V,++gn,tt),gn<=ae&&(je=gn+1),ae<=gn&&(tt=gn-1)}})(e,t,o||0,m||e.length-1,E||_v)}function vf(e,t,o){var m=e[t];e[t]=e[o],e[o]=m}function _v(e,t){return e<t?-1:e>t?1:0}function uv(e,t){var o=e.length;if(o<=1)return[e];for(var m,E,D=[],V=0;V<o;V++){var ae=Jt(e[V]);ae!==0&&(e[V].area=Math.abs(ae),E===void 0&&(E=ae<0),E===ae<0?(m&&D.push(m),m=[e[V]]):m.push(e[V]))}if(m&&D.push(m),t>1)for(var je=0;je<D.length;je++)D[je].length<=t||(Op(D[je],t,1,D[je].length-1,Yp),D[je]=D[je].slice(0,t));return D}function Yp(e,t){return t.area-e.area}function cv(e,t,o){for(var m=o.patternDependencies,E=!1,D=0,V=t;D<V.length;D+=1){var ae=V[D].paint.get(e+"-pattern");ae.isConstant()||(E=!0);var je=ae.constantOr(null);je&&(E=!0,m[je.to]=!0,m[je.from]=!0)}return E}function $p(e,t,o,m,E){for(var D=E.patternDependencies,V=0,ae=t;V<ae.length;V+=1){var je=ae[V],tt=je.paint.get(e+"-pattern").value;if(tt.kind!=="constant"){var wt=tt.evaluate({zoom:m-1},o,{},E.availableImages),Bt=tt.evaluate({zoom:m},o,{},E.availableImages),Kt=tt.evaluate({zoom:m+1},o,{},E.availableImages);Bt=Bt&&Bt.name?Bt.name:Bt,Kt=Kt&&Kt.name?Kt.name:Kt,D[wt=wt&&wt.name?wt.name:wt]=!0,D[Bt]=!0,D[Kt]=!0,o.patterns[je.id]={min:wt,mid:Bt,max:Kt}}}return o}tm.deviation=function(e,t,o,m){var E=t&&t.length,D=Math.abs(Rc(e,0,E?t[0]*o:e.length,o));if(E)for(var V=0,ae=t.length;V<ae;V++)D-=Math.abs(Rc(e,t[V]*o,V<ae-1?t[V+1]*o:e.length,o));var je=0;for(V=0;V<m.length;V+=3){var tt=m[V]*o,wt=m[V+1]*o,Bt=m[V+2]*o;je+=Math.abs((e[tt]-e[Bt])*(e[wt+1]-e[tt+1])-(e[tt]-e[wt])*(e[Bt+1]-e[tt+1]))}return D===0&&je===0?0:Math.abs((je-D)/D)},tm.flatten=function(e){for(var t=e[0][0].length,o={vertices:[],holes:[],dimensions:t},m=0,E=0;E<e.length;E++){for(var D=0;D<e[E].length;D++)for(var V=0;V<t;V++)o.vertices.push(e[E][D][V]);E>0&&o.holes.push(m+=e[E-1].length)}return o},Tv.default=Kp;var xd=function(t){this.zoom=t.zoom,this.overscaling=t.overscaling,this.layers=t.layers,this.layerIds=this.layers.map(function(o){return o.id}),this.index=t.index,this.hasPattern=!1,this.patternFeatures=[],this.layoutVertexArray=new _f,this.indexArray=new zd,this.indexArray2=new id,this.programConfigurations=new us(t.layers,t.zoom),this.segments=new rr,this.segments2=new rr,this.stateDependentLayerIds=this.layers.filter(function(o){return o.isStateDependent()}).map(function(o){return o.id})};xd.prototype.populate=function(e,t,o){this.hasPattern=cv("fill",this.layers,t);for(var m=this.layers[0].layout.get("fill-sort-key"),E=[],D=0,V=e;D<V.length;D+=1){var ae=V[D],je=ae.feature,tt=ae.id,wt=ae.index,Bt=ae.sourceLayerIndex,Kt=this.layers[0]._featureFilter.needGeometry,pr=Ns(je,Kt);if(this.layers[0]._featureFilter.filter(new _s(this.zoom),pr,o)){var Ir=m?m.evaluate(pr,{},o,t.availableImages):void 0,Ar={id:tt,properties:je.properties,type:je.type,sourceLayerIndex:Bt,index:wt,geometry:Kt?pr.geometry:xl(je),patterns:{},sortKey:Ir};E.push(Ar)}}m&&E.sort(function(Ja,ti){return Ja.sortKey-ti.sortKey});for(var $r=0,Gr=E;$r<Gr.length;$r+=1){var gn=Gr[$r],Dn=gn.geometry,Kn=gn.index,ha=gn.sourceLayerIndex;if(this.hasPattern){var da=$p("fill",this.layers,gn,this.zoom,t);this.patternFeatures.push(da)}else this.addFeature(gn,Dn,Kn,o,{});t.featureIndex.insert(e[Kn].feature,Dn,Kn,ha,this.index)}},xd.prototype.update=function(e,t,o){this.stateDependentLayers.length&&this.programConfigurations.updatePaintArrays(e,t,this.stateDependentLayers,o)},xd.prototype.addFeatures=function(e,t,o){for(var m=0,E=this.patternFeatures;m<E.length;m+=1){var D=E[m];this.addFeature(D,D.geometry,D.index,t,o)}},xd.prototype.isEmpty=function(){return this.layoutVertexArray.length===0},xd.prototype.uploadPending=function(){return!this.uploaded||this.programConfigurations.needsUpload},xd.prototype.upload=function(e){this.uploaded||(this.layoutVertexBuffer=e.createVertexBuffer(this.layoutVertexArray,lv),this.indexBuffer=e.createIndexBuffer(this.indexArray),this.indexBuffer2=e.createIndexBuffer(this.indexArray2)),this.programConfigurations.upload(e),this.uploaded=!0},xd.prototype.destroy=function(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.indexBuffer2.destroy(),this.programConfigurations.destroy(),this.segments.destroy(),this.segments2.destroy())},xd.prototype.addFeature=function(e,t,o,m,E){for(var D=0,V=uv(t,500);D<V.length;D+=1){for(var ae=V[D],je=0,tt=0,wt=ae;tt<wt.length;tt+=1)je+=wt[tt].length;for(var Bt=this.segments.prepareSegment(je,this.layoutVertexArray,this.indexArray),Kt=Bt.vertexLength,pr=[],Ir=[],Ar=0,$r=ae;Ar<$r.length;Ar+=1){var Gr=$r[Ar];if(Gr.length!==0){Gr!==ae[0]&&Ir.push(pr.length/2);var gn=this.segments2.prepareSegment(Gr.length,this.layoutVertexArray,this.indexArray2),Dn=gn.vertexLength;this.layoutVertexArray.emplaceBack(Gr[0].x,Gr[0].y),this.indexArray2.emplaceBack(Dn+Gr.length-1,Dn),pr.push(Gr[0].x),pr.push(Gr[0].y);for(var Kn=1;Kn<Gr.length;Kn++)this.layoutVertexArray.emplaceBack(Gr[Kn].x,Gr[Kn].y),this.indexArray2.emplaceBack(Dn+Kn-1,Dn+Kn),pr.push(Gr[Kn].x),pr.push(Gr[Kn].y);gn.vertexLength+=Gr.length,gn.primitiveLength+=Gr.length}}for(var ha=Tv(pr,Ir),da=0;da<ha.length;da+=3)this.indexArray.emplaceBack(Kt+ha[da],Kt+ha[da+1],Kt+ha[da+2]);Bt.vertexLength+=je,Bt.primitiveLength+=ha.length/3}this.programConfigurations.populatePaintArrays(this.layoutVertexArray.length,e,o,E,m)},bi("FillBucket",xd,{omit:["layers","patternFeatures"]});var fv=new $u({"fill-sort-key":new Mi(Pe.layout_fill["fill-sort-key"])}),im={paint:new $u({"fill-antialias":new Io(Pe.paint_fill["fill-antialias"]),"fill-opacity":new Mi(Pe.paint_fill["fill-opacity"]),"fill-color":new Mi(Pe.paint_fill["fill-color"]),"fill-outline-color":new Mi(Pe.paint_fill["fill-outline-color"]),"fill-translate":new Io(Pe.paint_fill["fill-translate"]),"fill-translate-anchor":new Io(Pe.paint_fill["fill-translate-anchor"]),"fill-pattern":new df(Pe.paint_fill["fill-pattern"])}),layout:fv},dv=function(e){function t(o){e.call(this,o,im)}return e&&(t.__proto__=e),(t.prototype=Object.create(e&&e.prototype)).constructor=t,t.prototype.recalculate=function(o,m){e.prototype.recalculate.call(this,o,m);var E=this.paint._values["fill-outline-color"];E.value.kind==="constant"&&E.value.value===void 0&&(this.paint._values["fill-outline-color"]=this.paint._values["fill-color"])},t.prototype.createBucket=function(o){return new xd(o)},t.prototype.queryRadius=function(){return Ea(this.paint.get("fill-translate"))},t.prototype.queryIntersectsFeature=function(o,m,E,D,V,ae,je){return Ft(ji(o,this.paint.get("fill-translate"),this.paint.get("fill-translate-anchor"),ae.angle,je),D)},t.prototype.isTileClipped=function(){return!0},t}(Mf),Pp=yu([{name:"a_pos",components:2,type:"Int16"},{name:"a_normal_ed",components:4,type:"Int16"}],4).members,om=Lc;function Lc(e,t,o,m,E){this.properties={},this.extent=o,this.type=0,this._pbf=e,this._geometry=-1,this._keys=m,this._values=E,e.readFields(ah,this,t)}function ah(e,t,o){e==1?t.id=o.readVarint():e==2?function(m,E){for(var D=m.readVarint()+m.pos;m.pos<D;){var V=E._keys[m.readVarint()],ae=E._values[m.readVarint()];E.properties[V]=ae}}(o,t):e==3?t.type=o.readVarint():e==4&&(t._geometry=o.pos)}function km(e){for(var t,o,m=0,E=0,D=e.length,V=D-1;E<D;V=E++)m+=((o=e[V]).x-(t=e[E]).x)*(t.y+o.y);return m}Lc.types=["Unknown","Point","LineString","Polygon"],Lc.prototype.loadGeometry=function(){var e=this._pbf;e.pos=this._geometry;for(var t,o=e.readVarint()+e.pos,m=1,E=0,D=0,V=0,ae=[];e.pos<o;){if(E<=0){var je=e.readVarint();m=7&je,E=je>>3}if(E--,m===1||m===2)D+=e.readSVarint(),V+=e.readSVarint(),m===1&&(t&&ae.push(t),t=[]),t.push(new oe(D,V));else{if(m!==7)throw new Error("unknown command "+m);t&&t.push(t[0].clone())}}return t&&ae.push(t),ae},Lc.prototype.bbox=function(){var e=this._pbf;e.pos=this._geometry;for(var t=e.readVarint()+e.pos,o=1,m=0,E=0,D=0,V=1/0,ae=-1/0,je=1/0,tt=-1/0;e.pos<t;){if(m<=0){var wt=e.readVarint();o=7&wt,m=wt>>3}if(m--,o===1||o===2)(E+=e.readSVarint())<V&&(V=E),E>ae&&(ae=E),(D+=e.readSVarint())<je&&(je=D),D>tt&&(tt=D);else if(o!==7)throw new Error("unknown command "+o)}return[V,je,ae,tt]},Lc.prototype.toGeoJSON=function(e,t,o){var m,E,D=this.extent*Math.pow(2,o),V=this.extent*e,ae=this.extent*t,je=this.loadGeometry(),tt=Lc.types[this.type];function wt(pr){for(var Ir=0;Ir<pr.length;Ir++){var Ar=pr[Ir];pr[Ir]=[360*(Ar.x+V)/D-180,360/Math.PI*Math.atan(Math.exp((180-360*(Ar.y+ae)/D)*Math.PI/180))-90]}}switch(this.type){case 1:var Bt=[];for(m=0;m<je.length;m++)Bt[m]=je[m][0];wt(je=Bt);break;case 2:for(m=0;m<je.length;m++)wt(je[m]);break;case 3:for(je=function(pr){var Ir=pr.length;if(Ir<=1)return[pr];for(var Ar,$r,Gr=[],gn=0;gn<Ir;gn++){var Dn=km(pr[gn]);Dn!==0&&($r===void 0&&($r=Dn<0),$r===Dn<0?(Ar&&Gr.push(Ar),Ar=[pr[gn]]):Ar.push(pr[gn]))}return Ar&&Gr.push(Ar),Gr}(je),m=0;m<je.length;m++)for(E=0;E<je[m].length;E++)wt(je[m][E])}je.length===1?je=je[0]:tt="Multi"+tt;var Kt={type:"Feature",geometry:{type:tt,coordinates:je},properties:this.properties};return"id"in this&&(Kt.id=this.id),Kt};var Bm=ih;function ih(e,t){this.version=1,this.name=null,this.extent=4096,this.length=0,this._pbf=e,this._keys=[],this._values=[],this._features=[],e.readFields(ap,this,t),this.length=this._features.length}function ap(e,t,o){e===15?t.version=o.readVarint():e===1?t.name=o.readString():e===5?t.extent=o.readVarint():e===2?t._features.push(o.pos):e===3?t._keys.push(o.readString()):e===4&&t._values.push(function(m){for(var E=null,D=m.readVarint()+m.pos;m.pos<D;){var V=m.readVarint()>>3;E=V===1?m.readString():V===2?m.readFloat():V===3?m.readDouble():V===4?m.readVarint64():V===5?m.readVarint():V===6?m.readSVarint():V===7?m.readBoolean():null}return E}(o))}function hv(e,t,o){if(e===3){var m=new Bm(o,o.readVarint()+o.pos);m.length&&(t[m.name]=m)}}ih.prototype.feature=function(e){if(e<0||e>=this._features.length)throw new Error("feature index out of bounds");this._pbf.pos=this._features[e];var t=this._pbf.readVarint()+this._pbf.pos;return new om(this._pbf,t,this.extent,this._keys,this._values)};var Cd={VectorTile:function(t,o){this.layers=t.readFields(hv,{},o)},VectorTileFeature:om,VectorTileLayer:Bm},ng=Cd.VectorTileFeature.types,pv=Math.pow(2,13);function Wd(e,t,o,m,E,D,V,ae){e.emplaceBack(t,o,2*Math.floor(m*pv)+V,E*pv*2,D*pv*2,Math.round(ae))}var Vo=function(t){this.zoom=t.zoom,this.overscaling=t.overscaling,this.layers=t.layers,this.layerIds=this.layers.map(function(o){return o.id}),this.index=t.index,this.hasPattern=!1,this.layoutVertexArray=new Mc,this.indexArray=new zd,this.programConfigurations=new us(t.layers,t.zoom),this.segments=new rr,this.stateDependentLayerIds=this.layers.filter(function(o){return o.isStateDependent()}).map(function(o){return o.id})};function zm(e,t){return e.x===t.x&&(e.x<0||e.x>8192)||e.y===t.y&&(e.y<0||e.y>8192)}Vo.prototype.populate=function(e,t,o){this.features=[],this.hasPattern=cv("fill-extrusion",this.layers,t);for(var m=0,E=e;m<E.length;m+=1){var D=E[m],V=D.feature,ae=D.id,je=D.index,tt=D.sourceLayerIndex,wt=this.layers[0]._featureFilter.needGeometry,Bt=Ns(V,wt);if(this.layers[0]._featureFilter.filter(new _s(this.zoom),Bt,o)){var Kt={id:ae,sourceLayerIndex:tt,index:je,geometry:wt?Bt.geometry:xl(V),properties:V.properties,type:V.type,patterns:{}};this.hasPattern?this.features.push($p("fill-extrusion",this.layers,Kt,this.zoom,t)):this.addFeature(Kt,Kt.geometry,je,o,{}),t.featureIndex.insert(V,Kt.geometry,je,tt,this.index,!0)}}},Vo.prototype.addFeatures=function(e,t,o){for(var m=0,E=this.features;m<E.length;m+=1){var D=E[m];this.addFeature(D,D.geometry,D.index,t,o)}},Vo.prototype.update=function(e,t,o){this.stateDependentLayers.length&&this.programConfigurations.updatePaintArrays(e,t,this.stateDependentLayers,o)},Vo.prototype.isEmpty=function(){return this.layoutVertexArray.length===0},Vo.prototype.uploadPending=function(){return!this.uploaded||this.programConfigurations.needsUpload},Vo.prototype.upload=function(e){this.uploaded||(this.layoutVertexBuffer=e.createVertexBuffer(this.layoutVertexArray,Pp),this.indexBuffer=e.createIndexBuffer(this.indexArray)),this.programConfigurations.upload(e),this.uploaded=!0},Vo.prototype.destroy=function(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.programConfigurations.destroy(),this.segments.destroy())},Vo.prototype.addFeature=function(e,t,o,m,E){for(var D=0,V=uv(t,500);D<V.length;D+=1){for(var ae=V[D],je=0,tt=0,wt=ae;tt<wt.length;tt+=1)je+=wt[tt].length;for(var Bt=this.segments.prepareSegment(4,this.layoutVertexArray,this.indexArray),Kt=0,pr=ae;Kt<pr.length;Kt+=1){var Ir=pr[Kt];if(Ir.length!==0&&!((Ks=Ir).every(function(Ps){return Ps.x<0})||Ks.every(function(Ps){return Ps.x>8192})||Ks.every(function(Ps){return Ps.y<0})||Ks.every(function(Ps){return Ps.y>8192})))for(var Ar=0,$r=0;$r<Ir.length;$r++){var Gr=Ir[$r];if($r>=1){var gn=Ir[$r-1];if(!zm(Gr,gn)){Bt.vertexLength+4>rr.MAX_VERTEX_ARRAY_LENGTH&&(Bt=this.segments.prepareSegment(4,this.layoutVertexArray,this.indexArray));var Dn=Gr.sub(gn)._perp()._unit(),Kn=gn.dist(Gr);Ar+Kn>32768&&(Ar=0),Wd(this.layoutVertexArray,Gr.x,Gr.y,Dn.x,Dn.y,0,0,Ar),Wd(this.layoutVertexArray,Gr.x,Gr.y,Dn.x,Dn.y,0,1,Ar),Wd(this.layoutVertexArray,gn.x,gn.y,Dn.x,Dn.y,0,0,Ar+=Kn),Wd(this.layoutVertexArray,gn.x,gn.y,Dn.x,Dn.y,0,1,Ar);var ha=Bt.vertexLength;this.indexArray.emplaceBack(ha,ha+2,ha+1),this.indexArray.emplaceBack(ha+1,ha+2,ha+3),Bt.vertexLength+=4,Bt.primitiveLength+=2}}}}if(Bt.vertexLength+je>rr.MAX_VERTEX_ARRAY_LENGTH&&(Bt=this.segments.prepareSegment(je,this.layoutVertexArray,this.indexArray)),ng[e.type]==="Polygon"){for(var da=[],Ja=[],ti=Bt.vertexLength,Hi=0,co=ae;Hi<co.length;Hi+=1){var mo=co[Hi];if(mo.length!==0){mo!==ae[0]&&Ja.push(da.length/2);for(var Wi=0;Wi<mo.length;Wi++){var Jo=mo[Wi];Wd(this.layoutVertexArray,Jo.x,Jo.y,0,0,1,1,0),da.push(Jo.x),da.push(Jo.y)}}}for(var Ko=Tv(da,Ja),Yi=0;Yi<Ko.length;Yi+=3)this.indexArray.emplaceBack(ti+Ko[Yi],ti+Ko[Yi+2],ti+Ko[Yi+1]);Bt.primitiveLength+=Ko.length/3,Bt.vertexLength+=je}}var Ks;this.programConfigurations.populatePaintArrays(this.layoutVertexArray.length,e,o,E,m)},bi("FillExtrusionBucket",Vo,{omit:["layers","features"]});var wp={paint:new $u({"fill-extrusion-opacity":new Io(Pe["paint_fill-extrusion"]["fill-extrusion-opacity"]),"fill-extrusion-color":new Mi(Pe["paint_fill-extrusion"]["fill-extrusion-color"]),"fill-extrusion-translate":new Io(Pe["paint_fill-extrusion"]["fill-extrusion-translate"]),"fill-extrusion-translate-anchor":new Io(Pe["paint_fill-extrusion"]["fill-extrusion-translate-anchor"]),"fill-extrusion-pattern":new df(Pe["paint_fill-extrusion"]["fill-extrusion-pattern"]),"fill-extrusion-height":new Mi(Pe["paint_fill-extrusion"]["fill-extrusion-height"]),"fill-extrusion-base":new Mi(Pe["paint_fill-extrusion"]["fill-extrusion-base"]),"fill-extrusion-vertical-gradient":new Io(Pe["paint_fill-extrusion"]["fill-extrusion-vertical-gradient"])})},ip=function(e){function t(o){e.call(this,o,wp)}return e&&(t.__proto__=e),(t.prototype=Object.create(e&&e.prototype)).constructor=t,t.prototype.createBucket=function(o){return new Vo(o)},t.prototype.queryRadius=function(){return Ea(this.paint.get("fill-extrusion-translate"))},t.prototype.is3D=function(){return!0},t.prototype.queryIntersectsFeature=function(o,m,E,D,V,ae,je,tt){var wt=ji(o,this.paint.get("fill-extrusion-translate"),this.paint.get("fill-extrusion-translate-anchor"),ae.angle,je),Bt=this.paint.get("fill-extrusion-height").evaluate(m,E),Kt=this.paint.get("fill-extrusion-base").evaluate(m,E),pr=function(Ar,$r,Gr,gn){for(var Dn=[],Kn=0,ha=Ar;Kn<ha.length;Kn+=1){var da=ha[Kn],Ja=[da.x,da.y,0,1];Yl(Ja,Ja,$r),Dn.push(new oe(Ja[0]/Ja[3],Ja[1]/Ja[3]))}return Dn}(wt,tt),Ir=function(Ar,$r,Gr,gn){for(var Dn=[],Kn=[],ha=gn[8]*$r,da=gn[9]*$r,Ja=gn[10]*$r,ti=gn[11]*$r,Hi=gn[8]*Gr,co=gn[9]*Gr,mo=gn[10]*Gr,Wi=gn[11]*Gr,Jo=0,Ko=Ar;Jo<Ko.length;Jo+=1){for(var Yi=[],Ks=[],Ps=0,Rl=Ko[Jo];Ps<Rl.length;Ps+=1){var rs=Rl[Ps],Us=rs.x,Cu=rs.y,Du=gn[0]*Us+gn[4]*Cu+gn[12],Vu=gn[1]*Us+gn[5]*Cu+gn[13],Qu=gn[2]*Us+gn[6]*Cu+gn[14],Hu=gn[3]*Us+gn[7]*Cu+gn[15],yf=Qu+Ja,Jc=Hu+ti,bf=Du+Hi,Wu=Vu+co,Fc=Qu+mo,qc=Hu+Wi,ef=new oe((Du+ha)/Jc,(Vu+da)/Jc);ef.z=yf/Jc,Yi.push(ef);var tf=new oe(bf/qc,Wu/qc);tf.z=Fc/qc,Ks.push(tf)}Dn.push(Yi),Kn.push(Ks)}return[Dn,Kn]}(D,Kt,Bt,tt);return function(Ar,$r,Gr){var gn=1/0;Ft(Gr,$r)&&(gn=Iv(Gr,$r[0]));for(var Dn=0;Dn<$r.length;Dn++)for(var Kn=$r[Dn],ha=Ar[Dn],da=0;da<Kn.length-1;da++){var Ja=Kn[da],ti=[Ja,Kn[da+1],ha[da+1],ha[da],Ja];Ru(Gr,ti)&&(gn=Math.min(gn,Iv(Gr,ti)))}return gn!==1/0&&gn}(Ir[0],Ir[1],pr)},t}(Mf);function Tp(e,t){return e.x*t.x+e.y*t.y}function Iv(e,t){if(e.length===1){for(var o,m=0,E=t[m++];!o||E.equals(o);)if(!(o=t[m++]))return 1/0;for(;m<t.length;m++){var D=t[m],V=e[0],ae=o.sub(E),je=D.sub(E),tt=V.sub(E),wt=Tp(ae,ae),Bt=Tp(ae,je),Kt=Tp(je,je),pr=Tp(tt,ae),Ir=Tp(tt,je),Ar=wt*Kt-Bt*Bt,$r=(Kt*pr-Bt*Ir)/Ar,Gr=(wt*Ir-Bt*pr)/Ar,gn=E.z*(1-$r-Gr)+o.z*$r+D.z*Gr;if(isFinite(gn))return gn}return 1/0}for(var Dn=1/0,Kn=0,ha=t;Kn<ha.length;Kn+=1)Dn=Math.min(Dn,ha[Kn].z);return Dn}var op=yu([{name:"a_pos_normal",components:2,type:"Int16"},{name:"a_data",components:4,type:"Uint8"}],4).members,Ap=yu([{name:"a_uv_x",components:1,type:"Float32"},{name:"a_split_index",components:1,type:"Float32"}]).members,fc=Cd.VectorTileFeature.types,Mp=Math.cos(Math.PI/180*37.5),dc=Math.pow(2,14)/.5,$l=function(t){var o=this;this.zoom=t.zoom,this.overscaling=t.overscaling,this.layers=t.layers,this.layerIds=this.layers.map(function(m){return m.id}),this.index=t.index,this.hasPattern=!1,this.patternFeatures=[],this.lineClipsArray=[],this.gradients={},this.layers.forEach(function(m){o.gradients[m.id]={}}),this.layoutVertexArray=new _c,this.layoutVertexArray2=new dr,this.indexArray=new zd,this.programConfigurations=new us(t.layers,t.zoom),this.segments=new rr,this.maxLineLength=0,this.stateDependentLayerIds=this.layers.filter(function(m){return m.isStateDependent()}).map(function(m){return m.id})};$l.prototype.populate=function(e,t,o){this.hasPattern=cv("line",this.layers,t);for(var m=this.layers[0].layout.get("line-sort-key"),E=[],D=0,V=e;D<V.length;D+=1){var ae=V[D],je=ae.feature,tt=ae.id,wt=ae.index,Bt=ae.sourceLayerIndex,Kt=this.layers[0]._featureFilter.needGeometry,pr=Ns(je,Kt);if(this.layers[0]._featureFilter.filter(new _s(this.zoom),pr,o)){var Ir=m?m.evaluate(pr,{},o):void 0,Ar={id:tt,properties:je.properties,type:je.type,sourceLayerIndex:Bt,index:wt,geometry:Kt?pr.geometry:xl(je),patterns:{},sortKey:Ir};E.push(Ar)}}m&&E.sort(function(Ja,ti){return Ja.sortKey-ti.sortKey});for(var $r=0,Gr=E;$r<Gr.length;$r+=1){var gn=Gr[$r],Dn=gn.geometry,Kn=gn.index,ha=gn.sourceLayerIndex;if(this.hasPattern){var da=$p("line",this.layers,gn,this.zoom,t);this.patternFeatures.push(da)}else this.addFeature(gn,Dn,Kn,o,{});t.featureIndex.insert(e[Kn].feature,Dn,Kn,ha,this.index)}},$l.prototype.update=function(e,t,o){this.stateDependentLayers.length&&this.programConfigurations.updatePaintArrays(e,t,this.stateDependentLayers,o)},$l.prototype.addFeatures=function(e,t,o){for(var m=0,E=this.patternFeatures;m<E.length;m+=1){var D=E[m];this.addFeature(D,D.geometry,D.index,t,o)}},$l.prototype.isEmpty=function(){return this.layoutVertexArray.length===0},$l.prototype.uploadPending=function(){return!this.uploaded||this.programConfigurations.needsUpload},$l.prototype.upload=function(e){this.uploaded||(this.layoutVertexArray2.length!==0&&(this.layoutVertexBuffer2=e.createVertexBuffer(this.layoutVertexArray2,Ap)),this.layoutVertexBuffer=e.createVertexBuffer(this.layoutVertexArray,op),this.indexBuffer=e.createIndexBuffer(this.indexArray)),this.programConfigurations.upload(e),this.uploaded=!0},$l.prototype.destroy=function(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.programConfigurations.destroy(),this.segments.destroy())},$l.prototype.lineFeatureClips=function(e){if(e.properties&&e.properties.hasOwnProperty("mapbox_clip_start")&&e.properties.hasOwnProperty("mapbox_clip_end"))return{start:+e.properties.mapbox_clip_start,end:+e.properties.mapbox_clip_end}},$l.prototype.addFeature=function(e,t,o,m,E){var D=this.layers[0].layout,V=D.get("line-join").evaluate(e,{}),ae=D.get("line-cap"),je=D.get("line-miter-limit"),tt=D.get("line-round-limit");this.lineClips=this.lineFeatureClips(e);for(var wt=0,Bt=t;wt<Bt.length;wt+=1)this.addLine(Bt[wt],e,V,ae,je,tt);this.programConfigurations.populatePaintArrays(this.layoutVertexArray.length,e,o,E,m)},$l.prototype.addLine=function(e,t,o,m,E,D){if(this.distance=0,this.scaledDistance=0,this.totalDistance=0,this.lineClips){this.lineClipsArray.push(this.lineClips);for(var V=0;V<e.length-1;V++)this.totalDistance+=e[V].dist(e[V+1]);this.updateScaledDistance(),this.maxLineLength=Math.max(this.maxLineLength,this.totalDistance)}for(var ae=fc[t.type]==="Polygon",je=e.length;je>=2&&e[je-1].equals(e[je-2]);)je--;for(var tt=0;tt<je-1&&e[tt].equals(e[tt+1]);)tt++;if(!(je<(ae?3:2))){o==="bevel"&&(E=1.05);var wt,Bt=this.overscaling<=16?122880/(512*this.overscaling):0,Kt=this.segments.prepareSegment(10*je,this.layoutVertexArray,this.indexArray),pr=void 0,Ir=void 0,Ar=void 0,$r=void 0;this.e1=this.e2=-1,ae&&($r=e[tt].sub(wt=e[je-2])._unit()._perp());for(var Gr=tt;Gr<je;Gr++)if(!(Ir=Gr===je-1?ae?e[tt+1]:void 0:e[Gr+1])||!e[Gr].equals(Ir)){$r&&(Ar=$r),wt&&(pr=wt),wt=e[Gr],$r=Ir?Ir.sub(wt)._unit()._perp():Ar;var gn=(Ar=Ar||$r).add($r);gn.x===0&&gn.y===0||gn._unit();var Dn=Ar.x*$r.x+Ar.y*$r.y,Kn=gn.x*$r.x+gn.y*$r.y,ha=Kn!==0?1/Kn:1/0,da=2*Math.sqrt(2-2*Kn),Ja=Kn<Mp&&pr&&Ir,ti=Ar.x*$r.y-Ar.y*$r.x>0;if(Ja&&Gr>tt){var Hi=wt.dist(pr);if(Hi>2*Bt){var co=wt.sub(wt.sub(pr)._mult(Bt/Hi)._round());this.updateDistance(pr,co),this.addCurrentVertex(co,Ar,0,0,Kt),pr=co}}var mo=pr&&Ir,Wi=mo?o:ae?"butt":m;if(mo&&Wi==="round"&&(ha<D?Wi="miter":ha<=2&&(Wi="fakeround")),Wi==="miter"&&ha>E&&(Wi="bevel"),Wi==="bevel"&&(ha>2&&(Wi="flipbevel"),ha<E&&(Wi="miter")),pr&&this.updateDistance(pr,wt),Wi==="miter")gn._mult(ha),this.addCurrentVertex(wt,gn,0,0,Kt);else if(Wi==="flipbevel"){if(ha>100)gn=$r.mult(-1);else{var Jo=ha*Ar.add($r).mag()/Ar.sub($r).mag();gn._perp()._mult(Jo*(ti?-1:1))}this.addCurrentVertex(wt,gn,0,0,Kt),this.addCurrentVertex(wt,gn.mult(-1),0,0,Kt)}else if(Wi==="bevel"||Wi==="fakeround"){var Ko=-Math.sqrt(ha*ha-1),Yi=ti?Ko:0,Ks=ti?0:Ko;if(pr&&this.addCurrentVertex(wt,Ar,Yi,Ks,Kt),Wi==="fakeround")for(var Ps=Math.round(180*da/Math.PI/20),Rl=1;Rl<Ps;Rl++){var rs=Rl/Ps;if(rs!==.5){var Us=rs-.5;rs+=rs*Us*(rs-1)*((1.0904+Dn*(Dn*(3.55645-1.43519*Dn)-3.2452))*Us*Us+(.848013+Dn*(.215638*Dn-1.06021)))}var Cu=$r.sub(Ar)._mult(rs)._add(Ar)._unit()._mult(ti?-1:1);this.addHalfVertex(wt,Cu.x,Cu.y,!1,ti,0,Kt)}Ir&&this.addCurrentVertex(wt,$r,-Yi,-Ks,Kt)}else if(Wi==="butt")this.addCurrentVertex(wt,gn,0,0,Kt);else if(Wi==="square"){var Du=pr?1:-1;this.addCurrentVertex(wt,gn,Du,Du,Kt)}else Wi==="round"&&(pr&&(this.addCurrentVertex(wt,Ar,0,0,Kt),this.addCurrentVertex(wt,Ar,1,1,Kt,!0)),Ir&&(this.addCurrentVertex(wt,$r,-1,-1,Kt,!0),this.addCurrentVertex(wt,$r,0,0,Kt)));if(Ja&&Gr<je-1){var Vu=wt.dist(Ir);if(Vu>2*Bt){var Qu=wt.add(Ir.sub(wt)._mult(Bt/Vu)._round());this.updateDistance(wt,Qu),this.addCurrentVertex(Qu,$r,0,0,Kt),wt=Qu}}}}},$l.prototype.addCurrentVertex=function(e,t,o,m,E,D){D===void 0&&(D=!1);var V=t.y*m-t.x,ae=-t.y-t.x*m;this.addHalfVertex(e,t.x+t.y*o,t.y-t.x*o,D,!1,o,E),this.addHalfVertex(e,V,ae,D,!0,-m,E),this.distance>dc/2&&this.totalDistance===0&&(this.distance=0,this.addCurrentVertex(e,t,o,m,E,D))},$l.prototype.addHalfVertex=function(e,t,o,m,E,D,V){var ae=.5*(this.lineClips?this.scaledDistance*(dc-1):this.scaledDistance);this.layoutVertexArray.emplaceBack((e.x<<1)+(m?1:0),(e.y<<1)+(E?1:0),Math.round(63*t)+128,Math.round(63*o)+128,1+(D===0?0:D<0?-1:1)|(63&ae)<<2,ae>>6),this.lineClips&&this.layoutVertexArray2.emplaceBack((this.scaledDistance-this.lineClips.start)/(this.lineClips.end-this.lineClips.start),this.lineClipsArray.length);var je=V.vertexLength++;this.e1>=0&&this.e2>=0&&(this.indexArray.emplaceBack(this.e1,this.e2,je),V.primitiveLength++),E?this.e2=je:this.e1=je},$l.prototype.updateScaledDistance=function(){this.scaledDistance=this.lineClips?this.lineClips.start+(this.lineClips.end-this.lineClips.start)*this.distance/this.totalDistance:this.distance},$l.prototype.updateDistance=function(e,t){this.distance+=e.dist(t),this.updateScaledDistance()},bi("LineBucket",$l,{omit:["layers","patternFeatures"]});var sm=new $u({"line-cap":new Io(Pe.layout_line["line-cap"]),"line-join":new Mi(Pe.layout_line["line-join"]),"line-miter-limit":new Io(Pe.layout_line["line-miter-limit"]),"line-round-limit":new Io(Pe.layout_line["line-round-limit"]),"line-sort-key":new Mi(Pe.layout_line["line-sort-key"])}),lm={paint:new $u({"line-opacity":new Mi(Pe.paint_line["line-opacity"]),"line-color":new Mi(Pe.paint_line["line-color"]),"line-translate":new Io(Pe.paint_line["line-translate"]),"line-translate-anchor":new Io(Pe.paint_line["line-translate-anchor"]),"line-width":new Mi(Pe.paint_line["line-width"]),"line-gap-width":new Mi(Pe.paint_line["line-gap-width"]),"line-offset":new Mi(Pe.paint_line["line-offset"]),"line-blur":new Mi(Pe.paint_line["line-blur"]),"line-dasharray":new _u(Pe.paint_line["line-dasharray"]),"line-pattern":new df(Pe.paint_line["line-pattern"]),"line-gradient":new cc(Pe.paint_line["line-gradient"])}),layout:sm},Rv=new(function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),(t.prototype=Object.create(e&&e.prototype)).constructor=t,t.prototype.possiblyEvaluate=function(o,m){return m=new _s(Math.floor(m.zoom),{now:m.now,fadeDuration:m.fadeDuration,zoomHistory:m.zoomHistory,transition:m.transition}),e.prototype.possiblyEvaluate.call(this,o,m)},t.prototype.evaluate=function(o,m,E,D){return m=et({},m,{zoom:Math.floor(m.zoom)}),e.prototype.evaluate.call(this,o,m,E,D)},t}(Mi))(lm.paint.properties["line-width"].specification);Rv.useIntegerZoom=!0;var ag=function(e){function t(o){e.call(this,o,lm),this.gradientVersion=0}return e&&(t.__proto__=e),(t.prototype=Object.create(e&&e.prototype)).constructor=t,t.prototype._handleSpecialPaintPropertyUpdate=function(o){o==="line-gradient"&&(this.stepInterpolant=this._transitionablePaint._values["line-gradient"].value.expression._styleExpression.expression instanceof Bs,this.gradientVersion=(this.gradientVersion+1)%at)},t.prototype.gradientExpression=function(){return this._transitionablePaint._values["line-gradient"].value.expression},t.prototype.recalculate=function(o,m){e.prototype.recalculate.call(this,o,m),this.paint._values["line-floorwidth"]=Rv.possiblyEvaluate(this._transitioningPaint._values["line-width"].value,o)},t.prototype.createBucket=function(o){return new $l(o)},t.prototype.queryRadius=function(o){var m=o,E=sp(qn("line-width",this,m),qn("line-gap-width",this,m)),D=qn("line-offset",this,m);return E/2+Math.abs(D)+Ea(this.paint.get("line-translate"))},t.prototype.queryIntersectsFeature=function(o,m,E,D,V,ae,je){var tt=ji(o,this.paint.get("line-translate"),this.paint.get("line-translate-anchor"),ae.angle,je),wt=je/2*sp(this.paint.get("line-width").evaluate(m,E),this.paint.get("line-gap-width").evaluate(m,E)),Bt=this.paint.get("line-offset").evaluate(m,E);return Bt&&(D=function(Kt,pr){for(var Ir=[],Ar=new oe(0,0),$r=0;$r<Kt.length;$r++){for(var Gr=Kt[$r],gn=[],Dn=0;Dn<Gr.length;Dn++){var Kn=Gr[Dn],ha=Gr[Dn+1],da=Dn===0?Ar:Kn.sub(Gr[Dn-1])._unit()._perp(),Ja=Dn===Gr.length-1?Ar:ha.sub(Kn)._unit()._perp(),ti=da._add(Ja)._unit();ti._mult(1/(ti.x*Ja.x+ti.y*Ja.y)),gn.push(ti._mult(pr)._add(Kn))}Ir.push(gn)}return Ir}(D,Bt*je)),function(Kt,pr,Ir){for(var Ar=0;Ar<pr.length;Ar++){var $r=pr[Ar];if(Kt.length>=3){for(var Gr=0;Gr<$r.length;Gr++)if(Mn(Kt,$r[Gr]))return!0}if(Ht(Kt,$r,Ir))return!0}return!1}(tt,D,wt)},t.prototype.isTileClipped=function(){return!0},t}(Mf);function sp(e,t){return t>0?t+2*e:e}var Lv=yu([{name:"a_pos_offset",components:4,type:"Int16"},{name:"a_data",components:4,type:"Uint16"},{name:"a_pixeloffset",components:4,type:"Int16"}],4),bm=yu([{name:"a_projected_pos",components:3,type:"Float32"}],4),jg=(yu([{name:"a_fade_opacity",components:1,type:"Uint32"}],4),yu([{name:"a_placed",components:2,type:"Uint8"},{name:"a_shift",components:2,type:"Float32"}])),xm=(yu([{type:"Int16",name:"anchorPointX"},{type:"Int16",name:"anchorPointY"},{type:"Int16",name:"x1"},{type:"Int16",name:"y1"},{type:"Int16",name:"x2"},{type:"Int16",name:"y2"},{type:"Uint32",name:"featureIndex"},{type:"Uint16",name:"sourceLayerIndex"},{type:"Uint16",name:"bucketIndex"}]),yu([{name:"a_pos",components:2,type:"Int16"},{name:"a_anchor_pos",components:2,type:"Int16"},{name:"a_extrude",components:2,type:"Int16"}],4)),Cm=yu([{name:"a_pos",components:2,type:"Float32"},{name:"a_radius",components:1,type:"Float32"},{name:"a_flags",components:2,type:"Int16"}],4);function ig(e,t,o){return e.sections.forEach(function(m){m.text=function(E,D,V){var ae=D.layout.get("text-transform").evaluate(V,{});return ae==="uppercase"?E=E.toLocaleUpperCase():ae==="lowercase"&&(E=E.toLocaleLowerCase()),gc.applyArabicShaping&&(E=gc.applyArabicShaping(E)),E}(m.text,t,o)}),e}yu([{name:"triangle",components:3,type:"Uint16"}]),yu([{type:"Int16",name:"anchorX"},{type:"Int16",name:"anchorY"},{type:"Uint16",name:"glyphStartIndex"},{type:"Uint16",name:"numGlyphs"},{type:"Uint32",name:"vertexStartIndex"},{type:"Uint32",name:"lineStartIndex"},{type:"Uint32",name:"lineLength"},{type:"Uint16",name:"segment"},{type:"Uint16",name:"lowerSize"},{type:"Uint16",name:"upperSize"},{type:"Float32",name:"lineOffsetX"},{type:"Float32",name:"lineOffsetY"},{type:"Uint8",name:"writingMode"},{type:"Uint8",name:"placedOrientation"},{type:"Uint8",name:"hidden"},{type:"Uint32",name:"crossTileID"},{type:"Int16",name:"associatedIconIndex"}]),yu([{type:"Int16",name:"anchorX"},{type:"Int16",name:"anchorY"},{type:"Int16",name:"rightJustifiedTextSymbolIndex"},{type:"Int16",name:"centerJustifiedTextSymbolIndex"},{type:"Int16",name:"leftJustifiedTextSymbolIndex"},{type:"Int16",name:"verticalPlacedTextSymbolIndex"},{type:"Int16",name:"placedIconSymbolIndex"},{type:"Int16",name:"verticalPlacedIconSymbolIndex"},{type:"Uint16",name:"key"},{type:"Uint16",name:"textBoxStartIndex"},{type:"Uint16",name:"textBoxEndIndex"},{type:"Uint16",name:"verticalTextBoxStartIndex"},{type:"Uint16",name:"verticalTextBoxEndIndex"},{type:"Uint16",name:"iconBoxStartIndex"},{type:"Uint16",name:"iconBoxEndIndex"},{type:"Uint16",name:"verticalIconBoxStartIndex"},{type:"Uint16",name:"verticalIconBoxEndIndex"},{type:"Uint16",name:"featureIndex"},{type:"Uint16",name:"numHorizontalGlyphVertices"},{type:"Uint16",name:"numVerticalGlyphVertices"},{type:"Uint16",name:"numIconVertices"},{type:"Uint16",name:"numVerticalIconVertices"},{type:"Uint16",name:"useRuntimeCollisionCircles"},{type:"Uint32",name:"crossTileID"},{type:"Float32",name:"textBoxScale"},{type:"Float32",components:2,name:"textOffset"},{type:"Float32",name:"collisionCircleDiameter"}]),yu([{type:"Float32",name:"offsetX"}]),yu([{type:"Int16",name:"x"},{type:"Int16",name:"y"},{type:"Int16",name:"tileUnitDistanceFromAnchor"}]);var xc={"!":"\uFE15","#":"\uFF03",$:"\uFF04","%":"\uFF05","&":"\uFF06","(":"\uFE35",")":"\uFE36","*":"\uFF0A","+":"\uFF0B",",":"\uFE10","-":"\uFE32",".":"\u30FB","/":"\uFF0F",":":"\uFE13",";":"\uFE14","<":"\uFE3F","=":"\uFF1D",">":"\uFE40","?":"\uFE16","@":"\uFF20","[":"\uFE47","\\":"\uFF3C","]":"\uFE48","^":"\uFF3E",_:"\uFE33","`":"\uFF40","{":"\uFE37","|":"\u2015","}":"\uFE38","~":"\uFF5E","\xA2":"\uFFE0","\xA3":"\uFFE1","\xA5":"\uFFE5","\xA6":"\uFFE4","\xAC":"\uFFE2","\xAF":"\uFFE3","\u2013":"\uFE32","\u2014":"\uFE31","\u2018":"\uFE43","\u2019":"\uFE44","\u201C":"\uFE41","\u201D":"\uFE42","\u2026":"\uFE19","\u2027":"\u30FB","\u20A9":"\uFFE6","\u3001":"\uFE11","\u3002":"\uFE12","\u3008":"\uFE3F","\u3009":"\uFE40","\u300A":"\uFE3D","\u300B":"\uFE3E","\u300C":"\uFE41","\u300D":"\uFE42","\u300E":"\uFE43","\u300F":"\uFE44","\u3010":"\uFE3B","\u3011":"\uFE3C","\u3014":"\uFE39","\u3015":"\uFE3A","\u3016":"\uFE17","\u3017":"\uFE18","\uFF01":"\uFE15","\uFF08":"\uFE35","\uFF09":"\uFE36","\uFF0C":"\uFE10","\uFF0D":"\uFE32","\uFF0E":"\u30FB","\uFF1A":"\uFE13","\uFF1B":"\uFE14","\uFF1C":"\uFE3F","\uFF1E":"\uFE40","\uFF1F":"\uFE16","\uFF3B":"\uFE47","\uFF3D":"\uFE48","\uFF3F":"\uFE33","\uFF5B":"\uFE37","\uFF5C":"\u2015","\uFF5D":"\uFE38","\uFF5F":"\uFE35","\uFF60":"\uFE36","\uFF61":"\uFE12","\uFF62":"\uFE41","\uFF63":"\uFE42"},_p=function(t,o,m,E,D){var V,ae,je=8*D-E-1,tt=(1<<je)-1,wt=tt>>1,Bt=-7,Kt=m?D-1:0,pr=m?-1:1,Ir=t[o+Kt];for(Kt+=pr,V=Ir&(1<<-Bt)-1,Ir>>=-Bt,Bt+=je;Bt>0;V=256*V+t[o+Kt],Kt+=pr,Bt-=8);for(ae=V&(1<<-Bt)-1,V>>=-Bt,Bt+=E;Bt>0;ae=256*ae+t[o+Kt],Kt+=pr,Bt-=8);if(V===0)V=1-wt;else{if(V===tt)return ae?NaN:1/0*(Ir?-1:1);ae+=Math.pow(2,E),V-=wt}return(Ir?-1:1)*ae*Math.pow(2,V-E)},kc=function(t,o,m,E,D,V){var ae,je,tt,wt=8*V-D-1,Bt=(1<<wt)-1,Kt=Bt>>1,pr=D===23?Math.pow(2,-24)-Math.pow(2,-77):0,Ir=E?0:V-1,Ar=E?1:-1,$r=o<0||o===0&&1/o<0?1:0;for(o=Math.abs(o),isNaN(o)||o===1/0?(je=isNaN(o)?1:0,ae=Bt):(ae=Math.floor(Math.log(o)/Math.LN2),o*(tt=Math.pow(2,-ae))<1&&(ae--,tt*=2),(o+=ae+Kt>=1?pr/tt:pr*Math.pow(2,1-Kt))*tt>=2&&(ae++,tt/=2),ae+Kt>=Bt?(je=0,ae=Bt):ae+Kt>=1?(je=(o*tt-1)*Math.pow(2,D),ae+=Kt):(je=o*Math.pow(2,Kt-1)*Math.pow(2,D),ae=0));D>=8;t[m+Ir]=255&je,Ir+=Ar,je/=256,D-=8);for(ae=ae<<D|je,wt+=D;wt>0;t[m+Ir]=255&ae,Ir+=Ar,ae/=256,wt-=8);t[m+Ir-Ar]|=128*$r},lp=Pl;function Pl(e){this.buf=ArrayBuffer.isView&&ArrayBuffer.isView(e)?e:new Uint8Array(e||0),this.pos=0,this.type=0,this.length=this.buf.length}Pl.Varint=0,Pl.Fixed64=1,Pl.Bytes=2,Pl.Fixed32=5;var Cl=typeof TextDecoder=="undefined"?null:new TextDecoder("utf8");function ss(e){return e.type===Pl.Bytes?e.readVarint()+e.pos:e.pos+1}function _t(e,t,o){return o?4294967296*t+(e>>>0):4294967296*(t>>>0)+(e>>>0)}function qt(e,t,o){var m=t<=16383?1:t<=2097151?2:t<=268435455?3:Math.floor(Math.log(t)/(7*Math.LN2));o.realloc(m);for(var E=o.pos-1;E>=e;E--)o.buf[E+m]=o.buf[E]}function Ur(e,t){for(var o=0;o<e.length;o++)t.writeVarint(e[o])}function jn(e,t){for(var o=0;o<e.length;o++)t.writeSVarint(e[o])}function fa(e,t){for(var o=0;o<e.length;o++)t.writeFloat(e[o])}function ea(e,t){for(var o=0;o<e.length;o++)t.writeDouble(e[o])}function Nn(e,t){for(var o=0;o<e.length;o++)t.writeBoolean(e[o])}function mn(e,t){for(var o=0;o<e.length;o++)t.writeFixed32(e[o])}function Ua(e,t){for(var o=0;o<e.length;o++)t.writeSFixed32(e[o])}function ja(e,t){for(var o=0;o<e.length;o++)t.writeFixed64(e[o])}function ei(e,t){for(var o=0;o<e.length;o++)t.writeSFixed64(e[o])}function Va(e,t){return(e[t]|e[t+1]<<8|e[t+2]<<16)+16777216*e[t+3]}function si(e,t,o){e[o]=t,e[o+1]=t>>>8,e[o+2]=t>>>16,e[o+3]=t>>>24}function ai(e,t){return(e[t]|e[t+1]<<8|e[t+2]<<16)+(e[t+3]<<24)}function Ha(e,t,o){e===1&&o.readMessage(Fn,t)}function Fn(e,t,o){if(e===3){var m=o.readMessage(In,{}),E=m.width,D=m.height,V=m.left,ae=m.top,je=m.advance;t.push({id:m.id,bitmap:new Kl({width:E+6,height:D+6},m.bitmap),metrics:{width:E,height:D,left:V,top:ae,advance:je}})}}function In(e,t,o){e===1?t.id=o.readVarint():e===2?t.bitmap=o.readBytes():e===3?t.width=o.readVarint():e===4?t.height=o.readVarint():e===5?t.left=o.readSVarint():e===6?t.top=o.readSVarint():e===7&&(t.advance=o.readVarint())}function Wa(e){for(var t=0,o=0,m=0,E=e;m<E.length;m+=1){var D=E[m];t+=D.w*D.h,o=Math.max(o,D.w)}e.sort(function(Ar,$r){return $r.h-Ar.h});for(var V=[{x:0,y:0,w:Math.max(Math.ceil(Math.sqrt(t/.95)),o),h:1/0}],ae=0,je=0,tt=0,wt=e;tt<wt.length;tt+=1)for(var Bt=wt[tt],Kt=V.length-1;Kt>=0;Kt--){var pr=V[Kt];if(!(Bt.w>pr.w||Bt.h>pr.h)){if(Bt.x=pr.x,Bt.y=pr.y,je=Math.max(je,Bt.y+Bt.h),ae=Math.max(ae,Bt.x+Bt.w),Bt.w===pr.w&&Bt.h===pr.h){var Ir=V.pop();Kt<V.length&&(V[Kt]=Ir)}else Bt.h===pr.h?(pr.x+=Bt.w,pr.w-=Bt.w):Bt.w===pr.w?(pr.y+=Bt.h,pr.h-=Bt.h):(V.push({x:pr.x+Bt.w,y:pr.y,w:pr.w-Bt.w,h:Bt.h}),pr.y+=Bt.h,pr.h-=Bt.h);break}}return{w:ae,h:je,fill:t/(ae*je)||0}}Pl.prototype={destroy:function(){this.buf=null},readFields:function(t,o,m){for(m=m||this.length;this.pos<m;){var E=this.readVarint(),D=E>>3,V=this.pos;this.type=7&E,t(D,o,this),this.pos===V&&this.skip(E)}return o},readMessage:function(t,o){return this.readFields(t,o,this.readVarint()+this.pos)},readFixed32:function(){var t=Va(this.buf,this.pos);return this.pos+=4,t},readSFixed32:function(){var t=ai(this.buf,this.pos);return this.pos+=4,t},readFixed64:function(){var t=Va(this.buf,this.pos)+4294967296*Va(this.buf,this.pos+4);return this.pos+=8,t},readSFixed64:function(){var t=Va(this.buf,this.pos)+4294967296*ai(this.buf,this.pos+4);return this.pos+=8,t},readFloat:function(){var t=_p(this.buf,this.pos,!0,23,4);return this.pos+=4,t},readDouble:function(){var t=_p(this.buf,this.pos,!0,52,8);return this.pos+=8,t},readVarint:function(t){var o,m,E=this.buf;return o=127&(m=E[this.pos++]),m<128?o:(o|=(127&(m=E[this.pos++]))<<7,m<128?o:(o|=(127&(m=E[this.pos++]))<<14,m<128?o:(o|=(127&(m=E[this.pos++]))<<21,m<128?o:function(D,V,ae){var je,tt,wt=ae.buf;if(je=(112&(tt=wt[ae.pos++]))>>4,tt<128||(je|=(127&(tt=wt[ae.pos++]))<<3,tt<128)||(je|=(127&(tt=wt[ae.pos++]))<<10,tt<128)||(je|=(127&(tt=wt[ae.pos++]))<<17,tt<128)||(je|=(127&(tt=wt[ae.pos++]))<<24,tt<128)||(je|=(1&(tt=wt[ae.pos++]))<<31,tt<128))return _t(D,je,V);throw new Error("Expected varint not more than 10 bytes")}(o|=(15&(m=E[this.pos]))<<28,t,this))))},readVarint64:function(){return this.readVarint(!0)},readSVarint:function(){var t=this.readVarint();return t%2==1?(t+1)/-2:t/2},readBoolean:function(){return Boolean(this.readVarint())},readString:function(){var t=this.readVarint()+this.pos,o=this.pos;return this.pos=t,t-o>=12&&Cl?function(m,E,D){return Cl.decode(m.subarray(E,D))}(this.buf,o,t):function(m,E,D){for(var V="",ae=E;ae<D;){var je,tt,wt,Bt=m[ae],Kt=null,pr=Bt>239?4:Bt>223?3:Bt>191?2:1;if(ae+pr>D)break;pr===1?Bt<128&&(Kt=Bt):pr===2?(192&(je=m[ae+1]))==128&&(Kt=(31&Bt)<<6|63&je)<=127&&(Kt=null):pr===3?(tt=m[ae+2],(192&(je=m[ae+1]))==128&&(192&tt)==128&&((Kt=(15&Bt)<<12|(63&je)<<6|63&tt)<=2047||Kt>=55296&&Kt<=57343)&&(Kt=null)):pr===4&&(tt=m[ae+2],wt=m[ae+3],(192&(je=m[ae+1]))==128&&(192&tt)==128&&(192&wt)==128&&((Kt=(15&Bt)<<18|(63&je)<<12|(63&tt)<<6|63&wt)<=65535||Kt>=1114112)&&(Kt=null)),Kt===null?(Kt=65533,pr=1):Kt>65535&&(Kt-=65536,V+=String.fromCharCode(Kt>>>10&1023|55296),Kt=56320|1023&Kt),V+=String.fromCharCode(Kt),ae+=pr}return V}(this.buf,o,t)},readBytes:function(){var t=this.readVarint()+this.pos,o=this.buf.subarray(this.pos,t);return this.pos=t,o},readPackedVarint:function(t,o){if(this.type!==Pl.Bytes)return t.push(this.readVarint(o));var m=ss(this);for(t=t||[];this.pos<m;)t.push(this.readVarint(o));return t},readPackedSVarint:function(t){if(this.type!==Pl.Bytes)return t.push(this.readSVarint());var o=ss(this);for(t=t||[];this.pos<o;)t.push(this.readSVarint());return t},readPackedBoolean:function(t){if(this.type!==Pl.Bytes)return t.push(this.readBoolean());var o=ss(this);for(t=t||[];this.pos<o;)t.push(this.readBoolean());return t},readPackedFloat:function(t){if(this.type!==Pl.Bytes)return t.push(this.readFloat());var o=ss(this);for(t=t||[];this.pos<o;)t.push(this.readFloat());return t},readPackedDouble:function(t){if(this.type!==Pl.Bytes)return t.push(this.readDouble());var o=ss(this);for(t=t||[];this.pos<o;)t.push(this.readDouble());return t},readPackedFixed32:function(t){if(this.type!==Pl.Bytes)return t.push(this.readFixed32());var o=ss(this);for(t=t||[];this.pos<o;)t.push(this.readFixed32());return t},readPackedSFixed32:function(t){if(this.type!==Pl.Bytes)return t.push(this.readSFixed32());var o=ss(this);for(t=t||[];this.pos<o;)t.push(this.readSFixed32());return t},readPackedFixed64:function(t){if(this.type!==Pl.Bytes)return t.push(this.readFixed64());var o=ss(this);for(t=t||[];this.pos<o;)t.push(this.readFixed64());return t},readPackedSFixed64:function(t){if(this.type!==Pl.Bytes)return t.push(this.readSFixed64());var o=ss(this);for(t=t||[];this.pos<o;)t.push(this.readSFixed64());return t},skip:function(t){var o=7&t;if(o===Pl.Varint)for(;this.buf[this.pos++]>127;);else if(o===Pl.Bytes)this.pos=this.readVarint()+this.pos;else if(o===Pl.Fixed32)this.pos+=4;else{if(o!==Pl.Fixed64)throw new Error("Unimplemented type: "+o);this.pos+=8}},writeTag:function(t,o){this.writeVarint(t<<3|o)},realloc:function(t){for(var o=this.length||16;o<this.pos+t;)o*=2;if(o!==this.length){var m=new Uint8Array(o);m.set(this.buf),this.buf=m,this.length=o}},finish:function(){return this.length=this.pos,this.pos=0,this.buf.subarray(0,this.length)},writeFixed32:function(t){this.realloc(4),si(this.buf,t,this.pos),this.pos+=4},writeSFixed32:function(t){this.realloc(4),si(this.buf,t,this.pos),this.pos+=4},writeFixed64:function(t){this.realloc(8),si(this.buf,-1&t,this.pos),si(this.buf,Math.floor(t*(1/4294967296)),this.pos+4),this.pos+=8},writeSFixed64:function(t){this.realloc(8),si(this.buf,-1&t,this.pos),si(this.buf,Math.floor(t*(1/4294967296)),this.pos+4),this.pos+=8},writeVarint:function(t){(t=+t||0)>268435455||t<0?function(o,m){var E,D;if(o>=0?(E=o%4294967296|0,D=o/4294967296|0):(D=~(-o/4294967296),4294967295^(E=~(-o%4294967296))?E=E+1|0:(E=0,D=D+1|0)),o>=18446744073709552e3||o<-18446744073709552e3)throw new Error("Given varint doesn't fit into 10 bytes");m.realloc(10),function(V,ae,je){je.buf[je.pos++]=127&V|128,V>>>=7,je.buf[je.pos++]=127&V|128,V>>>=7,je.buf[je.pos++]=127&V|128,V>>>=7,je.buf[je.pos++]=127&V|128,je.buf[je.pos]=127&(V>>>=7)}(E,0,m),function(V,ae){var je=(7&V)<<4;ae.buf[ae.pos++]|=je|((V>>>=3)?128:0),V&&(ae.buf[ae.pos++]=127&V|((V>>>=7)?128:0),V&&(ae.buf[ae.pos++]=127&V|((V>>>=7)?128:0),V&&(ae.buf[ae.pos++]=127&V|((V>>>=7)?128:0),V&&(ae.buf[ae.pos++]=127&V|((V>>>=7)?128:0),V&&(ae.buf[ae.pos++]=127&V)))))}(D,m)}(t,this):(this.realloc(4),this.buf[this.pos++]=127&t|(t>127?128:0),t<=127||(this.buf[this.pos++]=127&(t>>>=7)|(t>127?128:0),t<=127||(this.buf[this.pos++]=127&(t>>>=7)|(t>127?128:0),t<=127||(this.buf[this.pos++]=t>>>7&127))))},writeSVarint:function(t){this.writeVarint(t<0?2*-t-1:2*t)},writeBoolean:function(t){this.writeVarint(Boolean(t))},writeString:function(t){t=String(t),this.realloc(4*t.length),this.pos++;var o=this.pos;this.pos=function(E,D,V){for(var ae,je,tt=0;tt<D.length;tt++){if((ae=D.charCodeAt(tt))>55295&&ae<57344){if(!je){ae>56319||tt+1===D.length?(E[V++]=239,E[V++]=191,E[V++]=189):je=ae;continue}if(ae<56320){E[V++]=239,E[V++]=191,E[V++]=189,je=ae;continue}ae=je-55296<<10|ae-56320|65536,je=null}else je&&(E[V++]=239,E[V++]=191,E[V++]=189,je=null);ae<128?E[V++]=ae:(ae<2048?E[V++]=ae>>6|192:(ae<65536?E[V++]=ae>>12|224:(E[V++]=ae>>18|240,E[V++]=ae>>12&63|128),E[V++]=ae>>6&63|128),E[V++]=63&ae|128)}return V}(this.buf,t,this.pos);var m=this.pos-o;m>=128&&qt(o,m,this),this.pos=o-1,this.writeVarint(m),this.pos+=m},writeFloat:function(t){this.realloc(4),kc(this.buf,t,this.pos,!0,23,4),this.pos+=4},writeDouble:function(t){this.realloc(8),kc(this.buf,t,this.pos,!0,52,8),this.pos+=8},writeBytes:function(t){var o=t.length;this.writeVarint(o),this.realloc(o);for(var m=0;m<o;m++)this.buf[this.pos++]=t[m]},writeRawMessage:function(t,o){this.pos++;var m=this.pos;t(o,this);var E=this.pos-m;E>=128&&qt(m,E,this),this.pos=m-1,this.writeVarint(E),this.pos+=E},writeMessage:function(t,o,m){this.writeTag(t,Pl.Bytes),this.writeRawMessage(o,m)},writePackedVarint:function(t,o){o.length&&this.writeMessage(t,Ur,o)},writePackedSVarint:function(t,o){o.length&&this.writeMessage(t,jn,o)},writePackedBoolean:function(t,o){o.length&&this.writeMessage(t,Nn,o)},writePackedFloat:function(t,o){o.length&&this.writeMessage(t,fa,o)},writePackedDouble:function(t,o){o.length&&this.writeMessage(t,ea,o)},writePackedFixed32:function(t,o){o.length&&this.writeMessage(t,mn,o)},writePackedSFixed32:function(t,o){o.length&&this.writeMessage(t,Ua,o)},writePackedFixed64:function(t,o){o.length&&this.writeMessage(t,ja,o)},writePackedSFixed64:function(t,o){o.length&&this.writeMessage(t,ei,o)},writeBytesField:function(t,o){this.writeTag(t,Pl.Bytes),this.writeBytes(o)},writeFixed32Field:function(t,o){this.writeTag(t,Pl.Fixed32),this.writeFixed32(o)},writeSFixed32Field:function(t,o){this.writeTag(t,Pl.Fixed32),this.writeSFixed32(o)},writeFixed64Field:function(t,o){this.writeTag(t,Pl.Fixed64),this.writeFixed64(o)},writeSFixed64Field:function(t,o){this.writeTag(t,Pl.Fixed64),this.writeSFixed64(o)},writeVarintField:function(t,o){this.writeTag(t,Pl.Varint),this.writeVarint(o)},writeSVarintField:function(t,o){this.writeTag(t,Pl.Varint),this.writeSVarint(o)},writeStringField:function(t,o){this.writeTag(t,Pl.Bytes),this.writeString(o)},writeFloatField:function(t,o){this.writeTag(t,Pl.Fixed32),this.writeFloat(o)},writeDoubleField:function(t,o){this.writeTag(t,Pl.Fixed64),this.writeDouble(o)},writeBooleanField:function(t,o){this.writeVarintField(t,Boolean(o))}};var ki=function(t,o){var m=o.pixelRatio,E=o.version,D=o.stretchX,V=o.stretchY,ae=o.content;this.paddedRect=t,this.pixelRatio=m,this.stretchX=D,this.stretchY=V,this.content=ae,this.version=E},ua={tl:{configurable:!0},br:{configurable:!0},tlbr:{configurable:!0},displaySize:{configurable:!0}};ua.tl.get=function(){return[this.paddedRect.x+1,this.paddedRect.y+1]},ua.br.get=function(){return[this.paddedRect.x+this.paddedRect.w-1,this.paddedRect.y+this.paddedRect.h-1]},ua.tlbr.get=function(){return this.tl.concat(this.br)},ua.displaySize.get=function(){return[(this.paddedRect.w-2)/this.pixelRatio,(this.paddedRect.h-2)/this.pixelRatio]},Object.defineProperties(ki.prototype,ua);var vo=function(t,o){var m={},E={};this.haveRenderCallbacks=[];var D=[];this.addImages(t,m,D),this.addImages(o,E,D);var V=Wa(D),ae=new vl({width:V.w||1,height:V.h||1});for(var je in t){var tt=t[je],wt=m[je].paddedRect;vl.copy(tt.data,ae,{x:0,y:0},{x:wt.x+1,y:wt.y+1},tt.data)}for(var Bt in o){var Kt=o[Bt],pr=E[Bt].paddedRect,Ir=pr.x+1,Ar=pr.y+1,$r=Kt.data.width,Gr=Kt.data.height;vl.copy(Kt.data,ae,{x:0,y:0},{x:Ir,y:Ar},Kt.data),vl.copy(Kt.data,ae,{x:0,y:Gr-1},{x:Ir,y:Ar-1},{width:$r,height:1}),vl.copy(Kt.data,ae,{x:0,y:0},{x:Ir,y:Ar+Gr},{width:$r,height:1}),vl.copy(Kt.data,ae,{x:$r-1,y:0},{x:Ir-1,y:Ar},{width:1,height:Gr}),vl.copy(Kt.data,ae,{x:0,y:0},{x:Ir+$r,y:Ar},{width:1,height:Gr})}this.image=ae,this.iconPositions=m,this.patternPositions=E};vo.prototype.addImages=function(e,t,o){for(var m in e){var E=e[m],D={x:0,y:0,w:E.data.width+2,h:E.data.height+2};o.push(D),t[m]=new ki(D,E),E.hasRenderCallback&&this.haveRenderCallbacks.push(m)}},vo.prototype.patchUpdatedImages=function(e,t){for(var o in e.dispatchRenderCallbacks(this.haveRenderCallbacks),e.updatedImages)this.patchUpdatedImage(this.iconPositions[o],e.getImage(o),t),this.patchUpdatedImage(this.patternPositions[o],e.getImage(o),t)},vo.prototype.patchUpdatedImage=function(e,t,o){if(e&&t&&e.version!==t.version){e.version=t.version;var m=e.tl;o.update(t.data,void 0,{x:m[0],y:m[1]})}},bi("ImagePosition",ki),bi("ImageAtlas",vo);var Pi={horizontal:1,vertical:2,horizontalOnly:3},yi=function(){this.scale=1,this.fontStack="",this.imageName=null};yi.forText=function(e,t){var o=new yi;return o.scale=e||1,o.fontStack=t,o},yi.forImage=function(e){var t=new yi;return t.imageName=e,t};var ta=function(){this.text="",this.sectionIndex=[],this.sections=[],this.imageSectionID=null};function na(e,t,o,m,E,D,V,ae,je,tt,wt,Bt,Kt,pr,Ir,Ar){var $r,Gr=ta.fromFeature(e,E);Bt===Pi.vertical&&Gr.verticalizePunctuation();var gn=gc.processBidirectionalText,Dn=gc.processStyledBidirectionalText;if(gn&&Gr.sections.length===1){$r=[];for(var Kn=0,ha=gn(Gr.toString(),ls(Gr,tt,D,t,m,pr,Ir));Kn<ha.length;Kn+=1){var da=ha[Kn],Ja=new ta;Ja.text=da,Ja.sections=Gr.sections;for(var ti=0;ti<da.length;ti++)Ja.sectionIndex.push(0);$r.push(Ja)}}else if(Dn){$r=[];for(var Hi=0,co=Dn(Gr.text,Gr.sectionIndex,ls(Gr,tt,D,t,m,pr,Ir));Hi<co.length;Hi+=1){var mo=co[Hi],Wi=new ta;Wi.text=mo[0],Wi.sectionIndex=mo[1],Wi.sections=Gr.sections,$r.push(Wi)}}else $r=function(Yi,Ks){for(var Ps=[],Rl=Yi.text,rs=0,Us=0,Cu=Ks;Us<Cu.length;Us+=1){var Du=Cu[Us];Ps.push(Yi.substring(rs,Du)),rs=Du}return rs<Rl.length&&Ps.push(Yi.substring(rs,Rl.length)),Ps}(Gr,ls(Gr,tt,D,t,m,pr,Ir));var Jo=[],Ko={positionedLines:Jo,text:Gr.toString(),top:wt[1],bottom:wt[1],left:wt[0],right:wt[0],writingMode:Bt,iconsInText:!1,verticalizable:!1};return function(Yi,Ks,Ps,Rl,rs,Us,Cu,Du,Vu,Qu,Hu,yf){for(var Jc=0,bf=-17,Wu=0,Fc=0,qc=Du==="right"?1:Du==="left"?0:.5,ef=0,tf=0,jl=rs;tf<jl.length;tf+=1){var yl=jl[tf];yl.trim();var Xl=yl.getMaxScale(),Fu=24*(Xl-1),Sd={positionedGlyphs:[],lineOffset:0};Yi.positionedLines[ef]=Sd;var Pu=Sd.positionedGlyphs,iu=0;if(yl.length()){for(var zc=0;zc<yl.length();zc++){var Is=yl.getSection(zc),oc=yl.getSectionIndex(zc),bh=yl.getCharCode(zc),up=0,rf=null,ns=null,yv=null,Zs=24,Gu=!(Vu===Pi.horizontal||!Hu&&!Uu(bh)||Hu&&(Ii[bh]||(Rp=bh,gi.Arabic(Rp)||gi["Arabic Supplement"](Rp)||gi["Arabic Extended-A"](Rp)||gi["Arabic Presentation Forms-A"](Rp)||gi["Arabic Presentation Forms-B"](Rp))));if(Is.imageName){var oh=Rl[Is.imageName];if(!oh)continue;yv=Is.imageName,Yi.iconsInText=Yi.iconsInText||!0,ns=oh.paddedRect;var Od=oh.displaySize;Is.scale=24*Is.scale/yf,up=Fu+(24-Od[1]*Is.scale),Zs=(rf={width:Od[0],height:Od[1],left:1,top:-3,advance:Gu?Od[1]:Od[0]}).advance;var Sm=Gu?Od[0]*Is.scale-24*Xl:Od[1]*Is.scale-24*Xl;Sm>0&&Sm>iu&&(iu=Sm)}else{var um=Ps[Is.fontStack],Jp=um&&um[bh];if(Jp&&Jp.rect)ns=Jp.rect,rf=Jp.metrics;else{var Hm=Ks[Is.fontStack],jv=Hm&&Hm[bh];if(!jv)continue;rf=jv.metrics}up=24*(Xl-Is.scale)}Gu?(Yi.verticalizable=!0,Pu.push({glyph:bh,imageName:yv,x:Jc,y:bf+up,vertical:Gu,scale:Is.scale,fontStack:Is.fontStack,sectionIndex:oc,metrics:rf,rect:ns}),Jc+=Zs*Is.scale+Qu):(Pu.push({glyph:bh,imageName:yv,x:Jc,y:bf+up,vertical:Gu,scale:Is.scale,fontStack:Is.fontStack,sectionIndex:oc,metrics:rf,rect:ns}),Jc+=rf.advance*Is.scale+Qu)}Pu.length!==0&&(Wu=Math.max(Jc-Qu,Wu),wi(Pu,0,Pu.length-1,qc,iu)),Jc=0;var cm=Us*Xl+iu;Sd.lineOffset=Math.max(iu,Fu),bf+=cm,Fc=Math.max(cm,Fc),++ef}else bf+=Us,++ef}var Rp,Pd=bf- -17,Om=xi(Cu),Lp=Om.horizontalAlign,Ju=Om.verticalAlign;(function(pc,Pm,sg,kv,Wm,Bv,jh,fm,wm){var bv,kh=(Pm-sg)*Wm;bv=Bv!==jh?-fm*kv- -17:(-kv*wm+.5)*jh;for(var zv=0,Tm=pc;zv<Tm.length;zv+=1)for(var qp=0,sd=Tm[zv].positionedGlyphs;qp<sd.length;qp+=1){var Dp=sd[qp];Dp.x+=kh,Dp.y+=bv}})(Yi.positionedLines,qc,Lp,Ju,Wu,Fc,Us,Pd,rs.length),Yi.top+=-Ju*Pd,Yi.bottom=Yi.top+Pd,Yi.left+=-Lp*Wu,Yi.right=Yi.left+Wu}(Ko,t,o,m,$r,V,ae,je,Bt,tt,Kt,Ar),!function(Yi){for(var Ks=0,Ps=Yi;Ks<Ps.length;Ks+=1)if(Ps[Ks].positionedGlyphs.length!==0)return!1;return!0}(Jo)&&Ko}ta.fromFeature=function(e,t){for(var o=new ta,m=0;m<e.sections.length;m++){var E=e.sections[m];E.image?o.addImageSection(E):o.addTextSection(E,t)}return o},ta.prototype.length=function(){return this.text.length},ta.prototype.getSection=function(e){return this.sections[this.sectionIndex[e]]},ta.prototype.getSectionIndex=function(e){return this.sectionIndex[e]},ta.prototype.getCharCode=function(e){return this.text.charCodeAt(e)},ta.prototype.verticalizePunctuation=function(){this.text=function(e){for(var t="",o=0;o<e.length;o++){var m=e.charCodeAt(o+1)||null,E=e.charCodeAt(o-1)||null;t+=m&&ep(m)&&!xc[e[o+1]]||E&&ep(E)&&!xc[e[o-1]]||!xc[e[o]]?e[o]:xc[e[o]]}return t}(this.text)},ta.prototype.trim=function(){for(var e=0,t=0;t<this.text.length&&Ii[this.text.charCodeAt(t)];t++)e++;for(var o=this.text.length,m=this.text.length-1;m>=0&&m>=e&&Ii[this.text.charCodeAt(m)];m--)o--;this.text=this.text.substring(e,o),this.sectionIndex=this.sectionIndex.slice(e,o)},ta.prototype.substring=function(e,t){var o=new ta;return o.text=this.text.substring(e,t),o.sectionIndex=this.sectionIndex.slice(e,t),o.sections=this.sections,o},ta.prototype.toString=function(){return this.text},ta.prototype.getMaxScale=function(){var e=this;return this.sectionIndex.reduce(function(t,o){return Math.max(t,e.sections[o].scale)},0)},ta.prototype.addTextSection=function(e,t){this.text+=e.text,this.sections.push(yi.forText(e.scale,e.fontStack||t));for(var o=this.sections.length-1,m=0;m<e.text.length;++m)this.sectionIndex.push(o)},ta.prototype.addImageSection=function(e){var t=e.image?e.image.name:"";if(t.length!==0){var o=this.getNextImageSectionCharCode();o?(this.text+=String.fromCharCode(o),this.sections.push(yi.forImage(t)),this.sectionIndex.push(this.sections.length-1)):yt("Reached maximum number of images 6401")}else yt("Can't add FormattedSection with an empty image.")},ta.prototype.getNextImageSectionCharCode=function(){return this.imageSectionID?this.imageSectionID>=63743?null:++this.imageSectionID:(this.imageSectionID=57344,this.imageSectionID)};var Ii={9:!0,10:!0,11:!0,12:!0,13:!0,32:!0},Qa={};function Za(e,t,o,m,E,D){if(t.imageName){var V=m[t.imageName];return V?V.displaySize[0]*t.scale*24/D+E:0}var ae=o[t.fontStack],je=ae&&ae[e];return je?je.metrics.advance*t.scale+E:0}function Ei(e,t,o,m){var E=Math.pow(e-t,2);return m?e<t?E/2:2*E:E+Math.abs(o)*o}function Si(e,t,o){var m=0;return e===10&&(m-=1e4),o&&(m+=150),e!==40&&e!==65288||(m+=50),t!==41&&t!==65289||(m+=50),m}function Ss(e,t,o,m,E,D){for(var V=null,ae=Ei(t,o,E,D),je=0,tt=m;je<tt.length;je+=1){var wt=tt[je],Bt=Ei(t-wt.x,o,E,D)+wt.badness;Bt<=ae&&(V=wt,ae=Bt)}return{index:e,x:t,priorBreak:V,badness:ae}}function ls(e,t,o,m,E,D,V){if(D!=="point")return[];if(!e)return[];for(var ae,je=[],tt=function($r,Gr,gn,Dn,Kn,ha){for(var da=0,Ja=0;Ja<$r.length();Ja++){var ti=$r.getSection(Ja);da+=Za($r.getCharCode(Ja),ti,Dn,Kn,Gr,ha)}return da/Math.max(1,Math.ceil(da/gn))}(e,t,o,m,E,V),wt=e.text.indexOf("\u200B")>=0,Bt=0,Kt=0;Kt<e.length();Kt++){var pr=e.getSection(Kt),Ir=e.getCharCode(Kt);if(Ii[Ir]||(Bt+=Za(Ir,pr,m,E,t,V)),Kt<e.length()-1){var Ar=!((ae=Ir)<11904||!(gi["Bopomofo Extended"](ae)||gi.Bopomofo(ae)||gi["CJK Compatibility Forms"](ae)||gi["CJK Compatibility Ideographs"](ae)||gi["CJK Compatibility"](ae)||gi["CJK Radicals Supplement"](ae)||gi["CJK Strokes"](ae)||gi["CJK Symbols and Punctuation"](ae)||gi["CJK Unified Ideographs Extension A"](ae)||gi["CJK Unified Ideographs"](ae)||gi["Enclosed CJK Letters and Months"](ae)||gi["Halfwidth and Fullwidth Forms"](ae)||gi.Hiragana(ae)||gi["Ideographic Description Characters"](ae)||gi["Kangxi Radicals"](ae)||gi["Katakana Phonetic Extensions"](ae)||gi.Katakana(ae)||gi["Vertical Forms"](ae)||gi["Yi Radicals"](ae)||gi["Yi Syllables"](ae)));(Qa[Ir]||Ar||pr.imageName)&&je.push(Ss(Kt+1,Bt,tt,je,Si(Ir,e.getCharCode(Kt+1),Ar&&wt),!1))}}return function $r(Gr){return Gr?$r(Gr.priorBreak).concat(Gr.index):[]}(Ss(e.length(),Bt,tt,je,0,!0))}function xi(e){var t=.5,o=.5;switch(e){case"right":case"top-right":case"bottom-right":t=1;break;case"left":case"top-left":case"bottom-left":t=0}switch(e){case"bottom":case"bottom-right":case"bottom-left":o=1;break;case"top":case"top-right":case"top-left":o=0}return{horizontalAlign:t,verticalAlign:o}}function wi(e,t,o,m,E){if(m||E)for(var D=e[o],V=(e[o].x+D.metrics.advance*D.scale)*m,ae=t;ae<=o;ae++)e[ae].x-=V,e[ae].y+=E}function Fo(e,t,o,m,E,D){var V,ae=e.image;if(ae.content){var je=ae.content,tt=ae.pixelRatio||1;V=[je[0]/tt,je[1]/tt,ae.displaySize[0]-je[2]/tt,ae.displaySize[1]-je[3]/tt]}var wt,Bt,Kt,pr,Ir=t.left*D,Ar=t.right*D;o==="width"||o==="both"?(pr=E[0]+Ir-m[3],Bt=E[0]+Ar+m[1]):Bt=(pr=E[0]+(Ir+Ar-ae.displaySize[0])/2)+ae.displaySize[0];var $r=t.top*D,Gr=t.bottom*D;return o==="height"||o==="both"?(wt=E[1]+$r-m[0],Kt=E[1]+Gr+m[2]):Kt=(wt=E[1]+($r+Gr-ae.displaySize[1])/2)+ae.displaySize[1],{image:ae,top:wt,right:Bt,bottom:Kt,left:pr,collisionPadding:V}}Qa[10]=!0,Qa[32]=!0,Qa[38]=!0,Qa[40]=!0,Qa[41]=!0,Qa[43]=!0,Qa[45]=!0,Qa[47]=!0,Qa[173]=!0,Qa[183]=!0,Qa[8203]=!0,Qa[8208]=!0,Qa[8211]=!0,Qa[8231]=!0;var es=function(e){function t(o,m,E,D){e.call(this,o,m),this.angle=E,D!==void 0&&(this.segment=D)}return e&&(t.__proto__=e),(t.prototype=Object.create(e&&e.prototype)).constructor=t,t.prototype.clone=function(){return new t(this.x,this.y,this.angle,this.segment)},t}(oe);function cs(e,t){var o=t.expression;if(o.kind==="constant")return{kind:"constant",layoutSize:o.evaluate(new _s(e+1))};if(o.kind==="source")return{kind:"source"};for(var m=o.zoomStops,E=o.interpolationType,D=0;D<m.length&&m[D]<=e;)D++;for(var V=D=Math.max(0,D-1);V<m.length&&m[V]<e+1;)V++;V=Math.min(m.length-1,V);var ae=m[D],je=m[V];return o.kind==="composite"?{kind:"composite",minZoom:ae,maxZoom:je,interpolationType:E}:{kind:"camera",minZoom:ae,maxZoom:je,minSize:o.evaluate(new _s(ae)),maxSize:o.evaluate(new _s(je)),interpolationType:E}}function eu(e,t,o){var m=t.uSize,E=o.lowerSize;return e.kind==="source"?E/128:e.kind==="composite"?tu(E/128,o.upperSize/128,t.uSizeT):m}function bu(e,t){var o=0,m=0;if(e.kind==="constant")m=e.layoutSize;else if(e.kind!=="source"){var E=e.interpolationType,D=E?I(fn.interpolationFactor(E,t,e.minZoom,e.maxZoom),0,1):0;e.kind==="camera"?m=tu(e.minSize,e.maxSize,D):o=D}return{uSizeT:o,uSize:m}}bi("Anchor",es);var js=Object.freeze({__proto__:null,getSizeData:cs,evaluateSizeForFeature:eu,evaluateSizeForZoom:bu,SIZE_PACK_FACTOR:128});function Lu(e,t,o,m,E){if(t.segment===void 0)return!0;for(var D=t,V=t.segment+1,ae=0;ae>-o/2;){if(--V<0)return!1;ae-=e[V].dist(D),D=e[V]}ae+=e[V].dist(e[V+1]),V++;for(var je=[],tt=0;ae<o/2;){var wt=e[V],Bt=e[V+1];if(!Bt)return!1;var Kt=e[V-1].angleTo(wt)-wt.angleTo(Bt);for(Kt=Math.abs((Kt+3*Math.PI)%(2*Math.PI)-Math.PI),je.push({distance:ae,angleDelta:Kt}),tt+=Kt;ae-je[0].distance>m;)tt-=je.shift().angleDelta;if(tt>E)return!1;V++,ae+=wt.dist(Bt)}return!0}function Zl(e){for(var t=0,o=0;o<e.length-1;o++)t+=e[o].dist(e[o+1]);return t}function xu(e,t,o){return e?.6*t*o:0}function hu(e,t){return Math.max(e?e.right-e.left:0,t?t.right-t.left:0)}function mf(e,t,o,m,E,D){for(var V=xu(o,E,D),ae=hu(o,m)*D,je=0,tt=Zl(e)/2,wt=0;wt<e.length-1;wt++){var Bt=e[wt],Kt=e[wt+1],pr=Bt.dist(Kt);if(je+pr>tt){var Ir=(tt-je)/pr,Ar=tu(Bt.x,Kt.x,Ir),$r=tu(Bt.y,Kt.y,Ir),Gr=new es(Ar,$r,Kt.angleTo(Bt),wt);return Gr._round(),!V||Lu(e,Gr,ae,V,t)?Gr:void 0}je+=pr}}function Xc(e,t,o,m,E,D,V,ae,je){var tt=xu(m,D,V),wt=hu(m,E),Bt=wt*V,Kt=e[0].x===0||e[0].x===je||e[0].y===0||e[0].y===je;return t-Bt<t/4&&(t=Bt+t/4),function pr(Ir,Ar,$r,Gr,gn,Dn,Kn,ha,da){for(var Ja=Dn/2,ti=Zl(Ir),Hi=0,co=Ar-$r,mo=[],Wi=0;Wi<Ir.length-1;Wi++){for(var Jo=Ir[Wi],Ko=Ir[Wi+1],Yi=Jo.dist(Ko),Ks=Ko.angleTo(Jo);co+$r<Hi+Yi;){var Ps=((co+=$r)-Hi)/Yi,Rl=tu(Jo.x,Ko.x,Ps),rs=tu(Jo.y,Ko.y,Ps);if(Rl>=0&&Rl<da&&rs>=0&&rs<da&&co-Ja>=0&&co+Ja<=ti){var Us=new es(Rl,rs,Ks,Wi);Us._round(),Gr&&!Lu(Ir,Us,Dn,Gr,gn)||mo.push(Us)}}Hi+=Yi}return ha||mo.length||Kn||(mo=pr(Ir,Hi/2,$r,Gr,gn,Dn,Kn,!0,da)),mo}(e,Kt?t/2*ae%t:(wt/2+2*D)*V*ae%t,t,tt,o,Bt,Kt,!1,je)}function Su(e,t,o,m,E){for(var D=[],V=0;V<e.length;V++)for(var ae=e[V],je=void 0,tt=0;tt<ae.length-1;tt++){var wt=ae[tt],Bt=ae[tt+1];wt.x<t&&Bt.x<t||(wt.x<t?wt=new oe(t,wt.y+(t-wt.x)/(Bt.x-wt.x)*(Bt.y-wt.y))._round():Bt.x<t&&(Bt=new oe(t,wt.y+(t-wt.x)/(Bt.x-wt.x)*(Bt.y-wt.y))._round()),wt.y<o&&Bt.y<o||(wt.y<o?wt=new oe(wt.x+(o-wt.y)/(Bt.y-wt.y)*(Bt.x-wt.x),o)._round():Bt.y<o&&(Bt=new oe(wt.x+(o-wt.y)/(Bt.y-wt.y)*(Bt.x-wt.x),o)._round()),wt.x>=m&&Bt.x>=m||(wt.x>=m?wt=new oe(m,wt.y+(m-wt.x)/(Bt.x-wt.x)*(Bt.y-wt.y))._round():Bt.x>=m&&(Bt=new oe(m,wt.y+(m-wt.x)/(Bt.x-wt.x)*(Bt.y-wt.y))._round()),wt.y>=E&&Bt.y>=E||(wt.y>=E?wt=new oe(wt.x+(E-wt.y)/(Bt.y-wt.y)*(Bt.x-wt.x),E)._round():Bt.y>=E&&(Bt=new oe(wt.x+(E-wt.y)/(Bt.y-wt.y)*(Bt.x-wt.x),E)._round()),je&&wt.equals(je[je.length-1])||D.push(je=[wt]),je.push(Bt)))))}return D}function ac(e,t,o,m){var E=[],D=e.image,V=D.pixelRatio,ae=D.paddedRect.w-2,je=D.paddedRect.h-2,tt=e.right-e.left,wt=e.bottom-e.top,Bt=D.stretchX||[[0,ae]],Kt=D.stretchY||[[0,je]],pr=function(rs,Us){return rs+Us[1]-Us[0]},Ir=Bt.reduce(pr,0),Ar=Kt.reduce(pr,0),$r=ae-Ir,Gr=je-Ar,gn=0,Dn=Ir,Kn=0,ha=Ar,da=0,Ja=$r,ti=0,Hi=Gr;if(D.content&&m){var co=D.content;gn=Os(Bt,0,co[0]),Kn=Os(Kt,0,co[1]),Dn=Os(Bt,co[0],co[2]),ha=Os(Kt,co[1],co[3]),da=co[0]-gn,ti=co[1]-Kn,Ja=co[2]-co[0]-Dn,Hi=co[3]-co[1]-ha}var mo=function(rs,Us,Cu,Du){var Vu=_l(rs.stretch-gn,Dn,tt,e.left),Qu=Bc(rs.fixed-da,Ja,rs.stretch,Ir),Hu=_l(Us.stretch-Kn,ha,wt,e.top),yf=Bc(Us.fixed-ti,Hi,Us.stretch,Ar),Jc=_l(Cu.stretch-gn,Dn,tt,e.left),bf=Bc(Cu.fixed-da,Ja,Cu.stretch,Ir),Wu=_l(Du.stretch-Kn,ha,wt,e.top),Fc=Bc(Du.fixed-ti,Hi,Du.stretch,Ar),qc=new oe(Vu,Hu),ef=new oe(Jc,Hu),tf=new oe(Jc,Wu),jl=new oe(Vu,Wu),yl=new oe(Qu/V,yf/V),Xl=new oe(bf/V,Fc/V),Fu=t*Math.PI/180;if(Fu){var Sd=Math.sin(Fu),Pu=Math.cos(Fu),iu=[Pu,-Sd,Sd,Pu];qc._matMult(iu),ef._matMult(iu),jl._matMult(iu),tf._matMult(iu)}var zc=rs.stretch+rs.fixed,Is=Us.stretch+Us.fixed;return{tl:qc,tr:ef,bl:jl,br:tf,tex:{x:D.paddedRect.x+1+zc,y:D.paddedRect.y+1+Is,w:Cu.stretch+Cu.fixed-zc,h:Du.stretch+Du.fixed-Is},writingMode:void 0,glyphOffset:[0,0],sectionIndex:0,pixelOffsetTL:yl,pixelOffsetBR:Xl,minFontScaleX:Ja/V/tt,minFontScaleY:Hi/V/wt,isSDF:o}};if(m&&(D.stretchX||D.stretchY))for(var Wi=Lf(Bt,$r,Ir),Jo=Lf(Kt,Gr,Ar),Ko=0;Ko<Wi.length-1;Ko++)for(var Yi=Wi[Ko],Ks=Wi[Ko+1],Ps=0;Ps<Jo.length-1;Ps++)E.push(mo(Yi,Jo[Ps],Ks,Jo[Ps+1]));else E.push(mo({fixed:0,stretch:-1},{fixed:0,stretch:-1},{fixed:0,stretch:ae+1},{fixed:0,stretch:je+1}));return E}function Os(e,t,o){for(var m=0,E=0,D=e;E<D.length;E+=1){var V=D[E];m+=Math.max(t,Math.min(o,V[1]))-Math.max(t,Math.min(o,V[0]))}return m}function Lf(e,t,o){for(var m=[{fixed:-1,stretch:0}],E=0,D=e;E<D.length;E+=1){var V=D[E],ae=V[0],je=V[1],tt=m[m.length-1];m.push({fixed:ae-tt.stretch,stretch:tt.stretch}),m.push({fixed:ae-tt.stretch,stretch:tt.stretch+(je-ae)})}return m.push({fixed:t+1,stretch:o}),m}function _l(e,t,o,m){return e/t*o+m}function Bc(e,t,o,m){return e-t*o/m}var Go=function(t,o,m,E,D,V,ae,je,tt,wt){if(this.boxStartIndex=t.length,tt){var Bt=V.top,Kt=V.bottom,pr=V.collisionPadding;pr&&(Bt-=pr[1],Kt+=pr[3]);var Ir=Kt-Bt;Ir>0&&(Ir=Math.max(10,Ir),this.circleDiameter=Ir)}else{var Ar=V.top*ae-je,$r=V.bottom*ae+je,Gr=V.left*ae-je,gn=V.right*ae+je,Dn=V.collisionPadding;if(Dn&&(Gr-=Dn[0]*ae,Ar-=Dn[1]*ae,gn+=Dn[2]*ae,$r+=Dn[3]*ae),wt){var Kn=new oe(Gr,Ar),ha=new oe(gn,Ar),da=new oe(Gr,$r),Ja=new oe(gn,$r),ti=wt*Math.PI/180;Kn._rotate(ti),ha._rotate(ti),da._rotate(ti),Ja._rotate(ti),Gr=Math.min(Kn.x,ha.x,da.x,Ja.x),gn=Math.max(Kn.x,ha.x,da.x,Ja.x),Ar=Math.min(Kn.y,ha.y,da.y,Ja.y),$r=Math.max(Kn.y,ha.y,da.y,Ja.y)}t.emplaceBack(o.x,o.y,Gr,Ar,gn,$r,m,E,D)}this.boxEndIndex=t.length},ds=function(t,o){if(t===void 0&&(t=[]),o===void 0&&(o=Ou),this.data=t,this.length=this.data.length,this.compare=o,this.length>0)for(var m=(this.length>>1)-1;m>=0;m--)this._down(m)};function Ou(e,t){return e<t?-1:e>t?1:0}function Qc(e,t,o){t===void 0&&(t=1),o===void 0&&(o=!1);for(var m=1/0,E=1/0,D=-1/0,V=-1/0,ae=e[0],je=0;je<ae.length;je++){var tt=ae[je];(!je||tt.x<m)&&(m=tt.x),(!je||tt.y<E)&&(E=tt.y),(!je||tt.x>D)&&(D=tt.x),(!je||tt.y>V)&&(V=tt.y)}var wt=Math.min(D-m,V-E),Bt=wt/2,Kt=new ds([],gf);if(wt===0)return new oe(m,E);for(var pr=m;pr<D;pr+=wt)for(var Ir=E;Ir<V;Ir+=wt)Kt.push(new Rr(pr+Bt,Ir+Bt,Bt,e));for(var Ar=function(gn){for(var Dn=0,Kn=0,ha=0,da=gn[0],Ja=0,ti=da.length,Hi=ti-1;Ja<ti;Hi=Ja++){var co=da[Ja],mo=da[Hi],Wi=co.x*mo.y-mo.x*co.y;Kn+=(co.x+mo.x)*Wi,ha+=(co.y+mo.y)*Wi,Dn+=3*Wi}return new Rr(Kn/Dn,ha/Dn,0,gn)}(e),$r=Kt.length;Kt.length;){var Gr=Kt.pop();(Gr.d>Ar.d||!Ar.d)&&(Ar=Gr,o&&console.log("found best %d after %d probes",Math.round(1e4*Gr.d)/1e4,$r)),Gr.max-Ar.d<=t||(Kt.push(new Rr(Gr.p.x-(Bt=Gr.h/2),Gr.p.y-Bt,Bt,e)),Kt.push(new Rr(Gr.p.x+Bt,Gr.p.y-Bt,Bt,e)),Kt.push(new Rr(Gr.p.x-Bt,Gr.p.y+Bt,Bt,e)),Kt.push(new Rr(Gr.p.x+Bt,Gr.p.y+Bt,Bt,e)),$r+=4)}return o&&(console.log("num probes: "+$r),console.log("best distance: "+Ar.d)),Ar.p}function gf(e,t){return t.max-e.max}function Rr(e,t,o,m){this.p=new oe(e,t),this.h=o,this.d=function(E,D){for(var V=!1,ae=1/0,je=0;je<D.length;je++)for(var tt=D[je],wt=0,Bt=tt.length,Kt=Bt-1;wt<Bt;Kt=wt++){var pr=tt[wt],Ir=tt[Kt];pr.y>E.y!=Ir.y>E.y&&E.x<(Ir.x-pr.x)*(E.y-pr.y)/(Ir.y-pr.y)+pr.x&&(V=!V),ae=Math.min(ae,cr(E,pr,Ir))}return(V?1:-1)*Math.sqrt(ae)}(this.p,m),this.max=this.d+this.h*Math.SQRT2}ds.prototype.push=function(e){this.data.push(e),this.length++,this._up(this.length-1)},ds.prototype.pop=function(){if(this.length!==0){var e=this.data[0],t=this.data.pop();return this.length--,this.length>0&&(this.data[0]=t,this._down(0)),e}},ds.prototype.peek=function(){return this.data[0]},ds.prototype._up=function(e){for(var t=this.data,o=this.compare,m=t[e];e>0;){var E=e-1>>1,D=t[E];if(o(m,D)>=0)break;t[e]=D,e=E}t[e]=m},ds.prototype._down=function(e){for(var t=this.data,o=this.compare,m=this.length>>1,E=t[e];e<m;){var D=1+(e<<1),V=t[D],ae=D+1;if(ae<this.length&&o(t[ae],V)<0&&(D=ae,V=t[ae]),o(V,E)>=0)break;t[e]=V,e=D}t[e]=E};var $n=Number.POSITIVE_INFINITY;function kn(e,t){return t[1]!==$n?function(o,m,E){var D=0,V=0;switch(m=Math.abs(m),E=Math.abs(E),o){case"top-right":case"top-left":case"top":V=E-7;break;case"bottom-right":case"bottom-left":case"bottom":V=7-E}switch(o){case"top-right":case"bottom-right":case"right":D=-m;break;case"top-left":case"bottom-left":case"left":D=m}return[D,V]}(e,t[0],t[1]):function(o,m){var E=0,D=0;m<0&&(m=0);var V=m/Math.sqrt(2);switch(o){case"top-right":case"top-left":D=V-7;break;case"bottom-right":case"bottom-left":D=7-V;break;case"bottom":D=7-m;break;case"top":D=m-7}switch(o){case"top-right":case"bottom-right":E=-V;break;case"top-left":case"bottom-left":E=V;break;case"left":E=m;break;case"right":E=-m}return[E,D]}(e,t[0])}function Ri(e){switch(e){case"right":case"top-right":case"bottom-right":return"right";case"left":case"top-left":case"bottom-left":return"left"}return"center"}function As(e,t,o,m,E,D,V,ae,je,tt,wt,Bt,Kt,pr,Ir){var Ar=function(Kn,ha,da,Ja,ti,Hi,co,mo){for(var Wi=Ja.layout.get("text-rotate").evaluate(Hi,{})*Math.PI/180,Jo=[],Ko=0,Yi=ha.positionedLines;Ko<Yi.length;Ko+=1)for(var Ks=Yi[Ko],Ps=0,Rl=Ks.positionedGlyphs;Ps<Rl.length;Ps+=1){var rs=Rl[Ps];if(rs.rect){var Us=rs.rect||{},Cu=4,Du=!0,Vu=1,Qu=0,Hu=(ti||mo)&&rs.vertical,yf=rs.metrics.advance*rs.scale/2;if(mo&&ha.verticalizable&&(Qu=Ks.lineOffset/2-(rs.imageName?-(24-rs.metrics.width*rs.scale)/2:24*(rs.scale-1))),rs.imageName){var Jc=co[rs.imageName];Du=Jc.sdf,Cu=1/(Vu=Jc.pixelRatio)}var bf=ti?[rs.x+yf,rs.y]:[0,0],Wu=ti?[0,0]:[rs.x+yf+da[0],rs.y+da[1]-Qu],Fc=[0,0];Hu&&(Fc=Wu,Wu=[0,0]);var qc=(rs.metrics.left-Cu)*rs.scale-yf+Wu[0],ef=(-rs.metrics.top-Cu)*rs.scale+Wu[1],tf=qc+Us.w*rs.scale/Vu,jl=ef+Us.h*rs.scale/Vu,yl=new oe(qc,ef),Xl=new oe(tf,ef),Fu=new oe(qc,jl),Sd=new oe(tf,jl);if(Hu){var Pu=new oe(-yf,yf- -17),iu=-Math.PI/2,zc=12-yf,Is=new oe(22-zc,-(rs.imageName?zc:0)),oc=new(Function.prototype.bind.apply(oe,[null].concat(Fc)));yl._rotateAround(iu,Pu)._add(Is)._add(oc),Xl._rotateAround(iu,Pu)._add(Is)._add(oc),Fu._rotateAround(iu,Pu)._add(Is)._add(oc),Sd._rotateAround(iu,Pu)._add(Is)._add(oc)}if(Wi){var bh=Math.sin(Wi),up=Math.cos(Wi),rf=[up,-bh,bh,up];yl._matMult(rf),Xl._matMult(rf),Fu._matMult(rf),Sd._matMult(rf)}var ns=new oe(0,0),yv=new oe(0,0);Jo.push({tl:yl,tr:Xl,bl:Fu,br:Sd,tex:Us,writingMode:ha.writingMode,glyphOffset:bf,sectionIndex:rs.sectionIndex,isSDF:Du,pixelOffsetTL:ns,pixelOffsetBR:yv,minFontScaleX:0,minFontScaleY:0})}}return Jo}(0,o,ae,E,D,V,m,e.allowVerticalPlacement),$r=e.textSizeData,Gr=null;$r.kind==="source"?(Gr=[128*E.layout.get("text-size").evaluate(V,{})])[0]>32640&&yt(e.layerIds[0]+': Value for "text-size" is >= 255. Reduce your "text-size".'):$r.kind==="composite"&&((Gr=[128*pr.compositeTextSizes[0].evaluate(V,{},Ir),128*pr.compositeTextSizes[1].evaluate(V,{},Ir)])[0]>32640||Gr[1]>32640)&&yt(e.layerIds[0]+': Value for "text-size" is >= 255. Reduce your "text-size".'),e.addSymbols(e.text,Ar,Gr,ae,D,V,tt,t,je.lineStartIndex,je.lineLength,Kt,Ir);for(var gn=0,Dn=wt;gn<Dn.length;gn+=1)Bt[Dn[gn]]=e.text.placedSymbolArray.length-1;return 4*Ar.length}function wr(e){for(var t in e)return e[t];return null}function tr(e,t,o,m){var E=e.compareText;if(t in E){for(var D=E[t],V=D.length-1;V>=0;V--)if(m.dist(D[V])<o)return!0}else E[t]=[];return E[t].push(m),!1}var en=Cd.VectorTileFeature.types,Pn=[{name:"a_fade_opacity",components:1,type:"Uint8",offset:0}];function wn(e,t,o,m,E,D,V,ae,je,tt,wt,Bt,Kt){var pr=ae?Math.min(32640,Math.round(ae[0])):0,Ir=ae?Math.min(32640,Math.round(ae[1])):0;e.emplaceBack(t,o,Math.round(32*m),Math.round(32*E),D,V,(pr<<1)+(je?1:0),Ir,16*tt,16*wt,256*Bt,256*Kt)}function rn(e,t,o){e.emplaceBack(t.x,t.y,o),e.emplaceBack(t.x,t.y,o),e.emplaceBack(t.x,t.y,o),e.emplaceBack(t.x,t.y,o)}function Jr(e){for(var t=0,o=e.sections;t<o.length;t+=1)if(Zc(o[t].text))return!0;return!1}var sn=function(t){this.layoutVertexArray=new nd,this.indexArray=new zd,this.programConfigurations=t,this.segments=new rr,this.dynamicLayoutVertexArray=new rc,this.opacityVertexArray=new $s,this.placedSymbolArray=new g};sn.prototype.isEmpty=function(){return this.layoutVertexArray.length===0&&this.indexArray.length===0&&this.dynamicLayoutVertexArray.length===0&&this.opacityVertexArray.length===0},sn.prototype.upload=function(e,t,o,m){this.isEmpty()||(o&&(this.layoutVertexBuffer=e.createVertexBuffer(this.layoutVertexArray,Lv.members),this.indexBuffer=e.createIndexBuffer(this.indexArray,t),this.dynamicLayoutVertexBuffer=e.createVertexBuffer(this.dynamicLayoutVertexArray,bm.members,!0),this.opacityVertexBuffer=e.createVertexBuffer(this.opacityVertexArray,Pn,!0),this.opacityVertexBuffer.itemSize=1),(o||m)&&this.programConfigurations.upload(e))},sn.prototype.destroy=function(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.programConfigurations.destroy(),this.segments.destroy(),this.dynamicLayoutVertexBuffer.destroy(),this.opacityVertexBuffer.destroy())},bi("SymbolBuffers",sn);var xr=function(t,o,m){this.layoutVertexArray=new t,this.layoutAttributes=o,this.indexArray=new m,this.segments=new rr,this.collisionVertexArray=new ad};xr.prototype.upload=function(e){this.layoutVertexBuffer=e.createVertexBuffer(this.layoutVertexArray,this.layoutAttributes),this.indexBuffer=e.createIndexBuffer(this.indexArray),this.collisionVertexBuffer=e.createVertexBuffer(this.collisionVertexArray,jg.members,!0)},xr.prototype.destroy=function(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.segments.destroy(),this.collisionVertexBuffer.destroy())},bi("CollisionBuffers",xr);var jr=function(t){this.collisionBoxArray=t.collisionBoxArray,this.zoom=t.zoom,this.overscaling=t.overscaling,this.layers=t.layers,this.layerIds=this.layers.map(function(V){return V.id}),this.index=t.index,this.pixelRatio=t.pixelRatio,this.sourceLayerIndex=t.sourceLayerIndex,this.hasPattern=!1,this.hasRTLText=!1,this.sortKeyRanges=[],this.collisionCircleArray=[],this.placementInvProjMatrix=So([]),this.placementViewportMatrix=So([]);var o=this.layers[0]._unevaluatedLayout._values;this.textSizeData=cs(this.zoom,o["text-size"]),this.iconSizeData=cs(this.zoom,o["icon-size"]);var m=this.layers[0].layout,E=m.get("symbol-sort-key"),D=m.get("symbol-z-order");this.canOverlap=m.get("text-allow-overlap")||m.get("icon-allow-overlap")||m.get("text-ignore-placement")||m.get("icon-ignore-placement"),this.sortFeaturesByKey=D!=="viewport-y"&&E.constantOr(1)!==void 0,this.sortFeaturesByY=(D==="viewport-y"||D==="auto"&&!this.sortFeaturesByKey)&&this.canOverlap,m.get("symbol-placement")==="point"&&(this.writingModes=m.get("text-writing-mode").map(function(V){return Pi[V]})),this.stateDependentLayerIds=this.layers.filter(function(V){return V.isStateDependent()}).map(function(V){return V.id}),this.sourceID=t.sourceID};jr.prototype.createArrays=function(){this.text=new sn(new us(this.layers,this.zoom,function(e){return/^text/.test(e)})),this.icon=new sn(new us(this.layers,this.zoom,function(e){return/^icon/.test(e)})),this.glyphOffsetArray=new se,this.lineVertexArray=new _e,this.symbolInstances=new Q},jr.prototype.calculateGlyphDependencies=function(e,t,o,m,E){for(var D=0;D<e.length;D++)if(t[e.charCodeAt(D)]=!0,(o||m)&&E){var V=xc[e.charAt(D)];V&&(t[V.charCodeAt(0)]=!0)}},jr.prototype.populate=function(e,t,o){var m=this.layers[0],E=m.layout,D=E.get("text-font"),V=E.get("text-field"),ae=E.get("icon-image"),je=(V.value.kind!=="constant"||V.value.value instanceof Li&&!V.value.value.isEmpty()||V.value.value.toString().length>0)&&(D.value.kind!=="constant"||D.value.value.length>0),tt=ae.value.kind!=="constant"||!!ae.value.value||Object.keys(ae.parameters).length>0,wt=E.get("symbol-sort-key");if(this.features=[],je||tt){for(var Bt=t.iconDependencies,Kt=t.glyphDependencies,pr=t.availableImages,Ir=new _s(this.zoom),Ar=0,$r=e;Ar<$r.length;Ar+=1){var Gr=$r[Ar],gn=Gr.feature,Dn=Gr.id,Kn=Gr.index,ha=Gr.sourceLayerIndex,da=m._featureFilter.needGeometry,Ja=Ns(gn,da);if(m._featureFilter.filter(Ir,Ja,o)){da||(Ja.geometry=xl(gn));var ti=void 0;if(je){var Hi=m.getValueAndResolveTokens("text-field",Ja,o,pr),co=Li.factory(Hi);Jr(co)&&(this.hasRTLText=!0),(!this.hasRTLText||Jd()==="unavailable"||this.hasRTLText&&gc.isParsed())&&(ti=ig(co,m,Ja))}var mo=void 0;if(tt){var Wi=m.getValueAndResolveTokens("icon-image",Ja,o,pr);mo=Wi instanceof Ui?Wi:Ui.fromString(Wi)}if(ti||mo){var Jo=this.sortFeaturesByKey?wt.evaluate(Ja,{},o):void 0;if(this.features.push({id:Dn,text:ti,icon:mo,index:Kn,sourceLayerIndex:ha,geometry:Ja.geometry,properties:gn.properties,type:en[gn.type],sortKey:Jo}),mo&&(Bt[mo.name]=!0),ti){var Ko=D.evaluate(Ja,{},o).join(","),Yi=E.get("text-rotation-alignment")==="map"&&E.get("symbol-placement")!=="point";this.allowVerticalPlacement=this.writingModes&&this.writingModes.indexOf(Pi.vertical)>=0;for(var Ks=0,Ps=ti.sections;Ks<Ps.length;Ks+=1){var Rl=Ps[Ks];if(Rl.image)Bt[Rl.image.name]=!0;else{var rs=td(ti.toString()),Us=Rl.fontStack||Ko,Cu=Kt[Us]=Kt[Us]||{};this.calculateGlyphDependencies(Rl.text,Cu,Yi,this.allowVerticalPlacement,rs)}}}}}}E.get("symbol-placement")==="line"&&(this.features=function(Du){var Vu={},Qu={},Hu=[],yf=0;function Jc(Pu){Hu.push(Du[Pu]),yf++}function bf(Pu,iu,zc){var Is=Qu[Pu];return delete Qu[Pu],Qu[iu]=Is,Hu[Is].geometry[0].pop(),Hu[Is].geometry[0]=Hu[Is].geometry[0].concat(zc[0]),Is}function Wu(Pu,iu,zc){var Is=Vu[iu];return delete Vu[iu],Vu[Pu]=Is,Hu[Is].geometry[0].shift(),Hu[Is].geometry[0]=zc[0].concat(Hu[Is].geometry[0]),Is}function Fc(Pu,iu,zc){var Is=zc?iu[0][iu[0].length-1]:iu[0][0];return Pu+":"+Is.x+":"+Is.y}for(var qc=0;qc<Du.length;qc++){var ef=Du[qc],tf=ef.geometry,jl=ef.text?ef.text.toString():null;if(jl){var yl=Fc(jl,tf),Xl=Fc(jl,tf,!0);if(yl in Qu&&Xl in Vu&&Qu[yl]!==Vu[Xl]){var Fu=Wu(yl,Xl,tf),Sd=bf(yl,Xl,Hu[Fu].geometry);delete Vu[yl],delete Qu[Xl],Qu[Fc(jl,Hu[Sd].geometry,!0)]=Sd,Hu[Fu].geometry=null}else yl in Qu?bf(yl,Xl,tf):Xl in Vu?Wu(yl,Xl,tf):(Jc(qc),Vu[yl]=yf-1,Qu[Xl]=yf-1)}else Jc(qc)}return Hu.filter(function(Pu){return Pu.geometry})}(this.features)),this.sortFeaturesByKey&&this.features.sort(function(Du,Vu){return Du.sortKey-Vu.sortKey})}},jr.prototype.update=function(e,t,o){this.stateDependentLayers.length&&(this.text.programConfigurations.updatePaintArrays(e,t,this.layers,o),this.icon.programConfigurations.updatePaintArrays(e,t,this.layers,o))},jr.prototype.isEmpty=function(){return this.symbolInstances.length===0&&!this.hasRTLText},jr.prototype.uploadPending=function(){return!this.uploaded||this.text.programConfigurations.needsUpload||this.icon.programConfigurations.needsUpload},jr.prototype.upload=function(e){!this.uploaded&&this.hasDebugData()&&(this.textCollisionBox.upload(e),this.iconCollisionBox.upload(e)),this.text.upload(e,this.sortFeaturesByY,!this.uploaded,this.text.programConfigurations.needsUpload),this.icon.upload(e,this.sortFeaturesByY,!this.uploaded,this.icon.programConfigurations.needsUpload),this.uploaded=!0},jr.prototype.destroyDebugData=function(){this.textCollisionBox.destroy(),this.iconCollisionBox.destroy()},jr.prototype.destroy=function(){this.text.destroy(),this.icon.destroy(),this.hasDebugData()&&this.destroyDebugData()},jr.prototype.addToLineVertexArray=function(e,t){var o=this.lineVertexArray.length;if(e.segment!==void 0){for(var m=e.dist(t[e.segment+1]),E=e.dist(t[e.segment]),D={},V=e.segment+1;V<t.length;V++)D[V]={x:t[V].x,y:t[V].y,tileUnitDistanceFromAnchor:m},V<t.length-1&&(m+=t[V+1].dist(t[V]));for(var ae=e.segment||0;ae>=0;ae--)D[ae]={x:t[ae].x,y:t[ae].y,tileUnitDistanceFromAnchor:E},ae>0&&(E+=t[ae-1].dist(t[ae]));for(var je=0;je<t.length;je++){var tt=D[je];this.lineVertexArray.emplaceBack(tt.x,tt.y,tt.tileUnitDistanceFromAnchor)}}return{lineStartIndex:o,lineLength:this.lineVertexArray.length-o}},jr.prototype.addSymbols=function(e,t,o,m,E,D,V,ae,je,tt,wt,Bt){for(var Kt=e.indexArray,pr=e.layoutVertexArray,Ir=e.segments.prepareSegment(4*t.length,pr,Kt,this.canOverlap?D.sortKey:void 0),Ar=this.glyphOffsetArray.length,$r=Ir.vertexLength,Gr=this.allowVerticalPlacement&&V===Pi.vertical?Math.PI/2:0,gn=D.text&&D.text.sections,Dn=0;Dn<t.length;Dn++){var Kn=t[Dn],ha=Kn.tl,da=Kn.tr,Ja=Kn.bl,ti=Kn.br,Hi=Kn.tex,co=Kn.pixelOffsetTL,mo=Kn.pixelOffsetBR,Wi=Kn.minFontScaleX,Jo=Kn.minFontScaleY,Ko=Kn.glyphOffset,Yi=Kn.isSDF,Ks=Kn.sectionIndex,Ps=Ir.vertexLength,Rl=Ko[1];wn(pr,ae.x,ae.y,ha.x,Rl+ha.y,Hi.x,Hi.y,o,Yi,co.x,co.y,Wi,Jo),wn(pr,ae.x,ae.y,da.x,Rl+da.y,Hi.x+Hi.w,Hi.y,o,Yi,mo.x,co.y,Wi,Jo),wn(pr,ae.x,ae.y,Ja.x,Rl+Ja.y,Hi.x,Hi.y+Hi.h,o,Yi,co.x,mo.y,Wi,Jo),wn(pr,ae.x,ae.y,ti.x,Rl+ti.y,Hi.x+Hi.w,Hi.y+Hi.h,o,Yi,mo.x,mo.y,Wi,Jo),rn(e.dynamicLayoutVertexArray,ae,Gr),Kt.emplaceBack(Ps,Ps+1,Ps+2),Kt.emplaceBack(Ps+1,Ps+2,Ps+3),Ir.vertexLength+=4,Ir.primitiveLength+=2,this.glyphOffsetArray.emplaceBack(Ko[0]),Dn!==t.length-1&&Ks===t[Dn+1].sectionIndex||e.programConfigurations.populatePaintArrays(pr.length,D,D.index,{},Bt,gn&&gn[Ks])}e.placedSymbolArray.emplaceBack(ae.x,ae.y,Ar,this.glyphOffsetArray.length-Ar,$r,je,tt,ae.segment,o?o[0]:0,o?o[1]:0,m[0],m[1],V,0,!1,0,wt)},jr.prototype._addCollisionDebugVertex=function(e,t,o,m,E,D){return t.emplaceBack(0,0),e.emplaceBack(o.x,o.y,m,E,Math.round(D.x),Math.round(D.y))},jr.prototype.addCollisionDebugVertices=function(e,t,o,m,E,D,V){var ae=E.segments.prepareSegment(4,E.layoutVertexArray,E.indexArray),je=ae.vertexLength,tt=E.layoutVertexArray,wt=E.collisionVertexArray,Bt=V.anchorX,Kt=V.anchorY;this._addCollisionDebugVertex(tt,wt,D,Bt,Kt,new oe(e,t)),this._addCollisionDebugVertex(tt,wt,D,Bt,Kt,new oe(o,t)),this._addCollisionDebugVertex(tt,wt,D,Bt,Kt,new oe(o,m)),this._addCollisionDebugVertex(tt,wt,D,Bt,Kt,new oe(e,m)),ae.vertexLength+=4;var pr=E.indexArray;pr.emplaceBack(je,je+1),pr.emplaceBack(je+1,je+2),pr.emplaceBack(je+2,je+3),pr.emplaceBack(je+3,je),ae.primitiveLength+=4},jr.prototype.addDebugCollisionBoxes=function(e,t,o,m){for(var E=e;E<t;E++){var D=this.collisionBoxArray.get(E);this.addCollisionDebugVertices(D.x1,D.y1,D.x2,D.y2,m?this.textCollisionBox:this.iconCollisionBox,D.anchorPoint,o)}},jr.prototype.generateCollisionDebugBuffers=function(){this.hasDebugData()&&this.destroyDebugData(),this.textCollisionBox=new xr(tp,xm.members,id),this.iconCollisionBox=new xr(tp,xm.members,id);for(var e=0;e<this.symbolInstances.length;e++){var t=this.symbolInstances.get(e);this.addDebugCollisionBoxes(t.textBoxStartIndex,t.textBoxEndIndex,t,!0),this.addDebugCollisionBoxes(t.verticalTextBoxStartIndex,t.verticalTextBoxEndIndex,t,!0),this.addDebugCollisionBoxes(t.iconBoxStartIndex,t.iconBoxEndIndex,t,!1),this.addDebugCollisionBoxes(t.verticalIconBoxStartIndex,t.verticalIconBoxEndIndex,t,!1)}},jr.prototype._deserializeCollisionBoxesForSymbol=function(e,t,o,m,E,D,V,ae,je){for(var tt={},wt=t;wt<o;wt++){var Bt=e.get(wt);tt.textBox={x1:Bt.x1,y1:Bt.y1,x2:Bt.x2,y2:Bt.y2,anchorPointX:Bt.anchorPointX,anchorPointY:Bt.anchorPointY},tt.textFeatureIndex=Bt.featureIndex;break}for(var Kt=m;Kt<E;Kt++){var pr=e.get(Kt);tt.verticalTextBox={x1:pr.x1,y1:pr.y1,x2:pr.x2,y2:pr.y2,anchorPointX:pr.anchorPointX,anchorPointY:pr.anchorPointY},tt.verticalTextFeatureIndex=pr.featureIndex;break}for(var Ir=D;Ir<V;Ir++){var Ar=e.get(Ir);tt.iconBox={x1:Ar.x1,y1:Ar.y1,x2:Ar.x2,y2:Ar.y2,anchorPointX:Ar.anchorPointX,anchorPointY:Ar.anchorPointY},tt.iconFeatureIndex=Ar.featureIndex;break}for(var $r=ae;$r<je;$r++){var Gr=e.get($r);tt.verticalIconBox={x1:Gr.x1,y1:Gr.y1,x2:Gr.x2,y2:Gr.y2,anchorPointX:Gr.anchorPointX,anchorPointY:Gr.anchorPointY},tt.verticalIconFeatureIndex=Gr.featureIndex;break}return tt},jr.prototype.deserializeCollisionBoxes=function(e){this.collisionArrays=[];for(var t=0;t<this.symbolInstances.length;t++){var o=this.symbolInstances.get(t);this.collisionArrays.push(this._deserializeCollisionBoxesForSymbol(e,o.textBoxStartIndex,o.textBoxEndIndex,o.verticalTextBoxStartIndex,o.verticalTextBoxEndIndex,o.iconBoxStartIndex,o.iconBoxEndIndex,o.verticalIconBoxStartIndex,o.verticalIconBoxEndIndex))}},jr.prototype.hasTextData=function(){return this.text.segments.get().length>0},jr.prototype.hasIconData=function(){return this.icon.segments.get().length>0},jr.prototype.hasDebugData=function(){return this.textCollisionBox&&this.iconCollisionBox},jr.prototype.hasTextCollisionBoxData=function(){return this.hasDebugData()&&this.textCollisionBox.segments.get().length>0},jr.prototype.hasIconCollisionBoxData=function(){return this.hasDebugData()&&this.iconCollisionBox.segments.get().length>0},jr.prototype.addIndicesForPlacedSymbol=function(e,t){for(var o=e.placedSymbolArray.get(t),m=o.vertexStartIndex+4*o.numGlyphs,E=o.vertexStartIndex;E<m;E+=4)e.indexArray.emplaceBack(E,E+1,E+2),e.indexArray.emplaceBack(E+1,E+2,E+3)},jr.prototype.getSortedSymbolIndexes=function(e){if(this.sortedAngle===e&&this.symbolInstanceIndexes!==void 0)return this.symbolInstanceIndexes;for(var t=Math.sin(e),o=Math.cos(e),m=[],E=[],D=[],V=0;V<this.symbolInstances.length;++V){D.push(V);var ae=this.symbolInstances.get(V);m.push(0|Math.round(t*ae.anchorX+o*ae.anchorY)),E.push(ae.featureIndex)}return D.sort(function(je,tt){return m[je]-m[tt]||E[tt]-E[je]}),D},jr.prototype.addToSortKeyRanges=function(e,t){var o=this.sortKeyRanges[this.sortKeyRanges.length-1];o&&o.sortKey===t?o.symbolInstanceEnd=e+1:this.sortKeyRanges.push({sortKey:t,symbolInstanceStart:e,symbolInstanceEnd:e+1})},jr.prototype.sortFeatures=function(e){var t=this;if(this.sortFeaturesByY&&this.sortedAngle!==e&&!(this.text.segments.get().length>1||this.icon.segments.get().length>1)){this.symbolInstanceIndexes=this.getSortedSymbolIndexes(e),this.sortedAngle=e,this.text.indexArray.clear(),this.icon.indexArray.clear(),this.featureSortOrder=[];for(var o=0,m=this.symbolInstanceIndexes;o<m.length;o+=1){var E=this.symbolInstances.get(m[o]);this.featureSortOrder.push(E.featureIndex),[E.rightJustifiedTextSymbolIndex,E.centerJustifiedTextSymbolIndex,E.leftJustifiedTextSymbolIndex].forEach(function(D,V,ae){D>=0&&ae.indexOf(D)===V&&t.addIndicesForPlacedSymbol(t.text,D)}),E.verticalPlacedTextSymbolIndex>=0&&this.addIndicesForPlacedSymbol(this.text,E.verticalPlacedTextSymbolIndex),E.placedIconSymbolIndex>=0&&this.addIndicesForPlacedSymbol(this.icon,E.placedIconSymbolIndex),E.verticalPlacedIconSymbolIndex>=0&&this.addIndicesForPlacedSymbol(this.icon,E.verticalPlacedIconSymbolIndex)}this.text.indexBuffer&&this.text.indexBuffer.updateData(this.text.indexArray),this.icon.indexBuffer&&this.icon.indexBuffer.updateData(this.icon.indexArray)}},bi("SymbolBucket",jr,{omit:["layers","collisionBoxArray","features","compareText"]}),jr.MAX_GLYPHS=65535,jr.addDynamicAttributes=rn;var Mr=new $u({"symbol-placement":new Io(Pe.layout_symbol["symbol-placement"]),"symbol-spacing":new Io(Pe.layout_symbol["symbol-spacing"]),"symbol-avoid-edges":new Io(Pe.layout_symbol["symbol-avoid-edges"]),"symbol-sort-key":new Mi(Pe.layout_symbol["symbol-sort-key"]),"symbol-z-order":new Io(Pe.layout_symbol["symbol-z-order"]),"icon-allow-overlap":new Io(Pe.layout_symbol["icon-allow-overlap"]),"icon-ignore-placement":new Io(Pe.layout_symbol["icon-ignore-placement"]),"icon-optional":new Io(Pe.layout_symbol["icon-optional"]),"icon-rotation-alignment":new Io(Pe.layout_symbol["icon-rotation-alignment"]),"icon-size":new Mi(Pe.layout_symbol["icon-size"]),"icon-text-fit":new Io(Pe.layout_symbol["icon-text-fit"]),"icon-text-fit-padding":new Io(Pe.layout_symbol["icon-text-fit-padding"]),"icon-image":new Mi(Pe.layout_symbol["icon-image"]),"icon-rotate":new Mi(Pe.layout_symbol["icon-rotate"]),"icon-padding":new Io(Pe.layout_symbol["icon-padding"]),"icon-keep-upright":new Io(Pe.layout_symbol["icon-keep-upright"]),"icon-offset":new Mi(Pe.layout_symbol["icon-offset"]),"icon-anchor":new Mi(Pe.layout_symbol["icon-anchor"]),"icon-pitch-alignment":new Io(Pe.layout_symbol["icon-pitch-alignment"]),"text-pitch-alignment":new Io(Pe.layout_symbol["text-pitch-alignment"]),"text-rotation-alignment":new Io(Pe.layout_symbol["text-rotation-alignment"]),"text-field":new Mi(Pe.layout_symbol["text-field"]),"text-font":new Mi(Pe.layout_symbol["text-font"]),"text-size":new Mi(Pe.layout_symbol["text-size"]),"text-max-width":new Mi(Pe.layout_symbol["text-max-width"]),"text-line-height":new Io(Pe.layout_symbol["text-line-height"]),"text-letter-spacing":new Mi(Pe.layout_symbol["text-letter-spacing"]),"text-justify":new Mi(Pe.layout_symbol["text-justify"]),"text-radial-offset":new Mi(Pe.layout_symbol["text-radial-offset"]),"text-variable-anchor":new Io(Pe.layout_symbol["text-variable-anchor"]),"text-anchor":new Mi(Pe.layout_symbol["text-anchor"]),"text-max-angle":new Io(Pe.layout_symbol["text-max-angle"]),"text-writing-mode":new Io(Pe.layout_symbol["text-writing-mode"]),"text-rotate":new Mi(Pe.layout_symbol["text-rotate"]),"text-padding":new Io(Pe.layout_symbol["text-padding"]),"text-keep-upright":new Io(Pe.layout_symbol["text-keep-upright"]),"text-transform":new Mi(Pe.layout_symbol["text-transform"]),"text-offset":new Mi(Pe.layout_symbol["text-offset"]),"text-allow-overlap":new Io(Pe.layout_symbol["text-allow-overlap"]),"text-ignore-placement":new Io(Pe.layout_symbol["text-ignore-placement"]),"text-optional":new Io(Pe.layout_symbol["text-optional"])}),An={paint:new $u({"icon-opacity":new Mi(Pe.paint_symbol["icon-opacity"]),"icon-color":new Mi(Pe.paint_symbol["icon-color"]),"icon-halo-color":new Mi(Pe.paint_symbol["icon-halo-color"]),"icon-halo-width":new Mi(Pe.paint_symbol["icon-halo-width"]),"icon-halo-blur":new Mi(Pe.paint_symbol["icon-halo-blur"]),"icon-translate":new Io(Pe.paint_symbol["icon-translate"]),"icon-translate-anchor":new Io(Pe.paint_symbol["icon-translate-anchor"]),"text-opacity":new Mi(Pe.paint_symbol["text-opacity"]),"text-color":new Mi(Pe.paint_symbol["text-color"],{runtimeType:dn,getOverride:function(t){return t.textColor},hasOverride:function(t){return!!t.textColor}}),"text-halo-color":new Mi(Pe.paint_symbol["text-halo-color"]),"text-halo-width":new Mi(Pe.paint_symbol["text-halo-width"]),"text-halo-blur":new Mi(Pe.paint_symbol["text-halo-blur"]),"text-translate":new Io(Pe.paint_symbol["text-translate"]),"text-translate-anchor":new Io(Pe.paint_symbol["text-translate-anchor"])}),layout:Mr},Ln=function(t){this.type=t.property.overrides?t.property.overrides.runtimeType:Dr,this.defaultValue=t};Ln.prototype.evaluate=function(e){if(e.formattedSection){var t=this.defaultValue.property.overrides;if(t&&t.hasOverride(e.formattedSection))return t.getOverride(e.formattedSection)}return e.feature&&e.featureState?this.defaultValue.evaluate(e.feature,e.featureState):this.defaultValue.property.specification.default},Ln.prototype.eachChild=function(e){this.defaultValue.isConstant()||e(this.defaultValue.value._styleExpression.expression)},Ln.prototype.outputDefined=function(){return!1},Ln.prototype.serialize=function(){return null},bi("FormatSectionOverride",Ln,{omit:["defaultValue"]});var Aa=function(e){function t(o){e.call(this,o,An)}return e&&(t.__proto__=e),(t.prototype=Object.create(e&&e.prototype)).constructor=t,t.prototype.recalculate=function(o,m){if(e.prototype.recalculate.call(this,o,m),this.layout.get("icon-rotation-alignment")==="auto"&&(this.layout._values["icon-rotation-alignment"]=this.layout.get("symbol-placement")!=="point"?"map":"viewport"),this.layout.get("text-rotation-alignment")==="auto"&&(this.layout._values["text-rotation-alignment"]=this.layout.get("symbol-placement")!=="point"?"map":"viewport"),this.layout.get("text-pitch-alignment")==="auto"&&(this.layout._values["text-pitch-alignment"]=this.layout.get("text-rotation-alignment")),this.layout.get("icon-pitch-alignment")==="auto"&&(this.layout._values["icon-pitch-alignment"]=this.layout.get("icon-rotation-alignment")),this.layout.get("symbol-placement")==="point"){var E=this.layout.get("text-writing-mode");if(E){for(var D=[],V=0,ae=E;V<ae.length;V+=1){var je=ae[V];D.indexOf(je)<0&&D.push(je)}this.layout._values["text-writing-mode"]=D}else this.layout._values["text-writing-mode"]=["horizontal"]}this._setPaintOverrides()},t.prototype.getValueAndResolveTokens=function(o,m,E,D){var V=this.layout.get(o).evaluate(m,{},E,D),ae=this._unevaluatedLayout._values[o];return ae.isDataDriven()||Hf(ae.value)||!V?V:function(je,tt){return tt.replace(/{([^{}]+)}/g,function(wt,Bt){return Bt in je?String(je[Bt]):""})}(m.properties,V)},t.prototype.createBucket=function(o){return new jr(o)},t.prototype.queryRadius=function(){return 0},t.prototype.queryIntersectsFeature=function(){return!1},t.prototype._setPaintOverrides=function(){for(var o=0,m=An.paint.overridableProperties;o<m.length;o+=1){var E=m[o];if(t.hasPaintOverride(this.layout,E)){var D,V=this.paint.get(E),ae=new Ln(V),je=new Xf(ae,V.property.specification);D=V.value.kind==="constant"||V.value.kind==="source"?new Tc("source",je):new Qf("composite",je,V.value.zoomStops,V.value._interpolationType),this.paint._values[E]=new jc(V.property,D,V.parameters)}}},t.prototype._handleOverridablePaintPropertyUpdate=function(o,m,E){return!(!this.layout||m.isDataDriven()||E.isDataDriven())&&t.hasPaintOverride(this.layout,o)},t.hasPaintOverride=function(o,m){var E=o.get("text-field"),D=An.paint.properties[m],V=!1,ae=function(Bt){for(var Kt=0,pr=Bt;Kt<pr.length;Kt+=1)if(D.overrides&&D.overrides.hasOverride(pr[Kt]))return void(V=!0)};if(E.value.kind==="constant"&&E.value.value instanceof Li)ae(E.value.value.sections);else if(E.value.kind==="source"){var je=function wt(Bt){V||(Bt instanceof _o&&ga(Bt.value)===Ma?ae(Bt.value.sections):Bt instanceof ko?ae(Bt.sections):Bt.eachChild(wt))},tt=E.value;tt._styleExpression&&je(tt._styleExpression.expression)}return V},t}(Mf),fi={paint:new $u({"background-color":new Io(Pe.paint_background["background-color"]),"background-pattern":new _u(Pe.paint_background["background-pattern"]),"background-opacity":new Io(Pe.paint_background["background-opacity"])})},ui=function(e){function t(o){e.call(this,o,fi)}return e&&(t.__proto__=e),(t.prototype=Object.create(e&&e.prototype)).constructor=t,t}(Mf),Ti={paint:new $u({"raster-opacity":new Io(Pe.paint_raster["raster-opacity"]),"raster-hue-rotate":new Io(Pe.paint_raster["raster-hue-rotate"]),"raster-brightness-min":new Io(Pe.paint_raster["raster-brightness-min"]),"raster-brightness-max":new Io(Pe.paint_raster["raster-brightness-max"]),"raster-saturation":new Io(Pe.paint_raster["raster-saturation"]),"raster-contrast":new Io(Pe.paint_raster["raster-contrast"]),"raster-resampling":new Io(Pe.paint_raster["raster-resampling"]),"raster-fade-duration":new Io(Pe.paint_raster["raster-fade-duration"])})},ii=function(e){function t(o){e.call(this,o,Ti)}return e&&(t.__proto__=e),(t.prototype=Object.create(e&&e.prototype)).constructor=t,t}(Mf),no=function(e){function t(o){e.call(this,o,{}),this.implementation=o}return e&&(t.__proto__=e),(t.prototype=Object.create(e&&e.prototype)).constructor=t,t.prototype.is3D=function(){return this.implementation.renderingMode==="3d"},t.prototype.hasOffscreenPass=function(){return this.implementation.prerender!==void 0},t.prototype.recalculate=function(){},t.prototype.updateTransitions=function(){},t.prototype.hasTransition=function(){},t.prototype.serialize=function(){},t.prototype.onAdd=function(o){this.implementation.onAdd&&this.implementation.onAdd(o,o.painter.context.gl)},t.prototype.onRemove=function(o){this.implementation.onRemove&&this.implementation.onRemove(o,o.painter.context.gl)},t}(Mf),Vi={circle:Ml,heatmap:Gp,hillshade:bc,fill:dv,"fill-extrusion":ip,line:ag,symbol:Aa,background:ui,raster:ii},Xi=Te.HTMLImageElement,Qi=Te.HTMLCanvasElement,ao=Te.HTMLVideoElement,ts=Te.ImageData,Fl=Te.ImageBitmap,ic=function(t,o,m,E){this.context=t,this.format=m,this.texture=t.gl.createTexture(),this.update(o,E)};ic.prototype.update=function(e,t,o){var m=e.width,E=e.height,D=!(this.size&&this.size[0]===m&&this.size[1]===E||o),V=this.context,ae=V.gl;if(this.useMipmap=Boolean(t&&t.useMipmap),ae.bindTexture(ae.TEXTURE_2D,this.texture),V.pixelStoreUnpackFlipY.set(!1),V.pixelStoreUnpack.set(1),V.pixelStoreUnpackPremultiplyAlpha.set(this.format===ae.RGBA&&(!t||t.premultiply!==!1)),D)this.size=[m,E],e instanceof Xi||e instanceof Qi||e instanceof ao||e instanceof ts||Fl&&e instanceof Fl?ae.texImage2D(ae.TEXTURE_2D,0,this.format,this.format,ae.UNSIGNED_BYTE,e):ae.texImage2D(ae.TEXTURE_2D,0,this.format,m,E,0,this.format,ae.UNSIGNED_BYTE,e.data);else{var je=o||{x:0,y:0},tt=je.x,wt=je.y;e instanceof Xi||e instanceof Qi||e instanceof ao||e instanceof ts||Fl&&e instanceof Fl?ae.texSubImage2D(ae.TEXTURE_2D,0,tt,wt,ae.RGBA,ae.UNSIGNED_BYTE,e):ae.texSubImage2D(ae.TEXTURE_2D,0,tt,wt,m,E,ae.RGBA,ae.UNSIGNED_BYTE,e.data)}this.useMipmap&&this.isSizePowerOfTwo()&&ae.generateMipmap(ae.TEXTURE_2D)},ic.prototype.bind=function(e,t,o){var m=this.context.gl;m.bindTexture(m.TEXTURE_2D,this.texture),o!==m.LINEAR_MIPMAP_NEAREST||this.isSizePowerOfTwo()||(o=m.LINEAR),e!==this.filter&&(m.texParameteri(m.TEXTURE_2D,m.TEXTURE_MAG_FILTER,e),m.texParameteri(m.TEXTURE_2D,m.TEXTURE_MIN_FILTER,o||e),this.filter=e),t!==this.wrap&&(m.texParameteri(m.TEXTURE_2D,m.TEXTURE_WRAP_S,t),m.texParameteri(m.TEXTURE_2D,m.TEXTURE_WRAP_T,t),this.wrap=t)},ic.prototype.isSizePowerOfTwo=function(){return this.size[0]===this.size[1]&&Math.log(this.size[0])/Math.LN2%1==0},ic.prototype.destroy=function(){this.context.gl.deleteTexture(this.texture),this.texture=null};var Gd=function(t){var o=this;this._callback=t,this._triggered=!1,typeof MessageChannel!="undefined"&&(this._channel=new MessageChannel,this._channel.port2.onmessage=function(){o._triggered=!1,o._callback()})};Gd.prototype.trigger=function(){var e=this;this._triggered||(this._triggered=!0,this._channel?this._channel.port1.postMessage(!0):setTimeout(function(){e._triggered=!1,e._callback()},0))},Gd.prototype.remove=function(){delete this._channel,this._callback=function(){}};var Dd=function(t,o,m){this.target=t,this.parent=o,this.mapId=m,this.callbacks={},this.tasks={},this.taskQueue=[],this.cancelCallbacks={},Vt(["receive","process"],this),this.invoker=new Gd(this.process),this.target.addEventListener("message",this.receive,!1),this.globalScope=At()?t:Te};function od(e,t,o){var m=2*Math.PI*6378137/256/Math.pow(2,o);return[e*m-2*Math.PI*6378137/2,t*m-2*Math.PI*6378137/2]}Dd.prototype.send=function(e,t,o,m,E){var D=this;E===void 0&&(E=!1);var V=Math.round(1e18*Math.random()).toString(36).substring(0,10);o&&(this.callbacks[V]=o);var ae=J(this.globalScope)?void 0:[];return this.target.postMessage({id:V,type:e,hasCallback:!!o,targetMapId:m,mustQueue:E,sourceMapId:this.mapId,data:cf(t,ae)},ae),{cancel:function(){o&&delete D.callbacks[V],D.target.postMessage({id:V,type:"<cancel>",targetMapId:m,sourceMapId:D.mapId})}}},Dd.prototype.receive=function(e){var t=e.data,o=t.id;if(o&&(!t.targetMapId||this.mapId===t.targetMapId))if(t.type==="<cancel>"){delete this.tasks[o];var m=this.cancelCallbacks[o];delete this.cancelCallbacks[o],m&&m()}else At()||t.mustQueue?(this.tasks[o]=t,this.taskQueue.push(o),this.invoker.trigger()):this.processTask(o,t)},Dd.prototype.process=function(){if(this.taskQueue.length){var e=this.taskQueue.shift(),t=this.tasks[e];delete this.tasks[e],this.taskQueue.length&&this.invoker.trigger(),t&&this.processTask(e,t)}},Dd.prototype.processTask=function(e,t){var o=this;if(t.type==="<response>"){var m=this.callbacks[e];delete this.callbacks[e],m&&(t.error?m(Yu(t.error)):m(null,Yu(t.data)))}else{var E=!1,D=J(this.globalScope)?void 0:[],V=t.hasCallback?function(wt,Bt){E=!0,delete o.cancelCallbacks[e],o.target.postMessage({id:e,type:"<response>",sourceMapId:o.mapId,error:wt?cf(wt):null,data:cf(Bt,D)},D)}:function(wt){E=!0},ae=null,je=Yu(t.data);if(this.parent[t.type])ae=this.parent[t.type](t.sourceMapId,je,V);else if(this.parent.getWorkerSource){var tt=t.type.split(".");ae=this.parent.getWorkerSource(t.sourceMapId,tt[0],je.source)[tt[1]](je,V)}else V(new Error("Could not find function "+t.type));!E&&ae&&ae.cancel&&(this.cancelCallbacks[e]=ae.cancel)}},Dd.prototype.remove=function(){this.invoker.remove(),this.target.removeEventListener("message",this.receive,!1)};var Il=function(t,o){t&&(o?this.setSouthWest(t).setNorthEast(o):t.length===4?this.setSouthWest([t[0],t[1]]).setNorthEast([t[2],t[3]]):this.setSouthWest(t[0]).setNorthEast(t[1]))};Il.prototype.setNorthEast=function(e){return this._ne=e instanceof Nl?new Nl(e.lng,e.lat):Nl.convert(e),this},Il.prototype.setSouthWest=function(e){return this._sw=e instanceof Nl?new Nl(e.lng,e.lat):Nl.convert(e),this},Il.prototype.extend=function(e){var t,o,m=this._sw,E=this._ne;if(e instanceof Nl)t=e,o=e;else{if(!(e instanceof Il))return Array.isArray(e)?e.length===4||e.every(Array.isArray)?this.extend(Il.convert(e)):this.extend(Nl.convert(e)):this;if(o=e._ne,!(t=e._sw)||!o)return this}return m||E?(m.lng=Math.min(t.lng,m.lng),m.lat=Math.min(t.lat,m.lat),E.lng=Math.max(o.lng,E.lng),E.lat=Math.max(o.lat,E.lat)):(this._sw=new Nl(t.lng,t.lat),this._ne=new Nl(o.lng,o.lat)),this},Il.prototype.getCenter=function(){return new Nl((this._sw.lng+this._ne.lng)/2,(this._sw.lat+this._ne.lat)/2)},Il.prototype.getSouthWest=function(){return this._sw},Il.prototype.getNorthEast=function(){return this._ne},Il.prototype.getNorthWest=function(){return new Nl(this.getWest(),this.getNorth())},Il.prototype.getSouthEast=function(){return new Nl(this.getEast(),this.getSouth())},Il.prototype.getWest=function(){return this._sw.lng},Il.prototype.getSouth=function(){return this._sw.lat},Il.prototype.getEast=function(){return this._ne.lng},Il.prototype.getNorth=function(){return this._ne.lat},Il.prototype.toArray=function(){return[this._sw.toArray(),this._ne.toArray()]},Il.prototype.toString=function(){return"LngLatBounds("+this._sw.toString()+", "+this._ne.toString()+")"},Il.prototype.isEmpty=function(){return!(this._sw&&this._ne)},Il.prototype.contains=function(e){var t=Nl.convert(e),o=t.lng,m=t.lat,E=this._sw.lng<=o&&o<=this._ne.lng;return this._sw.lng>this._ne.lng&&(E=this._sw.lng>=o&&o>=this._ne.lng),this._sw.lat<=m&&m<=this._ne.lat&&E},Il.convert=function(e){return!e||e instanceof Il?e:new Il(e)};var Nl=function(t,o){if(isNaN(t)||isNaN(o))throw new Error("Invalid LngLat object: ("+t+", "+o+")");if(this.lng=+t,this.lat=+o,this.lat>90||this.lat<-90)throw new Error("Invalid LngLat latitude value: must be between -90 and 90")};Nl.prototype.wrap=function(){return new Nl(Ce(this.lng,-180,180),this.lat)},Nl.prototype.toArray=function(){return[this.lng,this.lat]},Nl.prototype.toString=function(){return"LngLat("+this.lng+", "+this.lat+")"},Nl.prototype.distanceTo=function(e){var t=Math.PI/180,o=this.lat*t,m=e.lat*t,E=Math.sin(o)*Math.sin(m)+Math.cos(o)*Math.cos(m)*Math.cos((e.lng-this.lng)*t);return 63710088e-1*Math.acos(Math.min(E,1))},Nl.prototype.toBounds=function(e){e===void 0&&(e=0);var t=360*e/40075017,o=t/Math.cos(Math.PI/180*this.lat);return new Il(new Nl(this.lng-o,this.lat-t),new Nl(this.lng+o,this.lat+t))},Nl.convert=function(e){if(e instanceof Nl)return e;if(Array.isArray(e)&&(e.length===2||e.length===3))return new Nl(Number(e[0]),Number(e[1]));if(!Array.isArray(e)&&typeof e=="object"&&e!==null)return new Nl(Number("lng"in e?e.lng:e.lon),Number(e.lat));throw new Error("`LngLatLike` argument must be specified as a LngLat instance, an object {lng: <lng>, lat: <lat>}, an object {lon: <lng>, lat: <lat>}, or an array of [<lng>, <lat>]")};var Ed=2*Math.PI*63710088e-1;function vv(e){return Ed*Math.cos(e*Math.PI/180)}function yh(e){return(180+e)/360}function Um(e){return(180-180/Math.PI*Math.log(Math.tan(Math.PI/4+e*Math.PI/360)))/360}function kg(e,t){return e/vv(t)}function Vm(e){return 360/Math.PI*Math.atan(Math.exp((180-360*e)*Math.PI/180))-90}var Dv=function(t,o,m){m===void 0&&(m=0),this.x=+t,this.y=+o,this.z=+m};Dv.fromLngLat=function(e,t){t===void 0&&(t=0);var o=Nl.convert(e);return new Dv(yh(o.lng),Um(o.lat),kg(t,o.lat))},Dv.prototype.toLngLat=function(){return new Nl(360*this.x-180,Vm(this.y))},Dv.prototype.toAltitude=function(){return this.z*vv(Vm(this.y))},Dv.prototype.meterInMercatorCoordinateUnits=function(){return 1/Ed*(e=Vm(this.y),1/Math.cos(e*Math.PI/180));var e};var Em=function(t,o,m){this.z=t,this.x=o,this.y=m,this.key=Fv(0,t,t,o,m)};Em.prototype.equals=function(e){return this.z===e.z&&this.x===e.x&&this.y===e.y},Em.prototype.url=function(e,t){var o,m,E,D,V,ae=(m=this.y,E=this.z,D=od(256*(o=this.x),256*(m=Math.pow(2,E)-m-1),E),V=od(256*(o+1),256*(m+1),E),D[0]+","+D[1]+","+V[0]+","+V[1]),je=function(tt,wt,Bt){for(var Kt,pr="",Ir=tt;Ir>0;Ir--)pr+=(wt&(Kt=1<<Ir-1)?1:0)+(Bt&Kt?2:0);return pr}(this.z,this.x,this.y);return e[(this.x+this.y)%e.length].replace("{prefix}",(this.x%16).toString(16)+(this.y%16).toString(16)).replace("{z}",String(this.z)).replace("{x}",String(this.x)).replace("{y}",String(t==="tms"?Math.pow(2,this.z)-this.y-1:this.y)).replace("{quadkey}",je).replace("{bbox-epsg-3857}",ae)},Em.prototype.getTilePoint=function(e){var t=Math.pow(2,this.z);return new oe(8192*(e.x*t-this.x),8192*(e.y*t-this.y))},Em.prototype.toString=function(){return this.z+"/"+this.x+"/"+this.y};var Cg=function(t,o){this.wrap=t,this.canonical=o,this.key=Fv(t,o.z,o.z,o.x,o.y)},hc=function(t,o,m,E,D){this.overscaledZ=t,this.wrap=o,this.canonical=new Em(m,+E,+D),this.key=Fv(o,t,m,E,D)};function Fv(e,t,o,m,E){(e*=2)<0&&(e=-1*e-1);var D=1<<o;return(D*D*e+D*E+m).toString(36)+o.toString(36)+t.toString(36)}hc.prototype.equals=function(e){return this.overscaledZ===e.overscaledZ&&this.wrap===e.wrap&&this.canonical.equals(e.canonical)},hc.prototype.scaledTo=function(e){var t=this.canonical.z-e;return e>this.canonical.z?new hc(e,this.wrap,this.canonical.z,this.canonical.x,this.canonical.y):new hc(e,this.wrap,e,this.canonical.x>>t,this.canonical.y>>t)},hc.prototype.calculateScaledKey=function(e,t){var o=this.canonical.z-e;return e>this.canonical.z?Fv(this.wrap*+t,e,this.canonical.z,this.canonical.x,this.canonical.y):Fv(this.wrap*+t,e,e,this.canonical.x>>o,this.canonical.y>>o)},hc.prototype.isChildOf=function(e){if(e.wrap!==this.wrap)return!1;var t=this.canonical.z-e.canonical.z;return e.overscaledZ===0||e.overscaledZ<this.overscaledZ&&e.canonical.x===this.canonical.x>>t&&e.canonical.y===this.canonical.y>>t},hc.prototype.children=function(e){if(this.overscaledZ>=e)return[new hc(this.overscaledZ+1,this.wrap,this.canonical.z,this.canonical.x,this.canonical.y)];var t=this.canonical.z+1,o=2*this.canonical.x,m=2*this.canonical.y;return[new hc(t,this.wrap,t,o,m),new hc(t,this.wrap,t,o+1,m),new hc(t,this.wrap,t,o,m+1),new hc(t,this.wrap,t,o+1,m+1)]},hc.prototype.isLessThan=function(e){return this.wrap<e.wrap||!(this.wrap>e.wrap)&&(this.overscaledZ<e.overscaledZ||!(this.overscaledZ>e.overscaledZ)&&(this.canonical.x<e.canonical.x||!(this.canonical.x>e.canonical.x)&&this.canonical.y<e.canonical.y))},hc.prototype.wrapped=function(){return new hc(this.overscaledZ,0,this.canonical.z,this.canonical.x,this.canonical.y)},hc.prototype.unwrapTo=function(e){return new hc(this.overscaledZ,e,this.canonical.z,this.canonical.x,this.canonical.y)},hc.prototype.overscaleFactor=function(){return Math.pow(2,this.overscaledZ-this.canonical.z)},hc.prototype.toUnwrapped=function(){return new Cg(this.wrap,this.canonical)},hc.prototype.toString=function(){return this.overscaledZ+"/"+this.canonical.x+"/"+this.canonical.y},hc.prototype.getTilePoint=function(e){return this.canonical.getTilePoint(new Dv(e.x-this.wrap,e.y))},bi("CanonicalTileID",Em),bi("OverscaledTileID",hc,{omit:["posMatrix"]});var mv=function(t,o,m){if(this.uid=t,o.height!==o.width)throw new RangeError("DEM tiles must be square");if(m&&m!=="mapbox"&&m!=="terrarium")return yt('"'+m+'" is not a valid encoding type. Valid types include "mapbox" and "terrarium".');this.stride=o.height;var E=this.dim=o.height-2;this.data=new Uint32Array(o.data.buffer),this.encoding=m||"mapbox";for(var D=0;D<E;D++)this.data[this._idx(-1,D)]=this.data[this._idx(0,D)],this.data[this._idx(E,D)]=this.data[this._idx(E-1,D)],this.data[this._idx(D,-1)]=this.data[this._idx(D,0)],this.data[this._idx(D,E)]=this.data[this._idx(D,E-1)];this.data[this._idx(-1,-1)]=this.data[this._idx(0,0)],this.data[this._idx(E,-1)]=this.data[this._idx(E-1,0)],this.data[this._idx(-1,E)]=this.data[this._idx(0,E-1)],this.data[this._idx(E,E)]=this.data[this._idx(E-1,E-1)]};mv.prototype.get=function(e,t){var o=new Uint8Array(this.data.buffer),m=4*this._idx(e,t);return(this.encoding==="terrarium"?this._unpackTerrarium:this._unpackMapbox)(o[m],o[m+1],o[m+2])},mv.prototype.getUnpackVector=function(){return this.encoding==="terrarium"?[256,1,1/256,32768]:[6553.6,25.6,.1,1e4]},mv.prototype._idx=function(e,t){if(e<-1||e>=this.dim+1||t<-1||t>=this.dim+1)throw new RangeError("out of range source coordinates for DEM data");return(t+1)*this.stride+(e+1)},mv.prototype._unpackMapbox=function(e,t,o){return(256*e*256+256*t+o)/10-1e4},mv.prototype._unpackTerrarium=function(e,t,o){return 256*e+t+o/256-32768},mv.prototype.getPixels=function(){return new vl({width:this.stride,height:this.stride},new Uint8Array(this.data.buffer))},mv.prototype.backfillBorder=function(e,t,o){if(this.dim!==e.dim)throw new Error("dem dimension mismatch");var m=t*this.dim,E=t*this.dim+this.dim,D=o*this.dim,V=o*this.dim+this.dim;switch(t){case-1:m=E-1;break;case 1:E=m+1}switch(o){case-1:D=V-1;break;case 1:V=D+1}for(var ae=-t*this.dim,je=-o*this.dim,tt=D;tt<V;tt++)for(var wt=m;wt<E;wt++)this.data[this._idx(wt,tt)]=e.data[this._idx(wt+ae,tt+je)]},bi("DEMData",mv);var og=function(t){this._stringToNumber={},this._numberToString=[];for(var o=0;o<t.length;o++){var m=t[o];this._stringToNumber[m]=o,this._numberToString[o]=m}};og.prototype.encode=function(e){return this._stringToNumber[e]},og.prototype.decode=function(e){return this._numberToString[e]};var Eg=function(t,o,m,E,D){this.type="Feature",this._vectorTileFeature=t,t._z=o,t._x=m,t._y=E,this.properties=t.properties,this.id=D},Nv={geometry:{configurable:!0}};Nv.geometry.get=function(){return this._geometry===void 0&&(this._geometry=this._vectorTileFeature.toGeoJSON(this._vectorTileFeature._x,this._vectorTileFeature._y,this._vectorTileFeature._z).geometry),this._geometry},Nv.geometry.set=function(e){this._geometry=e},Eg.prototype.toJSON=function(){var e={geometry:this.geometry};for(var t in this)t!=="_geometry"&&t!=="_vectorTileFeature"&&(e[t]=this[t]);return e},Object.defineProperties(Eg.prototype,Nv);var Nh=function(){this.state={},this.stateChanges={},this.deletedStates={}};Nh.prototype.updateState=function(e,t,o){var m=String(t);if(this.stateChanges[e]=this.stateChanges[e]||{},this.stateChanges[e][m]=this.stateChanges[e][m]||{},et(this.stateChanges[e][m],o),this.deletedStates[e]===null)for(var E in this.deletedStates[e]={},this.state[e])E!==m&&(this.deletedStates[e][E]=null);else if(this.deletedStates[e]&&this.deletedStates[e][m]===null)for(var D in this.deletedStates[e][m]={},this.state[e][m])o[D]||(this.deletedStates[e][m][D]=null);else for(var V in o)this.deletedStates[e]&&this.deletedStates[e][m]&&this.deletedStates[e][m][V]===null&&delete this.deletedStates[e][m][V]},Nh.prototype.removeFeatureState=function(e,t,o){if(this.deletedStates[e]!==null){var m=String(t);if(this.deletedStates[e]=this.deletedStates[e]||{},o&&t!==void 0)this.deletedStates[e][m]!==null&&(this.deletedStates[e][m]=this.deletedStates[e][m]||{},this.deletedStates[e][m][o]=null);else if(t!==void 0)if(this.stateChanges[e]&&this.stateChanges[e][m])for(o in this.deletedStates[e][m]={},this.stateChanges[e][m])this.deletedStates[e][m][o]=null;else this.deletedStates[e][m]=null;else this.deletedStates[e]=null}},Nh.prototype.getState=function(e,t){var o=String(t),m=et({},(this.state[e]||{})[o],(this.stateChanges[e]||{})[o]);if(this.deletedStates[e]===null)return{};if(this.deletedStates[e]){var E=this.deletedStates[e][t];if(E===null)return{};for(var D in E)delete m[D]}return m},Nh.prototype.initializeTileState=function(e,t){e.setFeatureState(this.state,t)},Nh.prototype.coalesceChanges=function(e,t){var o={};for(var m in this.stateChanges){this.state[m]=this.state[m]||{};var E={};for(var D in this.stateChanges[m])this.state[m][D]||(this.state[m][D]={}),et(this.state[m][D],this.stateChanges[m][D]),E[D]=this.state[m][D];o[m]=E}for(var V in this.deletedStates){this.state[V]=this.state[V]||{};var ae={};if(this.deletedStates[V]===null)for(var je in this.state[V])ae[je]={},this.state[V][je]={};else for(var tt in this.deletedStates[V]){if(this.deletedStates[V][tt]===null)this.state[V][tt]={};else for(var wt=0,Bt=Object.keys(this.deletedStates[V][tt]);wt<Bt.length;wt+=1)delete this.state[V][tt][Bt[wt]];ae[tt]=this.state[V][tt]}o[V]=o[V]||{},et(o[V],ae)}if(this.stateChanges={},this.deletedStates={},Object.keys(o).length!==0)for(var Kt in e)e[Kt].setFeatureState(o,t)};var Xp=function(t,o){this.tileID=t,this.x=t.canonical.x,this.y=t.canonical.y,this.z=t.canonical.z,this.grid=new Pf(8192,16,0),this.grid3D=new Pf(8192,16,0),this.featureIndexArray=new Rt,this.promoteId=o};function gv(e,t,o,m,E){return Mt(e,function(D,V){var ae=t instanceof ph?t.get(V):null;return ae&&ae.evaluate?ae.evaluate(o,m,E):ae})}function Sg(e){for(var t=1/0,o=1/0,m=-1/0,E=-1/0,D=0,V=e;D<V.length;D+=1){var ae=V[D];t=Math.min(t,ae.x),o=Math.min(o,ae.y),m=Math.max(m,ae.x),E=Math.max(E,ae.y)}return{minX:t,minY:o,maxX:m,maxY:E}}function Qp(e,t){return t-e}Xp.prototype.insert=function(e,t,o,m,E,D){var V=this.featureIndexArray.length;this.featureIndexArray.emplaceBack(o,m,E);for(var ae=D?this.grid3D:this.grid,je=0;je<t.length;je++){for(var tt=t[je],wt=[1/0,1/0,-1/0,-1/0],Bt=0;Bt<tt.length;Bt++){var Kt=tt[Bt];wt[0]=Math.min(wt[0],Kt.x),wt[1]=Math.min(wt[1],Kt.y),wt[2]=Math.max(wt[2],Kt.x),wt[3]=Math.max(wt[3],Kt.y)}wt[0]<8192&&wt[1]<8192&&wt[2]>=0&&wt[3]>=0&&ae.insert(V,wt[0],wt[1],wt[2],wt[3])}},Xp.prototype.loadVTLayers=function(){return this.vtLayers||(this.vtLayers=new Cd.VectorTile(new lp(this.rawTileData)).layers,this.sourceLayerCoder=new og(this.vtLayers?Object.keys(this.vtLayers).sort():["_geojsonTileLayer"])),this.vtLayers},Xp.prototype.query=function(e,t,o,m){var E=this;this.loadVTLayers();for(var D=e.params||{},V=8192/e.tileSize/e.scale,ae=Bd(D.filter),je=e.queryGeometry,tt=e.queryPadding*V,wt=Sg(je),Bt=this.grid.query(wt.minX-tt,wt.minY-tt,wt.maxX+tt,wt.maxY+tt),Kt=Sg(e.cameraQueryGeometry),pr=this.grid3D.query(Kt.minX-tt,Kt.minY-tt,Kt.maxX+tt,Kt.maxY+tt,function(Kn,ha,da,Ja){return function(ti,Hi,co,mo,Wi){for(var Jo=0,Ko=ti;Jo<Ko.length;Jo+=1){var Yi=Ko[Jo];if(Hi<=Yi.x&&co<=Yi.y&&mo>=Yi.x&&Wi>=Yi.y)return!0}var Ks=[new oe(Hi,co),new oe(Hi,Wi),new oe(mo,Wi),new oe(mo,co)];if(ti.length>2){for(var Ps=0,Rl=Ks;Ps<Rl.length;Ps+=1)if(Mn(ti,Rl[Ps]))return!0}for(var rs=0;rs<ti.length-1;rs++)if(Cn(ti[rs],ti[rs+1],Ks))return!0;return!1}(e.cameraQueryGeometry,Kn-tt,ha-tt,da+tt,Ja+tt)}),Ir=0,Ar=pr;Ir<Ar.length;Ir+=1)Bt.push(Ar[Ir]);Bt.sort(Qp);for(var $r,Gr={},gn=function(ha){var da=Bt[ha];if(da!==$r){$r=da;var Ja=E.featureIndexArray.get(da),ti=null;E.loadMatchingFeature(Gr,Ja.bucketIndex,Ja.sourceLayerIndex,Ja.featureIndex,ae,D.layers,D.availableImages,t,o,m,function(Hi,co,mo){return ti||(ti=xl(Hi)),co.queryIntersectsFeature(je,Hi,mo,ti,E.z,e.transform,V,e.pixelPosMatrix)})}},Dn=0;Dn<Bt.length;Dn++)gn(Dn);return Gr},Xp.prototype.loadMatchingFeature=function(e,t,o,m,E,D,V,ae,je,tt,wt){var Bt=this.bucketLayerIDs[t];if(!D||function(ti,Hi){for(var co=0;co<ti.length;co++)if(Hi.indexOf(ti[co])>=0)return!0;return!1}(D,Bt)){var Kt=this.sourceLayerCoder.decode(o),pr=this.vtLayers[Kt].feature(m);if(E.needGeometry){var Ir=Ns(pr,!0);if(!E.filter(new _s(this.tileID.overscaledZ),Ir,this.tileID.canonical))return}else if(!E.filter(new _s(this.tileID.overscaledZ),pr))return;for(var Ar=this.getId(pr,Kt),$r=0;$r<Bt.length;$r++){var Gr=Bt[$r];if(!(D&&D.indexOf(Gr)<0)){var gn=ae[Gr];if(gn){var Dn={};Ar!==void 0&&tt&&(Dn=tt.getState(gn.sourceLayer||"_geojsonTileLayer",Ar));var Kn=et({},je[Gr]);Kn.paint=gv(Kn.paint,gn.paint,pr,Dn,V),Kn.layout=gv(Kn.layout,gn.layout,pr,Dn,V);var ha=!wt||wt(pr,gn,Dn);if(ha){var da=new Eg(pr,this.z,this.x,this.y,Ar);da.layer=Kn;var Ja=e[Gr];Ja===void 0&&(Ja=e[Gr]=[]),Ja.push({featureIndex:m,feature:da,intersectionZ:ha})}}}}}},Xp.prototype.lookupSymbolFeatures=function(e,t,o,m,E,D,V,ae){var je={};this.loadVTLayers();for(var tt=Bd(E),wt=0,Bt=e;wt<Bt.length;wt+=1)this.loadMatchingFeature(je,o,m,Bt[wt],tt,D,V,ae,t);return je},Xp.prototype.hasLayer=function(e){for(var t=0,o=this.bucketLayerIDs;t<o.length;t+=1)for(var m=0,E=o[t];m<E.length;m+=1)if(e===E[m])return!0;return!1},Xp.prototype.getId=function(e,t){var o=e.id;return this.promoteId&&typeof(o=e.properties[typeof this.promoteId=="string"?this.promoteId:this.promoteId[t]])=="boolean"&&(o=Number(o)),o},bi("FeatureIndex",Xp,{omit:["rawTileData","sourceLayerCoder"]});var Dc=function(t,o){this.tileID=t,this.uid=We(),this.uses=0,this.tileSize=o,this.buckets={},this.expirationTime=null,this.queryPadding=0,this.hasSymbolBuckets=!1,this.hasRTLText=!1,this.dependencies={},this.expiredRequestCount=0,this.state="loading"};Dc.prototype.registerFadeDuration=function(e){var t=e+this.timeAdded;t<Ye.now()||this.fadeEndTime&&t<this.fadeEndTime||(this.fadeEndTime=t)},Dc.prototype.wasRequested=function(){return this.state==="errored"||this.state==="loaded"||this.state==="reloading"},Dc.prototype.loadVectorData=function(e,t,o){if(this.hasData()&&this.unloadVectorData(),this.state="loaded",e){for(var m in e.featureIndex&&(this.latestFeatureIndex=e.featureIndex,e.rawTileData?(this.latestRawTileData=e.rawTileData,this.latestFeatureIndex.rawTileData=e.rawTileData):this.latestRawTileData&&(this.latestFeatureIndex.rawTileData=this.latestRawTileData)),this.collisionBoxArray=e.collisionBoxArray,this.buckets=function(tt,wt){var Bt={};if(!wt)return Bt;for(var Kt=function(){var $r=Ir[pr],Gr=$r.layerIds.map(function(Kn){return wt.getLayer(Kn)}).filter(Boolean);if(Gr.length!==0){$r.layers=Gr,$r.stateDependentLayerIds&&($r.stateDependentLayers=$r.stateDependentLayerIds.map(function(Kn){return Gr.filter(function(ha){return ha.id===Kn})[0]}));for(var gn=0,Dn=Gr;gn<Dn.length;gn+=1)Bt[Dn[gn].id]=$r}},pr=0,Ir=tt;pr<Ir.length;pr+=1)Kt();return Bt}(e.buckets,t.style),this.hasSymbolBuckets=!1,this.buckets){var E=this.buckets[m];if(E instanceof jr){if(this.hasSymbolBuckets=!0,!o)break;E.justReloaded=!0}}if(this.hasRTLText=!1,this.hasSymbolBuckets)for(var D in this.buckets){var V=this.buckets[D];if(V instanceof jr&&V.hasRTLText){this.hasRTLText=!0,gc.isLoading()||gc.isLoaded()||Jd()!=="deferred"||Tf();break}}for(var ae in this.queryPadding=0,this.buckets){var je=this.buckets[ae];this.queryPadding=Math.max(this.queryPadding,t.style.getLayer(ae).queryRadius(je))}e.imageAtlas&&(this.imageAtlas=e.imageAtlas),e.glyphAtlasImage&&(this.glyphAtlasImage=e.glyphAtlasImage)}else this.collisionBoxArray=new c},Dc.prototype.unloadVectorData=function(){for(var e in this.buckets)this.buckets[e].destroy();this.buckets={},this.imageAtlasTexture&&this.imageAtlasTexture.destroy(),this.imageAtlas&&(this.imageAtlas=null),this.glyphAtlasTexture&&this.glyphAtlasTexture.destroy(),this.latestFeatureIndex=null,this.state="unloaded"},Dc.prototype.getBucket=function(e){return this.buckets[e.id]},Dc.prototype.upload=function(e){for(var t in this.buckets){var o=this.buckets[t];o.uploadPending()&&o.upload(e)}var m=e.gl;this.imageAtlas&&!this.imageAtlas.uploaded&&(this.imageAtlasTexture=new ic(e,this.imageAtlas.image,m.RGBA),this.imageAtlas.uploaded=!0),this.glyphAtlasImage&&(this.glyphAtlasTexture=new ic(e,this.glyphAtlasImage,m.ALPHA),this.glyphAtlasImage=null)},Dc.prototype.prepare=function(e){this.imageAtlas&&this.imageAtlas.patchUpdatedImages(e,this.imageAtlasTexture)},Dc.prototype.queryRenderedFeatures=function(e,t,o,m,E,D,V,ae,je,tt){return this.latestFeatureIndex&&this.latestFeatureIndex.rawTileData?this.latestFeatureIndex.query({queryGeometry:m,cameraQueryGeometry:E,scale:D,tileSize:this.tileSize,pixelPosMatrix:tt,transform:ae,params:V,queryPadding:this.queryPadding*je},e,t,o):{}},Dc.prototype.querySourceFeatures=function(e,t){var o=this.latestFeatureIndex;if(o&&o.rawTileData){var m=o.loadVTLayers(),E=t?t.sourceLayer:"",D=m._geojsonTileLayer||m[E];if(D)for(var V=Bd(t&&t.filter),ae=this.tileID.canonical,je=ae.z,tt=ae.x,wt=ae.y,Bt={z:je,x:tt,y:wt},Kt=0;Kt<D.length;Kt++){var pr=D.feature(Kt);if(V.needGeometry){var Ir=Ns(pr,!0);if(!V.filter(new _s(this.tileID.overscaledZ),Ir,this.tileID.canonical))continue}else if(!V.filter(new _s(this.tileID.overscaledZ),pr))continue;var Ar=o.getId(pr,E),$r=new Eg(pr,je,tt,wt,Ar);$r.tile=Bt,e.push($r)}}},Dc.prototype.hasData=function(){return this.state==="loaded"||this.state==="reloading"||this.state==="expired"},Dc.prototype.patternsLoaded=function(){return this.imageAtlas&&!!Object.keys(this.imageAtlas.patternPositions).length},Dc.prototype.setExpiryData=function(e){var t=this.expirationTime;if(e.cacheControl){var o=vt(e.cacheControl);o["max-age"]&&(this.expirationTime=Date.now()+1e3*o["max-age"])}else e.expires&&(this.expirationTime=new Date(e.expires).getTime());if(this.expirationTime){var m=Date.now(),E=!1;if(this.expirationTime>m)E=!1;else if(t)if(this.expirationTime<t)E=!0;else{var D=this.expirationTime-t;D?this.expirationTime=m+Math.max(D,3e4):E=!0}else E=!0;E?(this.expiredRequestCount++,this.state="expired"):this.expiredRequestCount=0}},Dc.prototype.getExpiryTimeout=function(){if(this.expirationTime)return this.expiredRequestCount?1e3*(1<<Math.min(this.expiredRequestCount-1,31)):Math.min(this.expirationTime-new Date().getTime(),Math.pow(2,31)-1)},Dc.prototype.setFeatureState=function(e,t){if(this.latestFeatureIndex&&this.latestFeatureIndex.rawTileData&&Object.keys(e).length!==0){var o=this.latestFeatureIndex.loadVTLayers();for(var m in this.buckets)if(t.style.hasLayer(m)){var E=this.buckets[m],D=E.layers[0].sourceLayer||"_geojsonTileLayer",V=o[D],ae=e[D];if(V&&ae&&Object.keys(ae).length!==0){E.update(ae,V,this.imageAtlas&&this.imageAtlas.patternPositions||{});var je=t&&t.style&&t.style.getLayer(m);je&&(this.queryPadding=Math.max(this.queryPadding,je.queryRadius(E)))}}}},Dc.prototype.holdingForFade=function(){return this.symbolFadeHoldUntil!==void 0},Dc.prototype.symbolFadeFinished=function(){return!this.symbolFadeHoldUntil||this.symbolFadeHoldUntil<Ye.now()},Dc.prototype.clearFadeHold=function(){this.symbolFadeHoldUntil=void 0},Dc.prototype.setHoldDuration=function(e){this.symbolFadeHoldUntil=Ye.now()+e},Dc.prototype.setDependencies=function(e,t){for(var o={},m=0,E=t;m<E.length;m+=1)o[E[m]]=!0;this.dependencies[e]=o},Dc.prototype.hasDependency=function(e,t){for(var o=0,m=e;o<m.length;o+=1){var E=this.dependencies[m[o]];if(E){for(var D=0,V=t;D<V.length;D+=1)if(E[V[D]])return!0}}return!1};var Ip=Te.performance,Bg=function(t){this._marks={start:[t.url,"start"].join("#"),end:[t.url,"end"].join("#"),measure:t.url.toString()},Ip.mark(this._marks.start)};Bg.prototype.finish=function(){Ip.mark(this._marks.end);var e=Ip.getEntriesByName(this._marks.measure);return e.length===0&&(Ip.measure(this._marks.measure,this._marks.start,this._marks.end),e=Ip.getEntriesByName(this._marks.measure),Ip.clearMarks(this._marks.start),Ip.clearMarks(this._marks.end),Ip.clearMeasures(this._marks.measure)),e},u.Actor=Dd,u.AlphaImage=Kl,u.CanonicalTileID=Em,u.CollisionBoxArray=c,u.Color=ba,u.DEMData=mv,u.DataConstantProperty=Io,u.DictionaryCoder=og,u.EXTENT=8192,u.ErrorEvent=rt,u.EvaluationParameters=_s,u.Event=be,u.Evented=de,u.FeatureIndex=Xp,u.FillBucket=xd,u.FillExtrusionBucket=Vo,u.ImageAtlas=vo,u.ImagePosition=ki,u.LineBucket=$l,u.LngLat=Nl,u.LngLatBounds=Il,u.MercatorCoordinate=Dv,u.ONE_EM=24,u.OverscaledTileID=hc,u.Point=oe,u.Point$1=oe,u.Properties=$u,u.Protobuf=lp,u.RGBAImage=vl,u.RequestManager=B,u.RequestPerformance=Bg,u.ResourceType=zr,u.SegmentVector=rr,u.SourceFeatureState=Nh,u.StructArrayLayout1ui2=Vd,u.StructArrayLayout2f1f2i16=th,u.StructArrayLayout2i4=_f,u.StructArrayLayout3ui6=zd,u.StructArrayLayout4i8=If,u.SymbolBucket=jr,u.Texture=ic,u.Tile=Dc,u.Transitionable=sl,u.Uniform1f=Ya,u.Uniform1i=sa,u.Uniform2f=Ka,u.Uniform3f=Di,u.Uniform4f=di,u.UniformColor=Eo,u.UniformMatrix4f=Wo,u.UnwrappedTileID=Cg,u.ValidationError=xe,u.WritingMode=Pi,u.ZoomHistory=hh,u.add=function(e,t,o){return e[0]=t[0]+o[0],e[1]=t[1]+o[1],e[2]=t[2]+o[2],e},u.addDynamicAttributes=rn,u.asyncAll=function(e,t,o){if(!e.length)return o(null,[]);var m=e.length,E=new Array(e.length),D=null;e.forEach(function(V,ae){t(V,function(je,tt){je&&(D=je),E[ae]=tt,--m==0&&o(D,E)})})},u.bezier=ve,u.bindAll=Vt,u.browser=Ye,u.cacheEntryPossiblyAdded=function(e){++Qt>kt&&(e.getActor().send("enforceCacheSizeLimit",Nt),Qt=0)},u.clamp=I,u.clearTileCache=function(e){var t=Te.caches.delete("mapbox-tiles");e&&t.catch(e).then(function(){return e()})},u.clipLine=Su,u.clone=function(e){var t=new uo(16);return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t[4]=e[4],t[5]=e[5],t[6]=e[6],t[7]=e[7],t[8]=e[8],t[9]=e[9],t[10]=e[10],t[11]=e[11],t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15],t},u.clone$1=ye,u.clone$2=function(e){var t=new uo(3);return t[0]=e[0],t[1]=e[1],t[2]=e[2],t},u.collisionCircleLayout=Cm,u.config=Ke,u.create=function(){var e=new uo(16);return uo!=Float32Array&&(e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[11]=0,e[12]=0,e[13]=0,e[14]=0),e[0]=1,e[5]=1,e[10]=1,e[15]=1,e},u.create$1=function(){var e=new uo(9);return uo!=Float32Array&&(e[1]=0,e[2]=0,e[3]=0,e[5]=0,e[6]=0,e[7]=0),e[0]=1,e[4]=1,e[8]=1,e},u.create$2=function(){var e=new uo(4);return uo!=Float32Array&&(e[1]=0,e[2]=0),e[0]=1,e[3]=1,e},u.createCommonjsModule=H,u.createExpression=jd,u.createLayout=yu,u.createStyleLayer=function(e){return e.type==="custom"?new no(e):new Vi[e.type](e)},u.cross=function(e,t,o){var m=t[0],E=t[1],D=t[2],V=o[0],ae=o[1],je=o[2];return e[0]=E*je-D*ae,e[1]=D*V-m*je,e[2]=m*ae-E*V,e},u.deepEqual=function e(t,o){if(Array.isArray(t)){if(!Array.isArray(o)||t.length!==o.length)return!1;for(var m=0;m<t.length;m++)if(!e(t[m],o[m]))return!1;return!0}if(typeof t=="object"&&t!==null&&o!==null){if(typeof o!="object"||Object.keys(t).length!==Object.keys(o).length)return!1;for(var E in t)if(!e(t[E],o[E]))return!1;return!0}return t===o},u.dot=function(e,t){return e[0]*t[0]+e[1]*t[1]+e[2]*t[2]},u.dot$1=function(e,t){return e[0]*t[0]+e[1]*t[1]+e[2]*t[2]+e[3]*t[3]},u.ease=we,u.emitValidationErrors=uf,u.endsWith=It,u.enforceCacheSizeLimit=function(e){ft(),U&&U.then(function(t){t.keys().then(function(o){for(var m=0;m<o.length-e;m++)t.delete(o[m])})})},u.evaluateSizeForFeature=eu,u.evaluateSizeForZoom=bu,u.evaluateVariableOffset=kn,u.evented=Rh,u.extend=et,u.featureFilter=Bd,u.filterObject=Tt,u.fromRotation=function(e,t){var o=Math.sin(t),m=Math.cos(t);return e[0]=m,e[1]=o,e[2]=0,e[3]=-o,e[4]=m,e[5]=0,e[6]=0,e[7]=0,e[8]=1,e},u.getAnchorAlignment=xi,u.getAnchorJustification=Ri,u.getArrayBuffer=Tr,u.getImage=ge,u.getJSON=function(e,t){return ya(et(e,{type:"json"}),t)},u.getRTLTextPluginStatus=Jd,u.getReferrer=tn,u.getVideo=function(e,t){var o,m,E=Te.document.createElement("video");E.muted=!0,E.onloadstart=function(){t(null,E)};for(var D=0;D<e.length;D++){var V=Te.document.createElement("source");o=e[D],m=void 0,(m=Te.document.createElement("a")).href=o,(m.protocol!==Te.document.location.protocol||m.host!==Te.document.location.host)&&(E.crossOrigin="Anonymous"),V.src=e[D],E.appendChild(V)}return{cancel:function(){}}},u.identity=So,u.invert=function(e,t){var o=t[0],m=t[1],E=t[2],D=t[3],V=t[4],ae=t[5],je=t[6],tt=t[7],wt=t[8],Bt=t[9],Kt=t[10],pr=t[11],Ir=t[12],Ar=t[13],$r=t[14],Gr=t[15],gn=o*ae-m*V,Dn=o*je-E*V,Kn=o*tt-D*V,ha=m*je-E*ae,da=m*tt-D*ae,Ja=E*tt-D*je,ti=wt*Ar-Bt*Ir,Hi=wt*$r-Kt*Ir,co=wt*Gr-pr*Ir,mo=Bt*$r-Kt*Ar,Wi=Bt*Gr-pr*Ar,Jo=Kt*Gr-pr*$r,Ko=gn*Jo-Dn*Wi+Kn*mo+ha*co-da*Hi+Ja*ti;return Ko?(e[0]=(ae*Jo-je*Wi+tt*mo)*(Ko=1/Ko),e[1]=(E*Wi-m*Jo-D*mo)*Ko,e[2]=(Ar*Ja-$r*da+Gr*ha)*Ko,e[3]=(Kt*da-Bt*Ja-pr*ha)*Ko,e[4]=(je*co-V*Jo-tt*Hi)*Ko,e[5]=(o*Jo-E*co+D*Hi)*Ko,e[6]=($r*Kn-Ir*Ja-Gr*Dn)*Ko,e[7]=(wt*Ja-Kt*Kn+pr*Dn)*Ko,e[8]=(V*Wi-ae*co+tt*ti)*Ko,e[9]=(m*co-o*Wi-D*ti)*Ko,e[10]=(Ir*da-Ar*Kn+Gr*gn)*Ko,e[11]=(Bt*Kn-wt*da-pr*gn)*Ko,e[12]=(ae*Hi-V*mo-je*ti)*Ko,e[13]=(o*mo-m*Hi+E*ti)*Ko,e[14]=(Ar*Dn-Ir*ha-$r*gn)*Ko,e[15]=(wt*ha-Bt*Dn+Kt*gn)*Ko,e):null},u.isChar=gi,u.isMapboxURL=z,u.keysDifference=function(e,t){var o=[];for(var m in e)m in t||o.push(m);return o},u.makeRequest=ya,u.mapObject=Mt,u.mercatorXfromLng=yh,u.mercatorYfromLat=Um,u.mercatorZfromAltitude=kg,u.mul=bs,u.multiply=fs,u.mvt=Cd,u.nextPowerOfTwo=function(e){return e<=1?1:Math.pow(2,Math.ceil(Math.log(e)/Math.LN2))},u.normalize=function(e,t){var o=t[0],m=t[1],E=t[2],D=o*o+m*m+E*E;return D>0&&(D=1/Math.sqrt(D)),e[0]=t[0]*D,e[1]=t[1]*D,e[2]=t[2]*D,e},u.number=tu,u.offscreenCanvasSupported=ar,u.ortho=function(e,t,o,m,E,D,V){var ae=1/(t-o),je=1/(m-E),tt=1/(D-V);return e[0]=-2*ae,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=-2*je,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[10]=2*tt,e[11]=0,e[12]=(t+o)*ae,e[13]=(E+m)*je,e[14]=(V+D)*tt,e[15]=1,e},u.parseGlyphPBF=function(e){return new lp(e).readFields(Ha,[])},u.pbf=lp,u.performSymbolLayout=function(e,t,o,m,E,D,V){e.createArrays(),e.tilePixelRatio=8192/(512*e.overscaling),e.compareText={},e.iconsNeedLinear=!1;var ae=e.layers[0].layout,je=e.layers[0]._unevaluatedLayout._values,tt={};if(e.textSizeData.kind==="composite"){var wt=e.textSizeData,Bt=wt.maxZoom;tt.compositeTextSizes=[je["text-size"].possiblyEvaluate(new _s(wt.minZoom),V),je["text-size"].possiblyEvaluate(new _s(Bt),V)]}if(e.iconSizeData.kind==="composite"){var Kt=e.iconSizeData,pr=Kt.maxZoom;tt.compositeIconSizes=[je["icon-size"].possiblyEvaluate(new _s(Kt.minZoom),V),je["icon-size"].possiblyEvaluate(new _s(pr),V)]}tt.layoutTextSize=je["text-size"].possiblyEvaluate(new _s(e.zoom+1),V),tt.layoutIconSize=je["icon-size"].possiblyEvaluate(new _s(e.zoom+1),V),tt.textMaxSize=je["text-size"].possiblyEvaluate(new _s(18));for(var Ir=24*ae.get("text-line-height"),Ar=ae.get("text-rotation-alignment")==="map"&&ae.get("symbol-placement")!=="point",$r=ae.get("text-keep-upright"),Gr=ae.get("text-size"),gn=function(){var da=Kn[Dn],Ja=ae.get("text-font").evaluate(da,{},V).join(","),ti=Gr.evaluate(da,{},V),Hi=tt.layoutTextSize.evaluate(da,{},V),co=tt.layoutIconSize.evaluate(da,{},V),mo={horizontal:{},vertical:void 0},Wi=da.text,Jo=[0,0];if(Wi){var Ko=Wi.toString(),Yi=24*ae.get("text-letter-spacing").evaluate(da,{},V),Ks=function(jl){for(var yl=0,Xl=jl;yl<Xl.length;yl+=1)if(Fu=Xl[yl].charCodeAt(0),gi.Arabic(Fu)||gi["Arabic Supplement"](Fu)||gi["Arabic Extended-A"](Fu)||gi["Arabic Presentation Forms-A"](Fu)||gi["Arabic Presentation Forms-B"](Fu))return!1;var Fu;return!0}(Ko)?Yi:0,Ps=ae.get("text-anchor").evaluate(da,{},V),Rl=ae.get("text-variable-anchor");if(!Rl){var rs=ae.get("text-radial-offset").evaluate(da,{},V);Jo=rs?kn(Ps,[24*rs,$n]):ae.get("text-offset").evaluate(da,{},V).map(function(jl){return 24*jl})}var Us=Ar?"center":ae.get("text-justify").evaluate(da,{},V),Cu=ae.get("symbol-placement"),Du=Cu==="point"?24*ae.get("text-max-width").evaluate(da,{},V):0,Vu=function(){e.allowVerticalPlacement&&td(Ko)&&(mo.vertical=na(Wi,t,o,E,Ja,Du,Ir,Ps,"left",Ks,Jo,Pi.vertical,!0,Cu,Hi,ti))};if(!Ar&&Rl){for(var Qu=Us==="auto"?Rl.map(function(jl){return Ri(jl)}):[Us],Hu=!1,yf=0;yf<Qu.length;yf++){var Jc=Qu[yf];if(!mo.horizontal[Jc])if(Hu)mo.horizontal[Jc]=mo.horizontal[0];else{var bf=na(Wi,t,o,E,Ja,Du,Ir,"center",Jc,Ks,Jo,Pi.horizontal,!1,Cu,Hi,ti);bf&&(mo.horizontal[Jc]=bf,Hu=bf.positionedLines.length===1)}}Vu()}else{Us==="auto"&&(Us=Ri(Ps));var Wu=na(Wi,t,o,E,Ja,Du,Ir,Ps,Us,Ks,Jo,Pi.horizontal,!1,Cu,Hi,ti);Wu&&(mo.horizontal[Us]=Wu),Vu(),td(Ko)&&Ar&&$r&&(mo.vertical=na(Wi,t,o,E,Ja,Du,Ir,Ps,Us,Ks,Jo,Pi.vertical,!1,Cu,Hi,ti))}}var Fc=void 0,qc=!1;if(da.icon&&da.icon.name){var ef=m[da.icon.name];ef&&(Fc=function(jl,yl,Xl){var Fu=xi(Xl),Sd=yl[0]-jl.displaySize[0]*Fu.horizontalAlign,Pu=yl[1]-jl.displaySize[1]*Fu.verticalAlign;return{image:jl,top:Pu,bottom:Pu+jl.displaySize[1],left:Sd,right:Sd+jl.displaySize[0]}}(E[da.icon.name],ae.get("icon-offset").evaluate(da,{},V),ae.get("icon-anchor").evaluate(da,{},V)),qc=ef.sdf,e.sdfIcons===void 0?e.sdfIcons=ef.sdf:e.sdfIcons!==ef.sdf&&yt("Style sheet warning: Cannot mix SDF and non-SDF icons in one buffer"),(ef.pixelRatio!==e.pixelRatio||ae.get("icon-rotate").constantOr(1)!==0)&&(e.iconsNeedLinear=!0))}var tf=wr(mo.horizontal)||mo.vertical;e.iconsInText=!!tf&&tf.iconsInText,(tf||Fc)&&function(jl,yl,Xl,Fu,Sd,Pu,iu,zc,Is,oc,bh){var up=Pu.textMaxSize.evaluate(yl,{});up===void 0&&(up=iu);var rf,ns=jl.layers[0].layout,yv=ns.get("icon-offset").evaluate(yl,{},bh),Zs=wr(Xl.horizontal),Gu=iu/24,oh=jl.tilePixelRatio*Gu,Od=jl.tilePixelRatio*up/24,Sm=jl.tilePixelRatio*zc,um=jl.tilePixelRatio*ns.get("symbol-spacing"),Jp=ns.get("text-padding")*jl.tilePixelRatio,Hm=ns.get("icon-padding")*jl.tilePixelRatio,jv=ns.get("text-max-angle")/180*Math.PI,cm=ns.get("text-rotation-alignment")==="map"&&ns.get("symbol-placement")!=="point",Rp=ns.get("icon-rotation-alignment")==="map"&&ns.get("symbol-placement")!=="point",Pd=ns.get("symbol-placement"),Om=um/2,Lp=ns.get("icon-text-fit");Fu&&Lp!=="none"&&(jl.allowVerticalPlacement&&Xl.vertical&&(rf=Fo(Fu,Xl.vertical,Lp,ns.get("icon-text-fit-padding"),yv,Gu)),Zs&&(Fu=Fo(Fu,Zs,Lp,ns.get("icon-text-fit-padding"),yv,Gu)));var Ju=function(wl,Cv){Cv.x<0||Cv.x>=8192||Cv.y<0||Cv.y>=8192||function(Ql,Bh,Ev,El,Km,Zm,Hv,Fp,Ym,Am,$m,Xm,Qm,zg,x,j,L,R,N,W,he,$e,st,Yt,hr){var yr,Zr,on,ca,Ra,Ga=Ql.addToLineVertexArray(Bh,Ev),Ji=0,go=0,jo=0,Mo=0,$i=-1,Ho=-1,Ta={},Rs=Br(""),hi=0,Sl=0;if(Fp._unevaluatedLayout.getValue("text-radial-offset")===void 0?(hi=(yr=Fp.layout.get("text-offset").evaluate(he,{},Yt).map(function(wd){return 24*wd}))[0],Sl=yr[1]):(hi=24*Fp.layout.get("text-radial-offset").evaluate(he,{},Yt),Sl=$n),Ql.allowVerticalPlacement&&El.vertical){var fo=Fp.layout.get("text-rotate").evaluate(he,{},Yt)+90;ca=new Go(Ym,Bh,Am,$m,Xm,El.vertical,Qm,zg,x,fo),Hv&&(Ra=new Go(Ym,Bh,Am,$m,Xm,Hv,L,R,x,fo))}if(Km){var ou=Fp.layout.get("icon-rotate").evaluate(he,{}),Fs=Fp.layout.get("icon-text-fit")!=="none",xh=ac(Km,ou,st,Fs),ks=Hv?ac(Hv,ou,st,Fs):void 0;on=new Go(Ym,Bh,Am,$m,Xm,Km,L,R,!1,ou),Ji=4*xh.length;var Wv=Ql.iconSizeData,Cc=null;Wv.kind==="source"?(Cc=[128*Fp.layout.get("icon-size").evaluate(he,{})])[0]>32640&&yt(Ql.layerIds[0]+': Value for "icon-size" is >= 255. Reduce your "icon-size".'):Wv.kind==="composite"&&((Cc=[128*$e.compositeIconSizes[0].evaluate(he,{},Yt),128*$e.compositeIconSizes[1].evaluate(he,{},Yt)])[0]>32640||Cc[1]>32640)&&yt(Ql.layerIds[0]+': Value for "icon-size" is >= 255. Reduce your "icon-size".'),Ql.addSymbols(Ql.icon,xh,Cc,W,N,he,!1,Bh,Ga.lineStartIndex,Ga.lineLength,-1,Yt),$i=Ql.icon.placedSymbolArray.length-1,ks&&(go=4*ks.length,Ql.addSymbols(Ql.icon,ks,Cc,W,N,he,Pi.vertical,Bh,Ga.lineStartIndex,Ga.lineLength,-1,Yt),Ho=Ql.icon.placedSymbolArray.length-1)}for(var dm in El.horizontal){var Er=El.horizontal[dm];if(!Zr){Rs=Br(Er.text);var sy=Fp.layout.get("text-rotate").evaluate(he,{},Yt);Zr=new Go(Ym,Bh,Am,$m,Xm,Er,Qm,zg,x,sy)}var Kf=Er.positionedLines.length===1;if(jo+=As(Ql,Bh,Er,Zm,Fp,x,he,j,Ga,El.vertical?Pi.horizontal:Pi.horizontalOnly,Kf?Object.keys(El.horizontal):[dm],Ta,$i,$e,Yt),Kf)break}El.vertical&&(Mo+=As(Ql,Bh,El.vertical,Zm,Fp,x,he,j,Ga,Pi.vertical,["vertical"],Ta,Ho,$e,Yt));var ly=Zr?Zr.boxStartIndex:Ql.collisionBoxArray.length,pu=Zr?Zr.boxEndIndex:Ql.collisionBoxArray.length,Ug=ca?ca.boxStartIndex:Ql.collisionBoxArray.length,Pg=ca?ca.boxEndIndex:Ql.collisionBoxArray.length,Vg=on?on.boxStartIndex:Ql.collisionBoxArray.length,Hg=on?on.boxEndIndex:Ql.collisionBoxArray.length,Wg=Ra?Ra.boxStartIndex:Ql.collisionBoxArray.length,xs=Ra?Ra.boxEndIndex:Ql.collisionBoxArray.length,ml=-1,Ls=function(sc,xf){return sc&&sc.circleDiameter?Math.max(sc.circleDiameter,xf):xf};ml=Ls(Zr,ml),ml=Ls(ca,ml),ml=Ls(on,ml);var Gi=(ml=Ls(Ra,ml))>-1?1:0;Gi&&(ml*=hr/24),Ql.glyphOffsetArray.length>=jr.MAX_GLYPHS&&yt("Too many glyphs being rendered in a tile. See https://github.com/mapbox/mapbox-gl-js/issues/2907"),he.sortKey!==void 0&&Ql.addToSortKeyRanges(Ql.symbolInstances.length,he.sortKey),Ql.symbolInstances.emplaceBack(Bh.x,Bh.y,Ta.right>=0?Ta.right:-1,Ta.center>=0?Ta.center:-1,Ta.left>=0?Ta.left:-1,Ta.vertical||-1,$i,Ho,Rs,ly,pu,Ug,Pg,Vg,Hg,Wg,xs,Am,jo,Mo,Ji,go,Gi,0,Qm,hi,Sl,ml)}(jl,Cv,wl,Xl,Fu,Sd,rf,jl.layers[0],jl.collisionBoxArray,yl.index,yl.sourceLayerIndex,jl.index,oh,Jp,cm,Is,Sm,Hm,Rp,yv,yl,Pu,oc,bh,iu)};if(Pd==="line")for(var pc=0,Pm=Su(yl.geometry,0,0,8192,8192);pc<Pm.length;pc+=1)for(var sg=Pm[pc],kv=0,Wm=Xc(sg,um,jv,Xl.vertical||Zs,Fu,24,Od,jl.overscaling,8192);kv<Wm.length;kv+=1){var Bv=Wm[kv];Zs&&tr(jl,Zs.text,Om,Bv)||Ju(sg,Bv)}else if(Pd==="line-center")for(var jh=0,fm=yl.geometry;jh<fm.length;jh+=1){var wm=fm[jh];if(wm.length>1){var bv=mf(wm,jv,Xl.vertical||Zs,Fu,24,Od);bv&&Ju(wm,bv)}}else if(yl.type==="Polygon")for(var kh=0,zv=uv(yl.geometry,0);kh<zv.length;kh+=1){var Tm=zv[kh],qp=Qc(Tm,16);Ju(Tm[0],new es(qp.x,qp.y,0))}else if(yl.type==="LineString")for(var sd=0,Dp=yl.geometry;sd<Dp.length;sd+=1){var Uv=Dp[sd];Ju(Uv,new es(Uv[0].x,Uv[0].y,0))}else if(yl.type==="Point")for(var lg=0,ld=yl.geometry;lg<ld.length;lg+=1)for(var Vv=0,Og=ld[lg];Vv<Og.length;Vv+=1){var Gm=Og[Vv];Ju([Gm],new es(Gm.x,Gm.y,0))}}(e,da,mo,Fc,m,tt,Hi,co,Jo,qc,V)},Dn=0,Kn=e.features;Dn<Kn.length;Dn+=1)gn();D&&e.generateCollisionDebugBuffers()},u.perspective=function(e,t,o,m,E){var D,V=1/Math.tan(t/2);return e[0]=V/o,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=V,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[11]=-1,e[12]=0,e[13]=0,e[15]=0,E!=null&&E!==1/0?(e[10]=(E+m)*(D=1/(m-E)),e[14]=2*E*m*D):(e[10]=-1,e[14]=-2*m),e},u.pick=function(e,t){for(var o={},m=0;m<t.length;m++){var E=t[m];E in e&&(o[E]=e[E])}return o},u.plugin=gc,u.polygonIntersectsPolygon=Ru,u.postMapLoadEvent=Be,u.postTurnstileEvent=St,u.potpack=Wa,u.refProperties=["type","source","source-layer","minzoom","maxzoom","filter","layout"],u.register=bi,u.registerForPluginStateChange=function(e){return e({pluginStatus:nu,pluginURL:Wf}),Rh.on("pluginStateChange",e),e},u.renderColorRamp=pf,u.rotate=function(e,t,o){var m=t[0],E=t[1],D=t[2],V=t[3],ae=Math.sin(o),je=Math.cos(o);return e[0]=m*je+D*ae,e[1]=E*je+V*ae,e[2]=m*-ae+D*je,e[3]=E*-ae+V*je,e},u.rotateX=function(e,t,o){var m=Math.sin(o),E=Math.cos(o),D=t[4],V=t[5],ae=t[6],je=t[7],tt=t[8],wt=t[9],Bt=t[10],Kt=t[11];return t!==e&&(e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e[12]=t[12],e[13]=t[13],e[14]=t[14],e[15]=t[15]),e[4]=D*E+tt*m,e[5]=V*E+wt*m,e[6]=ae*E+Bt*m,e[7]=je*E+Kt*m,e[8]=tt*E-D*m,e[9]=wt*E-V*m,e[10]=Bt*E-ae*m,e[11]=Kt*E-je*m,e},u.rotateZ=function(e,t,o){var m=Math.sin(o),E=Math.cos(o),D=t[0],V=t[1],ae=t[2],je=t[3],tt=t[4],wt=t[5],Bt=t[6],Kt=t[7];return t!==e&&(e[8]=t[8],e[9]=t[9],e[10]=t[10],e[11]=t[11],e[12]=t[12],e[13]=t[13],e[14]=t[14],e[15]=t[15]),e[0]=D*E+tt*m,e[1]=V*E+wt*m,e[2]=ae*E+Bt*m,e[3]=je*E+Kt*m,e[4]=tt*E-D*m,e[5]=wt*E-V*m,e[6]=Bt*E-ae*m,e[7]=Kt*E-je*m,e},u.scale=function(e,t,o){var m=o[0],E=o[1],D=o[2];return e[0]=t[0]*m,e[1]=t[1]*m,e[2]=t[2]*m,e[3]=t[3]*m,e[4]=t[4]*E,e[5]=t[5]*E,e[6]=t[6]*E,e[7]=t[7]*E,e[8]=t[8]*D,e[9]=t[9]*D,e[10]=t[10]*D,e[11]=t[11]*D,e[12]=t[12],e[13]=t[13],e[14]=t[14],e[15]=t[15],e},u.scale$1=function(e,t,o){return e[0]=t[0]*o,e[1]=t[1]*o,e[2]=t[2]*o,e[3]=t[3]*o,e},u.scale$2=function(e,t,o){return e[0]=t[0]*o,e[1]=t[1]*o,e[2]=t[2]*o,e},u.setCacheLimits=function(e,t){Nt=e,kt=t},u.setRTLTextPlugin=function(e,t,o){if(o===void 0&&(o=!1),nu==="deferred"||nu==="loading"||nu==="loaded")throw new Error("setRTLTextPlugin cannot be called multiple times.");Wf=Ye.resolveURL(e),nu="deferred",wf=t,Gf(),o||Tf()},u.sphericalToCartesian=function(e){var t=e[0],o=e[1],m=e[2];return o+=90,o*=Math.PI/180,m*=Math.PI/180,{x:t*Math.cos(o)*Math.sin(m),y:t*Math.sin(o)*Math.sin(m),z:t*Math.cos(m)}},u.sqrLen=function(e){var t=e[0],o=e[1];return t*t+o*o},u.styleSpec=Pe,u.sub=function(e,t,o){return e[0]=t[0]-o[0],e[1]=t[1]-o[1],e[2]=t[2]-o[2],e},u.symbolSize=js,u.transformMat3=function(e,t,o){var m=t[0],E=t[1],D=t[2];return e[0]=m*o[0]+E*o[3]+D*o[6],e[1]=m*o[1]+E*o[4]+D*o[7],e[2]=m*o[2]+E*o[5]+D*o[8],e},u.transformMat4=Yl,u.translate=function(e,t,o){var m,E,D,V,ae,je,tt,wt,Bt,Kt,pr,Ir,Ar=o[0],$r=o[1],Gr=o[2];return t===e?(e[12]=t[0]*Ar+t[4]*$r+t[8]*Gr+t[12],e[13]=t[1]*Ar+t[5]*$r+t[9]*Gr+t[13],e[14]=t[2]*Ar+t[6]*$r+t[10]*Gr+t[14],e[15]=t[3]*Ar+t[7]*$r+t[11]*Gr+t[15]):(E=t[1],D=t[2],V=t[3],ae=t[4],je=t[5],tt=t[6],wt=t[7],Bt=t[8],Kt=t[9],pr=t[10],Ir=t[11],e[0]=m=t[0],e[1]=E,e[2]=D,e[3]=V,e[4]=ae,e[5]=je,e[6]=tt,e[7]=wt,e[8]=Bt,e[9]=Kt,e[10]=pr,e[11]=Ir,e[12]=m*Ar+ae*$r+Bt*Gr+t[12],e[13]=E*Ar+je*$r+Kt*Gr+t[13],e[14]=D*Ar+tt*$r+pr*Gr+t[14],e[15]=V*Ar+wt*$r+Ir*Gr+t[15]),e},u.triggerPluginCompletionEvent=Qd,u.uniqueId=We,u.validateCustomStyleLayer=function(e){var t=[],o=e.id;return o===void 0&&t.push({message:"layers."+o+': missing required property "id"'}),e.render===void 0&&t.push({message:"layers."+o+': missing required method "render"'}),e.renderingMode&&e.renderingMode!=="2d"&&e.renderingMode!=="3d"&&t.push({message:"layers."+o+': property "renderingMode" must be either "2d" or "3d"'}),t},u.validateLight=lf,u.validateStyle=Ld,u.values=function(e){var t=[];for(var o in e)t.push(e[o]);return t},u.vectorTile=Cd,u.version="1.13.2",u.warnOnce=yt,u.webpSupported=nt,u.window=Te,u.wrap=Ce}),b(["./shared"],function(u){"use strict";function H(ue){var ge=typeof ue;if(ge==="number"||ge==="boolean"||ge==="string"||ue==null)return JSON.stringify(ue);if(Array.isArray(ue)){for(var De="[",Ee=0,be=ue;Ee<be.length;Ee+=1)De+=H(be[Ee])+",";return De+"]"}for(var rt=Object.keys(ue).sort(),de="{",Pe=0;Pe<rt.length;Pe++)de+=JSON.stringify(rt[Pe])+":"+H(ue[rt[Pe]])+",";return de+"}"}function k(ue){for(var ge="",De=0,Ee=u.refProperties;De<Ee.length;De+=1)ge+="/"+H(ue[Ee[De]]);return ge}var Z=function(ge){this.keyCache={},ge&&this.replace(ge)};Z.prototype.replace=function(ue){this._layerConfigs={},this._layers={},this.update(ue,[])},Z.prototype.update=function(ue,ge){for(var De=this,Ee=0,be=ue;Ee<be.length;Ee+=1){var rt=be[Ee];this._layerConfigs[rt.id]=rt;var de=this._layers[rt.id]=u.createStyleLayer(rt);de._featureFilter=u.featureFilter(de.filter),this.keyCache[rt.id]&&delete this.keyCache[rt.id]}for(var Pe=0,xe=ge;Pe<xe.length;Pe+=1){var Oe=xe[Pe];delete this.keyCache[Oe],delete this._layerConfigs[Oe],delete this._layers[Oe]}this.familiesBySource={};for(var dt=0,Gt=function(an,dn){for(var Rn={},zn=0;zn<an.length;zn++){var Qn=dn&&dn[an[zn].id]||k(an[zn]);dn&&(dn[an[zn].id]=Qn);var Ma=Rn[Qn];Ma||(Ma=Rn[Qn]=[]),Ma.push(an[zn])}var Ca=[];for(var ia in Rn)Ca.push(Rn[ia]);return Ca}(u.values(this._layerConfigs),this.keyCache);dt<Gt.length;dt+=1){var $t=Gt[dt].map(function(an){return De._layers[an.id]}),nr=$t[0];if(nr.visibility!=="none"){var lr=nr.source||"",Dr=this.familiesBySource[lr];Dr||(Dr=this.familiesBySource[lr]={});var Pr=nr.sourceLayer||"_geojsonTileLayer",Wr=Dr[Pr];Wr||(Wr=Dr[Pr]=[]),Wr.push($t)}}};var oe=function(ge){var De={},Ee=[];for(var be in ge){var rt=ge[be],de=De[be]={};for(var Pe in rt){var xe=rt[+Pe];if(xe&&xe.bitmap.width!==0&&xe.bitmap.height!==0){var Oe={x:0,y:0,w:xe.bitmap.width+2,h:xe.bitmap.height+2};Ee.push(Oe),de[Pe]={rect:Oe,metrics:xe.metrics}}}}var dt=u.potpack(Ee),Gt=new u.AlphaImage({width:dt.w||1,height:dt.h||1});for(var $t in ge){var nr=ge[$t];for(var lr in nr){var Dr=nr[+lr];if(Dr&&Dr.bitmap.width!==0&&Dr.bitmap.height!==0){var Pr=De[$t][lr].rect;u.AlphaImage.copy(Dr.bitmap,Gt,{x:0,y:0},{x:Pr.x+1,y:Pr.y+1},Dr.bitmap)}}}this.image=Gt,this.positions=De};u.register("GlyphAtlas",oe);var ne=function(ge){this.tileID=new u.OverscaledTileID(ge.tileID.overscaledZ,ge.tileID.wrap,ge.tileID.canonical.z,ge.tileID.canonical.x,ge.tileID.canonical.y),this.uid=ge.uid,this.zoom=ge.zoom,this.pixelRatio=ge.pixelRatio,this.tileSize=ge.tileSize,this.source=ge.source,this.overscaling=this.tileID.overscaleFactor(),this.showCollisionBoxes=ge.showCollisionBoxes,this.collectResourceTiming=!!ge.collectResourceTiming,this.returnDependencies=!!ge.returnDependencies,this.promoteId=ge.promoteId};function Te(ue,ge,De){for(var Ee=new u.EvaluationParameters(ge),be=0,rt=ue;be<rt.length;be+=1)rt[be].recalculate(Ee,De)}function at(ue,ge){var De=u.getArrayBuffer(ue.request,function(Ee,be,rt,de){Ee?ge(Ee):be&&ge(null,{vectorTile:new u.vectorTile.VectorTile(new u.pbf(be)),rawData:be,cacheControl:rt,expires:de})});return function(){De.cancel(),ge()}}ne.prototype.parse=function(ue,ge,De,Ee,be){var rt=this;this.status="parsing",this.data=ue,this.collisionBoxArray=new u.CollisionBoxArray;var de=new u.DictionaryCoder(Object.keys(ue.layers).sort()),Pe=new u.FeatureIndex(this.tileID,this.promoteId);Pe.bucketLayerIDs=[];var xe,Oe,dt,Gt,$t={},nr={featureIndex:Pe,iconDependencies:{},patternDependencies:{},glyphDependencies:{},availableImages:De},lr=ge.familiesBySource[this.source];for(var Dr in lr){var Pr=ue.layers[Dr];if(Pr){Pr.version===1&&u.warnOnce('Vector tile source "'+this.source+'" layer "'+Dr+'" does not use vector tile spec v2 and therefore may have some rendering errors.');for(var Wr=de.encode(Dr),an=[],dn=0;dn<Pr.length;dn++){var Rn=Pr.feature(dn),zn=Pe.getId(Rn,Dr);an.push({feature:Rn,id:zn,index:dn,sourceLayerIndex:Wr})}for(var Qn=0,Ma=lr[Dr];Qn<Ma.length;Qn+=1){var Ca=Ma[Qn],ia=Ca[0];ia.minzoom&&this.zoom<Math.floor(ia.minzoom)||ia.maxzoom&&this.zoom>=ia.maxzoom||ia.visibility!=="none"&&(Te(Ca,this.zoom,De),($t[ia.id]=ia.createBucket({index:Pe.bucketLayerIDs.length,layers:Ca,zoom:this.zoom,pixelRatio:this.pixelRatio,overscaling:this.overscaling,collisionBoxArray:this.collisionBoxArray,sourceLayerIndex:Wr,sourceID:this.source})).populate(an,nr,this.tileID.canonical),Pe.bucketLayerIDs.push(Ca.map(function(Da){return Da.id})))}}}var _a=u.mapObject(nr.glyphDependencies,function(Da){return Object.keys(Da).map(Number)});Object.keys(_a).length?Ee.send("getGlyphs",{uid:this.uid,stacks:_a},function(Da,Fa){xe||(xe=Da,Oe=Fa,ni.call(rt))}):Oe={};var $a=Object.keys(nr.iconDependencies);$a.length?Ee.send("getImages",{icons:$a,source:this.source,tileID:this.tileID,type:"icons"},function(Da,Fa){xe||(xe=Da,dt=Fa,ni.call(rt))}):dt={};var ra=Object.keys(nr.patternDependencies);function ni(){if(xe)return be(xe);if(Oe&&dt&&Gt){var Da=new oe(Oe),Fa=new u.ImageAtlas(dt,Gt);for(var ba in $t){var Oi=$t[ba];Oi instanceof u.SymbolBucket?(Te(Oi.layers,this.zoom,De),u.performSymbolLayout(Oi,Oe,Da.positions,dt,Fa.iconPositions,this.showCollisionBoxes,this.tileID.canonical)):Oi.hasPattern&&(Oi instanceof u.LineBucket||Oi instanceof u.FillBucket||Oi instanceof u.FillExtrusionBucket)&&(Te(Oi.layers,this.zoom,De),Oi.addFeatures(nr,this.tileID.canonical,Fa.patternPositions))}this.status="done",be(null,{buckets:u.values($t).filter(function(Do){return!Do.isEmpty()}),featureIndex:Pe,collisionBoxArray:this.collisionBoxArray,glyphAtlasImage:Da.image,imageAtlas:Fa,glyphMap:this.returnDependencies?Oe:null,iconMap:this.returnDependencies?dt:null,glyphPositions:this.returnDependencies?Da.positions:null})}}ra.length?Ee.send("getImages",{icons:ra,source:this.source,tileID:this.tileID,type:"patterns"},function(Da,Fa){xe||(xe=Da,Gt=Fa,ni.call(rt))}):Gt={},ni.call(this)};var ve=function(ge,De,Ee,be){this.actor=ge,this.layerIndex=De,this.availableImages=Ee,this.loadVectorData=be||at,this.loading={},this.loaded={}};ve.prototype.loadTile=function(ue,ge){var De=this,Ee=ue.uid;this.loading||(this.loading={});var be=!!(ue&&ue.request&&ue.request.collectResourceTiming)&&new u.RequestPerformance(ue.request),rt=this.loading[Ee]=new ne(ue);rt.abort=this.loadVectorData(ue,function(de,Pe){if(delete De.loading[Ee],de||!Pe)return rt.status="done",De.loaded[Ee]=rt,ge(de);var xe=Pe.rawData,Oe={};Pe.expires&&(Oe.expires=Pe.expires),Pe.cacheControl&&(Oe.cacheControl=Pe.cacheControl);var dt={};if(be){var Gt=be.finish();Gt&&(dt.resourceTiming=JSON.parse(JSON.stringify(Gt)))}rt.vectorTile=Pe.vectorTile,rt.parse(Pe.vectorTile,De.layerIndex,De.availableImages,De.actor,function($t,nr){if($t||!nr)return ge($t);ge(null,u.extend({rawTileData:xe.slice(0)},nr,Oe,dt))}),De.loaded=De.loaded||{},De.loaded[Ee]=rt})},ve.prototype.reloadTile=function(ue,ge){var De=this,Ee=this.loaded,be=ue.uid,rt=this;if(Ee&&Ee[be]){var de=Ee[be];de.showCollisionBoxes=ue.showCollisionBoxes;var Pe=function(Oe,dt){var Gt=de.reloadCallback;Gt&&(delete de.reloadCallback,de.parse(de.vectorTile,rt.layerIndex,De.availableImages,rt.actor,Gt)),ge(Oe,dt)};de.status==="parsing"?de.reloadCallback=Pe:de.status==="done"&&(de.vectorTile?de.parse(de.vectorTile,this.layerIndex,this.availableImages,this.actor,Pe):Pe())}},ve.prototype.abortTile=function(ue,ge){var De=this.loading,Ee=ue.uid;De&&De[Ee]&&De[Ee].abort&&(De[Ee].abort(),delete De[Ee]),ge()},ve.prototype.removeTile=function(ue,ge){var De=this.loaded,Ee=ue.uid;De&&De[Ee]&&delete De[Ee],ge()};var we=u.window.ImageBitmap,I=function(){this.loaded={}};function Ce(ue,ge){if(ue.length!==0){et(ue[0],ge);for(var De=1;De<ue.length;De++)et(ue[De],!ge)}}function et(ue,ge){for(var De=0,Ee=0,be=ue.length,rt=be-1;Ee<be;rt=Ee++)De+=(ue[Ee][0]-ue[rt][0])*(ue[rt][1]+ue[Ee][1]);De>=0!=!!ge&&ue.reverse()}I.prototype.loadTile=function(ue,ge){var De=ue.uid,Ee=ue.encoding,be=ue.rawImageData,rt=we&&be instanceof we?this.getImageData(be):be,de=new u.DEMData(De,rt,Ee);this.loaded=this.loaded||{},this.loaded[De]=de,ge(null,de)},I.prototype.getImageData=function(ue){this.offscreenCanvas&&this.offscreenCanvasContext||(this.offscreenCanvas=new OffscreenCanvas(ue.width,ue.height),this.offscreenCanvasContext=this.offscreenCanvas.getContext("2d")),this.offscreenCanvas.width=ue.width,this.offscreenCanvas.height=ue.height,this.offscreenCanvasContext.drawImage(ue,0,0,ue.width,ue.height);var ge=this.offscreenCanvasContext.getImageData(-1,-1,ue.width+2,ue.height+2);return this.offscreenCanvasContext.clearRect(0,0,this.offscreenCanvas.width,this.offscreenCanvas.height),new u.RGBAImage({width:ge.width,height:ge.height},ge.data)},I.prototype.removeTile=function(ue){var ge=this.loaded,De=ue.uid;ge&&ge[De]&&delete ge[De]};var Et=u.vectorTile.VectorTileFeature.prototype.toGeoJSON,We=function(ge){this._feature=ge,this.extent=u.EXTENT,this.type=ge.type,this.properties=ge.tags,"id"in ge&&!isNaN(ge.id)&&(this.id=parseInt(ge.id,10))};We.prototype.loadGeometry=function(){if(this._feature.type===1){for(var ue=[],ge=0,De=this._feature.geometry;ge<De.length;ge+=1){var Ee=De[ge];ue.push([new u.Point$1(Ee[0],Ee[1])])}return ue}for(var be=[],rt=0,de=this._feature.geometry;rt<de.length;rt+=1){for(var Pe=[],xe=0,Oe=de[rt];xe<Oe.length;xe+=1){var dt=Oe[xe];Pe.push(new u.Point$1(dt[0],dt[1]))}be.push(Pe)}return be},We.prototype.toGeoJSON=function(ue,ge,De){return Et.call(this,ue,ge,De)};var ct=function(ge){this.layers={_geojsonTileLayer:this},this.name="_geojsonTileLayer",this.extent=u.EXTENT,this.length=ge.length,this._features=ge};ct.prototype.feature=function(ue){return new We(this._features[ue])};var ce=u.vectorTile.VectorTileFeature,Vt=It;function It(ue,ge){this.options=ge||{},this.features=ue,this.length=ue.length}function Mt(ue,ge){this.id=typeof ue.id=="number"?ue.id:void 0,this.type=ue.type,this.rawGeometry=ue.type===1?[ue.geometry]:ue.geometry,this.properties=ue.tags,this.extent=ge||4096}It.prototype.feature=function(ue){return new Mt(this.features[ue],this.options.extent)},Mt.prototype.loadGeometry=function(){var ue=this.rawGeometry;this.geometry=[];for(var ge=0;ge<ue.length;ge++){for(var De=ue[ge],Ee=[],be=0;be<De.length;be++)Ee.push(new u.Point$1(De[be][0],De[be][1]));this.geometry.push(Ee)}return this.geometry},Mt.prototype.bbox=function(){this.geometry||this.loadGeometry();for(var ue=this.geometry,ge=1/0,De=-1/0,Ee=1/0,be=-1/0,rt=0;rt<ue.length;rt++)for(var de=ue[rt],Pe=0;Pe<de.length;Pe++){var xe=de[Pe];ge=Math.min(ge,xe.x),De=Math.max(De,xe.x),Ee=Math.min(Ee,xe.y),be=Math.max(be,xe.y)}return[ge,Ee,De,be]},Mt.prototype.toGeoJSON=ce.prototype.toGeoJSON;var Tt=lt,ye=Vt;function lt(ue){var ge=new u.pbf;return function(De,Ee){for(var be in De.layers)Ee.writeMessage(3,yt,De.layers[be])}(ue,ge),ge.finish()}function yt(ue,ge){var De;ge.writeVarintField(15,ue.version||1),ge.writeStringField(1,ue.name||""),ge.writeVarintField(5,ue.extent||4096);var Ee={keys:[],values:[],keycache:{},valuecache:{}};for(De=0;De<ue.length;De++)Ee.feature=ue.feature(De),ge.writeMessage(2,Dt,Ee);var be=Ee.keys;for(De=0;De<be.length;De++)ge.writeStringField(3,be[De]);var rt=Ee.values;for(De=0;De<rt.length;De++)ge.writeMessage(4,J,rt[De])}function Dt(ue,ge){var De=ue.feature;De.id!==void 0&&ge.writeVarintField(1,De.id),ge.writeMessage(2,Jt,ue),ge.writeVarintField(3,De.type),ge.writeMessage(4,ie,De)}function Jt(ue,ge){var De=ue.feature,Ee=ue.keys,be=ue.values,rt=ue.keycache,de=ue.valuecache;for(var Pe in De.properties){var xe=rt[Pe];xe===void 0&&(Ee.push(Pe),rt[Pe]=xe=Ee.length-1),ge.writeVarint(xe);var Oe=De.properties[Pe],dt=typeof Oe;dt!=="string"&&dt!=="boolean"&&dt!=="number"&&(Oe=JSON.stringify(Oe));var Gt=dt+":"+Oe,$t=de[Gt];$t===void 0&&(be.push(Oe),de[Gt]=$t=be.length-1),ge.writeVarint($t)}}function At(ue,ge){return(ge<<3)+(7&ue)}function vt(ue){return ue<<1^ue>>31}function ie(ue,ge){for(var De=ue.loadGeometry(),Ee=ue.type,be=0,rt=0,de=De.length,Pe=0;Pe<de;Pe++){var xe=De[Pe],Oe=1;Ee===1&&(Oe=xe.length),ge.writeVarint(At(1,Oe));for(var dt=Ee===3?xe.length-1:xe.length,Gt=0;Gt<dt;Gt++){Gt===1&&Ee!==1&&ge.writeVarint(At(2,dt-1));var $t=xe[Gt].x-be,nr=xe[Gt].y-rt;ge.writeVarint(vt($t)),ge.writeVarint(vt(nr)),be+=$t,rt+=nr}Ee===3&&ge.writeVarint(At(7,1))}}function J(ue,ge){var De=typeof ue;De==="string"?ge.writeStringField(1,ue):De==="boolean"?ge.writeBooleanField(7,ue):De==="number"&&(ue%1!=0?ge.writeDoubleField(3,ue):ue<0?ge.writeSVarintField(6,ue):ge.writeVarintField(5,ue))}function ee(ue,ge,De,Ee){Ie(ue,De,Ee),Ie(ge,2*De,2*Ee),Ie(ge,2*De+1,2*Ee+1)}function Ie(ue,ge,De){var Ee=ue[ge];ue[ge]=ue[De],ue[De]=Ee}function me(ue,ge,De,Ee){var be=ue-De,rt=ge-Ee;return be*be+rt*rt}Tt.fromVectorTileJs=lt,Tt.fromGeojsonVt=function(ue,ge){ge=ge||{};var De={};for(var Ee in ue)De[Ee]=new Vt(ue[Ee].features,ge),De[Ee].name=Ee,De[Ee].version=ge.version,De[Ee].extent=ge.extent;return lt({layers:De})},Tt.GeoJSONWrapper=ye;var Ve=function(ge){return ge[0]},Re=function(ge){return ge[1]},bt=function(ge,De,Ee,be,rt){De===void 0&&(De=Ve),Ee===void 0&&(Ee=Re),be===void 0&&(be=64),rt===void 0&&(rt=Float64Array),this.nodeSize=be,this.points=ge;for(var de=ge.length<65536?Uint16Array:Uint32Array,Pe=this.ids=new de(ge.length),xe=this.coords=new rt(2*ge.length),Oe=0;Oe<ge.length;Oe++)Pe[Oe]=Oe,xe[2*Oe]=De(ge[Oe]),xe[2*Oe+1]=Ee(ge[Oe]);(function dt(Gt,$t,nr,lr,Dr,Pr){if(!(Dr-lr<=nr)){var Wr=lr+Dr>>1;(function an(dn,Rn,zn,Qn,Ma,Ca){for(;Ma>Qn;){if(Ma-Qn>600){var ia=Ma-Qn+1,_a=zn-Qn+1,$a=Math.log(ia),ra=.5*Math.exp(2*$a/3),ni=.5*Math.sqrt($a*ra*(ia-ra)/ia)*(_a-ia/2<0?-1:1);an(dn,Rn,zn,Math.max(Qn,Math.floor(zn-_a*ra/ia+ni)),Math.min(Ma,Math.floor(zn+(ia-_a)*ra/ia+ni)),Ca)}var Da=Rn[2*zn+Ca],Fa=Qn,ba=Ma;for(ee(dn,Rn,Qn,zn),Rn[2*Ma+Ca]>Da&&ee(dn,Rn,Qn,Ma);Fa<ba;){for(ee(dn,Rn,Fa,ba),Fa++,ba--;Rn[2*Fa+Ca]<Da;)Fa++;for(;Rn[2*ba+Ca]>Da;)ba--}Rn[2*Qn+Ca]===Da?ee(dn,Rn,Qn,ba):ee(dn,Rn,++ba,Ma),ba<=zn&&(Qn=ba+1),zn<=ba&&(Ma=ba-1)}})(Gt,$t,Wr,lr,Dr,Pr%2),dt(Gt,$t,nr,lr,Wr-1,Pr+1),dt(Gt,$t,nr,Wr+1,Dr,Pr+1)}})(Pe,xe,be,0,Pe.length-1,0)};bt.prototype.range=function(ue,ge,De,Ee){return function(be,rt,de,Pe,xe,Oe,dt){for(var Gt,$t,nr=[0,be.length-1,0],lr=[];nr.length;){var Dr=nr.pop(),Pr=nr.pop(),Wr=nr.pop();if(Pr-Wr<=dt)for(var an=Wr;an<=Pr;an++)$t=rt[2*an+1],(Gt=rt[2*an])>=de&&Gt<=xe&&$t>=Pe&&$t<=Oe&&lr.push(be[an]);else{var dn=Math.floor((Wr+Pr)/2);$t=rt[2*dn+1],(Gt=rt[2*dn])>=de&&Gt<=xe&&$t>=Pe&&$t<=Oe&&lr.push(be[dn]);var Rn=(Dr+1)%2;(Dr===0?de<=Gt:Pe<=$t)&&(nr.push(Wr),nr.push(dn-1),nr.push(Rn)),(Dr===0?xe>=Gt:Oe>=$t)&&(nr.push(dn+1),nr.push(Pr),nr.push(Rn))}}return lr}(this.ids,this.coords,ue,ge,De,Ee,this.nodeSize)},bt.prototype.within=function(ue,ge,De){return function(Ee,be,rt,de,Pe,xe){for(var Oe=[0,Ee.length-1,0],dt=[],Gt=Pe*Pe;Oe.length;){var $t=Oe.pop(),nr=Oe.pop(),lr=Oe.pop();if(nr-lr<=xe)for(var Dr=lr;Dr<=nr;Dr++)me(be[2*Dr],be[2*Dr+1],rt,de)<=Gt&&dt.push(Ee[Dr]);else{var Pr=Math.floor((lr+nr)/2),Wr=be[2*Pr],an=be[2*Pr+1];me(Wr,an,rt,de)<=Gt&&dt.push(Ee[Pr]);var dn=($t+1)%2;($t===0?rt-Pe<=Wr:de-Pe<=an)&&(Oe.push(lr),Oe.push(Pr-1),Oe.push(dn)),($t===0?rt+Pe>=Wr:de+Pe>=an)&&(Oe.push(Pr+1),Oe.push(nr),Oe.push(dn))}}return dt}(this.ids,this.coords,ue,ge,De,this.nodeSize)};var Pt={minZoom:0,maxZoom:16,minPoints:2,radius:40,extent:512,nodeSize:64,log:!1,generateId:!1,reduce:null,map:function(ge){return ge}},ht=function(ge){this.options=Ne(Object.create(Pt),ge),this.trees=new Array(this.options.maxZoom+1)};function Ye(ue,ge,De,Ee,be){return{x:ue,y:ge,zoom:1/0,id:De,parentId:-1,numPoints:Ee,properties:be}}function Ke(ue,ge){var De=ue.geometry.coordinates,Ee=De[1];return{x:Xe(De[0]),y:xt(Ee),zoom:1/0,index:ge,parentId:-1}}function nt(ue){return{type:"Feature",id:ue.id,properties:Ot(ue),geometry:{type:"Point",coordinates:[(Ee=ue.x,360*(Ee-.5)),(ge=ue.y,De=(180-360*ge)*Math.PI/180,360*Math.atan(Math.exp(De))/Math.PI-90)]}};var ge,De,Ee}function Ot(ue){var ge=ue.numPoints,De=ge>=1e4?Math.round(ge/1e3)+"k":ge>=1e3?Math.round(ge/100)/10+"k":ge;return Ne(Ne({},ue.properties),{cluster:!0,cluster_id:ue.id,point_count:ge,point_count_abbreviated:De})}function Xe(ue){return ue/360+.5}function xt(ue){var ge=Math.sin(ue*Math.PI/180),De=.5-.25*Math.log((1+ge)/(1-ge))/Math.PI;return De<0?0:De>1?1:De}function Ne(ue,ge){for(var De in ge)ue[De]=ge[De];return ue}function B(ue){return ue.x}function z(ue){return ue.y}function q(ue,ge,De,Ee,be,rt){var de=be-De,Pe=rt-Ee;if(de!==0||Pe!==0){var xe=((ue-De)*de+(ge-Ee)*Pe)/(de*de+Pe*Pe);xe>1?(De=be,Ee=rt):xe>0&&(De+=de*xe,Ee+=Pe*xe)}return(de=ue-De)*de+(Pe=ge-Ee)*Pe}function S(ue,ge,De,Ee){var be={id:ue===void 0?null:ue,type:ge,geometry:De,tags:Ee,minX:1/0,minY:1/0,maxX:-1/0,maxY:-1/0};return function(rt){var de=rt.geometry,Pe=rt.type;if(Pe==="Point"||Pe==="MultiPoint"||Pe==="LineString")K(rt,de);else if(Pe==="Polygon"||Pe==="MultiLineString")for(var xe=0;xe<de.length;xe++)K(rt,de[xe]);else if(Pe==="MultiPolygon")for(xe=0;xe<de.length;xe++)for(var Oe=0;Oe<de[xe].length;Oe++)K(rt,de[xe][Oe])}(be),be}function K(ue,ge){for(var De=0;De<ge.length;De+=3)ue.minX=Math.min(ue.minX,ge[De]),ue.minY=Math.min(ue.minY,ge[De+1]),ue.maxX=Math.max(ue.maxX,ge[De]),ue.maxY=Math.max(ue.maxY,ge[De+1])}function fe(ue,ge,De,Ee){if(ge.geometry){var be=ge.geometry.coordinates,rt=ge.geometry.type,de=Math.pow(De.tolerance/((1<<De.maxZoom)*De.extent),2),Pe=[],xe=ge.id;if(De.promoteId?xe=ge.properties[De.promoteId]:De.generateId&&(xe=Ee||0),rt==="Point")Fe(be,Pe);else if(rt==="MultiPoint")for(var Oe=0;Oe<be.length;Oe++)Fe(be[Oe],Pe);else if(rt==="LineString")pe(be,Pe,de,!1);else if(rt==="MultiLineString"){if(De.lineMetrics){for(Oe=0;Oe<be.length;Oe++)pe(be[Oe],Pe=[],de,!1),ue.push(S(xe,"LineString",Pe,ge.properties));return}Me(be,Pe,de,!1)}else if(rt==="Polygon")Me(be,Pe,de,!0);else{if(rt!=="MultiPolygon"){if(rt==="GeometryCollection"){for(Oe=0;Oe<ge.geometry.geometries.length;Oe++)fe(ue,{id:xe,geometry:ge.geometry.geometries[Oe],properties:ge.properties},De,Ee);return}throw new Error("Input data is not a valid GeoJSON object.")}for(Oe=0;Oe<be.length;Oe++){var dt=[];Me(be[Oe],dt,de,!0),Pe.push(dt)}}ue.push(S(xe,rt,Pe,ge.properties))}}function Fe(ue,ge){ge.push(U(ue[0])),ge.push(le(ue[1])),ge.push(0)}function pe(ue,ge,De,Ee){for(var be,rt,de=0,Pe=0;Pe<ue.length;Pe++){var xe=U(ue[Pe][0]),Oe=le(ue[Pe][1]);ge.push(xe),ge.push(Oe),ge.push(0),Pe>0&&(de+=Ee?(be*Oe-xe*rt)/2:Math.sqrt(Math.pow(xe-be,2)+Math.pow(Oe-rt,2))),be=xe,rt=Oe}var dt=ge.length-3;ge[2]=1,function Gt($t,nr,lr,Dr){for(var Pr,Wr=Dr,an=lr-nr>>1,dn=lr-nr,Rn=$t[nr],zn=$t[nr+1],Qn=$t[lr],Ma=$t[lr+1],Ca=nr+3;Ca<lr;Ca+=3){var ia=q($t[Ca],$t[Ca+1],Rn,zn,Qn,Ma);if(ia>Wr)Pr=Ca,Wr=ia;else if(ia===Wr){var _a=Math.abs(Ca-an);_a<dn&&(Pr=Ca,dn=_a)}}Wr>Dr&&(Pr-nr>3&&Gt($t,nr,Pr,Dr),$t[Pr+2]=Wr,lr-Pr>3&&Gt($t,Pr,lr,Dr))}(ge,0,dt,De),ge[dt+2]=1,ge.size=Math.abs(de),ge.start=0,ge.end=ge.size}function Me(ue,ge,De,Ee){for(var be=0;be<ue.length;be++){var rt=[];pe(ue[be],rt,De,Ee),ge.push(rt)}}function U(ue){return ue/360+.5}function le(ue){var ge=Math.sin(ue*Math.PI/180),De=.5-.25*Math.log((1+ge)/(1-ge))/Math.PI;return De<0?0:De>1?1:De}function Le(ue,ge,De,Ee,be,rt,de,Pe){if(Ee/=ge,rt>=(De/=ge)&&de<Ee)return ue;if(de<De||rt>=Ee)return null;for(var xe=[],Oe=0;Oe<ue.length;Oe++){var dt=ue[Oe],Gt=dt.geometry,$t=dt.type,nr=be===0?dt.minX:dt.minY,lr=be===0?dt.maxX:dt.maxY;if(nr>=De&&lr<Ee)xe.push(dt);else if(!(lr<De||nr>=Ee)){var Dr=[];if($t==="Point"||$t==="MultiPoint")ot(Gt,Dr,De,Ee,be);else if($t==="LineString")St(Gt,Dr,De,Ee,be,!1,Pe.lineMetrics);else if($t==="MultiLineString")Be(Gt,Dr,De,Ee,be,!1);else if($t==="Polygon")Be(Gt,Dr,De,Ee,be,!0);else if($t==="MultiPolygon")for(var Pr=0;Pr<Gt.length;Pr++){var Wr=[];Be(Gt[Pr],Wr,De,Ee,be,!0),Wr.length&&Dr.push(Wr)}if(Dr.length){if(Pe.lineMetrics&&$t==="LineString"){for(Pr=0;Pr<Dr.length;Pr++)xe.push(S(dt.id,$t,Dr[Pr],dt.tags));continue}$t!=="LineString"&&$t!=="MultiLineString"||(Dr.length===1?($t="LineString",Dr=Dr[0]):$t="MultiLineString"),$t!=="Point"&&$t!=="MultiPoint"||($t=Dr.length===3?"Point":"MultiPoint"),xe.push(S(dt.id,$t,Dr,dt.tags))}}}return xe.length?xe:null}function ot(ue,ge,De,Ee,be){for(var rt=0;rt<ue.length;rt+=3){var de=ue[rt+be];de>=De&&de<=Ee&&(ge.push(ue[rt]),ge.push(ue[rt+1]),ge.push(ue[rt+2]))}}function St(ue,ge,De,Ee,be,rt,de){for(var Pe,xe,Oe=Ge(ue),dt=be===0?kt:ft,Gt=ue.start,$t=0;$t<ue.length-3;$t+=3){var nr=ue[$t],lr=ue[$t+1],Dr=ue[$t+2],Pr=ue[$t+3],Wr=ue[$t+4],an=be===0?nr:lr,dn=be===0?Pr:Wr,Rn=!1;de&&(Pe=Math.sqrt(Math.pow(nr-Pr,2)+Math.pow(lr-Wr,2))),an<De?dn>De&&(xe=dt(Oe,nr,lr,Pr,Wr,De),de&&(Oe.start=Gt+Pe*xe)):an>Ee?dn<Ee&&(xe=dt(Oe,nr,lr,Pr,Wr,Ee),de&&(Oe.start=Gt+Pe*xe)):Nt(Oe,nr,lr,Dr),dn<De&&an>=De&&(xe=dt(Oe,nr,lr,Pr,Wr,De),Rn=!0),dn>Ee&&an<=Ee&&(xe=dt(Oe,nr,lr,Pr,Wr,Ee),Rn=!0),!rt&&Rn&&(de&&(Oe.end=Gt+Pe*xe),ge.push(Oe),Oe=Ge(ue)),de&&(Gt+=Pe)}var zn=ue.length-3;nr=ue[zn],lr=ue[zn+1],Dr=ue[zn+2],(an=be===0?nr:lr)>=De&&an<=Ee&&Nt(Oe,nr,lr,Dr),zn=Oe.length-3,rt&&zn>=3&&(Oe[zn]!==Oe[0]||Oe[zn+1]!==Oe[1])&&Nt(Oe,Oe[0],Oe[1],Oe[2]),Oe.length&&ge.push(Oe)}function Ge(ue){var ge=[];return ge.size=ue.size,ge.start=ue.start,ge.end=ue.end,ge}function Be(ue,ge,De,Ee,be,rt){for(var de=0;de<ue.length;de++)St(ue[de],ge,De,Ee,be,rt,!1)}function Nt(ue,ge,De,Ee){ue.push(ge),ue.push(De),ue.push(Ee)}function kt(ue,ge,De,Ee,be,rt){var de=(rt-ge)/(Ee-ge);return ue.push(rt),ue.push(De+(be-De)*de),ue.push(1),de}function ft(ue,ge,De,Ee,be,rt){var de=(rt-De)/(be-De);return ue.push(ge+(Ee-ge)*de),ue.push(rt),ue.push(1),de}function ut(ue,ge){for(var De=[],Ee=0;Ee<ue.length;Ee++){var be,rt=ue[Ee],de=rt.type;if(de==="Point"||de==="MultiPoint"||de==="LineString")be=Ze(rt.geometry,ge);else if(de==="MultiLineString"||de==="Polygon"){be=[];for(var Pe=0;Pe<rt.geometry.length;Pe++)be.push(Ze(rt.geometry[Pe],ge))}else if(de==="MultiPolygon")for(be=[],Pe=0;Pe<rt.geometry.length;Pe++){for(var xe=[],Oe=0;Oe<rt.geometry[Pe].length;Oe++)xe.push(Ze(rt.geometry[Pe][Oe],ge));be.push(xe)}De.push(S(rt.id,de,be,rt.tags))}return De}function Ze(ue,ge){var De=[];De.size=ue.size,ue.start!==void 0&&(De.start=ue.start,De.end=ue.end);for(var Ee=0;Ee<ue.length;Ee+=3)De.push(ue[Ee]+ge,ue[Ee+1],ue[Ee+2]);return De}function Qt(ue,ge){if(ue.transformed)return ue;var De,Ee,be,rt=1<<ue.z,de=ue.x,Pe=ue.y;for(De=0;De<ue.features.length;De++){var xe=ue.features[De],Oe=xe.geometry,dt=xe.type;if(xe.geometry=[],dt===1)for(Ee=0;Ee<Oe.length;Ee+=2)xe.geometry.push(ar(Oe[Ee],Oe[Ee+1],ge,rt,de,Pe));else for(Ee=0;Ee<Oe.length;Ee++){var Gt=[];for(be=0;be<Oe[Ee].length;be+=2)Gt.push(ar(Oe[Ee][be],Oe[Ee][be+1],ge,rt,de,Pe));xe.geometry.push(Gt)}}return ue.transformed=!0,ue}function ar(ue,ge,De,Ee,be,rt){return[Math.round(De*(ue*Ee-be)),Math.round(De*(ge*Ee-rt))]}function zr(ue,ge,De,Ee,be){for(var rt=ge===be.maxZoom?0:be.tolerance/((1<<ge)*be.extent),de={features:[],numPoints:0,numSimplified:0,numFeatures:0,source:null,x:De,y:Ee,z:ge,transformed:!1,minX:2,minY:1,maxX:-1,maxY:0},Pe=0;Pe<ue.length;Pe++){de.numFeatures++,qr(de,ue[Pe],rt,be);var xe=ue[Pe].minX,Oe=ue[Pe].minY,dt=ue[Pe].maxX,Gt=ue[Pe].maxY;xe<de.minX&&(de.minX=xe),Oe<de.minY&&(de.minY=Oe),dt>de.maxX&&(de.maxX=dt),Gt>de.maxY&&(de.maxY=Gt)}return de}function qr(ue,ge,De,Ee){var be=ge.geometry,rt=ge.type,de=[];if(rt==="Point"||rt==="MultiPoint")for(var Pe=0;Pe<be.length;Pe+=3)de.push(be[Pe]),de.push(be[Pe+1]),ue.numPoints++,ue.numSimplified++;else if(rt==="LineString")tn(de,be,ue,De,!1,!1);else if(rt==="MultiLineString"||rt==="Polygon")for(Pe=0;Pe<be.length;Pe++)tn(de,be[Pe],ue,De,rt==="Polygon",Pe===0);else if(rt==="MultiPolygon")for(var xe=0;xe<be.length;xe++){var Oe=be[xe];for(Pe=0;Pe<Oe.length;Pe++)tn(de,Oe[Pe],ue,De,!0,Pe===0)}if(de.length){var dt=ge.tags||null;if(rt==="LineString"&&Ee.lineMetrics){for(var Gt in dt={},ge.tags)dt[Gt]=ge.tags[Gt];dt.mapbox_clip_start=be.start/be.size,dt.mapbox_clip_end=be.end/be.size}var $t={geometry:de,type:rt==="Polygon"||rt==="MultiPolygon"?3:rt==="LineString"||rt==="MultiLineString"?2:1,tags:dt};ge.id!==null&&($t.id=ge.id),ue.features.push($t)}}function tn(ue,ge,De,Ee,be,rt){var de=Ee*Ee;if(Ee>0&&ge.size<(be?de:Ee))De.numPoints+=ge.length/3;else{for(var Pe=[],xe=0;xe<ge.length;xe+=3)(Ee===0||ge[xe+2]>de)&&(De.numSimplified++,Pe.push(ge[xe]),Pe.push(ge[xe+1])),De.numPoints++;be&&function(Oe,dt){for(var Gt=0,$t=0,nr=Oe.length,lr=nr-2;$t<nr;lr=$t,$t+=2)Gt+=(Oe[$t]-Oe[lr])*(Oe[$t+1]+Oe[lr+1]);if(Gt>0===dt)for($t=0,nr=Oe.length;$t<nr/2;$t+=2){var Dr=Oe[$t],Pr=Oe[$t+1];Oe[$t]=Oe[nr-2-$t],Oe[$t+1]=Oe[nr-1-$t],Oe[nr-2-$t]=Dr,Oe[nr-1-$t]=Pr}}(Pe,rt),ue.push(Pe)}}function _n(ue,ge){var De=(ge=this.options=function(be,rt){for(var de in rt)be[de]=rt[de];return be}(Object.create(this.options),ge)).debug;if(De&&console.time("preprocess data"),ge.maxZoom<0||ge.maxZoom>24)throw new Error("maxZoom should be in the 0-24 range");if(ge.promoteId&&ge.generateId)throw new Error("promoteId and generateId cannot be used together.");var Ee=function(be,rt){var de=[];if(be.type==="FeatureCollection")for(var Pe=0;Pe<be.features.length;Pe++)fe(de,be.features[Pe],rt,Pe);else fe(de,be.type==="Feature"?be:{geometry:be},rt);return de}(ue,ge);this.tiles={},this.tileCoords=[],De&&(console.timeEnd("preprocess data"),console.log("index: maxZoom: %d, maxPoints: %d",ge.indexMaxZoom,ge.indexMaxPoints),console.time("generate tiles"),this.stats={},this.total=0),(Ee=function(be,rt){var de=rt.buffer/rt.extent,Pe=be,xe=Le(be,1,-1-de,de,0,-1,2,rt),Oe=Le(be,1,1-de,2+de,0,-1,2,rt);return(xe||Oe)&&(Pe=Le(be,1,-de,1+de,0,-1,2,rt)||[],xe&&(Pe=ut(xe,1).concat(Pe)),Oe&&(Pe=Pe.concat(ut(Oe,-1)))),Pe}(Ee,ge)).length&&this.splitTile(Ee,0,0,0),De&&(Ee.length&&console.log("features: %d, points: %d",this.tiles[0].numFeatures,this.tiles[0].numPoints),console.timeEnd("generate tiles"),console.log("tiles generated:",this.total,JSON.stringify(this.stats)))}function Bn(ue,ge,De){return 32*((1<<ue)*De+ge)+ue}function ya(ue,ge){var De=ue.tileID.canonical;if(!this._geoJSONIndex)return ge(null,null);var Ee=this._geoJSONIndex.getTile(De.z,De.x,De.y);if(!Ee)return ge(null,null);var be=new ct(Ee.features),rt=Tt(be);rt.byteOffset===0&&rt.byteLength===rt.buffer.byteLength||(rt=new Uint8Array(rt)),ge(null,{vectorTile:be,rawData:rt.buffer})}ht.prototype.load=function(ue){var ge=this.options,De=ge.log,Ee=ge.minZoom,be=ge.maxZoom,rt=ge.nodeSize;De&&console.time("total time");var de="prepare "+ue.length+" points";De&&console.time(de),this.points=ue;for(var Pe=[],xe=0;xe<ue.length;xe++)ue[xe].geometry&&Pe.push(Ke(ue[xe],xe));this.trees[be+1]=new bt(Pe,B,z,rt,Float32Array),De&&console.timeEnd(de);for(var Oe=be;Oe>=Ee;Oe--){var dt=+Date.now();Pe=this._cluster(Pe,Oe),this.trees[Oe]=new bt(Pe,B,z,rt,Float32Array),De&&console.log("z%d: %d clusters in %dms",Oe,Pe.length,+Date.now()-dt)}return De&&console.timeEnd("total time"),this},ht.prototype.getClusters=function(ue,ge){var De=((ue[0]+180)%360+360)%360-180,Ee=Math.max(-90,Math.min(90,ue[1])),be=ue[2]===180?180:((ue[2]+180)%360+360)%360-180,rt=Math.max(-90,Math.min(90,ue[3]));if(ue[2]-ue[0]>=360)De=-180,be=180;else if(De>be){var de=this.getClusters([De,Ee,180,rt],ge),Pe=this.getClusters([-180,Ee,be,rt],ge);return de.concat(Pe)}for(var xe=this.trees[this._limitZoom(ge)],Oe=[],dt=0,Gt=xe.range(Xe(De),xt(rt),Xe(be),xt(Ee));dt<Gt.length;dt+=1){var $t=xe.points[Gt[dt]];Oe.push($t.numPoints?nt($t):this.points[$t.index])}return Oe},ht.prototype.getChildren=function(ue){var ge=this._getOriginId(ue),De=this._getOriginZoom(ue),Ee="No cluster with the specified id.",be=this.trees[De];if(!be)throw new Error(Ee);var rt=be.points[ge];if(!rt)throw new Error(Ee);for(var de=this.options.radius/(this.options.extent*Math.pow(2,De-1)),Pe=[],xe=0,Oe=be.within(rt.x,rt.y,de);xe<Oe.length;xe+=1){var dt=be.points[Oe[xe]];dt.parentId===ue&&Pe.push(dt.numPoints?nt(dt):this.points[dt.index])}if(Pe.length===0)throw new Error(Ee);return Pe},ht.prototype.getLeaves=function(ue,ge,De){var Ee=[];return this._appendLeaves(Ee,ue,ge=ge||10,De=De||0,0),Ee},ht.prototype.getTile=function(ue,ge,De){var Ee=this.trees[this._limitZoom(ue)],be=Math.pow(2,ue),rt=this.options,de=rt.radius/rt.extent,Pe=(De-de)/be,xe=(De+1+de)/be,Oe={features:[]};return this._addTileFeatures(Ee.range((ge-de)/be,Pe,(ge+1+de)/be,xe),Ee.points,ge,De,be,Oe),ge===0&&this._addTileFeatures(Ee.range(1-de/be,Pe,1,xe),Ee.points,be,De,be,Oe),ge===be-1&&this._addTileFeatures(Ee.range(0,Pe,de/be,xe),Ee.points,-1,De,be,Oe),Oe.features.length?Oe:null},ht.prototype.getClusterExpansionZoom=function(ue){for(var ge=this._getOriginZoom(ue)-1;ge<=this.options.maxZoom;){var De=this.getChildren(ue);if(ge++,De.length!==1)break;ue=De[0].properties.cluster_id}return ge},ht.prototype._appendLeaves=function(ue,ge,De,Ee,be){for(var rt=0,de=this.getChildren(ge);rt<de.length;rt+=1){var Pe=de[rt],xe=Pe.properties;if(xe&&xe.cluster?be+xe.point_count<=Ee?be+=xe.point_count:be=this._appendLeaves(ue,xe.cluster_id,De,Ee,be):be<Ee?be++:ue.push(Pe),ue.length===De)break}return be},ht.prototype._addTileFeatures=function(ue,ge,De,Ee,be,rt){for(var de=0,Pe=ue;de<Pe.length;de+=1){var xe=ge[Pe[de]],Oe=xe.numPoints,dt={type:1,geometry:[[Math.round(this.options.extent*(xe.x*be-De)),Math.round(this.options.extent*(xe.y*be-Ee))]],tags:Oe?Ot(xe):this.points[xe.index].properties},Gt=void 0;Oe?Gt=xe.id:this.options.generateId?Gt=xe.index:this.points[xe.index].id&&(Gt=this.points[xe.index].id),Gt!==void 0&&(dt.id=Gt),rt.features.push(dt)}},ht.prototype._limitZoom=function(ue){return Math.max(this.options.minZoom,Math.min(+ue,this.options.maxZoom+1))},ht.prototype._cluster=function(ue,ge){for(var De=[],Ee=this.options,be=Ee.reduce,rt=Ee.minPoints,de=Ee.radius/(Ee.extent*Math.pow(2,ge)),Pe=0;Pe<ue.length;Pe++){var xe=ue[Pe];if(!(xe.zoom<=ge)){xe.zoom=ge;for(var Oe=this.trees[ge+1],dt=Oe.within(xe.x,xe.y,de),Gt=xe.numPoints||1,$t=Gt,nr=0,lr=dt;nr<lr.length;nr+=1){var Dr=Oe.points[lr[nr]];Dr.zoom>ge&&($t+=Dr.numPoints||1)}if($t>=rt){for(var Pr=xe.x*Gt,Wr=xe.y*Gt,an=be&&Gt>1?this._map(xe,!0):null,dn=(Pe<<5)+(ge+1)+this.points.length,Rn=0,zn=dt;Rn<zn.length;Rn+=1){var Qn=Oe.points[zn[Rn]];if(!(Qn.zoom<=ge)){Qn.zoom=ge;var Ma=Qn.numPoints||1;Pr+=Qn.x*Ma,Wr+=Qn.y*Ma,Qn.parentId=dn,be&&(an||(an=this._map(xe,!0)),be(an,this._map(Qn)))}}xe.parentId=dn,De.push(Ye(Pr/$t,Wr/$t,dn,$t,an))}else if(De.push(xe),$t>1)for(var Ca=0,ia=dt;Ca<ia.length;Ca+=1){var _a=Oe.points[ia[Ca]];_a.zoom<=ge||(_a.zoom=ge,De.push(_a))}}}return De},ht.prototype._getOriginId=function(ue){return ue-this.points.length>>5},ht.prototype._getOriginZoom=function(ue){return(ue-this.points.length)%32},ht.prototype._map=function(ue,ge){if(ue.numPoints)return ge?Ne({},ue.properties):ue.properties;var De=this.points[ue.index].properties,Ee=this.options.map(De);return ge&&Ee===De?Ne({},Ee):Ee},_n.prototype.options={maxZoom:14,indexMaxZoom:5,indexMaxPoints:1e5,tolerance:3,extent:4096,buffer:64,lineMetrics:!1,promoteId:null,generateId:!1,debug:0},_n.prototype.splitTile=function(ue,ge,De,Ee,be,rt,de){for(var Pe=[ue,ge,De,Ee],xe=this.options,Oe=xe.debug;Pe.length;){Ee=Pe.pop(),De=Pe.pop(),ge=Pe.pop(),ue=Pe.pop();var dt=1<<ge,Gt=Bn(ge,De,Ee),$t=this.tiles[Gt];if(!$t&&(Oe>1&&console.time("creation"),$t=this.tiles[Gt]=zr(ue,ge,De,Ee,xe),this.tileCoords.push({z:ge,x:De,y:Ee}),Oe)){Oe>1&&(console.log("tile z%d-%d-%d (features: %d, points: %d, simplified: %d)",ge,De,Ee,$t.numFeatures,$t.numPoints,$t.numSimplified),console.timeEnd("creation"));var nr="z"+ge;this.stats[nr]=(this.stats[nr]||0)+1,this.total++}if($t.source=ue,be){if(ge===xe.maxZoom||ge===be)continue;var lr=1<<be-ge;if(De!==Math.floor(rt/lr)||Ee!==Math.floor(de/lr))continue}else if(ge===xe.indexMaxZoom||$t.numPoints<=xe.indexMaxPoints)continue;if($t.source=null,ue.length!==0){Oe>1&&console.time("clipping");var Dr,Pr,Wr,an,dn,Rn,zn=.5*xe.buffer/xe.extent,Qn=.5-zn,Ma=.5+zn,Ca=1+zn;Dr=Pr=Wr=an=null,dn=Le(ue,dt,De-zn,De+Ma,0,$t.minX,$t.maxX,xe),Rn=Le(ue,dt,De+Qn,De+Ca,0,$t.minX,$t.maxX,xe),ue=null,dn&&(Dr=Le(dn,dt,Ee-zn,Ee+Ma,1,$t.minY,$t.maxY,xe),Pr=Le(dn,dt,Ee+Qn,Ee+Ca,1,$t.minY,$t.maxY,xe),dn=null),Rn&&(Wr=Le(Rn,dt,Ee-zn,Ee+Ma,1,$t.minY,$t.maxY,xe),an=Le(Rn,dt,Ee+Qn,Ee+Ca,1,$t.minY,$t.maxY,xe),Rn=null),Oe>1&&console.timeEnd("clipping"),Pe.push(Dr||[],ge+1,2*De,2*Ee),Pe.push(Pr||[],ge+1,2*De,2*Ee+1),Pe.push(Wr||[],ge+1,2*De+1,2*Ee),Pe.push(an||[],ge+1,2*De+1,2*Ee+1)}}},_n.prototype.getTile=function(ue,ge,De){var Ee=this.options,be=Ee.extent,rt=Ee.debug;if(ue<0||ue>24)return null;var de=1<<ue,Pe=Bn(ue,ge=(ge%de+de)%de,De);if(this.tiles[Pe])return Qt(this.tiles[Pe],be);rt>1&&console.log("drilling down to z%d-%d-%d",ue,ge,De);for(var xe,Oe=ue,dt=ge,Gt=De;!xe&&Oe>0;)Oe--,dt=Math.floor(dt/2),Gt=Math.floor(Gt/2),xe=this.tiles[Bn(Oe,dt,Gt)];return xe&&xe.source?(rt>1&&console.log("found parent tile z%d-%d-%d",Oe,dt,Gt),rt>1&&console.time("drilling down"),this.splitTile(xe.source,Oe,dt,Gt,ue,ge,De),rt>1&&console.timeEnd("drilling down"),this.tiles[Pe]?Qt(this.tiles[Pe],be):null):null};var Tr=function(ue){function ge(De,Ee,be,rt){ue.call(this,De,Ee,be,ya),rt&&(this.loadGeoJSON=rt)}return ue&&(ge.__proto__=ue),(ge.prototype=Object.create(ue&&ue.prototype)).constructor=ge,ge.prototype.loadData=function(De,Ee){this._pendingCallback&&this._pendingCallback(null,{abandoned:!0}),this._pendingCallback=Ee,this._pendingLoadDataParams=De,this._state&&this._state!=="Idle"?this._state="NeedsLoadData":(this._state="Coalescing",this._loadData())},ge.prototype._loadData=function(){var De=this;if(this._pendingCallback&&this._pendingLoadDataParams){var Ee=this._pendingCallback,be=this._pendingLoadDataParams;delete this._pendingCallback,delete this._pendingLoadDataParams;var rt=!!(be&&be.request&&be.request.collectResourceTiming)&&new u.RequestPerformance(be.request);this.loadGeoJSON(be,function(de,Pe){if(de||!Pe)return Ee(de);if(typeof Pe!="object")return Ee(new Error("Input data given to '"+be.source+"' is not a valid GeoJSON object."));(function $t(nr,lr){var Dr,Pr=nr&&nr.type;if(Pr==="FeatureCollection")for(Dr=0;Dr<nr.features.length;Dr++)$t(nr.features[Dr],lr);else if(Pr==="GeometryCollection")for(Dr=0;Dr<nr.geometries.length;Dr++)$t(nr.geometries[Dr],lr);else if(Pr==="Feature")$t(nr.geometry,lr);else if(Pr==="Polygon")Ce(nr.coordinates,lr);else if(Pr==="MultiPolygon")for(Dr=0;Dr<nr.coordinates.length;Dr++)Ce(nr.coordinates[Dr],lr);return nr})(Pe,!0);try{if(be.filter){var xe=u.createExpression(be.filter,{type:"boolean","property-type":"data-driven",overridable:!1,transition:!1});if(xe.result==="error")throw new Error(xe.value.map(function($t){return $t.key+": "+$t.message}).join(", "));var Oe=Pe.features.filter(function($t){return xe.value.evaluate({zoom:0},$t)});Pe={type:"FeatureCollection",features:Oe}}De._geoJSONIndex=be.cluster?new ht(function($t){var nr=$t.superclusterOptions,lr=$t.clusterProperties;if(!lr||!nr)return nr;for(var Dr={},Pr={},Wr={accumulated:null,zoom:0},an={properties:null},dn=Object.keys(lr),Rn=0,zn=dn;Rn<zn.length;Rn+=1){var Qn=zn[Rn],Ma=lr[Qn],Ca=Ma[0],ia=u.createExpression(Ma[1]),_a=u.createExpression(typeof Ca=="string"?[Ca,["accumulated"],["get",Qn]]:Ca);Dr[Qn]=ia.value,Pr[Qn]=_a.value}return nr.map=function($a){an.properties=$a;for(var ra={},ni=0,Da=dn;ni<Da.length;ni+=1){var Fa=Da[ni];ra[Fa]=Dr[Fa].evaluate(Wr,an)}return ra},nr.reduce=function($a,ra){an.properties=ra;for(var ni=0,Da=dn;ni<Da.length;ni+=1){var Fa=Da[ni];Wr.accumulated=$a[Fa],$a[Fa]=Pr[Fa].evaluate(Wr,an)}},nr}(be)).load(Pe.features):function($t,nr){return new _n($t,nr)}(Pe,be.geojsonVtOptions)}catch($t){return Ee($t)}De.loaded={};var dt={};if(rt){var Gt=rt.finish();Gt&&(dt.resourceTiming={},dt.resourceTiming[be.source]=JSON.parse(JSON.stringify(Gt)))}Ee(null,dt)})}},ge.prototype.coalesce=function(){this._state==="Coalescing"?this._state="Idle":this._state==="NeedsLoadData"&&(this._state="Coalescing",this._loadData())},ge.prototype.reloadTile=function(De,Ee){var be=this.loaded;return be&&be[De.uid]?ue.prototype.reloadTile.call(this,De,Ee):this.loadTile(De,Ee)},ge.prototype.loadGeoJSON=function(De,Ee){if(De.request)u.getJSON(De.request,Ee);else{if(typeof De.data!="string")return Ee(new Error("Input data given to '"+De.source+"' is not a valid GeoJSON object."));try{return Ee(null,JSON.parse(De.data))}catch(be){return Ee(new Error("Input data given to '"+De.source+"' is not a valid GeoJSON object."))}}},ge.prototype.removeSource=function(De,Ee){this._pendingCallback&&this._pendingCallback(null,{abandoned:!0}),Ee()},ge.prototype.getClusterExpansionZoom=function(De,Ee){try{Ee(null,this._geoJSONIndex.getClusterExpansionZoom(De.clusterId))}catch(be){Ee(be)}},ge.prototype.getClusterChildren=function(De,Ee){try{Ee(null,this._geoJSONIndex.getChildren(De.clusterId))}catch(be){Ee(be)}},ge.prototype.getClusterLeaves=function(De,Ee){try{Ee(null,this._geoJSONIndex.getLeaves(De.clusterId,De.limit,De.offset))}catch(be){Ee(be)}},ge}(ve),it=function(ge){var De=this;this.self=ge,this.actor=new u.Actor(ge,this),this.layerIndexes={},this.availableImages={},this.workerSourceTypes={vector:ve,geojson:Tr},this.workerSources={},this.demWorkerSources={},this.self.registerWorkerSource=function(Ee,be){if(De.workerSourceTypes[Ee])throw new Error('Worker source with name "'+Ee+'" already registered.');De.workerSourceTypes[Ee]=be},this.self.registerRTLTextPlugin=function(Ee){if(u.plugin.isParsed())throw new Error("RTL text plugin already registered.");u.plugin.applyArabicShaping=Ee.applyArabicShaping,u.plugin.processBidirectionalText=Ee.processBidirectionalText,u.plugin.processStyledBidirectionalText=Ee.processStyledBidirectionalText}};return it.prototype.setReferrer=function(ue,ge){this.referrer=ge},it.prototype.setImages=function(ue,ge,De){for(var Ee in this.availableImages[ue]=ge,this.workerSources[ue]){var be=this.workerSources[ue][Ee];for(var rt in be)be[rt].availableImages=ge}De()},it.prototype.setLayers=function(ue,ge,De){this.getLayerIndex(ue).replace(ge),De()},it.prototype.updateLayers=function(ue,ge,De){this.getLayerIndex(ue).update(ge.layers,ge.removedIds),De()},it.prototype.loadTile=function(ue,ge,De){this.getWorkerSource(ue,ge.type,ge.source).loadTile(ge,De)},it.prototype.loadDEMTile=function(ue,ge,De){this.getDEMWorkerSource(ue,ge.source).loadTile(ge,De)},it.prototype.reloadTile=function(ue,ge,De){this.getWorkerSource(ue,ge.type,ge.source).reloadTile(ge,De)},it.prototype.abortTile=function(ue,ge,De){this.getWorkerSource(ue,ge.type,ge.source).abortTile(ge,De)},it.prototype.removeTile=function(ue,ge,De){this.getWorkerSource(ue,ge.type,ge.source).removeTile(ge,De)},it.prototype.removeDEMTile=function(ue,ge){this.getDEMWorkerSource(ue,ge.source).removeTile(ge)},it.prototype.removeSource=function(ue,ge,De){if(this.workerSources[ue]&&this.workerSources[ue][ge.type]&&this.workerSources[ue][ge.type][ge.source]){var Ee=this.workerSources[ue][ge.type][ge.source];delete this.workerSources[ue][ge.type][ge.source],Ee.removeSource!==void 0?Ee.removeSource(ge,De):De()}},it.prototype.loadWorkerSource=function(ue,ge,De){try{this.self.importScripts(ge.url),De()}catch(Ee){De(Ee.toString())}},it.prototype.syncRTLPluginState=function(ue,ge,De){try{u.plugin.setState(ge);var Ee=u.plugin.getPluginURL();if(u.plugin.isLoaded()&&!u.plugin.isParsed()&&Ee!=null){this.self.importScripts(Ee);var be=u.plugin.isParsed();De(be?void 0:new Error("RTL Text Plugin failed to import scripts from "+Ee),be)}}catch(rt){De(rt.toString())}},it.prototype.getAvailableImages=function(ue){var ge=this.availableImages[ue];return ge||(ge=[]),ge},it.prototype.getLayerIndex=function(ue){var ge=this.layerIndexes[ue];return ge||(ge=this.layerIndexes[ue]=new Z),ge},it.prototype.getWorkerSource=function(ue,ge,De){var Ee=this;return this.workerSources[ue]||(this.workerSources[ue]={}),this.workerSources[ue][ge]||(this.workerSources[ue][ge]={}),this.workerSources[ue][ge][De]||(this.workerSources[ue][ge][De]=new this.workerSourceTypes[ge]({send:function(rt,de,Pe){Ee.actor.send(rt,de,Pe,ue)}},this.getLayerIndex(ue),this.getAvailableImages(ue))),this.workerSources[ue][ge][De]},it.prototype.getDEMWorkerSource=function(ue,ge){return this.demWorkerSources[ue]||(this.demWorkerSources[ue]={}),this.demWorkerSources[ue][ge]||(this.demWorkerSources[ue][ge]=new I),this.demWorkerSources[ue][ge]},it.prototype.enforceCacheSizeLimit=function(ue,ge){u.enforceCacheSizeLimit(ge)},typeof WorkerGlobalScope!="undefined"&&typeof self!="undefined"&&self instanceof WorkerGlobalScope&&(self.worker=new it(self)),it}),b(["./shared"],function(u){"use strict";var H=u.createCommonjsModule(function(v){function c(F){return!l(F)}function l(F){return typeof window=="undefined"||typeof document=="undefined"?"not a browser":Array.prototype&&Array.prototype.every&&Array.prototype.filter&&Array.prototype.forEach&&Array.prototype.indexOf&&Array.prototype.lastIndexOf&&Array.prototype.map&&Array.prototype.some&&Array.prototype.reduce&&Array.prototype.reduceRight&&Array.isArray?Function.prototype&&Function.prototype.bind?Object.keys&&Object.create&&Object.getPrototypeOf&&Object.getOwnPropertyNames&&Object.isSealed&&Object.isFrozen&&Object.isExtensible&&Object.getOwnPropertyDescriptor&&Object.defineProperty&&Object.defineProperties&&Object.seal&&Object.freeze&&Object.preventExtensions?"JSON"in window&&"parse"in JSON&&"stringify"in JSON?function(){if(!("Worker"in window&&"Blob"in window&&"URL"in window))return!1;var se,_e,mt=new Blob([""],{type:"text/javascript"}),Rt=URL.createObjectURL(mt);try{_e=new Worker(Rt),se=!0}catch(ir){se=!1}return _e&&_e.terminate(),URL.revokeObjectURL(Rt),se}()?"Uint8ClampedArray"in window?ArrayBuffer.isView?function(){var se=document.createElement("canvas");se.width=se.height=1;var _e=se.getContext("2d");if(!_e)return!1;var mt=_e.getImageData(0,0,1,1);return mt&&mt.width===se.width}()?(g[Q=F&&F.failIfMajorPerformanceCaveat]===void 0&&(g[Q]=function(se){var _e=function(Rt){var ir=document.createElement("canvas"),rr=Object.create(c.webGLContextAttributes);return rr.failIfMajorPerformanceCaveat=Rt,ir.probablySupportsContext?ir.probablySupportsContext("webgl",rr)||ir.probablySupportsContext("experimental-webgl",rr):ir.supportsContext?ir.supportsContext("webgl",rr)||ir.supportsContext("experimental-webgl",rr):ir.getContext("webgl",rr)||ir.getContext("experimental-webgl",rr)}(se);if(!_e)return!1;var mt=_e.createShader(_e.VERTEX_SHADER);return!(!mt||_e.isContextLost())&&(_e.shaderSource(mt,"void main() {}"),_e.compileShader(mt),_e.getShaderParameter(mt,_e.COMPILE_STATUS)===!0)}(Q)),g[Q]?void 0:"insufficient WebGL support"):"insufficient Canvas/getImageData support":"insufficient ArrayBuffer support":"insufficient Uint8ClampedArray support":"insufficient worker support":"insufficient JSON support":"insufficient Object support":"insufficient Function support":"insufficent Array support";var Q}v.exports?v.exports=c:window&&(window.mapboxgl=window.mapboxgl||{},window.mapboxgl.supported=c,window.mapboxgl.notSupportedReason=l);var g={};c.webGLContextAttributes={antialias:!1,alpha:!0,stencil:!0,depth:!0}}),k={create:function(c,l,g){var F=u.window.document.createElement(c);return l!==void 0&&(F.className=l),g&&g.appendChild(F),F},createNS:function(c,l){return u.window.document.createElementNS(c,l)}},Z=u.window.document&&u.window.document.documentElement.style;function oe(v){if(!Z)return v[0];for(var c=0;c<v.length;c++)if(v[c]in Z)return v[c];return v[0]}var ne,Te=oe(["userSelect","MozUserSelect","WebkitUserSelect","msUserSelect"]);k.disableDrag=function(){Z&&Te&&(ne=Z[Te],Z[Te]="none")},k.enableDrag=function(){Z&&Te&&(Z[Te]=ne)};var at=oe(["transform","WebkitTransform"]);k.setTransform=function(v,c){v.style[at]=c};var ve=!1;try{var we=Object.defineProperty({},"passive",{get:function(){ve=!0}});u.window.addEventListener("test",we,we),u.window.removeEventListener("test",we,we)}catch(v){ve=!1}k.addEventListener=function(v,c,l,g){g===void 0&&(g={}),v.addEventListener(c,l,"passive"in g&&ve?g:g.capture)},k.removeEventListener=function(v,c,l,g){g===void 0&&(g={}),v.removeEventListener(c,l,"passive"in g&&ve?g:g.capture)};var I=function v(c){c.preventDefault(),c.stopPropagation(),u.window.removeEventListener("click",v,!0)};function Ce(v){var c=v.userImage;return!!(c&&c.render&&c.render())&&(v.data.replace(new Uint8Array(c.data.buffer)),!0)}k.suppressClick=function(){u.window.addEventListener("click",I,!0),u.window.setTimeout(function(){u.window.removeEventListener("click",I,!0)},0)},k.mousePos=function(v,c){var l=v.getBoundingClientRect();return new u.Point(c.clientX-l.left-v.clientLeft,c.clientY-l.top-v.clientTop)},k.touchPos=function(v,c){for(var l=v.getBoundingClientRect(),g=[],F=0;F<c.length;F++)g.push(new u.Point(c[F].clientX-l.left-v.clientLeft,c[F].clientY-l.top-v.clientTop));return g},k.mouseButton=function(v){return u.window.InstallTrigger!==void 0&&v.button===2&&v.ctrlKey&&u.window.navigator.platform.toUpperCase().indexOf("MAC")>=0?0:v.button},k.remove=function(v){v.parentNode&&v.parentNode.removeChild(v)};var et=function(v){function c(){v.call(this),this.images={},this.updatedImages={},this.callbackDispatchedThisFrame={},this.loaded=!1,this.requestors=[],this.patterns={},this.atlasImage=new u.RGBAImage({width:1,height:1}),this.dirty=!0}return v&&(c.__proto__=v),(c.prototype=Object.create(v&&v.prototype)).constructor=c,c.prototype.isLoaded=function(){return this.loaded},c.prototype.setLoaded=function(l){if(this.loaded!==l&&(this.loaded=l,l)){for(var g=0,F=this.requestors;g<F.length;g+=1){var Q=F[g];this._notify(Q.ids,Q.callback)}this.requestors=[]}},c.prototype.getImage=function(l){return this.images[l]},c.prototype.addImage=function(l,g){this._validate(l,g)&&(this.images[l]=g)},c.prototype._validate=function(l,g){var F=!0;return this._validateStretch(g.stretchX,g.data&&g.data.width)||(this.fire(new u.ErrorEvent(new Error('Image "'+l+'" has invalid "stretchX" value'))),F=!1),this._validateStretch(g.stretchY,g.data&&g.data.height)||(this.fire(new u.ErrorEvent(new Error('Image "'+l+'" has invalid "stretchY" value'))),F=!1),this._validateContent(g.content,g)||(this.fire(new u.ErrorEvent(new Error('Image "'+l+'" has invalid "content" value'))),F=!1),F},c.prototype._validateStretch=function(l,g){if(!l)return!0;for(var F=0,Q=0,se=l;Q<se.length;Q+=1){var _e=se[Q];if(_e[0]<F||_e[1]<_e[0]||g<_e[1])return!1;F=_e[1]}return!0},c.prototype._validateContent=function(l,g){return!(l&&(l.length!==4||l[0]<0||g.data.width<l[0]||l[1]<0||g.data.height<l[1]||l[2]<0||g.data.width<l[2]||l[3]<0||g.data.height<l[3]||l[2]<l[0]||l[3]<l[1]))},c.prototype.updateImage=function(l,g){g.version=this.images[l].version+1,this.images[l]=g,this.updatedImages[l]=!0},c.prototype.removeImage=function(l){var g=this.images[l];delete this.images[l],delete this.patterns[l],g.userImage&&g.userImage.onRemove&&g.userImage.onRemove()},c.prototype.listImages=function(){return Object.keys(this.images)},c.prototype.getImages=function(l,g){var F=!0;if(!this.isLoaded())for(var Q=0,se=l;Q<se.length;Q+=1)this.images[se[Q]]||(F=!1);this.isLoaded()||F?this._notify(l,g):this.requestors.push({ids:l,callback:g})},c.prototype._notify=function(l,g){for(var F={},Q=0,se=l;Q<se.length;Q+=1){var _e=se[Q];this.images[_e]||this.fire(new u.Event("styleimagemissing",{id:_e}));var mt=this.images[_e];mt?F[_e]={data:mt.data.clone(),pixelRatio:mt.pixelRatio,sdf:mt.sdf,version:mt.version,stretchX:mt.stretchX,stretchY:mt.stretchY,content:mt.content,hasRenderCallback:Boolean(mt.userImage&&mt.userImage.render)}:u.warnOnce('Image "'+_e+'" could not be loaded. Please make sure you have added the image with map.addImage() or a "sprite" property in your style. You can provide missing images by listening for the "styleimagemissing" map event.')}g(null,F)},c.prototype.getPixelSize=function(){var l=this.atlasImage;return{width:l.width,height:l.height}},c.prototype.getPattern=function(l){var g=this.patterns[l],F=this.getImage(l);if(!F)return null;if(g&&g.position.version===F.version)return g.position;if(g)g.position.version=F.version;else{var Q={w:F.data.width+2,h:F.data.height+2,x:0,y:0},se=new u.ImagePosition(Q,F);this.patterns[l]={bin:Q,position:se}}return this._updatePatternAtlas(),this.patterns[l].position},c.prototype.bind=function(l){var g=l.gl;this.atlasTexture?this.dirty&&(this.atlasTexture.update(this.atlasImage),this.dirty=!1):this.atlasTexture=new u.Texture(l,this.atlasImage,g.RGBA),this.atlasTexture.bind(g.LINEAR,g.CLAMP_TO_EDGE)},c.prototype._updatePatternAtlas=function(){var l=[];for(var g in this.patterns)l.push(this.patterns[g].bin);var F=u.potpack(l),Q=F.w,se=F.h,_e=this.atlasImage;for(var mt in _e.resize({width:Q||1,height:se||1}),this.patterns){var Rt=this.patterns[mt].bin,ir=Rt.x+1,rr=Rt.y+1,ur=this.images[mt].data,kr=ur.width,Nr=ur.height;u.RGBAImage.copy(ur,_e,{x:0,y:0},{x:ir,y:rr},{width:kr,height:Nr}),u.RGBAImage.copy(ur,_e,{x:0,y:Nr-1},{x:ir,y:rr-1},{width:kr,height:1}),u.RGBAImage.copy(ur,_e,{x:0,y:0},{x:ir,y:rr+Nr},{width:kr,height:1}),u.RGBAImage.copy(ur,_e,{x:kr-1,y:0},{x:ir-1,y:rr},{width:1,height:Nr}),u.RGBAImage.copy(ur,_e,{x:0,y:0},{x:ir+kr,y:rr},{width:1,height:Nr})}this.dirty=!0},c.prototype.beginFrame=function(){this.callbackDispatchedThisFrame={}},c.prototype.dispatchRenderCallbacks=function(l){for(var g=0,F=l;g<F.length;g+=1){var Q=F[g];if(!this.callbackDispatchedThisFrame[Q]){this.callbackDispatchedThisFrame[Q]=!0;var se=this.images[Q];Ce(se)&&this.updateImage(Q,se)}}},c}(u.Evented),Et=ce,We=ce,ct=1e20;function ce(v,c,l,g,F,Q){this.fontSize=v||24,this.buffer=c===void 0?3:c,this.cutoff=g||.25,this.fontFamily=F||"sans-serif",this.fontWeight=Q||"normal",this.radius=l||8;var se=this.size=this.fontSize+2*this.buffer;this.canvas=document.createElement("canvas"),this.canvas.width=this.canvas.height=se,this.ctx=this.canvas.getContext("2d"),this.ctx.font=this.fontWeight+" "+this.fontSize+"px "+this.fontFamily,this.ctx.textBaseline="middle",this.ctx.fillStyle="black",this.gridOuter=new Float64Array(se*se),this.gridInner=new Float64Array(se*se),this.f=new Float64Array(se),this.d=new Float64Array(se),this.z=new Float64Array(se+1),this.v=new Int16Array(se),this.middle=Math.round(se/2*(navigator.userAgent.indexOf("Gecko/")>=0?1.2:1))}function Vt(v,c,l,g,F,Q,se){for(var _e=0;_e<c;_e++){for(var mt=0;mt<l;mt++)g[mt]=v[mt*c+_e];for(It(g,F,Q,se,l),mt=0;mt<l;mt++)v[mt*c+_e]=F[mt]}for(mt=0;mt<l;mt++){for(_e=0;_e<c;_e++)g[_e]=v[mt*c+_e];for(It(g,F,Q,se,c),_e=0;_e<c;_e++)v[mt*c+_e]=Math.sqrt(F[_e])}}function It(v,c,l,g,F){l[0]=0,g[0]=-ct,g[1]=+ct;for(var Q=1,se=0;Q<F;Q++){for(var _e=(v[Q]+Q*Q-(v[l[se]]+l[se]*l[se]))/(2*Q-2*l[se]);_e<=g[se];)se--,_e=(v[Q]+Q*Q-(v[l[se]]+l[se]*l[se]))/(2*Q-2*l[se]);l[++se]=Q,g[se]=_e,g[se+1]=+ct}for(Q=0,se=0;Q<F;Q++){for(;g[se+1]<Q;)se++;c[Q]=(Q-l[se])*(Q-l[se])+v[l[se]]}}ce.prototype.draw=function(v){this.ctx.clearRect(0,0,this.size,this.size),this.ctx.fillText(v,this.buffer,this.middle);for(var c=this.ctx.getImageData(0,0,this.size,this.size),l=new Uint8ClampedArray(this.size*this.size),g=0;g<this.size*this.size;g++){var F=c.data[4*g+3]/255;this.gridOuter[g]=F===1?0:F===0?ct:Math.pow(Math.max(0,.5-F),2),this.gridInner[g]=F===1?ct:F===0?0:Math.pow(Math.max(0,F-.5),2)}for(Vt(this.gridOuter,this.size,this.size,this.f,this.d,this.v,this.z),Vt(this.gridInner,this.size,this.size,this.f,this.d,this.v,this.z),g=0;g<this.size*this.size;g++)l[g]=Math.max(0,Math.min(255,Math.round(255-255*((this.gridOuter[g]-this.gridInner[g])/this.radius+this.cutoff))));return l},Et.default=We;var Mt=function(c,l){this.requestManager=c,this.localIdeographFontFamily=l,this.entries={}};Mt.prototype.setURL=function(v){this.url=v},Mt.prototype.getGlyphs=function(v,c){var l=this,g=[];for(var F in v)for(var Q=0,se=v[F];Q<se.length;Q+=1)g.push({stack:F,id:se[Q]});u.asyncAll(g,function(_e,mt){var Rt=_e.stack,ir=_e.id,rr=l.entries[Rt];rr||(rr=l.entries[Rt]={glyphs:{},requests:{},ranges:{}});var ur=rr.glyphs[ir];if(ur===void 0){if(ur=l._tinySDF(rr,Rt,ir))return rr.glyphs[ir]=ur,void mt(null,{stack:Rt,id:ir,glyph:ur});var kr=Math.floor(ir/256);if(256*kr>65535)mt(new Error("glyphs > 65535 not supported"));else if(rr.ranges[kr])mt(null,{stack:Rt,id:ir,glyph:ur});else{var Nr=rr.requests[kr];Nr||(Nr=rr.requests[kr]=[],Mt.loadGlyphRange(Rt,kr,l.url,l.requestManager,function(Xr,Br){if(Br){for(var Hr in Br)l._doesCharSupportLocalGlyph(+Hr)||(rr.glyphs[+Hr]=Br[+Hr]);rr.ranges[kr]=!0}for(var hn=0,pn=Nr;hn<pn.length;hn+=1)(0,pn[hn])(Xr,Br);delete rr.requests[kr]})),Nr.push(function(Xr,Br){Xr?mt(Xr):Br&&mt(null,{stack:Rt,id:ir,glyph:Br[ir]||null})})}}else mt(null,{stack:Rt,id:ir,glyph:ur})},function(_e,mt){if(_e)c(_e);else if(mt){for(var Rt={},ir=0,rr=mt;ir<rr.length;ir+=1){var ur=rr[ir],kr=ur.stack,Nr=ur.id,Xr=ur.glyph;(Rt[kr]||(Rt[kr]={}))[Nr]=Xr&&{id:Xr.id,bitmap:Xr.bitmap.clone(),metrics:Xr.metrics}}c(null,Rt)}})},Mt.prototype._doesCharSupportLocalGlyph=function(v){return!!this.localIdeographFontFamily&&(u.isChar["CJK Unified Ideographs"](v)||u.isChar["Hangul Syllables"](v)||u.isChar.Hiragana(v)||u.isChar.Katakana(v))},Mt.prototype._tinySDF=function(v,c,l){var g=this.localIdeographFontFamily;if(g&&this._doesCharSupportLocalGlyph(l)){var F=v.tinySDF;if(!F){var Q="400";/bold/i.test(c)?Q="900":/medium/i.test(c)?Q="500":/light/i.test(c)&&(Q="200"),F=v.tinySDF=new Mt.TinySDF(24,3,8,.25,g,Q)}return{id:l,bitmap:new u.AlphaImage({width:30,height:30},F.draw(String.fromCharCode(l))),metrics:{width:24,height:24,left:0,top:-8,advance:24}}}},Mt.loadGlyphRange=function(v,c,l,g,F){var Q=256*c,se=Q+255,_e=g.transformRequest(g.normalizeGlyphsURL(l).replace("{fontstack}",v).replace("{range}",Q+"-"+se),u.ResourceType.Glyphs);u.getArrayBuffer(_e,function(mt,Rt){if(mt)F(mt);else if(Rt){for(var ir={},rr=0,ur=u.parseGlyphPBF(Rt);rr<ur.length;rr+=1){var kr=ur[rr];ir[kr.id]=kr}F(null,ir)}})},Mt.TinySDF=Et;var Tt=function(){this.specification=u.styleSpec.light.position};Tt.prototype.possiblyEvaluate=function(v,c){return u.sphericalToCartesian(v.expression.evaluate(c))},Tt.prototype.interpolate=function(v,c,l){return{x:u.number(v.x,c.x,l),y:u.number(v.y,c.y,l),z:u.number(v.z,c.z,l)}};var ye=new u.Properties({anchor:new u.DataConstantProperty(u.styleSpec.light.anchor),position:new Tt,color:new u.DataConstantProperty(u.styleSpec.light.color),intensity:new u.DataConstantProperty(u.styleSpec.light.intensity)}),lt=function(v){function c(l){v.call(this),this._transitionable=new u.Transitionable(ye),this.setLight(l),this._transitioning=this._transitionable.untransitioned()}return v&&(c.__proto__=v),(c.prototype=Object.create(v&&v.prototype)).constructor=c,c.prototype.getLight=function(){return this._transitionable.serialize()},c.prototype.setLight=function(l,g){if(g===void 0&&(g={}),!this._validate(u.validateLight,l,g))for(var F in l){var Q=l[F];u.endsWith(F,"-transition")?this._transitionable.setTransition(F.slice(0,-"-transition".length),Q):this._transitionable.setValue(F,Q)}},c.prototype.updateTransitions=function(l){this._transitioning=this._transitionable.transitioned(l,this._transitioning)},c.prototype.hasTransition=function(){return this._transitioning.hasTransition()},c.prototype.recalculate=function(l){this.properties=this._transitioning.possiblyEvaluate(l)},c.prototype._validate=function(l,g,F){return(!F||F.validate!==!1)&&u.emitValidationErrors(this,l.call(u.validateStyle,u.extend({value:g,style:{glyphs:!0,sprite:!0},styleSpec:u.styleSpec})))},c}(u.Evented),yt=function(c,l){this.width=c,this.height=l,this.nextRow=0,this.data=new Uint8Array(this.width*this.height),this.dashEntry={}};yt.prototype.getDash=function(v,c){var l=v.join(",")+String(c);return this.dashEntry[l]||(this.dashEntry[l]=this.addDash(v,c)),this.dashEntry[l]},yt.prototype.getDashRanges=function(v,c,l){var g=[],F=v.length%2==1?-v[v.length-1]*l:0,Q=v[0]*l,se=!0;g.push({left:F,right:Q,isDash:se,zeroLength:v[0]===0});for(var _e=v[0],mt=1;mt<v.length;mt++){var Rt=v[mt];g.push({left:F=_e*l,right:Q=(_e+=Rt)*l,isDash:se=!se,zeroLength:Rt===0})}return g},yt.prototype.addRoundDash=function(v,c,l){for(var g=c/2,F=-l;F<=l;F++)for(var Q=this.width*(this.nextRow+l+F),se=0,_e=v[se],mt=0;mt<this.width;mt++){mt/_e.right>1&&(_e=v[++se]);var Rt=Math.abs(mt-_e.left),ir=Math.abs(mt-_e.right),rr=Math.min(Rt,ir),ur=void 0,kr=F/l*(g+1);if(_e.isDash){var Nr=g-Math.abs(kr);ur=Math.sqrt(rr*rr+Nr*Nr)}else ur=g-Math.sqrt(rr*rr+kr*kr);this.data[Q+mt]=Math.max(0,Math.min(255,ur+128))}},yt.prototype.addRegularDash=function(v){for(var c=v.length-1;c>=0;--c){var l=v[c],g=v[c+1];l.zeroLength?v.splice(c,1):g&&g.isDash===l.isDash&&(g.left=l.left,v.splice(c,1))}var F=v[0],Q=v[v.length-1];F.isDash===Q.isDash&&(F.left=Q.left-this.width,Q.right=F.right+this.width);for(var se=this.width*this.nextRow,_e=0,mt=v[_e],Rt=0;Rt<this.width;Rt++){Rt/mt.right>1&&(mt=v[++_e]);var ir=Math.abs(Rt-mt.left),rr=Math.abs(Rt-mt.right),ur=Math.min(ir,rr);this.data[se+Rt]=Math.max(0,Math.min(255,(mt.isDash?ur:-ur)+128))}},yt.prototype.addDash=function(v,c){var l=c?7:0,g=2*l+1;if(this.nextRow+g>this.height)return u.warnOnce("LineAtlas out of space"),null;for(var F=0,Q=0;Q<v.length;Q++)F+=v[Q];if(F!==0){var se=this.width/F,_e=this.getDashRanges(v,this.width,se);c?this.addRoundDash(_e,se,l):this.addRegularDash(_e)}var mt={y:(this.nextRow+l+.5)/this.height,height:2*l/this.height,width:F};return this.nextRow+=g,this.dirty=!0,mt},yt.prototype.bind=function(v){var c=v.gl;this.texture?(c.bindTexture(c.TEXTURE_2D,this.texture),this.dirty&&(this.dirty=!1,c.texSubImage2D(c.TEXTURE_2D,0,0,0,this.width,this.height,c.ALPHA,c.UNSIGNED_BYTE,this.data))):(this.texture=c.createTexture(),c.bindTexture(c.TEXTURE_2D,this.texture),c.texParameteri(c.TEXTURE_2D,c.TEXTURE_WRAP_S,c.REPEAT),c.texParameteri(c.TEXTURE_2D,c.TEXTURE_WRAP_T,c.REPEAT),c.texParameteri(c.TEXTURE_2D,c.TEXTURE_MIN_FILTER,c.LINEAR),c.texParameteri(c.TEXTURE_2D,c.TEXTURE_MAG_FILTER,c.LINEAR),c.texImage2D(c.TEXTURE_2D,0,c.ALPHA,this.width,this.height,0,c.ALPHA,c.UNSIGNED_BYTE,this.data))};var Dt=function v(c,l){this.workerPool=c,this.actors=[],this.currentActor=0,this.id=u.uniqueId();for(var g=this.workerPool.acquire(this.id),F=0;F<g.length;F++){var Q=new v.Actor(g[F],l,this.id);Q.name="Worker "+F,this.actors.push(Q)}};function Jt(v,c,l){var g=function(Q,se){if(Q)return l(Q);if(se){var _e=u.pick(u.extend(se,v),["tiles","minzoom","maxzoom","attribution","mapbox_logo","bounds","scheme","tileSize","encoding"]);se.vector_layers&&(_e.vectorLayers=se.vector_layers,_e.vectorLayerIds=_e.vectorLayers.map(function(mt){return mt.id})),_e.tiles=c.canonicalizeTileset(_e,v.url),l(null,_e)}};return v.url?u.getJSON(c.transformRequest(c.normalizeSourceURL(v.url),u.ResourceType.Source),g):u.browser.frame(function(){return g(null,v)})}Dt.prototype.broadcast=function(v,c,l){u.asyncAll(this.actors,function(g,F){g.send(v,c,F)},l=l||function(){})},Dt.prototype.getActor=function(){return this.currentActor=(this.currentActor+1)%this.actors.length,this.actors[this.currentActor]},Dt.prototype.remove=function(){this.actors.forEach(function(v){v.remove()}),this.actors=[],this.workerPool.release(this.id)},Dt.Actor=u.Actor;var At=function(c,l,g){this.bounds=u.LngLatBounds.convert(this.validateBounds(c)),this.minzoom=l||0,this.maxzoom=g||24};At.prototype.validateBounds=function(v){return Array.isArray(v)&&v.length===4?[Math.max(-180,v[0]),Math.max(-90,v[1]),Math.min(180,v[2]),Math.min(90,v[3])]:[-180,-90,180,90]},At.prototype.contains=function(v){var c=Math.pow(2,v.z),l=Math.floor(u.mercatorXfromLng(this.bounds.getWest())*c),g=Math.floor(u.mercatorYfromLat(this.bounds.getNorth())*c),F=Math.ceil(u.mercatorXfromLng(this.bounds.getEast())*c),Q=Math.ceil(u.mercatorYfromLat(this.bounds.getSouth())*c);return v.x>=l&&v.x<F&&v.y>=g&&v.y<Q};var vt=function(v){function c(l,g,F,Q){if(v.call(this),this.id=l,this.dispatcher=F,this.type="vector",this.minzoom=0,this.maxzoom=22,this.scheme="xyz",this.tileSize=512,this.reparseOverscaled=!0,this.isTileClipped=!0,this._loaded=!1,u.extend(this,u.pick(g,["url","scheme","tileSize","promoteId"])),this._options=u.extend({type:"vector"},g),this._collectResourceTiming=g.collectResourceTiming,this.tileSize!==512)throw new Error("vector tile sources must have a tileSize of 512");this.setEventedParent(Q)}return v&&(c.__proto__=v),(c.prototype=Object.create(v&&v.prototype)).constructor=c,c.prototype.load=function(){var l=this;this._loaded=!1,this.fire(new u.Event("dataloading",{dataType:"source"})),this._tileJSONRequest=Jt(this._options,this.map._requestManager,function(g,F){l._tileJSONRequest=null,l._loaded=!0,g?l.fire(new u.ErrorEvent(g)):F&&(u.extend(l,F),F.bounds&&(l.tileBounds=new At(F.bounds,l.minzoom,l.maxzoom)),u.postTurnstileEvent(F.tiles,l.map._requestManager._customAccessToken),u.postMapLoadEvent(F.tiles,l.map._getMapId(),l.map._requestManager._skuToken,l.map._requestManager._customAccessToken),l.fire(new u.Event("data",{dataType:"source",sourceDataType:"metadata"})),l.fire(new u.Event("data",{dataType:"source",sourceDataType:"content"})))})},c.prototype.loaded=function(){return this._loaded},c.prototype.hasTile=function(l){return!this.tileBounds||this.tileBounds.contains(l.canonical)},c.prototype.onAdd=function(l){this.map=l,this.load()},c.prototype.setSourceProperty=function(l){this._tileJSONRequest&&this._tileJSONRequest.cancel(),l(),this.map.style.sourceCaches[this.id].clearTiles(),this.load()},c.prototype.setTiles=function(l){var g=this;return this.setSourceProperty(function(){g._options.tiles=l}),this},c.prototype.setUrl=function(l){var g=this;return this.setSourceProperty(function(){g.url=l,g._options.url=l}),this},c.prototype.onRemove=function(){this._tileJSONRequest&&(this._tileJSONRequest.cancel(),this._tileJSONRequest=null)},c.prototype.serialize=function(){return u.extend({},this._options)},c.prototype.loadTile=function(l,g){var F=this.map._requestManager.normalizeTileURL(l.tileID.canonical.url(this.tiles,this.scheme)),Q={request:this.map._requestManager.transformRequest(F,u.ResourceType.Tile),uid:l.uid,tileID:l.tileID,zoom:l.tileID.overscaledZ,tileSize:this.tileSize*l.tileID.overscaleFactor(),type:this.type,source:this.id,pixelRatio:u.browser.devicePixelRatio,showCollisionBoxes:this.map.showCollisionBoxes,promoteId:this.promoteId};function se(_e,mt){return delete l.request,l.aborted?g(null):_e&&_e.status!==404?g(_e):(mt&&mt.resourceTiming&&(l.resourceTiming=mt.resourceTiming),this.map._refreshExpiredTiles&&mt&&l.setExpiryData(mt),l.loadVectorData(mt,this.map.painter),u.cacheEntryPossiblyAdded(this.dispatcher),g(null),void(l.reloadCallback&&(this.loadTile(l,l.reloadCallback),l.reloadCallback=null)))}Q.request.collectResourceTiming=this._collectResourceTiming,l.actor&&l.state!=="expired"?l.state==="loading"?l.reloadCallback=g:l.request=l.actor.send("reloadTile",Q,se.bind(this)):(l.actor=this.dispatcher.getActor(),l.request=l.actor.send("loadTile",Q,se.bind(this)))},c.prototype.abortTile=function(l){l.request&&(l.request.cancel(),delete l.request),l.actor&&l.actor.send("abortTile",{uid:l.uid,type:this.type,source:this.id},void 0)},c.prototype.unloadTile=function(l){l.unloadVectorData(),l.actor&&l.actor.send("removeTile",{uid:l.uid,type:this.type,source:this.id},void 0)},c.prototype.hasTransition=function(){return!1},c}(u.Evented),ie=function(v){function c(l,g,F,Q){v.call(this),this.id=l,this.dispatcher=F,this.setEventedParent(Q),this.type="raster",this.minzoom=0,this.maxzoom=22,this.roundZoom=!0,this.scheme="xyz",this.tileSize=512,this._loaded=!1,this._options=u.extend({type:"raster"},g),u.extend(this,u.pick(g,["url","scheme","tileSize"]))}return v&&(c.__proto__=v),(c.prototype=Object.create(v&&v.prototype)).constructor=c,c.prototype.load=function(){var l=this;this._loaded=!1,this.fire(new u.Event("dataloading",{dataType:"source"})),this._tileJSONRequest=Jt(this._options,this.map._requestManager,function(g,F){l._tileJSONRequest=null,l._loaded=!0,g?l.fire(new u.ErrorEvent(g)):F&&(u.extend(l,F),F.bounds&&(l.tileBounds=new At(F.bounds,l.minzoom,l.maxzoom)),u.postTurnstileEvent(F.tiles),u.postMapLoadEvent(F.tiles,l.map._getMapId(),l.map._requestManager._skuToken),l.fire(new u.Event("data",{dataType:"source",sourceDataType:"metadata"})),l.fire(new u.Event("data",{dataType:"source",sourceDataType:"content"})))})},c.prototype.loaded=function(){return this._loaded},c.prototype.onAdd=function(l){this.map=l,this.load()},c.prototype.onRemove=function(){this._tileJSONRequest&&(this._tileJSONRequest.cancel(),this._tileJSONRequest=null)},c.prototype.serialize=function(){return u.extend({},this._options)},c.prototype.hasTile=function(l){return!this.tileBounds||this.tileBounds.contains(l.canonical)},c.prototype.loadTile=function(l,g){var F=this,Q=this.map._requestManager.normalizeTileURL(l.tileID.canonical.url(this.tiles,this.scheme),this.tileSize);l.request=u.getImage(this.map._requestManager.transformRequest(Q,u.ResourceType.Tile),function(se,_e){if(delete l.request,l.aborted)l.state="unloaded",g(null);else if(se)l.state="errored",g(se);else if(_e){F.map._refreshExpiredTiles&&l.setExpiryData(_e),delete _e.cacheControl,delete _e.expires;var mt=F.map.painter.context,Rt=mt.gl;l.texture=F.map.painter.getTileTexture(_e.width),l.texture?l.texture.update(_e,{useMipmap:!0}):(l.texture=new u.Texture(mt,_e,Rt.RGBA,{useMipmap:!0}),l.texture.bind(Rt.LINEAR,Rt.CLAMP_TO_EDGE,Rt.LINEAR_MIPMAP_NEAREST),mt.extTextureFilterAnisotropic&&Rt.texParameterf(Rt.TEXTURE_2D,mt.extTextureFilterAnisotropic.TEXTURE_MAX_ANISOTROPY_EXT,mt.extTextureFilterAnisotropicMax)),l.state="loaded",u.cacheEntryPossiblyAdded(F.dispatcher),g(null)}})},c.prototype.abortTile=function(l,g){l.request&&(l.request.cancel(),delete l.request),g()},c.prototype.unloadTile=function(l,g){l.texture&&this.map.painter.saveTileTexture(l.texture),g()},c.prototype.hasTransition=function(){return!1},c}(u.Evented),J=function(v){function c(l,g,F,Q){v.call(this,l,g,F,Q),this.type="raster-dem",this.maxzoom=22,this._options=u.extend({type:"raster-dem"},g),this.encoding=g.encoding||"mapbox"}return v&&(c.__proto__=v),(c.prototype=Object.create(v&&v.prototype)).constructor=c,c.prototype.serialize=function(){return{type:"raster-dem",url:this.url,tileSize:this.tileSize,tiles:this.tiles,bounds:this.bounds,encoding:this.encoding}},c.prototype.loadTile=function(l,g){var F=this.map._requestManager.normalizeTileURL(l.tileID.canonical.url(this.tiles,this.scheme),this.tileSize);function Q(se,_e){se&&(l.state="errored",g(se)),_e&&(l.dem=_e,l.needsHillshadePrepare=!0,l.state="loaded",g(null))}l.request=u.getImage(this.map._requestManager.transformRequest(F,u.ResourceType.Tile),function(se,_e){if(delete l.request,l.aborted)l.state="unloaded",g(null);else if(se)l.state="errored",g(se);else if(_e){this.map._refreshExpiredTiles&&l.setExpiryData(_e),delete _e.cacheControl,delete _e.expires;var mt=u.window.ImageBitmap&&_e instanceof u.window.ImageBitmap&&u.offscreenCanvasSupported()?_e:u.browser.getImageData(_e,1),Rt={uid:l.uid,coord:l.tileID,source:this.id,rawImageData:mt,encoding:this.encoding};l.actor&&l.state!=="expired"||(l.actor=this.dispatcher.getActor(),l.actor.send("loadDEMTile",Rt,Q.bind(this)))}}.bind(this)),l.neighboringTiles=this._getNeighboringTiles(l.tileID)},c.prototype._getNeighboringTiles=function(l){var g=l.canonical,F=Math.pow(2,g.z),Q=(g.x-1+F)%F,se=g.x===0?l.wrap-1:l.wrap,_e=(g.x+1+F)%F,mt=g.x+1===F?l.wrap+1:l.wrap,Rt={};return Rt[new u.OverscaledTileID(l.overscaledZ,se,g.z,Q,g.y).key]={backfilled:!1},Rt[new u.OverscaledTileID(l.overscaledZ,mt,g.z,_e,g.y).key]={backfilled:!1},g.y>0&&(Rt[new u.OverscaledTileID(l.overscaledZ,se,g.z,Q,g.y-1).key]={backfilled:!1},Rt[new u.OverscaledTileID(l.overscaledZ,l.wrap,g.z,g.x,g.y-1).key]={backfilled:!1},Rt[new u.OverscaledTileID(l.overscaledZ,mt,g.z,_e,g.y-1).key]={backfilled:!1}),g.y+1<F&&(Rt[new u.OverscaledTileID(l.overscaledZ,se,g.z,Q,g.y+1).key]={backfilled:!1},Rt[new u.OverscaledTileID(l.overscaledZ,l.wrap,g.z,g.x,g.y+1).key]={backfilled:!1},Rt[new u.OverscaledTileID(l.overscaledZ,mt,g.z,_e,g.y+1).key]={backfilled:!1}),Rt},c.prototype.unloadTile=function(l){l.demTexture&&this.map.painter.saveTileTexture(l.demTexture),l.fbo&&(l.fbo.destroy(),delete l.fbo),l.dem&&delete l.dem,delete l.neighboringTiles,l.state="unloaded",l.actor&&l.actor.send("removeDEMTile",{uid:l.uid,source:this.id})},c}(ie),ee=function(v){function c(l,g,F,Q){v.call(this),this.id=l,this.type="geojson",this.minzoom=0,this.maxzoom=18,this.tileSize=512,this.isTileClipped=!0,this.reparseOverscaled=!0,this._removed=!1,this._loaded=!1,this.actor=F.getActor(),this.setEventedParent(Q),this._data=g.data,this._options=u.extend({},g),this._collectResourceTiming=g.collectResourceTiming,this._resourceTiming=[],g.maxzoom!==void 0&&(this.maxzoom=g.maxzoom),g.type&&(this.type=g.type),g.attribution&&(this.attribution=g.attribution),this.promoteId=g.promoteId;var se=u.EXTENT/this.tileSize;this.workerOptions=u.extend({source:this.id,cluster:g.cluster||!1,geojsonVtOptions:{buffer:(g.buffer!==void 0?g.buffer:128)*se,tolerance:(g.tolerance!==void 0?g.tolerance:.375)*se,extent:u.EXTENT,maxZoom:this.maxzoom,lineMetrics:g.lineMetrics||!1,generateId:g.generateId||!1},superclusterOptions:{maxZoom:g.clusterMaxZoom!==void 0?Math.min(g.clusterMaxZoom,this.maxzoom-1):this.maxzoom-1,minPoints:Math.max(2,g.clusterMinPoints||2),extent:u.EXTENT,radius:(g.clusterRadius||50)*se,log:!1,generateId:g.generateId||!1},clusterProperties:g.clusterProperties,filter:g.filter},g.workerOptions)}return v&&(c.__proto__=v),(c.prototype=Object.create(v&&v.prototype)).constructor=c,c.prototype.load=function(){var l=this;this.fire(new u.Event("dataloading",{dataType:"source"})),this._updateWorkerData(function(g){if(g)l.fire(new u.ErrorEvent(g));else{var F={dataType:"source",sourceDataType:"metadata"};l._collectResourceTiming&&l._resourceTiming&&l._resourceTiming.length>0&&(F.resourceTiming=l._resourceTiming,l._resourceTiming=[]),l.fire(new u.Event("data",F))}})},c.prototype.onAdd=function(l){this.map=l,this.load()},c.prototype.setData=function(l){var g=this;return this._data=l,this.fire(new u.Event("dataloading",{dataType:"source"})),this._updateWorkerData(function(F){if(F)g.fire(new u.ErrorEvent(F));else{var Q={dataType:"source",sourceDataType:"content"};g._collectResourceTiming&&g._resourceTiming&&g._resourceTiming.length>0&&(Q.resourceTiming=g._resourceTiming,g._resourceTiming=[]),g.fire(new u.Event("data",Q))}}),this},c.prototype.getClusterExpansionZoom=function(l,g){return this.actor.send("geojson.getClusterExpansionZoom",{clusterId:l,source:this.id},g),this},c.prototype.getClusterChildren=function(l,g){return this.actor.send("geojson.getClusterChildren",{clusterId:l,source:this.id},g),this},c.prototype.getClusterLeaves=function(l,g,F,Q){return this.actor.send("geojson.getClusterLeaves",{source:this.id,clusterId:l,limit:g,offset:F},Q),this},c.prototype._updateWorkerData=function(l){var g=this;this._loaded=!1;var F=u.extend({},this.workerOptions),Q=this._data;typeof Q=="string"?(F.request=this.map._requestManager.transformRequest(u.browser.resolveURL(Q),u.ResourceType.Source),F.request.collectResourceTiming=this._collectResourceTiming):F.data=JSON.stringify(Q),this.actor.send(this.type+".loadData",F,function(se,_e){g._removed||_e&&_e.abandoned||(g._loaded=!0,_e&&_e.resourceTiming&&_e.resourceTiming[g.id]&&(g._resourceTiming=_e.resourceTiming[g.id].slice(0)),g.actor.send(g.type+".coalesce",{source:F.source},null),l(se))})},c.prototype.loaded=function(){return this._loaded},c.prototype.loadTile=function(l,g){var F=this,Q=l.actor?"reloadTile":"loadTile";l.actor=this.actor,l.request=this.actor.send(Q,{type:this.type,uid:l.uid,tileID:l.tileID,zoom:l.tileID.overscaledZ,maxZoom:this.maxzoom,tileSize:this.tileSize,source:this.id,pixelRatio:u.browser.devicePixelRatio,showCollisionBoxes:this.map.showCollisionBoxes,promoteId:this.promoteId},function(se,_e){return delete l.request,l.unloadVectorData(),l.aborted?g(null):se?g(se):(l.loadVectorData(_e,F.map.painter,Q==="reloadTile"),g(null))})},c.prototype.abortTile=function(l){l.request&&(l.request.cancel(),delete l.request),l.aborted=!0},c.prototype.unloadTile=function(l){l.unloadVectorData(),this.actor.send("removeTile",{uid:l.uid,type:this.type,source:this.id})},c.prototype.onRemove=function(){this._removed=!0,this.actor.send("removeSource",{type:this.type,source:this.id})},c.prototype.serialize=function(){return u.extend({},this._options,{type:this.type,data:this._data})},c.prototype.hasTransition=function(){return!1},c}(u.Evented),Ie=u.createLayout([{name:"a_pos",type:"Int16",components:2},{name:"a_texture_pos",type:"Int16",components:2}]),me=function(v){function c(l,g,F,Q){v.call(this),this.id=l,this.dispatcher=F,this.coordinates=g.coordinates,this.type="image",this.minzoom=0,this.maxzoom=22,this.tileSize=512,this.tiles={},this._loaded=!1,this.setEventedParent(Q),this.options=g}return v&&(c.__proto__=v),(c.prototype=Object.create(v&&v.prototype)).constructor=c,c.prototype.load=function(l,g){var F=this;this._loaded=!1,this.fire(new u.Event("dataloading",{dataType:"source"})),this.url=this.options.url,u.getImage(this.map._requestManager.transformRequest(this.url,u.ResourceType.Image),function(Q,se){F._loaded=!0,Q?F.fire(new u.ErrorEvent(Q)):se&&(F.image=se,l&&(F.coordinates=l),g&&g(),F._finishLoading())})},c.prototype.loaded=function(){return this._loaded},c.prototype.updateImage=function(l){var g=this;return this.image&&l.url?(this.options.url=l.url,this.load(l.coordinates,function(){g.texture=null}),this):this},c.prototype._finishLoading=function(){this.map&&(this.setCoordinates(this.coordinates),this.fire(new u.Event("data",{dataType:"source",sourceDataType:"metadata"})))},c.prototype.onAdd=function(l){this.map=l,this.load()},c.prototype.setCoordinates=function(l){var g=this;this.coordinates=l;var F=l.map(u.MercatorCoordinate.fromLngLat);this.tileID=function(se){for(var _e=1/0,mt=1/0,Rt=-1/0,ir=-1/0,rr=0,ur=se;rr<ur.length;rr+=1){var kr=ur[rr];_e=Math.min(_e,kr.x),mt=Math.min(mt,kr.y),Rt=Math.max(Rt,kr.x),ir=Math.max(ir,kr.y)}var Nr=Math.max(Rt-_e,ir-mt),Xr=Math.max(0,Math.floor(-Math.log(Nr)/Math.LN2)),Br=Math.pow(2,Xr);return new u.CanonicalTileID(Xr,Math.floor((_e+Rt)/2*Br),Math.floor((mt+ir)/2*Br))}(F),this.minzoom=this.maxzoom=this.tileID.z;var Q=F.map(function(se){return g.tileID.getTilePoint(se)._round()});return this._boundsArray=new u.StructArrayLayout4i8,this._boundsArray.emplaceBack(Q[0].x,Q[0].y,0,0),this._boundsArray.emplaceBack(Q[1].x,Q[1].y,u.EXTENT,0),this._boundsArray.emplaceBack(Q[3].x,Q[3].y,0,u.EXTENT),this._boundsArray.emplaceBack(Q[2].x,Q[2].y,u.EXTENT,u.EXTENT),this.boundsBuffer&&(this.boundsBuffer.destroy(),delete this.boundsBuffer),this.fire(new u.Event("data",{dataType:"source",sourceDataType:"content"})),this},c.prototype.prepare=function(){if(Object.keys(this.tiles).length!==0&&this.image){var l=this.map.painter.context,g=l.gl;for(var F in this.boundsBuffer||(this.boundsBuffer=l.createVertexBuffer(this._boundsArray,Ie.members)),this.boundsSegments||(this.boundsSegments=u.SegmentVector.simpleSegment(0,0,4,2)),this.texture||(this.texture=new u.Texture(l,this.image,g.RGBA),this.texture.bind(g.LINEAR,g.CLAMP_TO_EDGE)),this.tiles){var Q=this.tiles[F];Q.state!=="loaded"&&(Q.state="loaded",Q.texture=this.texture)}}},c.prototype.loadTile=function(l,g){this.tileID&&this.tileID.equals(l.tileID.canonical)?(this.tiles[String(l.tileID.wrap)]=l,l.buckets={},g(null)):(l.state="errored",g(null))},c.prototype.serialize=function(){return{type:"image",url:this.options.url,coordinates:this.coordinates}},c.prototype.hasTransition=function(){return!1},c}(u.Evented),Ve=function(v){function c(l,g,F,Q){v.call(this,l,g,F,Q),this.roundZoom=!0,this.type="video",this.options=g}return v&&(c.__proto__=v),(c.prototype=Object.create(v&&v.prototype)).constructor=c,c.prototype.load=function(){var l=this;this._loaded=!1;var g=this.options;this.urls=[];for(var F=0,Q=g.urls;F<Q.length;F+=1)this.urls.push(this.map._requestManager.transformRequest(Q[F],u.ResourceType.Source).url);u.getVideo(this.urls,function(se,_e){l._loaded=!0,se?l.fire(new u.ErrorEvent(se)):_e&&(l.video=_e,l.video.loop=!0,l.video.addEventListener("playing",function(){l.map.triggerRepaint()}),l.map&&l.video.play(),l._finishLoading())})},c.prototype.pause=function(){this.video&&this.video.pause()},c.prototype.play=function(){this.video&&this.video.play()},c.prototype.seek=function(l){if(this.video){var g=this.video.seekable;l<g.start(0)||l>g.end(0)?this.fire(new u.ErrorEvent(new u.ValidationError("sources."+this.id,null,"Playback for this video can be set only between the "+g.start(0)+" and "+g.end(0)+"-second mark."))):this.video.currentTime=l}},c.prototype.getVideo=function(){return this.video},c.prototype.onAdd=function(l){this.map||(this.map=l,this.load(),this.video&&(this.video.play(),this.setCoordinates(this.coordinates)))},c.prototype.prepare=function(){if(!(Object.keys(this.tiles).length===0||this.video.readyState<2)){var l=this.map.painter.context,g=l.gl;for(var F in this.boundsBuffer||(this.boundsBuffer=l.createVertexBuffer(this._boundsArray,Ie.members)),this.boundsSegments||(this.boundsSegments=u.SegmentVector.simpleSegment(0,0,4,2)),this.texture?this.video.paused||(this.texture.bind(g.LINEAR,g.CLAMP_TO_EDGE),g.texSubImage2D(g.TEXTURE_2D,0,0,0,g.RGBA,g.UNSIGNED_BYTE,this.video)):(this.texture=new u.Texture(l,this.video,g.RGBA),this.texture.bind(g.LINEAR,g.CLAMP_TO_EDGE)),this.tiles){var Q=this.tiles[F];Q.state!=="loaded"&&(Q.state="loaded",Q.texture=this.texture)}}},c.prototype.serialize=function(){return{type:"video",urls:this.urls,coordinates:this.coordinates}},c.prototype.hasTransition=function(){return this.video&&!this.video.paused},c}(me),Re=function(v){function c(l,g,F,Q){v.call(this,l,g,F,Q),g.coordinates?Array.isArray(g.coordinates)&&g.coordinates.length===4&&!g.coordinates.some(function(se){return!Array.isArray(se)||se.length!==2||se.some(function(_e){return typeof _e!="number"})})||this.fire(new u.ErrorEvent(new u.ValidationError("sources."+l,null,'"coordinates" property must be an array of 4 longitude/latitude array pairs'))):this.fire(new u.ErrorEvent(new u.ValidationError("sources."+l,null,'missing required property "coordinates"'))),g.animate&&typeof g.animate!="boolean"&&this.fire(new u.ErrorEvent(new u.ValidationError("sources."+l,null,'optional "animate" property must be a boolean value'))),g.canvas?typeof g.canvas=="string"||g.canvas instanceof u.window.HTMLCanvasElement||this.fire(new u.ErrorEvent(new u.ValidationError("sources."+l,null,'"canvas" must be either a string representing the ID of the canvas element from which to read, or an HTMLCanvasElement instance'))):this.fire(new u.ErrorEvent(new u.ValidationError("sources."+l,null,'missing required property "canvas"'))),this.options=g,this.animate=g.animate===void 0||g.animate}return v&&(c.__proto__=v),(c.prototype=Object.create(v&&v.prototype)).constructor=c,c.prototype.load=function(){this._loaded=!0,this.canvas||(this.canvas=this.options.canvas instanceof u.window.HTMLCanvasElement?this.options.canvas:u.window.document.getElementById(this.options.canvas)),this.width=this.canvas.width,this.height=this.canvas.height,this._hasInvalidDimensions()?this.fire(new u.ErrorEvent(new Error("Canvas dimensions cannot be less than or equal to zero."))):(this.play=function(){this._playing=!0,this.map.triggerRepaint()},this.pause=function(){this._playing&&(this.prepare(),this._playing=!1)},this._finishLoading())},c.prototype.getCanvas=function(){return this.canvas},c.prototype.onAdd=function(l){this.map=l,this.load(),this.canvas&&this.animate&&this.play()},c.prototype.onRemove=function(){this.pause()},c.prototype.prepare=function(){var l=!1;if(this.canvas.width!==this.width&&(this.width=this.canvas.width,l=!0),this.canvas.height!==this.height&&(this.height=this.canvas.height,l=!0),!this._hasInvalidDimensions()&&Object.keys(this.tiles).length!==0){var g=this.map.painter.context,F=g.gl;for(var Q in this.boundsBuffer||(this.boundsBuffer=g.createVertexBuffer(this._boundsArray,Ie.members)),this.boundsSegments||(this.boundsSegments=u.SegmentVector.simpleSegment(0,0,4,2)),this.texture?(l||this._playing)&&this.texture.update(this.canvas,{premultiply:!0}):this.texture=new u.Texture(g,this.canvas,F.RGBA,{premultiply:!0}),this.tiles){var se=this.tiles[Q];se.state!=="loaded"&&(se.state="loaded",se.texture=this.texture)}}},c.prototype.serialize=function(){return{type:"canvas",coordinates:this.coordinates}},c.prototype.hasTransition=function(){return this._playing},c.prototype._hasInvalidDimensions=function(){for(var l=0,g=[this.canvas.width,this.canvas.height];l<g.length;l+=1){var F=g[l];if(isNaN(F)||F<=0)return!0}return!1},c}(me),bt={vector:vt,raster:ie,"raster-dem":J,geojson:ee,video:Ve,image:me,canvas:Re};function Pt(v,c){var l=u.identity([]);return u.translate(l,l,[1,1,0]),u.scale(l,l,[.5*v.width,.5*v.height,1]),u.multiply(l,l,v.calculatePosMatrix(c.toUnwrapped()))}function ht(v,c,l,g,F,Q){var se=function(Xr,Br,Hr){if(Xr)for(var hn=0,pn=Xr;hn<pn.length;hn+=1){var la=Br[pn[hn]];if(la&&la.source===Hr&&la.type==="fill-extrusion")return!0}else for(var Gn in Br){var aa=Br[Gn];if(aa.source===Hr&&aa.type==="fill-extrusion")return!0}return!1}(F&&F.layers,c,v.id),_e=Q.maxPitchScaleFactor(),mt=v.tilesIn(g,_e,se);mt.sort(Ye);for(var Rt=[],ir=0,rr=mt;ir<rr.length;ir+=1){var ur=rr[ir];Rt.push({wrappedTileID:ur.tileID.wrapped().key,queryResults:ur.tile.queryRenderedFeatures(c,l,v._state,ur.queryGeometry,ur.cameraQueryGeometry,ur.scale,F,Q,_e,Pt(v.transform,ur.tileID))})}var kr=function(Xr){for(var Br={},Hr={},hn=0,pn=Xr;hn<pn.length;hn+=1){var la=pn[hn],Gn=la.queryResults,aa=la.wrappedTileID,sa=Hr[aa]=Hr[aa]||{};for(var Ya in Gn)for(var Ka=Gn[Ya],Di=sa[Ya]=sa[Ya]||{},di=Br[Ya]=Br[Ya]||[],Eo=0,Bo=Ka;Eo<Bo.length;Eo+=1){var Wo=Bo[Eo];Di[Wo.featureIndex]||(Di[Wo.featureIndex]=!0,di.push(Wo))}}return Br}(Rt);for(var Nr in kr)kr[Nr].forEach(function(Xr){var Br=Xr.feature,Hr=v.getFeatureState(Br.layer["source-layer"],Br.id);Br.source=Br.layer.source,Br.layer["source-layer"]&&(Br.sourceLayer=Br.layer["source-layer"]),Br.state=Hr});return kr}function Ye(v,c){var l=v.tileID,g=c.tileID;return l.overscaledZ-g.overscaledZ||l.canonical.y-g.canonical.y||l.wrap-g.wrap||l.canonical.x-g.canonical.x}var Ke=function(c,l){this.max=c,this.onRemove=l,this.reset()};Ke.prototype.reset=function(){for(var v in this.data)for(var c=0,l=this.data[v];c<l.length;c+=1){var g=l[c];g.timeout&&clearTimeout(g.timeout),this.onRemove(g.value)}return this.data={},this.order=[],this},Ke.prototype.add=function(v,c,l){var g=this,F=v.wrapped().key;this.data[F]===void 0&&(this.data[F]=[]);var Q={value:c,timeout:void 0};if(l!==void 0&&(Q.timeout=setTimeout(function(){g.remove(v,Q)},l)),this.data[F].push(Q),this.order.push(F),this.order.length>this.max){var se=this._getAndRemoveByKey(this.order[0]);se&&this.onRemove(se)}return this},Ke.prototype.has=function(v){return v.wrapped().key in this.data},Ke.prototype.getAndRemove=function(v){return this.has(v)?this._getAndRemoveByKey(v.wrapped().key):null},Ke.prototype._getAndRemoveByKey=function(v){var c=this.data[v].shift();return c.timeout&&clearTimeout(c.timeout),this.data[v].length===0&&delete this.data[v],this.order.splice(this.order.indexOf(v),1),c.value},Ke.prototype.getByKey=function(v){var c=this.data[v];return c?c[0].value:null},Ke.prototype.get=function(v){return this.has(v)?this.data[v.wrapped().key][0].value:null},Ke.prototype.remove=function(v,c){if(!this.has(v))return this;var l=v.wrapped().key,g=c===void 0?0:this.data[l].indexOf(c),F=this.data[l][g];return this.data[l].splice(g,1),F.timeout&&clearTimeout(F.timeout),this.data[l].length===0&&delete this.data[l],this.onRemove(F.value),this.order.splice(this.order.indexOf(l),1),this},Ke.prototype.setMaxSize=function(v){for(this.max=v;this.order.length>this.max;){var c=this._getAndRemoveByKey(this.order[0]);c&&this.onRemove(c)}return this},Ke.prototype.filter=function(v){var c=[];for(var l in this.data)for(var g=0,F=this.data[l];g<F.length;g+=1){var Q=F[g];v(Q.value)||c.push(Q)}for(var se=0,_e=c;se<_e.length;se+=1){var mt=_e[se];this.remove(mt.value.tileID,mt)}};var nt=function(c,l,g){this.context=c;var F=c.gl;this.buffer=F.createBuffer(),this.dynamicDraw=Boolean(g),this.context.unbindVAO(),c.bindElementBuffer.set(this.buffer),F.bufferData(F.ELEMENT_ARRAY_BUFFER,l.arrayBuffer,this.dynamicDraw?F.DYNAMIC_DRAW:F.STATIC_DRAW),this.dynamicDraw||delete l.arrayBuffer};nt.prototype.bind=function(){this.context.bindElementBuffer.set(this.buffer)},nt.prototype.updateData=function(v){var c=this.context.gl;this.context.unbindVAO(),this.bind(),c.bufferSubData(c.ELEMENT_ARRAY_BUFFER,0,v.arrayBuffer)},nt.prototype.destroy=function(){this.buffer&&(this.context.gl.deleteBuffer(this.buffer),delete this.buffer)};var Ot={Int8:"BYTE",Uint8:"UNSIGNED_BYTE",Int16:"SHORT",Uint16:"UNSIGNED_SHORT",Int32:"INT",Uint32:"UNSIGNED_INT",Float32:"FLOAT"},Xe=function(c,l,g,F){this.length=l.length,this.attributes=g,this.itemSize=l.bytesPerElement,this.dynamicDraw=F,this.context=c;var Q=c.gl;this.buffer=Q.createBuffer(),c.bindVertexBuffer.set(this.buffer),Q.bufferData(Q.ARRAY_BUFFER,l.arrayBuffer,this.dynamicDraw?Q.DYNAMIC_DRAW:Q.STATIC_DRAW),this.dynamicDraw||delete l.arrayBuffer};Xe.prototype.bind=function(){this.context.bindVertexBuffer.set(this.buffer)},Xe.prototype.updateData=function(v){var c=this.context.gl;this.bind(),c.bufferSubData(c.ARRAY_BUFFER,0,v.arrayBuffer)},Xe.prototype.enableAttributes=function(v,c){for(var l=0;l<this.attributes.length;l++){var g=c.attributes[this.attributes[l].name];g!==void 0&&v.enableVertexAttribArray(g)}},Xe.prototype.setVertexAttribPointers=function(v,c,l){for(var g=0;g<this.attributes.length;g++){var F=this.attributes[g],Q=c.attributes[F.name];Q!==void 0&&v.vertexAttribPointer(Q,F.components,v[Ot[F.type]],!1,this.itemSize,F.offset+this.itemSize*(l||0))}},Xe.prototype.destroy=function(){this.buffer&&(this.context.gl.deleteBuffer(this.buffer),delete this.buffer)};var xt=function(c){this.gl=c.gl,this.default=this.getDefault(),this.current=this.default,this.dirty=!1};xt.prototype.get=function(){return this.current},xt.prototype.set=function(v){},xt.prototype.getDefault=function(){return this.default},xt.prototype.setDefault=function(){this.set(this.default)};var Ne=function(v){function c(){v.apply(this,arguments)}return v&&(c.__proto__=v),(c.prototype=Object.create(v&&v.prototype)).constructor=c,c.prototype.getDefault=function(){return u.Color.transparent},c.prototype.set=function(l){var g=this.current;(l.r!==g.r||l.g!==g.g||l.b!==g.b||l.a!==g.a||this.dirty)&&(this.gl.clearColor(l.r,l.g,l.b,l.a),this.current=l,this.dirty=!1)},c}(xt),B=function(v){function c(){v.apply(this,arguments)}return v&&(c.__proto__=v),(c.prototype=Object.create(v&&v.prototype)).constructor=c,c.prototype.getDefault=function(){return 1},c.prototype.set=function(l){(l!==this.current||this.dirty)&&(this.gl.clearDepth(l),this.current=l,this.dirty=!1)},c}(xt),z=function(v){function c(){v.apply(this,arguments)}return v&&(c.__proto__=v),(c.prototype=Object.create(v&&v.prototype)).constructor=c,c.prototype.getDefault=function(){return 0},c.prototype.set=function(l){(l!==this.current||this.dirty)&&(this.gl.clearStencil(l),this.current=l,this.dirty=!1)},c}(xt),q=function(v){function c(){v.apply(this,arguments)}return v&&(c.__proto__=v),(c.prototype=Object.create(v&&v.prototype)).constructor=c,c.prototype.getDefault=function(){return[!0,!0,!0,!0]},c.prototype.set=function(l){var g=this.current;(l[0]!==g[0]||l[1]!==g[1]||l[2]!==g[2]||l[3]!==g[3]||this.dirty)&&(this.gl.colorMask(l[0],l[1],l[2],l[3]),this.current=l,this.dirty=!1)},c}(xt),S=function(v){function c(){v.apply(this,arguments)}return v&&(c.__proto__=v),(c.prototype=Object.create(v&&v.prototype)).constructor=c,c.prototype.getDefault=function(){return!0},c.prototype.set=function(l){(l!==this.current||this.dirty)&&(this.gl.depthMask(l),this.current=l,this.dirty=!1)},c}(xt),K=function(v){function c(){v.apply(this,arguments)}return v&&(c.__proto__=v),(c.prototype=Object.create(v&&v.prototype)).constructor=c,c.prototype.getDefault=function(){return 255},c.prototype.set=function(l){(l!==this.current||this.dirty)&&(this.gl.stencilMask(l),this.current=l,this.dirty=!1)},c}(xt),fe=function(v){function c(){v.apply(this,arguments)}return v&&(c.__proto__=v),(c.prototype=Object.create(v&&v.prototype)).constructor=c,c.prototype.getDefault=function(){return{func:this.gl.ALWAYS,ref:0,mask:255}},c.prototype.set=function(l){var g=this.current;(l.func!==g.func||l.ref!==g.ref||l.mask!==g.mask||this.dirty)&&(this.gl.stencilFunc(l.func,l.ref,l.mask),this.current=l,this.dirty=!1)},c}(xt),Fe=function(v){function c(){v.apply(this,arguments)}return v&&(c.__proto__=v),(c.prototype=Object.create(v&&v.prototype)).constructor=c,c.prototype.getDefault=function(){var l=this.gl;return[l.KEEP,l.KEEP,l.KEEP]},c.prototype.set=function(l){var g=this.current;(l[0]!==g[0]||l[1]!==g[1]||l[2]!==g[2]||this.dirty)&&(this.gl.stencilOp(l[0],l[1],l[2]),this.current=l,this.dirty=!1)},c}(xt),pe=function(v){function c(){v.apply(this,arguments)}return v&&(c.__proto__=v),(c.prototype=Object.create(v&&v.prototype)).constructor=c,c.prototype.getDefault=function(){return!1},c.prototype.set=function(l){if(l!==this.current||this.dirty){var g=this.gl;l?g.enable(g.STENCIL_TEST):g.disable(g.STENCIL_TEST),this.current=l,this.dirty=!1}},c}(xt),Me=function(v){function c(){v.apply(this,arguments)}return v&&(c.__proto__=v),(c.prototype=Object.create(v&&v.prototype)).constructor=c,c.prototype.getDefault=function(){return[0,1]},c.prototype.set=function(l){var g=this.current;(l[0]!==g[0]||l[1]!==g[1]||this.dirty)&&(this.gl.depthRange(l[0],l[1]),this.current=l,this.dirty=!1)},c}(xt),U=function(v){function c(){v.apply(this,arguments)}return v&&(c.__proto__=v),(c.prototype=Object.create(v&&v.prototype)).constructor=c,c.prototype.getDefault=function(){return!1},c.prototype.set=function(l){if(l!==this.current||this.dirty){var g=this.gl;l?g.enable(g.DEPTH_TEST):g.disable(g.DEPTH_TEST),this.current=l,this.dirty=!1}},c}(xt),le=function(v){function c(){v.apply(this,arguments)}return v&&(c.__proto__=v),(c.prototype=Object.create(v&&v.prototype)).constructor=c,c.prototype.getDefault=function(){return this.gl.LESS},c.prototype.set=function(l){(l!==this.current||this.dirty)&&(this.gl.depthFunc(l),this.current=l,this.dirty=!1)},c}(xt),Le=function(v){function c(){v.apply(this,arguments)}return v&&(c.__proto__=v),(c.prototype=Object.create(v&&v.prototype)).constructor=c,c.prototype.getDefault=function(){return!1},c.prototype.set=function(l){if(l!==this.current||this.dirty){var g=this.gl;l?g.enable(g.BLEND):g.disable(g.BLEND),this.current=l,this.dirty=!1}},c}(xt),ot=function(v){function c(){v.apply(this,arguments)}return v&&(c.__proto__=v),(c.prototype=Object.create(v&&v.prototype)).constructor=c,c.prototype.getDefault=function(){var l=this.gl;return[l.ONE,l.ZERO]},c.prototype.set=function(l){var g=this.current;(l[0]!==g[0]||l[1]!==g[1]||this.dirty)&&(this.gl.blendFunc(l[0],l[1]),this.current=l,this.dirty=!1)},c}(xt),St=function(v){function c(){v.apply(this,arguments)}return v&&(c.__proto__=v),(c.prototype=Object.create(v&&v.prototype)).constructor=c,c.prototype.getDefault=function(){return u.Color.transparent},c.prototype.set=function(l){var g=this.current;(l.r!==g.r||l.g!==g.g||l.b!==g.b||l.a!==g.a||this.dirty)&&(this.gl.blendColor(l.r,l.g,l.b,l.a),this.current=l,this.dirty=!1)},c}(xt),Ge=function(v){function c(){v.apply(this,arguments)}return v&&(c.__proto__=v),(c.prototype=Object.create(v&&v.prototype)).constructor=c,c.prototype.getDefault=function(){return this.gl.FUNC_ADD},c.prototype.set=function(l){(l!==this.current||this.dirty)&&(this.gl.blendEquation(l),this.current=l,this.dirty=!1)},c}(xt),Be=function(v){function c(){v.apply(this,arguments)}return v&&(c.__proto__=v),(c.prototype=Object.create(v&&v.prototype)).constructor=c,c.prototype.getDefault=function(){return!1},c.prototype.set=function(l){if(l!==this.current||this.dirty){var g=this.gl;l?g.enable(g.CULL_FACE):g.disable(g.CULL_FACE),this.current=l,this.dirty=!1}},c}(xt),Nt=function(v){function c(){v.apply(this,arguments)}return v&&(c.__proto__=v),(c.prototype=Object.create(v&&v.prototype)).constructor=c,c.prototype.getDefault=function(){return this.gl.BACK},c.prototype.set=function(l){(l!==this.current||this.dirty)&&(this.gl.cullFace(l),this.current=l,this.dirty=!1)},c}(xt),kt=function(v){function c(){v.apply(this,arguments)}return v&&(c.__proto__=v),(c.prototype=Object.create(v&&v.prototype)).constructor=c,c.prototype.getDefault=function(){return this.gl.CCW},c.prototype.set=function(l){(l!==this.current||this.dirty)&&(this.gl.frontFace(l),this.current=l,this.dirty=!1)},c}(xt),ft=function(v){function c(){v.apply(this,arguments)}return v&&(c.__proto__=v),(c.prototype=Object.create(v&&v.prototype)).constructor=c,c.prototype.getDefault=function(){return null},c.prototype.set=function(l){(l!==this.current||this.dirty)&&(this.gl.useProgram(l),this.current=l,this.dirty=!1)},c}(xt),ut=function(v){function c(){v.apply(this,arguments)}return v&&(c.__proto__=v),(c.prototype=Object.create(v&&v.prototype)).constructor=c,c.prototype.getDefault=function(){return this.gl.TEXTURE0},c.prototype.set=function(l){(l!==this.current||this.dirty)&&(this.gl.activeTexture(l),this.current=l,this.dirty=!1)},c}(xt),Ze=function(v){function c(){v.apply(this,arguments)}return v&&(c.__proto__=v),(c.prototype=Object.create(v&&v.prototype)).constructor=c,c.prototype.getDefault=function(){var l=this.gl;return[0,0,l.drawingBufferWidth,l.drawingBufferHeight]},c.prototype.set=function(l){var g=this.current;(l[0]!==g[0]||l[1]!==g[1]||l[2]!==g[2]||l[3]!==g[3]||this.dirty)&&(this.gl.viewport(l[0],l[1],l[2],l[3]),this.current=l,this.dirty=!1)},c}(xt),Qt=function(v){function c(){v.apply(this,arguments)}return v&&(c.__proto__=v),(c.prototype=Object.create(v&&v.prototype)).constructor=c,c.prototype.getDefault=function(){return null},c.prototype.set=function(l){if(l!==this.current||this.dirty){var g=this.gl;g.bindFramebuffer(g.FRAMEBUFFER,l),this.current=l,this.dirty=!1}},c}(xt),ar=function(v){function c(){v.apply(this,arguments)}return v&&(c.__proto__=v),(c.prototype=Object.create(v&&v.prototype)).constructor=c,c.prototype.getDefault=function(){return null},c.prototype.set=function(l){if(l!==this.current||this.dirty){var g=this.gl;g.bindRenderbuffer(g.RENDERBUFFER,l),this.current=l,this.dirty=!1}},c}(xt),zr=function(v){function c(){v.apply(this,arguments)}return v&&(c.__proto__=v),(c.prototype=Object.create(v&&v.prototype)).constructor=c,c.prototype.getDefault=function(){return null},c.prototype.set=function(l){if(l!==this.current||this.dirty){var g=this.gl;g.bindTexture(g.TEXTURE_2D,l),this.current=l,this.dirty=!1}},c}(xt),qr=function(v){function c(){v.apply(this,arguments)}return v&&(c.__proto__=v),(c.prototype=Object.create(v&&v.prototype)).constructor=c,c.prototype.getDefault=function(){return null},c.prototype.set=function(l){if(l!==this.current||this.dirty){var g=this.gl;g.bindBuffer(g.ARRAY_BUFFER,l),this.current=l,this.dirty=!1}},c}(xt),tn=function(v){function c(){v.apply(this,arguments)}return v&&(c.__proto__=v),(c.prototype=Object.create(v&&v.prototype)).constructor=c,c.prototype.getDefault=function(){return null},c.prototype.set=function(l){var g=this.gl;g.bindBuffer(g.ELEMENT_ARRAY_BUFFER,l),this.current=l,this.dirty=!1},c}(xt),_n=function(v){function c(l){v.call(this,l),this.vao=l.extVertexArrayObject}return v&&(c.__proto__=v),(c.prototype=Object.create(v&&v.prototype)).constructor=c,c.prototype.getDefault=function(){return null},c.prototype.set=function(l){this.vao&&(l!==this.current||this.dirty)&&(this.vao.bindVertexArrayOES(l),this.current=l,this.dirty=!1)},c}(xt),Bn=function(v){function c(){v.apply(this,arguments)}return v&&(c.__proto__=v),(c.prototype=Object.create(v&&v.prototype)).constructor=c,c.prototype.getDefault=function(){return 4},c.prototype.set=function(l){if(l!==this.current||this.dirty){var g=this.gl;g.pixelStorei(g.UNPACK_ALIGNMENT,l),this.current=l,this.dirty=!1}},c}(xt),ya=function(v){function c(){v.apply(this,arguments)}return v&&(c.__proto__=v),(c.prototype=Object.create(v&&v.prototype)).constructor=c,c.prototype.getDefault=function(){return!1},c.prototype.set=function(l){if(l!==this.current||this.dirty){var g=this.gl;g.pixelStorei(g.UNPACK_PREMULTIPLY_ALPHA_WEBGL,l),this.current=l,this.dirty=!1}},c}(xt),Tr=function(v){function c(){v.apply(this,arguments)}return v&&(c.__proto__=v),(c.prototype=Object.create(v&&v.prototype)).constructor=c,c.prototype.getDefault=function(){return!1},c.prototype.set=function(l){if(l!==this.current||this.dirty){var g=this.gl;g.pixelStorei(g.UNPACK_FLIP_Y_WEBGL,l),this.current=l,this.dirty=!1}},c}(xt),it=function(v){function c(l,g){v.call(this,l),this.context=l,this.parent=g}return v&&(c.__proto__=v),(c.prototype=Object.create(v&&v.prototype)).constructor=c,c.prototype.getDefault=function(){return null},c}(xt),ue=function(v){function c(){v.apply(this,arguments)}return v&&(c.__proto__=v),(c.prototype=Object.create(v&&v.prototype)).constructor=c,c.prototype.setDirty=function(){this.dirty=!0},c.prototype.set=function(l){if(l!==this.current||this.dirty){this.context.bindFramebuffer.set(this.parent);var g=this.gl;g.framebufferTexture2D(g.FRAMEBUFFER,g.COLOR_ATTACHMENT0,g.TEXTURE_2D,l,0),this.current=l,this.dirty=!1}},c}(it),ge=function(v){function c(){v.apply(this,arguments)}return v&&(c.__proto__=v),(c.prototype=Object.create(v&&v.prototype)).constructor=c,c.prototype.set=function(l){if(l!==this.current||this.dirty){this.context.bindFramebuffer.set(this.parent);var g=this.gl;g.framebufferRenderbuffer(g.FRAMEBUFFER,g.DEPTH_ATTACHMENT,g.RENDERBUFFER,l),this.current=l,this.dirty=!1}},c}(it),De=function(c,l,g,F){this.context=c,this.width=l,this.height=g;var Q=this.framebuffer=c.gl.createFramebuffer();this.colorAttachment=new ue(c,Q),F&&(this.depthAttachment=new ge(c,Q))};De.prototype.destroy=function(){var v=this.context.gl,c=this.colorAttachment.get();if(c&&v.deleteTexture(c),this.depthAttachment){var l=this.depthAttachment.get();l&&v.deleteRenderbuffer(l)}v.deleteFramebuffer(this.framebuffer)};var Ee=function(c,l,g){this.func=c,this.mask=l,this.range=g};Ee.ReadOnly=!1,Ee.ReadWrite=!0,Ee.disabled=new Ee(519,Ee.ReadOnly,[0,1]);var be=function(c,l,g,F,Q,se){this.test=c,this.ref=l,this.mask=g,this.fail=F,this.depthFail=Q,this.pass=se};be.disabled=new be({func:519,mask:0},0,0,7680,7680,7680);var rt=function(c,l,g){this.blendFunction=c,this.blendColor=l,this.mask=g};rt.disabled=new rt(rt.Replace=[1,0],u.Color.transparent,[!1,!1,!1,!1]),rt.unblended=new rt(rt.Replace,u.Color.transparent,[!0,!0,!0,!0]),rt.alphaBlended=new rt([1,771],u.Color.transparent,[!0,!0,!0,!0]);var de=function(c,l,g){this.enable=c,this.mode=l,this.frontFace=g};de.disabled=new de(!1,1029,2305),de.backCCW=new de(!0,1029,2305);var Pe=function(c){this.gl=c,this.extVertexArrayObject=this.gl.getExtension("OES_vertex_array_object"),this.clearColor=new Ne(this),this.clearDepth=new B(this),this.clearStencil=new z(this),this.colorMask=new q(this),this.depthMask=new S(this),this.stencilMask=new K(this),this.stencilFunc=new fe(this),this.stencilOp=new Fe(this),this.stencilTest=new pe(this),this.depthRange=new Me(this),this.depthTest=new U(this),this.depthFunc=new le(this),this.blend=new Le(this),this.blendFunc=new ot(this),this.blendColor=new St(this),this.blendEquation=new Ge(this),this.cullFace=new Be(this),this.cullFaceSide=new Nt(this),this.frontFace=new kt(this),this.program=new ft(this),this.activeTexture=new ut(this),this.viewport=new Ze(this),this.bindFramebuffer=new Qt(this),this.bindRenderbuffer=new ar(this),this.bindTexture=new zr(this),this.bindVertexBuffer=new qr(this),this.bindElementBuffer=new tn(this),this.bindVertexArrayOES=this.extVertexArrayObject&&new _n(this),this.pixelStoreUnpack=new Bn(this),this.pixelStoreUnpackPremultiplyAlpha=new ya(this),this.pixelStoreUnpackFlipY=new Tr(this),this.extTextureFilterAnisotropic=c.getExtension("EXT_texture_filter_anisotropic")||c.getExtension("MOZ_EXT_texture_filter_anisotropic")||c.getExtension("WEBKIT_EXT_texture_filter_anisotropic"),this.extTextureFilterAnisotropic&&(this.extTextureFilterAnisotropicMax=c.getParameter(this.extTextureFilterAnisotropic.MAX_TEXTURE_MAX_ANISOTROPY_EXT)),this.extTextureHalfFloat=c.getExtension("OES_texture_half_float"),this.extTextureHalfFloat&&(c.getExtension("OES_texture_half_float_linear"),this.extRenderToTextureHalfFloat=c.getExtension("EXT_color_buffer_half_float")),this.extTimerQuery=c.getExtension("EXT_disjoint_timer_query"),this.maxTextureSize=c.getParameter(c.MAX_TEXTURE_SIZE)};Pe.prototype.setDefault=function(){this.unbindVAO(),this.clearColor.setDefault(),this.clearDepth.setDefault(),this.clearStencil.setDefault(),this.colorMask.setDefault(),this.depthMask.setDefault(),this.stencilMask.setDefault(),this.stencilFunc.setDefault(),this.stencilOp.setDefault(),this.stencilTest.setDefault(),this.depthRange.setDefault(),this.depthTest.setDefault(),this.depthFunc.setDefault(),this.blend.setDefault(),this.blendFunc.setDefault(),this.blendColor.setDefault(),this.blendEquation.setDefault(),this.cullFace.setDefault(),this.cullFaceSide.setDefault(),this.frontFace.setDefault(),this.program.setDefault(),this.activeTexture.setDefault(),this.bindFramebuffer.setDefault(),this.pixelStoreUnpack.setDefault(),this.pixelStoreUnpackPremultiplyAlpha.setDefault(),this.pixelStoreUnpackFlipY.setDefault()},Pe.prototype.setDirty=function(){this.clearColor.dirty=!0,this.clearDepth.dirty=!0,this.clearStencil.dirty=!0,this.colorMask.dirty=!0,this.depthMask.dirty=!0,this.stencilMask.dirty=!0,this.stencilFunc.dirty=!0,this.stencilOp.dirty=!0,this.stencilTest.dirty=!0,this.depthRange.dirty=!0,this.depthTest.dirty=!0,this.depthFunc.dirty=!0,this.blend.dirty=!0,this.blendFunc.dirty=!0,this.blendColor.dirty=!0,this.blendEquation.dirty=!0,this.cullFace.dirty=!0,this.cullFaceSide.dirty=!0,this.frontFace.dirty=!0,this.program.dirty=!0,this.activeTexture.dirty=!0,this.viewport.dirty=!0,this.bindFramebuffer.dirty=!0,this.bindRenderbuffer.dirty=!0,this.bindTexture.dirty=!0,this.bindVertexBuffer.dirty=!0,this.bindElementBuffer.dirty=!0,this.extVertexArrayObject&&(this.bindVertexArrayOES.dirty=!0),this.pixelStoreUnpack.dirty=!0,this.pixelStoreUnpackPremultiplyAlpha.dirty=!0,this.pixelStoreUnpackFlipY.dirty=!0},Pe.prototype.createIndexBuffer=function(v,c){return new nt(this,v,c)},Pe.prototype.createVertexBuffer=function(v,c,l){return new Xe(this,v,c,l)},Pe.prototype.createRenderbuffer=function(v,c,l){var g=this.gl,F=g.createRenderbuffer();return this.bindRenderbuffer.set(F),g.renderbufferStorage(g.RENDERBUFFER,v,c,l),this.bindRenderbuffer.set(null),F},Pe.prototype.createFramebuffer=function(v,c,l){return new De(this,v,c,l)},Pe.prototype.clear=function(v){var c=v.color,l=v.depth,g=this.gl,F=0;c&&(F|=g.COLOR_BUFFER_BIT,this.clearColor.set(c),this.colorMask.set([!0,!0,!0,!0])),l!==void 0&&(F|=g.DEPTH_BUFFER_BIT,this.depthRange.set([0,1]),this.clearDepth.set(l),this.depthMask.set(!0)),g.clear(F)},Pe.prototype.setCullFace=function(v){v.enable===!1?this.cullFace.set(!1):(this.cullFace.set(!0),this.cullFaceSide.set(v.mode),this.frontFace.set(v.frontFace))},Pe.prototype.setDepthMode=function(v){v.func!==this.gl.ALWAYS||v.mask?(this.depthTest.set(!0),this.depthFunc.set(v.func),this.depthMask.set(v.mask),this.depthRange.set(v.range)):this.depthTest.set(!1)},Pe.prototype.setStencilMode=function(v){v.test.func!==this.gl.ALWAYS||v.mask?(this.stencilTest.set(!0),this.stencilMask.set(v.mask),this.stencilOp.set([v.fail,v.depthFail,v.pass]),this.stencilFunc.set({func:v.test.func,ref:v.ref,mask:v.test.mask})):this.stencilTest.set(!1)},Pe.prototype.setColorMode=function(v){u.deepEqual(v.blendFunction,rt.Replace)?this.blend.set(!1):(this.blend.set(!0),this.blendFunc.set(v.blendFunction),this.blendColor.set(v.blendColor)),this.colorMask.set(v.mask)},Pe.prototype.unbindVAO=function(){this.extVertexArrayObject&&this.bindVertexArrayOES.set(null)};var xe=function(v){function c(l,g,F){var Q=this;v.call(this),this.id=l,this.dispatcher=F,this.on("data",function(se){se.dataType==="source"&&se.sourceDataType==="metadata"&&(Q._sourceLoaded=!0),Q._sourceLoaded&&!Q._paused&&se.dataType==="source"&&se.sourceDataType==="content"&&(Q.reload(),Q.transform&&Q.update(Q.transform))}),this.on("error",function(){Q._sourceErrored=!0}),this._source=function(se,_e,mt,Rt){var ir=new bt[_e.type](se,_e,mt,Rt);if(ir.id!==se)throw new Error("Expected Source id to be "+se+" instead of "+ir.id);return u.bindAll(["load","abort","unload","serialize","prepare"],ir),ir}(l,g,F,this),this._tiles={},this._cache=new Ke(0,this._unloadTile.bind(this)),this._timers={},this._cacheTimers={},this._maxTileCacheSize=null,this._loadedParentTiles={},this._coveredTiles={},this._state=new u.SourceFeatureState}return v&&(c.__proto__=v),(c.prototype=Object.create(v&&v.prototype)).constructor=c,c.prototype.onAdd=function(l){this.map=l,this._maxTileCacheSize=l?l._maxTileCacheSize:null,this._source&&this._source.onAdd&&this._source.onAdd(l)},c.prototype.onRemove=function(l){this._source&&this._source.onRemove&&this._source.onRemove(l)},c.prototype.loaded=function(){if(this._sourceErrored)return!0;if(!this._sourceLoaded||!this._source.loaded())return!1;for(var l in this._tiles){var g=this._tiles[l];if(g.state!=="loaded"&&g.state!=="errored")return!1}return!0},c.prototype.getSource=function(){return this._source},c.prototype.pause=function(){this._paused=!0},c.prototype.resume=function(){if(this._paused){var l=this._shouldReloadOnResume;this._paused=!1,this._shouldReloadOnResume=!1,l&&this.reload(),this.transform&&this.update(this.transform)}},c.prototype._loadTile=function(l,g){return this._source.loadTile(l,g)},c.prototype._unloadTile=function(l){if(this._source.unloadTile)return this._source.unloadTile(l,function(){})},c.prototype._abortTile=function(l){if(this._source.abortTile)return this._source.abortTile(l,function(){})},c.prototype.serialize=function(){return this._source.serialize()},c.prototype.prepare=function(l){for(var g in this._source.prepare&&this._source.prepare(),this._state.coalesceChanges(this._tiles,this.map?this.map.painter:null),this._tiles){var F=this._tiles[g];F.upload(l),F.prepare(this.map.style.imageManager)}},c.prototype.getIds=function(){return u.values(this._tiles).map(function(l){return l.tileID}).sort(Oe).map(function(l){return l.key})},c.prototype.getRenderableIds=function(l){var g=this,F=[];for(var Q in this._tiles)this._isIdRenderable(Q,l)&&F.push(this._tiles[Q]);return l?F.sort(function(se,_e){var mt=se.tileID,Rt=_e.tileID,ir=new u.Point(mt.canonical.x,mt.canonical.y)._rotate(g.transform.angle),rr=new u.Point(Rt.canonical.x,Rt.canonical.y)._rotate(g.transform.angle);return mt.overscaledZ-Rt.overscaledZ||rr.y-ir.y||rr.x-ir.x}).map(function(se){return se.tileID.key}):F.map(function(se){return se.tileID}).sort(Oe).map(function(se){return se.key})},c.prototype.hasRenderableParent=function(l){var g=this.findLoadedParent(l,0);return!!g&&this._isIdRenderable(g.tileID.key)},c.prototype._isIdRenderable=function(l,g){return this._tiles[l]&&this._tiles[l].hasData()&&!this._coveredTiles[l]&&(g||!this._tiles[l].holdingForFade())},c.prototype.reload=function(){if(this._paused)this._shouldReloadOnResume=!0;else for(var l in this._cache.reset(),this._tiles)this._tiles[l].state!=="errored"&&this._reloadTile(l,"reloading")},c.prototype._reloadTile=function(l,g){var F=this._tiles[l];F&&(F.state!=="loading"&&(F.state=g),this._loadTile(F,this._tileLoaded.bind(this,F,l,g)))},c.prototype._tileLoaded=function(l,g,F,Q){if(Q)return l.state="errored",void(Q.status!==404?this._source.fire(new u.ErrorEvent(Q,{tile:l})):this.update(this.transform));l.timeAdded=u.browser.now(),F==="expired"&&(l.refreshedUponExpiration=!0),this._setTileReloadTimer(g,l),this.getSource().type==="raster-dem"&&l.dem&&this._backfillDEM(l),this._state.initializeTileState(l,this.map?this.map.painter:null),this._source.fire(new u.Event("data",{dataType:"source",tile:l,coord:l.tileID}))},c.prototype._backfillDEM=function(l){for(var g=this.getRenderableIds(),F=0;F<g.length;F++){var Q=g[F];if(l.neighboringTiles&&l.neighboringTiles[Q]){var se=this.getTileByID(Q);_e(l,se),_e(se,l)}}function _e(mt,Rt){mt.needsHillshadePrepare=!0;var ir=Rt.tileID.canonical.x-mt.tileID.canonical.x,rr=Rt.tileID.canonical.y-mt.tileID.canonical.y,ur=Math.pow(2,mt.tileID.canonical.z),kr=Rt.tileID.key;ir===0&&rr===0||Math.abs(rr)>1||(Math.abs(ir)>1&&(Math.abs(ir+ur)===1?ir+=ur:Math.abs(ir-ur)===1&&(ir-=ur)),Rt.dem&&mt.dem&&(mt.dem.backfillBorder(Rt.dem,ir,rr),mt.neighboringTiles&&mt.neighboringTiles[kr]&&(mt.neighboringTiles[kr].backfilled=!0)))}},c.prototype.getTile=function(l){return this.getTileByID(l.key)},c.prototype.getTileByID=function(l){return this._tiles[l]},c.prototype._retainLoadedChildren=function(l,g,F,Q){for(var se in this._tiles){var _e=this._tiles[se];if(!(Q[se]||!_e.hasData()||_e.tileID.overscaledZ<=g||_e.tileID.overscaledZ>F)){for(var mt=_e.tileID;_e&&_e.tileID.overscaledZ>g+1;){var Rt=_e.tileID.scaledTo(_e.tileID.overscaledZ-1);(_e=this._tiles[Rt.key])&&_e.hasData()&&(mt=Rt)}for(var ir=mt;ir.overscaledZ>g;)if(l[(ir=ir.scaledTo(ir.overscaledZ-1)).key]){Q[mt.key]=mt;break}}}},c.prototype.findLoadedParent=function(l,g){if(l.key in this._loadedParentTiles){var F=this._loadedParentTiles[l.key];return F&&F.tileID.overscaledZ>=g?F:null}for(var Q=l.overscaledZ-1;Q>=g;Q--){var se=l.scaledTo(Q),_e=this._getLoadedTile(se);if(_e)return _e}},c.prototype._getLoadedTile=function(l){var g=this._tiles[l.key];return g&&g.hasData()?g:this._cache.getByKey(l.wrapped().key)},c.prototype.updateCacheSize=function(l){var g=Math.ceil(l.width/this._source.tileSize)+1,F=Math.ceil(l.height/this._source.tileSize)+1,Q=Math.floor(g*F*5),se=typeof this._maxTileCacheSize=="number"?Math.min(this._maxTileCacheSize,Q):Q;this._cache.setMaxSize(se)},c.prototype.handleWrapJump=function(l){var g=Math.round((l-(this._prevLng===void 0?l:this._prevLng))/360);if(this._prevLng=l,g){var F={};for(var Q in this._tiles){var se=this._tiles[Q];se.tileID=se.tileID.unwrapTo(se.tileID.wrap+g),F[se.tileID.key]=se}for(var _e in this._tiles=F,this._timers)clearTimeout(this._timers[_e]),delete this._timers[_e];for(var mt in this._tiles)this._setTileReloadTimer(mt,this._tiles[mt])}},c.prototype.update=function(l){var g=this;if(this.transform=l,this._sourceLoaded&&!this._paused){var F;this.updateCacheSize(l),this.handleWrapJump(this.transform.center.lng),this._coveredTiles={},this.used?this._source.tileID?F=l.getVisibleUnwrappedCoordinates(this._source.tileID).map(function(sa){return new u.OverscaledTileID(sa.canonical.z,sa.wrap,sa.canonical.z,sa.canonical.x,sa.canonical.y)}):(F=l.coveringTiles({tileSize:this._source.tileSize,minzoom:this._source.minzoom,maxzoom:this._source.maxzoom,roundZoom:this._source.roundZoom,reparseOverscaled:this._source.reparseOverscaled}),this._source.hasTile&&(F=F.filter(function(sa){return g._source.hasTile(sa)}))):F=[];var Q=l.coveringZoomLevel(this._source),se=Math.max(Q-c.maxOverzooming,this._source.minzoom),_e=Math.max(Q+c.maxUnderzooming,this._source.minzoom),mt=this._updateRetainedTiles(F,Q);if(dt(this._source.type)){for(var Rt={},ir={},rr=0,ur=Object.keys(mt);rr<ur.length;rr+=1){var kr=ur[rr],Nr=mt[kr],Xr=this._tiles[kr];if(Xr&&!(Xr.fadeEndTime&&Xr.fadeEndTime<=u.browser.now())){var Br=this.findLoadedParent(Nr,se);Br&&(this._addTile(Br.tileID),Rt[Br.tileID.key]=Br.tileID),ir[kr]=Nr}}for(var Hr in this._retainLoadedChildren(ir,Q,_e,mt),Rt)mt[Hr]||(this._coveredTiles[Hr]=!0,mt[Hr]=Rt[Hr])}for(var hn in mt)this._tiles[hn].clearFadeHold();for(var pn=0,la=u.keysDifference(this._tiles,mt);pn<la.length;pn+=1){var Gn=la[pn],aa=this._tiles[Gn];aa.hasSymbolBuckets&&!aa.holdingForFade()?aa.setHoldDuration(this.map._fadeDuration):aa.hasSymbolBuckets&&!aa.symbolFadeFinished()||this._removeTile(Gn)}this._updateLoadedParentTileCache()}},c.prototype.releaseSymbolFadeTiles=function(){for(var l in this._tiles)this._tiles[l].holdingForFade()&&this._removeTile(l)},c.prototype._updateRetainedTiles=function(l,g){for(var F={},Q={},se=Math.max(g-c.maxOverzooming,this._source.minzoom),_e=Math.max(g+c.maxUnderzooming,this._source.minzoom),mt={},Rt=0,ir=l;Rt<ir.length;Rt+=1){var rr=ir[Rt],ur=this._addTile(rr);F[rr.key]=rr,ur.hasData()||g<this._source.maxzoom&&(mt[rr.key]=rr)}this._retainLoadedChildren(mt,g,_e,F);for(var kr=0,Nr=l;kr<Nr.length;kr+=1){var Xr=Nr[kr],Br=this._tiles[Xr.key];if(!Br.hasData()){if(g+1>this._source.maxzoom){var Hr=Xr.children(this._source.maxzoom)[0],hn=this.getTile(Hr);if(hn&&hn.hasData()){F[Hr.key]=Hr;continue}}else{var pn=Xr.children(this._source.maxzoom);if(F[pn[0].key]&&F[pn[1].key]&&F[pn[2].key]&&F[pn[3].key])continue}for(var la=Br.wasRequested(),Gn=Xr.overscaledZ-1;Gn>=se;--Gn){var aa=Xr.scaledTo(Gn);if(Q[aa.key]||(Q[aa.key]=!0,!(Br=this.getTile(aa))&&la&&(Br=this._addTile(aa)),Br&&(F[aa.key]=aa,la=Br.wasRequested(),Br.hasData())))break}}}return F},c.prototype._updateLoadedParentTileCache=function(){for(var l in this._loadedParentTiles={},this._tiles){for(var g=[],F=void 0,Q=this._tiles[l].tileID;Q.overscaledZ>0;){if(Q.key in this._loadedParentTiles){F=this._loadedParentTiles[Q.key];break}g.push(Q.key);var se=Q.scaledTo(Q.overscaledZ-1);if(F=this._getLoadedTile(se))break;Q=se}for(var _e=0,mt=g;_e<mt.length;_e+=1)this._loadedParentTiles[mt[_e]]=F}},c.prototype._addTile=function(l){var g=this._tiles[l.key];if(g)return g;(g=this._cache.getAndRemove(l))&&(this._setTileReloadTimer(l.key,g),g.tileID=l,this._state.initializeTileState(g,this.map?this.map.painter:null),this._cacheTimers[l.key]&&(clearTimeout(this._cacheTimers[l.key]),delete this._cacheTimers[l.key],this._setTileReloadTimer(l.key,g)));var F=Boolean(g);return F||(g=new u.Tile(l,this._source.tileSize*l.overscaleFactor()),this._loadTile(g,this._tileLoaded.bind(this,g,l.key,g.state))),g?(g.uses++,this._tiles[l.key]=g,F||this._source.fire(new u.Event("dataloading",{tile:g,coord:g.tileID,dataType:"source"})),g):null},c.prototype._setTileReloadTimer=function(l,g){var F=this;l in this._timers&&(clearTimeout(this._timers[l]),delete this._timers[l]);var Q=g.getExpiryTimeout();Q&&(this._timers[l]=setTimeout(function(){F._reloadTile(l,"expired"),delete F._timers[l]},Q))},c.prototype._removeTile=function(l){var g=this._tiles[l];g&&(g.uses--,delete this._tiles[l],this._timers[l]&&(clearTimeout(this._timers[l]),delete this._timers[l]),g.uses>0||(g.hasData()&&g.state!=="reloading"?this._cache.add(g.tileID,g,g.getExpiryTimeout()):(g.aborted=!0,this._abortTile(g),this._unloadTile(g))))},c.prototype.clearTiles=function(){for(var l in this._shouldReloadOnResume=!1,this._paused=!1,this._tiles)this._removeTile(l);this._cache.reset()},c.prototype.tilesIn=function(l,g,F){var Q=this,se=[],_e=this.transform;if(!_e)return se;for(var mt=F?_e.getCameraQueryGeometry(l):l,Rt=l.map(function(Gn){return _e.pointCoordinate(Gn)}),ir=mt.map(function(Gn){return _e.pointCoordinate(Gn)}),rr=this.getIds(),ur=1/0,kr=1/0,Nr=-1/0,Xr=-1/0,Br=0,Hr=ir;Br<Hr.length;Br+=1){var hn=Hr[Br];ur=Math.min(ur,hn.x),kr=Math.min(kr,hn.y),Nr=Math.max(Nr,hn.x),Xr=Math.max(Xr,hn.y)}for(var pn=function(aa){var sa=Q._tiles[rr[aa]];if(!sa.holdingForFade()){var Ya=sa.tileID,Ka=Math.pow(2,_e.zoom-sa.tileID.overscaledZ),Di=g*sa.queryPadding*u.EXTENT/sa.tileSize/Ka,di=[Ya.getTilePoint(new u.MercatorCoordinate(ur,kr)),Ya.getTilePoint(new u.MercatorCoordinate(Nr,Xr))];if(di[0].x-Di<u.EXTENT&&di[0].y-Di<u.EXTENT&&di[1].x+Di>=0&&di[1].y+Di>=0){var Eo=Rt.map(function(Wo){return Ya.getTilePoint(Wo)}),Bo=ir.map(function(Wo){return Ya.getTilePoint(Wo)});se.push({tile:sa,tileID:Ya,queryGeometry:Eo,cameraQueryGeometry:Bo,scale:Ka})}}},la=0;la<rr.length;la++)pn(la);return se},c.prototype.getVisibleCoordinates=function(l){for(var g=this,F=this.getRenderableIds(l).map(function(mt){return g._tiles[mt].tileID}),Q=0,se=F;Q<se.length;Q+=1){var _e=se[Q];_e.posMatrix=this.transform.calculatePosMatrix(_e.toUnwrapped())}return F},c.prototype.hasTransition=function(){if(this._source.hasTransition())return!0;if(dt(this._source.type))for(var l in this._tiles){var g=this._tiles[l];if(g.fadeEndTime!==void 0&&g.fadeEndTime>=u.browser.now())return!0}return!1},c.prototype.setFeatureState=function(l,g,F){this._state.updateState(l=l||"_geojsonTileLayer",g,F)},c.prototype.removeFeatureState=function(l,g,F){this._state.removeFeatureState(l=l||"_geojsonTileLayer",g,F)},c.prototype.getFeatureState=function(l,g){return this._state.getState(l=l||"_geojsonTileLayer",g)},c.prototype.setDependencies=function(l,g,F){var Q=this._tiles[l];Q&&Q.setDependencies(g,F)},c.prototype.reloadTilesForDependencies=function(l,g){for(var F in this._tiles)this._tiles[F].hasDependency(l,g)&&this._reloadTile(F,"reloading");this._cache.filter(function(Q){return!Q.hasDependency(l,g)})},c}(u.Evented);function Oe(v,c){var l=Math.abs(2*v.wrap)-+(v.wrap<0),g=Math.abs(2*c.wrap)-+(c.wrap<0);return v.overscaledZ-c.overscaledZ||g-l||c.canonical.y-v.canonical.y||c.canonical.x-v.canonical.x}function dt(v){return v==="raster"||v==="image"||v==="video"}function Gt(){return new u.window.Worker(Cp.workerUrl)}xe.maxOverzooming=10,xe.maxUnderzooming=3;var $t="mapboxgl_preloaded_worker_pool",nr=function(){this.active={}};nr.prototype.acquire=function(v){if(!this.workers)for(this.workers=[];this.workers.length<nr.workerCount;)this.workers.push(new Gt);return this.active[v]=!0,this.workers.slice()},nr.prototype.release=function(v){delete this.active[v],this.numActive()===0&&(this.workers.forEach(function(c){c.terminate()}),this.workers=null)},nr.prototype.isPreloaded=function(){return!!this.active[$t]},nr.prototype.numActive=function(){return Object.keys(this.active).length};var lr,Dr=Math.floor(u.browser.hardwareConcurrency/2);function Pr(){return lr||(lr=new nr),lr}function Wr(v,c){var l={};for(var g in v)g!=="ref"&&(l[g]=v[g]);return u.refProperties.forEach(function(F){F in c&&(l[F]=c[F])}),l}function an(v){v=v.slice();for(var c=Object.create(null),l=0;l<v.length;l++)c[v[l].id]=v[l];for(var g=0;g<v.length;g++)"ref"in v[g]&&(v[g]=Wr(v[g],c[v[g].ref]));return v}nr.workerCount=Math.max(Math.min(Dr,6),1);var dn={setStyle:"setStyle",addLayer:"addLayer",removeLayer:"removeLayer",setPaintProperty:"setPaintProperty",setLayoutProperty:"setLayoutProperty",setFilter:"setFilter",addSource:"addSource",removeSource:"removeSource",setGeoJSONSourceData:"setGeoJSONSourceData",setLayerZoomRange:"setLayerZoomRange",setLayerProperty:"setLayerProperty",setCenter:"setCenter",setZoom:"setZoom",setBearing:"setBearing",setPitch:"setPitch",setSprite:"setSprite",setGlyphs:"setGlyphs",setTransition:"setTransition",setLight:"setLight"};function Rn(v,c,l){l.push({command:dn.addSource,args:[v,c[v]]})}function zn(v,c,l){c.push({command:dn.removeSource,args:[v]}),l[v]=!0}function Qn(v,c,l,g){zn(v,l,g),Rn(v,c,l)}function Ma(v,c,l){var g;for(g in v[l])if(v[l].hasOwnProperty(g)&&g!=="data"&&!u.deepEqual(v[l][g],c[l][g]))return!1;for(g in c[l])if(c[l].hasOwnProperty(g)&&g!=="data"&&!u.deepEqual(v[l][g],c[l][g]))return!1;return!0}function Ca(v,c,l,g,F,Q){var se;for(se in c=c||{},v=v||{})v.hasOwnProperty(se)&&(u.deepEqual(v[se],c[se])||l.push({command:Q,args:[g,se,c[se],F]}));for(se in c)c.hasOwnProperty(se)&&!v.hasOwnProperty(se)&&(u.deepEqual(v[se],c[se])||l.push({command:Q,args:[g,se,c[se],F]}))}function ia(v){return v.id}function _a(v,c){return v[c.id]=c,v}var $a=function(c,l){this.reset(c,l)};$a.prototype.reset=function(v,c){this.points=v||[],this._distances=[0];for(var l=1;l<this.points.length;l++)this._distances[l]=this._distances[l-1]+this.points[l].dist(this.points[l-1]);this.length=this._distances[this._distances.length-1],this.padding=Math.min(c||0,.5*this.length),this.paddedLength=this.length-2*this.padding},$a.prototype.lerp=function(v){if(this.points.length===1)return this.points[0];v=u.clamp(v,0,1);for(var c=1,l=this._distances[c],g=v*this.paddedLength+this.padding;l<g&&c<this._distances.length;)l=this._distances[++c];var F=c-1,Q=this._distances[F],se=l-Q,_e=se>0?(g-Q)/se:0;return this.points[F].mult(1-_e).add(this.points[c].mult(_e))};var ra=function(c,l,g){var F=this.boxCells=[],Q=this.circleCells=[];this.xCellCount=Math.ceil(c/g),this.yCellCount=Math.ceil(l/g);for(var se=0;se<this.xCellCount*this.yCellCount;se++)F.push([]),Q.push([]);this.circleKeys=[],this.boxKeys=[],this.bboxes=[],this.circles=[],this.width=c,this.height=l,this.xScale=this.xCellCount/c,this.yScale=this.yCellCount/l,this.boxUid=0,this.circleUid=0};function ni(v,c,l,g,F){var Q=u.create();return c?(u.scale(Q,Q,[1/F,1/F,1]),l||u.rotateZ(Q,Q,g.angle)):u.multiply(Q,g.labelPlaneMatrix,v),Q}function Da(v,c,l,g,F){if(c){var Q=u.clone(v);return u.scale(Q,Q,[F,F,1]),l||u.rotateZ(Q,Q,-g.angle),Q}return g.glCoordMatrix}function Fa(v,c){var l=[v.x,v.y,0,1];To(l,l,c);var g=l[3];return{point:new u.Point(l[0]/g,l[1]/g),signedDistanceFromCamera:g}}function ba(v,c){return .5+v/c*.5}function Oi(v,c){var l=v[0]/v[3],g=v[1]/v[3];return l>=-c[0]&&l<=c[0]&&g>=-c[1]&&g<=c[1]}function Do(v,c,l,g,F,Q,se,_e){var mt=g?v.textSizeData:v.iconSizeData,Rt=u.evaluateSizeForZoom(mt,l.transform.zoom),ir=[256/l.width*2+1,256/l.height*2+1],rr=g?v.text.dynamicLayoutVertexArray:v.icon.dynamicLayoutVertexArray;rr.clear();for(var ur=v.lineVertexArray,kr=g?v.text.placedSymbolArray:v.icon.placedSymbolArray,Nr=l.transform.width/l.transform.height,Xr=!1,Br=0;Br<kr.length;Br++){var Hr=kr.get(Br);if(Hr.hidden||Hr.writingMode===u.WritingMode.vertical&&!Xr)_o(Hr.numGlyphs,rr);else{Xr=!1;var hn=[Hr.anchorX,Hr.anchorY,0,1];if(u.transformMat4(hn,hn,c),Oi(hn,ir)){var pn=ba(l.transform.cameraToCenterDistance,hn[3]),la=u.evaluateSizeForFeature(mt,Rt,Hr),Gn=se?la/pn:la*pn,aa=new u.Point(Hr.anchorX,Hr.anchorY),sa=Fa(aa,F).point,Ya={},Ka=Na(Hr,Gn,!1,_e,c,F,Q,v.glyphOffsetArray,ur,rr,sa,aa,Ya,Nr);Xr=Ka.useVertical,(Ka.notEnoughRoom||Xr||Ka.needsFlipping&&Na(Hr,Gn,!0,_e,c,F,Q,v.glyphOffsetArray,ur,rr,sa,aa,Ya,Nr).notEnoughRoom)&&_o(Hr.numGlyphs,rr)}else _o(Hr.numGlyphs,rr)}}g?v.text.dynamicLayoutVertexBuffer.updateData(rr):v.icon.dynamicLayoutVertexBuffer.updateData(rr)}function Li(v,c,l,g,F,Q,se,_e,mt,Rt,ir){var rr=_e.glyphStartIndex+_e.numGlyphs,ur=_e.lineStartIndex,kr=_e.lineStartIndex+_e.lineLength,Nr=c.getoffsetX(_e.glyphStartIndex),Xr=c.getoffsetX(rr-1),Br=ga(v*Nr,l,g,F,Q,se,_e.segment,ur,kr,mt,Rt,ir);if(!Br)return null;var Hr=ga(v*Xr,l,g,F,Q,se,_e.segment,ur,kr,mt,Rt,ir);return Hr?{first:Br,last:Hr}:null}function Ui(v,c,l,g){return v===u.WritingMode.horizontal&&Math.abs(l.y-c.y)>Math.abs(l.x-c.x)*g?{useVertical:!0}:(v===u.WritingMode.vertical?c.y<l.y:c.x>l.x)?{needsFlipping:!0}:null}function Na(v,c,l,g,F,Q,se,_e,mt,Rt,ir,rr,ur,kr){var Nr,Xr=c/24,Br=v.lineOffsetX*Xr,Hr=v.lineOffsetY*Xr;if(v.numGlyphs>1){var hn=v.glyphStartIndex+v.numGlyphs,pn=v.lineStartIndex,la=v.lineStartIndex+v.lineLength,Gn=Li(Xr,_e,Br,Hr,l,ir,rr,v,mt,Q,ur);if(!Gn)return{notEnoughRoom:!0};var aa=Fa(Gn.first.point,se).point,sa=Fa(Gn.last.point,se).point;if(g&&!l){var Ya=Ui(v.writingMode,aa,sa,kr);if(Ya)return Ya}Nr=[Gn.first];for(var Ka=v.glyphStartIndex+1;Ka<hn-1;Ka++)Nr.push(ga(Xr*_e.getoffsetX(Ka),Br,Hr,l,ir,rr,v.segment,pn,la,mt,Q,ur));Nr.push(Gn.last)}else{if(g&&!l){var Di=Fa(rr,F).point,di=v.lineStartIndex+v.segment+1,Eo=new u.Point(mt.getx(di),mt.gety(di)),Bo=Fa(Eo,F),Wo=Bo.signedDistanceFromCamera>0?Bo.point:wa(rr,Eo,Di,1,F),ll=Ui(v.writingMode,Di,Wo,kr);if(ll)return ll}var _i=ga(Xr*_e.getoffsetX(v.glyphStartIndex),Br,Hr,l,ir,rr,v.segment,v.lineStartIndex,v.lineStartIndex+v.lineLength,mt,Q,ur);if(!_i)return{notEnoughRoom:!0};Nr=[_i]}for(var Qo=0,os=Nr;Qo<os.length;Qo+=1){var qi=os[Qo];u.addDynamicAttributes(Rt,qi.point,qi.angle)}return{}}function wa(v,c,l,g,F){var Q=Fa(v.add(v.sub(c)._unit()),F).point,se=l.sub(Q);return l.add(se._mult(g/se.mag()))}function ga(v,c,l,g,F,Q,se,_e,mt,Rt,ir,rr){var ur=g?v-c:v+c,kr=ur>0?1:-1,Nr=0;g&&(kr*=-1,Nr=Math.PI),kr<0&&(Nr+=Math.PI);for(var Xr=kr>0?_e+se:_e+se+1,Br=F,Hr=F,hn=0,pn=0,la=Math.abs(ur),Gn=[];hn+pn<=la;){if((Xr+=kr)<_e||Xr>=mt)return null;if(Hr=Br,Gn.push(Br),(Br=rr[Xr])===void 0){var aa=new u.Point(Rt.getx(Xr),Rt.gety(Xr)),sa=Fa(aa,ir);if(sa.signedDistanceFromCamera>0)Br=rr[Xr]=sa.point;else{var Ya=Xr-kr;Br=wa(hn===0?Q:new u.Point(Rt.getx(Ya),Rt.gety(Ya)),aa,Hr,la-hn+1,ir)}}hn+=pn,pn=Hr.dist(Br)}var Ka=(la-hn)/pn,Di=Br.sub(Hr),di=Di.mult(Ka)._add(Hr);di._add(Di._unit()._perp()._mult(l*kr));var Eo=Nr+Math.atan2(Br.y-Hr.y,Br.x-Hr.x);return Gn.push(di),{point:di,angle:Eo,path:Gn}}ra.prototype.keysLength=function(){return this.boxKeys.length+this.circleKeys.length},ra.prototype.insert=function(v,c,l,g,F){this._forEachCell(c,l,g,F,this._insertBoxCell,this.boxUid++),this.boxKeys.push(v),this.bboxes.push(c),this.bboxes.push(l),this.bboxes.push(g),this.bboxes.push(F)},ra.prototype.insertCircle=function(v,c,l,g){this._forEachCell(c-g,l-g,c+g,l+g,this._insertCircleCell,this.circleUid++),this.circleKeys.push(v),this.circles.push(c),this.circles.push(l),this.circles.push(g)},ra.prototype._insertBoxCell=function(v,c,l,g,F,Q){this.boxCells[F].push(Q)},ra.prototype._insertCircleCell=function(v,c,l,g,F,Q){this.circleCells[F].push(Q)},ra.prototype._query=function(v,c,l,g,F,Q){if(l<0||v>this.width||g<0||c>this.height)return!F&&[];var se=[];if(v<=0&&c<=0&&this.width<=l&&this.height<=g){if(F)return!0;for(var _e=0;_e<this.boxKeys.length;_e++)se.push({key:this.boxKeys[_e],x1:this.bboxes[4*_e],y1:this.bboxes[4*_e+1],x2:this.bboxes[4*_e+2],y2:this.bboxes[4*_e+3]});for(var mt=0;mt<this.circleKeys.length;mt++){var Rt=this.circles[3*mt],ir=this.circles[3*mt+1],rr=this.circles[3*mt+2];se.push({key:this.circleKeys[mt],x1:Rt-rr,y1:ir-rr,x2:Rt+rr,y2:ir+rr})}return Q?se.filter(Q):se}return this._forEachCell(v,c,l,g,this._queryCell,se,{hitTest:F,seenUids:{box:{},circle:{}}},Q),F?se.length>0:se},ra.prototype._queryCircle=function(v,c,l,g,F){var Q=v-l,se=v+l,_e=c-l,mt=c+l;if(se<0||Q>this.width||mt<0||_e>this.height)return!g&&[];var Rt=[];return this._forEachCell(Q,_e,se,mt,this._queryCellCircle,Rt,{hitTest:g,circle:{x:v,y:c,radius:l},seenUids:{box:{},circle:{}}},F),g?Rt.length>0:Rt},ra.prototype.query=function(v,c,l,g,F){return this._query(v,c,l,g,!1,F)},ra.prototype.hitTest=function(v,c,l,g,F){return this._query(v,c,l,g,!0,F)},ra.prototype.hitTestCircle=function(v,c,l,g){return this._queryCircle(v,c,l,!0,g)},ra.prototype._queryCell=function(v,c,l,g,F,Q,se,_e){var mt=se.seenUids,Rt=this.boxCells[F];if(Rt!==null)for(var ir=this.bboxes,rr=0,ur=Rt;rr<ur.length;rr+=1){var kr=ur[rr];if(!mt.box[kr]){mt.box[kr]=!0;var Nr=4*kr;if(v<=ir[Nr+2]&&c<=ir[Nr+3]&&l>=ir[Nr+0]&&g>=ir[Nr+1]&&(!_e||_e(this.boxKeys[kr]))){if(se.hitTest)return Q.push(!0),!0;Q.push({key:this.boxKeys[kr],x1:ir[Nr],y1:ir[Nr+1],x2:ir[Nr+2],y2:ir[Nr+3]})}}}var Xr=this.circleCells[F];if(Xr!==null)for(var Br=this.circles,Hr=0,hn=Xr;Hr<hn.length;Hr+=1){var pn=hn[Hr];if(!mt.circle[pn]){mt.circle[pn]=!0;var la=3*pn;if(this._circleAndRectCollide(Br[la],Br[la+1],Br[la+2],v,c,l,g)&&(!_e||_e(this.circleKeys[pn]))){if(se.hitTest)return Q.push(!0),!0;var Gn=Br[la],aa=Br[la+1],sa=Br[la+2];Q.push({key:this.circleKeys[pn],x1:Gn-sa,y1:aa-sa,x2:Gn+sa,y2:aa+sa})}}}},ra.prototype._queryCellCircle=function(v,c,l,g,F,Q,se,_e){var mt=se.circle,Rt=se.seenUids,ir=this.boxCells[F];if(ir!==null)for(var rr=this.bboxes,ur=0,kr=ir;ur<kr.length;ur+=1){var Nr=kr[ur];if(!Rt.box[Nr]){Rt.box[Nr]=!0;var Xr=4*Nr;if(this._circleAndRectCollide(mt.x,mt.y,mt.radius,rr[Xr+0],rr[Xr+1],rr[Xr+2],rr[Xr+3])&&(!_e||_e(this.boxKeys[Nr])))return Q.push(!0),!0}}var Br=this.circleCells[F];if(Br!==null)for(var Hr=this.circles,hn=0,pn=Br;hn<pn.length;hn+=1){var la=pn[hn];if(!Rt.circle[la]){Rt.circle[la]=!0;var Gn=3*la;if(this._circlesCollide(Hr[Gn],Hr[Gn+1],Hr[Gn+2],mt.x,mt.y,mt.radius)&&(!_e||_e(this.circleKeys[la])))return Q.push(!0),!0}}},ra.prototype._forEachCell=function(v,c,l,g,F,Q,se,_e){for(var mt=this._convertToXCellCoord(v),Rt=this._convertToYCellCoord(c),ir=this._convertToXCellCoord(l),rr=this._convertToYCellCoord(g),ur=mt;ur<=ir;ur++)for(var kr=Rt;kr<=rr;kr++)if(F.call(this,v,c,l,g,this.xCellCount*kr+ur,Q,se,_e))return},ra.prototype._convertToXCellCoord=function(v){return Math.max(0,Math.min(this.xCellCount-1,Math.floor(v*this.xScale)))},ra.prototype._convertToYCellCoord=function(v){return Math.max(0,Math.min(this.yCellCount-1,Math.floor(v*this.yScale)))},ra.prototype._circlesCollide=function(v,c,l,g,F,Q){var se=g-v,_e=F-c,mt=l+Q;return mt*mt>se*se+_e*_e},ra.prototype._circleAndRectCollide=function(v,c,l,g,F,Q,se){var _e=(Q-g)/2,mt=Math.abs(v-(g+_e));if(mt>_e+l)return!1;var Rt=(se-F)/2,ir=Math.abs(c-(F+Rt));if(ir>Rt+l)return!1;if(mt<=_e||ir<=Rt)return!0;var rr=mt-_e,ur=ir-Rt;return rr*rr+ur*ur<=l*l};var pi=new Float32Array([-1/0,-1/0,0,-1/0,-1/0,0,-1/0,-1/0,0,-1/0,-1/0,0]);function _o(v,c){for(var l=0;l<v;l++){var g=c.length;c.resize(g+4),c.float32.set(pi,3*g)}}function To(v,c,l){var g=c[0],F=c[1];return v[0]=l[0]*g+l[4]*F+l[12],v[1]=l[1]*g+l[5]*F+l[13],v[3]=l[3]*g+l[7]*F+l[15],v}var so=function(c,l,g){l===void 0&&(l=new ra(c.width+200,c.height+200,25)),g===void 0&&(g=new ra(c.width+200,c.height+200,25)),this.transform=c,this.grid=l,this.ignoredGrid=g,this.pitchfactor=Math.cos(c._pitch)*c.cameraToCenterDistance,this.screenRightBoundary=c.width+100,this.screenBottomBoundary=c.height+100,this.gridRightBoundary=c.width+200,this.gridBottomBoundary=c.height+200};function vi(v,c,l){return c*(u.EXTENT/(v.tileSize*Math.pow(2,l-v.tileID.overscaledZ)))}so.prototype.placeCollisionBox=function(v,c,l,g,F){var Q=this.projectAndGetPerspectiveRatio(g,v.anchorPointX,v.anchorPointY),se=l*Q.perspectiveRatio,_e=v.x1*se+Q.point.x,mt=v.y1*se+Q.point.y,Rt=v.x2*se+Q.point.x,ir=v.y2*se+Q.point.y;return!this.isInsideGrid(_e,mt,Rt,ir)||!c&&this.grid.hitTest(_e,mt,Rt,ir,F)?{box:[],offscreen:!1}:{box:[_e,mt,Rt,ir],offscreen:this.isOffscreen(_e,mt,Rt,ir)}},so.prototype.placeCollisionCircles=function(v,c,l,g,F,Q,se,_e,mt,Rt,ir,rr,ur){var kr=[],Nr=new u.Point(c.anchorX,c.anchorY),Xr=Fa(Nr,Q),Br=ba(this.transform.cameraToCenterDistance,Xr.signedDistanceFromCamera),Hr=(Rt?F/Br:F*Br)/u.ONE_EM,hn=Fa(Nr,se).point,pn=Li(Hr,g,c.lineOffsetX*Hr,c.lineOffsetY*Hr,!1,hn,Nr,c,l,se,{}),la=!1,Gn=!1,aa=!0;if(pn){for(var sa=.5*rr*Br+ur,Ya=new u.Point(-100,-100),Ka=new u.Point(this.screenRightBoundary,this.screenBottomBoundary),Di=new $a,di=pn.first,Eo=pn.last,Bo=[],Wo=di.path.length-1;Wo>=1;Wo--)Bo.push(di.path[Wo]);for(var ll=1;ll<Eo.path.length;ll++)Bo.push(Eo.path[ll]);var _i=2.5*sa;if(_e){var Qo=Bo.map(function(Ht){return Fa(Ht,_e)});Bo=Qo.some(function(Ht){return Ht.signedDistanceFromCamera<=0})?[]:Qo.map(function(Ht){return Ht.point})}var os=[];if(Bo.length>0){for(var qi=Bo[0].clone(),hs=Bo[0].clone(),zo=1;zo<Bo.length;zo++)qi.x=Math.min(qi.x,Bo[zo].x),qi.y=Math.min(qi.y,Bo[zo].y),hs.x=Math.max(hs.x,Bo[zo].x),hs.y=Math.max(hs.y,Bo[zo].y);os=qi.x>=Ya.x&&hs.x<=Ka.x&&qi.y>=Ya.y&&hs.y<=Ka.y?[Bo]:hs.x<Ya.x||qi.x>Ka.x||hs.y<Ya.y||qi.y>Ka.y?[]:u.clipLine([Bo],Ya.x,Ya.y,Ka.x,Ka.y)}for(var us=0,Xs=os;us<Xs.length;us+=1){var au;Di.reset(Xs[us],.25*sa),au=Di.length<=.5*sa?1:Math.ceil(Di.paddedLength/_i)+1;for(var zs=0;zs<au;zs++){var pl=zs/Math.max(au-1,1),xl=Di.lerp(pl),Ns=xl.x+100,yc=xl.y+100;kr.push(Ns,yc,sa,0);var nc=Ns-sa,Ru=yc-sa,Hd=Ns+sa,Ft=yc+sa;if(aa=aa&&this.isOffscreen(nc,Ru,Hd,Ft),Gn=Gn||this.isInsideGrid(nc,Ru,Hd,Ft),!v&&this.grid.hitTestCircle(Ns,yc,sa,ir)&&(la=!0,!mt))return{circles:[],offscreen:!1,collisionDetected:la}}}}return{circles:!mt&&la||!Gn?[]:kr,offscreen:aa,collisionDetected:la}},so.prototype.queryRenderedSymbols=function(v){if(v.length===0||this.grid.keysLength()===0&&this.ignoredGrid.keysLength()===0)return{};for(var c=[],l=1/0,g=1/0,F=-1/0,Q=-1/0,se=0,_e=v;se<_e.length;se+=1){var mt=_e[se],Rt=new u.Point(mt.x+100,mt.y+100);l=Math.min(l,Rt.x),g=Math.min(g,Rt.y),F=Math.max(F,Rt.x),Q=Math.max(Q,Rt.y),c.push(Rt)}for(var ir={},rr={},ur=0,kr=this.grid.query(l,g,F,Q).concat(this.ignoredGrid.query(l,g,F,Q));ur<kr.length;ur+=1){var Nr=kr[ur],Xr=Nr.key;if(ir[Xr.bucketInstanceId]===void 0&&(ir[Xr.bucketInstanceId]={}),!ir[Xr.bucketInstanceId][Xr.featureIndex]){var Br=[new u.Point(Nr.x1,Nr.y1),new u.Point(Nr.x2,Nr.y1),new u.Point(Nr.x2,Nr.y2),new u.Point(Nr.x1,Nr.y2)];u.polygonIntersectsPolygon(c,Br)&&(ir[Xr.bucketInstanceId][Xr.featureIndex]=!0,rr[Xr.bucketInstanceId]===void 0&&(rr[Xr.bucketInstanceId]=[]),rr[Xr.bucketInstanceId].push(Xr.featureIndex))}}return rr},so.prototype.insertCollisionBox=function(v,c,l,g,F){(c?this.ignoredGrid:this.grid).insert({bucketInstanceId:l,featureIndex:g,collisionGroupID:F},v[0],v[1],v[2],v[3])},so.prototype.insertCollisionCircles=function(v,c,l,g,F){for(var Q=c?this.ignoredGrid:this.grid,se={bucketInstanceId:l,featureIndex:g,collisionGroupID:F},_e=0;_e<v.length;_e+=4)Q.insertCircle(se,v[_e],v[_e+1],v[_e+2])},so.prototype.projectAndGetPerspectiveRatio=function(v,c,l){var g=[c,l,0,1];return To(g,g,v),{point:new u.Point((g[0]/g[3]+1)/2*this.transform.width+100,(-g[1]/g[3]+1)/2*this.transform.height+100),perspectiveRatio:.5+this.transform.cameraToCenterDistance/g[3]*.5}},so.prototype.isOffscreen=function(v,c,l,g){return l<100||v>=this.screenRightBoundary||g<100||c>this.screenBottomBoundary},so.prototype.isInsideGrid=function(v,c,l,g){return l>=0&&v<this.gridRightBoundary&&g>=0&&c<this.gridBottomBoundary},so.prototype.getViewportMatrix=function(){var v=u.identity([]);return u.translate(v,v,[-100,-100,0]),v};var ko=function(c,l,g,F){this.opacity=c?Math.max(0,Math.min(1,c.opacity+(c.placed?l:-l))):F&&g?1:0,this.placed=g};ko.prototype.isHidden=function(){return this.opacity===0&&!this.placed};var bo=function(c,l,g,F,Q){this.text=new ko(c?c.text:null,l,g,Q),this.icon=new ko(c?c.icon:null,l,F,Q)};bo.prototype.isHidden=function(){return this.text.isHidden()&&this.icon.isHidden()};var Ba=function(c,l,g){this.text=c,this.icon=l,this.skipFade=g},Pa=function(){this.invProjMatrix=u.create(),this.viewportMatrix=u.create(),this.circles=[]},lo=function(c,l,g,F,Q){this.bucketInstanceId=c,this.featureIndex=l,this.sourceLayerIndex=g,this.bucketIndex=F,this.tileID=Q},No=function(c){this.crossSourceCollisions=c,this.maxGroupID=0,this.collisionGroups={}};function La(v,c,l,g,F){var Q=u.getAnchorAlignment(v),se=-(Q.horizontalAlign-.5)*c,_e=-(Q.verticalAlign-.5)*l,mt=u.evaluateVariableOffset(v,g);return new u.Point(se+mt[0]*F,_e+mt[1]*F)}function mr(v,c,l,g,F,Q){var se=v.x1,_e=v.x2,mt=v.y1,Rt=v.y2,ir=v.anchorPointX,rr=v.anchorPointY,ur=new u.Point(c,l);return g&&ur._rotate(F?Q:-Q),{x1:se+ur.x,y1:mt+ur.y,x2:_e+ur.x,y2:Rt+ur.y,anchorPointX:ir,anchorPointY:rr}}No.prototype.get=function(v){if(this.crossSourceCollisions)return{ID:0,predicate:null};if(!this.collisionGroups[v]){var c=++this.maxGroupID;this.collisionGroups[v]={ID:c,predicate:function(g){return g.collisionGroupID===c}}}return this.collisionGroups[v]};var Wt=function(c,l,g,F){this.transform=c.clone(),this.collisionIndex=new so(this.transform),this.placements={},this.opacities={},this.variableOffsets={},this.stale=!1,this.commitTime=0,this.fadeDuration=l,this.retainedQueryData={},this.collisionGroups=new No(g),this.collisionCircleArrays={},this.prevPlacement=F,F&&(F.prevPlacement=void 0),this.placedOrientations={}};function vr(v,c,l,g,F){v.emplaceBack(c?1:0,l?1:0,g||0,F||0),v.emplaceBack(c?1:0,l?1:0,g||0,F||0),v.emplaceBack(c?1:0,l?1:0,g||0,F||0),v.emplaceBack(c?1:0,l?1:0,g||0,F||0)}Wt.prototype.getBucketParts=function(v,c,l,g){var F=l.getBucket(c),Q=l.latestFeatureIndex;if(F&&Q&&c.id===F.layerIds[0]){var se=l.collisionBoxArray,_e=F.layers[0].layout,mt=Math.pow(2,this.transform.zoom-l.tileID.overscaledZ),Rt=l.tileSize/u.EXTENT,ir=this.transform.calculatePosMatrix(l.tileID.toUnwrapped()),rr=_e.get("text-pitch-alignment")==="map",ur=_e.get("text-rotation-alignment")==="map",kr=vi(l,1,this.transform.zoom),Nr=ni(ir,rr,ur,this.transform,kr),Xr=null;if(rr){var Br=Da(ir,rr,ur,this.transform,kr);Xr=u.multiply([],this.transform.labelPlaneMatrix,Br)}this.retainedQueryData[F.bucketInstanceId]=new lo(F.bucketInstanceId,Q,F.sourceLayerIndex,F.index,l.tileID);var Hr={bucket:F,layout:_e,posMatrix:ir,textLabelPlaneMatrix:Nr,labelToScreenMatrix:Xr,scale:mt,textPixelRatio:Rt,holdingForFade:l.holdingForFade(),collisionBoxArray:se,partiallyEvaluatedTextSize:u.evaluateSizeForZoom(F.textSizeData,this.transform.zoom),collisionGroup:this.collisionGroups.get(F.sourceID)};if(g)for(var hn=0,pn=F.sortKeyRanges;hn<pn.length;hn+=1){var la=pn[hn];v.push({sortKey:la.sortKey,symbolInstanceStart:la.symbolInstanceStart,symbolInstanceEnd:la.symbolInstanceEnd,parameters:Hr})}else v.push({symbolInstanceStart:0,symbolInstanceEnd:F.symbolInstances.length,parameters:Hr})}},Wt.prototype.attemptAnchorPlacement=function(v,c,l,g,F,Q,se,_e,mt,Rt,ir,rr,ur,kr,Nr){var Xr,Br=[rr.textOffset0,rr.textOffset1],Hr=La(v,l,g,Br,F),hn=this.collisionIndex.placeCollisionBox(mr(c,Hr.x,Hr.y,Q,se,this.transform.angle),ir,_e,mt,Rt.predicate);if(!Nr||this.collisionIndex.placeCollisionBox(mr(Nr,Hr.x,Hr.y,Q,se,this.transform.angle),ir,_e,mt,Rt.predicate).box.length!==0)return hn.box.length>0?(this.prevPlacement&&this.prevPlacement.variableOffsets[rr.crossTileID]&&this.prevPlacement.placements[rr.crossTileID]&&this.prevPlacement.placements[rr.crossTileID].text&&(Xr=this.prevPlacement.variableOffsets[rr.crossTileID].anchor),this.variableOffsets[rr.crossTileID]={textOffset:Br,width:l,height:g,anchor:v,textBoxScale:F,prevAnchor:Xr},this.markUsedJustification(ur,v,rr,kr),ur.allowVerticalPlacement&&(this.markUsedOrientation(ur,kr,rr),this.placedOrientations[rr.crossTileID]=kr),{shift:Hr,placedGlyphBoxes:hn}):void 0},Wt.prototype.placeLayerBucketPart=function(v,c,l){var g=this,F=v.parameters,Q=F.bucket,se=F.layout,_e=F.posMatrix,mt=F.textLabelPlaneMatrix,Rt=F.labelToScreenMatrix,ir=F.textPixelRatio,rr=F.holdingForFade,ur=F.collisionBoxArray,kr=F.partiallyEvaluatedTextSize,Nr=F.collisionGroup,Xr=se.get("text-optional"),Br=se.get("icon-optional"),Hr=se.get("text-allow-overlap"),hn=se.get("icon-allow-overlap"),pn=se.get("text-rotation-alignment")==="map",la=se.get("text-pitch-alignment")==="map",Gn=se.get("icon-text-fit")!=="none",aa=se.get("symbol-z-order")==="viewport-y",sa=Hr&&(hn||!Q.hasIconData()||Br),Ya=hn&&(Hr||!Q.hasTextData()||Xr);!Q.collisionArrays&&ur&&Q.deserializeCollisionBoxes(ur);var Ka=function(_i,Qo){if(!c[_i.crossTileID])if(rr)g.placements[_i.crossTileID]=new Ba(!1,!1,!1);else{var os,qi=!1,hs=!1,zo=!0,us=null,Xs={box:null,offscreen:null},au={box:null,offscreen:null},zs=null,pl=null,xl=0,Ns=0,yc=0;Qo.textFeatureIndex?xl=Qo.textFeatureIndex:_i.useRuntimeCollisionCircles&&(xl=_i.featureIndex),Qo.verticalTextFeatureIndex&&(Ns=Qo.verticalTextFeatureIndex);var nc=Qo.textBox;if(nc){var Ru=function(fs){var vs=u.WritingMode.horizontal;if(Q.allowVerticalPlacement&&!fs&&g.prevPlacement){var bs=g.prevPlacement.placedOrientations[_i.crossTileID];bs&&(g.placedOrientations[_i.crossTileID]=bs,g.markUsedOrientation(Q,vs=bs,_i))}return vs},Hd=function(fs,vs){if(Q.allowVerticalPlacement&&_i.numVerticalGlyphVertices>0&&Qo.verticalTextBox)for(var bs=0,Yl=Q.writingModes;bs<Yl.length&&(Yl[bs]===u.WritingMode.vertical?(Xs=vs(),au=Xs):Xs=fs(),!(Xs&&Xs.box&&Xs.box.length));bs+=1);else Xs=fs()};if(se.get("text-variable-anchor")){var Ft=se.get("text-variable-anchor");if(g.prevPlacement&&g.prevPlacement.variableOffsets[_i.crossTileID]){var Ht=g.prevPlacement.variableOffsets[_i.crossTileID];Ft.indexOf(Ht.anchor)>0&&(Ft=Ft.filter(function(So){return So!==Ht.anchor})).unshift(Ht.anchor)}var Ue=function(fs,vs,bs){for(var Yl=fs.x2-fs.x1,Ml=fs.y2-fs.y1,Xu=_i.textBoxScale,Ul=Gn&&!hn?vs:null,Ds={box:[],offscreen:!1},Qs=Hr?2*Ft.length:Ft.length,Vl=0;Vl<Qs;++Vl){var Kl=g.attemptAnchorPlacement(Ft[Vl%Ft.length],fs,Yl,Ml,Xu,pn,la,ir,_e,Nr,Vl>=Ft.length,_i,Q,bs,Ul);if(Kl&&(Ds=Kl.placedGlyphBoxes)&&Ds.box&&Ds.box.length){qi=!0,us=Kl.shift;break}}return Ds};Hd(function(){return Ue(nc,Qo.iconBox,u.WritingMode.horizontal)},function(){var So=Qo.verticalTextBox;return Q.allowVerticalPlacement&&!(Xs&&Xs.box&&Xs.box.length)&&_i.numVerticalGlyphVertices>0&&So?Ue(So,Qo.verticalIconBox,u.WritingMode.vertical):{box:null,offscreen:null}}),Xs&&(qi=Xs.box,zo=Xs.offscreen);var He=Ru(Xs&&Xs.box);if(!qi&&g.prevPlacement){var Zt=g.prevPlacement.variableOffsets[_i.crossTileID];Zt&&(g.variableOffsets[_i.crossTileID]=Zt,g.markUsedJustification(Q,Zt.anchor,_i,He))}}else{var cr=function(fs,vs){var bs=g.collisionIndex.placeCollisionBox(fs,Hr,ir,_e,Nr.predicate);return bs&&bs.box&&bs.box.length&&(g.markUsedOrientation(Q,vs,_i),g.placedOrientations[_i.crossTileID]=vs),bs};Hd(function(){return cr(nc,u.WritingMode.horizontal)},function(){var So=Qo.verticalTextBox;return Q.allowVerticalPlacement&&_i.numVerticalGlyphVertices>0&&So?cr(So,u.WritingMode.vertical):{box:null,offscreen:null}}),Ru(Xs&&Xs.box&&Xs.box.length)}}if(qi=(os=Xs)&&os.box&&os.box.length>0,zo=os&&os.offscreen,_i.useRuntimeCollisionCircles){var ln=Q.text.placedSymbolArray.get(_i.centerJustifiedTextSymbolIndex),Mn=u.evaluateSizeForFeature(Q.textSizeData,kr,ln),Cn=se.get("text-padding");zs=g.collisionIndex.placeCollisionCircles(Hr,ln,Q.lineVertexArray,Q.glyphOffsetArray,Mn,_e,mt,Rt,l,la,Nr.predicate,_i.collisionCircleDiameter,Cn),qi=Hr||zs.circles.length>0&&!zs.collisionDetected,zo=zo&&zs.offscreen}if(Qo.iconFeatureIndex&&(yc=Qo.iconFeatureIndex),Qo.iconBox){var qn=function(fs){var vs=Gn&&us?mr(fs,us.x,us.y,pn,la,g.transform.angle):fs;return g.collisionIndex.placeCollisionBox(vs,hn,ir,_e,Nr.predicate)};hs=au&&au.box&&au.box.length&&Qo.verticalIconBox?(pl=qn(Qo.verticalIconBox)).box.length>0:(pl=qn(Qo.iconBox)).box.length>0,zo=zo&&pl.offscreen}var Ea=Xr||_i.numHorizontalGlyphVertices===0&&_i.numVerticalGlyphVertices===0,ji=Br||_i.numIconVertices===0;if(Ea||ji?ji?Ea||(hs=hs&&qi):qi=hs&&qi:hs=qi=hs&&qi,qi&&os&&os.box&&g.collisionIndex.insertCollisionBox(os.box,se.get("text-ignore-placement"),Q.bucketInstanceId,au&&au.box&&Ns?Ns:xl,Nr.ID),hs&&pl&&g.collisionIndex.insertCollisionBox(pl.box,se.get("icon-ignore-placement"),Q.bucketInstanceId,yc,Nr.ID),zs&&(qi&&g.collisionIndex.insertCollisionCircles(zs.circles,se.get("text-ignore-placement"),Q.bucketInstanceId,xl,Nr.ID),l)){var ro=Q.bucketInstanceId,Ao=g.collisionCircleArrays[ro];Ao===void 0&&(Ao=g.collisionCircleArrays[ro]=new Pa);for(var uo=0;uo<zs.circles.length;uo+=4)Ao.circles.push(zs.circles[uo+0]),Ao.circles.push(zs.circles[uo+1]),Ao.circles.push(zs.circles[uo+2]),Ao.circles.push(zs.collisionDetected?1:0)}g.placements[_i.crossTileID]=new Ba(qi||sa,hs||Ya,zo||Q.justReloaded),c[_i.crossTileID]=!0}};if(aa)for(var Di=Q.getSortedSymbolIndexes(this.transform.angle),di=Di.length-1;di>=0;--di){var Eo=Di[di];Ka(Q.symbolInstances.get(Eo),Q.collisionArrays[Eo])}else for(var Bo=v.symbolInstanceStart;Bo<v.symbolInstanceEnd;Bo++)Ka(Q.symbolInstances.get(Bo),Q.collisionArrays[Bo]);if(l&&Q.bucketInstanceId in this.collisionCircleArrays){var Wo=this.collisionCircleArrays[Q.bucketInstanceId];u.invert(Wo.invProjMatrix,_e),Wo.viewportMatrix=this.collisionIndex.getViewportMatrix()}Q.justReloaded=!1},Wt.prototype.markUsedJustification=function(v,c,l,g){var F;F=g===u.WritingMode.vertical?l.verticalPlacedTextSymbolIndex:{left:l.leftJustifiedTextSymbolIndex,center:l.centerJustifiedTextSymbolIndex,right:l.rightJustifiedTextSymbolIndex}[u.getAnchorJustification(c)];for(var Q=0,se=[l.leftJustifiedTextSymbolIndex,l.centerJustifiedTextSymbolIndex,l.rightJustifiedTextSymbolIndex,l.verticalPlacedTextSymbolIndex];Q<se.length;Q+=1){var _e=se[Q];_e>=0&&(v.text.placedSymbolArray.get(_e).crossTileID=F>=0&&_e!==F?0:l.crossTileID)}},Wt.prototype.markUsedOrientation=function(v,c,l){for(var g=c===u.WritingMode.horizontal||c===u.WritingMode.horizontalOnly?c:0,F=c===u.WritingMode.vertical?c:0,Q=0,se=[l.leftJustifiedTextSymbolIndex,l.centerJustifiedTextSymbolIndex,l.rightJustifiedTextSymbolIndex];Q<se.length;Q+=1)v.text.placedSymbolArray.get(se[Q]).placedOrientation=g;l.verticalPlacedTextSymbolIndex&&(v.text.placedSymbolArray.get(l.verticalPlacedTextSymbolIndex).placedOrientation=F)},Wt.prototype.commit=function(v){this.commitTime=v,this.zoomAtLastRecencyCheck=this.transform.zoom;var c=this.prevPlacement,l=!1;this.prevZoomAdjustment=c?c.zoomAdjustment(this.transform.zoom):0;var g=c?c.symbolFadeChange(v):1,F=c?c.opacities:{},Q=c?c.variableOffsets:{},se=c?c.placedOrientations:{};for(var _e in this.placements){var mt=this.placements[_e],Rt=F[_e];Rt?(this.opacities[_e]=new bo(Rt,g,mt.text,mt.icon),l=l||mt.text!==Rt.text.placed||mt.icon!==Rt.icon.placed):(this.opacities[_e]=new bo(null,g,mt.text,mt.icon,mt.skipFade),l=l||mt.text||mt.icon)}for(var ir in F){var rr=F[ir];if(!this.opacities[ir]){var ur=new bo(rr,g,!1,!1);ur.isHidden()||(this.opacities[ir]=ur,l=l||rr.text.placed||rr.icon.placed)}}for(var kr in Q)this.variableOffsets[kr]||!this.opacities[kr]||this.opacities[kr].isHidden()||(this.variableOffsets[kr]=Q[kr]);for(var Nr in se)this.placedOrientations[Nr]||!this.opacities[Nr]||this.opacities[Nr].isHidden()||(this.placedOrientations[Nr]=se[Nr]);l?this.lastPlacementChangeTime=v:typeof this.lastPlacementChangeTime!="number"&&(this.lastPlacementChangeTime=c?c.lastPlacementChangeTime:v)},Wt.prototype.updateLayerOpacities=function(v,c){for(var l={},g=0,F=c;g<F.length;g+=1){var Q=F[g],se=Q.getBucket(v);se&&Q.latestFeatureIndex&&v.id===se.layerIds[0]&&this.updateBucketOpacities(se,l,Q.collisionBoxArray)}},Wt.prototype.updateBucketOpacities=function(v,c,l){var g=this;v.hasTextData()&&v.text.opacityVertexArray.clear(),v.hasIconData()&&v.icon.opacityVertexArray.clear(),v.hasIconCollisionBoxData()&&v.iconCollisionBox.collisionVertexArray.clear(),v.hasTextCollisionBoxData()&&v.textCollisionBox.collisionVertexArray.clear();var F=v.layers[0].layout,Q=new bo(null,0,!1,!1,!0),se=F.get("text-allow-overlap"),_e=F.get("icon-allow-overlap"),mt=F.get("text-variable-anchor"),Rt=F.get("text-rotation-alignment")==="map",ir=F.get("text-pitch-alignment")==="map",rr=F.get("icon-text-fit")!=="none",ur=new bo(null,0,se&&(_e||!v.hasIconData()||F.get("icon-optional")),_e&&(se||!v.hasTextData()||F.get("text-optional")),!0);!v.collisionArrays&&l&&(v.hasIconCollisionBoxData()||v.hasTextCollisionBoxData())&&v.deserializeCollisionBoxes(l);for(var kr=function(hn,pn,la){for(var Gn=0;Gn<pn/4;Gn++)hn.opacityVertexArray.emplaceBack(la)},Nr=function(hn){var pn=v.symbolInstances.get(hn),la=pn.numHorizontalGlyphVertices,Gn=pn.numVerticalGlyphVertices,aa=pn.crossTileID,sa=g.opacities[aa];c[aa]?sa=Q:sa||(g.opacities[aa]=sa=ur),c[aa]=!0;var Ya=pn.numIconVertices>0,Ka=g.placedOrientations[pn.crossTileID],Di=Ka===u.WritingMode.vertical,di=Ka===u.WritingMode.horizontal||Ka===u.WritingMode.horizontalOnly;if(la>0||Gn>0){var Eo=Es(sa.text);kr(v.text,la,Di?tl:Eo),kr(v.text,Gn,di?tl:Eo);var Bo=sa.text.isHidden();[pn.rightJustifiedTextSymbolIndex,pn.centerJustifiedTextSymbolIndex,pn.leftJustifiedTextSymbolIndex].forEach(function(Xs){Xs>=0&&(v.text.placedSymbolArray.get(Xs).hidden=Bo||Di?1:0)}),pn.verticalPlacedTextSymbolIndex>=0&&(v.text.placedSymbolArray.get(pn.verticalPlacedTextSymbolIndex).hidden=Bo||di?1:0);var Wo=g.variableOffsets[pn.crossTileID];Wo&&g.markUsedJustification(v,Wo.anchor,pn,Ka);var ll=g.placedOrientations[pn.crossTileID];ll&&(g.markUsedJustification(v,"left",pn,ll),g.markUsedOrientation(v,ll,pn))}if(Ya){var _i=Es(sa.icon),Qo=!(rr&&pn.verticalPlacedIconSymbolIndex&&Di);pn.placedIconSymbolIndex>=0&&(kr(v.icon,pn.numIconVertices,Qo?_i:tl),v.icon.placedSymbolArray.get(pn.placedIconSymbolIndex).hidden=sa.icon.isHidden()),pn.verticalPlacedIconSymbolIndex>=0&&(kr(v.icon,pn.numVerticalIconVertices,Qo?tl:_i),v.icon.placedSymbolArray.get(pn.verticalPlacedIconSymbolIndex).hidden=sa.icon.isHidden())}if(v.hasIconCollisionBoxData()||v.hasTextCollisionBoxData()){var os=v.collisionArrays[hn];if(os){var qi=new u.Point(0,0);if(os.textBox||os.verticalTextBox){var hs=!0;if(mt){var zo=g.variableOffsets[aa];zo?(qi=La(zo.anchor,zo.width,zo.height,zo.textOffset,zo.textBoxScale),Rt&&qi._rotate(ir?g.transform.angle:-g.transform.angle)):hs=!1}os.textBox&&vr(v.textCollisionBox.collisionVertexArray,sa.text.placed,!hs||Di,qi.x,qi.y),os.verticalTextBox&&vr(v.textCollisionBox.collisionVertexArray,sa.text.placed,!hs||di,qi.x,qi.y)}var us=Boolean(!di&&os.verticalIconBox);os.iconBox&&vr(v.iconCollisionBox.collisionVertexArray,sa.icon.placed,us,rr?qi.x:0,rr?qi.y:0),os.verticalIconBox&&vr(v.iconCollisionBox.collisionVertexArray,sa.icon.placed,!us,rr?qi.x:0,rr?qi.y:0)}}},Xr=0;Xr<v.symbolInstances.length;Xr++)Nr(Xr);if(v.sortFeatures(this.transform.angle),this.retainedQueryData[v.bucketInstanceId]&&(this.retainedQueryData[v.bucketInstanceId].featureSortOrder=v.featureSortOrder),v.hasTextData()&&v.text.opacityVertexBuffer&&v.text.opacityVertexBuffer.updateData(v.text.opacityVertexArray),v.hasIconData()&&v.icon.opacityVertexBuffer&&v.icon.opacityVertexBuffer.updateData(v.icon.opacityVertexArray),v.hasIconCollisionBoxData()&&v.iconCollisionBox.collisionVertexBuffer&&v.iconCollisionBox.collisionVertexBuffer.updateData(v.iconCollisionBox.collisionVertexArray),v.hasTextCollisionBoxData()&&v.textCollisionBox.collisionVertexBuffer&&v.textCollisionBox.collisionVertexBuffer.updateData(v.textCollisionBox.collisionVertexArray),v.bucketInstanceId in this.collisionCircleArrays){var Br=this.collisionCircleArrays[v.bucketInstanceId];v.placementInvProjMatrix=Br.invProjMatrix,v.placementViewportMatrix=Br.viewportMatrix,v.collisionCircleArray=Br.circles,delete this.collisionCircleArrays[v.bucketInstanceId]}},Wt.prototype.symbolFadeChange=function(v){return this.fadeDuration===0?1:(v-this.commitTime)/this.fadeDuration+this.prevZoomAdjustment},Wt.prototype.zoomAdjustment=function(v){return Math.max(0,(this.transform.zoom-v)/1.5)},Wt.prototype.hasTransitions=function(v){return this.stale||v-this.lastPlacementChangeTime<this.fadeDuration},Wt.prototype.stillRecent=function(v,c){var l=this.zoomAtLastRecencyCheck===c?1-this.zoomAdjustment(c):1;return this.zoomAtLastRecencyCheck=c,this.commitTime+this.fadeDuration*l>v},Wt.prototype.setStale=function(){this.stale=!0};var un=Math.pow(2,25),va=Math.pow(2,24),qa=Math.pow(2,17),mi=Math.pow(2,16),ys=Math.pow(2,9),cl=Math.pow(2,8),gl=Math.pow(2,1);function Es(v){if(v.opacity===0&&!v.placed)return 0;if(v.opacity===1&&v.placed)return 4294967295;var c=v.placed?1:0,l=Math.floor(127*v.opacity);return l*un+c*va+l*qa+c*mi+l*ys+c*cl+l*gl+c}var tl=0,fu=function(c){this._sortAcrossTiles=c.layout.get("symbol-z-order")!=="viewport-y"&&c.layout.get("symbol-sort-key").constantOr(1)!==void 0,this._currentTileIndex=0,this._currentPartIndex=0,this._seenCrossTileIDs={},this._bucketParts=[]};fu.prototype.continuePlacement=function(v,c,l,g,F){for(var Q=this._bucketParts;this._currentTileIndex<v.length;)if(c.getBucketParts(Q,g,v[this._currentTileIndex],this._sortAcrossTiles),this._currentTileIndex++,F())return!0;for(this._sortAcrossTiles&&(this._sortAcrossTiles=!1,Q.sort(function(se,_e){return se.sortKey-_e.sortKey}));this._currentPartIndex<Q.length;)if(c.placeLayerBucketPart(Q[this._currentPartIndex],this._seenCrossTileIDs,l),this._currentPartIndex++,F())return!0;return!1};var vc=function(c,l,g,F,Q,se,_e){this.placement=new Wt(c,Q,se,_e),this._currentPlacementIndex=l.length-1,this._forceFullPlacement=g,this._showCollisionBoxes=F,this._done=!1};vc.prototype.isDone=function(){return this._done},vc.prototype.continuePlacement=function(v,c,l){for(var g=this,F=u.browser.now(),Q=function(){var Rt=u.browser.now()-F;return!g._forceFullPlacement&&Rt>2};this._currentPlacementIndex>=0;){var se=c[v[this._currentPlacementIndex]],_e=this.placement.collisionIndex.transform.zoom;if(se.type==="symbol"&&(!se.minzoom||se.minzoom<=_e)&&(!se.maxzoom||se.maxzoom>_e)){if(this._inProgressLayer||(this._inProgressLayer=new fu(se)),this._inProgressLayer.continuePlacement(l[se.source],this.placement,this._showCollisionBoxes,se,Q))return;delete this._inProgressLayer}this._currentPlacementIndex--}this._done=!0},vc.prototype.commit=function(v){return this.placement.commit(v),this.placement};var of=512/u.EXTENT/2,ku=function(c,l,g){this.tileID=c,this.indexedSymbolInstances={},this.bucketInstanceId=g;for(var F=0;F<l.length;F++){var Q=l.get(F),se=Q.key;this.indexedSymbolInstances[se]||(this.indexedSymbolInstances[se]=[]),this.indexedSymbolInstances[se].push({crossTileID:Q.crossTileID,coord:this.getScaledCoordinates(Q,c)})}};ku.prototype.getScaledCoordinates=function(v,c){var l=of/Math.pow(2,c.canonical.z-this.tileID.canonical.z);return{x:Math.floor((c.canonical.x*u.EXTENT+v.anchorX)*l),y:Math.floor((c.canonical.y*u.EXTENT+v.anchorY)*l)}},ku.prototype.findMatches=function(v,c,l){for(var g=this.tileID.canonical.z<c.canonical.z?1:Math.pow(2,this.tileID.canonical.z-c.canonical.z),F=0;F<v.length;F++){var Q=v.get(F);if(!Q.crossTileID){var se=this.indexedSymbolInstances[Q.key];if(se)for(var _e=this.getScaledCoordinates(Q,c),mt=0,Rt=se;mt<Rt.length;mt+=1){var ir=Rt[mt];if(Math.abs(ir.coord.x-_e.x)<=g&&Math.abs(ir.coord.y-_e.y)<=g&&!l[ir.crossTileID]){l[ir.crossTileID]=!0,Q.crossTileID=ir.crossTileID;break}}}}};var Wl=function(){this.maxCrossTileID=0};Wl.prototype.generate=function(){return++this.maxCrossTileID};var ql=function(){this.indexes={},this.usedCrossTileIDs={},this.lng=0};ql.prototype.handleWrapJump=function(v){var c=Math.round((v-this.lng)/360);if(c!==0)for(var l in this.indexes){var g=this.indexes[l],F={};for(var Q in g){var se=g[Q];se.tileID=se.tileID.unwrapTo(se.tileID.wrap+c),F[se.tileID.key]=se}this.indexes[l]=F}this.lng=v},ql.prototype.addBucket=function(v,c,l){if(this.indexes[v.overscaledZ]&&this.indexes[v.overscaledZ][v.key]){if(this.indexes[v.overscaledZ][v.key].bucketInstanceId===c.bucketInstanceId)return!1;this.removeBucketCrossTileIDs(v.overscaledZ,this.indexes[v.overscaledZ][v.key])}for(var g=0;g<c.symbolInstances.length;g++)c.symbolInstances.get(g).crossTileID=0;this.usedCrossTileIDs[v.overscaledZ]||(this.usedCrossTileIDs[v.overscaledZ]={});var F=this.usedCrossTileIDs[v.overscaledZ];for(var Q in this.indexes){var se=this.indexes[Q];if(Number(Q)>v.overscaledZ)for(var _e in se){var mt=se[_e];mt.tileID.isChildOf(v)&&mt.findMatches(c.symbolInstances,v,F)}else{var Rt=se[v.scaledTo(Number(Q)).key];Rt&&Rt.findMatches(c.symbolInstances,v,F)}}for(var ir=0;ir<c.symbolInstances.length;ir++){var rr=c.symbolInstances.get(ir);rr.crossTileID||(rr.crossTileID=l.generate(),F[rr.crossTileID]=!0)}return this.indexes[v.overscaledZ]===void 0&&(this.indexes[v.overscaledZ]={}),this.indexes[v.overscaledZ][v.key]=new ku(v,c.symbolInstances,c.bucketInstanceId),!0},ql.prototype.removeBucketCrossTileIDs=function(v,c){for(var l in c.indexedSymbolInstances)for(var g=0,F=c.indexedSymbolInstances[l];g<F.length;g+=1)delete this.usedCrossTileIDs[v][F[g].crossTileID]},ql.prototype.removeStaleBuckets=function(v){var c=!1;for(var l in this.indexes){var g=this.indexes[l];for(var F in g)v[g[F].bucketInstanceId]||(this.removeBucketCrossTileIDs(l,g[F]),delete g[F],c=!0)}return c};var al=function(){this.layerIndexes={},this.crossTileIDs=new Wl,this.maxBucketInstanceId=0,this.bucketsInCurrentPlacement={}};al.prototype.addLayer=function(v,c,l){var g=this.layerIndexes[v.id];g===void 0&&(g=this.layerIndexes[v.id]=new ql);var F=!1,Q={};g.handleWrapJump(l);for(var se=0,_e=c;se<_e.length;se+=1){var mt=_e[se],Rt=mt.getBucket(v);Rt&&v.id===Rt.layerIds[0]&&(Rt.bucketInstanceId||(Rt.bucketInstanceId=++this.maxBucketInstanceId),g.addBucket(mt.tileID,Rt,this.crossTileIDs)&&(F=!0),Q[Rt.bucketInstanceId]=!0)}return g.removeStaleBuckets(Q)&&(F=!0),F},al.prototype.pruneUnusedLayers=function(v){var c={};for(var l in v.forEach(function(g){c[g]=!0}),this.layerIndexes)c[l]||delete this.layerIndexes[l]};var du=function(c,l){return u.emitValidationErrors(c,l&&l.filter(function(g){return g.identifier!=="source.canvas"}))},Bu=u.pick(dn,["addLayer","removeLayer","setPaintProperty","setLayoutProperty","setFilter","addSource","removeSource","setLayerZoomRange","setLight","setTransition","setGeoJSONSourceData"]),Hc=u.pick(dn,["setCenter","setZoom","setBearing","setPitch"]),ps=function(){var v={},c=u.styleSpec.$version;for(var l in u.styleSpec.$root){var g,F=u.styleSpec.$root[l];F.required&&(g=l==="version"?c:F.type==="array"?[]:{})!=null&&(v[l]=g)}return v}(),Bs=function(v){function c(l,g){var F=this;g===void 0&&(g={}),v.call(this),this.map=l,this.dispatcher=new Dt(Pr(),this),this.imageManager=new et,this.imageManager.setEventedParent(this),this.glyphManager=new Mt(l._requestManager,g.localIdeographFontFamily),this.lineAtlas=new yt(256,512),this.crossTileSymbolIndex=new al,this._layers={},this._serializedLayers={},this._order=[],this.sourceCaches={},this.zoomHistory=new u.ZoomHistory,this._loaded=!1,this._availableImages=[],this._resetUpdates(),this.dispatcher.broadcast("setReferrer",u.getReferrer());var Q=this;this._rtlTextPluginCallback=c.registerForPluginStateChange(function(se){Q.dispatcher.broadcast("syncRTLPluginState",{pluginStatus:se.pluginStatus,pluginURL:se.pluginURL},function(_e,mt){if(u.triggerPluginCompletionEvent(_e),mt&&mt.every(function(ir){return ir}))for(var Rt in Q.sourceCaches)Q.sourceCaches[Rt].reload()})}),this.on("data",function(se){if(se.dataType==="source"&&se.sourceDataType==="metadata"){var _e=F.sourceCaches[se.sourceId];if(_e){var mt=_e.getSource();if(mt&&mt.vectorLayerIds)for(var Rt in F._layers){var ir=F._layers[Rt];ir.source===mt.id&&F._validateLayer(ir)}}}})}return v&&(c.__proto__=v),(c.prototype=Object.create(v&&v.prototype)).constructor=c,c.prototype.loadURL=function(l,g){var F=this;g===void 0&&(g={}),this.fire(new u.Event("dataloading",{dataType:"style"}));var Q=typeof g.validate=="boolean"?g.validate:!u.isMapboxURL(l);l=this.map._requestManager.normalizeStyleURL(l,g.accessToken);var se=this.map._requestManager.transformRequest(l,u.ResourceType.Style);this._request=u.getJSON(se,function(_e,mt){F._request=null,_e?F.fire(new u.ErrorEvent(_e)):mt&&F._load(mt,Q)})},c.prototype.loadJSON=function(l,g){var F=this;g===void 0&&(g={}),this.fire(new u.Event("dataloading",{dataType:"style"})),this._request=u.browser.frame(function(){F._request=null,F._load(l,g.validate!==!1)})},c.prototype.loadEmpty=function(){this.fire(new u.Event("dataloading",{dataType:"style"})),this._load(ps,!1)},c.prototype._load=function(l,g){if(!g||!du(this,u.validateStyle(l))){for(var F in this._loaded=!0,this.stylesheet=l,l.sources)this.addSource(F,l.sources[F],{validate:!1});l.sprite?this._loadSprite(l.sprite):this.imageManager.setLoaded(!0),this.glyphManager.setURL(l.glyphs);var Q=an(this.stylesheet.layers);this._order=Q.map(function(Rt){return Rt.id}),this._layers={},this._serializedLayers={};for(var se=0,_e=Q;se<_e.length;se+=1){var mt=_e[se];(mt=u.createStyleLayer(mt)).setEventedParent(this,{layer:{id:mt.id}}),this._layers[mt.id]=mt,this._serializedLayers[mt.id]=mt.serialize()}this.dispatcher.broadcast("setLayers",this._serializeLayers(this._order)),this.light=new lt(this.stylesheet.light),this.fire(new u.Event("data",{dataType:"style"})),this.fire(new u.Event("style.load"))}},c.prototype._loadSprite=function(l){var g=this;this._spriteRequest=function(F,Q,se){var _e,mt,Rt,ir=u.browser.devicePixelRatio>1?"@2x":"",rr=u.getJSON(Q.transformRequest(Q.normalizeSpriteURL(F,ir,".json"),u.ResourceType.SpriteJSON),function(Nr,Xr){rr=null,Rt||(Rt=Nr,_e=Xr,kr())}),ur=u.getImage(Q.transformRequest(Q.normalizeSpriteURL(F,ir,".png"),u.ResourceType.SpriteImage),function(Nr,Xr){ur=null,Rt||(Rt=Nr,mt=Xr,kr())});function kr(){if(Rt)se(Rt);else if(_e&&mt){var Nr=u.browser.getImageData(mt),Xr={};for(var Br in _e){var Hr=_e[Br],hn=Hr.width,pn=Hr.height,la=Hr.x,Gn=Hr.y,aa=Hr.sdf,sa=Hr.pixelRatio,Ya=Hr.stretchX,Ka=Hr.stretchY,Di=Hr.content,di=new u.RGBAImage({width:hn,height:pn});u.RGBAImage.copy(Nr,di,{x:la,y:Gn},{x:0,y:0},{width:hn,height:pn}),Xr[Br]={data:di,pixelRatio:sa,sdf:aa,stretchX:Ya,stretchY:Ka,content:Di}}se(null,Xr)}}return{cancel:function(){rr&&(rr.cancel(),rr=null),ur&&(ur.cancel(),ur=null)}}}(l,this.map._requestManager,function(F,Q){if(g._spriteRequest=null,F)g.fire(new u.ErrorEvent(F));else if(Q)for(var se in Q)g.imageManager.addImage(se,Q[se]);g.imageManager.setLoaded(!0),g._availableImages=g.imageManager.listImages(),g.dispatcher.broadcast("setImages",g._availableImages),g.fire(new u.Event("data",{dataType:"style"}))})},c.prototype._validateLayer=function(l){var g=this.sourceCaches[l.source];if(g){var F=l.sourceLayer;if(F){var Q=g.getSource();(Q.type==="geojson"||Q.vectorLayerIds&&Q.vectorLayerIds.indexOf(F)===-1)&&this.fire(new u.ErrorEvent(new Error('Source layer "'+F+'" does not exist on source "'+Q.id+'" as specified by style layer "'+l.id+'"')))}}},c.prototype.loaded=function(){if(!this._loaded||Object.keys(this._updatedSources).length)return!1;for(var l in this.sourceCaches)if(!this.sourceCaches[l].loaded())return!1;return!!this.imageManager.isLoaded()},c.prototype._serializeLayers=function(l){for(var g=[],F=0,Q=l;F<Q.length;F+=1){var se=this._layers[Q[F]];se.type!=="custom"&&g.push(se.serialize())}return g},c.prototype.hasTransitions=function(){if(this.light&&this.light.hasTransition())return!0;for(var l in this.sourceCaches)if(this.sourceCaches[l].hasTransition())return!0;for(var g in this._layers)if(this._layers[g].hasTransition())return!0;return!1},c.prototype._checkLoaded=function(){if(!this._loaded)throw new Error("Style is not done loading")},c.prototype.update=function(l){if(this._loaded){var g=this._changed;if(this._changed){var F=Object.keys(this._updatedLayers),Q=Object.keys(this._removedLayers);for(var se in(F.length||Q.length)&&this._updateWorkerLayers(F,Q),this._updatedSources){var _e=this._updatedSources[se];_e==="reload"?this._reloadSource(se):_e==="clear"&&this._clearSource(se)}for(var mt in this._updateTilesForChangedImages(),this._updatedPaintProps)this._layers[mt].updateTransitions(l);this.light.updateTransitions(l),this._resetUpdates()}var Rt={};for(var ir in this.sourceCaches){var rr=this.sourceCaches[ir];Rt[ir]=rr.used,rr.used=!1}for(var ur=0,kr=this._order;ur<kr.length;ur+=1){var Nr=this._layers[kr[ur]];Nr.recalculate(l,this._availableImages),!Nr.isHidden(l.zoom)&&Nr.source&&(this.sourceCaches[Nr.source].used=!0)}for(var Xr in Rt){var Br=this.sourceCaches[Xr];Rt[Xr]!==Br.used&&Br.fire(new u.Event("data",{sourceDataType:"visibility",dataType:"source",sourceId:Xr}))}this.light.recalculate(l),this.z=l.zoom,g&&this.fire(new u.Event("data",{dataType:"style"}))}},c.prototype._updateTilesForChangedImages=function(){var l=Object.keys(this._changedImages);if(l.length){for(var g in this.sourceCaches)this.sourceCaches[g].reloadTilesForDependencies(["icons","patterns"],l);this._changedImages={}}},c.prototype._updateWorkerLayers=function(l,g){this.dispatcher.broadcast("updateLayers",{layers:this._serializeLayers(l),removedIds:g})},c.prototype._resetUpdates=function(){this._changed=!1,this._updatedLayers={},this._removedLayers={},this._updatedSources={},this._updatedPaintProps={},this._changedImages={}},c.prototype.setState=function(l){var g=this;if(this._checkLoaded(),du(this,u.validateStyle(l)))return!1;(l=u.clone$1(l)).layers=an(l.layers);var F=function(se,_e){if(!se)return[{command:dn.setStyle,args:[_e]}];var mt=[];try{if(!u.deepEqual(se.version,_e.version))return[{command:dn.setStyle,args:[_e]}];u.deepEqual(se.center,_e.center)||mt.push({command:dn.setCenter,args:[_e.center]}),u.deepEqual(se.zoom,_e.zoom)||mt.push({command:dn.setZoom,args:[_e.zoom]}),u.deepEqual(se.bearing,_e.bearing)||mt.push({command:dn.setBearing,args:[_e.bearing]}),u.deepEqual(se.pitch,_e.pitch)||mt.push({command:dn.setPitch,args:[_e.pitch]}),u.deepEqual(se.sprite,_e.sprite)||mt.push({command:dn.setSprite,args:[_e.sprite]}),u.deepEqual(se.glyphs,_e.glyphs)||mt.push({command:dn.setGlyphs,args:[_e.glyphs]}),u.deepEqual(se.transition,_e.transition)||mt.push({command:dn.setTransition,args:[_e.transition]}),u.deepEqual(se.light,_e.light)||mt.push({command:dn.setLight,args:[_e.light]});var Rt={},ir=[];(function(ur,kr,Nr,Xr){var Br;for(Br in kr=kr||{},ur=ur||{})ur.hasOwnProperty(Br)&&(kr.hasOwnProperty(Br)||zn(Br,Nr,Xr));for(Br in kr)kr.hasOwnProperty(Br)&&(ur.hasOwnProperty(Br)?u.deepEqual(ur[Br],kr[Br])||(ur[Br].type==="geojson"&&kr[Br].type==="geojson"&&Ma(ur,kr,Br)?Nr.push({command:dn.setGeoJSONSourceData,args:[Br,kr[Br].data]}):Qn(Br,kr,Nr,Xr)):Rn(Br,kr,Nr))})(se.sources,_e.sources,ir,Rt);var rr=[];se.layers&&se.layers.forEach(function(ur){Rt[ur.source]?mt.push({command:dn.removeLayer,args:[ur.id]}):rr.push(ur)}),mt=mt.concat(ir),function(ur,kr,Nr){kr=kr||[];var Xr,Br,Hr,hn,pn,la,Gn,aa=(ur=ur||[]).map(ia),sa=kr.map(ia),Ya=ur.reduce(_a,{}),Ka=kr.reduce(_a,{}),Di=aa.slice(),di=Object.create(null);for(Xr=0,Br=0;Xr<aa.length;Xr++)Ka.hasOwnProperty(Hr=aa[Xr])?Br++:(Nr.push({command:dn.removeLayer,args:[Hr]}),Di.splice(Di.indexOf(Hr,Br),1));for(Xr=0,Br=0;Xr<sa.length;Xr++)Di[Di.length-1-Xr]!==(Hr=sa[sa.length-1-Xr])&&(Ya.hasOwnProperty(Hr)?(Nr.push({command:dn.removeLayer,args:[Hr]}),Di.splice(Di.lastIndexOf(Hr,Di.length-Br),1)):Br++,Nr.push({command:dn.addLayer,args:[Ka[Hr],la=Di[Di.length-Xr]]}),Di.splice(Di.length-Xr,0,Hr),di[Hr]=!0);for(Xr=0;Xr<sa.length;Xr++)if(hn=Ya[Hr=sa[Xr]],pn=Ka[Hr],!di[Hr]&&!u.deepEqual(hn,pn))if(u.deepEqual(hn.source,pn.source)&&u.deepEqual(hn["source-layer"],pn["source-layer"])&&u.deepEqual(hn.type,pn.type)){for(Gn in Ca(hn.layout,pn.layout,Nr,Hr,null,dn.setLayoutProperty),Ca(hn.paint,pn.paint,Nr,Hr,null,dn.setPaintProperty),u.deepEqual(hn.filter,pn.filter)||Nr.push({command:dn.setFilter,args:[Hr,pn.filter]}),u.deepEqual(hn.minzoom,pn.minzoom)&&u.deepEqual(hn.maxzoom,pn.maxzoom)||Nr.push({command:dn.setLayerZoomRange,args:[Hr,pn.minzoom,pn.maxzoom]}),hn)hn.hasOwnProperty(Gn)&&Gn!=="layout"&&Gn!=="paint"&&Gn!=="filter"&&Gn!=="metadata"&&Gn!=="minzoom"&&Gn!=="maxzoom"&&(Gn.indexOf("paint.")===0?Ca(hn[Gn],pn[Gn],Nr,Hr,Gn.slice(6),dn.setPaintProperty):u.deepEqual(hn[Gn],pn[Gn])||Nr.push({command:dn.setLayerProperty,args:[Hr,Gn,pn[Gn]]}));for(Gn in pn)pn.hasOwnProperty(Gn)&&!hn.hasOwnProperty(Gn)&&Gn!=="layout"&&Gn!=="paint"&&Gn!=="filter"&&Gn!=="metadata"&&Gn!=="minzoom"&&Gn!=="maxzoom"&&(Gn.indexOf("paint.")===0?Ca(hn[Gn],pn[Gn],Nr,Hr,Gn.slice(6),dn.setPaintProperty):u.deepEqual(hn[Gn],pn[Gn])||Nr.push({command:dn.setLayerProperty,args:[Hr,Gn,pn[Gn]]}))}else Nr.push({command:dn.removeLayer,args:[Hr]}),la=Di[Di.lastIndexOf(Hr)+1],Nr.push({command:dn.addLayer,args:[pn,la]})}(rr,_e.layers,mt)}catch(ur){console.warn("Unable to compute style diff:",ur),mt=[{command:dn.setStyle,args:[_e]}]}return mt}(this.serialize(),l).filter(function(se){return!(se.command in Hc)});if(F.length===0)return!1;var Q=F.filter(function(se){return!(se.command in Bu)});if(Q.length>0)throw new Error("Unimplemented: "+Q.map(function(se){return se.command}).join(", ")+".");return F.forEach(function(se){se.command!=="setTransition"&&g[se.command].apply(g,se.args)}),this.stylesheet=l,!0},c.prototype.addImage=function(l,g){if(this.getImage(l))return this.fire(new u.ErrorEvent(new Error("An image with this name already exists.")));this.imageManager.addImage(l,g),this._afterImageUpdated(l)},c.prototype.updateImage=function(l,g){this.imageManager.updateImage(l,g)},c.prototype.getImage=function(l){return this.imageManager.getImage(l)},c.prototype.removeImage=function(l){if(!this.getImage(l))return this.fire(new u.ErrorEvent(new Error("No image with this name exists.")));this.imageManager.removeImage(l),this._afterImageUpdated(l)},c.prototype._afterImageUpdated=function(l){this._availableImages=this.imageManager.listImages(),this._changedImages[l]=!0,this._changed=!0,this.dispatcher.broadcast("setImages",this._availableImages),this.fire(new u.Event("data",{dataType:"style"}))},c.prototype.listImages=function(){return this._checkLoaded(),this.imageManager.listImages()},c.prototype.addSource=function(l,g,F){var Q=this;if(F===void 0&&(F={}),this._checkLoaded(),this.sourceCaches[l]!==void 0)throw new Error("There is already a source with this ID");if(!g.type)throw new Error("The type property must be defined, but only the following properties were given: "+Object.keys(g).join(", ")+".");if(!(["vector","raster","geojson","video","image"].indexOf(g.type)>=0&&this._validate(u.validateStyle.source,"sources."+l,g,null,F))){this.map&&this.map._collectResourceTiming&&(g.collectResourceTiming=!0);var se=this.sourceCaches[l]=new xe(l,g,this.dispatcher);se.style=this,se.setEventedParent(this,function(){return{isSourceLoaded:Q.loaded(),source:se.serialize(),sourceId:l}}),se.onAdd(this.map),this._changed=!0}},c.prototype.removeSource=function(l){if(this._checkLoaded(),this.sourceCaches[l]===void 0)throw new Error("There is no source with this ID");for(var g in this._layers)if(this._layers[g].source===l)return this.fire(new u.ErrorEvent(new Error('Source "'+l+'" cannot be removed while layer "'+g+'" is using it.')));var F=this.sourceCaches[l];delete this.sourceCaches[l],delete this._updatedSources[l],F.fire(new u.Event("data",{sourceDataType:"metadata",dataType:"source",sourceId:l})),F.setEventedParent(null),F.clearTiles(),F.onRemove&&F.onRemove(this.map),this._changed=!0},c.prototype.setGeoJSONSourceData=function(l,g){this._checkLoaded(),this.sourceCaches[l].getSource().setData(g),this._changed=!0},c.prototype.getSource=function(l){return this.sourceCaches[l]&&this.sourceCaches[l].getSource()},c.prototype.addLayer=function(l,g,F){F===void 0&&(F={}),this._checkLoaded();var Q=l.id;if(this.getLayer(Q))this.fire(new u.ErrorEvent(new Error('Layer with id "'+Q+'" already exists on this map')));else{var se;if(l.type==="custom"){if(du(this,u.validateCustomStyleLayer(l)))return;se=u.createStyleLayer(l)}else{if(typeof l.source=="object"&&(this.addSource(Q,l.source),l=u.clone$1(l),l=u.extend(l,{source:Q})),this._validate(u.validateStyle.layer,"layers."+Q,l,{arrayIndex:-1},F))return;se=u.createStyleLayer(l),this._validateLayer(se),se.setEventedParent(this,{layer:{id:Q}}),this._serializedLayers[se.id]=se.serialize()}var _e=g?this._order.indexOf(g):this._order.length;if(g&&_e===-1)this.fire(new u.ErrorEvent(new Error('Layer with id "'+g+'" does not exist on this map.')));else{if(this._order.splice(_e,0,Q),this._layerOrderChanged=!0,this._layers[Q]=se,this._removedLayers[Q]&&se.source&&se.type!=="custom"){var mt=this._removedLayers[Q];delete this._removedLayers[Q],mt.type!==se.type?this._updatedSources[se.source]="clear":(this._updatedSources[se.source]="reload",this.sourceCaches[se.source].pause())}this._updateLayer(se),se.onAdd&&se.onAdd(this.map)}}},c.prototype.moveLayer=function(l,g){if(this._checkLoaded(),this._changed=!0,this._layers[l]){if(l!==g){var F=this._order.indexOf(l);this._order.splice(F,1);var Q=g?this._order.indexOf(g):this._order.length;g&&Q===-1?this.fire(new u.ErrorEvent(new Error('Layer with id "'+g+'" does not exist on this map.'))):(this._order.splice(Q,0,l),this._layerOrderChanged=!0)}}else this.fire(new u.ErrorEvent(new Error("The layer '"+l+"' does not exist in the map's style and cannot be moved.")))},c.prototype.removeLayer=function(l){this._checkLoaded();var g=this._layers[l];if(g){g.setEventedParent(null);var F=this._order.indexOf(l);this._order.splice(F,1),this._layerOrderChanged=!0,this._changed=!0,this._removedLayers[l]=g,delete this._layers[l],delete this._serializedLayers[l],delete this._updatedLayers[l],delete this._updatedPaintProps[l],g.onRemove&&g.onRemove(this.map)}else this.fire(new u.ErrorEvent(new Error("The layer '"+l+"' does not exist in the map's style and cannot be removed.")))},c.prototype.getLayer=function(l){return this._layers[l]},c.prototype.hasLayer=function(l){return l in this._layers},c.prototype.setLayerZoomRange=function(l,g,F){this._checkLoaded();var Q=this.getLayer(l);Q?Q.minzoom===g&&Q.maxzoom===F||(g!=null&&(Q.minzoom=g),F!=null&&(Q.maxzoom=F),this._updateLayer(Q)):this.fire(new u.ErrorEvent(new Error("The layer '"+l+"' does not exist in the map's style and cannot have zoom extent.")))},c.prototype.setFilter=function(l,g,F){F===void 0&&(F={}),this._checkLoaded();var Q=this.getLayer(l);if(Q){if(!u.deepEqual(Q.filter,g))return g==null?(Q.filter=void 0,void this._updateLayer(Q)):void(this._validate(u.validateStyle.filter,"layers."+Q.id+".filter",g,null,F)||(Q.filter=u.clone$1(g),this._updateLayer(Q)))}else this.fire(new u.ErrorEvent(new Error("The layer '"+l+"' does not exist in the map's style and cannot be filtered.")))},c.prototype.getFilter=function(l){return u.clone$1(this.getLayer(l).filter)},c.prototype.setLayoutProperty=function(l,g,F,Q){Q===void 0&&(Q={}),this._checkLoaded();var se=this.getLayer(l);se?u.deepEqual(se.getLayoutProperty(g),F)||(se.setLayoutProperty(g,F,Q),this._updateLayer(se)):this.fire(new u.ErrorEvent(new Error("The layer '"+l+"' does not exist in the map's style and cannot be styled.")))},c.prototype.getLayoutProperty=function(l,g){var F=this.getLayer(l);if(F)return F.getLayoutProperty(g);this.fire(new u.ErrorEvent(new Error("The layer '"+l+"' does not exist in the map's style.")))},c.prototype.setPaintProperty=function(l,g,F,Q){Q===void 0&&(Q={}),this._checkLoaded();var se=this.getLayer(l);se?u.deepEqual(se.getPaintProperty(g),F)||(se.setPaintProperty(g,F,Q)&&this._updateLayer(se),this._changed=!0,this._updatedPaintProps[l]=!0):this.fire(new u.ErrorEvent(new Error("The layer '"+l+"' does not exist in the map's style and cannot be styled.")))},c.prototype.getPaintProperty=function(l,g){return this.getLayer(l).getPaintProperty(g)},c.prototype.setFeatureState=function(l,g){this._checkLoaded();var F=l.source,Q=l.sourceLayer,se=this.sourceCaches[F];if(se!==void 0){var _e=se.getSource().type;_e==="geojson"&&Q?this.fire(new u.ErrorEvent(new Error("GeoJSON sources cannot have a sourceLayer parameter."))):_e!=="vector"||Q?(l.id===void 0&&this.fire(new u.ErrorEvent(new Error("The feature id parameter must be provided."))),se.setFeatureState(Q,l.id,g)):this.fire(new u.ErrorEvent(new Error("The sourceLayer parameter must be provided for vector source types.")))}else this.fire(new u.ErrorEvent(new Error("The source '"+F+"' does not exist in the map's style.")))},c.prototype.removeFeatureState=function(l,g){this._checkLoaded();var F=l.source,Q=this.sourceCaches[F];if(Q!==void 0){var se=Q.getSource().type,_e=se==="vector"?l.sourceLayer:void 0;se!=="vector"||_e?g&&typeof l.id!="string"&&typeof l.id!="number"?this.fire(new u.ErrorEvent(new Error("A feature id is required to remove its specific state property."))):Q.removeFeatureState(_e,l.id,g):this.fire(new u.ErrorEvent(new Error("The sourceLayer parameter must be provided for vector source types.")))}else this.fire(new u.ErrorEvent(new Error("The source '"+F+"' does not exist in the map's style.")))},c.prototype.getFeatureState=function(l){this._checkLoaded();var g=l.source,F=l.sourceLayer,Q=this.sourceCaches[g];if(Q!==void 0){if(Q.getSource().type!=="vector"||F)return l.id===void 0&&this.fire(new u.ErrorEvent(new Error("The feature id parameter must be provided."))),Q.getFeatureState(F,l.id);this.fire(new u.ErrorEvent(new Error("The sourceLayer parameter must be provided for vector source types.")))}else this.fire(new u.ErrorEvent(new Error("The source '"+g+"' does not exist in the map's style.")))},c.prototype.getTransition=function(){return u.extend({duration:300,delay:0},this.stylesheet&&this.stylesheet.transition)},c.prototype.serialize=function(){return u.filterObject({version:this.stylesheet.version,name:this.stylesheet.name,metadata:this.stylesheet.metadata,light:this.stylesheet.light,center:this.stylesheet.center,zoom:this.stylesheet.zoom,bearing:this.stylesheet.bearing,pitch:this.stylesheet.pitch,sprite:this.stylesheet.sprite,glyphs:this.stylesheet.glyphs,transition:this.stylesheet.transition,sources:u.mapObject(this.sourceCaches,function(l){return l.serialize()}),layers:this._serializeLayers(this._order)},function(l){return l!==void 0})},c.prototype._updateLayer=function(l){this._updatedLayers[l.id]=!0,l.source&&!this._updatedSources[l.source]&&this.sourceCaches[l.source].getSource().type!=="raster"&&(this._updatedSources[l.source]="reload",this.sourceCaches[l.source].pause()),this._changed=!0},c.prototype._flattenAndSortRenderedFeatures=function(l){for(var g=this,F=function(Ka){return g._layers[Ka].type==="fill-extrusion"},Q={},se=[],_e=this._order.length-1;_e>=0;_e--){var mt=this._order[_e];if(F(mt)){Q[mt]=_e;for(var Rt=0,ir=l;Rt<ir.length;Rt+=1){var rr=ir[Rt][mt];if(rr)for(var ur=0,kr=rr;ur<kr.length;ur+=1)se.push(kr[ur])}}}se.sort(function(Ya,Ka){return Ka.intersectionZ-Ya.intersectionZ});for(var Nr=[],Xr=this._order.length-1;Xr>=0;Xr--){var Br=this._order[Xr];if(F(Br))for(var Hr=se.length-1;Hr>=0;Hr--){var hn=se[Hr].feature;if(Q[hn.layer.id]<Xr)break;Nr.push(hn),se.pop()}else for(var pn=0,la=l;pn<la.length;pn+=1){var Gn=la[pn][Br];if(Gn)for(var aa=0,sa=Gn;aa<sa.length;aa+=1)Nr.push(sa[aa].feature)}}return Nr},c.prototype.queryRenderedFeatures=function(l,g,F){g&&g.filter&&this._validate(u.validateStyle.filter,"queryRenderedFeatures.filter",g.filter,null,g);var Q={};if(g&&g.layers){if(!Array.isArray(g.layers))return this.fire(new u.ErrorEvent(new Error("parameters.layers must be an Array."))),[];for(var se=0,_e=g.layers;se<_e.length;se+=1){var mt=_e[se],Rt=this._layers[mt];if(!Rt)return this.fire(new u.ErrorEvent(new Error("The layer '"+mt+"' does not exist in the map's style and cannot be queried for features."))),[];Q[Rt.source]=!0}}var ir=[];for(var rr in g.availableImages=this._availableImages,this.sourceCaches)g.layers&&!Q[rr]||ir.push(ht(this.sourceCaches[rr],this._layers,this._serializedLayers,l,g,F));return this.placement&&ir.push(function(ur,kr,Nr,Xr,Br,Hr,hn){for(var pn={},la=Hr.queryRenderedSymbols(Xr),Gn=[],aa=0,sa=Object.keys(la).map(Number);aa<sa.length;aa+=1)Gn.push(hn[sa[aa]]);Gn.sort(Ye);for(var Ya=function(){var Wo=Di[Ka],ll=Wo.featureIndex.lookupSymbolFeatures(la[Wo.bucketInstanceId],kr,Wo.bucketIndex,Wo.sourceLayerIndex,Br.filter,Br.layers,Br.availableImages,ur);for(var _i in ll){var Qo=pn[_i]=pn[_i]||[],os=ll[_i];os.sort(function(zo,us){var Xs=Wo.featureSortOrder;if(Xs){var au=Xs.indexOf(zo.featureIndex);return Xs.indexOf(us.featureIndex)-au}return us.featureIndex-zo.featureIndex});for(var qi=0,hs=os;qi<hs.length;qi+=1)Qo.push(hs[qi])}},Ka=0,Di=Gn;Ka<Di.length;Ka+=1)Ya();var di=function(Wo){pn[Wo].forEach(function(ll){var _i=ll.feature,Qo=Nr[ur[Wo].source].getFeatureState(_i.layer["source-layer"],_i.id);_i.source=_i.layer.source,_i.layer["source-layer"]&&(_i.sourceLayer=_i.layer["source-layer"]),_i.state=Qo})};for(var Eo in pn)di(Eo);return pn}(this._layers,this._serializedLayers,this.sourceCaches,l,g,this.placement.collisionIndex,this.placement.retainedQueryData)),this._flattenAndSortRenderedFeatures(ir)},c.prototype.querySourceFeatures=function(l,g){g&&g.filter&&this._validate(u.validateStyle.filter,"querySourceFeatures.filter",g.filter,null,g);var F=this.sourceCaches[l];return F?function(Q,se){for(var _e=Q.getRenderableIds().map(function(kr){return Q.getTileByID(kr)}),mt=[],Rt={},ir=0;ir<_e.length;ir++){var rr=_e[ir],ur=rr.tileID.canonical.key;Rt[ur]||(Rt[ur]=!0,rr.querySourceFeatures(mt,se))}return mt}(F,g):[]},c.prototype.addSourceType=function(l,g,F){return c.getSourceType(l)?F(new Error('A source type called "'+l+'" already exists.')):(c.setSourceType(l,g),g.workerSourceURL?void this.dispatcher.broadcast("loadWorkerSource",{name:l,url:g.workerSourceURL},F):F(null,null))},c.prototype.getLight=function(){return this.light.getLight()},c.prototype.setLight=function(l,g){g===void 0&&(g={}),this._checkLoaded();var F=this.light.getLight(),Q=!1;for(var se in l)if(!u.deepEqual(l[se],F[se])){Q=!0;break}if(Q){var _e={now:u.browser.now(),transition:u.extend({duration:300,delay:0},this.stylesheet.transition)};this.light.setLight(l,g),this.light.updateTransitions(_e)}},c.prototype._validate=function(l,g,F,Q,se){return se===void 0&&(se={}),(!se||se.validate!==!1)&&du(this,l.call(u.validateStyle,u.extend({key:g,style:this.serialize(),value:F,styleSpec:u.styleSpec},Q)))},c.prototype._remove=function(){for(var l in this._request&&(this._request.cancel(),this._request=null),this._spriteRequest&&(this._spriteRequest.cancel(),this._spriteRequest=null),u.evented.off("pluginStateChange",this._rtlTextPluginCallback),this._layers)this._layers[l].setEventedParent(null);for(var g in this.sourceCaches)this.sourceCaches[g].clearTiles(),this.sourceCaches[g].setEventedParent(null);this.imageManager.setEventedParent(null),this.setEventedParent(null),this.dispatcher.remove()},c.prototype._clearSource=function(l){this.sourceCaches[l].clearTiles()},c.prototype._reloadSource=function(l){this.sourceCaches[l].resume(),this.sourceCaches[l].reload()},c.prototype._updateSources=function(l){for(var g in this.sourceCaches)this.sourceCaches[g].update(l)},c.prototype._generateCollisionBoxes=function(){for(var l in this.sourceCaches)this._reloadSource(l)},c.prototype._updatePlacement=function(l,g,F,Q,se){se===void 0&&(se=!1);for(var _e=!1,mt=!1,Rt={},ir=0,rr=this._order;ir<rr.length;ir+=1){var ur=this._layers[rr[ir]];if(ur.type==="symbol"){if(!Rt[ur.source]){var kr=this.sourceCaches[ur.source];Rt[ur.source]=kr.getRenderableIds(!0).map(function(hn){return kr.getTileByID(hn)}).sort(function(hn,pn){return pn.tileID.overscaledZ-hn.tileID.overscaledZ||(hn.tileID.isLessThan(pn.tileID)?-1:1)})}var Nr=this.crossTileSymbolIndex.addLayer(ur,Rt[ur.source],l.center.lng);_e=_e||Nr}}if(this.crossTileSymbolIndex.pruneUnusedLayers(this._order),((se=se||this._layerOrderChanged||F===0)||!this.pauseablePlacement||this.pauseablePlacement.isDone()&&!this.placement.stillRecent(u.browser.now(),l.zoom))&&(this.pauseablePlacement=new vc(l,this._order,se,g,F,Q,this.placement),this._layerOrderChanged=!1),this.pauseablePlacement.isDone()?this.placement.setStale():(this.pauseablePlacement.continuePlacement(this._order,this._layers,Rt),this.pauseablePlacement.isDone()&&(this.placement=this.pauseablePlacement.commit(u.browser.now()),mt=!0),_e&&this.pauseablePlacement.placement.setStale()),mt||_e)for(var Xr=0,Br=this._order;Xr<Br.length;Xr+=1){var Hr=this._layers[Br[Xr]];Hr.type==="symbol"&&this.placement.updateLayerOpacities(Hr,Rt[Hr.source])}return!this.pauseablePlacement.isDone()||this.placement.hasTransitions(u.browser.now())},c.prototype._releaseSymbolFadeTiles=function(){for(var l in this.sourceCaches)this.sourceCaches[l].releaseSymbolFadeTiles()},c.prototype.getImages=function(l,g,F){this.imageManager.getImages(g.icons,F),this._updateTilesForChangedImages();var Q=this.sourceCaches[g.source];Q&&Q.setDependencies(g.tileID.key,g.type,g.icons)},c.prototype.getGlyphs=function(l,g,F){this.glyphManager.getGlyphs(g.stacks,F)},c.prototype.getResource=function(l,g,F){return u.makeRequest(g,F)},c}(u.Evented);Bs.getSourceType=function(v){return bt[v]},Bs.setSourceType=function(v,c){bt[v]=c},Bs.registerForPluginStateChange=u.registerForPluginStateChange;var tu=u.createLayout([{name:"a_pos",type:"Int16",components:2}]),il=Ys(`#ifdef GL_ES
precision mediump float;
#else
#if !defined(lowp)
#define lowp
#endif
#if !defined(mediump)
#define mediump
#endif
#if !defined(highp)
#define highp
#endif
#endif`,`#ifdef GL_ES
precision highp float;
#else
#if !defined(lowp)
#define lowp
#endif
#if !defined(mediump)
#define mediump
#endif
#if !defined(highp)
#define highp
#endif
#endif
vec2 unpack_float(const float packedValue) {int packedIntValue=int(packedValue);int v0=packedIntValue/256;return vec2(v0,packedIntValue-v0*256);}vec2 unpack_opacity(const float packedOpacity) {int intOpacity=int(packedOpacity)/2;return vec2(float(intOpacity)/127.0,mod(packedOpacity,2.0));}vec4 decode_color(const vec2 encodedColor) {return vec4(unpack_float(encodedColor[0])/255.0,unpack_float(encodedColor[1])/255.0
);}float unpack_mix_vec2(const vec2 packedValue,const float t) {return mix(packedValue[0],packedValue[1],t);}vec4 unpack_mix_color(const vec4 packedColors,const float t) {vec4 minColor=decode_color(vec2(packedColors[0],packedColors[1]));vec4 maxColor=decode_color(vec2(packedColors[2],packedColors[3]));return mix(minColor,maxColor,t);}vec2 get_pattern_pos(const vec2 pixel_coord_upper,const vec2 pixel_coord_lower,const vec2 pattern_size,const float tile_units_to_pixels,const vec2 pos) {vec2 offset=mod(mod(mod(pixel_coord_upper,pattern_size)*256.0,pattern_size)*256.0+pixel_coord_lower,pattern_size);return (tile_units_to_pixels*pos+offset)/pattern_size;}`),fl=Ys(`uniform vec4 u_color;uniform float u_opacity;void main() {gl_FragColor=u_color*u_opacity;
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,"attribute vec2 a_pos;uniform mat4 u_matrix;void main() {gl_Position=u_matrix*vec4(a_pos,0,1);}"),Yh=Ys(`uniform vec2 u_pattern_tl_a;uniform vec2 u_pattern_br_a;uniform vec2 u_pattern_tl_b;uniform vec2 u_pattern_br_b;uniform vec2 u_texsize;uniform float u_mix;uniform float u_opacity;uniform sampler2D u_image;varying vec2 v_pos_a;varying vec2 v_pos_b;void main() {vec2 imagecoord=mod(v_pos_a,1.0);vec2 pos=mix(u_pattern_tl_a/u_texsize,u_pattern_br_a/u_texsize,imagecoord);vec4 color1=texture2D(u_image,pos);vec2 imagecoord_b=mod(v_pos_b,1.0);vec2 pos2=mix(u_pattern_tl_b/u_texsize,u_pattern_br_b/u_texsize,imagecoord_b);vec4 color2=texture2D(u_image,pos2);gl_FragColor=mix(color1,color2,u_mix)*u_opacity;
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,"uniform mat4 u_matrix;uniform vec2 u_pattern_size_a;uniform vec2 u_pattern_size_b;uniform vec2 u_pixel_coord_upper;uniform vec2 u_pixel_coord_lower;uniform float u_scale_a;uniform float u_scale_b;uniform float u_tile_units_to_pixels;attribute vec2 a_pos;varying vec2 v_pos_a;varying vec2 v_pos_b;void main() {gl_Position=u_matrix*vec4(a_pos,0,1);v_pos_a=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,u_scale_a*u_pattern_size_a,u_tile_units_to_pixels,a_pos);v_pos_b=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,u_scale_b*u_pattern_size_b,u_tile_units_to_pixels,a_pos);}"),Fr=Ys(`varying vec3 v_data;
#pragma mapbox: define highp vec4 color
#pragma mapbox: define mediump float radius
#pragma mapbox: define lowp float blur
#pragma mapbox: define lowp float opacity
#pragma mapbox: define highp vec4 stroke_color
#pragma mapbox: define mediump float stroke_width
#pragma mapbox: define lowp float stroke_opacity
void main() {
#pragma mapbox: initialize highp vec4 color
#pragma mapbox: initialize mediump float radius
#pragma mapbox: initialize lowp float blur
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize highp vec4 stroke_color
#pragma mapbox: initialize mediump float stroke_width
#pragma mapbox: initialize lowp float stroke_opacity
vec2 extrude=v_data.xy;float extrude_length=length(extrude);lowp float antialiasblur=v_data.z;float antialiased_blur=-max(blur,antialiasblur);float opacity_t=smoothstep(0.0,antialiased_blur,extrude_length-1.0);float color_t=stroke_width < 0.01 ? 0.0 : smoothstep(antialiased_blur,0.0,extrude_length-radius/(radius+stroke_width));gl_FragColor=opacity_t*mix(color*opacity,stroke_color*stroke_opacity,color_t);
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,`uniform mat4 u_matrix;uniform bool u_scale_with_map;uniform bool u_pitch_with_map;uniform vec2 u_extrude_scale;uniform lowp float u_device_pixel_ratio;uniform highp float u_camera_to_center_distance;attribute vec2 a_pos;varying vec3 v_data;
#pragma mapbox: define highp vec4 color
#pragma mapbox: define mediump float radius
#pragma mapbox: define lowp float blur
#pragma mapbox: define lowp float opacity
#pragma mapbox: define highp vec4 stroke_color
#pragma mapbox: define mediump float stroke_width
#pragma mapbox: define lowp float stroke_opacity
void main(void) {
#pragma mapbox: initialize highp vec4 color
#pragma mapbox: initialize mediump float radius
#pragma mapbox: initialize lowp float blur
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize highp vec4 stroke_color
#pragma mapbox: initialize mediump float stroke_width
#pragma mapbox: initialize lowp float stroke_opacity
vec2 extrude=vec2(mod(a_pos,2.0)*2.0-1.0);vec2 circle_center=floor(a_pos*0.5);if (u_pitch_with_map) {vec2 corner_position=circle_center;if (u_scale_with_map) {corner_position+=extrude*(radius+stroke_width)*u_extrude_scale;} else {vec4 projected_center=u_matrix*vec4(circle_center,0,1);corner_position+=extrude*(radius+stroke_width)*u_extrude_scale*(projected_center.w/u_camera_to_center_distance);}gl_Position=u_matrix*vec4(corner_position,0,1);} else {gl_Position=u_matrix*vec4(circle_center,0,1);if (u_scale_with_map) {gl_Position.xy+=extrude*(radius+stroke_width)*u_extrude_scale*u_camera_to_center_distance;} else {gl_Position.xy+=extrude*(radius+stroke_width)*u_extrude_scale*gl_Position.w;}}lowp float antialiasblur=1.0/u_device_pixel_ratio/(radius+stroke_width);v_data=vec3(extrude.x,extrude.y,antialiasblur);}`),Sn=Ys("void main() {gl_FragColor=vec4(1.0);}","attribute vec2 a_pos;uniform mat4 u_matrix;void main() {gl_Position=u_matrix*vec4(a_pos,0,1);}"),Jn=Ys(`uniform highp float u_intensity;varying vec2 v_extrude;
#pragma mapbox: define highp float weight
#define GAUSS_COEF 0.3989422804014327
void main() {
#pragma mapbox: initialize highp float weight
float d=-0.5*3.0*3.0*dot(v_extrude,v_extrude);float val=weight*u_intensity*GAUSS_COEF*exp(d);gl_FragColor=vec4(val,1.0,1.0,1.0);
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,`uniform mat4 u_matrix;uniform float u_extrude_scale;uniform float u_opacity;uniform float u_intensity;attribute vec2 a_pos;varying vec2 v_extrude;
#pragma mapbox: define highp float weight
#pragma mapbox: define mediump float radius
const highp float ZERO=1.0/255.0/16.0;
#define GAUSS_COEF 0.3989422804014327
void main(void) {
#pragma mapbox: initialize highp float weight
#pragma mapbox: initialize mediump float radius
vec2 unscaled_extrude=vec2(mod(a_pos,2.0)*2.0-1.0);float S=sqrt(-2.0*log(ZERO/weight/u_intensity/GAUSS_COEF))/3.0;v_extrude=S*unscaled_extrude;vec2 extrude=v_extrude*radius*u_extrude_scale;vec4 pos=vec4(floor(a_pos*0.5)+extrude,0,1);gl_Position=u_matrix*pos;}`),xo=Ys(`uniform sampler2D u_image;uniform sampler2D u_color_ramp;uniform float u_opacity;varying vec2 v_pos;void main() {float t=texture2D(u_image,v_pos).r;vec4 color=texture2D(u_color_ramp,vec2(t,0.5));gl_FragColor=color*u_opacity;
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(0.0);
#endif
}`,"uniform mat4 u_matrix;uniform vec2 u_world;attribute vec2 a_pos;varying vec2 v_pos;void main() {gl_Position=u_matrix*vec4(a_pos*u_world,0,1);v_pos.x=a_pos.x;v_pos.y=1.0-a_pos.y;}"),w=Ys("varying float v_placed;varying float v_notUsed;void main() {float alpha=0.5;gl_FragColor=vec4(1.0,0.0,0.0,1.0)*alpha;if (v_placed > 0.5) {gl_FragColor=vec4(0.0,0.0,1.0,0.5)*alpha;}if (v_notUsed > 0.5) {gl_FragColor*=.1;}}","attribute vec2 a_pos;attribute vec2 a_anchor_pos;attribute vec2 a_extrude;attribute vec2 a_placed;attribute vec2 a_shift;uniform mat4 u_matrix;uniform vec2 u_extrude_scale;uniform float u_camera_to_center_distance;varying float v_placed;varying float v_notUsed;void main() {vec4 projectedPoint=u_matrix*vec4(a_anchor_pos,0,1);highp float camera_to_anchor_distance=projectedPoint.w;highp float collision_perspective_ratio=clamp(0.5+0.5*(u_camera_to_center_distance/camera_to_anchor_distance),0.0,4.0);gl_Position=u_matrix*vec4(a_pos,0.0,1.0);gl_Position.xy+=(a_extrude+a_shift)*u_extrude_scale*gl_Position.w*collision_perspective_ratio;v_placed=a_placed.x;v_notUsed=a_placed.y;}"),re=Ys("varying float v_radius;varying vec2 v_extrude;varying float v_perspective_ratio;varying float v_collision;void main() {float alpha=0.5*min(v_perspective_ratio,1.0);float stroke_radius=0.9*max(v_perspective_ratio,1.0);float distance_to_center=length(v_extrude);float distance_to_edge=abs(distance_to_center-v_radius);float opacity_t=smoothstep(-stroke_radius,0.0,-distance_to_edge);vec4 color=mix(vec4(0.0,0.0,1.0,0.5),vec4(1.0,0.0,0.0,1.0),v_collision);gl_FragColor=color*alpha*opacity_t;}","attribute vec2 a_pos;attribute float a_radius;attribute vec2 a_flags;uniform mat4 u_matrix;uniform mat4 u_inv_matrix;uniform vec2 u_viewport_size;uniform float u_camera_to_center_distance;varying float v_radius;varying vec2 v_extrude;varying float v_perspective_ratio;varying float v_collision;vec3 toTilePosition(vec2 screenPos) {vec4 rayStart=u_inv_matrix*vec4(screenPos,-1.0,1.0);vec4 rayEnd  =u_inv_matrix*vec4(screenPos, 1.0,1.0);rayStart.xyz/=rayStart.w;rayEnd.xyz  /=rayEnd.w;highp float t=(0.0-rayStart.z)/(rayEnd.z-rayStart.z);return mix(rayStart.xyz,rayEnd.xyz,t);}void main() {vec2 quadCenterPos=a_pos;float radius=a_radius;float collision=a_flags.x;float vertexIdx=a_flags.y;vec2 quadVertexOffset=vec2(mix(-1.0,1.0,float(vertexIdx >=2.0)),mix(-1.0,1.0,float(vertexIdx >=1.0 && vertexIdx <=2.0)));vec2 quadVertexExtent=quadVertexOffset*radius;vec3 tilePos=toTilePosition(quadCenterPos);vec4 clipPos=u_matrix*vec4(tilePos,1.0);highp float camera_to_anchor_distance=clipPos.w;highp float collision_perspective_ratio=clamp(0.5+0.5*(u_camera_to_center_distance/camera_to_anchor_distance),0.0,4.0);float padding_factor=1.2;v_radius=radius;v_extrude=quadVertexExtent*padding_factor;v_perspective_ratio=collision_perspective_ratio;v_collision=collision;gl_Position=vec4(clipPos.xyz/clipPos.w,1.0)+vec4(quadVertexExtent*padding_factor/u_viewport_size*2.0,0.0,0.0);}"),Qe=Ys("uniform highp vec4 u_color;uniform sampler2D u_overlay;varying vec2 v_uv;void main() {vec4 overlay_color=texture2D(u_overlay,v_uv);gl_FragColor=mix(u_color,overlay_color,overlay_color.a);}","attribute vec2 a_pos;varying vec2 v_uv;uniform mat4 u_matrix;uniform float u_overlay_scale;void main() {v_uv=a_pos/8192.0;gl_Position=u_matrix*vec4(a_pos*u_overlay_scale,0,1);}"),Se=Ys(`#pragma mapbox: define highp vec4 color
#pragma mapbox: define lowp float opacity
void main() {
#pragma mapbox: initialize highp vec4 color
#pragma mapbox: initialize lowp float opacity
gl_FragColor=color*opacity;
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,`attribute vec2 a_pos;uniform mat4 u_matrix;
#pragma mapbox: define highp vec4 color
#pragma mapbox: define lowp float opacity
void main() {
#pragma mapbox: initialize highp vec4 color
#pragma mapbox: initialize lowp float opacity
gl_Position=u_matrix*vec4(a_pos,0,1);}`),jt=Ys(`varying vec2 v_pos;
#pragma mapbox: define highp vec4 outline_color
#pragma mapbox: define lowp float opacity
void main() {
#pragma mapbox: initialize highp vec4 outline_color
#pragma mapbox: initialize lowp float opacity
float dist=length(v_pos-gl_FragCoord.xy);float alpha=1.0-smoothstep(0.0,1.0,dist);gl_FragColor=outline_color*(alpha*opacity);
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,`attribute vec2 a_pos;uniform mat4 u_matrix;uniform vec2 u_world;varying vec2 v_pos;
#pragma mapbox: define highp vec4 outline_color
#pragma mapbox: define lowp float opacity
void main() {
#pragma mapbox: initialize highp vec4 outline_color
#pragma mapbox: initialize lowp float opacity
gl_Position=u_matrix*vec4(a_pos,0,1);v_pos=(gl_Position.xy/gl_Position.w+1.0)/2.0*u_world;}`),br=Ys(`uniform vec2 u_texsize;uniform sampler2D u_image;uniform float u_fade;varying vec2 v_pos_a;varying vec2 v_pos_b;varying vec2 v_pos;
#pragma mapbox: define lowp float opacity
#pragma mapbox: define lowp vec4 pattern_from
#pragma mapbox: define lowp vec4 pattern_to
void main() {
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize mediump vec4 pattern_from
#pragma mapbox: initialize mediump vec4 pattern_to
vec2 pattern_tl_a=pattern_from.xy;vec2 pattern_br_a=pattern_from.zw;vec2 pattern_tl_b=pattern_to.xy;vec2 pattern_br_b=pattern_to.zw;vec2 imagecoord=mod(v_pos_a,1.0);vec2 pos=mix(pattern_tl_a/u_texsize,pattern_br_a/u_texsize,imagecoord);vec4 color1=texture2D(u_image,pos);vec2 imagecoord_b=mod(v_pos_b,1.0);vec2 pos2=mix(pattern_tl_b/u_texsize,pattern_br_b/u_texsize,imagecoord_b);vec4 color2=texture2D(u_image,pos2);float dist=length(v_pos-gl_FragCoord.xy);float alpha=1.0-smoothstep(0.0,1.0,dist);gl_FragColor=mix(color1,color2,u_fade)*alpha*opacity;
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,`uniform mat4 u_matrix;uniform vec2 u_world;uniform vec2 u_pixel_coord_upper;uniform vec2 u_pixel_coord_lower;uniform vec3 u_scale;attribute vec2 a_pos;varying vec2 v_pos_a;varying vec2 v_pos_b;varying vec2 v_pos;
#pragma mapbox: define lowp float opacity
#pragma mapbox: define lowp vec4 pattern_from
#pragma mapbox: define lowp vec4 pattern_to
#pragma mapbox: define lowp float pixel_ratio_from
#pragma mapbox: define lowp float pixel_ratio_to
void main() {
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize mediump vec4 pattern_from
#pragma mapbox: initialize mediump vec4 pattern_to
#pragma mapbox: initialize lowp float pixel_ratio_from
#pragma mapbox: initialize lowp float pixel_ratio_to
vec2 pattern_tl_a=pattern_from.xy;vec2 pattern_br_a=pattern_from.zw;vec2 pattern_tl_b=pattern_to.xy;vec2 pattern_br_b=pattern_to.zw;float tileRatio=u_scale.x;float fromScale=u_scale.y;float toScale=u_scale.z;gl_Position=u_matrix*vec4(a_pos,0,1);vec2 display_size_a=(pattern_br_a-pattern_tl_a)/pixel_ratio_from;vec2 display_size_b=(pattern_br_b-pattern_tl_b)/pixel_ratio_to;v_pos_a=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,fromScale*display_size_a,tileRatio,a_pos);v_pos_b=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,toScale*display_size_b,tileRatio,a_pos);v_pos=(gl_Position.xy/gl_Position.w+1.0)/2.0*u_world;}`),Yr=Ys(`uniform vec2 u_texsize;uniform float u_fade;uniform sampler2D u_image;varying vec2 v_pos_a;varying vec2 v_pos_b;
#pragma mapbox: define lowp float opacity
#pragma mapbox: define lowp vec4 pattern_from
#pragma mapbox: define lowp vec4 pattern_to
void main() {
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize mediump vec4 pattern_from
#pragma mapbox: initialize mediump vec4 pattern_to
vec2 pattern_tl_a=pattern_from.xy;vec2 pattern_br_a=pattern_from.zw;vec2 pattern_tl_b=pattern_to.xy;vec2 pattern_br_b=pattern_to.zw;vec2 imagecoord=mod(v_pos_a,1.0);vec2 pos=mix(pattern_tl_a/u_texsize,pattern_br_a/u_texsize,imagecoord);vec4 color1=texture2D(u_image,pos);vec2 imagecoord_b=mod(v_pos_b,1.0);vec2 pos2=mix(pattern_tl_b/u_texsize,pattern_br_b/u_texsize,imagecoord_b);vec4 color2=texture2D(u_image,pos2);gl_FragColor=mix(color1,color2,u_fade)*opacity;
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,`uniform mat4 u_matrix;uniform vec2 u_pixel_coord_upper;uniform vec2 u_pixel_coord_lower;uniform vec3 u_scale;attribute vec2 a_pos;varying vec2 v_pos_a;varying vec2 v_pos_b;
#pragma mapbox: define lowp float opacity
#pragma mapbox: define lowp vec4 pattern_from
#pragma mapbox: define lowp vec4 pattern_to
#pragma mapbox: define lowp float pixel_ratio_from
#pragma mapbox: define lowp float pixel_ratio_to
void main() {
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize mediump vec4 pattern_from
#pragma mapbox: initialize mediump vec4 pattern_to
#pragma mapbox: initialize lowp float pixel_ratio_from
#pragma mapbox: initialize lowp float pixel_ratio_to
vec2 pattern_tl_a=pattern_from.xy;vec2 pattern_br_a=pattern_from.zw;vec2 pattern_tl_b=pattern_to.xy;vec2 pattern_br_b=pattern_to.zw;float tileZoomRatio=u_scale.x;float fromScale=u_scale.y;float toScale=u_scale.z;vec2 display_size_a=(pattern_br_a-pattern_tl_a)/pixel_ratio_from;vec2 display_size_b=(pattern_br_b-pattern_tl_b)/pixel_ratio_to;gl_Position=u_matrix*vec4(a_pos,0,1);v_pos_a=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,fromScale*display_size_a,tileZoomRatio,a_pos);v_pos_b=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,toScale*display_size_b,tileZoomRatio,a_pos);}`),fn=Ys(`varying vec4 v_color;void main() {gl_FragColor=v_color;
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,`uniform mat4 u_matrix;uniform vec3 u_lightcolor;uniform lowp vec3 u_lightpos;uniform lowp float u_lightintensity;uniform float u_vertical_gradient;uniform lowp float u_opacity;attribute vec2 a_pos;attribute vec4 a_normal_ed;varying vec4 v_color;
#pragma mapbox: define highp float base
#pragma mapbox: define highp float height
#pragma mapbox: define highp vec4 color
void main() {
#pragma mapbox: initialize highp float base
#pragma mapbox: initialize highp float height
#pragma mapbox: initialize highp vec4 color
vec3 normal=a_normal_ed.xyz;base=max(0.0,base);height=max(0.0,height);float t=mod(normal.x,2.0);gl_Position=u_matrix*vec4(a_pos,t > 0.0 ? height : base,1);float colorvalue=color.r*0.2126+color.g*0.7152+color.b*0.0722;v_color=vec4(0.0,0.0,0.0,1.0);vec4 ambientlight=vec4(0.03,0.03,0.03,1.0);color+=ambientlight;float directional=clamp(dot(normal/16384.0,u_lightpos),0.0,1.0);directional=mix((1.0-u_lightintensity),max((1.0-colorvalue+u_lightintensity),1.0),directional);if (normal.y !=0.0) {directional*=((1.0-u_vertical_gradient)+(u_vertical_gradient*clamp((t+base)*pow(height/150.0,0.5),mix(0.7,0.98,1.0-u_lightintensity),1.0)));}v_color.r+=clamp(color.r*directional*u_lightcolor.r,mix(0.0,0.3,1.0-u_lightcolor.r),1.0);v_color.g+=clamp(color.g*directional*u_lightcolor.g,mix(0.0,0.3,1.0-u_lightcolor.g),1.0);v_color.b+=clamp(color.b*directional*u_lightcolor.b,mix(0.0,0.3,1.0-u_lightcolor.b),1.0);v_color*=u_opacity;}`),En=Ys(`uniform vec2 u_texsize;uniform float u_fade;uniform sampler2D u_image;varying vec2 v_pos_a;varying vec2 v_pos_b;varying vec4 v_lighting;
#pragma mapbox: define lowp float base
#pragma mapbox: define lowp float height
#pragma mapbox: define lowp vec4 pattern_from
#pragma mapbox: define lowp vec4 pattern_to
#pragma mapbox: define lowp float pixel_ratio_from
#pragma mapbox: define lowp float pixel_ratio_to
void main() {
#pragma mapbox: initialize lowp float base
#pragma mapbox: initialize lowp float height
#pragma mapbox: initialize mediump vec4 pattern_from
#pragma mapbox: initialize mediump vec4 pattern_to
#pragma mapbox: initialize lowp float pixel_ratio_from
#pragma mapbox: initialize lowp float pixel_ratio_to
vec2 pattern_tl_a=pattern_from.xy;vec2 pattern_br_a=pattern_from.zw;vec2 pattern_tl_b=pattern_to.xy;vec2 pattern_br_b=pattern_to.zw;vec2 imagecoord=mod(v_pos_a,1.0);vec2 pos=mix(pattern_tl_a/u_texsize,pattern_br_a/u_texsize,imagecoord);vec4 color1=texture2D(u_image,pos);vec2 imagecoord_b=mod(v_pos_b,1.0);vec2 pos2=mix(pattern_tl_b/u_texsize,pattern_br_b/u_texsize,imagecoord_b);vec4 color2=texture2D(u_image,pos2);vec4 mixedColor=mix(color1,color2,u_fade);gl_FragColor=mixedColor*v_lighting;
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,`uniform mat4 u_matrix;uniform vec2 u_pixel_coord_upper;uniform vec2 u_pixel_coord_lower;uniform float u_height_factor;uniform vec3 u_scale;uniform float u_vertical_gradient;uniform lowp float u_opacity;uniform vec3 u_lightcolor;uniform lowp vec3 u_lightpos;uniform lowp float u_lightintensity;attribute vec2 a_pos;attribute vec4 a_normal_ed;varying vec2 v_pos_a;varying vec2 v_pos_b;varying vec4 v_lighting;
#pragma mapbox: define lowp float base
#pragma mapbox: define lowp float height
#pragma mapbox: define lowp vec4 pattern_from
#pragma mapbox: define lowp vec4 pattern_to
#pragma mapbox: define lowp float pixel_ratio_from
#pragma mapbox: define lowp float pixel_ratio_to
void main() {
#pragma mapbox: initialize lowp float base
#pragma mapbox: initialize lowp float height
#pragma mapbox: initialize mediump vec4 pattern_from
#pragma mapbox: initialize mediump vec4 pattern_to
#pragma mapbox: initialize lowp float pixel_ratio_from
#pragma mapbox: initialize lowp float pixel_ratio_to
vec2 pattern_tl_a=pattern_from.xy;vec2 pattern_br_a=pattern_from.zw;vec2 pattern_tl_b=pattern_to.xy;vec2 pattern_br_b=pattern_to.zw;float tileRatio=u_scale.x;float fromScale=u_scale.y;float toScale=u_scale.z;vec3 normal=a_normal_ed.xyz;float edgedistance=a_normal_ed.w;vec2 display_size_a=(pattern_br_a-pattern_tl_a)/pixel_ratio_from;vec2 display_size_b=(pattern_br_b-pattern_tl_b)/pixel_ratio_to;base=max(0.0,base);height=max(0.0,height);float t=mod(normal.x,2.0);float z=t > 0.0 ? height : base;gl_Position=u_matrix*vec4(a_pos,z,1);vec2 pos=normal.x==1.0 && normal.y==0.0 && normal.z==16384.0
? a_pos
: vec2(edgedistance,z*u_height_factor);v_pos_a=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,fromScale*display_size_a,tileRatio,pos);v_pos_b=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,toScale*display_size_b,tileRatio,pos);v_lighting=vec4(0.0,0.0,0.0,1.0);float directional=clamp(dot(normal/16383.0,u_lightpos),0.0,1.0);directional=mix((1.0-u_lightintensity),max((0.5+u_lightintensity),1.0),directional);if (normal.y !=0.0) {directional*=((1.0-u_vertical_gradient)+(u_vertical_gradient*clamp((t+base)*pow(height/150.0,0.5),mix(0.7,0.98,1.0-u_lightintensity),1.0)));}v_lighting.rgb+=clamp(directional*u_lightcolor,mix(vec3(0.0),vec3(0.3),1.0-u_lightcolor),vec3(1.0));v_lighting*=u_opacity;}`),ma=Ys(`#ifdef GL_ES
precision highp float;
#endif
uniform sampler2D u_image;varying vec2 v_pos;uniform vec2 u_dimension;uniform float u_zoom;uniform vec4 u_unpack;float getElevation(vec2 coord,float bias) {vec4 data=texture2D(u_image,coord)*255.0;data.a=-1.0;return dot(data,u_unpack)/4.0;}void main() {vec2 epsilon=1.0/u_dimension;float a=getElevation(v_pos+vec2(-epsilon.x,-epsilon.y),0.0);float b=getElevation(v_pos+vec2(0,-epsilon.y),0.0);float c=getElevation(v_pos+vec2(epsilon.x,-epsilon.y),0.0);float d=getElevation(v_pos+vec2(-epsilon.x,0),0.0);float e=getElevation(v_pos,0.0);float f=getElevation(v_pos+vec2(epsilon.x,0),0.0);float g=getElevation(v_pos+vec2(-epsilon.x,epsilon.y),0.0);float h=getElevation(v_pos+vec2(0,epsilon.y),0.0);float i=getElevation(v_pos+vec2(epsilon.x,epsilon.y),0.0);float exaggerationFactor=u_zoom < 2.0 ? 0.4 : u_zoom < 4.5 ? 0.35 : 0.3;float exaggeration=u_zoom < 15.0 ? (u_zoom-15.0)*exaggerationFactor : 0.0;vec2 deriv=vec2((c+f+f+i)-(a+d+d+g),(g+h+h+i)-(a+b+b+c))/pow(2.0,exaggeration+(19.2562-u_zoom));gl_FragColor=clamp(vec4(deriv.x/2.0+0.5,deriv.y/2.0+0.5,1.0,1.0),0.0,1.0);
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,"uniform mat4 u_matrix;uniform vec2 u_dimension;attribute vec2 a_pos;attribute vec2 a_texture_pos;varying vec2 v_pos;void main() {gl_Position=u_matrix*vec4(a_pos,0,1);highp vec2 epsilon=1.0/u_dimension;float scale=(u_dimension.x-2.0)/u_dimension.x;v_pos=(a_texture_pos/8192.0)*scale+epsilon;}"),Ia=Ys(`uniform sampler2D u_image;varying vec2 v_pos;uniform vec2 u_latrange;uniform vec2 u_light;uniform vec4 u_shadow;uniform vec4 u_highlight;uniform vec4 u_accent;
#define PI 3.141592653589793
void main() {vec4 pixel=texture2D(u_image,v_pos);vec2 deriv=((pixel.rg*2.0)-1.0);float scaleFactor=cos(radians((u_latrange[0]-u_latrange[1])*(1.0-v_pos.y)+u_latrange[1]));float slope=atan(1.25*length(deriv)/scaleFactor);float aspect=deriv.x !=0.0 ? atan(deriv.y,-deriv.x) : PI/2.0*(deriv.y > 0.0 ? 1.0 :-1.0);float intensity=u_light.x;float azimuth=u_light.y+PI;float base=1.875-intensity*1.75;float maxValue=0.5*PI;float scaledSlope=intensity !=0.5 ? ((pow(base,slope)-1.0)/(pow(base,maxValue)-1.0))*maxValue : slope;float accent=cos(scaledSlope);vec4 accent_color=(1.0-accent)*u_accent*clamp(intensity*2.0,0.0,1.0);float shade=abs(mod((aspect+azimuth)/PI+0.5,2.0)-1.0);vec4 shade_color=mix(u_shadow,u_highlight,shade)*sin(scaledSlope)*clamp(intensity*2.0,0.0,1.0);gl_FragColor=accent_color*(1.0-shade_color.a)+shade_color;
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,"uniform mat4 u_matrix;attribute vec2 a_pos;attribute vec2 a_texture_pos;varying vec2 v_pos;void main() {gl_Position=u_matrix*vec4(a_pos,0,1);v_pos=a_texture_pos/8192.0;}"),Co=Ys(`uniform lowp float u_device_pixel_ratio;varying vec2 v_width2;varying vec2 v_normal;varying float v_gamma_scale;
#pragma mapbox: define highp vec4 color
#pragma mapbox: define lowp float blur
#pragma mapbox: define lowp float opacity
void main() {
#pragma mapbox: initialize highp vec4 color
#pragma mapbox: initialize lowp float blur
#pragma mapbox: initialize lowp float opacity
float dist=length(v_normal)*v_width2.s;float blur2=(blur+1.0/u_device_pixel_ratio)*v_gamma_scale;float alpha=clamp(min(dist-(v_width2.t-blur2),v_width2.s-dist)/blur2,0.0,1.0);gl_FragColor=color*(alpha*opacity);
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,`
#define scale 0.015873016
attribute vec2 a_pos_normal;attribute vec4 a_data;uniform mat4 u_matrix;uniform mediump float u_ratio;uniform vec2 u_units_to_pixels;uniform lowp float u_device_pixel_ratio;varying vec2 v_normal;varying vec2 v_width2;varying float v_gamma_scale;varying highp float v_linesofar;
#pragma mapbox: define highp vec4 color
#pragma mapbox: define lowp float blur
#pragma mapbox: define lowp float opacity
#pragma mapbox: define mediump float gapwidth
#pragma mapbox: define lowp float offset
#pragma mapbox: define mediump float width
void main() {
#pragma mapbox: initialize highp vec4 color
#pragma mapbox: initialize lowp float blur
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize mediump float gapwidth
#pragma mapbox: initialize lowp float offset
#pragma mapbox: initialize mediump float width
float ANTIALIASING=1.0/u_device_pixel_ratio/2.0;vec2 a_extrude=a_data.xy-128.0;float a_direction=mod(a_data.z,4.0)-1.0;v_linesofar=(floor(a_data.z/4.0)+a_data.w*64.0)*2.0;vec2 pos=floor(a_pos_normal*0.5);mediump vec2 normal=a_pos_normal-2.0*pos;normal.y=normal.y*2.0-1.0;v_normal=normal;gapwidth=gapwidth/2.0;float halfwidth=width/2.0;offset=-1.0*offset;float inset=gapwidth+(gapwidth > 0.0 ? ANTIALIASING : 0.0);float outset=gapwidth+halfwidth*(gapwidth > 0.0 ? 2.0 : 1.0)+(halfwidth==0.0 ? 0.0 : ANTIALIASING);mediump vec2 dist=outset*a_extrude*scale;mediump float u=0.5*a_direction;mediump float t=1.0-abs(u);mediump vec2 offset2=offset*a_extrude*scale*normal.y*mat2(t,-u,u,t);vec4 projected_extrude=u_matrix*vec4(dist/u_ratio,0.0,0.0);gl_Position=u_matrix*vec4(pos+offset2/u_ratio,0.0,1.0)+projected_extrude;float extrude_length_without_perspective=length(dist);float extrude_length_with_perspective=length(projected_extrude.xy/gl_Position.w*u_units_to_pixels);v_gamma_scale=extrude_length_without_perspective/extrude_length_with_perspective;v_width2=vec2(outset,inset);}`),$o=Ys(`uniform lowp float u_device_pixel_ratio;uniform sampler2D u_image;varying vec2 v_width2;varying vec2 v_normal;varying float v_gamma_scale;varying highp vec2 v_uv;
#pragma mapbox: define lowp float blur
#pragma mapbox: define lowp float opacity
void main() {
#pragma mapbox: initialize lowp float blur
#pragma mapbox: initialize lowp float opacity
float dist=length(v_normal)*v_width2.s;float blur2=(blur+1.0/u_device_pixel_ratio)*v_gamma_scale;float alpha=clamp(min(dist-(v_width2.t-blur2),v_width2.s-dist)/blur2,0.0,1.0);vec4 color=texture2D(u_image,v_uv);gl_FragColor=color*(alpha*opacity);
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,`
#define scale 0.015873016
attribute vec2 a_pos_normal;attribute vec4 a_data;attribute float a_uv_x;attribute float a_split_index;uniform mat4 u_matrix;uniform mediump float u_ratio;uniform lowp float u_device_pixel_ratio;uniform vec2 u_units_to_pixels;uniform float u_image_height;varying vec2 v_normal;varying vec2 v_width2;varying float v_gamma_scale;varying highp vec2 v_uv;
#pragma mapbox: define lowp float blur
#pragma mapbox: define lowp float opacity
#pragma mapbox: define mediump float gapwidth
#pragma mapbox: define lowp float offset
#pragma mapbox: define mediump float width
void main() {
#pragma mapbox: initialize lowp float blur
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize mediump float gapwidth
#pragma mapbox: initialize lowp float offset
#pragma mapbox: initialize mediump float width
float ANTIALIASING=1.0/u_device_pixel_ratio/2.0;vec2 a_extrude=a_data.xy-128.0;float a_direction=mod(a_data.z,4.0)-1.0;highp float texel_height=1.0/u_image_height;highp float half_texel_height=0.5*texel_height;v_uv=vec2(a_uv_x,a_split_index*texel_height-half_texel_height);vec2 pos=floor(a_pos_normal*0.5);mediump vec2 normal=a_pos_normal-2.0*pos;normal.y=normal.y*2.0-1.0;v_normal=normal;gapwidth=gapwidth/2.0;float halfwidth=width/2.0;offset=-1.0*offset;float inset=gapwidth+(gapwidth > 0.0 ? ANTIALIASING : 0.0);float outset=gapwidth+halfwidth*(gapwidth > 0.0 ? 2.0 : 1.0)+(halfwidth==0.0 ? 0.0 : ANTIALIASING);mediump vec2 dist=outset*a_extrude*scale;mediump float u=0.5*a_direction;mediump float t=1.0-abs(u);mediump vec2 offset2=offset*a_extrude*scale*normal.y*mat2(t,-u,u,t);vec4 projected_extrude=u_matrix*vec4(dist/u_ratio,0.0,0.0);gl_Position=u_matrix*vec4(pos+offset2/u_ratio,0.0,1.0)+projected_extrude;float extrude_length_without_perspective=length(dist);float extrude_length_with_perspective=length(projected_extrude.xy/gl_Position.w*u_units_to_pixels);v_gamma_scale=extrude_length_without_perspective/extrude_length_with_perspective;v_width2=vec2(outset,inset);}`),Zo=Ys(`uniform lowp float u_device_pixel_ratio;uniform vec2 u_texsize;uniform float u_fade;uniform mediump vec3 u_scale;uniform sampler2D u_image;varying vec2 v_normal;varying vec2 v_width2;varying float v_linesofar;varying float v_gamma_scale;varying float v_width;
#pragma mapbox: define lowp vec4 pattern_from
#pragma mapbox: define lowp vec4 pattern_to
#pragma mapbox: define lowp float pixel_ratio_from
#pragma mapbox: define lowp float pixel_ratio_to
#pragma mapbox: define lowp float blur
#pragma mapbox: define lowp float opacity
void main() {
#pragma mapbox: initialize mediump vec4 pattern_from
#pragma mapbox: initialize mediump vec4 pattern_to
#pragma mapbox: initialize lowp float pixel_ratio_from
#pragma mapbox: initialize lowp float pixel_ratio_to
#pragma mapbox: initialize lowp float blur
#pragma mapbox: initialize lowp float opacity
vec2 pattern_tl_a=pattern_from.xy;vec2 pattern_br_a=pattern_from.zw;vec2 pattern_tl_b=pattern_to.xy;vec2 pattern_br_b=pattern_to.zw;float tileZoomRatio=u_scale.x;float fromScale=u_scale.y;float toScale=u_scale.z;vec2 display_size_a=(pattern_br_a-pattern_tl_a)/pixel_ratio_from;vec2 display_size_b=(pattern_br_b-pattern_tl_b)/pixel_ratio_to;vec2 pattern_size_a=vec2(display_size_a.x*fromScale/tileZoomRatio,display_size_a.y);vec2 pattern_size_b=vec2(display_size_b.x*toScale/tileZoomRatio,display_size_b.y);float aspect_a=display_size_a.y/v_width;float aspect_b=display_size_b.y/v_width;float dist=length(v_normal)*v_width2.s;float blur2=(blur+1.0/u_device_pixel_ratio)*v_gamma_scale;float alpha=clamp(min(dist-(v_width2.t-blur2),v_width2.s-dist)/blur2,0.0,1.0);float x_a=mod(v_linesofar/pattern_size_a.x*aspect_a,1.0);float x_b=mod(v_linesofar/pattern_size_b.x*aspect_b,1.0);float y=0.5*v_normal.y+0.5;vec2 texel_size=1.0/u_texsize;vec2 pos_a=mix(pattern_tl_a*texel_size-texel_size,pattern_br_a*texel_size+texel_size,vec2(x_a,y));vec2 pos_b=mix(pattern_tl_b*texel_size-texel_size,pattern_br_b*texel_size+texel_size,vec2(x_b,y));vec4 color=mix(texture2D(u_image,pos_a),texture2D(u_image,pos_b),u_fade);gl_FragColor=color*alpha*opacity;
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,`
#define scale 0.015873016
#define LINE_DISTANCE_SCALE 2.0
attribute vec2 a_pos_normal;attribute vec4 a_data;uniform mat4 u_matrix;uniform vec2 u_units_to_pixels;uniform mediump float u_ratio;uniform lowp float u_device_pixel_ratio;varying vec2 v_normal;varying vec2 v_width2;varying float v_linesofar;varying float v_gamma_scale;varying float v_width;
#pragma mapbox: define lowp float blur
#pragma mapbox: define lowp float opacity
#pragma mapbox: define lowp float offset
#pragma mapbox: define mediump float gapwidth
#pragma mapbox: define mediump float width
#pragma mapbox: define lowp float floorwidth
#pragma mapbox: define lowp vec4 pattern_from
#pragma mapbox: define lowp vec4 pattern_to
#pragma mapbox: define lowp float pixel_ratio_from
#pragma mapbox: define lowp float pixel_ratio_to
void main() {
#pragma mapbox: initialize lowp float blur
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize lowp float offset
#pragma mapbox: initialize mediump float gapwidth
#pragma mapbox: initialize mediump float width
#pragma mapbox: initialize lowp float floorwidth
#pragma mapbox: initialize mediump vec4 pattern_from
#pragma mapbox: initialize mediump vec4 pattern_to
#pragma mapbox: initialize lowp float pixel_ratio_from
#pragma mapbox: initialize lowp float pixel_ratio_to
float ANTIALIASING=1.0/u_device_pixel_ratio/2.0;vec2 a_extrude=a_data.xy-128.0;float a_direction=mod(a_data.z,4.0)-1.0;float a_linesofar=(floor(a_data.z/4.0)+a_data.w*64.0)*LINE_DISTANCE_SCALE;vec2 pos=floor(a_pos_normal*0.5);mediump vec2 normal=a_pos_normal-2.0*pos;normal.y=normal.y*2.0-1.0;v_normal=normal;gapwidth=gapwidth/2.0;float halfwidth=width/2.0;offset=-1.0*offset;float inset=gapwidth+(gapwidth > 0.0 ? ANTIALIASING : 0.0);float outset=gapwidth+halfwidth*(gapwidth > 0.0 ? 2.0 : 1.0)+(halfwidth==0.0 ? 0.0 : ANTIALIASING);mediump vec2 dist=outset*a_extrude*scale;mediump float u=0.5*a_direction;mediump float t=1.0-abs(u);mediump vec2 offset2=offset*a_extrude*scale*normal.y*mat2(t,-u,u,t);vec4 projected_extrude=u_matrix*vec4(dist/u_ratio,0.0,0.0);gl_Position=u_matrix*vec4(pos+offset2/u_ratio,0.0,1.0)+projected_extrude;float extrude_length_without_perspective=length(dist);float extrude_length_with_perspective=length(projected_extrude.xy/gl_Position.w*u_units_to_pixels);v_gamma_scale=extrude_length_without_perspective/extrude_length_with_perspective;v_linesofar=a_linesofar;v_width2=vec2(outset,inset);v_width=floorwidth;}`),Hs=Ys(`uniform lowp float u_device_pixel_ratio;uniform sampler2D u_image;uniform float u_sdfgamma;uniform float u_mix;varying vec2 v_normal;varying vec2 v_width2;varying vec2 v_tex_a;varying vec2 v_tex_b;varying float v_gamma_scale;
#pragma mapbox: define highp vec4 color
#pragma mapbox: define lowp float blur
#pragma mapbox: define lowp float opacity
#pragma mapbox: define mediump float width
#pragma mapbox: define lowp float floorwidth
void main() {
#pragma mapbox: initialize highp vec4 color
#pragma mapbox: initialize lowp float blur
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize mediump float width
#pragma mapbox: initialize lowp float floorwidth
float dist=length(v_normal)*v_width2.s;float blur2=(blur+1.0/u_device_pixel_ratio)*v_gamma_scale;float alpha=clamp(min(dist-(v_width2.t-blur2),v_width2.s-dist)/blur2,0.0,1.0);float sdfdist_a=texture2D(u_image,v_tex_a).a;float sdfdist_b=texture2D(u_image,v_tex_b).a;float sdfdist=mix(sdfdist_a,sdfdist_b,u_mix);alpha*=smoothstep(0.5-u_sdfgamma/floorwidth,0.5+u_sdfgamma/floorwidth,sdfdist);gl_FragColor=color*(alpha*opacity);
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,`
#define scale 0.015873016
#define LINE_DISTANCE_SCALE 2.0
attribute vec2 a_pos_normal;attribute vec4 a_data;uniform mat4 u_matrix;uniform mediump float u_ratio;uniform lowp float u_device_pixel_ratio;uniform vec2 u_patternscale_a;uniform float u_tex_y_a;uniform vec2 u_patternscale_b;uniform float u_tex_y_b;uniform vec2 u_units_to_pixels;varying vec2 v_normal;varying vec2 v_width2;varying vec2 v_tex_a;varying vec2 v_tex_b;varying float v_gamma_scale;
#pragma mapbox: define highp vec4 color
#pragma mapbox: define lowp float blur
#pragma mapbox: define lowp float opacity
#pragma mapbox: define mediump float gapwidth
#pragma mapbox: define lowp float offset
#pragma mapbox: define mediump float width
#pragma mapbox: define lowp float floorwidth
void main() {
#pragma mapbox: initialize highp vec4 color
#pragma mapbox: initialize lowp float blur
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize mediump float gapwidth
#pragma mapbox: initialize lowp float offset
#pragma mapbox: initialize mediump float width
#pragma mapbox: initialize lowp float floorwidth
float ANTIALIASING=1.0/u_device_pixel_ratio/2.0;vec2 a_extrude=a_data.xy-128.0;float a_direction=mod(a_data.z,4.0)-1.0;float a_linesofar=(floor(a_data.z/4.0)+a_data.w*64.0)*LINE_DISTANCE_SCALE;vec2 pos=floor(a_pos_normal*0.5);mediump vec2 normal=a_pos_normal-2.0*pos;normal.y=normal.y*2.0-1.0;v_normal=normal;gapwidth=gapwidth/2.0;float halfwidth=width/2.0;offset=-1.0*offset;float inset=gapwidth+(gapwidth > 0.0 ? ANTIALIASING : 0.0);float outset=gapwidth+halfwidth*(gapwidth > 0.0 ? 2.0 : 1.0)+(halfwidth==0.0 ? 0.0 : ANTIALIASING);mediump vec2 dist=outset*a_extrude*scale;mediump float u=0.5*a_direction;mediump float t=1.0-abs(u);mediump vec2 offset2=offset*a_extrude*scale*normal.y*mat2(t,-u,u,t);vec4 projected_extrude=u_matrix*vec4(dist/u_ratio,0.0,0.0);gl_Position=u_matrix*vec4(pos+offset2/u_ratio,0.0,1.0)+projected_extrude;float extrude_length_without_perspective=length(dist);float extrude_length_with_perspective=length(projected_extrude.xy/gl_Position.w*u_units_to_pixels);v_gamma_scale=extrude_length_without_perspective/extrude_length_with_perspective;v_tex_a=vec2(a_linesofar*u_patternscale_a.x/floorwidth,normal.y*u_patternscale_a.y+u_tex_y_a);v_tex_b=vec2(a_linesofar*u_patternscale_b.x/floorwidth,normal.y*u_patternscale_b.y+u_tex_y_b);v_width2=vec2(outset,inset);}`),ms=Ys(`uniform float u_fade_t;uniform float u_opacity;uniform sampler2D u_image0;uniform sampler2D u_image1;varying vec2 v_pos0;varying vec2 v_pos1;uniform float u_brightness_low;uniform float u_brightness_high;uniform float u_saturation_factor;uniform float u_contrast_factor;uniform vec3 u_spin_weights;void main() {vec4 color0=texture2D(u_image0,v_pos0);vec4 color1=texture2D(u_image1,v_pos1);if (color0.a > 0.0) {color0.rgb=color0.rgb/color0.a;}if (color1.a > 0.0) {color1.rgb=color1.rgb/color1.a;}vec4 color=mix(color0,color1,u_fade_t);color.a*=u_opacity;vec3 rgb=color.rgb;rgb=vec3(dot(rgb,u_spin_weights.xyz),dot(rgb,u_spin_weights.zxy),dot(rgb,u_spin_weights.yzx));float average=(color.r+color.g+color.b)/3.0;rgb+=(average-rgb)*u_saturation_factor;rgb=(rgb-0.5)*u_contrast_factor+0.5;vec3 u_high_vec=vec3(u_brightness_low,u_brightness_low,u_brightness_low);vec3 u_low_vec=vec3(u_brightness_high,u_brightness_high,u_brightness_high);gl_FragColor=vec4(mix(u_high_vec,u_low_vec,rgb)*color.a,color.a);
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,"uniform mat4 u_matrix;uniform vec2 u_tl_parent;uniform float u_scale_parent;uniform float u_buffer_scale;attribute vec2 a_pos;attribute vec2 a_texture_pos;varying vec2 v_pos0;varying vec2 v_pos1;void main() {gl_Position=u_matrix*vec4(a_pos,0,1);v_pos0=(((a_texture_pos/8192.0)-0.5)/u_buffer_scale )+0.5;v_pos1=(v_pos0*u_scale_parent)+u_tl_parent;}"),Ws=Ys(`uniform sampler2D u_texture;varying vec2 v_tex;varying float v_fade_opacity;
#pragma mapbox: define lowp float opacity
void main() {
#pragma mapbox: initialize lowp float opacity
lowp float alpha=opacity*v_fade_opacity;gl_FragColor=texture2D(u_texture,v_tex)*alpha;
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,`const float PI=3.141592653589793;attribute vec4 a_pos_offset;attribute vec4 a_data;attribute vec4 a_pixeloffset;attribute vec3 a_projected_pos;attribute float a_fade_opacity;uniform bool u_is_size_zoom_constant;uniform bool u_is_size_feature_constant;uniform highp float u_size_t;uniform highp float u_size;uniform highp float u_camera_to_center_distance;uniform highp float u_pitch;uniform bool u_rotate_symbol;uniform highp float u_aspect_ratio;uniform float u_fade_change;uniform mat4 u_matrix;uniform mat4 u_label_plane_matrix;uniform mat4 u_coord_matrix;uniform bool u_is_text;uniform bool u_pitch_with_map;uniform vec2 u_texsize;varying vec2 v_tex;varying float v_fade_opacity;
#pragma mapbox: define lowp float opacity
void main() {
#pragma mapbox: initialize lowp float opacity
vec2 a_pos=a_pos_offset.xy;vec2 a_offset=a_pos_offset.zw;vec2 a_tex=a_data.xy;vec2 a_size=a_data.zw;float a_size_min=floor(a_size[0]*0.5);vec2 a_pxoffset=a_pixeloffset.xy;vec2 a_minFontScale=a_pixeloffset.zw/256.0;highp float segment_angle=-a_projected_pos[2];float size;if (!u_is_size_zoom_constant && !u_is_size_feature_constant) {size=mix(a_size_min,a_size[1],u_size_t)/128.0;} else if (u_is_size_zoom_constant && !u_is_size_feature_constant) {size=a_size_min/128.0;} else {size=u_size;}vec4 projectedPoint=u_matrix*vec4(a_pos,0,1);highp float camera_to_anchor_distance=projectedPoint.w;highp float distance_ratio=u_pitch_with_map ?
camera_to_anchor_distance/u_camera_to_center_distance :
u_camera_to_center_distance/camera_to_anchor_distance;highp float perspective_ratio=clamp(0.5+0.5*distance_ratio,0.0,4.0);size*=perspective_ratio;float fontScale=u_is_text ? size/24.0 : size;highp float symbol_rotation=0.0;if (u_rotate_symbol) {vec4 offsetProjectedPoint=u_matrix*vec4(a_pos+vec2(1,0),0,1);vec2 a=projectedPoint.xy/projectedPoint.w;vec2 b=offsetProjectedPoint.xy/offsetProjectedPoint.w;symbol_rotation=atan((b.y-a.y)/u_aspect_ratio,b.x-a.x);}highp float angle_sin=sin(segment_angle+symbol_rotation);highp float angle_cos=cos(segment_angle+symbol_rotation);mat2 rotation_matrix=mat2(angle_cos,-1.0*angle_sin,angle_sin,angle_cos);vec4 projected_pos=u_label_plane_matrix*vec4(a_projected_pos.xy,0.0,1.0);gl_Position=u_coord_matrix*vec4(projected_pos.xy/projected_pos.w+rotation_matrix*(a_offset/32.0*max(a_minFontScale,fontScale)+a_pxoffset/16.0),0.0,1.0);v_tex=a_tex/u_texsize;vec2 fade_opacity=unpack_opacity(a_fade_opacity);float fade_change=fade_opacity[1] > 0.5 ? u_fade_change :-u_fade_change;v_fade_opacity=max(0.0,min(1.0,fade_opacity[0]+fade_change));}`),zu=Ys(`#define SDF_PX 8.0
uniform bool u_is_halo;uniform sampler2D u_texture;uniform highp float u_gamma_scale;uniform lowp float u_device_pixel_ratio;uniform bool u_is_text;varying vec2 v_data0;varying vec3 v_data1;
#pragma mapbox: define highp vec4 fill_color
#pragma mapbox: define highp vec4 halo_color
#pragma mapbox: define lowp float opacity
#pragma mapbox: define lowp float halo_width
#pragma mapbox: define lowp float halo_blur
void main() {
#pragma mapbox: initialize highp vec4 fill_color
#pragma mapbox: initialize highp vec4 halo_color
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize lowp float halo_width
#pragma mapbox: initialize lowp float halo_blur
float EDGE_GAMMA=0.105/u_device_pixel_ratio;vec2 tex=v_data0.xy;float gamma_scale=v_data1.x;float size=v_data1.y;float fade_opacity=v_data1[2];float fontScale=u_is_text ? size/24.0 : size;lowp vec4 color=fill_color;highp float gamma=EDGE_GAMMA/(fontScale*u_gamma_scale);lowp float buff=(256.0-64.0)/256.0;if (u_is_halo) {color=halo_color;gamma=(halo_blur*1.19/SDF_PX+EDGE_GAMMA)/(fontScale*u_gamma_scale);buff=(6.0-halo_width/fontScale)/SDF_PX;}lowp float dist=texture2D(u_texture,tex).a;highp float gamma_scaled=gamma*gamma_scale;highp float alpha=smoothstep(buff-gamma_scaled,buff+gamma_scaled,dist);gl_FragColor=color*(alpha*opacity*fade_opacity);
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,`const float PI=3.141592653589793;attribute vec4 a_pos_offset;attribute vec4 a_data;attribute vec4 a_pixeloffset;attribute vec3 a_projected_pos;attribute float a_fade_opacity;uniform bool u_is_size_zoom_constant;uniform bool u_is_size_feature_constant;uniform highp float u_size_t;uniform highp float u_size;uniform mat4 u_matrix;uniform mat4 u_label_plane_matrix;uniform mat4 u_coord_matrix;uniform bool u_is_text;uniform bool u_pitch_with_map;uniform highp float u_pitch;uniform bool u_rotate_symbol;uniform highp float u_aspect_ratio;uniform highp float u_camera_to_center_distance;uniform float u_fade_change;uniform vec2 u_texsize;varying vec2 v_data0;varying vec3 v_data1;
#pragma mapbox: define highp vec4 fill_color
#pragma mapbox: define highp vec4 halo_color
#pragma mapbox: define lowp float opacity
#pragma mapbox: define lowp float halo_width
#pragma mapbox: define lowp float halo_blur
void main() {
#pragma mapbox: initialize highp vec4 fill_color
#pragma mapbox: initialize highp vec4 halo_color
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize lowp float halo_width
#pragma mapbox: initialize lowp float halo_blur
vec2 a_pos=a_pos_offset.xy;vec2 a_offset=a_pos_offset.zw;vec2 a_tex=a_data.xy;vec2 a_size=a_data.zw;float a_size_min=floor(a_size[0]*0.5);vec2 a_pxoffset=a_pixeloffset.xy;highp float segment_angle=-a_projected_pos[2];float size;if (!u_is_size_zoom_constant && !u_is_size_feature_constant) {size=mix(a_size_min,a_size[1],u_size_t)/128.0;} else if (u_is_size_zoom_constant && !u_is_size_feature_constant) {size=a_size_min/128.0;} else {size=u_size;}vec4 projectedPoint=u_matrix*vec4(a_pos,0,1);highp float camera_to_anchor_distance=projectedPoint.w;highp float distance_ratio=u_pitch_with_map ?
camera_to_anchor_distance/u_camera_to_center_distance :
u_camera_to_center_distance/camera_to_anchor_distance;highp float perspective_ratio=clamp(0.5+0.5*distance_ratio,0.0,4.0);size*=perspective_ratio;float fontScale=u_is_text ? size/24.0 : size;highp float symbol_rotation=0.0;if (u_rotate_symbol) {vec4 offsetProjectedPoint=u_matrix*vec4(a_pos+vec2(1,0),0,1);vec2 a=projectedPoint.xy/projectedPoint.w;vec2 b=offsetProjectedPoint.xy/offsetProjectedPoint.w;symbol_rotation=atan((b.y-a.y)/u_aspect_ratio,b.x-a.x);}highp float angle_sin=sin(segment_angle+symbol_rotation);highp float angle_cos=cos(segment_angle+symbol_rotation);mat2 rotation_matrix=mat2(angle_cos,-1.0*angle_sin,angle_sin,angle_cos);vec4 projected_pos=u_label_plane_matrix*vec4(a_projected_pos.xy,0.0,1.0);gl_Position=u_coord_matrix*vec4(projected_pos.xy/projected_pos.w+rotation_matrix*(a_offset/32.0*fontScale+a_pxoffset),0.0,1.0);float gamma_scale=gl_Position.w;vec2 fade_opacity=unpack_opacity(a_fade_opacity);float fade_change=fade_opacity[1] > 0.5 ? u_fade_change :-u_fade_change;float interpolated_fade_opacity=max(0.0,min(1.0,fade_opacity[0]+fade_change));v_data0=a_tex/u_texsize;v_data1=vec3(gamma_scale,size,interpolated_fade_opacity);}`),Pc=Ys(`#define SDF_PX 8.0
#define SDF 1.0
#define ICON 0.0
uniform bool u_is_halo;uniform sampler2D u_texture;uniform sampler2D u_texture_icon;uniform highp float u_gamma_scale;uniform lowp float u_device_pixel_ratio;varying vec4 v_data0;varying vec4 v_data1;
#pragma mapbox: define highp vec4 fill_color
#pragma mapbox: define highp vec4 halo_color
#pragma mapbox: define lowp float opacity
#pragma mapbox: define lowp float halo_width
#pragma mapbox: define lowp float halo_blur
void main() {
#pragma mapbox: initialize highp vec4 fill_color
#pragma mapbox: initialize highp vec4 halo_color
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize lowp float halo_width
#pragma mapbox: initialize lowp float halo_blur
float fade_opacity=v_data1[2];if (v_data1.w==ICON) {vec2 tex_icon=v_data0.zw;lowp float alpha=opacity*fade_opacity;gl_FragColor=texture2D(u_texture_icon,tex_icon)*alpha;
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
return;}vec2 tex=v_data0.xy;float EDGE_GAMMA=0.105/u_device_pixel_ratio;float gamma_scale=v_data1.x;float size=v_data1.y;float fontScale=size/24.0;lowp vec4 color=fill_color;highp float gamma=EDGE_GAMMA/(fontScale*u_gamma_scale);lowp float buff=(256.0-64.0)/256.0;if (u_is_halo) {color=halo_color;gamma=(halo_blur*1.19/SDF_PX+EDGE_GAMMA)/(fontScale*u_gamma_scale);buff=(6.0-halo_width/fontScale)/SDF_PX;}lowp float dist=texture2D(u_texture,tex).a;highp float gamma_scaled=gamma*gamma_scale;highp float alpha=smoothstep(buff-gamma_scaled,buff+gamma_scaled,dist);gl_FragColor=color*(alpha*opacity*fade_opacity);
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,`const float PI=3.141592653589793;attribute vec4 a_pos_offset;attribute vec4 a_data;attribute vec3 a_projected_pos;attribute float a_fade_opacity;uniform bool u_is_size_zoom_constant;uniform bool u_is_size_feature_constant;uniform highp float u_size_t;uniform highp float u_size;uniform mat4 u_matrix;uniform mat4 u_label_plane_matrix;uniform mat4 u_coord_matrix;uniform bool u_is_text;uniform bool u_pitch_with_map;uniform highp float u_pitch;uniform bool u_rotate_symbol;uniform highp float u_aspect_ratio;uniform highp float u_camera_to_center_distance;uniform float u_fade_change;uniform vec2 u_texsize;uniform vec2 u_texsize_icon;varying vec4 v_data0;varying vec4 v_data1;
#pragma mapbox: define highp vec4 fill_color
#pragma mapbox: define highp vec4 halo_color
#pragma mapbox: define lowp float opacity
#pragma mapbox: define lowp float halo_width
#pragma mapbox: define lowp float halo_blur
void main() {
#pragma mapbox: initialize highp vec4 fill_color
#pragma mapbox: initialize highp vec4 halo_color
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize lowp float halo_width
#pragma mapbox: initialize lowp float halo_blur
vec2 a_pos=a_pos_offset.xy;vec2 a_offset=a_pos_offset.zw;vec2 a_tex=a_data.xy;vec2 a_size=a_data.zw;float a_size_min=floor(a_size[0]*0.5);float is_sdf=a_size[0]-2.0*a_size_min;highp float segment_angle=-a_projected_pos[2];float size;if (!u_is_size_zoom_constant && !u_is_size_feature_constant) {size=mix(a_size_min,a_size[1],u_size_t)/128.0;} else if (u_is_size_zoom_constant && !u_is_size_feature_constant) {size=a_size_min/128.0;} else {size=u_size;}vec4 projectedPoint=u_matrix*vec4(a_pos,0,1);highp float camera_to_anchor_distance=projectedPoint.w;highp float distance_ratio=u_pitch_with_map ?
camera_to_anchor_distance/u_camera_to_center_distance :
u_camera_to_center_distance/camera_to_anchor_distance;highp float perspective_ratio=clamp(0.5+0.5*distance_ratio,0.0,4.0);size*=perspective_ratio;float fontScale=size/24.0;highp float symbol_rotation=0.0;if (u_rotate_symbol) {vec4 offsetProjectedPoint=u_matrix*vec4(a_pos+vec2(1,0),0,1);vec2 a=projectedPoint.xy/projectedPoint.w;vec2 b=offsetProjectedPoint.xy/offsetProjectedPoint.w;symbol_rotation=atan((b.y-a.y)/u_aspect_ratio,b.x-a.x);}highp float angle_sin=sin(segment_angle+symbol_rotation);highp float angle_cos=cos(segment_angle+symbol_rotation);mat2 rotation_matrix=mat2(angle_cos,-1.0*angle_sin,angle_sin,angle_cos);vec4 projected_pos=u_label_plane_matrix*vec4(a_projected_pos.xy,0.0,1.0);gl_Position=u_coord_matrix*vec4(projected_pos.xy/projected_pos.w+rotation_matrix*(a_offset/32.0*fontScale),0.0,1.0);float gamma_scale=gl_Position.w;vec2 fade_opacity=unpack_opacity(a_fade_opacity);float fade_change=fade_opacity[1] > 0.5 ? u_fade_change :-u_fade_change;float interpolated_fade_opacity=max(0.0,min(1.0,fade_opacity[0]+fade_change));v_data0.xy=a_tex/u_texsize;v_data0.zw=a_tex/u_texsize_icon;v_data1=vec4(gamma_scale,size,interpolated_fade_opacity,is_sdf);}`);function Ys(v,c){var l=/#pragma mapbox: ([\w]+) ([\w]+) ([\w]+) ([\w]+)/g,g=c.match(/attribute ([\w]+) ([\w]+)/g),F=v.match(/uniform ([\w]+) ([\w]+)([\s]*)([\w]*)/g),Q=c.match(/uniform ([\w]+) ([\w]+)([\s]*)([\w]*)/g),se=Q?Q.concat(F):F,_e={};return{fragmentSource:v=v.replace(l,function(mt,Rt,ir,rr,ur){return _e[ur]=!0,Rt==="define"?`
#ifndef HAS_UNIFORM_u_`+ur+`
varying `+ir+" "+rr+" "+ur+`;
#else
uniform `+ir+" "+rr+" u_"+ur+`;
#endif
`:`
#ifdef HAS_UNIFORM_u_`+ur+`
    `+ir+" "+rr+" "+ur+" = u_"+ur+`;
#endif
`}),vertexSource:c=c.replace(l,function(mt,Rt,ir,rr,ur){var kr=rr==="float"?"vec2":"vec4",Nr=ur.match(/color/)?"color":kr;return _e[ur]?Rt==="define"?`
#ifndef HAS_UNIFORM_u_`+ur+`
uniform lowp float u_`+ur+`_t;
attribute `+ir+" "+kr+" a_"+ur+`;
varying `+ir+" "+rr+" "+ur+`;
#else
uniform `+ir+" "+rr+" u_"+ur+`;
#endif
`:Nr==="vec4"?`
#ifndef HAS_UNIFORM_u_`+ur+`
    `+ur+" = a_"+ur+`;
#else
    `+ir+" "+rr+" "+ur+" = u_"+ur+`;
#endif
`:`
#ifndef HAS_UNIFORM_u_`+ur+`
    `+ur+" = unpack_mix_"+Nr+"(a_"+ur+", u_"+ur+`_t);
#else
    `+ir+" "+rr+" "+ur+" = u_"+ur+`;
#endif
`:Rt==="define"?`
#ifndef HAS_UNIFORM_u_`+ur+`
uniform lowp float u_`+ur+`_t;
attribute `+ir+" "+kr+" a_"+ur+`;
#else
uniform `+ir+" "+rr+" u_"+ur+`;
#endif
`:Nr==="vec4"?`
#ifndef HAS_UNIFORM_u_`+ur+`
    `+ir+" "+rr+" "+ur+" = a_"+ur+`;
#else
    `+ir+" "+rr+" "+ur+" = u_"+ur+`;
#endif
`:`
#ifndef HAS_UNIFORM_u_`+ur+`
    `+ir+" "+rr+" "+ur+" = unpack_mix_"+Nr+"(a_"+ur+", u_"+ur+`_t);
#else
    `+ir+" "+rr+" "+ur+" = u_"+ur+`;
#endif
`}),staticAttributes:g,staticUniforms:se}}var Ef=Object.freeze({__proto__:null,prelude:il,background:fl,backgroundPattern:Yh,circle:Fr,clippingMask:Sn,heatmap:Jn,heatmapTexture:xo,collisionBox:w,collisionCircle:re,debug:Qe,fill:Se,fillOutline:jt,fillOutlinePattern:br,fillPattern:Yr,fillExtrusion:fn,fillExtrusionPattern:En,hillshadePrepare:ma,hillshade:Ia,line:Co,lineGradient:$o,linePattern:Zo,lineSDF:Hs,raster:ms,symbolIcon:Ws,symbolSDF:zu,symbolTextAndIcon:Pc}),hd=function(){this.boundProgram=null,this.boundLayoutVertexBuffer=null,this.boundPaintVertexBuffers=[],this.boundIndexBuffer=null,this.boundVertexOffset=null,this.boundDynamicVertexBuffer=null,this.vao=null};function Bf(v){for(var c=[],l=0;l<v.length;l++)if(v[l]!==null){var g=v[l].split(" ");c.push(g.pop())}return c}hd.prototype.bind=function(v,c,l,g,F,Q,se,_e){this.context=v;for(var mt=this.boundPaintVertexBuffers.length!==g.length,Rt=0;!mt&&Rt<g.length;Rt++)this.boundPaintVertexBuffers[Rt]!==g[Rt]&&(mt=!0);v.extVertexArrayObject&&this.vao&&this.boundProgram===c&&this.boundLayoutVertexBuffer===l&&!mt&&this.boundIndexBuffer===F&&this.boundVertexOffset===Q&&this.boundDynamicVertexBuffer===se&&this.boundDynamicVertexBuffer2===_e?(v.bindVertexArrayOES.set(this.vao),se&&se.bind(),F&&F.dynamicDraw&&F.bind(),_e&&_e.bind()):this.freshBind(c,l,g,F,Q,se,_e)},hd.prototype.freshBind=function(v,c,l,g,F,Q,se){var _e,mt=v.numAttributes,Rt=this.context,ir=Rt.gl;if(Rt.extVertexArrayObject)this.vao&&this.destroy(),this.vao=Rt.extVertexArrayObject.createVertexArrayOES(),Rt.bindVertexArrayOES.set(this.vao),_e=0,this.boundProgram=v,this.boundLayoutVertexBuffer=c,this.boundPaintVertexBuffers=l,this.boundIndexBuffer=g,this.boundVertexOffset=F,this.boundDynamicVertexBuffer=Q,this.boundDynamicVertexBuffer2=se;else{_e=Rt.currentNumAttributes||0;for(var rr=mt;rr<_e;rr++)ir.disableVertexAttribArray(rr)}c.enableAttributes(ir,v);for(var ur=0,kr=l;ur<kr.length;ur+=1)kr[ur].enableAttributes(ir,v);Q&&Q.enableAttributes(ir,v),se&&se.enableAttributes(ir,v),c.bind(),c.setVertexAttribPointers(ir,v,F);for(var Nr=0,Xr=l;Nr<Xr.length;Nr+=1){var Br=Xr[Nr];Br.bind(),Br.setVertexAttribPointers(ir,v,F)}Q&&(Q.bind(),Q.setVertexAttribPointers(ir,v,F)),g&&g.bind(),se&&(se.bind(),se.setVertexAttribPointers(ir,v,F)),Rt.currentNumAttributes=mt},hd.prototype.destroy=function(){this.vao&&(this.context.extVertexArrayObject.deleteVertexArrayOES(this.vao),this.vao=null)};var Ms=function(c,l,g,F,Q,se){var _e=c.gl;this.program=_e.createProgram();for(var mt=Bf(g.staticAttributes),Rt=F?F.getBinderAttributes():[],ir=mt.concat(Rt),rr=g.staticUniforms?Bf(g.staticUniforms):[],ur=F?F.getBinderUniforms():[],kr=[],Nr=0,Xr=rr.concat(ur);Nr<Xr.length;Nr+=1){var Br=Xr[Nr];kr.indexOf(Br)<0&&kr.push(Br)}var Hr=F?F.defines():[];se&&Hr.push("#define OVERDRAW_INSPECTOR;");var hn=Hr.concat(il.fragmentSource,g.fragmentSource).join(`
`),pn=Hr.concat(il.vertexSource,g.vertexSource).join(`
`),la=_e.createShader(_e.FRAGMENT_SHADER);if(_e.isContextLost())this.failedToCreate=!0;else{_e.shaderSource(la,hn),_e.compileShader(la),_e.attachShader(this.program,la);var Gn=_e.createShader(_e.VERTEX_SHADER);if(_e.isContextLost())this.failedToCreate=!0;else{_e.shaderSource(Gn,pn),_e.compileShader(Gn),_e.attachShader(this.program,Gn),this.attributes={};var aa={};this.numAttributes=ir.length;for(var sa=0;sa<this.numAttributes;sa++)ir[sa]&&(_e.bindAttribLocation(this.program,sa,ir[sa]),this.attributes[ir[sa]]=sa);_e.linkProgram(this.program),_e.deleteShader(Gn),_e.deleteShader(la);for(var Ya=0;Ya<kr.length;Ya++){var Ka=kr[Ya];if(Ka&&!aa[Ka]){var Di=_e.getUniformLocation(this.program,Ka);Di&&(aa[Ka]=Di)}}this.fixedUniforms=Q(c,aa),this.binderUniforms=F?F.getUniforms(c,aa):[]}}};function zf(v,c,l){var g=1/vi(l,1,c.transform.tileZoom),F=Math.pow(2,l.tileID.overscaledZ),Q=l.tileSize*Math.pow(2,c.transform.tileZoom)/F,se=Q*(l.tileID.canonical.x+l.tileID.wrap*F),_e=Q*l.tileID.canonical.y;return{u_image:0,u_texsize:l.imageAtlasTexture.size,u_scale:[g,v.fromScale,v.toScale],u_fade:v.t,u_pixel_coord_upper:[se>>16,_e>>16],u_pixel_coord_lower:[65535&se,65535&_e]}}Ms.prototype.draw=function(v,c,l,g,F,Q,se,_e,mt,Rt,ir,rr,ur,kr,Nr,Xr){var Br,Hr=v.gl;if(!this.failedToCreate){for(var hn in v.program.set(this.program),v.setDepthMode(l),v.setStencilMode(g),v.setColorMode(F),v.setCullFace(Q),this.fixedUniforms)this.fixedUniforms[hn].set(se[hn]);kr&&kr.setUniforms(v,this.binderUniforms,rr,{zoom:ur});for(var pn=(Br={},Br[Hr.LINES]=2,Br[Hr.TRIANGLES]=3,Br[Hr.LINE_STRIP]=1,Br)[c],la=0,Gn=ir.get();la<Gn.length;la+=1){var aa=Gn[la],sa=aa.vaos||(aa.vaos={});(sa[_e]||(sa[_e]=new hd)).bind(v,this,mt,kr?kr.getPaintVertexBuffers():[],Rt,aa.vertexOffset,Nr,Xr),Hr.drawElements(c,aa.primitiveLength*pn,Hr.UNSIGNED_SHORT,aa.primitiveOffset*pn*2)}}};var wh=function(c,l,g,F){var Q=l.style.light,se=Q.properties.get("position"),_e=[se.x,se.y,se.z],mt=u.create$1();Q.properties.get("anchor")==="viewport"&&u.fromRotation(mt,-l.transform.angle),u.transformMat3(_e,_e,mt);var Rt=Q.properties.get("color");return{u_matrix:c,u_lightpos:_e,u_lightintensity:Q.properties.get("intensity"),u_lightcolor:[Rt.r,Rt.g,Rt.b],u_vertical_gradient:+g,u_opacity:F}},_d=function(c,l,g,F,Q,se,_e){return u.extend(wh(c,l,g,F),zf(se,l,_e),{u_height_factor:-Math.pow(2,Q.overscaledZ)/_e.tileSize/8})},zl=function(c){return{u_matrix:c}},Uf=function(c,l,g,F){return u.extend(zl(c),zf(g,l,F))},$h=function(c,l){return{u_matrix:c,u_world:l}},Sf=function(c,l,g,F,Q){return u.extend(Uf(c,l,g,F),{u_world:Q})},Gl=function(c,l,g,F){var Q,se,_e=c.transform;if(F.paint.get("circle-pitch-alignment")==="map"){var mt=vi(g,1,_e.zoom);Q=!0,se=[mt,mt]}else Q=!1,se=_e.pixelsToGLUnits;return{u_camera_to_center_distance:_e.cameraToCenterDistance,u_scale_with_map:+(F.paint.get("circle-pitch-scale")==="map"),u_matrix:c.translatePosMatrix(l.posMatrix,g,F.paint.get("circle-translate"),F.paint.get("circle-translate-anchor")),u_pitch_with_map:+Q,u_device_pixel_ratio:u.browser.devicePixelRatio,u_extrude_scale:se}},Wc=function(c,l,g){var F=vi(g,1,l.zoom),Q=Math.pow(2,l.zoom-g.tileID.overscaledZ),se=g.tileID.overscaleFactor();return{u_matrix:c,u_camera_to_center_distance:l.cameraToCenterDistance,u_pixels_to_tile_units:F,u_extrude_scale:[l.pixelsToGLUnits[0]/(F*Q),l.pixelsToGLUnits[1]/(F*Q)],u_overscale_factor:se}},mc=function(c,l,g){return{u_matrix:c,u_inv_matrix:l,u_camera_to_center_distance:g.cameraToCenterDistance,u_viewport_size:[g.width,g.height]}},pd=function(c,l,g){return g===void 0&&(g=1),{u_matrix:c,u_color:l,u_overlay:0,u_overlay_scale:g}},Vf=function(c){return{u_matrix:c}},Gc=function(c,l,g,F){return{u_matrix:c,u_extrude_scale:vi(l,1,g),u_intensity:F}},vd=function(c,l,g){var F=c.transform;return{u_matrix:uc(c,l,g),u_ratio:1/vi(l,1,F.zoom),u_device_pixel_ratio:u.browser.devicePixelRatio,u_units_to_pixels:[1/F.pixelsToGLUnits[0],1/F.pixelsToGLUnits[1]]}},Ll=function(c,l,g,F){return u.extend(vd(c,l,g),{u_image:0,u_image_height:F})},Yd=function(c,l,g,F){var Q=c.transform,se=$d(l,Q);return{u_matrix:uc(c,l,g),u_texsize:l.imageAtlasTexture.size,u_ratio:1/vi(l,1,Q.zoom),u_device_pixel_ratio:u.browser.devicePixelRatio,u_image:0,u_scale:[se,F.fromScale,F.toScale],u_fade:F.t,u_units_to_pixels:[1/Q.pixelsToGLUnits[0],1/Q.pixelsToGLUnits[1]]}},Up=function(c,l,g,F,Q){var se=c.lineAtlas,_e=$d(l,c.transform),mt=g.layout.get("line-cap")==="round",Rt=se.getDash(F.from,mt),ir=se.getDash(F.to,mt),rr=Rt.width*Q.fromScale,ur=ir.width*Q.toScale;return u.extend(vd(c,l,g),{u_patternscale_a:[_e/rr,-Rt.height/2],u_patternscale_b:[_e/ur,-ir.height/2],u_sdfgamma:se.width/(256*Math.min(rr,ur)*u.browser.devicePixelRatio)/2,u_image:0,u_tex_y_a:Rt.y,u_tex_y_b:ir.y,u_mix:Q.t})};function $d(v,c){return 1/vi(v,1,c.tileZoom)}function uc(v,c,l){return v.translatePosMatrix(c.tileID.posMatrix,c,l.paint.get("line-translate"),l.paint.get("line-translate-anchor"))}var sv=function(c,l,g,F,Q){return{u_matrix:c,u_tl_parent:l,u_scale_parent:g,u_buffer_scale:1,u_fade_t:F.mix,u_opacity:F.opacity*Q.paint.get("raster-opacity"),u_image0:0,u_image1:1,u_brightness_low:Q.paint.get("raster-brightness-min"),u_brightness_high:Q.paint.get("raster-brightness-max"),u_saturation_factor:(_e=Q.paint.get("raster-saturation"),_e>0?1-1/(1.001-_e):-_e),u_contrast_factor:(se=Q.paint.get("raster-contrast"),se>0?1/(1-se):1+se),u_spin_weights:Vp(Q.paint.get("raster-hue-rotate"))};var se,_e};function Vp(v){v*=Math.PI/180;var c=Math.sin(v),l=Math.cos(v);return[(2*l+1)/3,(-Math.sqrt(3)*c-l+1)/3,(Math.sqrt(3)*c-l+1)/3]}var wc,Xf=function(c,l,g,F,Q,se,_e,mt,Rt,ir){var rr=Q.transform;return{u_is_size_zoom_constant:+(c==="constant"||c==="source"),u_is_size_feature_constant:+(c==="constant"||c==="camera"),u_size_t:l?l.uSizeT:0,u_size:l?l.uSize:0,u_camera_to_center_distance:rr.cameraToCenterDistance,u_pitch:rr.pitch/360*2*Math.PI,u_rotate_symbol:+g,u_aspect_ratio:rr.width/rr.height,u_fade_change:Q.options.fadeDuration?Q.symbolFadeChange:1,u_matrix:se,u_label_plane_matrix:_e,u_coord_matrix:mt,u_is_text:+Rt,u_pitch_with_map:+F,u_texsize:ir,u_texture:0}},Hf=function(c,l,g,F,Q,se,_e,mt,Rt,ir,rr){var ur=Q.transform;return u.extend(Xf(c,l,g,F,Q,se,_e,mt,Rt,ir),{u_gamma_scale:F?Math.cos(ur._pitch)*ur.cameraToCenterDistance:1,u_device_pixel_ratio:u.browser.devicePixelRatio,u_is_halo:+rr})},jd=function(c,l,g,F,Q,se,_e,mt,Rt,ir){return u.extend(Hf(c,l,g,F,Q,se,_e,mt,!0,Rt,!0),{u_texsize_icon:ir,u_texture_icon:1})},Tc=function(c,l,g){return{u_matrix:c,u_opacity:l,u_color:g}},Qf=function(c,l,g,F,Q,se){return u.extend(function(_e,mt,Rt,ir){var rr=Rt.imageManager.getPattern(_e.from.toString()),ur=Rt.imageManager.getPattern(_e.to.toString()),kr=Rt.imageManager.getPixelSize(),Nr=kr.width,Xr=kr.height,Br=Math.pow(2,ir.tileID.overscaledZ),Hr=ir.tileSize*Math.pow(2,Rt.transform.tileZoom)/Br,hn=Hr*(ir.tileID.canonical.x+ir.tileID.wrap*Br),pn=Hr*ir.tileID.canonical.y;return{u_image:0,u_pattern_tl_a:rr.tl,u_pattern_br_a:rr.br,u_pattern_tl_b:ur.tl,u_pattern_br_b:ur.br,u_texsize:[Nr,Xr],u_mix:mt.t,u_pattern_size_a:rr.displaySize,u_pattern_size_b:ur.displaySize,u_scale_a:mt.fromScale,u_scale_b:mt.toScale,u_tile_units_to_pixels:1/vi(ir,1,Rt.transform.tileZoom),u_pixel_coord_upper:[hn>>16,pn>>16],u_pixel_coord_lower:[65535&hn,65535&pn]}}(F,se,g,Q),{u_matrix:c,u_opacity:l})},kd={fillExtrusion:function(c,l){return{u_matrix:new u.UniformMatrix4f(c,l.u_matrix),u_lightpos:new u.Uniform3f(c,l.u_lightpos),u_lightintensity:new u.Uniform1f(c,l.u_lightintensity),u_lightcolor:new u.Uniform3f(c,l.u_lightcolor),u_vertical_gradient:new u.Uniform1f(c,l.u_vertical_gradient),u_opacity:new u.Uniform1f(c,l.u_opacity)}},fillExtrusionPattern:function(c,l){return{u_matrix:new u.UniformMatrix4f(c,l.u_matrix),u_lightpos:new u.Uniform3f(c,l.u_lightpos),u_lightintensity:new u.Uniform1f(c,l.u_lightintensity),u_lightcolor:new u.Uniform3f(c,l.u_lightcolor),u_vertical_gradient:new u.Uniform1f(c,l.u_vertical_gradient),u_height_factor:new u.Uniform1f(c,l.u_height_factor),u_image:new u.Uniform1i(c,l.u_image),u_texsize:new u.Uniform2f(c,l.u_texsize),u_pixel_coord_upper:new u.Uniform2f(c,l.u_pixel_coord_upper),u_pixel_coord_lower:new u.Uniform2f(c,l.u_pixel_coord_lower),u_scale:new u.Uniform3f(c,l.u_scale),u_fade:new u.Uniform1f(c,l.u_fade),u_opacity:new u.Uniform1f(c,l.u_opacity)}},fill:function(c,l){return{u_matrix:new u.UniformMatrix4f(c,l.u_matrix)}},fillPattern:function(c,l){return{u_matrix:new u.UniformMatrix4f(c,l.u_matrix),u_image:new u.Uniform1i(c,l.u_image),u_texsize:new u.Uniform2f(c,l.u_texsize),u_pixel_coord_upper:new u.Uniform2f(c,l.u_pixel_coord_upper),u_pixel_coord_lower:new u.Uniform2f(c,l.u_pixel_coord_lower),u_scale:new u.Uniform3f(c,l.u_scale),u_fade:new u.Uniform1f(c,l.u_fade)}},fillOutline:function(c,l){return{u_matrix:new u.UniformMatrix4f(c,l.u_matrix),u_world:new u.Uniform2f(c,l.u_world)}},fillOutlinePattern:function(c,l){return{u_matrix:new u.UniformMatrix4f(c,l.u_matrix),u_world:new u.Uniform2f(c,l.u_world),u_image:new u.Uniform1i(c,l.u_image),u_texsize:new u.Uniform2f(c,l.u_texsize),u_pixel_coord_upper:new u.Uniform2f(c,l.u_pixel_coord_upper),u_pixel_coord_lower:new u.Uniform2f(c,l.u_pixel_coord_lower),u_scale:new u.Uniform3f(c,l.u_scale),u_fade:new u.Uniform1f(c,l.u_fade)}},circle:function(c,l){return{u_camera_to_center_distance:new u.Uniform1f(c,l.u_camera_to_center_distance),u_scale_with_map:new u.Uniform1i(c,l.u_scale_with_map),u_pitch_with_map:new u.Uniform1i(c,l.u_pitch_with_map),u_extrude_scale:new u.Uniform2f(c,l.u_extrude_scale),u_device_pixel_ratio:new u.Uniform1f(c,l.u_device_pixel_ratio),u_matrix:new u.UniformMatrix4f(c,l.u_matrix)}},collisionBox:function(c,l){return{u_matrix:new u.UniformMatrix4f(c,l.u_matrix),u_camera_to_center_distance:new u.Uniform1f(c,l.u_camera_to_center_distance),u_pixels_to_tile_units:new u.Uniform1f(c,l.u_pixels_to_tile_units),u_extrude_scale:new u.Uniform2f(c,l.u_extrude_scale),u_overscale_factor:new u.Uniform1f(c,l.u_overscale_factor)}},collisionCircle:function(c,l){return{u_matrix:new u.UniformMatrix4f(c,l.u_matrix),u_inv_matrix:new u.UniformMatrix4f(c,l.u_inv_matrix),u_camera_to_center_distance:new u.Uniform1f(c,l.u_camera_to_center_distance),u_viewport_size:new u.Uniform2f(c,l.u_viewport_size)}},debug:function(c,l){return{u_color:new u.UniformColor(c,l.u_color),u_matrix:new u.UniformMatrix4f(c,l.u_matrix),u_overlay:new u.Uniform1i(c,l.u_overlay),u_overlay_scale:new u.Uniform1f(c,l.u_overlay_scale)}},clippingMask:function(c,l){return{u_matrix:new u.UniformMatrix4f(c,l.u_matrix)}},heatmap:function(c,l){return{u_extrude_scale:new u.Uniform1f(c,l.u_extrude_scale),u_intensity:new u.Uniform1f(c,l.u_intensity),u_matrix:new u.UniformMatrix4f(c,l.u_matrix)}},heatmapTexture:function(c,l){return{u_matrix:new u.UniformMatrix4f(c,l.u_matrix),u_world:new u.Uniform2f(c,l.u_world),u_image:new u.Uniform1i(c,l.u_image),u_color_ramp:new u.Uniform1i(c,l.u_color_ramp),u_opacity:new u.Uniform1f(c,l.u_opacity)}},hillshade:function(c,l){return{u_matrix:new u.UniformMatrix4f(c,l.u_matrix),u_image:new u.Uniform1i(c,l.u_image),u_latrange:new u.Uniform2f(c,l.u_latrange),u_light:new u.Uniform2f(c,l.u_light),u_shadow:new u.UniformColor(c,l.u_shadow),u_highlight:new u.UniformColor(c,l.u_highlight),u_accent:new u.UniformColor(c,l.u_accent)}},hillshadePrepare:function(c,l){return{u_matrix:new u.UniformMatrix4f(c,l.u_matrix),u_image:new u.Uniform1i(c,l.u_image),u_dimension:new u.Uniform2f(c,l.u_dimension),u_zoom:new u.Uniform1f(c,l.u_zoom),u_unpack:new u.Uniform4f(c,l.u_unpack)}},line:function(c,l){return{u_matrix:new u.UniformMatrix4f(c,l.u_matrix),u_ratio:new u.Uniform1f(c,l.u_ratio),u_device_pixel_ratio:new u.Uniform1f(c,l.u_device_pixel_ratio),u_units_to_pixels:new u.Uniform2f(c,l.u_units_to_pixels)}},lineGradient:function(c,l){return{u_matrix:new u.UniformMatrix4f(c,l.u_matrix),u_ratio:new u.Uniform1f(c,l.u_ratio),u_device_pixel_ratio:new u.Uniform1f(c,l.u_device_pixel_ratio),u_units_to_pixels:new u.Uniform2f(c,l.u_units_to_pixels),u_image:new u.Uniform1i(c,l.u_image),u_image_height:new u.Uniform1f(c,l.u_image_height)}},linePattern:function(c,l){return{u_matrix:new u.UniformMatrix4f(c,l.u_matrix),u_texsize:new u.Uniform2f(c,l.u_texsize),u_ratio:new u.Uniform1f(c,l.u_ratio),u_device_pixel_ratio:new u.Uniform1f(c,l.u_device_pixel_ratio),u_image:new u.Uniform1i(c,l.u_image),u_units_to_pixels:new u.Uniform2f(c,l.u_units_to_pixels),u_scale:new u.Uniform3f(c,l.u_scale),u_fade:new u.Uniform1f(c,l.u_fade)}},lineSDF:function(c,l){return{u_matrix:new u.UniformMatrix4f(c,l.u_matrix),u_ratio:new u.Uniform1f(c,l.u_ratio),u_device_pixel_ratio:new u.Uniform1f(c,l.u_device_pixel_ratio),u_units_to_pixels:new u.Uniform2f(c,l.u_units_to_pixels),u_patternscale_a:new u.Uniform2f(c,l.u_patternscale_a),u_patternscale_b:new u.Uniform2f(c,l.u_patternscale_b),u_sdfgamma:new u.Uniform1f(c,l.u_sdfgamma),u_image:new u.Uniform1i(c,l.u_image),u_tex_y_a:new u.Uniform1f(c,l.u_tex_y_a),u_tex_y_b:new u.Uniform1f(c,l.u_tex_y_b),u_mix:new u.Uniform1f(c,l.u_mix)}},raster:function(c,l){return{u_matrix:new u.UniformMatrix4f(c,l.u_matrix),u_tl_parent:new u.Uniform2f(c,l.u_tl_parent),u_scale_parent:new u.Uniform1f(c,l.u_scale_parent),u_buffer_scale:new u.Uniform1f(c,l.u_buffer_scale),u_fade_t:new u.Uniform1f(c,l.u_fade_t),u_opacity:new u.Uniform1f(c,l.u_opacity),u_image0:new u.Uniform1i(c,l.u_image0),u_image1:new u.Uniform1i(c,l.u_image1),u_brightness_low:new u.Uniform1f(c,l.u_brightness_low),u_brightness_high:new u.Uniform1f(c,l.u_brightness_high),u_saturation_factor:new u.Uniform1f(c,l.u_saturation_factor),u_contrast_factor:new u.Uniform1f(c,l.u_contrast_factor),u_spin_weights:new u.Uniform3f(c,l.u_spin_weights)}},symbolIcon:function(c,l){return{u_is_size_zoom_constant:new u.Uniform1i(c,l.u_is_size_zoom_constant),u_is_size_feature_constant:new u.Uniform1i(c,l.u_is_size_feature_constant),u_size_t:new u.Uniform1f(c,l.u_size_t),u_size:new u.Uniform1f(c,l.u_size),u_camera_to_center_distance:new u.Uniform1f(c,l.u_camera_to_center_distance),u_pitch:new u.Uniform1f(c,l.u_pitch),u_rotate_symbol:new u.Uniform1i(c,l.u_rotate_symbol),u_aspect_ratio:new u.Uniform1f(c,l.u_aspect_ratio),u_fade_change:new u.Uniform1f(c,l.u_fade_change),u_matrix:new u.UniformMatrix4f(c,l.u_matrix),u_label_plane_matrix:new u.UniformMatrix4f(c,l.u_label_plane_matrix),u_coord_matrix:new u.UniformMatrix4f(c,l.u_coord_matrix),u_is_text:new u.Uniform1i(c,l.u_is_text),u_pitch_with_map:new u.Uniform1i(c,l.u_pitch_with_map),u_texsize:new u.Uniform2f(c,l.u_texsize),u_texture:new u.Uniform1i(c,l.u_texture)}},symbolSDF:function(c,l){return{u_is_size_zoom_constant:new u.Uniform1i(c,l.u_is_size_zoom_constant),u_is_size_feature_constant:new u.Uniform1i(c,l.u_is_size_feature_constant),u_size_t:new u.Uniform1f(c,l.u_size_t),u_size:new u.Uniform1f(c,l.u_size),u_camera_to_center_distance:new u.Uniform1f(c,l.u_camera_to_center_distance),u_pitch:new u.Uniform1f(c,l.u_pitch),u_rotate_symbol:new u.Uniform1i(c,l.u_rotate_symbol),u_aspect_ratio:new u.Uniform1f(c,l.u_aspect_ratio),u_fade_change:new u.Uniform1f(c,l.u_fade_change),u_matrix:new u.UniformMatrix4f(c,l.u_matrix),u_label_plane_matrix:new u.UniformMatrix4f(c,l.u_label_plane_matrix),u_coord_matrix:new u.UniformMatrix4f(c,l.u_coord_matrix),u_is_text:new u.Uniform1i(c,l.u_is_text),u_pitch_with_map:new u.Uniform1i(c,l.u_pitch_with_map),u_texsize:new u.Uniform2f(c,l.u_texsize),u_texture:new u.Uniform1i(c,l.u_texture),u_gamma_scale:new u.Uniform1f(c,l.u_gamma_scale),u_device_pixel_ratio:new u.Uniform1f(c,l.u_device_pixel_ratio),u_is_halo:new u.Uniform1i(c,l.u_is_halo)}},symbolTextAndIcon:function(c,l){return{u_is_size_zoom_constant:new u.Uniform1i(c,l.u_is_size_zoom_constant),u_is_size_feature_constant:new u.Uniform1i(c,l.u_is_size_feature_constant),u_size_t:new u.Uniform1f(c,l.u_size_t),u_size:new u.Uniform1f(c,l.u_size),u_camera_to_center_distance:new u.Uniform1f(c,l.u_camera_to_center_distance),u_pitch:new u.Uniform1f(c,l.u_pitch),u_rotate_symbol:new u.Uniform1i(c,l.u_rotate_symbol),u_aspect_ratio:new u.Uniform1f(c,l.u_aspect_ratio),u_fade_change:new u.Uniform1f(c,l.u_fade_change),u_matrix:new u.UniformMatrix4f(c,l.u_matrix),u_label_plane_matrix:new u.UniformMatrix4f(c,l.u_label_plane_matrix),u_coord_matrix:new u.UniformMatrix4f(c,l.u_coord_matrix),u_is_text:new u.Uniform1i(c,l.u_is_text),u_pitch_with_map:new u.Uniform1i(c,l.u_pitch_with_map),u_texsize:new u.Uniform2f(c,l.u_texsize),u_texsize_icon:new u.Uniform2f(c,l.u_texsize_icon),u_texture:new u.Uniform1i(c,l.u_texture),u_texture_icon:new u.Uniform1i(c,l.u_texture_icon),u_gamma_scale:new u.Uniform1f(c,l.u_gamma_scale),u_device_pixel_ratio:new u.Uniform1f(c,l.u_device_pixel_ratio),u_is_halo:new u.Uniform1i(c,l.u_is_halo)}},background:function(c,l){return{u_matrix:new u.UniformMatrix4f(c,l.u_matrix),u_opacity:new u.Uniform1f(c,l.u_opacity),u_color:new u.UniformColor(c,l.u_color)}},backgroundPattern:function(c,l){return{u_matrix:new u.UniformMatrix4f(c,l.u_matrix),u_opacity:new u.Uniform1f(c,l.u_opacity),u_image:new u.Uniform1i(c,l.u_image),u_pattern_tl_a:new u.Uniform2f(c,l.u_pattern_tl_a),u_pattern_br_a:new u.Uniform2f(c,l.u_pattern_br_a),u_pattern_tl_b:new u.Uniform2f(c,l.u_pattern_tl_b),u_pattern_br_b:new u.Uniform2f(c,l.u_pattern_br_b),u_texsize:new u.Uniform2f(c,l.u_texsize),u_mix:new u.Uniform1f(c,l.u_mix),u_pattern_size_a:new u.Uniform2f(c,l.u_pattern_size_a),u_pattern_size_b:new u.Uniform2f(c,l.u_pattern_size_b),u_scale_a:new u.Uniform1f(c,l.u_scale_a),u_scale_b:new u.Uniform1f(c,l.u_scale_b),u_pixel_coord_upper:new u.Uniform2f(c,l.u_pixel_coord_upper),u_pixel_coord_lower:new u.Uniform2f(c,l.u_pixel_coord_lower),u_tile_units_to_pixels:new u.Uniform1f(c,l.u_tile_units_to_pixels)}}};function md(v,c,l,g,F,Q,se){for(var _e=v.context,mt=_e.gl,Rt=v.useProgram("collisionBox"),ir=[],rr=0,ur=0,kr=0;kr<g.length;kr++){var Nr=g[kr],Xr=c.getTile(Nr),Br=Xr.getBucket(l);if(Br){var Hr=Nr.posMatrix;F[0]===0&&F[1]===0||(Hr=v.translatePosMatrix(Nr.posMatrix,Xr,F,Q));var hn=se?Br.textCollisionBox:Br.iconCollisionBox,pn=Br.collisionCircleArray;if(pn.length>0){var la=u.create(),Gn=Hr;u.mul(la,Br.placementInvProjMatrix,v.transform.glCoordMatrix),u.mul(la,la,Br.placementViewportMatrix),ir.push({circleArray:pn,circleOffset:ur,transform:Gn,invTransform:la}),ur=rr+=pn.length/4}hn&&Rt.draw(_e,mt.LINES,Ee.disabled,be.disabled,v.colorModeForRenderPass(),de.disabled,Wc(Hr,v.transform,Xr),l.id,hn.layoutVertexBuffer,hn.indexBuffer,hn.segments,null,v.transform.zoom,null,null,hn.collisionVertexBuffer)}}if(se&&ir.length){var aa=v.useProgram("collisionCircle"),sa=new u.StructArrayLayout2f1f2i16;sa.resize(4*rr),sa._trim();for(var Ya=0,Ka=0,Di=ir;Ka<Di.length;Ka+=1)for(var di=Di[Ka],Eo=0;Eo<di.circleArray.length/4;Eo++){var Bo=4*Eo,Wo=di.circleArray[Bo+0],ll=di.circleArray[Bo+1],_i=di.circleArray[Bo+2],Qo=di.circleArray[Bo+3];sa.emplace(Ya++,Wo,ll,_i,Qo,0),sa.emplace(Ya++,Wo,ll,_i,Qo,1),sa.emplace(Ya++,Wo,ll,_i,Qo,2),sa.emplace(Ya++,Wo,ll,_i,Qo,3)}(!wc||wc.length<2*rr)&&(wc=function(au){var zs=2*au,pl=new u.StructArrayLayout3ui6;pl.resize(zs),pl._trim();for(var xl=0;xl<zs;xl++){var Ns=6*xl;pl.uint16[Ns+0]=4*xl+0,pl.uint16[Ns+1]=4*xl+1,pl.uint16[Ns+2]=4*xl+2,pl.uint16[Ns+3]=4*xl+2,pl.uint16[Ns+4]=4*xl+3,pl.uint16[Ns+5]=4*xl+0}return pl}(rr));for(var os=_e.createIndexBuffer(wc,!0),qi=_e.createVertexBuffer(sa,u.collisionCircleLayout.members,!0),hs=0,zo=ir;hs<zo.length;hs+=1){var us=zo[hs],Xs=mc(us.transform,us.invTransform,v.transform);aa.draw(_e,mt.TRIANGLES,Ee.disabled,be.disabled,v.colorModeForRenderPass(),de.disabled,Xs,l.id,qi,os,u.SegmentVector.simpleSegment(0,2*us.circleOffset,us.circleArray.length,us.circleArray.length/2),null,v.transform.zoom,null,null,null)}qi.destroy(),os.destroy()}}var sf=u.identity(new Float32Array(16));function Xh(v,c,l,g,F,Q){var se=u.getAnchorAlignment(v),_e=-(se.horizontalAlign-.5)*c,mt=-(se.verticalAlign-.5)*l,Rt=u.evaluateVariableOffset(v,g);return new u.Point((_e/F+Rt[0])*Q,(mt/F+Rt[1])*Q)}function Id(v,c,l,g,F,Q,se,_e,mt,Rt,ir){var rr=v.text.placedSymbolArray,ur=v.text.dynamicLayoutVertexArray,kr=v.icon.dynamicLayoutVertexArray,Nr={};ur.clear();for(var Xr=0;Xr<rr.length;Xr++){var Br=rr.get(Xr),Hr=Br.hidden||!Br.crossTileID||v.allowVerticalPlacement&&!Br.placedOrientation?null:g[Br.crossTileID];if(Hr){var hn=new u.Point(Br.anchorX,Br.anchorY),pn=Fa(hn,l?_e:se),la=ba(Q.cameraToCenterDistance,pn.signedDistanceFromCamera),Gn=F.evaluateSizeForFeature(v.textSizeData,Rt,Br)*la/u.ONE_EM;l&&(Gn*=v.tilePixelRatio/mt);for(var aa=Xh(Hr.anchor,Hr.width,Hr.height,Hr.textOffset,Hr.textBoxScale,Gn),sa=l?Fa(hn.add(aa),se).point:pn.point.add(c?aa.rotate(-Q.angle):aa),Ya=v.allowVerticalPlacement&&Br.placedOrientation===u.WritingMode.vertical?Math.PI/2:0,Ka=0;Ka<Br.numGlyphs;Ka++)u.addDynamicAttributes(ur,sa,Ya);ir&&Br.associatedIconIndex>=0&&(Nr[Br.associatedIconIndex]={shiftedAnchor:sa,angle:Ya})}else _o(Br.numGlyphs,ur)}if(ir){kr.clear();for(var Di=v.icon.placedSymbolArray,di=0;di<Di.length;di++){var Eo=Di.get(di);if(Eo.hidden)_o(Eo.numGlyphs,kr);else{var Bo=Nr[di];if(Bo)for(var Wo=0;Wo<Eo.numGlyphs;Wo++)u.addDynamicAttributes(kr,Bo.shiftedAnchor,Bo.angle);else _o(Eo.numGlyphs,kr)}}v.icon.dynamicLayoutVertexBuffer.updateData(kr)}v.text.dynamicLayoutVertexBuffer.updateData(ur)}function gp(v,c,l){return l.iconsInText&&c?"symbolTextAndIcon":v?"symbolSDF":"symbolIcon"}function Xd(v,c,l,g,F,Q,se,_e,mt,Rt,ir,rr){for(var ur=v.context,kr=ur.gl,Nr=v.transform,Xr=_e==="map",Br=mt==="map",Hr=Xr&&l.layout.get("symbol-placement")!=="point",hn=Xr&&!Br&&!Hr,pn=l.layout.get("symbol-sort-key").constantOr(1)!==void 0,la=!1,Gn=v.depthModeForSublayer(0,Ee.ReadOnly),aa=l.layout.get("text-variable-anchor"),sa=[],Ya=0,Ka=g;Ya<Ka.length;Ya+=1){var Di=Ka[Ya],di=c.getTile(Di),Eo=di.getBucket(l);if(Eo){var Bo=F?Eo.text:Eo.icon;if(Bo&&Bo.segments.get().length){var Wo=Bo.programConfigurations.get(l.id),ll=F||Eo.sdfIcons,_i=F?Eo.textSizeData:Eo.iconSizeData,Qo=Br||Nr.pitch!==0,os=v.useProgram(gp(ll,F,Eo),Wo),qi=u.evaluateSizeForZoom(_i,Nr.zoom),hs=void 0,zo=[0,0],us=void 0,Xs=void 0,au=null,zs=void 0;if(F)us=di.glyphAtlasTexture,Xs=kr.LINEAR,hs=di.glyphAtlasTexture.size,Eo.iconsInText&&(zo=di.imageAtlasTexture.size,au=di.imageAtlasTexture,zs=Qo||v.options.rotating||v.options.zooming||_i.kind==="composite"||_i.kind==="camera"?kr.LINEAR:kr.NEAREST);else{var pl=l.layout.get("icon-size").constantOr(0)!==1||Eo.iconsNeedLinear;us=di.imageAtlasTexture,Xs=ll||v.options.rotating||v.options.zooming||pl||Qo?kr.LINEAR:kr.NEAREST,hs=di.imageAtlasTexture.size}var xl=vi(di,1,v.transform.zoom),Ns=ni(Di.posMatrix,Br,Xr,v.transform,xl),yc=Da(Di.posMatrix,Br,Xr,v.transform,xl),nc=aa&&Eo.hasTextData(),Ru=l.layout.get("icon-text-fit")!=="none"&&nc&&Eo.hasIconData();Hr&&Do(Eo,Di.posMatrix,v,F,Ns,yc,Br,Rt);var Hd=v.translatePosMatrix(Di.posMatrix,di,Q,se),Ft=Hr||F&&aa||Ru?sf:Ns,Ht=v.translatePosMatrix(yc,di,Q,se,!0),Ue=ll&&l.paint.get(F?"text-halo-width":"icon-halo-width").constantOr(1)!==0,He={program:os,buffers:Bo,uniformValues:ll?Eo.iconsInText?jd(_i.kind,qi,hn,Br,v,Hd,Ft,Ht,hs,zo):Hf(_i.kind,qi,hn,Br,v,Hd,Ft,Ht,F,hs,!0):Xf(_i.kind,qi,hn,Br,v,Hd,Ft,Ht,F,hs),atlasTexture:us,atlasTextureIcon:au,atlasInterpolation:Xs,atlasInterpolationIcon:zs,isSDF:ll,hasHalo:Ue};if(pn&&Eo.canOverlap){la=!0;for(var Zt=0,cr=Bo.segments.get();Zt<cr.length;Zt+=1){var ln=cr[Zt];sa.push({segments:new u.SegmentVector([ln]),sortKey:ln.sortKey,state:He})}}else sa.push({segments:Bo.segments,sortKey:0,state:He})}}}la&&sa.sort(function(ro,Ao){return ro.sortKey-Ao.sortKey});for(var Mn=0,Cn=sa;Mn<Cn.length;Mn+=1){var qn=Cn[Mn],Ea=qn.state;if(ur.activeTexture.set(kr.TEXTURE0),Ea.atlasTexture.bind(Ea.atlasInterpolation,kr.CLAMP_TO_EDGE),Ea.atlasTextureIcon&&(ur.activeTexture.set(kr.TEXTURE1),Ea.atlasTextureIcon&&Ea.atlasTextureIcon.bind(Ea.atlasInterpolationIcon,kr.CLAMP_TO_EDGE)),Ea.isSDF){var ji=Ea.uniformValues;Ea.hasHalo&&(ji.u_is_halo=1,Of(Ea.buffers,qn.segments,l,v,Ea.program,Gn,ir,rr,ji)),ji.u_is_halo=0}Of(Ea.buffers,qn.segments,l,v,Ea.program,Gn,ir,rr,Ea.uniformValues)}}function Of(v,c,l,g,F,Q,se,_e,mt){var Rt=g.context;F.draw(Rt,Rt.gl.TRIANGLES,Q,se,_e,de.disabled,mt,l.id,v.layoutVertexBuffer,v.indexBuffer,c,l.paint,g.transform.zoom,v.programConfigurations.get(l.id),v.dynamicLayoutVertexBuffer,v.opacityVertexBuffer)}function ch(v,c,l,g,F,Q,se){var _e,mt,Rt,ir,rr,ur=v.context.gl,kr=l.paint.get("fill-pattern"),Nr=kr&&kr.constantOr(1),Xr=l.getCrossfadeParameters();se?(mt=Nr&&!l.getPaintProperty("fill-outline-color")?"fillOutlinePattern":"fillOutline",_e=ur.LINES):(mt=Nr?"fillPattern":"fill",_e=ur.TRIANGLES);for(var Br=0,Hr=g;Br<Hr.length;Br+=1){var hn=Hr[Br],pn=c.getTile(hn);if(!Nr||pn.patternsLoaded()){var la=pn.getBucket(l);if(la){var Gn=la.programConfigurations.get(l.id),aa=v.useProgram(mt,Gn);Nr&&(v.context.activeTexture.set(ur.TEXTURE0),pn.imageAtlasTexture.bind(ur.LINEAR,ur.CLAMP_TO_EDGE),Gn.updatePaintBuffers(Xr));var sa=kr.constantOr(null);if(sa&&pn.imageAtlas){var Ya=pn.imageAtlas,Ka=Ya.patternPositions[sa.to.toString()],Di=Ya.patternPositions[sa.from.toString()];Ka&&Di&&Gn.setConstantPatternPositions(Ka,Di)}var di=v.translatePosMatrix(hn.posMatrix,pn,l.paint.get("fill-translate"),l.paint.get("fill-translate-anchor"));if(se){ir=la.indexBuffer2,rr=la.segments2;var Eo=[ur.drawingBufferWidth,ur.drawingBufferHeight];Rt=mt==="fillOutlinePattern"&&Nr?Sf(di,v,Xr,pn,Eo):$h(di,Eo)}else ir=la.indexBuffer,rr=la.segments,Rt=Nr?Uf(di,v,Xr,pn):zl(di);aa.draw(v.context,_e,F,v.stencilModeForClipping(hn),Q,de.disabled,Rt,l.id,la.layoutVertexBuffer,ir,rr,l.paint,v.transform.zoom,Gn)}}}}function Jf(v,c,l,g,F,Q,se){for(var _e=v.context,mt=_e.gl,Rt=l.paint.get("fill-extrusion-pattern"),ir=Rt.constantOr(1),rr=l.getCrossfadeParameters(),ur=l.paint.get("fill-extrusion-opacity"),kr=0,Nr=g;kr<Nr.length;kr+=1){var Xr=Nr[kr],Br=c.getTile(Xr),Hr=Br.getBucket(l);if(Hr){var hn=Hr.programConfigurations.get(l.id),pn=v.useProgram(ir?"fillExtrusionPattern":"fillExtrusion",hn);ir&&(v.context.activeTexture.set(mt.TEXTURE0),Br.imageAtlasTexture.bind(mt.LINEAR,mt.CLAMP_TO_EDGE),hn.updatePaintBuffers(rr));var la=Rt.constantOr(null);if(la&&Br.imageAtlas){var Gn=Br.imageAtlas,aa=Gn.patternPositions[la.to.toString()],sa=Gn.patternPositions[la.from.toString()];aa&&sa&&hn.setConstantPatternPositions(aa,sa)}var Ya=v.translatePosMatrix(Xr.posMatrix,Br,l.paint.get("fill-extrusion-translate"),l.paint.get("fill-extrusion-translate-anchor")),Ka=l.paint.get("fill-extrusion-vertical-gradient"),Di=ir?_d(Ya,v,Ka,ur,Xr,rr,Br):wh(Ya,v,Ka,ur);pn.draw(_e,_e.gl.TRIANGLES,F,Q,se,de.backCCW,Di,l.id,Hr.layoutVertexBuffer,Hr.indexBuffer,Hr.segments,l.paint,v.transform.zoom,hn)}}}function Bd(v,c,l,g,F,Q){var se=v.context,_e=se.gl,mt=c.fbo;if(mt){var Rt=v.useProgram("hillshade");se.activeTexture.set(_e.TEXTURE0),_e.bindTexture(_e.TEXTURE_2D,mt.colorAttachment.get());var ir=function(rr,ur,kr){var Nr=kr.paint.get("hillshade-shadow-color"),Xr=kr.paint.get("hillshade-highlight-color"),Br=kr.paint.get("hillshade-accent-color"),Hr=kr.paint.get("hillshade-illumination-direction")*(Math.PI/180);kr.paint.get("hillshade-illumination-anchor")==="viewport"&&(Hr-=rr.transform.angle);var hn,pn,la,Gn=!rr.options.moving;return{u_matrix:rr.transform.calculatePosMatrix(ur.tileID.toUnwrapped(),Gn),u_image:0,u_latrange:(hn=ur.tileID,pn=Math.pow(2,hn.canonical.z),la=hn.canonical.y,[new u.MercatorCoordinate(0,la/pn).toLngLat().lat,new u.MercatorCoordinate(0,(la+1)/pn).toLngLat().lat]),u_light:[kr.paint.get("hillshade-exaggeration"),Hr],u_shadow:Nr,u_highlight:Xr,u_accent:Br}}(v,c,l);Rt.draw(se,_e.TRIANGLES,g,F,Q,de.disabled,ir,l.id,v.rasterBoundsBuffer,v.quadTriangleIndexBuffer,v.rasterBoundsSegments)}}function fh(v,c,l,g,F,Q){var se=v.context,_e=se.gl,mt=c.dem;if(mt&&mt.data){var Rt=mt.dim,ir=mt.stride,rr=mt.getPixels();if(se.activeTexture.set(_e.TEXTURE1),se.pixelStoreUnpackPremultiplyAlpha.set(!1),c.demTexture=c.demTexture||v.getTileTexture(ir),c.demTexture){var ur=c.demTexture;ur.update(rr,{premultiply:!1}),ur.bind(_e.NEAREST,_e.CLAMP_TO_EDGE)}else c.demTexture=new u.Texture(se,rr,_e.RGBA,{premultiply:!1}),c.demTexture.bind(_e.NEAREST,_e.CLAMP_TO_EDGE);se.activeTexture.set(_e.TEXTURE0);var kr=c.fbo;if(!kr){var Nr=new u.Texture(se,{width:Rt,height:Rt,data:null},_e.RGBA);Nr.bind(_e.LINEAR,_e.CLAMP_TO_EDGE),(kr=c.fbo=se.createFramebuffer(Rt,Rt,!0)).colorAttachment.set(Nr.texture)}se.bindFramebuffer.set(kr.framebuffer),se.viewport.set([0,0,Rt,Rt]),v.useProgram("hillshadePrepare").draw(se,_e.TRIANGLES,g,F,Q,de.disabled,function(Xr,Br){var Hr=Br.stride,hn=u.create();return u.ortho(hn,0,u.EXTENT,-u.EXTENT,0,0,1),u.translate(hn,hn,[0,-u.EXTENT,0]),{u_matrix:hn,u_image:1,u_dimension:[Hr,Hr],u_zoom:Xr.overscaledZ,u_unpack:Br.getUnpackVector()}}(c.tileID,mt),l.id,v.rasterBoundsBuffer,v.quadTriangleIndexBuffer,v.rasterBoundsSegments),c.needsHillshadePrepare=!1}}function Th(v,c,l,g,F){var Q=g.paint.get("raster-fade-duration");if(Q>0){var se=u.browser.now(),_e=(se-v.timeAdded)/Q,mt=c?(se-c.timeAdded)/Q:-1,Rt=l.getSource(),ir=F.coveringZoomLevel({tileSize:Rt.tileSize,roundZoom:Rt.roundZoom}),rr=!c||Math.abs(c.tileID.overscaledZ-ir)>Math.abs(v.tileID.overscaledZ-ir),ur=rr&&v.refreshedUponExpiration?1:u.clamp(rr?_e:1-mt,0,1);return v.refreshedUponExpiration&&_e>=1&&(v.refreshedUponExpiration=!1),c?{opacity:1,mix:1-ur}:{opacity:ur,mix:0}}return{opacity:1,mix:0}}var yp=new u.Color(1,0,0,1),Rd=new u.Color(0,1,0,1),qf=new u.Color(0,0,1,1),bp=new u.Color(1,0,1,1),Hp=new u.Color(0,1,1,1);function Ah(v,c,l,g){Qh(v,0,c+l/2,v.transform.width,l,g)}function Mh(v,c,l,g){Qh(v,c-l/2,0,l,v.transform.height,g)}function Qh(v,c,l,g,F,Q){var se=v.context,_e=se.gl;_e.enable(_e.SCISSOR_TEST),_e.scissor(c*u.browser.devicePixelRatio,l*u.browser.devicePixelRatio,g*u.browser.devicePixelRatio,F*u.browser.devicePixelRatio),se.clear({color:Q}),_e.disable(_e.SCISSOR_TEST)}function Wp(v,c,l){var g=v.context,F=g.gl,Q=l.posMatrix,se=v.useProgram("debug"),_e=Ee.disabled,mt=be.disabled,Rt=v.colorModeForRenderPass();g.activeTexture.set(F.TEXTURE0),v.emptyTexture.bind(F.LINEAR,F.CLAMP_TO_EDGE),se.draw(g,F.LINE_STRIP,_e,mt,Rt,de.disabled,pd(Q,u.Color.red),"$debug",v.debugBuffer,v.tileBorderIndexBuffer,v.debugSegments);var ir=c.getTileByID(l.key).latestRawTileData,rr=Math.floor((ir&&ir.byteLength||0)/1024),ur=c.getTile(l).tileSize,kr=512/Math.min(ur,512)*(l.overscaledZ/v.transform.zoom)*.5,Nr=l.canonical.toString();l.overscaledZ!==l.canonical.z&&(Nr+=" => "+l.overscaledZ),function(Xr,Br){Xr.initDebugOverlayCanvas();var Hr=Xr.debugOverlayCanvas,hn=Xr.context.gl,pn=Xr.debugOverlayCanvas.getContext("2d");pn.clearRect(0,0,Hr.width,Hr.height),pn.shadowColor="white",pn.shadowBlur=2,pn.lineWidth=1.5,pn.strokeStyle="white",pn.textBaseline="top",pn.font="bold 36px Open Sans, sans-serif",pn.fillText(Br,5,5),pn.strokeText(Br,5,5),Xr.debugOverlayTexture.update(Hr),Xr.debugOverlayTexture.bind(hn.LINEAR,hn.CLAMP_TO_EDGE)}(v,Nr+" "+rr+"kb"),se.draw(g,F.TRIANGLES,_e,mt,rt.alphaBlended,de.disabled,pd(Q,u.Color.transparent,kr),"$debug",v.debugBuffer,v.quadTriangleIndexBuffer,v.debugSegments)}var ed={symbol:function(c,l,g,F,Q){if(c.renderPass==="translucent"){var se=be.disabled,_e=c.colorModeForRenderPass();g.layout.get("text-variable-anchor")&&function(mt,Rt,ir,rr,ur,kr,Nr){for(var Xr=Rt.transform,Br=ur==="map",Hr=kr==="map",hn=0,pn=mt;hn<pn.length;hn+=1){var la=pn[hn],Gn=rr.getTile(la),aa=Gn.getBucket(ir);if(aa&&aa.text&&aa.text.segments.get().length){var sa=u.evaluateSizeForZoom(aa.textSizeData,Xr.zoom),Ya=vi(Gn,1,Rt.transform.zoom),Ka=ni(la.posMatrix,Hr,Br,Rt.transform,Ya),Di=ir.layout.get("icon-text-fit")!=="none"&&aa.hasIconData();if(sa){var di=Math.pow(2,Xr.zoom-Gn.tileID.overscaledZ);Id(aa,Br,Hr,Nr,u.symbolSize,Xr,Ka,la.posMatrix,di,sa,Di)}}}}(F,c,g,l,g.layout.get("text-rotation-alignment"),g.layout.get("text-pitch-alignment"),Q),g.paint.get("icon-opacity").constantOr(1)!==0&&Xd(c,l,g,F,!1,g.paint.get("icon-translate"),g.paint.get("icon-translate-anchor"),g.layout.get("icon-rotation-alignment"),g.layout.get("icon-pitch-alignment"),g.layout.get("icon-keep-upright"),se,_e),g.paint.get("text-opacity").constantOr(1)!==0&&Xd(c,l,g,F,!0,g.paint.get("text-translate"),g.paint.get("text-translate-anchor"),g.layout.get("text-rotation-alignment"),g.layout.get("text-pitch-alignment"),g.layout.get("text-keep-upright"),se,_e),l.map.showCollisionBoxes&&(md(c,l,g,F,g.paint.get("text-translate"),g.paint.get("text-translate-anchor"),!0),md(c,l,g,F,g.paint.get("icon-translate"),g.paint.get("icon-translate-anchor"),!1))}},circle:function(c,l,g,F){if(c.renderPass==="translucent"){var Q=g.paint.get("circle-opacity"),se=g.paint.get("circle-stroke-width"),_e=g.paint.get("circle-stroke-opacity"),mt=g.layout.get("circle-sort-key").constantOr(1)!==void 0;if(Q.constantOr(1)!==0||se.constantOr(1)!==0&&_e.constantOr(1)!==0){for(var Rt=c.context,ir=Rt.gl,rr=c.depthModeForSublayer(0,Ee.ReadOnly),ur=be.disabled,kr=c.colorModeForRenderPass(),Nr=[],Xr=0;Xr<F.length;Xr++){var Br=F[Xr],Hr=l.getTile(Br),hn=Hr.getBucket(g);if(hn){var pn=hn.programConfigurations.get(g.id),la={programConfiguration:pn,program:c.useProgram("circle",pn),layoutVertexBuffer:hn.layoutVertexBuffer,indexBuffer:hn.indexBuffer,uniformValues:Gl(c,Br,Hr,g)};if(mt)for(var Gn=0,aa=hn.segments.get();Gn<aa.length;Gn+=1){var sa=aa[Gn];Nr.push({segments:new u.SegmentVector([sa]),sortKey:sa.sortKey,state:la})}else Nr.push({segments:hn.segments,sortKey:0,state:la})}}mt&&Nr.sort(function(Eo,Bo){return Eo.sortKey-Bo.sortKey});for(var Ya=0,Ka=Nr;Ya<Ka.length;Ya+=1){var Di=Ka[Ya],di=Di.state;di.program.draw(Rt,ir.TRIANGLES,rr,ur,kr,de.disabled,di.uniformValues,g.id,di.layoutVertexBuffer,di.indexBuffer,Di.segments,g.paint,c.transform.zoom,di.programConfiguration)}}}},heatmap:function(c,l,g,F){if(g.paint.get("heatmap-opacity")!==0)if(c.renderPass==="offscreen"){var Q=c.context,se=Q.gl,_e=be.disabled,mt=new rt([se.ONE,se.ONE],u.Color.transparent,[!0,!0,!0,!0]);(function(Nr,Xr,Br){var Hr=Nr.gl;Nr.activeTexture.set(Hr.TEXTURE1),Nr.viewport.set([0,0,Xr.width/4,Xr.height/4]);var hn=Br.heatmapFbo;if(hn)Hr.bindTexture(Hr.TEXTURE_2D,hn.colorAttachment.get()),Nr.bindFramebuffer.set(hn.framebuffer);else{var pn=Hr.createTexture();Hr.bindTexture(Hr.TEXTURE_2D,pn),Hr.texParameteri(Hr.TEXTURE_2D,Hr.TEXTURE_WRAP_S,Hr.CLAMP_TO_EDGE),Hr.texParameteri(Hr.TEXTURE_2D,Hr.TEXTURE_WRAP_T,Hr.CLAMP_TO_EDGE),Hr.texParameteri(Hr.TEXTURE_2D,Hr.TEXTURE_MIN_FILTER,Hr.LINEAR),Hr.texParameteri(Hr.TEXTURE_2D,Hr.TEXTURE_MAG_FILTER,Hr.LINEAR),hn=Br.heatmapFbo=Nr.createFramebuffer(Xr.width/4,Xr.height/4,!1),function(la,Gn,aa,sa){var Ya=la.gl;Ya.texImage2D(Ya.TEXTURE_2D,0,Ya.RGBA,Gn.width/4,Gn.height/4,0,Ya.RGBA,la.extRenderToTextureHalfFloat?la.extTextureHalfFloat.HALF_FLOAT_OES:Ya.UNSIGNED_BYTE,null),sa.colorAttachment.set(aa)}(Nr,Xr,pn,hn)}})(Q,c,g),Q.clear({color:u.Color.transparent});for(var Rt=0;Rt<F.length;Rt++){var ir=F[Rt];if(!l.hasRenderableParent(ir)){var rr=l.getTile(ir),ur=rr.getBucket(g);if(ur){var kr=ur.programConfigurations.get(g.id);c.useProgram("heatmap",kr).draw(Q,se.TRIANGLES,Ee.disabled,_e,mt,de.disabled,Gc(ir.posMatrix,rr,c.transform.zoom,g.paint.get("heatmap-intensity")),g.id,ur.layoutVertexBuffer,ur.indexBuffer,ur.segments,g.paint,c.transform.zoom,kr)}}}Q.viewport.set([0,0,c.width,c.height])}else c.renderPass==="translucent"&&(c.context.setColorMode(c.colorModeForRenderPass()),function(Nr,Xr){var Br=Nr.context,Hr=Br.gl,hn=Xr.heatmapFbo;if(hn){Br.activeTexture.set(Hr.TEXTURE0),Hr.bindTexture(Hr.TEXTURE_2D,hn.colorAttachment.get()),Br.activeTexture.set(Hr.TEXTURE1);var pn=Xr.colorRampTexture;pn||(pn=Xr.colorRampTexture=new u.Texture(Br,Xr.colorRamp,Hr.RGBA)),pn.bind(Hr.LINEAR,Hr.CLAMP_TO_EDGE),Nr.useProgram("heatmapTexture").draw(Br,Hr.TRIANGLES,Ee.disabled,be.disabled,Nr.colorModeForRenderPass(),de.disabled,function(la,Gn,aa,sa){var Ya=u.create();u.ortho(Ya,0,la.width,la.height,0,0,1);var Ka=la.context.gl;return{u_matrix:Ya,u_world:[Ka.drawingBufferWidth,Ka.drawingBufferHeight],u_image:0,u_color_ramp:1,u_opacity:Gn.paint.get("heatmap-opacity")}}(Nr,Xr),Xr.id,Nr.viewportBuffer,Nr.quadTriangleIndexBuffer,Nr.viewportSegments,Xr.paint,Nr.transform.zoom)}}(c,g))},line:function(c,l,g,F){if(c.renderPass==="translucent"){var Q=g.paint.get("line-opacity"),se=g.paint.get("line-width");if(Q.constantOr(1)!==0&&se.constantOr(1)!==0)for(var _e=c.depthModeForSublayer(0,Ee.ReadOnly),mt=c.colorModeForRenderPass(),Rt=g.paint.get("line-dasharray"),ir=g.paint.get("line-pattern"),rr=ir.constantOr(1),ur=g.paint.get("line-gradient"),kr=g.getCrossfadeParameters(),Nr=rr?"linePattern":Rt?"lineSDF":ur?"lineGradient":"line",Xr=c.context,Br=Xr.gl,Hr=!0,hn=0,pn=F;hn<pn.length;hn+=1){var la=pn[hn],Gn=l.getTile(la);if(!rr||Gn.patternsLoaded()){var aa=Gn.getBucket(g);if(aa){var sa=aa.programConfigurations.get(g.id),Ya=c.context.program.get(),Ka=c.useProgram(Nr,sa),Di=Hr||Ka.program!==Ya,di=ir.constantOr(null);if(di&&Gn.imageAtlas){var Eo=Gn.imageAtlas,Bo=Eo.patternPositions[di.to.toString()],Wo=Eo.patternPositions[di.from.toString()];Bo&&Wo&&sa.setConstantPatternPositions(Bo,Wo)}var ll=rr?Yd(c,Gn,g,kr):Rt?Up(c,Gn,g,Rt,kr):ur?Ll(c,Gn,g,aa.lineClipsArray.length):vd(c,Gn,g);if(rr)Xr.activeTexture.set(Br.TEXTURE0),Gn.imageAtlasTexture.bind(Br.LINEAR,Br.CLAMP_TO_EDGE),sa.updatePaintBuffers(kr);else if(Rt&&(Di||c.lineAtlas.dirty))Xr.activeTexture.set(Br.TEXTURE0),c.lineAtlas.bind(Xr);else if(ur){var _i=aa.gradients[g.id],Qo=_i.texture;if(g.gradientVersion!==_i.version){var os=256;if(g.stepInterpolant){var qi=l.getSource().maxzoom,hs=la.canonical.z===qi?Math.ceil(1<<c.transform.maxZoom-la.canonical.z):1;os=u.clamp(u.nextPowerOfTwo(aa.maxLineLength/u.EXTENT*1024*hs),256,Xr.maxTextureSize)}_i.gradient=u.renderColorRamp({expression:g.gradientExpression(),evaluationKey:"lineProgress",resolution:os,image:_i.gradient||void 0,clips:aa.lineClipsArray}),_i.texture?_i.texture.update(_i.gradient):_i.texture=new u.Texture(Xr,_i.gradient,Br.RGBA),_i.version=g.gradientVersion,Qo=_i.texture}Xr.activeTexture.set(Br.TEXTURE0),Qo.bind(g.stepInterpolant?Br.NEAREST:Br.LINEAR,Br.CLAMP_TO_EDGE)}Ka.draw(Xr,Br.TRIANGLES,_e,c.stencilModeForClipping(la),mt,de.disabled,ll,g.id,aa.layoutVertexBuffer,aa.indexBuffer,aa.segments,g.paint,c.transform.zoom,sa,aa.layoutVertexBuffer2),Hr=!1}}}}},fill:function(c,l,g,F){var Q=g.paint.get("fill-color"),se=g.paint.get("fill-opacity");if(se.constantOr(1)!==0){var _e=c.colorModeForRenderPass(),mt=g.paint.get("fill-pattern"),Rt=c.opaquePassEnabledForLayer()&&!mt.constantOr(1)&&Q.constantOr(u.Color.transparent).a===1&&se.constantOr(0)===1?"opaque":"translucent";if(c.renderPass===Rt){var ir=c.depthModeForSublayer(1,c.renderPass==="opaque"?Ee.ReadWrite:Ee.ReadOnly);ch(c,l,g,F,ir,_e,!1)}if(c.renderPass==="translucent"&&g.paint.get("fill-antialias")){var rr=c.depthModeForSublayer(g.getPaintProperty("fill-outline-color")?2:0,Ee.ReadOnly);ch(c,l,g,F,rr,_e,!0)}}},"fill-extrusion":function(c,l,g,F){var Q=g.paint.get("fill-extrusion-opacity");if(Q!==0&&c.renderPass==="translucent"){var se=new Ee(c.context.gl.LEQUAL,Ee.ReadWrite,c.depthRangeFor3D);if(Q!==1||g.paint.get("fill-extrusion-pattern").constantOr(1))Jf(c,l,g,F,se,be.disabled,rt.disabled),Jf(c,l,g,F,se,c.stencilModeFor3D(),c.colorModeForRenderPass());else{var _e=c.colorModeForRenderPass();Jf(c,l,g,F,se,be.disabled,_e)}}},hillshade:function(c,l,g,F){if(c.renderPass==="offscreen"||c.renderPass==="translucent"){for(var Q=c.context,se=c.depthModeForSublayer(0,Ee.ReadOnly),_e=c.colorModeForRenderPass(),mt=c.renderPass==="translucent"?c.stencilConfigForOverlap(F):[{},F],Rt=mt[0],ir=0,rr=mt[1];ir<rr.length;ir+=1){var ur=rr[ir],kr=l.getTile(ur);kr.needsHillshadePrepare&&c.renderPass==="offscreen"?fh(c,kr,g,se,be.disabled,_e):c.renderPass==="translucent"&&Bd(c,kr,g,se,Rt[ur.overscaledZ],_e)}Q.viewport.set([0,0,c.width,c.height])}},raster:function(c,l,g,F){if(c.renderPass==="translucent"&&g.paint.get("raster-opacity")!==0&&F.length)for(var Q=c.context,se=Q.gl,_e=l.getSource(),mt=c.useProgram("raster"),Rt=c.colorModeForRenderPass(),ir=_e instanceof me?[{},F]:c.stencilConfigForOverlap(F),rr=ir[0],ur=ir[1],kr=ur[ur.length-1].overscaledZ,Nr=!c.options.moving,Xr=0,Br=ur;Xr<Br.length;Xr+=1){var Hr=Br[Xr],hn=c.depthModeForSublayer(Hr.overscaledZ-kr,g.paint.get("raster-opacity")===1?Ee.ReadWrite:Ee.ReadOnly,se.LESS),pn=l.getTile(Hr),la=c.transform.calculatePosMatrix(Hr.toUnwrapped(),Nr);pn.registerFadeDuration(g.paint.get("raster-fade-duration"));var Gn=l.findLoadedParent(Hr,0),aa=Th(pn,Gn,l,g,c.transform),sa=void 0,Ya=void 0,Ka=g.paint.get("raster-resampling")==="nearest"?se.NEAREST:se.LINEAR;Q.activeTexture.set(se.TEXTURE0),pn.texture.bind(Ka,se.CLAMP_TO_EDGE,se.LINEAR_MIPMAP_NEAREST),Q.activeTexture.set(se.TEXTURE1),Gn?(Gn.texture.bind(Ka,se.CLAMP_TO_EDGE,se.LINEAR_MIPMAP_NEAREST),sa=Math.pow(2,Gn.tileID.overscaledZ-pn.tileID.overscaledZ),Ya=[pn.tileID.canonical.x*sa%1,pn.tileID.canonical.y*sa%1]):pn.texture.bind(Ka,se.CLAMP_TO_EDGE,se.LINEAR_MIPMAP_NEAREST);var Di=sv(la,Ya||[0,0],sa||1,aa,g);_e instanceof me?mt.draw(Q,se.TRIANGLES,hn,be.disabled,Rt,de.disabled,Di,g.id,_e.boundsBuffer,c.quadTriangleIndexBuffer,_e.boundsSegments):mt.draw(Q,se.TRIANGLES,hn,rr[Hr.overscaledZ],Rt,de.disabled,Di,g.id,c.rasterBoundsBuffer,c.quadTriangleIndexBuffer,c.rasterBoundsSegments)}},background:function(c,l,g){var F=g.paint.get("background-color"),Q=g.paint.get("background-opacity");if(Q!==0){var se=c.context,_e=se.gl,mt=c.transform,Rt=mt.tileSize,ir=g.paint.get("background-pattern");if(!c.isPatternMissing(ir)){var rr=!ir&&F.a===1&&Q===1&&c.opaquePassEnabledForLayer()?"opaque":"translucent";if(c.renderPass===rr){var ur=be.disabled,kr=c.depthModeForSublayer(0,rr==="opaque"?Ee.ReadWrite:Ee.ReadOnly),Nr=c.colorModeForRenderPass(),Xr=c.useProgram(ir?"backgroundPattern":"background"),Br=mt.coveringTiles({tileSize:Rt});ir&&(se.activeTexture.set(_e.TEXTURE0),c.imageManager.bind(c.context));for(var Hr=g.getCrossfadeParameters(),hn=0,pn=Br;hn<pn.length;hn+=1){var la=pn[hn],Gn=c.transform.calculatePosMatrix(la.toUnwrapped()),aa=ir?Qf(Gn,Q,c,ir,{tileID:la,tileSize:Rt},Hr):Tc(Gn,Q,F);Xr.draw(se,_e.TRIANGLES,kr,ur,Nr,de.disabled,aa,g.id,c.tileExtentBuffer,c.quadTriangleIndexBuffer,c.tileExtentSegments)}}}}},debug:function(c,l,g){for(var F=0;F<g.length;F++)Wp(c,l,g[F])},custom:function(c,l,g){var F=c.context,Q=g.implementation;if(c.renderPass==="offscreen"){var se=Q.prerender;se&&(c.setCustomLayerDefaults(),F.setColorMode(c.colorModeForRenderPass()),se.call(Q,F.gl,c.transform.customLayerMatrix()),F.setDirty(),c.setBaseState())}else if(c.renderPass==="translucent"){c.setCustomLayerDefaults(),F.setColorMode(c.colorModeForRenderPass()),F.setStencilMode(be.disabled);var _e=Q.renderingMode==="3d"?new Ee(c.context.gl.LEQUAL,Ee.ReadWrite,c.depthRangeFor3D):c.depthModeForSublayer(0,Ee.ReadOnly);F.setDepthMode(_e),Q.render(F.gl,c.transform.customLayerMatrix()),F.setDirty(),c.setBaseState(),F.bindFramebuffer.set(null)}}},vn=function(c,l){this.context=new Pe(c),this.transform=l,this._tileTextures={},this.setup(),this.numSublayers=xe.maxUnderzooming+xe.maxOverzooming+1,this.depthEpsilon=1/Math.pow(2,16),this.crossTileSymbolIndex=new al,this.gpuTimers={}};vn.prototype.resize=function(v,c){if(this.width=v*u.browser.devicePixelRatio,this.height=c*u.browser.devicePixelRatio,this.context.viewport.set([0,0,this.width,this.height]),this.style)for(var l=0,g=this.style._order;l<g.length;l+=1)this.style._layers[g[l]].resize()},vn.prototype.setup=function(){var v=this.context,c=new u.StructArrayLayout2i4;c.emplaceBack(0,0),c.emplaceBack(u.EXTENT,0),c.emplaceBack(0,u.EXTENT),c.emplaceBack(u.EXTENT,u.EXTENT),this.tileExtentBuffer=v.createVertexBuffer(c,tu.members),this.tileExtentSegments=u.SegmentVector.simpleSegment(0,0,4,2);var l=new u.StructArrayLayout2i4;l.emplaceBack(0,0),l.emplaceBack(u.EXTENT,0),l.emplaceBack(0,u.EXTENT),l.emplaceBack(u.EXTENT,u.EXTENT),this.debugBuffer=v.createVertexBuffer(l,tu.members),this.debugSegments=u.SegmentVector.simpleSegment(0,0,4,5);var g=new u.StructArrayLayout4i8;g.emplaceBack(0,0,0,0),g.emplaceBack(u.EXTENT,0,u.EXTENT,0),g.emplaceBack(0,u.EXTENT,0,u.EXTENT),g.emplaceBack(u.EXTENT,u.EXTENT,u.EXTENT,u.EXTENT),this.rasterBoundsBuffer=v.createVertexBuffer(g,Ie.members),this.rasterBoundsSegments=u.SegmentVector.simpleSegment(0,0,4,2);var F=new u.StructArrayLayout2i4;F.emplaceBack(0,0),F.emplaceBack(1,0),F.emplaceBack(0,1),F.emplaceBack(1,1),this.viewportBuffer=v.createVertexBuffer(F,tu.members),this.viewportSegments=u.SegmentVector.simpleSegment(0,0,4,2);var Q=new u.StructArrayLayout1ui2;Q.emplaceBack(0),Q.emplaceBack(1),Q.emplaceBack(3),Q.emplaceBack(2),Q.emplaceBack(0),this.tileBorderIndexBuffer=v.createIndexBuffer(Q);var se=new u.StructArrayLayout3ui6;se.emplaceBack(0,1,2),se.emplaceBack(2,1,3),this.quadTriangleIndexBuffer=v.createIndexBuffer(se),this.emptyTexture=new u.Texture(v,{width:1,height:1,data:new Uint8Array([0,0,0,0])},v.gl.RGBA);var _e=this.context.gl;this.stencilClearMode=new be({func:_e.ALWAYS,mask:0},0,255,_e.ZERO,_e.ZERO,_e.ZERO)},vn.prototype.clearStencil=function(){var v=this.context,c=v.gl;this.nextStencilID=1,this.currentStencilSource=void 0;var l=u.create();u.ortho(l,0,this.width,this.height,0,0,1),u.scale(l,l,[c.drawingBufferWidth,c.drawingBufferHeight,0]),this.useProgram("clippingMask").draw(v,c.TRIANGLES,Ee.disabled,this.stencilClearMode,rt.disabled,de.disabled,Vf(l),"$clipping",this.viewportBuffer,this.quadTriangleIndexBuffer,this.viewportSegments)},vn.prototype._renderTileClippingMasks=function(v,c){if(this.currentStencilSource!==v.source&&v.isTileClipped()&&c&&c.length){this.currentStencilSource=v.source;var l=this.context,g=l.gl;this.nextStencilID+c.length>256&&this.clearStencil(),l.setColorMode(rt.disabled),l.setDepthMode(Ee.disabled);var F=this.useProgram("clippingMask");this._tileClippingMaskIDs={};for(var Q=0,se=c;Q<se.length;Q+=1){var _e=se[Q],mt=this._tileClippingMaskIDs[_e.key]=this.nextStencilID++;F.draw(l,g.TRIANGLES,Ee.disabled,new be({func:g.ALWAYS,mask:0},mt,255,g.KEEP,g.KEEP,g.REPLACE),rt.disabled,de.disabled,Vf(_e.posMatrix),"$clipping",this.tileExtentBuffer,this.quadTriangleIndexBuffer,this.tileExtentSegments)}}},vn.prototype.stencilModeFor3D=function(){this.currentStencilSource=void 0,this.nextStencilID+1>256&&this.clearStencil();var v=this.nextStencilID++,c=this.context.gl;return new be({func:c.NOTEQUAL,mask:255},v,255,c.KEEP,c.KEEP,c.REPLACE)},vn.prototype.stencilModeForClipping=function(v){var c=this.context.gl;return new be({func:c.EQUAL,mask:255},this._tileClippingMaskIDs[v.key],0,c.KEEP,c.KEEP,c.REPLACE)},vn.prototype.stencilConfigForOverlap=function(v){var c,l=this.context.gl,g=v.sort(function(mt,Rt){return Rt.overscaledZ-mt.overscaledZ}),F=g[g.length-1].overscaledZ,Q=g[0].overscaledZ-F+1;if(Q>1){this.currentStencilSource=void 0,this.nextStencilID+Q>256&&this.clearStencil();for(var se={},_e=0;_e<Q;_e++)se[_e+F]=new be({func:l.GEQUAL,mask:255},_e+this.nextStencilID,255,l.KEEP,l.KEEP,l.REPLACE);return this.nextStencilID+=Q,[se,g]}return[(c={},c[F]=be.disabled,c),g]},vn.prototype.colorModeForRenderPass=function(){var v=this.context.gl;return this._showOverdrawInspector?new rt([v.CONSTANT_COLOR,v.ONE],new u.Color(1/8,1/8,1/8,0),[!0,!0,!0,!0]):this.renderPass==="opaque"?rt.unblended:rt.alphaBlended},vn.prototype.depthModeForSublayer=function(v,c,l){if(!this.opaquePassEnabledForLayer())return Ee.disabled;var g=1-((1+this.currentLayer)*this.numSublayers+v)*this.depthEpsilon;return new Ee(l||this.context.gl.LEQUAL,c,[g,g])},vn.prototype.opaquePassEnabledForLayer=function(){return this.currentLayer<this.opaquePassCutoff},vn.prototype.render=function(v,c){var l=this;this.style=v,this.options=c,this.lineAtlas=v.lineAtlas,this.imageManager=v.imageManager,this.glyphManager=v.glyphManager,this.symbolFadeChange=v.placement.symbolFadeChange(u.browser.now()),this.imageManager.beginFrame();var g=this.style._order,F=this.style.sourceCaches;for(var Q in F){var se=F[Q];se.used&&se.prepare(this.context)}var _e,mt,Rt={},ir={},rr={};for(var ur in F){var kr=F[ur];Rt[ur]=kr.getVisibleCoordinates(),ir[ur]=Rt[ur].slice().reverse(),rr[ur]=kr.getVisibleCoordinates(!0).reverse()}this.opaquePassCutoff=1/0;for(var Nr=0;Nr<g.length;Nr++)if(this.style._layers[g[Nr]].is3D()){this.opaquePassCutoff=Nr;break}this.renderPass="offscreen";for(var Xr=0,Br=g;Xr<Br.length;Xr+=1){var Hr=this.style._layers[Br[Xr]];if(Hr.hasOffscreenPass()&&!Hr.isHidden(this.transform.zoom)){var hn=ir[Hr.source];(Hr.type==="custom"||hn.length)&&this.renderLayer(this,F[Hr.source],Hr,hn)}}for(this.context.bindFramebuffer.set(null),this.context.clear({color:c.showOverdrawInspector?u.Color.black:u.Color.transparent,depth:1}),this.clearStencil(),this._showOverdrawInspector=c.showOverdrawInspector,this.depthRangeFor3D=[0,1-(v._order.length+2)*this.numSublayers*this.depthEpsilon],this.renderPass="opaque",this.currentLayer=g.length-1;this.currentLayer>=0;this.currentLayer--){var pn=this.style._layers[g[this.currentLayer]],la=F[pn.source],Gn=Rt[pn.source];this._renderTileClippingMasks(pn,Gn),this.renderLayer(this,la,pn,Gn)}for(this.renderPass="translucent",this.currentLayer=0;this.currentLayer<g.length;this.currentLayer++){var aa=this.style._layers[g[this.currentLayer]],sa=F[aa.source],Ya=(aa.type==="symbol"?rr:ir)[aa.source];this._renderTileClippingMasks(aa,Rt[aa.source]),this.renderLayer(this,sa,aa,Ya)}this.options.showTileBoundaries&&(u.values(this.style._layers).forEach(function(Ka){Ka.source&&!Ka.isHidden(l.transform.zoom)&&(Ka.source!==(mt&&mt.id)&&(mt=l.style.sourceCaches[Ka.source]),(!_e||_e.getSource().maxzoom<mt.getSource().maxzoom)&&(_e=mt))}),_e&&ed.debug(this,_e,_e.getVisibleCoordinates())),this.options.showPadding&&function(Ka){var Di=Ka.transform.padding;Ah(Ka,Ka.transform.height-(Di.top||0),3,yp),Ah(Ka,Di.bottom||0,3,Rd),Mh(Ka,Di.left||0,3,qf),Mh(Ka,Ka.transform.width-(Di.right||0),3,bp);var di=Ka.transform.centerPoint;(function(Eo,Bo,Wo,ll){Qh(Eo,Bo-1,Wo-10,2,20,ll),Qh(Eo,Bo-10,Wo-1,20,2,ll)})(Ka,di.x,Ka.transform.height-di.y,Hp)}(this),this.context.setDefault()},vn.prototype.renderLayer=function(v,c,l,g){l.isHidden(this.transform.zoom)||(l.type==="background"||l.type==="custom"||g.length)&&(this.id=l.id,this.gpuTimingStart(l),ed[l.type](v,c,l,g,this.style.placement.variableOffsets),this.gpuTimingEnd())},vn.prototype.gpuTimingStart=function(v){if(this.options.gpuTiming){var c=this.context.extTimerQuery,l=this.gpuTimers[v.id];l||(l=this.gpuTimers[v.id]={calls:0,cpuTime:0,query:c.createQueryEXT()}),l.calls++,c.beginQueryEXT(c.TIME_ELAPSED_EXT,l.query)}},vn.prototype.gpuTimingEnd=function(){if(this.options.gpuTiming){var v=this.context.extTimerQuery;v.endQueryEXT(v.TIME_ELAPSED_EXT)}},vn.prototype.collectGpuTimers=function(){var v=this.gpuTimers;return this.gpuTimers={},v},vn.prototype.queryGpuTimers=function(v){var c={};for(var l in v){var g=v[l],F=this.context.extTimerQuery,Q=F.getQueryObjectEXT(g.query,F.QUERY_RESULT_EXT)/1e6;F.deleteQueryEXT(g.query),c[l]=Q}return c},vn.prototype.translatePosMatrix=function(v,c,l,g,F){if(!l[0]&&!l[1])return v;var Q=F?g==="map"?this.transform.angle:0:g==="viewport"?-this.transform.angle:0;if(Q){var se=Math.sin(Q),_e=Math.cos(Q);l=[l[0]*_e-l[1]*se,l[0]*se+l[1]*_e]}var mt=[F?l[0]:vi(c,l[0],this.transform.zoom),F?l[1]:vi(c,l[1],this.transform.zoom),0],Rt=new Float32Array(16);return u.translate(Rt,v,mt),Rt},vn.prototype.saveTileTexture=function(v){var c=this._tileTextures[v.size[0]];c?c.push(v):this._tileTextures[v.size[0]]=[v]},vn.prototype.getTileTexture=function(v){var c=this._tileTextures[v];return c&&c.length>0?c.pop():null},vn.prototype.isPatternMissing=function(v){if(!v)return!1;if(!v.from||!v.to)return!0;var c=this.imageManager.getPattern(v.from.toString()),l=this.imageManager.getPattern(v.to.toString());return!c||!l},vn.prototype.useProgram=function(v,c){this.cache=this.cache||{};var l=""+v+(c?c.cacheKey:"")+(this._showOverdrawInspector?"/overdraw":"");return this.cache[l]||(this.cache[l]=new Ms(this.context,v,Ef[v],c,kd[v],this._showOverdrawInspector)),this.cache[l]},vn.prototype.setCustomLayerDefaults=function(){this.context.unbindVAO(),this.context.cullFace.setDefault(),this.context.activeTexture.setDefault(),this.context.pixelStoreUnpack.setDefault(),this.context.pixelStoreUnpackPremultiplyAlpha.setDefault(),this.context.pixelStoreUnpackFlipY.setDefault()},vn.prototype.setBaseState=function(){var v=this.context.gl;this.context.cullFace.set(!1),this.context.viewport.set([0,0,this.width,this.height]),this.context.blendEquation.set(v.FUNC_ADD)},vn.prototype.initDebugOverlayCanvas=function(){this.debugOverlayCanvas==null&&(this.debugOverlayCanvas=u.window.document.createElement("canvas"),this.debugOverlayCanvas.width=512,this.debugOverlayCanvas.height=512,this.debugOverlayTexture=new u.Texture(this.context,this.debugOverlayCanvas,this.context.gl.RGBA))},vn.prototype.destroy=function(){this.emptyTexture.destroy(),this.debugOverlayTexture&&this.debugOverlayTexture.destroy()};var Oa=function(c,l){this.points=c,this.planes=l};Oa.fromInvProjectionMatrix=function(v,c,l){var g=Math.pow(2,l),F=[[-1,1,-1,1],[1,1,-1,1],[1,-1,-1,1],[-1,-1,-1,1],[-1,1,1,1],[1,1,1,1],[1,-1,1,1],[-1,-1,1,1]].map(function(se){return u.transformMat4([],se,v)}).map(function(se){return u.scale$1([],se,1/se[3]/c*g)}),Q=[[0,1,2],[6,5,4],[0,3,7],[2,1,5],[3,2,6],[0,4,5]].map(function(se){var _e=u.sub([],F[se[0]],F[se[1]]),mt=u.sub([],F[se[2]],F[se[1]]),Rt=u.normalize([],u.cross([],_e,mt)),ir=-u.dot(Rt,F[se[1]]);return Rt.concat(ir)});return new Oa(F,Q)};var oa=function(c,l){this.min=c,this.max=l,this.center=u.scale$2([],u.add([],this.min,this.max),.5)};oa.prototype.quadrant=function(v){for(var c=[v%2==0,v<2],l=u.clone$2(this.min),g=u.clone$2(this.max),F=0;F<c.length;F++)l[F]=c[F]?this.min[F]:this.center[F],g[F]=c[F]?this.center[F]:this.max[F];return g[2]=this.max[2],new oa(l,g)},oa.prototype.distanceX=function(v){return Math.max(Math.min(this.max[0],v[0]),this.min[0])-v[0]},oa.prototype.distanceY=function(v){return Math.max(Math.min(this.max[1],v[1]),this.min[1])-v[1]},oa.prototype.intersects=function(v){for(var c=[[this.min[0],this.min[1],0,1],[this.max[0],this.min[1],0,1],[this.max[0],this.max[1],0,1],[this.min[0],this.max[1],0,1]],l=!0,g=0;g<v.planes.length;g++){for(var F=v.planes[g],Q=0,se=0;se<c.length;se++)Q+=u.dot$1(F,c[se])>=0;if(Q===0)return 0;Q!==c.length&&(l=!1)}if(l)return 2;for(var _e=0;_e<3;_e++){for(var mt=Number.MAX_VALUE,Rt=-Number.MAX_VALUE,ir=0;ir<v.points.length;ir++){var rr=v.points[ir][_e]-this.min[_e];mt=Math.min(mt,rr),Rt=Math.max(Rt,rr)}if(Rt<0||mt>this.max[_e]-this.min[_e])return 0}return 1};var to=function(c,l,g,F){if(c===void 0&&(c=0),l===void 0&&(l=0),g===void 0&&(g=0),F===void 0&&(F=0),isNaN(c)||c<0||isNaN(l)||l<0||isNaN(g)||g<0||isNaN(F)||F<0)throw new Error("Invalid value for edge-insets, top, bottom, left and right must all be numbers");this.top=c,this.bottom=l,this.left=g,this.right=F};to.prototype.interpolate=function(v,c,l){return c.top!=null&&v.top!=null&&(this.top=u.number(v.top,c.top,l)),c.bottom!=null&&v.bottom!=null&&(this.bottom=u.number(v.bottom,c.bottom,l)),c.left!=null&&v.left!=null&&(this.left=u.number(v.left,c.left,l)),c.right!=null&&v.right!=null&&(this.right=u.number(v.right,c.right,l)),this},to.prototype.getCenter=function(v,c){var l=u.clamp((this.left+v-this.right)/2,0,v),g=u.clamp((this.top+c-this.bottom)/2,0,c);return new u.Point(l,g)},to.prototype.equals=function(v){return this.top===v.top&&this.bottom===v.bottom&&this.left===v.left&&this.right===v.right},to.prototype.clone=function(){return new to(this.top,this.bottom,this.left,this.right)},to.prototype.toJSON=function(){return{top:this.top,bottom:this.bottom,left:this.left,right:this.right}};var Ai=function(c,l,g,F,Q){this.tileSize=512,this.maxValidLatitude=85.051129,this._renderWorldCopies=Q===void 0||Q,this._minZoom=c||0,this._maxZoom=l||22,this._minPitch=g==null?0:g,this._maxPitch=F==null?60:F,this.setMaxBounds(),this.width=0,this.height=0,this._center=new u.LngLat(0,0),this.zoom=0,this.angle=0,this._fov=.6435011087932844,this._pitch=0,this._unmodified=!0,this._edgeInsets=new to,this._posMatrixCache={},this._alignedPosMatrixCache={}},Xo={minZoom:{configurable:!0},maxZoom:{configurable:!0},minPitch:{configurable:!0},maxPitch:{configurable:!0},renderWorldCopies:{configurable:!0},worldSize:{configurable:!0},centerOffset:{configurable:!0},size:{configurable:!0},bearing:{configurable:!0},pitch:{configurable:!0},fov:{configurable:!0},zoom:{configurable:!0},center:{configurable:!0},padding:{configurable:!0},centerPoint:{configurable:!0},unmodified:{configurable:!0},point:{configurable:!0}};Ai.prototype.clone=function(){var v=new Ai(this._minZoom,this._maxZoom,this._minPitch,this.maxPitch,this._renderWorldCopies);return v.tileSize=this.tileSize,v.latRange=this.latRange,v.width=this.width,v.height=this.height,v._center=this._center,v.zoom=this.zoom,v.angle=this.angle,v._fov=this._fov,v._pitch=this._pitch,v._unmodified=this._unmodified,v._edgeInsets=this._edgeInsets.clone(),v._calcMatrices(),v},Xo.minZoom.get=function(){return this._minZoom},Xo.minZoom.set=function(v){this._minZoom!==v&&(this._minZoom=v,this.zoom=Math.max(this.zoom,v))},Xo.maxZoom.get=function(){return this._maxZoom},Xo.maxZoom.set=function(v){this._maxZoom!==v&&(this._maxZoom=v,this.zoom=Math.min(this.zoom,v))},Xo.minPitch.get=function(){return this._minPitch},Xo.minPitch.set=function(v){this._minPitch!==v&&(this._minPitch=v,this.pitch=Math.max(this.pitch,v))},Xo.maxPitch.get=function(){return this._maxPitch},Xo.maxPitch.set=function(v){this._maxPitch!==v&&(this._maxPitch=v,this.pitch=Math.min(this.pitch,v))},Xo.renderWorldCopies.get=function(){return this._renderWorldCopies},Xo.renderWorldCopies.set=function(v){v===void 0?v=!0:v===null&&(v=!1),this._renderWorldCopies=v},Xo.worldSize.get=function(){return this.tileSize*this.scale},Xo.centerOffset.get=function(){return this.centerPoint._sub(this.size._div(2))},Xo.size.get=function(){return new u.Point(this.width,this.height)},Xo.bearing.get=function(){return-this.angle/Math.PI*180},Xo.bearing.set=function(v){var c=-u.wrap(v,-180,180)*Math.PI/180;this.angle!==c&&(this._unmodified=!1,this.angle=c,this._calcMatrices(),this.rotationMatrix=u.create$2(),u.rotate(this.rotationMatrix,this.rotationMatrix,this.angle))},Xo.pitch.get=function(){return this._pitch/Math.PI*180},Xo.pitch.set=function(v){var c=u.clamp(v,this.minPitch,this.maxPitch)/180*Math.PI;this._pitch!==c&&(this._unmodified=!1,this._pitch=c,this._calcMatrices())},Xo.fov.get=function(){return this._fov/Math.PI*180},Xo.fov.set=function(v){v=Math.max(.01,Math.min(60,v)),this._fov!==v&&(this._unmodified=!1,this._fov=v/180*Math.PI,this._calcMatrices())},Xo.zoom.get=function(){return this._zoom},Xo.zoom.set=function(v){var c=Math.min(Math.max(v,this.minZoom),this.maxZoom);this._zoom!==c&&(this._unmodified=!1,this._zoom=c,this.scale=this.zoomScale(c),this.tileZoom=Math.floor(c),this.zoomFraction=c-this.tileZoom,this._constrain(),this._calcMatrices())},Xo.center.get=function(){return this._center},Xo.center.set=function(v){v.lat===this._center.lat&&v.lng===this._center.lng||(this._unmodified=!1,this._center=v,this._constrain(),this._calcMatrices())},Xo.padding.get=function(){return this._edgeInsets.toJSON()},Xo.padding.set=function(v){this._edgeInsets.equals(v)||(this._unmodified=!1,this._edgeInsets.interpolate(this._edgeInsets,v,1),this._calcMatrices())},Xo.centerPoint.get=function(){return this._edgeInsets.getCenter(this.width,this.height)},Ai.prototype.isPaddingEqual=function(v){return this._edgeInsets.equals(v)},Ai.prototype.interpolatePadding=function(v,c,l){this._unmodified=!1,this._edgeInsets.interpolate(v,c,l),this._constrain(),this._calcMatrices()},Ai.prototype.coveringZoomLevel=function(v){var c=(v.roundZoom?Math.round:Math.floor)(this.zoom+this.scaleZoom(this.tileSize/v.tileSize));return Math.max(0,c)},Ai.prototype.getVisibleUnwrappedCoordinates=function(v){var c=[new u.UnwrappedTileID(0,v)];if(this._renderWorldCopies)for(var l=this.pointCoordinate(new u.Point(0,0)),g=this.pointCoordinate(new u.Point(this.width,0)),F=this.pointCoordinate(new u.Point(this.width,this.height)),Q=this.pointCoordinate(new u.Point(0,this.height)),se=Math.floor(Math.min(l.x,g.x,F.x,Q.x)),_e=Math.floor(Math.max(l.x,g.x,F.x,Q.x)),mt=se-1;mt<=_e+1;mt++)mt!==0&&c.push(new u.UnwrappedTileID(mt,v));return c},Ai.prototype.coveringTiles=function(v){var c=this.coveringZoomLevel(v),l=c;if(v.minzoom!==void 0&&c<v.minzoom)return[];v.maxzoom!==void 0&&c>v.maxzoom&&(c=v.maxzoom);var g=u.MercatorCoordinate.fromLngLat(this.center),F=Math.pow(2,c),Q=[F*g.x,F*g.y,0],se=Oa.fromInvProjectionMatrix(this.invProjMatrix,this.worldSize,c),_e=v.minzoom||0;this.pitch<=60&&this._edgeInsets.top<.1&&(_e=c);var mt=function(Di){return{aabb:new oa([Di*F,0,0],[(Di+1)*F,F,0]),zoom:0,x:0,y:0,wrap:Di,fullyVisible:!1}},Rt=[],ir=[],rr=c,ur=v.reparseOverscaled?l:c;if(this._renderWorldCopies)for(var kr=1;kr<=3;kr++)Rt.push(mt(-kr)),Rt.push(mt(kr));for(Rt.push(mt(0));Rt.length>0;){var Nr=Rt.pop(),Xr=Nr.x,Br=Nr.y,Hr=Nr.fullyVisible;if(!Hr){var hn=Nr.aabb.intersects(se);if(hn===0)continue;Hr=hn===2}var pn=Nr.aabb.distanceX(Q),la=Nr.aabb.distanceY(Q),Gn=Math.max(Math.abs(pn),Math.abs(la));if(Nr.zoom===rr||Gn>3+(1<<rr-Nr.zoom)-2&&Nr.zoom>=_e)ir.push({tileID:new u.OverscaledTileID(Nr.zoom===rr?ur:Nr.zoom,Nr.wrap,Nr.zoom,Xr,Br),distanceSq:u.sqrLen([Q[0]-.5-Xr,Q[1]-.5-Br])});else for(var aa=0;aa<4;aa++){var sa=(Xr<<1)+aa%2,Ya=(Br<<1)+(aa>>1);Rt.push({aabb:Nr.aabb.quadrant(aa),zoom:Nr.zoom+1,x:sa,y:Ya,wrap:Nr.wrap,fullyVisible:Hr})}}return ir.sort(function(Ka,Di){return Ka.distanceSq-Di.distanceSq}).map(function(Ka){return Ka.tileID})},Ai.prototype.resize=function(v,c){this.width=v,this.height=c,this.pixelsToGLUnits=[2/v,-2/c],this._constrain(),this._calcMatrices()},Xo.unmodified.get=function(){return this._unmodified},Ai.prototype.zoomScale=function(v){return Math.pow(2,v)},Ai.prototype.scaleZoom=function(v){return Math.log(v)/Math.LN2},Ai.prototype.project=function(v){var c=u.clamp(v.lat,-this.maxValidLatitude,this.maxValidLatitude);return new u.Point(u.mercatorXfromLng(v.lng)*this.worldSize,u.mercatorYfromLat(c)*this.worldSize)},Ai.prototype.unproject=function(v){return new u.MercatorCoordinate(v.x/this.worldSize,v.y/this.worldSize).toLngLat()},Xo.point.get=function(){return this.project(this.center)},Ai.prototype.setLocationAtPoint=function(v,c){var l=this.pointCoordinate(c),g=this.pointCoordinate(this.centerPoint),F=this.locationCoordinate(v),Q=new u.MercatorCoordinate(F.x-(l.x-g.x),F.y-(l.y-g.y));this.center=this.coordinateLocation(Q),this._renderWorldCopies&&(this.center=this.center.wrap())},Ai.prototype.locationPoint=function(v){return this.coordinatePoint(this.locationCoordinate(v))},Ai.prototype.pointLocation=function(v){return this.coordinateLocation(this.pointCoordinate(v))},Ai.prototype.locationCoordinate=function(v){return u.MercatorCoordinate.fromLngLat(v)},Ai.prototype.coordinateLocation=function(v){return v.toLngLat()},Ai.prototype.pointCoordinate=function(v){var c=[v.x,v.y,0,1],l=[v.x,v.y,1,1];u.transformMat4(c,c,this.pixelMatrixInverse),u.transformMat4(l,l,this.pixelMatrixInverse);var g=c[3],F=l[3],Q=c[1]/g,se=l[1]/F,_e=c[2]/g,mt=l[2]/F,Rt=_e===mt?0:(0-_e)/(mt-_e);return new u.MercatorCoordinate(u.number(c[0]/g,l[0]/F,Rt)/this.worldSize,u.number(Q,se,Rt)/this.worldSize)},Ai.prototype.coordinatePoint=function(v){var c=[v.x*this.worldSize,v.y*this.worldSize,0,1];return u.transformMat4(c,c,this.pixelMatrix),new u.Point(c[0]/c[3],c[1]/c[3])},Ai.prototype.getBounds=function(){return new u.LngLatBounds().extend(this.pointLocation(new u.Point(0,0))).extend(this.pointLocation(new u.Point(this.width,0))).extend(this.pointLocation(new u.Point(this.width,this.height))).extend(this.pointLocation(new u.Point(0,this.height)))},Ai.prototype.getMaxBounds=function(){return this.latRange&&this.latRange.length===2&&this.lngRange&&this.lngRange.length===2?new u.LngLatBounds([this.lngRange[0],this.latRange[0]],[this.lngRange[1],this.latRange[1]]):null},Ai.prototype.setMaxBounds=function(v){v?(this.lngRange=[v.getWest(),v.getEast()],this.latRange=[v.getSouth(),v.getNorth()],this._constrain()):(this.lngRange=null,this.latRange=[-this.maxValidLatitude,this.maxValidLatitude])},Ai.prototype.calculatePosMatrix=function(v,c){c===void 0&&(c=!1);var l=v.key,g=c?this._alignedPosMatrixCache:this._posMatrixCache;if(g[l])return g[l];var F=v.canonical,Q=this.worldSize/this.zoomScale(F.z),se=F.x+Math.pow(2,F.z)*v.wrap,_e=u.identity(new Float64Array(16));return u.translate(_e,_e,[se*Q,F.y*Q,0]),u.scale(_e,_e,[Q/u.EXTENT,Q/u.EXTENT,1]),u.multiply(_e,c?this.alignedProjMatrix:this.projMatrix,_e),g[l]=new Float32Array(_e),g[l]},Ai.prototype.customLayerMatrix=function(){return this.mercatorMatrix.slice()},Ai.prototype._constrain=function(){if(this.center&&this.width&&this.height&&!this._constraining){this._constraining=!0;var v,c,l,g,F=-90,Q=90,se=-180,_e=180,mt=this.size,Rt=this._unmodified;if(this.latRange){var ir=this.latRange;F=u.mercatorYfromLat(ir[1])*this.worldSize,v=(Q=u.mercatorYfromLat(ir[0])*this.worldSize)-F<mt.y?mt.y/(Q-F):0}if(this.lngRange){var rr=this.lngRange;se=u.mercatorXfromLng(rr[0])*this.worldSize,c=(_e=u.mercatorXfromLng(rr[1])*this.worldSize)-se<mt.x?mt.x/(_e-se):0}var ur=this.point,kr=Math.max(c||0,v||0);if(kr)return this.center=this.unproject(new u.Point(c?(_e+se)/2:ur.x,v?(Q+F)/2:ur.y)),this.zoom+=this.scaleZoom(kr),this._unmodified=Rt,void(this._constraining=!1);if(this.latRange){var Nr=ur.y,Xr=mt.y/2;Nr-Xr<F&&(g=F+Xr),Nr+Xr>Q&&(g=Q-Xr)}if(this.lngRange){var Br=ur.x,Hr=mt.x/2;Br-Hr<se&&(l=se+Hr),Br+Hr>_e&&(l=_e-Hr)}l===void 0&&g===void 0||(this.center=this.unproject(new u.Point(l!==void 0?l:ur.x,g!==void 0?g:ur.y))),this._unmodified=Rt,this._constraining=!1}},Ai.prototype._calcMatrices=function(){if(this.height){var v=this.centerOffset;this.cameraToCenterDistance=.5/Math.tan(this._fov/2)*this.height;var c=Math.PI/2+this._pitch,l=this._fov*(.5+v.y/this.height),g=Math.sin(l)*this.cameraToCenterDistance/Math.sin(u.clamp(Math.PI-c-l,.01,Math.PI-.01)),F=this.point,Q=F.x,se=F.y,_e=1.01*(Math.cos(Math.PI/2-this._pitch)*g+this.cameraToCenterDistance),mt=this.height/50,Rt=new Float64Array(16);u.perspective(Rt,this._fov,this.width/this.height,mt,_e),Rt[8]=2*-v.x/this.width,Rt[9]=2*v.y/this.height,u.scale(Rt,Rt,[1,-1,1]),u.translate(Rt,Rt,[0,0,-this.cameraToCenterDistance]),u.rotateX(Rt,Rt,this._pitch),u.rotateZ(Rt,Rt,this.angle),u.translate(Rt,Rt,[-Q,-se,0]),this.mercatorMatrix=u.scale([],Rt,[this.worldSize,this.worldSize,this.worldSize]),u.scale(Rt,Rt,[1,1,u.mercatorZfromAltitude(1,this.center.lat)*this.worldSize,1]),this.projMatrix=Rt,this.invProjMatrix=u.invert([],this.projMatrix);var ir=this.width%2/2,rr=this.height%2/2,ur=Math.cos(this.angle),kr=Math.sin(this.angle),Nr=Q-Math.round(Q)+ur*ir+kr*rr,Xr=se-Math.round(se)+ur*rr+kr*ir,Br=new Float64Array(Rt);if(u.translate(Br,Br,[Nr>.5?Nr-1:Nr,Xr>.5?Xr-1:Xr,0]),this.alignedProjMatrix=Br,Rt=u.create(),u.scale(Rt,Rt,[this.width/2,-this.height/2,1]),u.translate(Rt,Rt,[1,-1,0]),this.labelPlaneMatrix=Rt,Rt=u.create(),u.scale(Rt,Rt,[1,-1,1]),u.translate(Rt,Rt,[-1,-1,0]),u.scale(Rt,Rt,[2/this.width,2/this.height,1]),this.glCoordMatrix=Rt,this.pixelMatrix=u.multiply(new Float64Array(16),this.labelPlaneMatrix,this.projMatrix),!(Rt=u.invert(new Float64Array(16),this.pixelMatrix)))throw new Error("failed to invert matrix");this.pixelMatrixInverse=Rt,this._posMatrixCache={},this._alignedPosMatrixCache={}}},Ai.prototype.maxPitchScaleFactor=function(){if(!this.pixelMatrixInverse)return 1;var v=this.pointCoordinate(new u.Point(0,0)),c=[v.x*this.worldSize,v.y*this.worldSize,0,1];return u.transformMat4(c,c,this.pixelMatrix)[3]/this.cameraToCenterDistance},Ai.prototype.getCameraPoint=function(){var v=Math.tan(this._pitch)*(this.cameraToCenterDistance||1);return this.centerPoint.add(new u.Point(0,v))},Ai.prototype.getCameraQueryGeometry=function(v){var c=this.getCameraPoint();if(v.length===1)return[v[0],c];for(var l=c.x,g=c.y,F=c.x,Q=c.y,se=0,_e=v;se<_e.length;se+=1){var mt=_e[se];l=Math.min(l,mt.x),g=Math.min(g,mt.y),F=Math.max(F,mt.x),Q=Math.max(Q,mt.y)}return[new u.Point(l,g),new u.Point(F,g),new u.Point(F,Q),new u.Point(l,Q),new u.Point(l,g)]},Object.defineProperties(Ai.prototype,Xo);var ol=function(c){var l,g,F,Q;this._hashName=c&&encodeURIComponent(c),u.bindAll(["_getCurrentHash","_onHashChange","_updateHash"],this),this._updateHash=(l=this._updateHashUnthrottled.bind(this),g=!1,F=null,Q=function(){F=null,g&&(l(),F=setTimeout(Q,300),g=!1)},function(){return g=!0,F||Q(),F})};ol.prototype.addTo=function(v){return this._map=v,u.window.addEventListener("hashchange",this._onHashChange,!1),this._map.on("moveend",this._updateHash),this},ol.prototype.remove=function(){return u.window.removeEventListener("hashchange",this._onHashChange,!1),this._map.off("moveend",this._updateHash),clearTimeout(this._updateHash()),delete this._map,this},ol.prototype.getHashString=function(v){var c=this._map.getCenter(),l=Math.round(100*this._map.getZoom())/100,g=Math.ceil((l*Math.LN2+Math.log(512/360/.5))/Math.LN10),F=Math.pow(10,g),Q=Math.round(c.lng*F)/F,se=Math.round(c.lat*F)/F,_e=this._map.getBearing(),mt=this._map.getPitch(),Rt="";if(Rt+=v?"/"+Q+"/"+se+"/"+l:l+"/"+se+"/"+Q,(_e||mt)&&(Rt+="/"+Math.round(10*_e)/10),mt&&(Rt+="/"+Math.round(mt)),this._hashName){var ir=this._hashName,rr=!1,ur=u.window.location.hash.slice(1).split("&").map(function(kr){var Nr=kr.split("=")[0];return Nr===ir?(rr=!0,Nr+"="+Rt):kr}).filter(function(kr){return kr});return rr||ur.push(ir+"="+Rt),"#"+ur.join("&")}return"#"+Rt},ol.prototype._getCurrentHash=function(){var v,c=this,l=u.window.location.hash.replace("#","");return this._hashName?(l.split("&").map(function(g){return g.split("=")}).forEach(function(g){g[0]===c._hashName&&(v=g)}),(v&&v[1]||"").split("/")):l.split("/")},ol.prototype._onHashChange=function(){var v=this._getCurrentHash();if(v.length>=3&&!v.some(function(l){return isNaN(l)})){var c=this._map.dragRotate.isEnabled()&&this._map.touchZoomRotate.isEnabled()?+(v[3]||0):this._map.getBearing();return this._map.jumpTo({center:[+v[2],+v[1]],zoom:+v[0],bearing:c,pitch:+(v[4]||0)}),!0}return!1},ol.prototype._updateHashUnthrottled=function(){var v=u.window.location.href.replace(/(#.+)?$/,this.getHashString());try{u.window.history.replaceState(u.window.history.state,null,v)}catch(c){}};var dl={linearity:.3,easing:u.bezier(0,0,.3,1)},gd=u.extend({deceleration:2500,maxSpeed:1400},dl),Ld=u.extend({deceleration:20,maxSpeed:1400},dl),lf=u.extend({deceleration:1e3,maxSpeed:360},dl),Jh=u.extend({deceleration:1e3,maxSpeed:90},dl),_h=function(c){this._map=c,this.clear()};function uf(v,c){(!v.duration||v.duration<c.duration)&&(v.duration=c.duration,v.easing=c.easing)}function Pf(v,c,l){var g=l.maxSpeed,F=l.linearity,Q=l.deceleration,se=u.clamp(v*F/(c/1e3),-g,g),_e=Math.abs(se)/(Q*F);return{easing:l.easing,duration:1e3*_e,amount:se*(_e/2)}}_h.prototype.clear=function(){this._inertiaBuffer=[]},_h.prototype.record=function(v){this._drainInertiaBuffer(),this._inertiaBuffer.push({time:u.browser.now(),settings:v})},_h.prototype._drainInertiaBuffer=function(){for(var v=this._inertiaBuffer,c=u.browser.now();v.length>0&&c-v[0].time>160;)v.shift()},_h.prototype._onMoveEnd=function(v){if(this._drainInertiaBuffer(),!(this._inertiaBuffer.length<2)){for(var c={zoom:0,bearing:0,pitch:0,pan:new u.Point(0,0),pinchAround:void 0,around:void 0},l=0,g=this._inertiaBuffer;l<g.length;l+=1){var F=g[l].settings;c.zoom+=F.zoomDelta||0,c.bearing+=F.bearingDelta||0,c.pitch+=F.pitchDelta||0,F.panDelta&&c.pan._add(F.panDelta),F.around&&(c.around=F.around),F.pinchAround&&(c.pinchAround=F.pinchAround)}var Q=this._inertiaBuffer[this._inertiaBuffer.length-1].time-this._inertiaBuffer[0].time,se={};if(c.pan.mag()){var _e=Pf(c.pan.mag(),Q,u.extend({},gd,v||{}));se.offset=c.pan.mult(_e.amount/c.pan.mag()),se.center=this._map.transform.center,uf(se,_e)}if(c.zoom){var mt=Pf(c.zoom,Q,Ld);se.zoom=this._map.transform.zoom+mt.amount,uf(se,mt)}if(c.bearing){var Rt=Pf(c.bearing,Q,lf);se.bearing=this._map.transform.bearing+u.clamp(Rt.amount,-179,179),uf(se,Rt)}if(c.pitch){var ir=Pf(c.pitch,Q,Jh);se.pitch=this._map.transform.pitch+ir.amount,uf(se,ir)}if(se.zoom||se.bearing){var rr=c.pinchAround===void 0?c.around:c.pinchAround;se.around=rr?this._map.unproject(rr):this._map.getCenter()}return this.clear(),u.extend(se,{noMoveStart:!0})}};var ru=function(v){function c(g,F,Q,se){se===void 0&&(se={});var _e=k.mousePos(F.getCanvasContainer(),Q),mt=F.unproject(_e);v.call(this,g,u.extend({point:_e,lngLat:mt,originalEvent:Q},se)),this._defaultPrevented=!1,this.target=F}v&&(c.__proto__=v),(c.prototype=Object.create(v&&v.prototype)).constructor=c;var l={defaultPrevented:{configurable:!0}};return c.prototype.preventDefault=function(){this._defaultPrevented=!0},l.defaultPrevented.get=function(){return this._defaultPrevented},Object.defineProperties(c.prototype,l),c}(u.Event),hl=function(v){function c(g,F,Q){var se=g==="touchend"?Q.changedTouches:Q.touches,_e=k.touchPos(F.getCanvasContainer(),se),mt=_e.map(function(rr){return F.unproject(rr)}),Rt=_e.reduce(function(rr,ur,kr,Nr){return rr.add(ur.div(Nr.length))},new u.Point(0,0)),ir=F.unproject(Rt);v.call(this,g,{points:_e,point:Rt,lngLats:mt,lngLat:ir,originalEvent:Q}),this._defaultPrevented=!1}v&&(c.__proto__=v),(c.prototype=Object.create(v&&v.prototype)).constructor=c;var l={defaultPrevented:{configurable:!0}};return c.prototype.preventDefault=function(){this._defaultPrevented=!0},l.defaultPrevented.get=function(){return this._defaultPrevented},Object.defineProperties(c.prototype,l),c}(u.Event),dh=function(v){function c(g,F,Q){v.call(this,g,{originalEvent:Q}),this._defaultPrevented=!1}v&&(c.__proto__=v),(c.prototype=Object.create(v&&v.prototype)).constructor=c;var l={defaultPrevented:{configurable:!0}};return c.prototype.preventDefault=function(){this._defaultPrevented=!0},l.defaultPrevented.get=function(){return this._defaultPrevented},Object.defineProperties(c.prototype,l),c}(u.Event),Al=function(c,l){this._map=c,this._clickTolerance=l.clickTolerance};Al.prototype.reset=function(){delete this._mousedownPos},Al.prototype.wheel=function(v){return this._firePreventable(new dh(v.type,this._map,v))},Al.prototype.mousedown=function(v,c){return this._mousedownPos=c,this._firePreventable(new ru(v.type,this._map,v))},Al.prototype.mouseup=function(v){this._map.fire(new ru(v.type,this._map,v))},Al.prototype.click=function(v,c){this._mousedownPos&&this._mousedownPos.dist(c)>=this._clickTolerance||this._map.fire(new ru(v.type,this._map,v))},Al.prototype.dblclick=function(v){return this._firePreventable(new ru(v.type,this._map,v))},Al.prototype.mouseover=function(v){this._map.fire(new ru(v.type,this._map,v))},Al.prototype.mouseout=function(v){this._map.fire(new ru(v.type,this._map,v))},Al.prototype.touchstart=function(v){return this._firePreventable(new hl(v.type,this._map,v))},Al.prototype.touchmove=function(v){this._map.fire(new hl(v.type,this._map,v))},Al.prototype.touchend=function(v){this._map.fire(new hl(v.type,this._map,v))},Al.prototype.touchcancel=function(v){this._map.fire(new hl(v.type,this._map,v))},Al.prototype._firePreventable=function(v){if(this._map.fire(v),v.defaultPrevented)return{}},Al.prototype.isEnabled=function(){return!0},Al.prototype.isActive=function(){return!1},Al.prototype.enable=function(){},Al.prototype.disable=function(){};var bi=function(c){this._map=c};bi.prototype.reset=function(){this._delayContextMenu=!1,delete this._contextMenuEvent},bi.prototype.mousemove=function(v){this._map.fire(new ru(v.type,this._map,v))},bi.prototype.mousedown=function(){this._delayContextMenu=!0},bi.prototype.mouseup=function(){this._delayContextMenu=!1,this._contextMenuEvent&&(this._map.fire(new ru("contextmenu",this._map,this._contextMenuEvent)),delete this._contextMenuEvent)},bi.prototype.contextmenu=function(v){this._delayContextMenu?this._contextMenuEvent=v:this._map.fire(new ru(v.type,this._map,v)),this._map.listens("contextmenu")&&v.preventDefault()},bi.prototype.isEnabled=function(){return!0},bi.prototype.isActive=function(){return!1},bi.prototype.enable=function(){},bi.prototype.disable=function(){};var Kc=function(c,l){this._map=c,this._el=c.getCanvasContainer(),this._container=c.getContainer(),this._clickTolerance=l.clickTolerance||1};function qh(v,c){for(var l={},g=0;g<v.length;g++)l[v[g].identifier]=c[g];return l}Kc.prototype.isEnabled=function(){return!!this._enabled},Kc.prototype.isActive=function(){return!!this._active},Kc.prototype.enable=function(){this.isEnabled()||(this._enabled=!0)},Kc.prototype.disable=function(){this.isEnabled()&&(this._enabled=!1)},Kc.prototype.mousedown=function(v,c){this.isEnabled()&&v.shiftKey&&v.button===0&&(k.disableDrag(),this._startPos=this._lastPos=c,this._active=!0)},Kc.prototype.mousemoveWindow=function(v,c){if(this._active){var l=c;if(!(this._lastPos.equals(l)||!this._box&&l.dist(this._startPos)<this._clickTolerance)){var g=this._startPos;this._lastPos=l,this._box||(this._box=k.create("div","mapboxgl-boxzoom",this._container),this._container.classList.add("mapboxgl-crosshair"),this._fireEvent("boxzoomstart",v));var F=Math.min(g.x,l.x),Q=Math.max(g.x,l.x),se=Math.min(g.y,l.y),_e=Math.max(g.y,l.y);k.setTransform(this._box,"translate("+F+"px,"+se+"px)"),this._box.style.width=Q-F+"px",this._box.style.height=_e-se+"px"}}},Kc.prototype.mouseupWindow=function(v,c){var l=this;if(this._active&&v.button===0){var g=this._startPos,F=c;if(this.reset(),k.suppressClick(),g.x!==F.x||g.y!==F.y)return this._map.fire(new u.Event("boxzoomend",{originalEvent:v})),{cameraAnimation:function(se){return se.fitScreenCoordinates(g,F,l._map.getBearing(),{linear:!0})}};this._fireEvent("boxzoomcancel",v)}},Kc.prototype.keydown=function(v){this._active&&v.keyCode===27&&(this.reset(),this._fireEvent("boxzoomcancel",v))},Kc.prototype.blur=function(){this.reset()},Kc.prototype.reset=function(){this._active=!1,this._container.classList.remove("mapboxgl-crosshair"),this._box&&(k.remove(this._box),this._box=null),k.enableDrag(),delete this._startPos,delete this._lastPos},Kc.prototype._fireEvent=function(v,c){return this._map.fire(new u.Event(v,{originalEvent:c}))};var Ih=function(c){this.reset(),this.numTouches=c.numTouches};Ih.prototype.reset=function(){delete this.centroid,delete this.startTime,delete this.touches,this.aborted=!1},Ih.prototype.touchstart=function(v,c,l){(this.centroid||l.length>this.numTouches)&&(this.aborted=!0),this.aborted||(this.startTime===void 0&&(this.startTime=v.timeStamp),l.length===this.numTouches&&(this.centroid=function(g){for(var F=new u.Point(0,0),Q=0,se=g;Q<se.length;Q+=1)F._add(se[Q]);return F.div(g.length)}(c),this.touches=qh(l,c)))},Ih.prototype.touchmove=function(v,c,l){if(!this.aborted&&this.centroid){var g=qh(l,c);for(var F in this.touches){var Q=g[F];(!Q||Q.dist(this.touches[F])>30)&&(this.aborted=!0)}}},Ih.prototype.touchend=function(v,c,l){if((!this.centroid||v.timeStamp-this.startTime>500)&&(this.aborted=!0),l.length===0){var g=!this.aborted&&this.centroid;if(this.reset(),g)return g}};var cf=function(c){this.singleTap=new Ih(c),this.numTaps=c.numTaps,this.reset()};cf.prototype.reset=function(){this.lastTime=1/0,delete this.lastTap,this.count=0,this.singleTap.reset()},cf.prototype.touchstart=function(v,c,l){this.singleTap.touchstart(v,c,l)},cf.prototype.touchmove=function(v,c,l){this.singleTap.touchmove(v,c,l)},cf.prototype.touchend=function(v,c,l){var g=this.singleTap.touchend(v,c,l);if(g){var F=v.timeStamp-this.lastTime<500,Q=!this.lastTap||this.lastTap.dist(g)<30;if(F&&Q||this.reset(),this.count++,this.lastTime=v.timeStamp,this.lastTap=g,this.count===this.numTaps)return this.reset(),g}};var Yu=function(){this._zoomIn=new cf({numTouches:1,numTaps:2}),this._zoomOut=new cf({numTouches:2,numTaps:1}),this.reset()};Yu.prototype.reset=function(){this._active=!1,this._zoomIn.reset(),this._zoomOut.reset()},Yu.prototype.touchstart=function(v,c,l){this._zoomIn.touchstart(v,c,l),this._zoomOut.touchstart(v,c,l)},Yu.prototype.touchmove=function(v,c,l){this._zoomIn.touchmove(v,c,l),this._zoomOut.touchmove(v,c,l)},Yu.prototype.touchend=function(v,c,l){var g=this,F=this._zoomIn.touchend(v,c,l),Q=this._zoomOut.touchend(v,c,l);return F?(this._active=!0,v.preventDefault(),setTimeout(function(){return g.reset()},0),{cameraAnimation:function(_e){return _e.easeTo({duration:300,zoom:_e.getZoom()+1,around:_e.unproject(F)},{originalEvent:v})}}):Q?(this._active=!0,v.preventDefault(),setTimeout(function(){return g.reset()},0),{cameraAnimation:function(_e){return _e.easeTo({duration:300,zoom:_e.getZoom()-1,around:_e.unproject(Q)},{originalEvent:v})}}):void 0},Yu.prototype.touchcancel=function(){this.reset()},Yu.prototype.enable=function(){this._enabled=!0},Yu.prototype.disable=function(){this._enabled=!1,this.reset()},Yu.prototype.isEnabled=function(){return this._enabled},Yu.prototype.isActive=function(){return this._active};var hh={0:1,2:2},gi=function(c){this.reset(),this._clickTolerance=c.clickTolerance||1};gi.prototype.blur=function(){this.reset()},gi.prototype.reset=function(){this._active=!1,this._moved=!1,delete this._lastPoint,delete this._eventButton},gi.prototype._correctButton=function(v,c){return!1},gi.prototype._move=function(v,c){return{}},gi.prototype.mousedown=function(v,c){if(!this._lastPoint){var l=k.mouseButton(v);this._correctButton(v,l)&&(this._lastPoint=c,this._eventButton=l)}},gi.prototype.mousemoveWindow=function(v,c){var l=this._lastPoint;if(l){if(v.preventDefault(),function(g,F){var Q=hh[F];return g.buttons===void 0||(g.buttons&Q)!==Q}(v,this._eventButton))this.reset();else if(this._moved||!(c.dist(l)<this._clickTolerance))return this._moved=!0,this._lastPoint=c,this._move(l,c)}},gi.prototype.mouseupWindow=function(v){this._lastPoint&&k.mouseButton(v)===this._eventButton&&(this._moved&&k.suppressClick(),this.reset())},gi.prototype.enable=function(){this._enabled=!0},gi.prototype.disable=function(){this._enabled=!1,this.reset()},gi.prototype.isEnabled=function(){return this._enabled},gi.prototype.isActive=function(){return this._active};var td=function(v){function c(){v.apply(this,arguments)}return v&&(c.__proto__=v),(c.prototype=Object.create(v&&v.prototype)).constructor=c,c.prototype.mousedown=function(l,g){v.prototype.mousedown.call(this,l,g),this._lastPoint&&(this._active=!0)},c.prototype._correctButton=function(l,g){return g===0&&!l.ctrlKey},c.prototype._move=function(l,g){return{around:g,panDelta:g.sub(l)}},c}(gi),Uu=function(v){function c(){v.apply(this,arguments)}return v&&(c.__proto__=v),(c.prototype=Object.create(v&&v.prototype)).constructor=c,c.prototype._correctButton=function(l,g){return g===0&&l.ctrlKey||g===2},c.prototype._move=function(l,g){var F=.8*(g.x-l.x);if(F)return this._active=!0,{bearingDelta:F}},c.prototype.contextmenu=function(l){l.preventDefault()},c}(gi),ep=function(v){function c(){v.apply(this,arguments)}return v&&(c.__proto__=v),(c.prototype=Object.create(v&&v.prototype)).constructor=c,c.prototype._correctButton=function(l,g){return g===0&&l.ctrlKey||g===2},c.prototype._move=function(l,g){var F=-.5*(g.y-l.y);if(F)return this._active=!0,{pitchDelta:F}},c.prototype.contextmenu=function(l){l.preventDefault()},c}(gi),tc=function(c){this._minTouches=1,this._clickTolerance=c.clickTolerance||1,this.reset()};tc.prototype.reset=function(){this._active=!1,this._touches={},this._sum=new u.Point(0,0)},tc.prototype.touchstart=function(v,c,l){return this._calculateTransform(v,c,l)},tc.prototype.touchmove=function(v,c,l){if(this._active&&!(l.length<this._minTouches))return v.preventDefault(),this._calculateTransform(v,c,l)},tc.prototype.touchend=function(v,c,l){this._calculateTransform(v,c,l),this._active&&l.length<this._minTouches&&this.reset()},tc.prototype.touchcancel=function(){this.reset()},tc.prototype._calculateTransform=function(v,c,l){l.length>0&&(this._active=!0);var g=qh(l,c),F=new u.Point(0,0),Q=new u.Point(0,0),se=0;for(var _e in g){var mt=g[_e],Rt=this._touches[_e];Rt&&(F._add(mt),Q._add(mt.sub(Rt)),se++,g[_e]=mt)}if(this._touches=g,!(se<this._minTouches)&&Q.mag()){var ir=Q.div(se);if(this._sum._add(ir),!(this._sum.mag()<this._clickTolerance))return{around:F.div(se),panDelta:ir}}},tc.prototype.enable=function(){this._enabled=!0},tc.prototype.disable=function(){this._enabled=!1,this.reset()},tc.prototype.isEnabled=function(){return this._enabled},tc.prototype.isActive=function(){return this._active};var gu=function(){this.reset()};function Zc(v,c,l){for(var g=0;g<v.length;g++)if(v[g].identifier===l)return c[g]}function wf(v,c){return Math.log(v/c)/Math.LN2}gu.prototype.reset=function(){this._active=!1,delete this._firstTwoTouches},gu.prototype._start=function(v){},gu.prototype._move=function(v,c,l){return{}},gu.prototype.touchstart=function(v,c,l){this._firstTwoTouches||l.length<2||(this._firstTwoTouches=[l[0].identifier,l[1].identifier],this._start([c[0],c[1]]))},gu.prototype.touchmove=function(v,c,l){if(this._firstTwoTouches){v.preventDefault();var g=this._firstTwoTouches,F=g[1],Q=Zc(l,c,g[0]),se=Zc(l,c,F);if(Q&&se){var _e=this._aroundCenter?null:Q.add(se).div(2);return this._move([Q,se],_e,v)}}},gu.prototype.touchend=function(v,c,l){if(this._firstTwoTouches){var g=this._firstTwoTouches,F=g[1],Q=Zc(l,c,g[0]),se=Zc(l,c,F);Q&&se||(this._active&&k.suppressClick(),this.reset())}},gu.prototype.touchcancel=function(){this.reset()},gu.prototype.enable=function(v){this._enabled=!0,this._aroundCenter=!!v&&v.around==="center"},gu.prototype.disable=function(){this._enabled=!1,this.reset()},gu.prototype.isEnabled=function(){return this._enabled},gu.prototype.isActive=function(){return this._active};var nu=function(v){function c(){v.apply(this,arguments)}return v&&(c.__proto__=v),(c.prototype=Object.create(v&&v.prototype)).constructor=c,c.prototype.reset=function(){v.prototype.reset.call(this),delete this._distance,delete this._startDistance},c.prototype._start=function(l){this._startDistance=this._distance=l[0].dist(l[1])},c.prototype._move=function(l,g){var F=this._distance;if(this._distance=l[0].dist(l[1]),this._active||!(Math.abs(wf(this._distance,this._startDistance))<.1))return this._active=!0,{zoomDelta:wf(this._distance,F),pinchAround:g}},c}(gu);function Wf(v,c){return 180*v.angleWith(c)/Math.PI}var Qd=function(v){function c(){v.apply(this,arguments)}return v&&(c.__proto__=v),(c.prototype=Object.create(v&&v.prototype)).constructor=c,c.prototype.reset=function(){v.prototype.reset.call(this),delete this._minDiameter,delete this._startVector,delete this._vector},c.prototype._start=function(l){this._startVector=this._vector=l[0].sub(l[1]),this._minDiameter=l[0].dist(l[1])},c.prototype._move=function(l,g){var F=this._vector;if(this._vector=l[0].sub(l[1]),this._active||!this._isBelowThreshold(this._vector))return this._active=!0,{bearingDelta:Wf(this._vector,F),pinchAround:g}},c.prototype._isBelowThreshold=function(l){this._minDiameter=Math.min(this._minDiameter,l.mag());var g=25/(Math.PI*this._minDiameter)*360,F=Wf(l,this._startVector);return Math.abs(F)<g},c}(gu);function Gf(v){return Math.abs(v.y)>Math.abs(v.x)}var Rh=function(v){function c(){v.apply(this,arguments)}return v&&(c.__proto__=v),(c.prototype=Object.create(v&&v.prototype)).constructor=c,c.prototype.reset=function(){v.prototype.reset.call(this),this._valid=void 0,delete this._firstMove,delete this._lastPoints},c.prototype._start=function(l){this._lastPoints=l,Gf(l[0].sub(l[1]))&&(this._valid=!1)},c.prototype._move=function(l,g,F){var Q=l[0].sub(this._lastPoints[0]),se=l[1].sub(this._lastPoints[1]);if(this._valid=this.gestureBeginsVertically(Q,se,F.timeStamp),this._valid)return this._lastPoints=l,this._active=!0,{pitchDelta:(Q.y+se.y)/2*-.5}},c.prototype.gestureBeginsVertically=function(l,g,F){if(this._valid!==void 0)return this._valid;var Q=l.mag()>=2,se=g.mag()>=2;if(Q||se){if(!Q||!se)return this._firstMove===void 0&&(this._firstMove=F),F-this._firstMove<100&&void 0;var _e=l.y>0==g.y>0;return Gf(l)&&Gf(g)&&_e}},c}(gu),Jd={panStep:100,bearingStep:15,pitchStep:10},Tf=function(){var c=Jd;this._panStep=c.panStep,this._bearingStep=c.bearingStep,this._pitchStep=c.pitchStep,this._rotationDisabled=!1};function gc(v){return v*(2-v)}Tf.prototype.blur=function(){this.reset()},Tf.prototype.reset=function(){this._active=!1},Tf.prototype.keydown=function(v){var c=this;if(!(v.altKey||v.ctrlKey||v.metaKey)){var l=0,g=0,F=0,Q=0,se=0;switch(v.keyCode){case 61:case 107:case 171:case 187:l=1;break;case 189:case 109:case 173:l=-1;break;case 37:v.shiftKey?g=-1:(v.preventDefault(),Q=-1);break;case 39:v.shiftKey?g=1:(v.preventDefault(),Q=1);break;case 38:v.shiftKey?F=1:(v.preventDefault(),se=-1);break;case 40:v.shiftKey?F=-1:(v.preventDefault(),se=1);break;default:return}return this._rotationDisabled&&(g=0,F=0),{cameraAnimation:function(mt){var Rt=mt.getZoom();mt.easeTo({duration:300,easeId:"keyboardHandler",easing:gc,zoom:l?Math.round(Rt)+l*(v.shiftKey?2:1):Rt,bearing:mt.getBearing()+g*c._bearingStep,pitch:mt.getPitch()+F*c._pitchStep,offset:[-Q*c._panStep,-se*c._panStep],center:mt.getCenter()},{originalEvent:v})}}}},Tf.prototype.enable=function(){this._enabled=!0},Tf.prototype.disable=function(){this._enabled=!1,this.reset()},Tf.prototype.isEnabled=function(){return this._enabled},Tf.prototype.isActive=function(){return this._active},Tf.prototype.disableRotation=function(){this._rotationDisabled=!0},Tf.prototype.enableRotation=function(){this._rotationDisabled=!1};var _s=function(c,l){this._map=c,this._el=c.getCanvasContainer(),this._handler=l,this._delta=0,this._defaultZoomRate=.01,this._wheelZoomRate=1/450,u.bindAll(["_onTimeout"],this)};_s.prototype.setZoomRate=function(v){this._defaultZoomRate=v},_s.prototype.setWheelZoomRate=function(v){this._wheelZoomRate=v},_s.prototype.isEnabled=function(){return!!this._enabled},_s.prototype.isActive=function(){return!!this._active||this._finishTimeout!==void 0},_s.prototype.isZooming=function(){return!!this._zooming},_s.prototype.enable=function(v){this.isEnabled()||(this._enabled=!0,this._aroundCenter=v&&v.around==="center")},_s.prototype.disable=function(){this.isEnabled()&&(this._enabled=!1)},_s.prototype.wheel=function(v){if(this.isEnabled()){var c=v.deltaMode===u.window.WheelEvent.DOM_DELTA_LINE?40*v.deltaY:v.deltaY,l=u.browser.now(),g=l-(this._lastWheelEventTime||0);this._lastWheelEventTime=l,c!==0&&c%4.000244140625==0?this._type="wheel":c!==0&&Math.abs(c)<4?this._type="trackpad":g>400?(this._type=null,this._lastValue=c,this._timeout=setTimeout(this._onTimeout,40,v)):this._type||(this._type=Math.abs(g*c)<200?"trackpad":"wheel",this._timeout&&(clearTimeout(this._timeout),this._timeout=null,c+=this._lastValue)),v.shiftKey&&c&&(c/=4),this._type&&(this._lastWheelEvent=v,this._delta-=c,this._active||this._start(v)),v.preventDefault()}},_s.prototype._onTimeout=function(v){this._type="wheel",this._delta-=this._lastValue,this._active||this._start(v)},_s.prototype._start=function(v){if(this._delta){this._frameId&&(this._frameId=null),this._active=!0,this.isZooming()||(this._zooming=!0),this._finishTimeout&&(clearTimeout(this._finishTimeout),delete this._finishTimeout);var c=k.mousePos(this._el,v);this._around=u.LngLat.convert(this._aroundCenter?this._map.getCenter():this._map.unproject(c)),this._aroundPoint=this._map.transform.locationPoint(this._around),this._frameId||(this._frameId=!0,this._handler._triggerRenderFrame())}},_s.prototype.renderFrame=function(){var v=this;if(this._frameId&&(this._frameId=null,this.isActive())){var c=this._map.transform;if(this._delta!==0){var l=this._type==="wheel"&&Math.abs(this._delta)>4.000244140625?this._wheelZoomRate:this._defaultZoomRate,g=2/(1+Math.exp(-Math.abs(this._delta*l)));this._delta<0&&g!==0&&(g=1/g);var F=typeof this._targetZoom=="number"?c.zoomScale(this._targetZoom):c.scale;this._targetZoom=Math.min(c.maxZoom,Math.max(c.minZoom,c.scaleZoom(F*g))),this._type==="wheel"&&(this._startZoom=c.zoom,this._easing=this._smoothOutEasing(200)),this._delta=0}var Q,se=typeof this._targetZoom=="number"?this._targetZoom:c.zoom,_e=this._startZoom,mt=this._easing,Rt=!1;if(this._type==="wheel"&&_e&&mt){var ir=Math.min((u.browser.now()-this._lastWheelEventTime)/200,1),rr=mt(ir);Q=u.number(_e,se,rr),ir<1?this._frameId||(this._frameId=!0):Rt=!0}else Q=se,Rt=!0;return this._active=!0,Rt&&(this._active=!1,this._finishTimeout=setTimeout(function(){v._zooming=!1,v._handler._triggerRenderFrame(),delete v._targetZoom,delete v._finishTimeout},200)),{noInertia:!0,needsRenderFrame:!Rt,zoomDelta:Q-c.zoom,around:this._aroundPoint,originalEvent:this._lastWheelEvent}}},_s.prototype._smoothOutEasing=function(v){var c=u.ease;if(this._prevEase){var l=this._prevEase,g=(u.browser.now()-l.start)/l.duration,F=l.easing(g+.01)-l.easing(g),Q=.27/Math.sqrt(F*F+1e-4)*.01,se=Math.sqrt(.0729-Q*Q);c=u.bezier(Q,se,.25,1)}return this._prevEase={start:u.browser.now(),duration:v,easing:c},c},_s.prototype.blur=function(){this.reset()},_s.prototype.reset=function(){this._active=!1};var yd=function(c,l){this._clickZoom=c,this._tapZoom=l};yd.prototype.enable=function(){this._clickZoom.enable(),this._tapZoom.enable()},yd.prototype.disable=function(){this._clickZoom.disable(),this._tapZoom.disable()},yd.prototype.isEnabled=function(){return this._clickZoom.isEnabled()&&this._tapZoom.isEnabled()},yd.prototype.isActive=function(){return this._clickZoom.isActive()||this._tapZoom.isActive()};var rd=function(){this.reset()};rd.prototype.reset=function(){this._active=!1},rd.prototype.blur=function(){this.reset()},rd.prototype.dblclick=function(v,c){return v.preventDefault(),{cameraAnimation:function(g){g.easeTo({duration:300,zoom:g.getZoom()+(v.shiftKey?-1:1),around:g.unproject(c)},{originalEvent:v})}}},rd.prototype.enable=function(){this._enabled=!0},rd.prototype.disable=function(){this._enabled=!1,this.reset()},rd.prototype.isEnabled=function(){return this._enabled},rd.prototype.isActive=function(){return this._active};var sl=function(){this._tap=new cf({numTouches:1,numTaps:1}),this.reset()};sl.prototype.reset=function(){this._active=!1,delete this._swipePoint,delete this._swipeTouch,delete this._tapTime,this._tap.reset()},sl.prototype.touchstart=function(v,c,l){this._swipePoint||(this._tapTime&&v.timeStamp-this._tapTime>500&&this.reset(),this._tapTime?l.length>0&&(this._swipePoint=c[0],this._swipeTouch=l[0].identifier):this._tap.touchstart(v,c,l))},sl.prototype.touchmove=function(v,c,l){if(this._tapTime){if(this._swipePoint){if(l[0].identifier!==this._swipeTouch)return;var g=c[0],F=g.y-this._swipePoint.y;return this._swipePoint=g,v.preventDefault(),this._active=!0,{zoomDelta:F/128}}}else this._tap.touchmove(v,c,l)},sl.prototype.touchend=function(v,c,l){this._tapTime?this._swipePoint&&l.length===0&&this.reset():this._tap.touchend(v,c,l)&&(this._tapTime=v.timeStamp)},sl.prototype.touchcancel=function(){this.reset()},sl.prototype.enable=function(){this._enabled=!0},sl.prototype.disable=function(){this._enabled=!1,this.reset()},sl.prototype.isEnabled=function(){return this._enabled},sl.prototype.isActive=function(){return this._active};var Mu=function(c,l,g){this._el=c,this._mousePan=l,this._touchPan=g};Mu.prototype.enable=function(v){this._inertiaOptions=v||{},this._mousePan.enable(),this._touchPan.enable(),this._el.classList.add("mapboxgl-touch-drag-pan")},Mu.prototype.disable=function(){this._mousePan.disable(),this._touchPan.disable(),this._el.classList.remove("mapboxgl-touch-drag-pan")},Mu.prototype.isEnabled=function(){return this._mousePan.isEnabled()&&this._touchPan.isEnabled()},Mu.prototype.isActive=function(){return this._mousePan.isActive()||this._touchPan.isActive()};var ff=function(c,l,g){this._pitchWithRotate=c.pitchWithRotate,this._mouseRotate=l,this._mousePitch=g};ff.prototype.enable=function(){this._mouseRotate.enable(),this._pitchWithRotate&&this._mousePitch.enable()},ff.prototype.disable=function(){this._mouseRotate.disable(),this._mousePitch.disable()},ff.prototype.isEnabled=function(){return this._mouseRotate.isEnabled()&&(!this._pitchWithRotate||this._mousePitch.isEnabled())},ff.prototype.isActive=function(){return this._mouseRotate.isActive()||this._mousePitch.isActive()};var Af=function(c,l,g,F){this._el=c,this._touchZoom=l,this._touchRotate=g,this._tapDragZoom=F,this._rotationDisabled=!1,this._enabled=!0};Af.prototype.enable=function(v){this._touchZoom.enable(v),this._rotationDisabled||this._touchRotate.enable(v),this._tapDragZoom.enable(),this._el.classList.add("mapboxgl-touch-zoom-rotate")},Af.prototype.disable=function(){this._touchZoom.disable(),this._touchRotate.disable(),this._tapDragZoom.disable(),this._el.classList.remove("mapboxgl-touch-zoom-rotate")},Af.prototype.isEnabled=function(){return this._touchZoom.isEnabled()&&(this._rotationDisabled||this._touchRotate.isEnabled())&&this._tapDragZoom.isEnabled()},Af.prototype.isActive=function(){return this._touchZoom.isActive()||this._touchRotate.isActive()||this._tapDragZoom.isActive()},Af.prototype.disableRotation=function(){this._rotationDisabled=!0,this._touchRotate.disable()},Af.prototype.enableRotation=function(){this._rotationDisabled=!1,this._touchZoom.isEnabled()&&this._touchRotate.enable()};var jc=function(c){return c.zoom||c.drag||c.pitch||c.rotate},ph=function(v){function c(){v.apply(this,arguments)}return v&&(c.__proto__=v),(c.prototype=Object.create(v&&v.prototype)).constructor=c,c}(u.Event);function Io(v){return v.panDelta&&v.panDelta.mag()||v.zoomDelta||v.bearingDelta||v.pitchDelta}var Mi=function(c,l){this._map=c,this._el=this._map.getCanvasContainer(),this._handlers=[],this._handlersById={},this._changes=[],this._inertia=new _h(c),this._bearingSnap=l.bearingSnap,this._previousActiveHandlers={},this._eventsInProgress={},this._addDefaultHandlers(l),u.bindAll(["handleEvent","handleWindowEvent"],this);var g=this._el;this._listeners=[[g,"touchstart",{passive:!0}],[g,"touchmove",{passive:!1}],[g,"touchend",void 0],[g,"touchcancel",void 0],[g,"mousedown",void 0],[g,"mousemove",void 0],[g,"mouseup",void 0],[u.window.document,"mousemove",{capture:!0}],[u.window.document,"mouseup",void 0],[g,"mouseover",void 0],[g,"mouseout",void 0],[g,"dblclick",void 0],[g,"click",void 0],[g,"keydown",{capture:!1}],[g,"keyup",void 0],[g,"wheel",{passive:!1}],[g,"contextmenu",void 0],[u.window,"blur",void 0]];for(var F=0,Q=this._listeners;F<Q.length;F+=1){var se=Q[F],_e=se[0];k.addEventListener(_e,se[1],_e===u.window.document?this.handleWindowEvent:this.handleEvent,se[2])}};Mi.prototype.destroy=function(){for(var v=0,c=this._listeners;v<c.length;v+=1){var l=c[v],g=l[0];k.removeEventListener(g,l[1],g===u.window.document?this.handleWindowEvent:this.handleEvent,l[2])}},Mi.prototype._addDefaultHandlers=function(v){var c=this._map,l=c.getCanvasContainer();this._add("mapEvent",new Al(c,v));var g=c.boxZoom=new Kc(c,v);this._add("boxZoom",g);var F=new Yu,Q=new rd;c.doubleClickZoom=new yd(Q,F),this._add("tapZoom",F),this._add("clickZoom",Q);var se=new sl;this._add("tapDragZoom",se);var _e=c.touchPitch=new Rh;this._add("touchPitch",_e);var mt=new Uu(v),Rt=new ep(v);c.dragRotate=new ff(v,mt,Rt),this._add("mouseRotate",mt,["mousePitch"]),this._add("mousePitch",Rt,["mouseRotate"]);var ir=new td(v),rr=new tc(v);c.dragPan=new Mu(l,ir,rr),this._add("mousePan",ir),this._add("touchPan",rr,["touchZoom","touchRotate"]);var ur=new Qd,kr=new nu;c.touchZoomRotate=new Af(l,kr,ur,se),this._add("touchRotate",ur,["touchPan","touchZoom"]),this._add("touchZoom",kr,["touchPan","touchRotate"]);var Nr=c.scrollZoom=new _s(c,this);this._add("scrollZoom",Nr,["mousePan"]);var Xr=c.keyboard=new Tf;this._add("keyboard",Xr),this._add("blockableMapEvent",new bi(c));for(var Br=0,Hr=["boxZoom","doubleClickZoom","tapDragZoom","touchPitch","dragRotate","dragPan","touchZoomRotate","scrollZoom","keyboard"];Br<Hr.length;Br+=1){var hn=Hr[Br];v.interactive&&v[hn]&&c[hn].enable(v[hn])}},Mi.prototype._add=function(v,c,l){this._handlers.push({handlerName:v,handler:c,allowed:l}),this._handlersById[v]=c},Mi.prototype.stop=function(v){if(!this._updatingCamera){for(var c=0,l=this._handlers;c<l.length;c+=1)l[c].handler.reset();this._inertia.clear(),this._fireEvents({},{},v),this._changes=[]}},Mi.prototype.isActive=function(){for(var v=0,c=this._handlers;v<c.length;v+=1)if(c[v].handler.isActive())return!0;return!1},Mi.prototype.isZooming=function(){return!!this._eventsInProgress.zoom||this._map.scrollZoom.isZooming()},Mi.prototype.isRotating=function(){return!!this._eventsInProgress.rotate},Mi.prototype.isMoving=function(){return Boolean(jc(this._eventsInProgress))||this.isZooming()},Mi.prototype._blockedByActive=function(v,c,l){for(var g in v)if(g!==l&&(!c||c.indexOf(g)<0))return!0;return!1},Mi.prototype.handleWindowEvent=function(v){this.handleEvent(v,v.type+"Window")},Mi.prototype._getMapTouches=function(v){for(var c=[],l=0,g=v;l<g.length;l+=1){var F=g[l];this._el.contains(F.target)&&c.push(F)}return c},Mi.prototype.handleEvent=function(v,c){this._updatingCamera=!0;for(var l=v.type==="renderFrame"?void 0:v,g={needsRenderFrame:!1},F={},Q={},se=v.touches?this._getMapTouches(v.touches):void 0,_e=se?k.touchPos(this._el,se):k.mousePos(this._el,v),mt=0,Rt=this._handlers;mt<Rt.length;mt+=1){var ir=Rt[mt],rr=ir.handlerName,ur=ir.handler,kr=ir.allowed;if(ur.isEnabled()){var Nr=void 0;this._blockedByActive(Q,kr,rr)?ur.reset():ur[c||v.type]&&(Nr=ur[c||v.type](v,_e,se),this.mergeHandlerResult(g,F,Nr,rr,l),Nr&&Nr.needsRenderFrame&&this._triggerRenderFrame()),(Nr||ur.isActive())&&(Q[rr]=ur)}}var Xr={};for(var Br in this._previousActiveHandlers)Q[Br]||(Xr[Br]=l);this._previousActiveHandlers=Q,(Object.keys(Xr).length||Io(g))&&(this._changes.push([g,F,Xr]),this._triggerRenderFrame()),(Object.keys(Q).length||Io(g))&&this._map._stop(!0),this._updatingCamera=!1;var Hr=g.cameraAnimation;Hr&&(this._inertia.clear(),this._fireEvents({},{},!0),this._changes=[],Hr(this._map))},Mi.prototype.mergeHandlerResult=function(v,c,l,g,F){if(l){u.extend(v,l);var Q={handlerName:g,originalEvent:l.originalEvent||F};l.zoomDelta!==void 0&&(c.zoom=Q),l.panDelta!==void 0&&(c.drag=Q),l.pitchDelta!==void 0&&(c.pitch=Q),l.bearingDelta!==void 0&&(c.rotate=Q)}},Mi.prototype._applyChanges=function(){for(var v={},c={},l={},g=0,F=this._changes;g<F.length;g+=1){var Q=F[g],se=Q[0],_e=Q[1],mt=Q[2];se.panDelta&&(v.panDelta=(v.panDelta||new u.Point(0,0))._add(se.panDelta)),se.zoomDelta&&(v.zoomDelta=(v.zoomDelta||0)+se.zoomDelta),se.bearingDelta&&(v.bearingDelta=(v.bearingDelta||0)+se.bearingDelta),se.pitchDelta&&(v.pitchDelta=(v.pitchDelta||0)+se.pitchDelta),se.around!==void 0&&(v.around=se.around),se.pinchAround!==void 0&&(v.pinchAround=se.pinchAround),se.noInertia&&(v.noInertia=se.noInertia),u.extend(c,_e),u.extend(l,mt)}this._updateMapTransform(v,c,l),this._changes=[]},Mi.prototype._updateMapTransform=function(v,c,l){var g=this._map,F=g.transform;if(!Io(v))return this._fireEvents(c,l,!0);var Q=v.panDelta,se=v.zoomDelta,_e=v.bearingDelta,mt=v.pitchDelta,Rt=v.around,ir=v.pinchAround;ir!==void 0&&(Rt=ir),g._stop(!0),Rt=Rt||g.transform.centerPoint;var rr=F.pointLocation(Q?Rt.sub(Q):Rt);_e&&(F.bearing+=_e),mt&&(F.pitch+=mt),se&&(F.zoom+=se),F.setLocationAtPoint(rr,Rt),this._map._update(),v.noInertia||this._inertia.record(v),this._fireEvents(c,l,!0)},Mi.prototype._fireEvents=function(v,c,l){var g=this,F=jc(this._eventsInProgress),Q=jc(v),se={};for(var _e in v)this._eventsInProgress[_e]||(se[_e+"start"]=v[_e].originalEvent),this._eventsInProgress[_e]=v[_e];for(var mt in!F&&Q&&this._fireEvent("movestart",Q.originalEvent),se)this._fireEvent(mt,se[mt]);for(var Rt in Q&&this._fireEvent("move",Q.originalEvent),v)this._fireEvent(Rt,v[Rt].originalEvent);var ir,rr={};for(var ur in this._eventsInProgress){var kr=this._eventsInProgress[ur],Nr=kr.handlerName,Xr=kr.originalEvent;this._handlersById[Nr].isActive()||(delete this._eventsInProgress[ur],rr[ur+"end"]=ir=c[Nr]||Xr)}for(var Br in rr)this._fireEvent(Br,rr[Br]);var Hr=jc(this._eventsInProgress);if(l&&(F||Q)&&!Hr){this._updatingCamera=!0;var hn=this._inertia._onMoveEnd(this._map.dragPan._inertiaOptions),pn=function(Gn){return Gn!==0&&-g._bearingSnap<Gn&&Gn<g._bearingSnap};hn?(pn(hn.bearing||this._map.getBearing())&&(hn.bearing=0),this._map.easeTo(hn,{originalEvent:ir})):(this._map.fire(new u.Event("moveend",{originalEvent:ir})),pn(this._map.getBearing())&&this._map.resetNorth()),this._updatingCamera=!1}},Mi.prototype._fireEvent=function(v,c){this._map.fire(new u.Event(v,c?{originalEvent:c}:{}))},Mi.prototype._requestFrame=function(){var v=this;return this._map.triggerRepaint(),this._map._renderTaskQueue.add(function(c){delete v._frameId,v.handleEvent(new ph("renderFrame",{timeStamp:c})),v._applyChanges()})},Mi.prototype._triggerRenderFrame=function(){this._frameId===void 0&&(this._frameId=this._requestFrame())};var df=function(v){function c(l,g){v.call(this),this._moving=!1,this._zooming=!1,this.transform=l,this._bearingSnap=g.bearingSnap,u.bindAll(["_renderFrameCallback"],this)}return v&&(c.__proto__=v),(c.prototype=Object.create(v&&v.prototype)).constructor=c,c.prototype.getCenter=function(){return new u.LngLat(this.transform.center.lng,this.transform.center.lat)},c.prototype.setCenter=function(l,g){return this.jumpTo({center:l},g)},c.prototype.panBy=function(l,g,F){return l=u.Point.convert(l).mult(-1),this.panTo(this.transform.center,u.extend({offset:l},g),F)},c.prototype.panTo=function(l,g,F){return this.easeTo(u.extend({center:l},g),F)},c.prototype.getZoom=function(){return this.transform.zoom},c.prototype.setZoom=function(l,g){return this.jumpTo({zoom:l},g),this},c.prototype.zoomTo=function(l,g,F){return this.easeTo(u.extend({zoom:l},g),F)},c.prototype.zoomIn=function(l,g){return this.zoomTo(this.getZoom()+1,l,g),this},c.prototype.zoomOut=function(l,g){return this.zoomTo(this.getZoom()-1,l,g),this},c.prototype.getBearing=function(){return this.transform.bearing},c.prototype.setBearing=function(l,g){return this.jumpTo({bearing:l},g),this},c.prototype.getPadding=function(){return this.transform.padding},c.prototype.setPadding=function(l,g){return this.jumpTo({padding:l},g),this},c.prototype.rotateTo=function(l,g,F){return this.easeTo(u.extend({bearing:l},g),F)},c.prototype.resetNorth=function(l,g){return this.rotateTo(0,u.extend({duration:1e3},l),g),this},c.prototype.resetNorthPitch=function(l,g){return this.easeTo(u.extend({bearing:0,pitch:0,duration:1e3},l),g),this},c.prototype.snapToNorth=function(l,g){return Math.abs(this.getBearing())<this._bearingSnap?this.resetNorth(l,g):this},c.prototype.getPitch=function(){return this.transform.pitch},c.prototype.setPitch=function(l,g){return this.jumpTo({pitch:l},g),this},c.prototype.cameraForBounds=function(l,g){l=u.LngLatBounds.convert(l);var F=g&&g.bearing||0;return this._cameraForBoxAndBearing(l.getNorthWest(),l.getSouthEast(),F,g)},c.prototype._cameraForBoxAndBearing=function(l,g,F,Q){var se={top:0,bottom:0,right:0,left:0};if(typeof(Q=u.extend({padding:se,offset:[0,0],maxZoom:this.transform.maxZoom},Q)).padding=="number"){var _e=Q.padding;Q.padding={top:_e,bottom:_e,right:_e,left:_e}}Q.padding=u.extend(se,Q.padding);var mt=this.transform,Rt=mt.padding,ir=mt.project(u.LngLat.convert(l)),rr=mt.project(u.LngLat.convert(g)),ur=ir.rotate(-F*Math.PI/180),kr=rr.rotate(-F*Math.PI/180),Nr=new u.Point(Math.max(ur.x,kr.x),Math.max(ur.y,kr.y)),Xr=new u.Point(Math.min(ur.x,kr.x),Math.min(ur.y,kr.y)),Br=Nr.sub(Xr),Hr=(mt.width-(Rt.left+Rt.right+Q.padding.left+Q.padding.right))/Br.x,hn=(mt.height-(Rt.top+Rt.bottom+Q.padding.top+Q.padding.bottom))/Br.y;if(!(hn<0||Hr<0)){var pn=Math.min(mt.scaleZoom(mt.scale*Math.min(Hr,hn)),Q.maxZoom),la=typeof Q.offset.x=="number"?new u.Point(Q.offset.x,Q.offset.y):u.Point.convert(Q.offset),Gn=new u.Point((Q.padding.left-Q.padding.right)/2,(Q.padding.top-Q.padding.bottom)/2).rotate(F*Math.PI/180),aa=la.add(Gn).mult(mt.scale/mt.zoomScale(pn));return{center:mt.unproject(ir.add(rr).div(2).sub(aa)),zoom:pn,bearing:F}}u.warnOnce("Map cannot fit within canvas with the given bounds, padding, and/or offset.")},c.prototype.fitBounds=function(l,g,F){return this._fitInternal(this.cameraForBounds(l,g),g,F)},c.prototype.fitScreenCoordinates=function(l,g,F,Q,se){return this._fitInternal(this._cameraForBoxAndBearing(this.transform.pointLocation(u.Point.convert(l)),this.transform.pointLocation(u.Point.convert(g)),F,Q),Q,se)},c.prototype._fitInternal=function(l,g,F){return l?(delete(g=u.extend(l,g)).padding,g.linear?this.easeTo(g,F):this.flyTo(g,F)):this},c.prototype.jumpTo=function(l,g){this.stop();var F=this.transform,Q=!1,se=!1,_e=!1;return"zoom"in l&&F.zoom!==+l.zoom&&(Q=!0,F.zoom=+l.zoom),l.center!==void 0&&(F.center=u.LngLat.convert(l.center)),"bearing"in l&&F.bearing!==+l.bearing&&(se=!0,F.bearing=+l.bearing),"pitch"in l&&F.pitch!==+l.pitch&&(_e=!0,F.pitch=+l.pitch),l.padding==null||F.isPaddingEqual(l.padding)||(F.padding=l.padding),this.fire(new u.Event("movestart",g)).fire(new u.Event("move",g)),Q&&this.fire(new u.Event("zoomstart",g)).fire(new u.Event("zoom",g)).fire(new u.Event("zoomend",g)),se&&this.fire(new u.Event("rotatestart",g)).fire(new u.Event("rotate",g)).fire(new u.Event("rotateend",g)),_e&&this.fire(new u.Event("pitchstart",g)).fire(new u.Event("pitch",g)).fire(new u.Event("pitchend",g)),this.fire(new u.Event("moveend",g))},c.prototype.easeTo=function(l,g){var F=this;this._stop(!1,l.easeId),((l=u.extend({offset:[0,0],duration:500,easing:u.ease},l)).animate===!1||!l.essential&&u.browser.prefersReducedMotion)&&(l.duration=0);var Q=this.transform,se=this.getZoom(),_e=this.getBearing(),mt=this.getPitch(),Rt=this.getPadding(),ir="zoom"in l?+l.zoom:se,rr="bearing"in l?this._normalizeBearing(l.bearing,_e):_e,ur="pitch"in l?+l.pitch:mt,kr="padding"in l?l.padding:Q.padding,Nr=u.Point.convert(l.offset),Xr=Q.centerPoint.add(Nr),Br=Q.pointLocation(Xr),Hr=u.LngLat.convert(l.center||Br);this._normalizeCenter(Hr);var hn,pn,la=Q.project(Br),Gn=Q.project(Hr).sub(la),aa=Q.zoomScale(ir-se);l.around&&(hn=u.LngLat.convert(l.around),pn=Q.locationPoint(hn));var sa={moving:this._moving,zooming:this._zooming,rotating:this._rotating,pitching:this._pitching};return this._zooming=this._zooming||ir!==se,this._rotating=this._rotating||_e!==rr,this._pitching=this._pitching||ur!==mt,this._padding=!Q.isPaddingEqual(kr),this._easeId=l.easeId,this._prepareEase(g,l.noMoveStart,sa),this._ease(function(Ya){if(F._zooming&&(Q.zoom=u.number(se,ir,Ya)),F._rotating&&(Q.bearing=u.number(_e,rr,Ya)),F._pitching&&(Q.pitch=u.number(mt,ur,Ya)),F._padding&&(Q.interpolatePadding(Rt,kr,Ya),Xr=Q.centerPoint.add(Nr)),hn)Q.setLocationAtPoint(hn,pn);else{var Ka=Q.zoomScale(Q.zoom-se),Di=ir>se?Math.min(2,aa):Math.max(.5,aa),di=Math.pow(Di,1-Ya),Eo=Q.unproject(la.add(Gn.mult(Ya*di)).mult(Ka));Q.setLocationAtPoint(Q.renderWorldCopies?Eo.wrap():Eo,Xr)}F._fireMoveEvents(g)},function(Ya){F._afterEase(g,Ya)},l),this},c.prototype._prepareEase=function(l,g,F){F===void 0&&(F={}),this._moving=!0,g||F.moving||this.fire(new u.Event("movestart",l)),this._zooming&&!F.zooming&&this.fire(new u.Event("zoomstart",l)),this._rotating&&!F.rotating&&this.fire(new u.Event("rotatestart",l)),this._pitching&&!F.pitching&&this.fire(new u.Event("pitchstart",l))},c.prototype._fireMoveEvents=function(l){this.fire(new u.Event("move",l)),this._zooming&&this.fire(new u.Event("zoom",l)),this._rotating&&this.fire(new u.Event("rotate",l)),this._pitching&&this.fire(new u.Event("pitch",l))},c.prototype._afterEase=function(l,g){if(!this._easeId||!g||this._easeId!==g){delete this._easeId;var F=this._zooming,Q=this._rotating,se=this._pitching;this._moving=!1,this._zooming=!1,this._rotating=!1,this._pitching=!1,this._padding=!1,F&&this.fire(new u.Event("zoomend",l)),Q&&this.fire(new u.Event("rotateend",l)),se&&this.fire(new u.Event("pitchend",l)),this.fire(new u.Event("moveend",l))}},c.prototype.flyTo=function(l,g){var F=this;if(!l.essential&&u.browser.prefersReducedMotion){var Q=u.pick(l,["center","zoom","bearing","pitch","around"]);return this.jumpTo(Q,g)}this.stop(),l=u.extend({offset:[0,0],speed:1.2,curve:1.42,easing:u.ease},l);var se=this.transform,_e=this.getZoom(),mt=this.getBearing(),Rt=this.getPitch(),ir=this.getPadding(),rr="zoom"in l?u.clamp(+l.zoom,se.minZoom,se.maxZoom):_e,ur="bearing"in l?this._normalizeBearing(l.bearing,mt):mt,kr="pitch"in l?+l.pitch:Rt,Nr="padding"in l?l.padding:se.padding,Xr=se.zoomScale(rr-_e),Br=u.Point.convert(l.offset),Hr=se.centerPoint.add(Br),hn=se.pointLocation(Hr),pn=u.LngLat.convert(l.center||hn);this._normalizeCenter(pn);var la=se.project(hn),Gn=se.project(pn).sub(la),aa=l.curve,sa=Math.max(se.width,se.height),Ya=sa/Xr,Ka=Gn.mag();if("minZoom"in l){var Di=u.clamp(Math.min(l.minZoom,_e,rr),se.minZoom,se.maxZoom),di=sa/se.zoomScale(Di-_e);aa=Math.sqrt(di/Ka*2)}var Eo=aa*aa;function Bo(zo){var us=(Ya*Ya-sa*sa+(zo?-1:1)*Eo*Eo*Ka*Ka)/(2*(zo?Ya:sa)*Eo*Ka);return Math.log(Math.sqrt(us*us+1)-us)}function Wo(zo){return(Math.exp(zo)-Math.exp(-zo))/2}function ll(zo){return(Math.exp(zo)+Math.exp(-zo))/2}var _i=Bo(0),Qo=function(us){return ll(_i)/ll(_i+aa*us)},os=function(us){return sa*((ll(_i)*(Wo(Xs=_i+aa*us)/ll(Xs))-Wo(_i))/Eo)/Ka;var Xs},qi=(Bo(1)-_i)/aa;if(Math.abs(Ka)<1e-6||!isFinite(qi)){if(Math.abs(sa-Ya)<1e-6)return this.easeTo(l,g);var hs=Ya<sa?-1:1;qi=Math.abs(Math.log(Ya/sa))/aa,os=function(){return 0},Qo=function(us){return Math.exp(hs*aa*us)}}return l.duration="duration"in l?+l.duration:1e3*qi/("screenSpeed"in l?+l.screenSpeed/aa:+l.speed),l.maxDuration&&l.duration>l.maxDuration&&(l.duration=0),this._zooming=!0,this._rotating=mt!==ur,this._pitching=kr!==Rt,this._padding=!se.isPaddingEqual(Nr),this._prepareEase(g,!1),this._ease(function(zo){var us=zo*qi,Xs=1/Qo(us);se.zoom=zo===1?rr:_e+se.scaleZoom(Xs),F._rotating&&(se.bearing=u.number(mt,ur,zo)),F._pitching&&(se.pitch=u.number(Rt,kr,zo)),F._padding&&(se.interpolatePadding(ir,Nr,zo),Hr=se.centerPoint.add(Br));var au=zo===1?pn:se.unproject(la.add(Gn.mult(os(us))).mult(Xs));se.setLocationAtPoint(se.renderWorldCopies?au.wrap():au,Hr),F._fireMoveEvents(g)},function(){return F._afterEase(g)},l),this},c.prototype.isEasing=function(){return!!this._easeFrameId},c.prototype.stop=function(){return this._stop()},c.prototype._stop=function(l,g){if(this._easeFrameId&&(this._cancelRenderFrame(this._easeFrameId),delete this._easeFrameId,delete this._onEaseFrame),this._onEaseEnd){var F=this._onEaseEnd;delete this._onEaseEnd,F.call(this,g)}if(!l){var Q=this.handlers;Q&&Q.stop(!1)}return this},c.prototype._ease=function(l,g,F){F.animate===!1||F.duration===0?(l(1),g()):(this._easeStart=u.browser.now(),this._easeOptions=F,this._onEaseFrame=l,this._onEaseEnd=g,this._easeFrameId=this._requestRenderFrame(this._renderFrameCallback))},c.prototype._renderFrameCallback=function(){var l=Math.min((u.browser.now()-this._easeStart)/this._easeOptions.duration,1);this._onEaseFrame(this._easeOptions.easing(l)),l<1?this._easeFrameId=this._requestRenderFrame(this._renderFrameCallback):this.stop()},c.prototype._normalizeBearing=function(l,g){l=u.wrap(l,-180,180);var F=Math.abs(l-g);return Math.abs(l-360-g)<F&&(l-=360),Math.abs(l+360-g)<F&&(l+=360),l},c.prototype._normalizeCenter=function(l){var g=this.transform;if(g.renderWorldCopies&&!g.lngRange){var F=l.lng-g.center.lng;l.lng+=F>180?-360:F<-180?360:0}},c}(u.Evented),_u=function(c){c===void 0&&(c={}),this.options=c,u.bindAll(["_toggleAttribution","_updateEditLink","_updateData","_updateCompact"],this)};_u.prototype.getDefaultPosition=function(){return"bottom-right"},_u.prototype.onAdd=function(v){var c=this.options&&this.options.compact;return this._map=v,this._container=k.create("div","mapboxgl-ctrl mapboxgl-ctrl-attrib"),this._compactButton=k.create("button","mapboxgl-ctrl-attrib-button",this._container),this._compactButton.addEventListener("click",this._toggleAttribution),this._setElementTitle(this._compactButton,"ToggleAttribution"),this._innerContainer=k.create("div","mapboxgl-ctrl-attrib-inner",this._container),this._innerContainer.setAttribute("role","list"),c&&this._container.classList.add("mapboxgl-compact"),this._updateAttributions(),this._updateEditLink(),this._map.on("styledata",this._updateData),this._map.on("sourcedata",this._updateData),this._map.on("moveend",this._updateEditLink),c===void 0&&(this._map.on("resize",this._updateCompact),this._updateCompact()),this._container},_u.prototype.onRemove=function(){k.remove(this._container),this._map.off("styledata",this._updateData),this._map.off("sourcedata",this._updateData),this._map.off("moveend",this._updateEditLink),this._map.off("resize",this._updateCompact),this._map=void 0,this._attribHTML=void 0},_u.prototype._setElementTitle=function(v,c){var l=this._map._getUIString("AttributionControl."+c);v.title=l,v.setAttribute("aria-label",l)},_u.prototype._toggleAttribution=function(){this._container.classList.contains("mapboxgl-compact-show")?(this._container.classList.remove("mapboxgl-compact-show"),this._compactButton.setAttribute("aria-pressed","false")):(this._container.classList.add("mapboxgl-compact-show"),this._compactButton.setAttribute("aria-pressed","true"))},_u.prototype._updateEditLink=function(){var v=this._editLink;v||(v=this._editLink=this._container.querySelector(".mapbox-improve-map"));var c=[{key:"owner",value:this.styleOwner},{key:"id",value:this.styleId},{key:"access_token",value:this._map._requestManager._customAccessToken||u.config.ACCESS_TOKEN}];if(v){var l=c.reduce(function(g,F,Q){return F.value&&(g+=F.key+"="+F.value+(Q<c.length-1?"&":"")),g},"?");v.href=u.config.FEEDBACK_URL+"/"+l+(this._map._hash?this._map._hash.getHashString(!0):""),v.rel="noopener nofollow",this._setElementTitle(v,"MapFeedback")}},_u.prototype._updateData=function(v){!v||v.sourceDataType!=="metadata"&&v.sourceDataType!=="visibility"&&v.dataType!=="style"||(this._updateAttributions(),this._updateEditLink())},_u.prototype._updateAttributions=function(){if(this._map.style){var v=[];if(this.options.customAttribution&&(Array.isArray(this.options.customAttribution)?v=v.concat(this.options.customAttribution.map(function(_e){return typeof _e!="string"?"":_e})):typeof this.options.customAttribution=="string"&&v.push(this.options.customAttribution)),this._map.style.stylesheet){var c=this._map.style.stylesheet;this.styleOwner=c.owner,this.styleId=c.id}var l=this._map.style.sourceCaches;for(var g in l){var F=l[g];if(F.used){var Q=F.getSource();Q.attribution&&v.indexOf(Q.attribution)<0&&v.push(Q.attribution)}}v.sort(function(_e,mt){return _e.length-mt.length});var se=(v=v.filter(function(_e,mt){for(var Rt=mt+1;Rt<v.length;Rt++)if(v[Rt].indexOf(_e)>=0)return!1;return!0})).join(" | ");se!==this._attribHTML&&(this._attribHTML=se,v.length?(this._innerContainer.innerHTML=se,this._container.classList.remove("mapboxgl-attrib-empty")):this._container.classList.add("mapboxgl-attrib-empty"),this._editLink=null)}},_u.prototype._updateCompact=function(){this._map.getCanvasContainer().offsetWidth<=640?this._container.classList.add("mapboxgl-compact"):this._container.classList.remove("mapboxgl-compact","mapboxgl-compact-show")};var cc=function(){u.bindAll(["_updateLogo"],this),u.bindAll(["_updateCompact"],this)};cc.prototype.onAdd=function(v){this._map=v,this._container=k.create("div","mapboxgl-ctrl");var c=k.create("a","mapboxgl-ctrl-logo");return c.target="_blank",c.rel="noopener nofollow",c.href="https://www.mapbox.com/",c.setAttribute("aria-label",this._map._getUIString("LogoControl.Title")),c.setAttribute("rel","noopener nofollow"),this._container.appendChild(c),this._container.style.display="none",this._map.on("sourcedata",this._updateLogo),this._updateLogo(),this._map.on("resize",this._updateCompact),this._updateCompact(),this._container},cc.prototype.onRemove=function(){k.remove(this._container),this._map.off("sourcedata",this._updateLogo),this._map.off("resize",this._updateCompact)},cc.prototype.getDefaultPosition=function(){return"bottom-left"},cc.prototype._updateLogo=function(v){v&&v.sourceDataType!=="metadata"||(this._container.style.display=this._logoRequired()?"block":"none")},cc.prototype._logoRequired=function(){if(this._map.style){var v=this._map.style.sourceCaches;for(var c in v)if(v[c].getSource().mapbox_logo)return!0;return!1}},cc.prototype._updateCompact=function(){var v=this._container.children;if(v.length){var c=v[0];this._map.getCanvasContainer().offsetWidth<250?c.classList.add("mapboxgl-compact"):c.classList.remove("mapboxgl-compact")}};var $u=function(){this._queue=[],this._id=0,this._cleared=!1,this._currentlyRunning=!1};$u.prototype.add=function(v){var c=++this._id;return this._queue.push({callback:v,id:c,cancelled:!1}),c},$u.prototype.remove=function(v){for(var c=this._currentlyRunning,l=0,g=c?this._queue.concat(c):this._queue;l<g.length;l+=1){var F=g[l];if(F.id===v)return void(F.cancelled=!0)}},$u.prototype.run=function(v){v===void 0&&(v=0);var c=this._currentlyRunning=this._queue;this._queue=[];for(var l=0,g=c;l<g.length;l+=1){var F=g[l];if(!F.cancelled&&(F.callback(v),this._cleared))break}this._cleared=!1,this._currentlyRunning=!1},$u.prototype.clear=function(){this._currentlyRunning&&(this._cleared=!0),this._queue=[]};var Mf={"AttributionControl.ToggleAttribution":"Toggle attribution","AttributionControl.MapFeedback":"Map feedback","FullscreenControl.Enter":"Enter fullscreen","FullscreenControl.Exit":"Exit fullscreen","GeolocateControl.FindMyLocation":"Find my location","GeolocateControl.LocationNotAvailable":"Location not available","LogoControl.Title":"Mapbox logo","NavigationControl.ResetBearing":"Reset bearing to north","NavigationControl.ZoomIn":"Zoom in","NavigationControl.ZoomOut":"Zoom out","ScaleControl.Feet":"ft","ScaleControl.Meters":"m","ScaleControl.Kilometers":"km","ScaleControl.Miles":"mi","ScaleControl.NauticalMiles":"nm"},Ac=u.window.HTMLImageElement,qd=u.window.HTMLElement,Dl=u.window.ImageBitmap,yu={center:[0,0],zoom:0,bearing:0,pitch:0,minZoom:-2,maxZoom:22,minPitch:0,maxPitch:60,interactive:!0,scrollZoom:!0,boxZoom:!0,dragRotate:!0,dragPan:!0,keyboard:!0,doubleClickZoom:!0,touchZoomRotate:!0,touchPitch:!0,bearingSnap:7,clickTolerance:3,pitchWithRotate:!0,hash:!1,attributionControl:!0,failIfMajorPerformanceCaveat:!1,preserveDrawingBuffer:!1,trackResize:!0,renderWorldCopies:!0,refreshExpiredTiles:!0,maxTileCacheSize:null,localIdeographFontFamily:"sans-serif",transformRequest:null,accessToken:null,fadeDuration:300,crossSourceCollisions:!0},eh=function(v){function c(g){var F=this;if((g=u.extend({},yu,g)).minZoom!=null&&g.maxZoom!=null&&g.minZoom>g.maxZoom)throw new Error("maxZoom must be greater than or equal to minZoom");if(g.minPitch!=null&&g.maxPitch!=null&&g.minPitch>g.maxPitch)throw new Error("maxPitch must be greater than or equal to minPitch");if(g.minPitch!=null&&g.minPitch<0)throw new Error("minPitch must be greater than or equal to 0");if(g.maxPitch!=null&&g.maxPitch>60)throw new Error("maxPitch must be less than or equal to 60");var Q=new Ai(g.minZoom,g.maxZoom,g.minPitch,g.maxPitch,g.renderWorldCopies);if(v.call(this,Q,g),this._interactive=g.interactive,this._maxTileCacheSize=g.maxTileCacheSize,this._failIfMajorPerformanceCaveat=g.failIfMajorPerformanceCaveat,this._preserveDrawingBuffer=g.preserveDrawingBuffer,this._antialias=g.antialias,this._trackResize=g.trackResize,this._bearingSnap=g.bearingSnap,this._refreshExpiredTiles=g.refreshExpiredTiles,this._fadeDuration=g.fadeDuration,this._crossSourceCollisions=g.crossSourceCollisions,this._crossFadingFactor=1,this._collectResourceTiming=g.collectResourceTiming,this._renderTaskQueue=new $u,this._controls=[],this._mapId=u.uniqueId(),this._locale=u.extend({},Mf,g.locale),this._clickTolerance=g.clickTolerance,this._requestManager=new u.RequestManager(g.transformRequest,g.accessToken),typeof g.container=="string"){if(this._container=u.window.document.getElementById(g.container),!this._container)throw new Error("Container '"+g.container+"' not found.")}else{if(!(g.container instanceof qd))throw new Error("Invalid type: 'container' must be a String or HTMLElement.");this._container=g.container}if(g.maxBounds&&this.setMaxBounds(g.maxBounds),u.bindAll(["_onWindowOnline","_onWindowResize","_onMapScroll","_contextLost","_contextRestored"],this),this._setupContainer(),this._setupPainter(),this.painter===void 0)throw new Error("Failed to initialize WebGL.");this.on("move",function(){return F._update(!1)}),this.on("moveend",function(){return F._update(!1)}),this.on("zoom",function(){return F._update(!0)}),u.window!==void 0&&(u.window.addEventListener("online",this._onWindowOnline,!1),u.window.addEventListener("resize",this._onWindowResize,!1),u.window.addEventListener("orientationchange",this._onWindowResize,!1)),this.handlers=new Mi(this,g),this._hash=g.hash&&new ol(typeof g.hash=="string"&&g.hash||void 0).addTo(this),this._hash&&this._hash._onHashChange()||(this.jumpTo({center:g.center,zoom:g.zoom,bearing:g.bearing,pitch:g.pitch}),g.bounds&&(this.resize(),this.fitBounds(g.bounds,u.extend({},g.fitBoundsOptions,{duration:0})))),this.resize(),this._localIdeographFontFamily=g.localIdeographFontFamily,g.style&&this.setStyle(g.style,{localIdeographFontFamily:g.localIdeographFontFamily}),g.attributionControl&&this.addControl(new _u({customAttribution:g.customAttribution})),this.addControl(new cc,g.logoPosition),this.on("style.load",function(){F.transform.unmodified&&F.jumpTo(F.style.stylesheet)}),this.on("data",function(se){F._update(se.dataType==="style"),F.fire(new u.Event(se.dataType+"data",se))}),this.on("dataloading",function(se){F.fire(new u.Event(se.dataType+"dataloading",se))})}v&&(c.__proto__=v),(c.prototype=Object.create(v&&v.prototype)).constructor=c;var l={showTileBoundaries:{configurable:!0},showPadding:{configurable:!0},showCollisionBoxes:{configurable:!0},showOverdrawInspector:{configurable:!0},repaint:{configurable:!0},vertices:{configurable:!0},version:{configurable:!0}};return c.prototype._getMapId=function(){return this._mapId},c.prototype.addControl=function(g,F){if(F===void 0&&(F=g.getDefaultPosition?g.getDefaultPosition():"top-right"),!g||!g.onAdd)return this.fire(new u.ErrorEvent(new Error("Invalid argument to map.addControl(). Argument must be a control with onAdd and onRemove methods.")));var Q=g.onAdd(this);this._controls.push(g);var se=this._controlPositions[F];return F.indexOf("bottom")!==-1?se.insertBefore(Q,se.firstChild):se.appendChild(Q),this},c.prototype.removeControl=function(g){if(!g||!g.onRemove)return this.fire(new u.ErrorEvent(new Error("Invalid argument to map.removeControl(). Argument must be a control with onAdd and onRemove methods.")));var F=this._controls.indexOf(g);return F>-1&&this._controls.splice(F,1),g.onRemove(this),this},c.prototype.hasControl=function(g){return this._controls.indexOf(g)>-1},c.prototype.resize=function(g){var F=this._containerDimensions(),Q=F[0],se=F[1];if(Q===this.transform.width&&se===this.transform.height)return this;this._resizeCanvas(Q,se),this.transform.resize(Q,se),this.painter.resize(Q,se);var _e=!this._moving;return _e&&this.fire(new u.Event("movestart",g)).fire(new u.Event("move",g)),this.fire(new u.Event("resize",g)),_e&&this.fire(new u.Event("moveend",g)),this},c.prototype.getBounds=function(){return this.transform.getBounds()},c.prototype.getMaxBounds=function(){return this.transform.getMaxBounds()},c.prototype.setMaxBounds=function(g){return this.transform.setMaxBounds(u.LngLatBounds.convert(g)),this._update()},c.prototype.setMinZoom=function(g){if((g=g==null?-2:g)>=-2&&g<=this.transform.maxZoom)return this.transform.minZoom=g,this._update(),this.getZoom()<g&&this.setZoom(g),this;throw new Error("minZoom must be between -2 and the current maxZoom, inclusive")},c.prototype.getMinZoom=function(){return this.transform.minZoom},c.prototype.setMaxZoom=function(g){if((g=g==null?22:g)>=this.transform.minZoom)return this.transform.maxZoom=g,this._update(),this.getZoom()>g&&this.setZoom(g),this;throw new Error("maxZoom must be greater than the current minZoom")},c.prototype.getMaxZoom=function(){return this.transform.maxZoom},c.prototype.setMinPitch=function(g){if((g=g==null?0:g)<0)throw new Error("minPitch must be greater than or equal to 0");if(g>=0&&g<=this.transform.maxPitch)return this.transform.minPitch=g,this._update(),this.getPitch()<g&&this.setPitch(g),this;throw new Error("minPitch must be between 0 and the current maxPitch, inclusive")},c.prototype.getMinPitch=function(){return this.transform.minPitch},c.prototype.setMaxPitch=function(g){if((g=g==null?60:g)>60)throw new Error("maxPitch must be less than or equal to 60");if(g>=this.transform.minPitch)return this.transform.maxPitch=g,this._update(),this.getPitch()>g&&this.setPitch(g),this;throw new Error("maxPitch must be greater than the current minPitch")},c.prototype.getMaxPitch=function(){return this.transform.maxPitch},c.prototype.getRenderWorldCopies=function(){return this.transform.renderWorldCopies},c.prototype.setRenderWorldCopies=function(g){return this.transform.renderWorldCopies=g,this._update()},c.prototype.project=function(g){return this.transform.locationPoint(u.LngLat.convert(g))},c.prototype.unproject=function(g){return this.transform.pointLocation(u.Point.convert(g))},c.prototype.isMoving=function(){return this._moving||this.handlers.isMoving()},c.prototype.isZooming=function(){return this._zooming||this.handlers.isZooming()},c.prototype.isRotating=function(){return this._rotating||this.handlers.isRotating()},c.prototype._createDelegatedListener=function(g,F,Q){var se,_e=this;if(g==="mouseenter"||g==="mouseover"){var mt=!1;return{layer:F,listener:Q,delegates:{mousemove:function(rr){var ur=_e.getLayer(F)?_e.queryRenderedFeatures(rr.point,{layers:[F]}):[];ur.length?mt||(mt=!0,Q.call(_e,new ru(g,_e,rr.originalEvent,{features:ur}))):mt=!1},mouseout:function(){mt=!1}}}}if(g==="mouseleave"||g==="mouseout"){var Rt=!1;return{layer:F,listener:Q,delegates:{mousemove:function(rr){(_e.getLayer(F)?_e.queryRenderedFeatures(rr.point,{layers:[F]}):[]).length?Rt=!0:Rt&&(Rt=!1,Q.call(_e,new ru(g,_e,rr.originalEvent)))},mouseout:function(rr){Rt&&(Rt=!1,Q.call(_e,new ru(g,_e,rr.originalEvent)))}}}}return{layer:F,listener:Q,delegates:(se={},se[g]=function(ir){var rr=_e.getLayer(F)?_e.queryRenderedFeatures(ir.point,{layers:[F]}):[];rr.length&&(ir.features=rr,Q.call(_e,ir),delete ir.features)},se)}},c.prototype.on=function(g,F,Q){if(Q===void 0)return v.prototype.on.call(this,g,F);var se=this._createDelegatedListener(g,F,Q);for(var _e in this._delegatedListeners=this._delegatedListeners||{},this._delegatedListeners[g]=this._delegatedListeners[g]||[],this._delegatedListeners[g].push(se),se.delegates)this.on(_e,se.delegates[_e]);return this},c.prototype.once=function(g,F,Q){if(Q===void 0)return v.prototype.once.call(this,g,F);var se=this._createDelegatedListener(g,F,Q);for(var _e in se.delegates)this.once(_e,se.delegates[_e]);return this},c.prototype.off=function(g,F,Q){var se=this;return Q===void 0?v.prototype.off.call(this,g,F):(this._delegatedListeners&&this._delegatedListeners[g]&&function(_e){for(var mt=_e[g],Rt=0;Rt<mt.length;Rt++){var ir=mt[Rt];if(ir.layer===F&&ir.listener===Q){for(var rr in ir.delegates)se.off(rr,ir.delegates[rr]);return mt.splice(Rt,1),se}}}(this._delegatedListeners),this)},c.prototype.queryRenderedFeatures=function(g,F){if(!this.style)return[];var Q;if(F!==void 0||g===void 0||g instanceof u.Point||Array.isArray(g)||(F=g,g=void 0),F=F||{},(g=g||[[0,0],[this.transform.width,this.transform.height]])instanceof u.Point||typeof g[0]=="number")Q=[u.Point.convert(g)];else{var se=u.Point.convert(g[0]),_e=u.Point.convert(g[1]);Q=[se,new u.Point(_e.x,se.y),_e,new u.Point(se.x,_e.y),se]}return this.style.queryRenderedFeatures(Q,F,this.transform)},c.prototype.querySourceFeatures=function(g,F){return this.style.querySourceFeatures(g,F)},c.prototype.setStyle=function(g,F){return(F=u.extend({},{localIdeographFontFamily:this._localIdeographFontFamily},F)).diff!==!1&&F.localIdeographFontFamily===this._localIdeographFontFamily&&this.style&&g?(this._diffStyle(g,F),this):(this._localIdeographFontFamily=F.localIdeographFontFamily,this._updateStyle(g,F))},c.prototype._getUIString=function(g){var F=this._locale[g];if(F==null)throw new Error("Missing UI string '"+g+"'");return F},c.prototype._updateStyle=function(g,F){return this.style&&(this.style.setEventedParent(null),this.style._remove()),g?(this.style=new Bs(this,F||{}),this.style.setEventedParent(this,{style:this.style}),typeof g=="string"?this.style.loadURL(g):this.style.loadJSON(g),this):(delete this.style,this)},c.prototype._lazyInitEmptyStyle=function(){this.style||(this.style=new Bs(this,{}),this.style.setEventedParent(this,{style:this.style}),this.style.loadEmpty())},c.prototype._diffStyle=function(g,F){var Q=this;if(typeof g=="string"){var se=this._requestManager.normalizeStyleURL(g),_e=this._requestManager.transformRequest(se,u.ResourceType.Style);u.getJSON(_e,function(mt,Rt){mt?Q.fire(new u.ErrorEvent(mt)):Rt&&Q._updateDiff(Rt,F)})}else typeof g=="object"&&this._updateDiff(g,F)},c.prototype._updateDiff=function(g,F){try{this.style.setState(g)&&this._update(!0)}catch(Q){u.warnOnce("Unable to perform style diff: "+(Q.message||Q.error||Q)+".  Rebuilding the style from scratch."),this._updateStyle(g,F)}},c.prototype.getStyle=function(){if(this.style)return this.style.serialize()},c.prototype.isStyleLoaded=function(){return this.style?this.style.loaded():u.warnOnce("There is no style added to the map.")},c.prototype.addSource=function(g,F){return this._lazyInitEmptyStyle(),this.style.addSource(g,F),this._update(!0)},c.prototype.isSourceLoaded=function(g){var F=this.style&&this.style.sourceCaches[g];if(F!==void 0)return F.loaded();this.fire(new u.ErrorEvent(new Error("There is no source with ID '"+g+"'")))},c.prototype.areTilesLoaded=function(){var g=this.style&&this.style.sourceCaches;for(var F in g){var Q=g[F]._tiles;for(var se in Q){var _e=Q[se];if(_e.state!=="loaded"&&_e.state!=="errored")return!1}}return!0},c.prototype.addSourceType=function(g,F,Q){return this._lazyInitEmptyStyle(),this.style.addSourceType(g,F,Q)},c.prototype.removeSource=function(g){return this.style.removeSource(g),this._update(!0)},c.prototype.getSource=function(g){return this.style.getSource(g)},c.prototype.addImage=function(g,F,Q){Q===void 0&&(Q={});var se=Q.pixelRatio;se===void 0&&(se=1);var _e=Q.sdf;_e===void 0&&(_e=!1);var mt=Q.stretchX,Rt=Q.stretchY,ir=Q.content;if(this._lazyInitEmptyStyle(),F instanceof Ac||Dl&&F instanceof Dl){var rr=u.browser.getImageData(F);this.style.addImage(g,{data:new u.RGBAImage({width:rr.width,height:rr.height},rr.data),pixelRatio:se,stretchX:mt,stretchY:Rt,content:ir,sdf:_e,version:0})}else{if(F.width===void 0||F.height===void 0)return this.fire(new u.ErrorEvent(new Error("Invalid arguments to map.addImage(). The second argument must be an `HTMLImageElement`, `ImageData`, `ImageBitmap`, or object with `width`, `height`, and `data` properties with the same format as `ImageData`")));var ur=F;this.style.addImage(g,{data:new u.RGBAImage({width:F.width,height:F.height},new Uint8Array(F.data)),pixelRatio:se,stretchX:mt,stretchY:Rt,content:ir,sdf:_e,version:0,userImage:ur}),ur.onAdd&&ur.onAdd(this,g)}},c.prototype.updateImage=function(g,F){var Q=this.style.getImage(g);if(!Q)return this.fire(new u.ErrorEvent(new Error("The map has no image with that id. If you are adding a new image use `map.addImage(...)` instead.")));var se=F instanceof Ac||Dl&&F instanceof Dl?u.browser.getImageData(F):F,_e=se.width,mt=se.height,Rt=se.data;return _e===void 0||mt===void 0?this.fire(new u.ErrorEvent(new Error("Invalid arguments to map.updateImage(). The second argument must be an `HTMLImageElement`, `ImageData`, `ImageBitmap`, or object with `width`, `height`, and `data` properties with the same format as `ImageData`"))):_e!==Q.data.width||mt!==Q.data.height?this.fire(new u.ErrorEvent(new Error("The width and height of the updated image must be that same as the previous version of the image"))):(Q.data.replace(Rt,!(F instanceof Ac||Dl&&F instanceof Dl)),void this.style.updateImage(g,Q))},c.prototype.hasImage=function(g){return g?!!this.style.getImage(g):(this.fire(new u.ErrorEvent(new Error("Missing required image id"))),!1)},c.prototype.removeImage=function(g){this.style.removeImage(g)},c.prototype.loadImage=function(g,F){u.getImage(this._requestManager.transformRequest(g,u.ResourceType.Image),F)},c.prototype.listImages=function(){return this.style.listImages()},c.prototype.addLayer=function(g,F){return this._lazyInitEmptyStyle(),this.style.addLayer(g,F),this._update(!0)},c.prototype.moveLayer=function(g,F){return this.style.moveLayer(g,F),this._update(!0)},c.prototype.removeLayer=function(g){return this.style.removeLayer(g),this._update(!0)},c.prototype.getLayer=function(g){return this.style.getLayer(g)},c.prototype.setLayerZoomRange=function(g,F,Q){return this.style.setLayerZoomRange(g,F,Q),this._update(!0)},c.prototype.setFilter=function(g,F,Q){return Q===void 0&&(Q={}),this.style.setFilter(g,F,Q),this._update(!0)},c.prototype.getFilter=function(g){return this.style.getFilter(g)},c.prototype.setPaintProperty=function(g,F,Q,se){return se===void 0&&(se={}),this.style.setPaintProperty(g,F,Q,se),this._update(!0)},c.prototype.getPaintProperty=function(g,F){return this.style.getPaintProperty(g,F)},c.prototype.setLayoutProperty=function(g,F,Q,se){return se===void 0&&(se={}),this.style.setLayoutProperty(g,F,Q,se),this._update(!0)},c.prototype.getLayoutProperty=function(g,F){return this.style.getLayoutProperty(g,F)},c.prototype.setLight=function(g,F){return F===void 0&&(F={}),this._lazyInitEmptyStyle(),this.style.setLight(g,F),this._update(!0)},c.prototype.getLight=function(){return this.style.getLight()},c.prototype.setFeatureState=function(g,F){return this.style.setFeatureState(g,F),this._update()},c.prototype.removeFeatureState=function(g,F){return this.style.removeFeatureState(g,F),this._update()},c.prototype.getFeatureState=function(g){return this.style.getFeatureState(g)},c.prototype.getContainer=function(){return this._container},c.prototype.getCanvasContainer=function(){return this._canvasContainer},c.prototype.getCanvas=function(){return this._canvas},c.prototype._containerDimensions=function(){var g=0,F=0;return this._container&&(g=this._container.clientWidth||400,F=this._container.clientHeight||300),[g,F]},c.prototype._detectMissingCSS=function(){u.window.getComputedStyle(this._missingCSSCanary).getPropertyValue("background-color")!=="rgb(250, 128, 114)"&&u.warnOnce("This page appears to be missing CSS declarations for Mapbox GL JS, which may cause the map to display incorrectly. Please ensure your page includes mapbox-gl.css, as described in https://www.mapbox.com/mapbox-gl-js/api/.")},c.prototype._setupContainer=function(){var g=this._container;g.classList.add("mapboxgl-map"),(this._missingCSSCanary=k.create("div","mapboxgl-canary",g)).style.visibility="hidden",this._detectMissingCSS();var F=this._canvasContainer=k.create("div","mapboxgl-canvas-container",g);this._interactive&&F.classList.add("mapboxgl-interactive"),this._canvas=k.create("canvas","mapboxgl-canvas",F),this._canvas.addEventListener("webglcontextlost",this._contextLost,!1),this._canvas.addEventListener("webglcontextrestored",this._contextRestored,!1),this._canvas.setAttribute("tabindex","0"),this._canvas.setAttribute("aria-label","Map"),this._canvas.setAttribute("role","region");var Q=this._containerDimensions();this._resizeCanvas(Q[0],Q[1]);var se=this._controlContainer=k.create("div","mapboxgl-control-container",g),_e=this._controlPositions={};["top-left","top-right","bottom-left","bottom-right"].forEach(function(mt){_e[mt]=k.create("div","mapboxgl-ctrl-"+mt,se)}),this._container.addEventListener("scroll",this._onMapScroll,!1)},c.prototype._resizeCanvas=function(g,F){var Q=u.browser.devicePixelRatio||1;this._canvas.width=Q*g,this._canvas.height=Q*F,this._canvas.style.width=g+"px",this._canvas.style.height=F+"px"},c.prototype._setupPainter=function(){var g=u.extend({},H.webGLContextAttributes,{failIfMajorPerformanceCaveat:this._failIfMajorPerformanceCaveat,preserveDrawingBuffer:this._preserveDrawingBuffer,antialias:this._antialias||!1}),F=this._canvas.getContext("webgl",g)||this._canvas.getContext("experimental-webgl",g);F?(this.painter=new vn(F,this.transform),u.webpSupported.testSupport(F)):this.fire(new u.ErrorEvent(new Error("Failed to initialize WebGL")))},c.prototype._contextLost=function(g){g.preventDefault(),this._frame&&(this._frame.cancel(),this._frame=null),this.fire(new u.Event("webglcontextlost",{originalEvent:g}))},c.prototype._contextRestored=function(g){this._setupPainter(),this.resize(),this._update(),this.fire(new u.Event("webglcontextrestored",{originalEvent:g}))},c.prototype._onMapScroll=function(g){if(g.target===this._container)return this._container.scrollTop=0,this._container.scrollLeft=0,!1},c.prototype.loaded=function(){return!this._styleDirty&&!this._sourcesDirty&&!!this.style&&this.style.loaded()},c.prototype._update=function(g){return this.style?(this._styleDirty=this._styleDirty||g,this._sourcesDirty=!0,this.triggerRepaint(),this):this},c.prototype._requestRenderFrame=function(g){return this._update(),this._renderTaskQueue.add(g)},c.prototype._cancelRenderFrame=function(g){this._renderTaskQueue.remove(g)},c.prototype._render=function(g){var F,Q=this,se=0,_e=this.painter.context.extTimerQuery;if(this.listens("gpu-timing-frame")&&(F=_e.createQueryEXT(),_e.beginQueryEXT(_e.TIME_ELAPSED_EXT,F),se=u.browser.now()),this.painter.context.setDirty(),this.painter.setBaseState(),this._renderTaskQueue.run(g),!this._removed){var mt=!1;if(this.style&&this._styleDirty){this._styleDirty=!1;var Rt=this.transform.zoom,ir=u.browser.now();this.style.zoomHistory.update(Rt,ir);var rr=new u.EvaluationParameters(Rt,{now:ir,fadeDuration:this._fadeDuration,zoomHistory:this.style.zoomHistory,transition:this.style.getTransition()}),ur=rr.crossFadingFactor();ur===1&&ur===this._crossFadingFactor||(mt=!0,this._crossFadingFactor=ur),this.style.update(rr)}if(this.style&&this._sourcesDirty&&(this._sourcesDirty=!1,this.style._updateSources(this.transform)),this._placementDirty=this.style&&this.style._updatePlacement(this.painter.transform,this.showCollisionBoxes,this._fadeDuration,this._crossSourceCollisions),this.painter.render(this.style,{showTileBoundaries:this.showTileBoundaries,showOverdrawInspector:this._showOverdrawInspector,rotating:this.isRotating(),zooming:this.isZooming(),moving:this.isMoving(),fadeDuration:this._fadeDuration,showPadding:this.showPadding,gpuTiming:!!this.listens("gpu-timing-layer")}),this.fire(new u.Event("render")),this.loaded()&&!this._loaded&&(this._loaded=!0,this.fire(new u.Event("load"))),this.style&&(this.style.hasTransitions()||mt)&&(this._styleDirty=!0),this.style&&!this._placementDirty&&this.style._releaseSymbolFadeTiles(),this.listens("gpu-timing-frame")){var kr=u.browser.now()-se;_e.endQueryEXT(_e.TIME_ELAPSED_EXT,F),setTimeout(function(){var Br=_e.getQueryObjectEXT(F,_e.QUERY_RESULT_EXT)/1e6;_e.deleteQueryEXT(F),Q.fire(new u.Event("gpu-timing-frame",{cpuTime:kr,gpuTime:Br}))},50)}if(this.listens("gpu-timing-layer")){var Nr=this.painter.collectGpuTimers();setTimeout(function(){var Br=Q.painter.queryGpuTimers(Nr);Q.fire(new u.Event("gpu-timing-layer",{layerTimes:Br}))},50)}var Xr=this._sourcesDirty||this._styleDirty||this._placementDirty;return Xr||this._repaint?this.triggerRepaint():!this.isMoving()&&this.loaded()&&this.fire(new u.Event("idle")),!this._loaded||this._fullyLoaded||Xr||(this._fullyLoaded=!0),this}},c.prototype.remove=function(){this._hash&&this._hash.remove();for(var g=0,F=this._controls;g<F.length;g+=1)F[g].onRemove(this);this._controls=[],this._frame&&(this._frame.cancel(),this._frame=null),this._renderTaskQueue.clear(),this.painter.destroy(),this.handlers.destroy(),delete this.handlers,this.setStyle(null),u.window!==void 0&&(u.window.removeEventListener("resize",this._onWindowResize,!1),u.window.removeEventListener("orientationchange",this._onWindowResize,!1),u.window.removeEventListener("online",this._onWindowOnline,!1));var Q=this.painter.context.gl.getExtension("WEBGL_lose_context");Q&&Q.loseContext(),_f(this._canvasContainer),_f(this._controlContainer),_f(this._missingCSSCanary),this._container.classList.remove("mapboxgl-map"),this._removed=!0,this.fire(new u.Event("remove"))},c.prototype.triggerRepaint=function(){var g=this;this.style&&!this._frame&&(this._frame=u.browser.frame(function(F){g._frame=null,g._render(F)}))},c.prototype._onWindowOnline=function(){this._update()},c.prototype._onWindowResize=function(g){this._trackResize&&this.resize({originalEvent:g})._update()},l.showTileBoundaries.get=function(){return!!this._showTileBoundaries},l.showTileBoundaries.set=function(g){this._showTileBoundaries!==g&&(this._showTileBoundaries=g,this._update())},l.showPadding.get=function(){return!!this._showPadding},l.showPadding.set=function(g){this._showPadding!==g&&(this._showPadding=g,this._update())},l.showCollisionBoxes.get=function(){return!!this._showCollisionBoxes},l.showCollisionBoxes.set=function(g){this._showCollisionBoxes!==g&&(this._showCollisionBoxes=g,g?this.style._generateCollisionBoxes():this._update())},l.showOverdrawInspector.get=function(){return!!this._showOverdrawInspector},l.showOverdrawInspector.set=function(g){this._showOverdrawInspector!==g&&(this._showOverdrawInspector=g,this._update())},l.repaint.get=function(){return!!this._repaint},l.repaint.set=function(g){this._repaint!==g&&(this._repaint=g,this.triggerRepaint())},l.vertices.get=function(){return!!this._vertices},l.vertices.set=function(g){this._vertices=g,this._update()},c.prototype._setCacheLimits=function(g,F){u.setCacheLimits(g,F)},l.version.get=function(){return u.version},Object.defineProperties(c.prototype,l),c}(df);function _f(v){v.parentNode&&v.parentNode.removeChild(v)}var If={showCompass:!0,showZoom:!0,visualizePitch:!1},Mc=function(c){var l=this;this.options=u.extend({},If,c),this._container=k.create("div","mapboxgl-ctrl mapboxgl-ctrl-group"),this._container.addEventListener("contextmenu",function(g){return g.preventDefault()}),this.options.showZoom&&(u.bindAll(["_setButtonTitle","_updateZoomButtons"],this),this._zoomInButton=this._createButton("mapboxgl-ctrl-zoom-in",function(g){return l._map.zoomIn({},{originalEvent:g})}),k.create("span","mapboxgl-ctrl-icon",this._zoomInButton).setAttribute("aria-hidden",!0),this._zoomOutButton=this._createButton("mapboxgl-ctrl-zoom-out",function(g){return l._map.zoomOut({},{originalEvent:g})}),k.create("span","mapboxgl-ctrl-icon",this._zoomOutButton).setAttribute("aria-hidden",!0)),this.options.showCompass&&(u.bindAll(["_rotateCompassArrow"],this),this._compass=this._createButton("mapboxgl-ctrl-compass",function(g){l.options.visualizePitch?l._map.resetNorthPitch({},{originalEvent:g}):l._map.resetNorth({},{originalEvent:g})}),this._compassIcon=k.create("span","mapboxgl-ctrl-icon",this._compass),this._compassIcon.setAttribute("aria-hidden",!0))};Mc.prototype._updateZoomButtons=function(){var v=this._map.getZoom(),c=v===this._map.getMaxZoom(),l=v===this._map.getMinZoom();this._zoomInButton.disabled=c,this._zoomOutButton.disabled=l,this._zoomInButton.setAttribute("aria-disabled",c.toString()),this._zoomOutButton.setAttribute("aria-disabled",l.toString())},Mc.prototype._rotateCompassArrow=function(){var v=this.options.visualizePitch?"scale("+1/Math.pow(Math.cos(this._map.transform.pitch*(Math.PI/180)),.5)+") rotateX("+this._map.transform.pitch+"deg) rotateZ("+this._map.transform.angle*(180/Math.PI)+"deg)":"rotate("+this._map.transform.angle*(180/Math.PI)+"deg)";this._compassIcon.style.transform=v},Mc.prototype.onAdd=function(v){return this._map=v,this.options.showZoom&&(this._setButtonTitle(this._zoomInButton,"ZoomIn"),this._setButtonTitle(this._zoomOutButton,"ZoomOut"),this._map.on("zoom",this._updateZoomButtons),this._updateZoomButtons()),this.options.showCompass&&(this._setButtonTitle(this._compass,"ResetBearing"),this.options.visualizePitch&&this._map.on("pitch",this._rotateCompassArrow),this._map.on("rotate",this._rotateCompassArrow),this._rotateCompassArrow(),this._handler=new _c(this._map,this._compass,this.options.visualizePitch)),this._container},Mc.prototype.onRemove=function(){k.remove(this._container),this.options.showZoom&&this._map.off("zoom",this._updateZoomButtons),this.options.showCompass&&(this.options.visualizePitch&&this._map.off("pitch",this._rotateCompassArrow),this._map.off("rotate",this._rotateCompassArrow),this._handler.off(),delete this._handler),delete this._map},Mc.prototype._createButton=function(v,c){var l=k.create("button",v,this._container);return l.type="button",l.addEventListener("click",c),l},Mc.prototype._setButtonTitle=function(v,c){var l=this._map._getUIString("NavigationControl."+c);v.title=l,v.setAttribute("aria-label",l)};var _c=function(c,l,g){g===void 0&&(g=!1),this._clickTolerance=10,this.element=l,this.mouseRotate=new Uu({clickTolerance:c.dragRotate._mouseRotate._clickTolerance}),this.map=c,g&&(this.mousePitch=new ep({clickTolerance:c.dragRotate._mousePitch._clickTolerance})),u.bindAll(["mousedown","mousemove","mouseup","touchstart","touchmove","touchend","reset"],this),k.addEventListener(l,"mousedown",this.mousedown),k.addEventListener(l,"touchstart",this.touchstart,{passive:!1}),k.addEventListener(l,"touchmove",this.touchmove),k.addEventListener(l,"touchend",this.touchend),k.addEventListener(l,"touchcancel",this.reset)};function dr(v,c,l){if(v=new u.LngLat(v.lng,v.lat),c){var g=new u.LngLat(v.lng-360,v.lat),F=new u.LngLat(v.lng+360,v.lat),Q=l.locationPoint(v).distSqr(c);l.locationPoint(g).distSqr(c)<Q?v=g:l.locationPoint(F).distSqr(c)<Q&&(v=F)}for(;Math.abs(v.lng-l.center.lng)>180;){var se=l.locationPoint(v);if(se.x>=0&&se.y>=0&&se.x<=l.width&&se.y<=l.height)break;v.lng>l.center.lng?v.lng-=360:v.lng+=360}return v}_c.prototype.down=function(v,c){this.mouseRotate.mousedown(v,c),this.mousePitch&&this.mousePitch.mousedown(v,c),k.disableDrag()},_c.prototype.move=function(v,c){var l=this.map,g=this.mouseRotate.mousemoveWindow(v,c);if(g&&g.bearingDelta&&l.setBearing(l.getBearing()+g.bearingDelta),this.mousePitch){var F=this.mousePitch.mousemoveWindow(v,c);F&&F.pitchDelta&&l.setPitch(l.getPitch()+F.pitchDelta)}},_c.prototype.off=function(){var v=this.element;k.removeEventListener(v,"mousedown",this.mousedown),k.removeEventListener(v,"touchstart",this.touchstart,{passive:!1}),k.removeEventListener(v,"touchmove",this.touchmove),k.removeEventListener(v,"touchend",this.touchend),k.removeEventListener(v,"touchcancel",this.reset),this.offTemp()},_c.prototype.offTemp=function(){k.enableDrag(),k.removeEventListener(u.window,"mousemove",this.mousemove),k.removeEventListener(u.window,"mouseup",this.mouseup)},_c.prototype.mousedown=function(v){this.down(u.extend({},v,{ctrlKey:!0,preventDefault:function(){return v.preventDefault()}}),k.mousePos(this.element,v)),k.addEventListener(u.window,"mousemove",this.mousemove),k.addEventListener(u.window,"mouseup",this.mouseup)},_c.prototype.mousemove=function(v){this.move(v,k.mousePos(this.element,v))},_c.prototype.mouseup=function(v){this.mouseRotate.mouseupWindow(v),this.mousePitch&&this.mousePitch.mouseupWindow(v),this.offTemp()},_c.prototype.touchstart=function(v){v.targetTouches.length!==1?this.reset():(this._startPos=this._lastPos=k.touchPos(this.element,v.targetTouches)[0],this.down({type:"mousedown",button:0,ctrlKey:!0,preventDefault:function(){return v.preventDefault()}},this._startPos))},_c.prototype.touchmove=function(v){v.targetTouches.length!==1?this.reset():(this._lastPos=k.touchPos(this.element,v.targetTouches)[0],this.move({preventDefault:function(){return v.preventDefault()}},this._lastPos))},_c.prototype.touchend=function(v){v.targetTouches.length===0&&this._startPos&&this._lastPos&&this._startPos.dist(this._lastPos)<this._clickTolerance&&this.element.click(),this.reset()},_c.prototype.reset=function(){this.mouseRotate.reset(),this.mousePitch&&this.mousePitch.reset(),delete this._startPos,delete this._lastPos,this.offTemp()};var Iu={center:"translate(-50%,-50%)",top:"translate(-50%,0)","top-left":"translate(0,0)","top-right":"translate(-100%,0)",bottom:"translate(-50%,-100%)","bottom-left":"translate(0,-100%)","bottom-right":"translate(-100%,-100%)",left:"translate(0,-50%)",right:"translate(-100%,-50%)"};function nd(v,c,l){var g=v.classList;for(var F in Iu)g.remove("mapboxgl-"+l+"-anchor-"+F);g.add("mapboxgl-"+l+"-anchor-"+c)}var rc,$s=function(v){function c(l,g){if(v.call(this),(l instanceof u.window.HTMLElement||g)&&(l=u.extend({element:l},g)),u.bindAll(["_update","_onMove","_onUp","_addDragHandler","_onMapClick","_onKeyPress"],this),this._anchor=l&&l.anchor||"center",this._color=l&&l.color||"#3FB1CE",this._scale=l&&l.scale||1,this._draggable=l&&l.draggable||!1,this._clickTolerance=l&&l.clickTolerance||0,this._isDragging=!1,this._state="inactive",this._rotation=l&&l.rotation||0,this._rotationAlignment=l&&l.rotationAlignment||"auto",this._pitchAlignment=l&&l.pitchAlignment&&l.pitchAlignment!=="auto"?l.pitchAlignment:this._rotationAlignment,l&&l.element)this._element=l.element,this._offset=u.Point.convert(l&&l.offset||[0,0]);else{this._defaultMarker=!0,this._element=k.create("div"),this._element.setAttribute("aria-label","Map marker");var F=k.createNS("http://www.w3.org/2000/svg","svg");F.setAttributeNS(null,"display","block"),F.setAttributeNS(null,"height","41px"),F.setAttributeNS(null,"width","27px"),F.setAttributeNS(null,"viewBox","0 0 27 41");var Q=k.createNS("http://www.w3.org/2000/svg","g");Q.setAttributeNS(null,"stroke","none"),Q.setAttributeNS(null,"stroke-width","1"),Q.setAttributeNS(null,"fill","none"),Q.setAttributeNS(null,"fill-rule","evenodd");var se=k.createNS("http://www.w3.org/2000/svg","g");se.setAttributeNS(null,"fill-rule","nonzero");var _e=k.createNS("http://www.w3.org/2000/svg","g");_e.setAttributeNS(null,"transform","translate(3.0, 29.0)"),_e.setAttributeNS(null,"fill","#000000");for(var mt=0,Rt=[{rx:"10.5",ry:"5.25002273"},{rx:"10.5",ry:"5.25002273"},{rx:"9.5",ry:"4.77275007"},{rx:"8.5",ry:"4.29549936"},{rx:"7.5",ry:"3.81822308"},{rx:"6.5",ry:"3.34094679"},{rx:"5.5",ry:"2.86367051"},{rx:"4.5",ry:"2.38636864"}];mt<Rt.length;mt+=1){var ir=Rt[mt],rr=k.createNS("http://www.w3.org/2000/svg","ellipse");rr.setAttributeNS(null,"opacity","0.04"),rr.setAttributeNS(null,"cx","10.5"),rr.setAttributeNS(null,"cy","5.80029008"),rr.setAttributeNS(null,"rx",ir.rx),rr.setAttributeNS(null,"ry",ir.ry),_e.appendChild(rr)}var ur=k.createNS("http://www.w3.org/2000/svg","g");ur.setAttributeNS(null,"fill",this._color);var kr=k.createNS("http://www.w3.org/2000/svg","path");kr.setAttributeNS(null,"d","M27,13.5 C27,19.074644 20.250001,27.000002 14.75,34.500002 C14.016665,35.500004 12.983335,35.500004 12.25,34.500002 C6.7499993,27.000002 0,19.222562 0,13.5 C0,6.0441559 6.0441559,0 13.5,0 C20.955844,0 27,6.0441559 27,13.5 Z"),ur.appendChild(kr);var Nr=k.createNS("http://www.w3.org/2000/svg","g");Nr.setAttributeNS(null,"opacity","0.25"),Nr.setAttributeNS(null,"fill","#000000");var Xr=k.createNS("http://www.w3.org/2000/svg","path");Xr.setAttributeNS(null,"d","M13.5,0 C6.0441559,0 0,6.0441559 0,13.5 C0,19.222562 6.7499993,27 12.25,34.5 C13,35.522727 14.016664,35.500004 14.75,34.5 C20.250001,27 27,19.074644 27,13.5 C27,6.0441559 20.955844,0 13.5,0 Z M13.5,1 C20.415404,1 26,6.584596 26,13.5 C26,15.898657 24.495584,19.181431 22.220703,22.738281 C19.945823,26.295132 16.705119,30.142167 13.943359,33.908203 C13.743445,34.180814 13.612715,34.322738 13.5,34.441406 C13.387285,34.322738 13.256555,34.180814 13.056641,33.908203 C10.284481,30.127985 7.4148684,26.314159 5.015625,22.773438 C2.6163816,19.232715 1,15.953538 1,13.5 C1,6.584596 6.584596,1 13.5,1 Z"),Nr.appendChild(Xr);var Br=k.createNS("http://www.w3.org/2000/svg","g");Br.setAttributeNS(null,"transform","translate(6.0, 7.0)"),Br.setAttributeNS(null,"fill","#FFFFFF");var Hr=k.createNS("http://www.w3.org/2000/svg","g");Hr.setAttributeNS(null,"transform","translate(8.0, 8.0)");var hn=k.createNS("http://www.w3.org/2000/svg","circle");hn.setAttributeNS(null,"fill","#000000"),hn.setAttributeNS(null,"opacity","0.25"),hn.setAttributeNS(null,"cx","5.5"),hn.setAttributeNS(null,"cy","5.5"),hn.setAttributeNS(null,"r","5.4999962");var pn=k.createNS("http://www.w3.org/2000/svg","circle");pn.setAttributeNS(null,"fill","#FFFFFF"),pn.setAttributeNS(null,"cx","5.5"),pn.setAttributeNS(null,"cy","5.5"),pn.setAttributeNS(null,"r","5.4999962"),Hr.appendChild(hn),Hr.appendChild(pn),se.appendChild(_e),se.appendChild(ur),se.appendChild(Nr),se.appendChild(Br),se.appendChild(Hr),F.appendChild(se),F.setAttributeNS(null,"height",41*this._scale+"px"),F.setAttributeNS(null,"width",27*this._scale+"px"),this._element.appendChild(F),this._offset=u.Point.convert(l&&l.offset||[0,-14])}this._element.classList.add("mapboxgl-marker"),this._element.addEventListener("dragstart",function(la){la.preventDefault()}),this._element.addEventListener("mousedown",function(la){la.preventDefault()}),nd(this._element,this._anchor,"marker"),this._popup=null}return v&&(c.__proto__=v),(c.prototype=Object.create(v&&v.prototype)).constructor=c,c.prototype.addTo=function(l){return this.remove(),this._map=l,l.getCanvasContainer().appendChild(this._element),l.on("move",this._update),l.on("moveend",this._update),this.setDraggable(this._draggable),this._update(),this._map.on("click",this._onMapClick),this},c.prototype.remove=function(){return this._map&&(this._map.off("click",this._onMapClick),this._map.off("move",this._update),this._map.off("moveend",this._update),this._map.off("mousedown",this._addDragHandler),this._map.off("touchstart",this._addDragHandler),this._map.off("mouseup",this._onUp),this._map.off("touchend",this._onUp),this._map.off("mousemove",this._onMove),this._map.off("touchmove",this._onMove),delete this._map),k.remove(this._element),this._popup&&this._popup.remove(),this},c.prototype.getLngLat=function(){return this._lngLat},c.prototype.setLngLat=function(l){return this._lngLat=u.LngLat.convert(l),this._pos=null,this._popup&&this._popup.setLngLat(this._lngLat),this._update(),this},c.prototype.getElement=function(){return this._element},c.prototype.setPopup=function(l){if(this._popup&&(this._popup.remove(),this._popup=null,this._element.removeEventListener("keypress",this._onKeyPress),this._originalTabIndex||this._element.removeAttribute("tabindex")),l){if(!("offset"in l.options)){var g=Math.sqrt(Math.pow(13.5,2)/2);l.options.offset=this._defaultMarker?{top:[0,0],"top-left":[0,0],"top-right":[0,0],bottom:[0,-38.1],"bottom-left":[g,-1*(24.6+g)],"bottom-right":[-g,-1*(24.6+g)],left:[13.5,-24.6],right:[-13.5,-24.6]}:this._offset}this._popup=l,this._lngLat&&this._popup.setLngLat(this._lngLat),this._originalTabIndex=this._element.getAttribute("tabindex"),this._originalTabIndex||this._element.setAttribute("tabindex","0"),this._element.addEventListener("keypress",this._onKeyPress)}return this},c.prototype._onKeyPress=function(l){var g=l.code,F=l.charCode||l.keyCode;g!=="Space"&&g!=="Enter"&&F!==32&&F!==13||this.togglePopup()},c.prototype._onMapClick=function(l){var g=l.originalEvent.target,F=this._element;this._popup&&(g===F||F.contains(g))&&this.togglePopup()},c.prototype.getPopup=function(){return this._popup},c.prototype.togglePopup=function(){var l=this._popup;return l?(l.isOpen()?l.remove():l.addTo(this._map),this):this},c.prototype._update=function(l){if(this._map){this._map.transform.renderWorldCopies&&(this._lngLat=dr(this._lngLat,this._pos,this._map.transform)),this._pos=this._map.project(this._lngLat)._add(this._offset);var g="";this._rotationAlignment==="viewport"||this._rotationAlignment==="auto"?g="rotateZ("+this._rotation+"deg)":this._rotationAlignment==="map"&&(g="rotateZ("+(this._rotation-this._map.getBearing())+"deg)");var F="";this._pitchAlignment==="viewport"||this._pitchAlignment==="auto"?F="rotateX(0deg)":this._pitchAlignment==="map"&&(F="rotateX("+this._map.getPitch()+"deg)"),l&&l.type!=="moveend"||(this._pos=this._pos.round()),k.setTransform(this._element,Iu[this._anchor]+" translate("+this._pos.x+"px, "+this._pos.y+"px) "+F+" "+g)}},c.prototype.getOffset=function(){return this._offset},c.prototype.setOffset=function(l){return this._offset=u.Point.convert(l),this._update(),this},c.prototype._onMove=function(l){if(!this._isDragging){var g=this._clickTolerance||this._map._clickTolerance;this._isDragging=l.point.dist(this._pointerdownPos)>=g}this._isDragging&&(this._pos=l.point.sub(this._positionDelta),this._lngLat=this._map.unproject(this._pos),this.setLngLat(this._lngLat),this._element.style.pointerEvents="none",this._state==="pending"&&(this._state="active",this.fire(new u.Event("dragstart"))),this.fire(new u.Event("drag")))},c.prototype._onUp=function(){this._element.style.pointerEvents="auto",this._positionDelta=null,this._pointerdownPos=null,this._isDragging=!1,this._map.off("mousemove",this._onMove),this._map.off("touchmove",this._onMove),this._state==="active"&&this.fire(new u.Event("dragend")),this._state="inactive"},c.prototype._addDragHandler=function(l){this._element.contains(l.originalEvent.target)&&(l.preventDefault(),this._positionDelta=l.point.sub(this._pos).add(this._offset),this._pointerdownPos=l.point,this._state="pending",this._map.on("mousemove",this._onMove),this._map.on("touchmove",this._onMove),this._map.once("mouseup",this._onUp),this._map.once("touchend",this._onUp))},c.prototype.setDraggable=function(l){return this._draggable=!!l,this._map&&(l?(this._map.on("mousedown",this._addDragHandler),this._map.on("touchstart",this._addDragHandler)):(this._map.off("mousedown",this._addDragHandler),this._map.off("touchstart",this._addDragHandler))),this},c.prototype.isDraggable=function(){return this._draggable},c.prototype.setRotation=function(l){return this._rotation=l||0,this._update(),this},c.prototype.getRotation=function(){return this._rotation},c.prototype.setRotationAlignment=function(l){return this._rotationAlignment=l||"auto",this._update(),this},c.prototype.getRotationAlignment=function(){return this._rotationAlignment},c.prototype.setPitchAlignment=function(l){return this._pitchAlignment=l&&l!=="auto"?l:this._rotationAlignment,this._update(),this},c.prototype.getPitchAlignment=function(){return this._pitchAlignment},c}(u.Evented),xp={positionOptions:{enableHighAccuracy:!1,maximumAge:0,timeout:6e3},fitBoundsOptions:{maxZoom:15},trackUserLocation:!1,showAccuracyCircle:!0,showUserLocation:!0},tp=0,th=!1,ad=function(v){function c(l){v.call(this),this.options=u.extend({},xp,l),u.bindAll(["_onSuccess","_onError","_onZoom","_finish","_setupUI","_updateCamera","_updateMarker"],this)}return v&&(c.__proto__=v),(c.prototype=Object.create(v&&v.prototype)).constructor=c,c.prototype.onAdd=function(l){var g;return this._map=l,this._container=k.create("div","mapboxgl-ctrl mapboxgl-ctrl-group"),g=this._setupUI,rc!==void 0?g(rc):u.window.navigator.permissions!==void 0?u.window.navigator.permissions.query({name:"geolocation"}).then(function(F){g(rc=F.state!=="denied")}):g(rc=!!u.window.navigator.geolocation),this._container},c.prototype.onRemove=function(){this._geolocationWatchID!==void 0&&(u.window.navigator.geolocation.clearWatch(this._geolocationWatchID),this._geolocationWatchID=void 0),this.options.showUserLocation&&this._userLocationDotMarker&&this._userLocationDotMarker.remove(),this.options.showAccuracyCircle&&this._accuracyCircleMarker&&this._accuracyCircleMarker.remove(),k.remove(this._container),this._map.off("zoom",this._onZoom),this._map=void 0,tp=0,th=!1},c.prototype._isOutOfMapMaxBounds=function(l){var g=this._map.getMaxBounds(),F=l.coords;return g&&(F.longitude<g.getWest()||F.longitude>g.getEast()||F.latitude<g.getSouth()||F.latitude>g.getNorth())},c.prototype._setErrorState=function(){switch(this._watchState){case"WAITING_ACTIVE":this._watchState="ACTIVE_ERROR",this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-active"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-active-error");break;case"ACTIVE_LOCK":this._watchState="ACTIVE_ERROR",this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-active"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-active-error"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-waiting");break;case"BACKGROUND":this._watchState="BACKGROUND_ERROR",this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-background"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-background-error"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-waiting")}},c.prototype._onSuccess=function(l){if(this._map){if(this._isOutOfMapMaxBounds(l))return this._setErrorState(),this.fire(new u.Event("outofmaxbounds",l)),this._updateMarker(),void this._finish();if(this.options.trackUserLocation)switch(this._lastKnownPosition=l,this._watchState){case"WAITING_ACTIVE":case"ACTIVE_LOCK":case"ACTIVE_ERROR":this._watchState="ACTIVE_LOCK",this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-active-error"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-active");break;case"BACKGROUND":case"BACKGROUND_ERROR":this._watchState="BACKGROUND",this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-background-error"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-background")}this.options.showUserLocation&&this._watchState!=="OFF"&&this._updateMarker(l),this.options.trackUserLocation&&this._watchState!=="ACTIVE_LOCK"||this._updateCamera(l),this.options.showUserLocation&&this._dotElement.classList.remove("mapboxgl-user-location-dot-stale"),this.fire(new u.Event("geolocate",l)),this._finish()}},c.prototype._updateCamera=function(l){var g=new u.LngLat(l.coords.longitude,l.coords.latitude),F=l.coords.accuracy,Q=this._map.getBearing(),se=u.extend({bearing:Q},this.options.fitBoundsOptions);this._map.fitBounds(g.toBounds(F),se,{geolocateSource:!0})},c.prototype._updateMarker=function(l){if(l){var g=new u.LngLat(l.coords.longitude,l.coords.latitude);this._accuracyCircleMarker.setLngLat(g).addTo(this._map),this._userLocationDotMarker.setLngLat(g).addTo(this._map),this._accuracy=l.coords.accuracy,this.options.showUserLocation&&this.options.showAccuracyCircle&&this._updateCircleRadius()}else this._userLocationDotMarker.remove(),this._accuracyCircleMarker.remove()},c.prototype._updateCircleRadius=function(){var l=this._map._container.clientHeight/2,g=this._map.unproject([0,l]),F=this._map.unproject([1,l]),Q=g.distanceTo(F),se=Math.ceil(2*this._accuracy/Q);this._circleElement.style.width=se+"px",this._circleElement.style.height=se+"px"},c.prototype._onZoom=function(){this.options.showUserLocation&&this.options.showAccuracyCircle&&this._updateCircleRadius()},c.prototype._onError=function(l){if(this._map){if(this.options.trackUserLocation)if(l.code===1){this._watchState="OFF",this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-active"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-active-error"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-background"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-background-error"),this._geolocateButton.disabled=!0;var g=this._map._getUIString("GeolocateControl.LocationNotAvailable");this._geolocateButton.title=g,this._geolocateButton.setAttribute("aria-label",g),this._geolocationWatchID!==void 0&&this._clearWatch()}else{if(l.code===3&&th)return;this._setErrorState()}this._watchState!=="OFF"&&this.options.showUserLocation&&this._dotElement.classList.add("mapboxgl-user-location-dot-stale"),this.fire(new u.Event("error",l)),this._finish()}},c.prototype._finish=function(){this._timeoutId&&clearTimeout(this._timeoutId),this._timeoutId=void 0},c.prototype._setupUI=function(l){var g=this;if(this._container.addEventListener("contextmenu",function(se){return se.preventDefault()}),this._geolocateButton=k.create("button","mapboxgl-ctrl-geolocate",this._container),k.create("span","mapboxgl-ctrl-icon",this._geolocateButton).setAttribute("aria-hidden",!0),this._geolocateButton.type="button",l===!1){u.warnOnce("Geolocation support is not available so the GeolocateControl will be disabled.");var F=this._map._getUIString("GeolocateControl.LocationNotAvailable");this._geolocateButton.disabled=!0,this._geolocateButton.title=F,this._geolocateButton.setAttribute("aria-label",F)}else{var Q=this._map._getUIString("GeolocateControl.FindMyLocation");this._geolocateButton.title=Q,this._geolocateButton.setAttribute("aria-label",Q)}this.options.trackUserLocation&&(this._geolocateButton.setAttribute("aria-pressed","false"),this._watchState="OFF"),this.options.showUserLocation&&(this._dotElement=k.create("div","mapboxgl-user-location-dot"),this._userLocationDotMarker=new $s(this._dotElement),this._circleElement=k.create("div","mapboxgl-user-location-accuracy-circle"),this._accuracyCircleMarker=new $s({element:this._circleElement,pitchAlignment:"map"}),this.options.trackUserLocation&&(this._watchState="OFF"),this._map.on("zoom",this._onZoom)),this._geolocateButton.addEventListener("click",this.trigger.bind(this)),this._setup=!0,this.options.trackUserLocation&&this._map.on("movestart",function(se){se.geolocateSource||g._watchState!=="ACTIVE_LOCK"||se.originalEvent&&se.originalEvent.type==="resize"||(g._watchState="BACKGROUND",g._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-background"),g._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-active"),g.fire(new u.Event("trackuserlocationend")))})},c.prototype.trigger=function(){if(!this._setup)return u.warnOnce("Geolocate control triggered before added to a map"),!1;if(this.options.trackUserLocation){switch(this._watchState){case"OFF":this._watchState="WAITING_ACTIVE",this.fire(new u.Event("trackuserlocationstart"));break;case"WAITING_ACTIVE":case"ACTIVE_LOCK":case"ACTIVE_ERROR":case"BACKGROUND_ERROR":tp--,th=!1,this._watchState="OFF",this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-active"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-active-error"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-background"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-background-error"),this.fire(new u.Event("trackuserlocationend"));break;case"BACKGROUND":this._watchState="ACTIVE_LOCK",this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-background"),this._lastKnownPosition&&this._updateCamera(this._lastKnownPosition),this.fire(new u.Event("trackuserlocationstart"))}switch(this._watchState){case"WAITING_ACTIVE":this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-active");break;case"ACTIVE_LOCK":this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-active");break;case"ACTIVE_ERROR":this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-active-error");break;case"BACKGROUND":this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-background");break;case"BACKGROUND_ERROR":this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-background-error")}if(this._watchState==="OFF"&&this._geolocationWatchID!==void 0)this._clearWatch();else if(this._geolocationWatchID===void 0){var l;this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.setAttribute("aria-pressed","true"),++tp>1?(l={maximumAge:6e5,timeout:0},th=!0):(l=this.options.positionOptions,th=!1),this._geolocationWatchID=u.window.navigator.geolocation.watchPosition(this._onSuccess,this._onError,l)}}else u.window.navigator.geolocation.getCurrentPosition(this._onSuccess,this._onError,this.options.positionOptions),this._timeoutId=setTimeout(this._finish,1e4);return!0},c.prototype._clearWatch=function(){u.window.navigator.geolocation.clearWatch(this._geolocationWatchID),this._geolocationWatchID=void 0,this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.setAttribute("aria-pressed","false"),this.options.showUserLocation&&this._updateMarker(null)},c}(u.Evented),zd={maxWidth:100,unit:"metric"},bd=function(c){this.options=u.extend({},zd,c),u.bindAll(["_onMove","setUnit"],this)};function Yc(v,c,l){var g=l&&l.maxWidth||100,F=v._container.clientHeight/2,Q=v.unproject([0,F]),se=v.unproject([g,F]),_e=Q.distanceTo(se);if(l&&l.unit==="imperial"){var mt=3.2808*_e;mt>5280?Ud(c,g,mt/5280,v._getUIString("ScaleControl.Miles")):Ud(c,g,mt,v._getUIString("ScaleControl.Feet"))}else l&&l.unit==="nautical"?Ud(c,g,_e/1852,v._getUIString("ScaleControl.NauticalMiles")):_e>=1e3?Ud(c,g,_e/1e3,v._getUIString("ScaleControl.Kilometers")):Ud(c,g,_e,v._getUIString("ScaleControl.Meters"))}function Ud(v,c,l,g){var F,Q,se,_e=(F=l,(Q=Math.pow(10,(""+Math.floor(F)).length-1))*(se=(se=F/Q)>=10?10:se>=5?5:se>=3?3:se>=2?2:se>=1?1:function(mt){var Rt=Math.pow(10,Math.ceil(-Math.log(mt)/Math.LN10));return Math.round(mt*Rt)/Rt}(se)));v.style.width=c*(_e/l)+"px",v.innerHTML=_e+"&nbsp;"+g}bd.prototype.getDefaultPosition=function(){return"bottom-left"},bd.prototype._onMove=function(){Yc(this._map,this._container,this.options)},bd.prototype.onAdd=function(v){return this._map=v,this._container=k.create("div","mapboxgl-ctrl mapboxgl-ctrl-scale",v.getContainer()),this._map.on("move",this._onMove),this._onMove(),this._container},bd.prototype.onRemove=function(){k.remove(this._container),this._map.off("move",this._onMove),this._map=void 0},bd.prototype.setUnit=function(v){this.options.unit=v,Yc(this._map,this._container,this.options)};var Rf=function(c){this._fullscreen=!1,c&&c.container&&(c.container instanceof u.window.HTMLElement?this._container=c.container:u.warnOnce("Full screen control 'container' must be a DOM element.")),u.bindAll(["_onClickFullscreen","_changeIcon"],this),"onfullscreenchange"in u.window.document?this._fullscreenchange="fullscreenchange":"onmozfullscreenchange"in u.window.document?this._fullscreenchange="mozfullscreenchange":"onwebkitfullscreenchange"in u.window.document?this._fullscreenchange="webkitfullscreenchange":"onmsfullscreenchange"in u.window.document&&(this._fullscreenchange="MSFullscreenChange")};Rf.prototype.onAdd=function(v){return this._map=v,this._container||(this._container=this._map.getContainer()),this._controlContainer=k.create("div","mapboxgl-ctrl mapboxgl-ctrl-group"),this._checkFullscreenSupport()?this._setupUI():(this._controlContainer.style.display="none",u.warnOnce("This device does not support fullscreen mode.")),this._controlContainer},Rf.prototype.onRemove=function(){k.remove(this._controlContainer),this._map=null,u.window.document.removeEventListener(this._fullscreenchange,this._changeIcon)},Rf.prototype._checkFullscreenSupport=function(){return!!(u.window.document.fullscreenEnabled||u.window.document.mozFullScreenEnabled||u.window.document.msFullscreenEnabled||u.window.document.webkitFullscreenEnabled)},Rf.prototype._setupUI=function(){var v=this._fullscreenButton=k.create("button","mapboxgl-ctrl-fullscreen",this._controlContainer);k.create("span","mapboxgl-ctrl-icon",v).setAttribute("aria-hidden",!0),v.type="button",this._updateTitle(),this._fullscreenButton.addEventListener("click",this._onClickFullscreen),u.window.document.addEventListener(this._fullscreenchange,this._changeIcon)},Rf.prototype._updateTitle=function(){var v=this._getTitle();this._fullscreenButton.setAttribute("aria-label",v),this._fullscreenButton.title=v},Rf.prototype._getTitle=function(){return this._map._getUIString(this._isFullscreen()?"FullscreenControl.Exit":"FullscreenControl.Enter")},Rf.prototype._isFullscreen=function(){return this._fullscreen},Rf.prototype._changeIcon=function(){(u.window.document.fullscreenElement||u.window.document.mozFullScreenElement||u.window.document.webkitFullscreenElement||u.window.document.msFullscreenElement)===this._container!==this._fullscreen&&(this._fullscreen=!this._fullscreen,this._fullscreenButton.classList.toggle("mapboxgl-ctrl-shrink"),this._fullscreenButton.classList.toggle("mapboxgl-ctrl-fullscreen"),this._updateTitle())},Rf.prototype._onClickFullscreen=function(){this._isFullscreen()?u.window.document.exitFullscreen?u.window.document.exitFullscreen():u.window.document.mozCancelFullScreen?u.window.document.mozCancelFullScreen():u.window.document.msExitFullscreen?u.window.document.msExitFullscreen():u.window.document.webkitCancelFullScreen&&u.window.document.webkitCancelFullScreen():this._container.requestFullscreen?this._container.requestFullscreen():this._container.mozRequestFullScreen?this._container.mozRequestFullScreen():this._container.msRequestFullscreen?this._container.msRequestFullscreen():this._container.webkitRequestFullscreen&&this._container.webkitRequestFullscreen()};var $c={closeButton:!0,closeOnClick:!0,focusAfterOpen:!0,className:"",maxWidth:"240px"},id=["a[href]","[tabindex]:not([tabindex='-1'])","[contenteditable]:not([contenteditable='false'])","button:not([disabled])","input:not([disabled])","select:not([disabled])","textarea:not([disabled])"].join(", "),Vd=function(v){function c(l){v.call(this),this.options=u.extend(Object.create($c),l),u.bindAll(["_update","_onClose","remove","_onMouseMove","_onMouseUp","_onDrag"],this)}return v&&(c.__proto__=v),(c.prototype=Object.create(v&&v.prototype)).constructor=c,c.prototype.addTo=function(l){return this._map&&this.remove(),this._map=l,this.options.closeOnClick&&this._map.on("click",this._onClose),this.options.closeOnMove&&this._map.on("move",this._onClose),this._map.on("remove",this.remove),this._update(),this._focusFirstElement(),this._trackPointer?(this._map.on("mousemove",this._onMouseMove),this._map.on("mouseup",this._onMouseUp),this._container&&this._container.classList.add("mapboxgl-popup-track-pointer"),this._map._canvasContainer.classList.add("mapboxgl-track-pointer")):this._map.on("move",this._update),this.fire(new u.Event("open")),this},c.prototype.isOpen=function(){return!!this._map},c.prototype.remove=function(){return this._content&&k.remove(this._content),this._container&&(k.remove(this._container),delete this._container),this._map&&(this._map.off("move",this._update),this._map.off("move",this._onClose),this._map.off("click",this._onClose),this._map.off("remove",this.remove),this._map.off("mousemove",this._onMouseMove),this._map.off("mouseup",this._onMouseUp),this._map.off("drag",this._onDrag),delete this._map),this.fire(new u.Event("close")),this},c.prototype.getLngLat=function(){return this._lngLat},c.prototype.setLngLat=function(l){return this._lngLat=u.LngLat.convert(l),this._pos=null,this._trackPointer=!1,this._update(),this._map&&(this._map.on("move",this._update),this._map.off("mousemove",this._onMouseMove),this._container&&this._container.classList.remove("mapboxgl-popup-track-pointer"),this._map._canvasContainer.classList.remove("mapboxgl-track-pointer")),this},c.prototype.trackPointer=function(){return this._trackPointer=!0,this._pos=null,this._update(),this._map&&(this._map.off("move",this._update),this._map.on("mousemove",this._onMouseMove),this._map.on("drag",this._onDrag),this._container&&this._container.classList.add("mapboxgl-popup-track-pointer"),this._map._canvasContainer.classList.add("mapboxgl-track-pointer")),this},c.prototype.getElement=function(){return this._container},c.prototype.setText=function(l){return this.setDOMContent(u.window.document.createTextNode(l))},c.prototype.setHTML=function(l){var g,F=u.window.document.createDocumentFragment(),Q=u.window.document.createElement("body");for(Q.innerHTML=l;g=Q.firstChild;)F.appendChild(g);return this.setDOMContent(F)},c.prototype.getMaxWidth=function(){return this._container&&this._container.style.maxWidth},c.prototype.setMaxWidth=function(l){return this.options.maxWidth=l,this._update(),this},c.prototype.setDOMContent=function(l){if(this._content)for(;this._content.hasChildNodes();)this._content.firstChild&&this._content.removeChild(this._content.firstChild);else this._content=k.create("div","mapboxgl-popup-content",this._container);return this._content.appendChild(l),this._createCloseButton(),this._update(),this._focusFirstElement(),this},c.prototype.addClassName=function(l){this._container&&this._container.classList.add(l)},c.prototype.removeClassName=function(l){this._container&&this._container.classList.remove(l)},c.prototype.setOffset=function(l){return this.options.offset=l,this._update(),this},c.prototype.toggleClassName=function(l){if(this._container)return this._container.classList.toggle(l)},c.prototype._createCloseButton=function(){this.options.closeButton&&(this._closeButton=k.create("button","mapboxgl-popup-close-button",this._content),this._closeButton.type="button",this._closeButton.setAttribute("aria-label","Close popup"),this._closeButton.innerHTML="&#215;",this._closeButton.addEventListener("click",this._onClose))},c.prototype._onMouseUp=function(l){this._update(l.point)},c.prototype._onMouseMove=function(l){this._update(l.point)},c.prototype._onDrag=function(l){this._update(l.point)},c.prototype._update=function(l){var g=this;if(this._map&&(this._lngLat||this._trackPointer)&&this._content&&(this._container||(this._container=k.create("div","mapboxgl-popup",this._map.getContainer()),this._tip=k.create("div","mapboxgl-popup-tip",this._container),this._container.appendChild(this._content),this.options.className&&this.options.className.split(" ").forEach(function(rr){return g._container.classList.add(rr)}),this._trackPointer&&this._container.classList.add("mapboxgl-popup-track-pointer")),this.options.maxWidth&&this._container.style.maxWidth!==this.options.maxWidth&&(this._container.style.maxWidth=this.options.maxWidth),this._map.transform.renderWorldCopies&&!this._trackPointer&&(this._lngLat=dr(this._lngLat,this._pos,this._map.transform)),!this._trackPointer||l)){var F=this._pos=this._trackPointer&&l?l:this._map.project(this._lngLat),Q=this.options.anchor,se=function rr(ur){if(ur){if(typeof ur=="number"){var kr=Math.round(Math.sqrt(.5*Math.pow(ur,2)));return{center:new u.Point(0,0),top:new u.Point(0,ur),"top-left":new u.Point(kr,kr),"top-right":new u.Point(-kr,kr),bottom:new u.Point(0,-ur),"bottom-left":new u.Point(kr,-kr),"bottom-right":new u.Point(-kr,-kr),left:new u.Point(ur,0),right:new u.Point(-ur,0)}}if(ur instanceof u.Point||Array.isArray(ur)){var Nr=u.Point.convert(ur);return{center:Nr,top:Nr,"top-left":Nr,"top-right":Nr,bottom:Nr,"bottom-left":Nr,"bottom-right":Nr,left:Nr,right:Nr}}return{center:u.Point.convert(ur.center||[0,0]),top:u.Point.convert(ur.top||[0,0]),"top-left":u.Point.convert(ur["top-left"]||[0,0]),"top-right":u.Point.convert(ur["top-right"]||[0,0]),bottom:u.Point.convert(ur.bottom||[0,0]),"bottom-left":u.Point.convert(ur["bottom-left"]||[0,0]),"bottom-right":u.Point.convert(ur["bottom-right"]||[0,0]),left:u.Point.convert(ur.left||[0,0]),right:u.Point.convert(ur.right||[0,0])}}return rr(new u.Point(0,0))}(this.options.offset);if(!Q){var _e,mt=this._container.offsetWidth,Rt=this._container.offsetHeight;_e=F.y+se.bottom.y<Rt?["top"]:F.y>this._map.transform.height-Rt?["bottom"]:[],F.x<mt/2?_e.push("left"):F.x>this._map.transform.width-mt/2&&_e.push("right"),Q=_e.length===0?"bottom":_e.join("-")}var ir=F.add(se[Q]).round();k.setTransform(this._container,Iu[Q]+" translate("+ir.x+"px,"+ir.y+"px)"),nd(this._container,Q,"popup")}},c.prototype._focusFirstElement=function(){if(this.options.focusAfterOpen&&this._container){var l=this._container.querySelector(id);l&&l.focus()}},c.prototype._onClose=function(){this.remove()},c}(u.Evented),Cp={version:u.version,supported:H,setRTLTextPlugin:u.setRTLTextPlugin,getRTLTextPluginStatus:u.getRTLTextPluginStatus,Map:eh,NavigationControl:Mc,GeolocateControl:ad,AttributionControl:_u,ScaleControl:bd,FullscreenControl:Rf,Popup:Vd,Marker:$s,Style:Bs,LngLat:u.LngLat,LngLatBounds:u.LngLatBounds,Point:u.Point,MercatorCoordinate:u.MercatorCoordinate,Evented:u.Evented,config:u.config,prewarm:function(){Pr().acquire($t)},clearPrewarmedResources:function(){var c=lr;c&&(c.isPreloaded()&&c.numActive()===1?(c.release($t),lr=null):console.warn("Could not clear WebWorkers since there are active Map instances that still reference it. The pre-warmed WebWorker pool can only be cleared when all map instances have been removed with map.remove()"))},get accessToken(){return u.config.ACCESS_TOKEN},set accessToken(v){u.config.ACCESS_TOKEN=v},get baseApiUrl(){return u.config.API_URL},set baseApiUrl(v){u.config.API_URL=v},get workerCount(){return nr.workerCount},set workerCount(v){nr.workerCount=v},get maxParallelImageRequests(){return u.config.MAX_PARALLEL_IMAGE_REQUESTS},set maxParallelImageRequests(v){u.config.MAX_PARALLEL_IMAGE_REQUESTS=v},clearStorage:function(c){u.clearTileCache(c)},workerUrl:""};return Cp}),T})},"4cb6":function(ze,A,r){"use strict";Object.defineProperty(A,"__esModule",{value:!0}),A.multiBindToService=A.getServiceIdentifierAsString=A.typeConstraint=A.namedConstraint=A.taggedConstraint=A.traverseAncerstors=A.decorate=A.id=A.MetadataReader=A.postConstruct=A.targetName=A.multiInject=A.unmanaged=A.optional=A.LazyServiceIdentifer=A.inject=A.named=A.tagged=A.injectable=A.ContainerModule=A.AsyncContainerModule=A.TargetTypeEnum=A.BindingTypeEnum=A.BindingScopeEnum=A.Container=A.METADATA_KEY=void 0;var M=r("xfSm");A.METADATA_KEY=M;var y=r("9Fde");Object.defineProperty(A,"Container",{enumerable:!0,get:function(){return y.Container}});var T=r("FV85");Object.defineProperty(A,"BindingScopeEnum",{enumerable:!0,get:function(){return T.BindingScopeEnum}}),Object.defineProperty(A,"BindingTypeEnum",{enumerable:!0,get:function(){return T.BindingTypeEnum}}),Object.defineProperty(A,"TargetTypeEnum",{enumerable:!0,get:function(){return T.TargetTypeEnum}});var b=r("dxzI");Object.defineProperty(A,"AsyncContainerModule",{enumerable:!0,get:function(){return b.AsyncContainerModule}}),Object.defineProperty(A,"ContainerModule",{enumerable:!0,get:function(){return b.ContainerModule}});var u=r("cZ5Q");Object.defineProperty(A,"injectable",{enumerable:!0,get:function(){return u.injectable}});var H=r("0gSV");Object.defineProperty(A,"tagged",{enumerable:!0,get:function(){return H.tagged}});var k=r("ZzCi");Object.defineProperty(A,"named",{enumerable:!0,get:function(){return k.named}});var Z=r("Yk9n");Object.defineProperty(A,"inject",{enumerable:!0,get:function(){return Z.inject}}),Object.defineProperty(A,"LazyServiceIdentifer",{enumerable:!0,get:function(){return Z.LazyServiceIdentifer}});var oe=r("jYx5");Object.defineProperty(A,"optional",{enumerable:!0,get:function(){return oe.optional}});var ne=r("n2J3");Object.defineProperty(A,"unmanaged",{enumerable:!0,get:function(){return ne.unmanaged}});var Te=r("jIg/");Object.defineProperty(A,"multiInject",{enumerable:!0,get:function(){return Te.multiInject}});var at=r("oaX6");Object.defineProperty(A,"targetName",{enumerable:!0,get:function(){return at.targetName}});var ve=r("Sk89");Object.defineProperty(A,"postConstruct",{enumerable:!0,get:function(){return ve.postConstruct}});var we=r("wnjb");Object.defineProperty(A,"MetadataReader",{enumerable:!0,get:function(){return we.MetadataReader}});var I=r("d9O0");Object.defineProperty(A,"id",{enumerable:!0,get:function(){return I.id}});var Ce=r("Ztfv");Object.defineProperty(A,"decorate",{enumerable:!0,get:function(){return Ce.decorate}});var et=r("RR/i");Object.defineProperty(A,"traverseAncerstors",{enumerable:!0,get:function(){return et.traverseAncerstors}}),Object.defineProperty(A,"taggedConstraint",{enumerable:!0,get:function(){return et.taggedConstraint}}),Object.defineProperty(A,"namedConstraint",{enumerable:!0,get:function(){return et.namedConstraint}}),Object.defineProperty(A,"typeConstraint",{enumerable:!0,get:function(){return et.typeConstraint}});var Et=r("ujMp");Object.defineProperty(A,"getServiceIdentifierAsString",{enumerable:!0,get:function(){return Et.getServiceIdentifierAsString}});var We=r("78VC");Object.defineProperty(A,"multiBindToService",{enumerable:!0,get:function(){return We.multiBindToService}})},"4kj+":function(ze,A){},"4qC0":function(ze,A,r){var M=r("NykK"),y=r("Z0cm"),T=r("ExA7"),b="[object String]";function u(H){return typeof H=="string"||!y(H)&&T(H)&&M(H)==b}ze.exports=u},"4sDh":function(ze,A,r){var M=r("4uTw"),y=r("03A+"),T=r("Z0cm"),b=r("wJg7"),u=r("shjB"),H=r("9Nap");function k(Z,oe,ne){oe=M(oe,Z);for(var Te=-1,at=oe.length,ve=!1;++Te<at;){var we=H(oe[Te]);if(!(ve=Z!=null&&ne(Z,we)))break;Z=Z[we]}return ve||++Te!=at?ve:(at=Z==null?0:Z.length,!!at&&u(at)&&b(we,at)&&(T(Z)||y(Z)))}ze.exports=k},"4uTw":function(ze,A,r){var M=r("Z0cm"),y=r("9ggG"),T=r("GNiM"),b=r("dt0z");function u(H,k){return M(H)?H:y(H,k)?[H]:T(b(H))}ze.exports=u},"5Tg0":function(ze,A,r){(function(M){var y=r("Kz5y"),T=A&&!A.nodeType&&A,b=T&&typeof M=="object"&&M&&!M.nodeType&&M,u=b&&b.exports===T,H=u?y.Buffer:void 0,k=H?H.allocUnsafe:void 0;function Z(oe,ne){if(ne)return oe.slice();var Te=oe.length,at=k?k(Te):new oe.constructor(Te);return oe.copy(at),at}M.exports=Z}).call(this,r("hOG+")(ze))},"5gLl":function(ze,A,r){"use strict";r.d(A,"a",function(){return ie});var M=r("lSNA"),y=r.n(M),T=r("LvWW"),b=r.n(T),u=r("0wsv");function H(J){if(!J)throw new Error("coord is required");if(!Array.isArray(J)){if(J.type==="Feature"&&J.geometry!==null&&J.geometry.type==="Point")return J.geometry.coordinates;if(J.type==="Point")return J.coordinates}if(Array.isArray(J)&&J.length>=2&&!Array.isArray(J[0])&&!Array.isArray(J[1]))return J;throw new Error("coord must be GeoJSON Point or an Array of numbers")}function k(J){if(Array.isArray(J))return J;if(J.type==="Feature"){if(J.geometry!==null)return J.geometry.coordinates}else if(J.coordinates)return J.coordinates;throw new Error("coords must be GeoJSON Feature, Geometry Object or an Array")}function Z(J){if(J.length>1&&Object(u.c)(J[0])&&Object(u.c)(J[1]))return!0;if(Array.isArray(J[0])&&J[0].length)return Z(J[0]);throw new Error("coordinates must only contain numbers")}function oe(J,ee,Ie){if(!ee||!Ie)throw new Error("type and name required");if(!J||J.type!==ee)throw new Error("Invalid input to "+Ie+": must be a "+ee+", given "+J.type)}function ne(J,ee,Ie){if(!J)throw new Error("No feature passed");if(!Ie)throw new Error(".featureOf() requires a name");if(!J||J.type!=="Feature"||!J.geometry)throw new Error("Invalid input to "+Ie+", Feature with geometry required");if(!J.geometry||J.geometry.type!==ee)throw new Error("Invalid input to "+Ie+": must be a "+ee+", given "+J.geometry.type)}function Te(J,ee,Ie){if(!J)throw new Error("No featureCollection passed");if(!Ie)throw new Error(".collectionOf() requires a name");if(!J||J.type!=="FeatureCollection")throw new Error("Invalid input to "+Ie+", FeatureCollection required");for(var me=0,Ve=J.features;me<Ve.length;me++){var Re=Ve[me];if(!Re||Re.type!=="Feature"||!Re.geometry)throw new Error("Invalid input to "+Ie+", Feature with geometry required");if(!Re.geometry||Re.geometry.type!==ee)throw new Error("Invalid input to "+Ie+": must be a "+ee+", given "+Re.geometry.type)}}function at(J){return J.type==="Feature"?J.geometry:J}function ve(J,ee){return J.type==="FeatureCollection"?"FeatureCollection":J.type==="GeometryCollection"?"GeometryCollection":J.type==="Feature"&&J.geometry!==null?J.geometry.type:J.type}function we(J,ee,Ie){if(J!==null)for(var me,Ve,Re,bt,Pt,ht,Ye,Ke=0,nt=0,Ot,Xe=J.type,xt=Xe==="FeatureCollection",Ne=Xe==="Feature",B=xt?J.features.length:1,z=0;z<B;z++){Ye=xt?J.features[z].geometry:Ne?J.geometry:J,Ot=Ye?Ye.type==="GeometryCollection":!1,Pt=Ot?Ye.geometries.length:1;for(var q=0;q<Pt;q++){var S=0,K=0;if(bt=Ot?Ye.geometries[q]:Ye,bt!==null){ht=bt.coordinates;var fe=bt.type;switch(Ke=Ie&&(fe==="Polygon"||fe==="MultiPolygon")?1:0,fe){case null:break;case"Point":if(ee(ht,nt,z,S,K)===!1)return!1;nt++,S++;break;case"LineString":case"MultiPoint":for(me=0;me<ht.length;me++){if(ee(ht[me],nt,z,S,K)===!1)return!1;nt++,fe==="MultiPoint"&&S++}fe==="LineString"&&S++;break;case"Polygon":case"MultiLineString":for(me=0;me<ht.length;me++){for(Ve=0;Ve<ht[me].length-Ke;Ve++){if(ee(ht[me][Ve],nt,z,S,K)===!1)return!1;nt++}fe==="MultiLineString"&&S++,fe==="Polygon"&&K++}fe==="Polygon"&&S++;break;case"MultiPolygon":for(me=0;me<ht.length;me++){for(K=0,Ve=0;Ve<ht[me].length;Ve++){for(Re=0;Re<ht[me][Ve].length-Ke;Re++){if(ee(ht[me][Ve][Re],nt,z,S,K)===!1)return!1;nt++}K++}S++}break;case"GeometryCollection":for(me=0;me<bt.geometries.length;me++)if(we(bt.geometries[me],ee,Ie)===!1)return!1;break;default:throw new Error("Unknown Geometry Type")}}}}}function I(J,ee,Ie,me){var Ve=Ie;return we(J,function(Re,bt,Pt,ht,Ye){bt===0&&Ie===void 0?Ve=Re:Ve=ee(Ve,Re,bt,Pt,ht,Ye)},me),Ve}function Ce(J,ee){var Ie;switch(J.type){case"FeatureCollection":for(Ie=0;Ie<J.features.length&&ee(J.features[Ie].properties,Ie)!==!1;Ie++);break;case"Feature":ee(J.properties,0);break}}function et(J,ee,Ie){var me=Ie;return Ce(J,function(Ve,Re){Re===0&&Ie===void 0?me=Ve:me=ee(me,Ve,Re)}),me}function Et(J,ee){if(J.type==="Feature")ee(J,0);else if(J.type==="FeatureCollection")for(var Ie=0;Ie<J.features.length&&ee(J.features[Ie],Ie)!==!1;Ie++);}function We(J,ee,Ie){var me=Ie;return Et(J,function(Ve,Re){Re===0&&Ie===void 0?me=Ve:me=ee(me,Ve,Re)}),me}function ct(J){var ee=[];return we(J,function(Ie){ee.push(Ie)}),ee}function ce(J,ee){var Ie,me,Ve,Re,bt,Pt,ht,Ye,Ke,nt,Ot=0,Xe=J.type==="FeatureCollection",xt=J.type==="Feature",Ne=Xe?J.features.length:1;for(Ie=0;Ie<Ne;Ie++){for(Pt=Xe?J.features[Ie].geometry:xt?J.geometry:J,Ye=Xe?J.features[Ie].properties:xt?J.properties:{},Ke=Xe?J.features[Ie].bbox:xt?J.bbox:void 0,nt=Xe?J.features[Ie].id:xt?J.id:void 0,ht=Pt?Pt.type==="GeometryCollection":!1,bt=ht?Pt.geometries.length:1,Ve=0;Ve<bt;Ve++){if(Re=ht?Pt.geometries[Ve]:Pt,Re===null){if(ee(null,Ot,Ye,Ke,nt)===!1)return!1;continue}switch(Re.type){case"Point":case"LineString":case"MultiPoint":case"Polygon":case"MultiLineString":case"MultiPolygon":{if(ee(Re,Ot,Ye,Ke,nt)===!1)return!1;break}case"GeometryCollection":{for(me=0;me<Re.geometries.length;me++)if(ee(Re.geometries[me],Ot,Ye,Ke,nt)===!1)return!1;break}default:throw new Error("Unknown Geometry Type")}}Ot++}}function Vt(J,ee,Ie){var me=Ie;return ce(J,function(Ve,Re,bt,Pt,ht){Re===0&&Ie===void 0?me=Ve:me=ee(me,Ve,Re,bt,Pt,ht)}),me}function It(J,ee){ce(J,function(Ie,me,Ve,Re,bt){var Pt=Ie===null?null:Ie.type;switch(Pt){case null:case"Point":case"LineString":case"Polygon":return ee(Object(u.b)(Ie,Ve,{bbox:Re,id:bt}),me,0)===!1?!1:void 0}var ht;switch(Pt){case"MultiPoint":ht="Point";break;case"MultiLineString":ht="LineString";break;case"MultiPolygon":ht="Polygon";break}for(var Ye=0;Ye<Ie.coordinates.length;Ye++){var Ke=Ie.coordinates[Ye],nt={type:ht,coordinates:Ke};if(ee(Object(u.b)(nt,Ve),me,Ye)===!1)return!1}})}function Mt(J,ee,Ie){var me=Ie;return It(J,function(Ve,Re,bt){Re===0&&bt===0&&Ie===void 0?me=Ve:me=ee(me,Ve,Re,bt)}),me}function Tt(J,ee){It(J,function(Ie,me,Ve){var Re=0;if(!!Ie.geometry){var bt=Ie.geometry.type;if(!(bt==="Point"||bt==="MultiPoint")){var Pt,ht=0,Ye=0,Ke=0;if(we(Ie,function(nt,Ot,Xe,xt,Ne){if(Pt===void 0||me>ht||xt>Ye||Ne>Ke){Pt=nt,ht=me,Ye=xt,Ke=Ne,Re=0;return}var B=Object(u.e)([Pt,nt],Ie.properties);if(ee(B,me,Ve,Ne,Re)===!1)return!1;Re++,Pt=nt})===!1)return!1}}})}function ye(J,ee,Ie){var me=Ie,Ve=!1;return Tt(J,function(Re,bt,Pt,ht,Ye){Ve===!1&&Ie===void 0?me=Re:me=ee(me,Re,bt,Pt,ht,Ye),Ve=!0}),me}function lt(J,ee){if(!J)throw new Error("geojson is required");It(J,function(Ie,me,Ve){if(Ie.geometry!==null){var Re=Ie.geometry.type,bt=Ie.geometry.coordinates;switch(Re){case"LineString":if(ee(Ie,me,Ve,0,0)===!1)return!1;break;case"Polygon":for(var Pt=0;Pt<bt.length;Pt++)if(ee(Object(u.e)(bt[Pt],Ie.properties),me,Ve,Pt)===!1)return!1;break}}})}function yt(J,ee,Ie){var me=Ie;return lt(J,function(Ve,Re,bt,Pt){Re===0&&Ie===void 0?me=Ve:me=ee(me,Ve,Re,bt,Pt)}),me}function Dt(J,ee){if(ee=ee||{},!Object(u.d)(ee))throw new Error("options is invalid");var Ie=ee.featureIndex||0,me=ee.multiFeatureIndex||0,Ve=ee.geometryIndex||0,Re=ee.segmentIndex||0,bt=ee.properties,Pt;switch(J.type){case"FeatureCollection":Ie<0&&(Ie=J.features.length+Ie),bt=bt||J.features[Ie].properties,Pt=J.features[Ie].geometry;break;case"Feature":bt=bt||J.properties,Pt=J.geometry;break;case"Point":case"MultiPoint":return null;case"LineString":case"Polygon":case"MultiLineString":case"MultiPolygon":Pt=J;break;default:throw new Error("geojson is invalid")}if(Pt===null)return null;var ht=Pt.coordinates;switch(Pt.type){case"Point":case"MultiPoint":return null;case"LineString":return Re<0&&(Re=ht.length+Re-1),Object(u.e)([ht[Re],ht[Re+1]],bt,ee);case"Polygon":return Ve<0&&(Ve=ht.length+Ve),Re<0&&(Re=ht[Ve].length+Re-1),Object(u.e)([ht[Ve][Re],ht[Ve][Re+1]],bt,ee);case"MultiLineString":return me<0&&(me=ht.length+me),Re<0&&(Re=ht[me].length+Re-1),Object(u.e)([ht[me][Re],ht[me][Re+1]],bt,ee);case"MultiPolygon":return me<0&&(me=ht.length+me),Ve<0&&(Ve=ht[me].length+Ve),Re<0&&(Re=ht[me][Ve].length-Re-1),Object(u.e)([ht[me][Ve][Re],ht[me][Ve][Re+1]],bt,ee)}throw new Error("geojson is invalid")}function Jt(J,ee){if(ee=ee||{},!Object(u.d)(ee))throw new Error("options is invalid");var Ie=ee.featureIndex||0,me=ee.multiFeatureIndex||0,Ve=ee.geometryIndex||0,Re=ee.coordIndex||0,bt=ee.properties,Pt;switch(J.type){case"FeatureCollection":Ie<0&&(Ie=J.features.length+Ie),bt=bt||J.features[Ie].properties,Pt=J.features[Ie].geometry;break;case"Feature":bt=bt||J.properties,Pt=J.geometry;break;case"Point":case"MultiPoint":return null;case"LineString":case"Polygon":case"MultiLineString":case"MultiPolygon":Pt=J;break;default:throw new Error("geojson is invalid")}if(Pt===null)return null;var ht=Pt.coordinates;switch(Pt.type){case"Point":return Object(u.f)(ht,bt,ee);case"MultiPoint":return me<0&&(me=ht.length+me),Object(u.f)(ht[me],bt,ee);case"LineString":return Re<0&&(Re=ht.length+Re),Object(u.f)(ht[Re],bt,ee);case"Polygon":return Ve<0&&(Ve=ht.length+Ve),Re<0&&(Re=ht[Ve].length+Re),Object(u.f)(ht[Ve][Re],bt,ee);case"MultiLineString":return me<0&&(me=ht.length+me),Re<0&&(Re=ht[me].length+Re),Object(u.f)(ht[me][Re],bt,ee);case"MultiPolygon":return me<0&&(me=ht.length+me),Ve<0&&(Ve=ht[me].length+Ve),Re<0&&(Re=ht[me][Ve].length-Re),Object(u.f)(ht[me][Ve][Re],bt,ee)}throw new Error("geojson is invalid")}function At(J,ee){var Ie=Object.keys(J);if(Object.getOwnPropertySymbols){var me=Object.getOwnPropertySymbols(J);ee&&(me=me.filter(function(Ve){return Object.getOwnPropertyDescriptor(J,Ve).enumerable})),Ie.push.apply(Ie,me)}return Ie}function vt(J){for(var ee=1;ee<arguments.length;ee++){var Ie=arguments[ee]!=null?arguments[ee]:{};ee%2?At(Object(Ie),!0).forEach(function(me){y()(J,me,Ie[me])}):Object.getOwnPropertyDescriptors?Object.defineProperties(J,Object.getOwnPropertyDescriptors(Ie)):At(Object(Ie)).forEach(function(me){Object.defineProperty(J,me,Object.getOwnPropertyDescriptor(Ie,me))})}return J}function ie(J,ee){var Ie=[],me={};if(J.features=J.features.filter(function(Re){var bt=Re.geometry;return Re!=null&&bt&&bt.type&&bt.coordinates&&bt.coordinates.length>0}),b()(J,!0),J.features.length===0)return{dataArray:[],featureKeys:me};var Ve=0;return It(J,function(Re,bt){var Pt=k(Re),ht=bt,Ye=vt(vt({},Re.properties),{},{coordinates:Pt,_id:ht});Ie.push(Ye)}),{dataArray:Ie,featureKeys:me}}},"5zYK":function(ze,A,r){"use strict";r.d(A,"a",function(){return oe}),r.d(A,"b",function(){return ne}),r.d(A,"c",function(){return Te});var M=r("lSNA"),y=r.n(M),T=r("RIqP"),b=r.n(T),u=r("LvWW"),H=r.n(u);function k(at,ve){var we=Object.keys(at);if(Object.getOwnPropertySymbols){var I=Object.getOwnPropertySymbols(at);ve&&(I=I.filter(function(Ce){return Object.getOwnPropertyDescriptor(at,Ce).enumerable})),we.push.apply(we,I)}return we}function Z(at){for(var ve=1;ve<arguments.length;ve++){var we=arguments[ve]!=null?arguments[ve]:{};ve%2?k(Object(we),!0).forEach(function(I){y()(at,I,we[I])}):Object.getOwnPropertyDescriptors?Object.defineProperties(at,Object.getOwnPropertyDescriptors(we)):k(Object(we)).forEach(function(I){Object.defineProperty(at,I,Object.getOwnPropertyDescriptor(we,I))})}return at}function oe(at,ve){var we=ve.x,I=ve.y,Ce=ve.x1,et=ve.y1,Et=ve.coordinates,We=[];return at.forEach(function(ct,ce){var Vt=[];if(we&&I&&(Vt=[parseFloat(ct[we]),parseFloat(ct[I])]),we&&I&&Ce&&et){var It=[parseFloat(ct[we]),parseFloat(ct[I])],Mt=[parseFloat(ct[Ce]),parseFloat(ct[et])];Vt=[It,Mt]}if(Et){var Tt="Polygon";Array.isArray(Et[0])||(Tt="Point"),Array.isArray(Et[0])&&!Array.isArray(Et[0][0])&&(Tt="LineString");var ye={type:Tt,coordinates:b()(ct[Et])};H()(ye,!0),Vt=ye.coordinates}var lt=Z(Z({},ct),{},{_id:ce,coordinates:Vt});We.push(lt)}),{dataArray:We}}var ne=[{lng1:100,lat1:30,lng2:130,lat2:30}],Te={parser:{type:"json",x:"lng1",y:"lat1",x1:"lng2",y1:"lat2"}}},"6AGu":function(ze,A,r){"use strict";Object.defineProperty(A,"__esModule",{value:!0}),A.BindingInSyntax=void 0;var M=r("FV85"),y=r("LKzl"),T=function(){function b(u){this._binding=u}return b.prototype.inRequestScope=function(){return this._binding.scope=M.BindingScopeEnum.Request,new y.BindingWhenOnSyntax(this._binding)},b.prototype.inSingletonScope=function(){return this._binding.scope=M.BindingScopeEnum.Singleton,new y.BindingWhenOnSyntax(this._binding)},b.prototype.inTransientScope=function(){return this._binding.scope=M.BindingScopeEnum.Transient,new y.BindingWhenOnSyntax(this._binding)},b}();A.BindingInSyntax=T},"6NqC":function(ze,A){},"6acW":function(ze,A,r){var M=r("dt0z"),y=r("gQMU");function T(b){return y(M(b).toLowerCase())}ze.exports=T},"6nK8":function(ze,A,r){var M=r("dVn5"),y=r("fo6e"),T=r("dt0z"),b=r("9NmV");function u(H,k,Z){return H=T(H),k=Z?void 0:k,k===void 0?y(H)?b(H):M(H):H.match(k)||[]}ze.exports=u},"711d":function(ze,A){function r(M){return function(y){return y==null?void 0:y[M]}}ze.exports=r},"75XV":function(ze,A,r){},"78VC":function(ze,A,r){"use strict";Object.defineProperty(A,"__esModule",{value:!0}),A.multiBindToService=void 0;var M=function(T){return function(b){return function(){for(var u=[],H=0;H<arguments.length;H++)u[H]=arguments[H];return u.forEach(function(k){return T.bind(k).toService(b)})}}};A.multiBindToService=M},"7Ix3":function(ze,A){function r(M){var y=[];if(M!=null)for(var T in Object(M))y.push(T);return y}ze.exports=r},"7Kak":function(ze,A,r){"use strict";var M=r("cIOH"),y=r.n(M),T=r("KPFz"),b=r.n(T)},"7W2i":function(ze,A,r){var M=r("SksO");function y(T,b){if(typeof b!="function"&&b!==null)throw new TypeError("Super expression must either be null or a function");T.prototype=Object.create(b&&b.prototype,{constructor:{value:T,writable:!0,configurable:!0}}),b&&M(T,b)}ze.exports=y,ze.exports.default=ze.exports,ze.exports.__esModule=!0},"7tbW":function(ze,A,r){var M=r("LGYb");function y(T){return T&&T.length?M(T):[]}ze.exports=y},"7z/i":function(ze,A,r){"use strict";(function(M){var y=typeof M!="undefined"&&M.versions!=null&&M.versions.node!=null,T=function(){return typeof window!="undefined"&&typeof window.document!="undefined"&&!y};A.a=T}).call(this,r("Q2Ig"))},"8/Fi":function(ze,A,r){"use strict";var M=r("J4zp"),y=r.n(M),T=r("9nhX"),b=r.n(T),u=["circle","triangle","square","pentagon","hexagon","octogon","hexagram","rhombus","vesica"];function H(Dt){return u.indexOf(Dt)}var k=2,Z=4,oe=64,ne=128,Te=256,at=512,ve=8192,we=16384,I=32768,Ce=32768*2,et=131072,Et=262144,We=524288,ct=1048576,ce=2097152,Vt=4194304,It=8388608,Mt=16777216,Tt=16777216*2;function ye(Dt,Jt){return Dt=b()(Math.floor(Dt),0,255),Jt=b()(Math.floor(Jt),0,255),256*Dt+Jt}function lt(Dt){var Jt=Dt.color,At=Dt.radius,vt=Dt.tileX,ie=Dt.tileY,J=Dt.shape,ee=Dt.opacity,Ie=Dt.stroke,me=Dt.strokeWidth,Ve=Dt.strokeOpacity,Re=[],bt=[],Pt=[],ht=[ye(Jt[0],Jt[1]),ye(Jt[2],Jt[3])],Ye=[ye(Ie[0],Ie[1]),ye(Ie[2],Ie[3])];return[[-1,-1],[1,-1],[1,1],[-1,1]].forEach(function(Ke){var nt=y()(Ke,2),Ot=nt[0],Xe=nt[1];Re.push([].concat(ht,[(Ot+1)*It+(Xe+1)*ce+H(J)*et+At,(vt+512)*We+(ie+512)*oe])),bt.push([].concat(Ye,[me,Ve])),Pt.push([ee,0,0,0])}),{packedBuffer:Re,packedBuffer2:bt,packedBuffer3:Pt}}function yt(Dt,Jt){if(Dt===0&&!Jt)return 0;if(Dt===1&&Jt)return 4294967295;var At=Jt?1:0,vt=Math.floor(Dt*127);return vt*Tt+At*Mt+vt*et+At*Ce+vt*at+At*Te+vt*k+At}},"88Gu":function(ze,A){var r=800,M=16,y=Date.now;function T(b){var u=0,H=0;return function(){var k=y(),Z=M-(k-H);if(H=k,Z>0){if(++u>=r)return arguments[0]}else u=0;return b.apply(void 0,arguments)}}ze.exports=T},"8ml+":function(ze,A,r){"use strict";var M=r("rlAn"),y=r("h1nZ");r.o(y,"CityBuildingLayer")&&r.d(A,"CityBuildingLayer",function(){return y.CityBuildingLayer}),r.o(y,"Control")&&r.d(A,"Control",function(){return y.Control}),r.o(y,"HeatmapLayer")&&r.d(A,"HeatmapLayer",function(){return y.HeatmapLayer}),r.o(y,"ImageLayer")&&r.d(A,"ImageLayer",function(){return y.ImageLayer}),r.o(y,"Layers")&&r.d(A,"Layers",function(){return y.Layers}),r.o(y,"LineLayer")&&r.d(A,"LineLayer",function(){return y.LineLayer}),r.o(y,"Logo")&&r.d(A,"Logo",function(){return y.Logo}),r.o(y,"Marker")&&r.d(A,"Marker",function(){return y.Marker}),r.o(y,"PointLayer")&&r.d(A,"PointLayer",function(){return y.PointLayer}),r.o(y,"PolygonLayer")&&r.d(A,"PolygonLayer",function(){return y.PolygonLayer}),r.o(y,"Popup")&&r.d(A,"Popup",function(){return y.Popup}),r.o(y,"RasterLayer")&&r.d(A,"RasterLayer",function(){return y.RasterLayer}),r.o(y,"Scale")&&r.d(A,"Scale",function(){return y.Scale}),r.o(y,"Scene")&&r.d(A,"Scene",function(){return y.Scene}),r.o(y,"Zoom")&&r.d(A,"Zoom",function(){return y.Zoom});var T=r("kQ+U");r.d(A,"Scene",function(){return T.a});var b=r("sxDa");r.d(A,"CityBuildingLayer",function(){return b.a}),r.d(A,"HeatmapLayer",function(){return b.b}),r.d(A,"ImageLayer",function(){return b.c}),r.d(A,"LineLayer",function(){return b.d}),r.d(A,"PointLayer",function(){return b.e}),r.d(A,"PolygonLayer",function(){return b.f}),r.d(A,"RasterLayer",function(){return b.g});var u=r("k5/I");r.d(A,"Control",function(){return u.a}),r.d(A,"Layers",function(){return u.b}),r.d(A,"Logo",function(){return u.c}),r.d(A,"Marker",function(){return u.d}),r.d(A,"Popup",function(){return u.e}),r.d(A,"Scale",function(){return u.f}),r.d(A,"Zoom",function(){return u.g});var H=r("Hel2"),k=r("RL2/")},"8txm":function(ze,A,r){},"8uyu":function(ze,A){},"9F0J":function(ze,A,r){"use strict";Object.defineProperty(A,"__esModule",{value:!0});var M=Object.assign||function(k){for(var Z=1;Z<arguments.length;Z++){var oe=arguments[Z];for(var ne in oe)Object.prototype.hasOwnProperty.call(oe,ne)&&(k[ne]=oe[ne])}return k},y=r("q1tI"),T=b(y);function b(k){return k&&k.__esModule?k:{default:k}}function u(k,Z){var oe={};for(var ne in k)Z.indexOf(ne)>=0||!Object.prototype.hasOwnProperty.call(k,ne)||(oe[ne]=k[ne]);return oe}var H=24;A.default=function(k){var Z=k.fill,oe=Z===void 0?"currentColor":Z,ne=k.width,Te=ne===void 0?H:ne,at=k.height,ve=at===void 0?H:at,we=k.style,I=we===void 0?{}:we,Ce=u(k,["fill","width","height","style"]);return T.default.createElement("svg",M({viewBox:"0 0 "+H+" "+H,style:M({fill:oe,width:Te,height:ve},I)},Ce),T.default.createElement("path",{d:"M12,18.17L8.83,15L7.42,16.41L12,21L16.59,16.41L15.17,15M12,5.83L15.17,9L16.58,7.59L12,3L7.41,7.59L8.83,9L12,5.83Z"}))}},"9Fde":function(ze,A,r){"use strict";var M=this&&this.__awaiter||function(et,Et,We,ct){function ce(Vt){return Vt instanceof We?Vt:new We(function(It){It(Vt)})}return new(We||(We=Promise))(function(Vt,It){function Mt(lt){try{ye(ct.next(lt))}catch(yt){It(yt)}}function Tt(lt){try{ye(ct.throw(lt))}catch(yt){It(yt)}}function ye(lt){lt.done?Vt(lt.value):ce(lt.value).then(Mt,Tt)}ye((ct=ct.apply(et,Et||[])).next())})},y=this&&this.__generator||function(et,Et){var We={label:0,sent:function(){if(Vt[0]&1)throw Vt[1];return Vt[1]},trys:[],ops:[]},ct,ce,Vt,It;return It={next:Mt(0),throw:Mt(1),return:Mt(2)},typeof Symbol=="function"&&(It[Symbol.iterator]=function(){return this}),It;function Mt(ye){return function(lt){return Tt([ye,lt])}}function Tt(ye){if(ct)throw new TypeError("Generator is already executing.");for(;We;)try{if(ct=1,ce&&(Vt=ye[0]&2?ce.return:ye[0]?ce.throw||((Vt=ce.return)&&Vt.call(ce),0):ce.next)&&!(Vt=Vt.call(ce,ye[1])).done)return Vt;switch(ce=0,Vt&&(ye=[ye[0]&2,Vt.value]),ye[0]){case 0:case 1:Vt=ye;break;case 4:return We.label++,{value:ye[1],done:!1};case 5:We.label++,ce=ye[1],ye=[0];continue;case 7:ye=We.ops.pop(),We.trys.pop();continue;default:if(Vt=We.trys,!(Vt=Vt.length>0&&Vt[Vt.length-1])&&(ye[0]===6||ye[0]===2)){We=0;continue}if(ye[0]===3&&(!Vt||ye[1]>Vt[0]&&ye[1]<Vt[3])){We.label=ye[1];break}if(ye[0]===6&&We.label<Vt[1]){We.label=Vt[1],Vt=ye;break}if(Vt&&We.label<Vt[2]){We.label=Vt[2],We.ops.push(ye);break}Vt[2]&&We.ops.pop(),We.trys.pop();continue}ye=Et.call(et,We)}catch(lt){ye=[6,lt],ce=0}finally{ct=Vt=0}if(ye[0]&5)throw ye[1];return{value:ye[0]?ye[1]:void 0,done:!0}}},T=this&&this.__spreadArray||function(et,Et){for(var We=0,ct=Et.length,ce=et.length;We<ct;We++,ce++)et[ce]=Et[We];return et};Object.defineProperty(A,"__esModule",{value:!0}),A.Container=void 0;var b=r("LgvC"),u=r("MON2"),H=r("FV85"),k=r("xfSm"),Z=r("wnjb"),oe=r("h7MG"),ne=r("aPG5"),Te=r("gzZq"),at=r("d9O0"),ve=r("ujMp"),we=r("HpQ9"),I=r("AwBQ"),Ce=function(){function et(Et){this._appliedMiddleware=[];var We=Et||{};if(typeof We!="object")throw new Error(""+u.CONTAINER_OPTIONS_MUST_BE_AN_OBJECT);if(We.defaultScope===void 0)We.defaultScope=H.BindingScopeEnum.Transient;else if(We.defaultScope!==H.BindingScopeEnum.Singleton&&We.defaultScope!==H.BindingScopeEnum.Transient&&We.defaultScope!==H.BindingScopeEnum.Request)throw new Error(""+u.CONTAINER_OPTIONS_INVALID_DEFAULT_SCOPE);if(We.autoBindInjectable===void 0)We.autoBindInjectable=!1;else if(typeof We.autoBindInjectable!="boolean")throw new Error(""+u.CONTAINER_OPTIONS_INVALID_AUTO_BIND_INJECTABLE);if(We.skipBaseClassChecks===void 0)We.skipBaseClassChecks=!1;else if(typeof We.skipBaseClassChecks!="boolean")throw new Error(""+u.CONTAINER_OPTIONS_INVALID_SKIP_BASE_CHECK);this.options={autoBindInjectable:We.autoBindInjectable,defaultScope:We.defaultScope,skipBaseClassChecks:We.skipBaseClassChecks},this.id=at.id(),this._bindingDictionary=new I.Lookup,this._snapshots=[],this._middleware=null,this.parent=null,this._metadataReader=new Z.MetadataReader}return et.merge=function(Et,We){for(var ct=[],ce=2;ce<arguments.length;ce++)ct[ce-2]=arguments[ce];var Vt=new et,It=T([Et,We],ct).map(function(ye){return oe.getBindingDictionary(ye)}),Mt=oe.getBindingDictionary(Vt);function Tt(ye,lt){ye.traverse(function(yt,Dt){Dt.forEach(function(Jt){lt.add(Jt.serviceIdentifier,Jt.clone())})})}return It.forEach(function(ye){Tt(ye,Mt)}),Vt},et.prototype.load=function(){for(var Et=[],We=0;We<arguments.length;We++)Et[We]=arguments[We];for(var ct=this._getContainerModuleHelpersFactory(),ce=0,Vt=Et;ce<Vt.length;ce++){var It=Vt[ce],Mt=ct(It.id);It.registry(Mt.bindFunction,Mt.unbindFunction,Mt.isboundFunction,Mt.rebindFunction)}},et.prototype.loadAsync=function(){for(var Et=[],We=0;We<arguments.length;We++)Et[We]=arguments[We];return M(this,void 0,void 0,function(){var ct,ce,Vt,It,Mt;return y(this,function(Tt){switch(Tt.label){case 0:ct=this._getContainerModuleHelpersFactory(),ce=0,Vt=Et,Tt.label=1;case 1:return ce<Vt.length?(It=Vt[ce],Mt=ct(It.id),[4,It.registry(Mt.bindFunction,Mt.unbindFunction,Mt.isboundFunction,Mt.rebindFunction)]):[3,4];case 2:Tt.sent(),Tt.label=3;case 3:return ce++,[3,1];case 4:return[2]}})})},et.prototype.unload=function(){for(var Et=this,We=[],ct=0;ct<arguments.length;ct++)We[ct]=arguments[ct];var ce=function(It){return function(Mt){return Mt.moduleId===It}};We.forEach(function(Vt){var It=ce(Vt.id);Et._bindingDictionary.removeByCondition(It)})},et.prototype.bind=function(Et){var We=this.options.defaultScope||H.BindingScopeEnum.Transient,ct=new b.Binding(Et,We);return this._bindingDictionary.add(Et,ct),new Te.BindingToSyntax(ct)},et.prototype.rebind=function(Et){return this.unbind(Et),this.bind(Et)},et.prototype.unbind=function(Et){try{this._bindingDictionary.remove(Et)}catch(We){throw new Error(u.CANNOT_UNBIND+" "+ve.getServiceIdentifierAsString(Et))}},et.prototype.unbindAll=function(){this._bindingDictionary=new I.Lookup},et.prototype.isBound=function(Et){var We=this._bindingDictionary.hasKey(Et);return!We&&this.parent&&(We=this.parent.isBound(Et)),We},et.prototype.isBoundNamed=function(Et,We){return this.isBoundTagged(Et,k.NAMED_TAG,We)},et.prototype.isBoundTagged=function(Et,We,ct){var ce=!1;if(this._bindingDictionary.hasKey(Et)){var Vt=this._bindingDictionary.get(Et),It=oe.createMockRequest(this,Et,We,ct);ce=Vt.some(function(Mt){return Mt.constraint(It)})}return!ce&&this.parent&&(ce=this.parent.isBoundTagged(Et,We,ct)),ce},et.prototype.snapshot=function(){this._snapshots.push(we.ContainerSnapshot.of(this._bindingDictionary.clone(),this._middleware))},et.prototype.restore=function(){var Et=this._snapshots.pop();if(Et===void 0)throw new Error(u.NO_MORE_SNAPSHOTS_AVAILABLE);this._bindingDictionary=Et.bindings,this._middleware=Et.middleware},et.prototype.createChild=function(Et){var We=new et(Et||this.options);return We.parent=this,We},et.prototype.applyMiddleware=function(){for(var Et=[],We=0;We<arguments.length;We++)Et[We]=arguments[We];this._appliedMiddleware=this._appliedMiddleware.concat(Et);var ct=this._middleware?this._middleware:this._planAndResolve();this._middleware=Et.reduce(function(ce,Vt){return Vt(ce)},ct)},et.prototype.applyCustomMetadataReader=function(Et){this._metadataReader=Et},et.prototype.get=function(Et){return this._get(!1,!1,H.TargetTypeEnum.Variable,Et)},et.prototype.getTagged=function(Et,We,ct){return this._get(!1,!1,H.TargetTypeEnum.Variable,Et,We,ct)},et.prototype.getNamed=function(Et,We){return this.getTagged(Et,k.NAMED_TAG,We)},et.prototype.getAll=function(Et){return this._get(!0,!0,H.TargetTypeEnum.Variable,Et)},et.prototype.getAllTagged=function(Et,We,ct){return this._get(!1,!0,H.TargetTypeEnum.Variable,Et,We,ct)},et.prototype.getAllNamed=function(Et,We){return this.getAllTagged(Et,k.NAMED_TAG,We)},et.prototype.resolve=function(Et){var We=this.createChild();return We.bind(Et).toSelf(),this._appliedMiddleware.forEach(function(ct){We.applyMiddleware(ct)}),We.get(Et)},et.prototype._getContainerModuleHelpersFactory=function(){var Et=this,We=function(Tt,ye){Tt._binding.moduleId=ye},ct=function(Tt){return function(ye){var lt=Et.bind.bind(Et),yt=lt(ye);return We(yt,Tt),yt}},ce=function(Tt){return function(ye){var lt=Et.unbind.bind(Et);lt(ye)}},Vt=function(Tt){return function(ye){var lt=Et.isBound.bind(Et);return lt(ye)}},It=function(Tt){return function(ye){var lt=Et.rebind.bind(Et),yt=lt(ye);return We(yt,Tt),yt}};return function(Mt){return{bindFunction:ct(Mt),isboundFunction:Vt(Mt),rebindFunction:It(Mt),unbindFunction:ce(Mt)}}},et.prototype._get=function(Et,We,ct,ce,Vt,It){var Mt=null,Tt={avoidConstraints:Et,contextInterceptor:function(lt){return lt},isMultiInject:We,key:Vt,serviceIdentifier:ce,targetType:ct,value:It};if(this._middleware){if(Mt=this._middleware(Tt),Mt==null)throw new Error(u.INVALID_MIDDLEWARE_RETURN)}else Mt=this._planAndResolve()(Tt);return Mt},et.prototype._planAndResolve=function(){var Et=this;return function(We){var ct=oe.plan(Et._metadataReader,Et,We.isMultiInject,We.targetType,We.serviceIdentifier,We.key,We.value,We.avoidConstraints);ct=We.contextInterceptor(ct);var ce=ne.resolve(ct);return ce}},et}();A.Container=Ce},"9Nap":function(ze,A,r){var M=r("/9aa"),y=1/0;function T(b){if(typeof b=="string"||M(b))return b;var u=b+"";return u=="0"&&1/b==-y?"-0":u}ze.exports=T},"9NmV":function(ze,A){var r="\\ud800-\\udfff",M="\\u0300-\\u036f",y="\\ufe20-\\ufe2f",T="\\u20d0-\\u20ff",b=M+y+T,u="\\u2700-\\u27bf",H="a-z\\xdf-\\xf6\\xf8-\\xff",k="\\xac\\xb1\\xd7\\xf7",Z="\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf",oe="\\u2000-\\u206f",ne=" \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",Te="A-Z\\xc0-\\xd6\\xd8-\\xde",at="\\ufe0e\\ufe0f",ve=k+Z+oe+ne,we="['\u2019]",I="["+ve+"]",Ce="["+b+"]",et="\\d+",Et="["+u+"]",We="["+H+"]",ct="[^"+r+ve+et+u+H+Te+"]",ce="\\ud83c[\\udffb-\\udfff]",Vt="(?:"+Ce+"|"+ce+")",It="[^"+r+"]",Mt="(?:\\ud83c[\\udde6-\\uddff]){2}",Tt="[\\ud800-\\udbff][\\udc00-\\udfff]",ye="["+Te+"]",lt="\\u200d",yt="(?:"+We+"|"+ct+")",Dt="(?:"+ye+"|"+ct+")",Jt="(?:"+we+"(?:d|ll|m|re|s|t|ve))?",At="(?:"+we+"(?:D|LL|M|RE|S|T|VE))?",vt=Vt+"?",ie="["+at+"]?",J="(?:"+lt+"(?:"+[It,Mt,Tt].join("|")+")"+ie+vt+")*",ee="\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",Ie="\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])",me=ie+vt+J,Ve="(?:"+[Et,Mt,Tt].join("|")+")"+me,Re=RegExp([ye+"?"+We+"+"+Jt+"(?="+[I,ye,"$"].join("|")+")",Dt+"+"+At+"(?="+[I,ye+yt,"$"].join("|")+")",ye+"?"+yt+"+"+Jt,ye+"+"+At,Ie,ee,et,Ve].join("|"),"g");function bt(Pt){return Pt.match(Re)||[]}ze.exports=bt},"9ggG":function(ze,A,r){var M=r("Z0cm"),y=r("/9aa"),T=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,b=/^\w*$/;function u(H,k){if(M(H))return!1;var Z=typeof H;return Z=="number"||Z=="symbol"||Z=="boolean"||H==null||y(H)?!0:b.test(H)||!T.test(H)||k!=null&&H in Object(k)}ze.exports=u},"9mHw":function(ze,A,r){"use strict";var M=r("6cGi"),y=r("q1tI"),T=r.n(y);function b(Te,at){return oe(Te)||Z(Te,at)||H(Te,at)||u()}function u(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function H(Te,at){if(!!Te){if(typeof Te=="string")return k(Te,at);var ve=Object.prototype.toString.call(Te).slice(8,-1);if(ve==="Object"&&Te.constructor&&(ve=Te.constructor.name),ve==="Map"||ve==="Set")return Array.from(Te);if(ve==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(ve))return k(Te,at)}}function k(Te,at){(at==null||at>Te.length)&&(at=Te.length);for(var ve=0,we=new Array(at);ve<at;ve++)we[ve]=Te[ve];return we}function Z(Te,at){var ve=Te==null?null:typeof Symbol!="undefined"&&Te[Symbol.iterator]||Te["@@iterator"];if(ve!=null){var we=[],I=!0,Ce=!1,et,Et;try{for(ve=ve.call(Te);!(I=(et=ve.next()).done)&&(we.push(et.value),!(at&&we.length===at));I=!0);}catch(We){Ce=!0,Et=We}finally{try{!I&&ve.return!=null&&ve.return()}finally{if(Ce)throw Et}}return we}}function oe(Te){if(Array.isArray(Te))return Te}function ne(Te,at){var ve=Object(y.useRef)(!1),we=Object(y.useRef)(0);Object(y.useEffect)(function(){return ve.current=!0,function(){ve.current=!1}});var I=Object(M.a)(Te,at),Ce=b(I,2),et=Ce[0],Et=Ce[1],We=function(ce){cancelAnimationFrame(we.current),we.current=requestAnimationFrame(function(){ve.current&&Et(ce)})};return[et,We]}A.a=ne},"9nhX":function(ze,A,r){var M=r("g4R6"),y=r("tLB3");function T(b,u,H){return H===void 0&&(H=u,u=void 0),H!==void 0&&(H=y(H),H=H===H?H:0),u!==void 0&&(u=y(u),u=u===u?u:0),M(y(b),u,H)}ze.exports=T},"9yH6":function(ze,A,r){"use strict";var M=r("rePB"),y=r("wx14"),T=r("q1tI"),b=r("x1Ya"),u=r("TSYQ"),H=r.n(u),k=r("c+Xe"),Z=r("H84U"),oe=T.createContext(null),ne=oe.Provider,Te=oe,at=r("uaoM"),ve=function(yt,Dt){var Jt={};for(var At in yt)Object.prototype.hasOwnProperty.call(yt,At)&&Dt.indexOf(At)<0&&(Jt[At]=yt[At]);if(yt!=null&&typeof Object.getOwnPropertySymbols=="function")for(var vt=0,At=Object.getOwnPropertySymbols(yt);vt<At.length;vt++)Dt.indexOf(At[vt])<0&&Object.prototype.propertyIsEnumerable.call(yt,At[vt])&&(Jt[At[vt]]=yt[At[vt]]);return Jt},we=function(Dt,Jt){var At,vt=T.useContext(Te),ie=T.useContext(Z.b),J=ie.getPrefixCls,ee=ie.direction,Ie=T.useRef(),me=Object(k.a)(Jt,Ie);T.useEffect(function(){Object(at.a)(!("optionType"in Dt),"Radio","`optionType` is only support in Radio.Group.")},[]);var Ve=function(xt){var Ne,B;(Ne=Dt.onChange)===null||Ne===void 0||Ne.call(Dt,xt),(B=vt==null?void 0:vt.onChange)===null||B===void 0||B.call(vt,xt)},Re=Dt.prefixCls,bt=Dt.className,Pt=Dt.children,ht=Dt.style,Ye=ve(Dt,["prefixCls","className","children","style"]),Ke=J("radio",Re),nt=Object(y.a)({},Ye);vt&&(nt.name=vt.name,nt.onChange=Ve,nt.checked=Dt.value===vt.value,nt.disabled=Dt.disabled||vt.disabled);var Ot=H()("".concat(Ke,"-wrapper"),(At={},Object(M.a)(At,"".concat(Ke,"-wrapper-checked"),nt.checked),Object(M.a)(At,"".concat(Ke,"-wrapper-disabled"),nt.disabled),Object(M.a)(At,"".concat(Ke,"-wrapper-rtl"),ee==="rtl"),At),bt);return T.createElement("label",{className:Ot,style:ht,onMouseEnter:Dt.onMouseEnter,onMouseLeave:Dt.onMouseLeave},T.createElement(b.a,Object(y.a)({},nt,{prefixCls:Ke,ref:me})),Pt!==void 0?T.createElement("span",null,Pt):null)},I=T.forwardRef(we);I.displayName="Radio",I.defaultProps={type:"radio"};var Ce=I,et=r("ODXe"),Et=r("6cGi"),We=r("3Nzz"),ct=r("RqAY"),ce=T.forwardRef(function(yt,Dt){var Jt=T.useContext(Z.b),At=Jt.getPrefixCls,vt=Jt.direction,ie=T.useContext(We.b),J=Object(Et.a)(yt.defaultValue,{value:yt.value}),ee=Object(et.a)(J,2),Ie=ee[0],me=ee[1],Ve=function(Pt){var ht=Ie,Ye=Pt.target.value;"value"in yt||me(Ye);var Ke=yt.onChange;Ke&&Ye!==ht&&Ke(Pt)},Re=function(){var Pt,ht=yt.prefixCls,Ye=yt.className,Ke=Ye===void 0?"":Ye,nt=yt.options,Ot=yt.optionType,Xe=yt.buttonStyle,xt=Xe===void 0?"outline":Xe,Ne=yt.disabled,B=yt.children,z=yt.size,q=yt.style,S=yt.id,K=yt.onMouseEnter,fe=yt.onMouseLeave,Fe=At("radio",ht),pe="".concat(Fe,"-group"),Me=B;if(nt&&nt.length>0){var U=Ot==="button"?"".concat(Fe,"-button"):Fe;Me=nt.map(function(ot){return typeof ot=="string"?T.createElement(Ce,{key:ot,prefixCls:U,disabled:Ne,value:ot,checked:Ie===ot},ot):T.createElement(Ce,{key:"radio-group-value-options-".concat(ot.value),prefixCls:U,disabled:ot.disabled||Ne,value:ot.value,checked:Ie===ot.value,style:ot.style},ot.label)})}var le=z||ie,Le=H()(pe,"".concat(pe,"-").concat(xt),(Pt={},Object(M.a)(Pt,"".concat(pe,"-").concat(le),le),Object(M.a)(Pt,"".concat(pe,"-rtl"),vt==="rtl"),Pt),Ke);return T.createElement("div",Object(y.a)({},Object(ct.a)(yt),{className:Le,style:q,onMouseEnter:K,onMouseLeave:fe,id:S,ref:Dt}),Me)};return T.createElement(ne,{value:{onChange:Ve,value:Ie,disabled:yt.disabled,name:yt.name}},Re())}),Vt=T.memo(ce),It=function(yt,Dt){var Jt={};for(var At in yt)Object.prototype.hasOwnProperty.call(yt,At)&&Dt.indexOf(At)<0&&(Jt[At]=yt[At]);if(yt!=null&&typeof Object.getOwnPropertySymbols=="function")for(var vt=0,At=Object.getOwnPropertySymbols(yt);vt<At.length;vt++)Dt.indexOf(At[vt])<0&&Object.prototype.propertyIsEnumerable.call(yt,At[vt])&&(Jt[At[vt]]=yt[At[vt]]);return Jt},Mt=function(Dt,Jt){var At=T.useContext(Te),vt=T.useContext(Z.b),ie=vt.getPrefixCls,J=Dt.prefixCls,ee=It(Dt,["prefixCls"]),Ie=ie("radio-button",J);return At&&(ee.checked=Dt.value===At.value,ee.disabled=Dt.disabled||At.disabled),T.createElement(Ce,Object(y.a)({prefixCls:Ie},ee,{type:"radio",ref:Jt}))},Tt=T.forwardRef(Mt),ye=Ce;ye.Button=Tt,ye.Group=Vt;var lt=A.a=ye},AFH1:function(ze,A,r){"use strict";r.d(A,"a",function(){return M});var M;(function(y){y.TOPRIGHT="topright",y.TOPLEFT="topleft",y.BOTTOMRIGHT="bottomright",y.BOTTOMLEFT="bottomleft",y.TOPCENTER="topcenter",y.BOTTOMCENTER="bottomcenter",y.LEFTCENTER="leftcenter",y.RIGHTCENTER="rightcenter"})(M||(M={}))},AMKO:function(ze,A,r){"use strict";r.d(A,"a",function(){return u});var M=r("q1tI"),y=r.n(M);function T(ne){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?T=function(at){return typeof at}:T=function(at){return at&&typeof Symbol=="function"&&at.constructor===Symbol&&at!==Symbol.prototype?"symbol":typeof at},T(ne)}var b=function(){var Te=new WeakSet;return function(at,ve){if(T(ve)==="object"&&ve!==null){if(Te.has(ve))return;Te.add(ve)}return ve}},u=function(Te){return JSON.stringify(Te,b())},H=function(Te,at){try{return u(Te)===u(at)}catch(ve){}return!1};function k(ne){var Te=Object(M.useRef)("");return H(ne,Te.current)||(Te.current=JSON.stringify(ne,b())),Te.current}function Z(ne,Te){Object(M.useEffect)(ne,[k(Te)])}var oe=Z},APxj:function(ze,A,r){"use strict";Object.defineProperty(A,"__esModule",{value:!0});var M=r("Ucsi");function y(T,b){b===void 0&&(b=!0);var u=M.makePropertyInjectDecorator(T,b),H=M.makePropertyInjectNamedDecorator(T,b),k=M.makePropertyInjectTaggedDecorator(T,b),Z=M.makePropertyMultiInjectDecorator(T,b);return{lazyInject:u,lazyInjectNamed:H,lazyInjectTagged:k,lazyMultiInject:Z}}A.default=y},Ag8Z:function(ze,A,r){var M=r("JC6p"),y=r("EwQA");function T(b,u){return b&&M(b,y(u))}ze.exports=T},AwBQ:function(ze,A,r){"use strict";Object.defineProperty(A,"__esModule",{value:!0}),A.Lookup=void 0;var M=r("MON2"),y=function(){function T(){this._map=new Map}return T.prototype.getMap=function(){return this._map},T.prototype.add=function(b,u){if(b==null)throw new Error(M.NULL_ARGUMENT);if(u==null)throw new Error(M.NULL_ARGUMENT);var H=this._map.get(b);H!==void 0?(H.push(u),this._map.set(b,H)):this._map.set(b,[u])},T.prototype.get=function(b){if(b==null)throw new Error(M.NULL_ARGUMENT);var u=this._map.get(b);if(u!==void 0)return u;throw new Error(M.KEY_NOT_FOUND)},T.prototype.remove=function(b){if(b==null)throw new Error(M.NULL_ARGUMENT);if(!this._map.delete(b))throw new Error(M.KEY_NOT_FOUND)},T.prototype.removeByCondition=function(b){var u=this;this._map.forEach(function(H,k){var Z=H.filter(function(oe){return!b(oe)});Z.length>0?u._map.set(k,Z):u._map.delete(k)})},T.prototype.hasKey=function(b){if(b==null)throw new Error(M.NULL_ARGUMENT);return this._map.has(b)},T.prototype.clone=function(){var b=new T;return this._map.forEach(function(u,H){u.forEach(function(k){return b.add(H,k.clone())})}),b},T.prototype.traverse=function(b){this._map.forEach(function(u,H){b(H,u)})},T}();A.Lookup=y},"B+1O":function(ze,A,r){},B5Mt:function(ze,A,r){"use strict";Object.defineProperty(A,"__esModule",{value:!0});var M=function(T,b){var u={},H=function(Z){var oe=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;u[Z]=oe};return T===0&&H("first-child"),T===b-1&&H("last-child"),(T===0||T%2==0)&&H("even"),Math.abs(T%2)===1&&H("odd"),H("nth-child",T),u};A.default=M},BY2G:function(ze,A,r){"use strict";var M=function(T){if(T&&T!==!0)return T};A.a=M},BkRI:function(ze,A,r){var M=r("OBhP"),y=1,T=4;function b(u){return M(u,y|T)}ze.exports=b},Bnag:function(ze,A){function r(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}ze.exports=r,ze.exports.default=ze.exports,ze.exports.__esModule=!0},BpBL:function(ze,A,r){"use strict";r.d(A,"a",function(){return y});var M=r("Hel2");function y(b,u){var H=u.extent,k=H===void 0?[121.168,30.2828,121.384,30.4219]:H,Z=new Promise(function(ne){T(b,function(Te){ne(Te)})}),oe={images:Z,_id:1,dataArray:[{_id:0,coordinates:[[k[0],k[1]],[k[2],k[3]]]}]};return oe}function T(b,u){var H=b,k=[];if(typeof H=="string")Object(M.o)({url:H},function(ne,Te){k.push(Te),u(k)});else{var Z=H.length,oe=0;H.forEach(function(ne){Object(M.o)({url:ne},function(Te,at){oe++,k.push(at),oe===Z&&u(k)})})}return y}},CFYs:function(ze,A,r){"use strict";var M=r("rePB"),y=r("wx14"),T=r("1OyB"),b=r("vuIU"),u=r("JX7q"),H=r("Ji7U"),k=r("LK+K"),Z=r("q1tI"),oe=r("TSYQ"),ne=r.n(oe),Te=r("bT9E"),at=r("4i/N"),ve=r("bRQS"),we=r("jO45"),I=r("jN4g"),Ce=r("H84U"),et=r("CWQg"),Et=r("uaoM"),We=r("AJpP");function ct(z){return!z||z<0?0:z>100?100:z}function ce(z){var q=z.success,S=z.successPercent,K=S;return q&&"progress"in q&&(Object(Et.a)(!1,"Progress","`success.progress` is deprecated. Please use `success.percent` instead."),K=q.progress),q&&"percent"in q&&(K=q.percent),K}var Vt=function(z,q){var S={};for(var K in z)Object.prototype.hasOwnProperty.call(z,K)&&q.indexOf(K)<0&&(S[K]=z[K]);if(z!=null&&typeof Object.getOwnPropertySymbols=="function")for(var fe=0,K=Object.getOwnPropertySymbols(z);fe<K.length;fe++)q.indexOf(K[fe])<0&&Object.prototype.propertyIsEnumerable.call(z,K[fe])&&(S[K[fe]]=z[K[fe]]);return S},It=function(q){var S=[];return Object.keys(q).forEach(function(K){var fe=parseFloat(K.replace(/%/g,""));isNaN(fe)||S.push({key:fe,value:q[K]})}),S=S.sort(function(K,fe){return K.key-fe.key}),S.map(function(K){var fe=K.key,Fe=K.value;return"".concat(Fe," ").concat(fe,"%")}).join(", ")},Mt=function(q,S){var K=q.from,fe=K===void 0?We.presetPrimaryColors.blue:K,Fe=q.to,pe=Fe===void 0?We.presetPrimaryColors.blue:Fe,Me=q.direction,U=Me===void 0?S==="rtl"?"to left":"to right":Me,le=Vt(q,["from","to","direction"]);if(Object.keys(le).length!==0){var Le=It(le);return{backgroundImage:"linear-gradient(".concat(U,", ").concat(Le,")")}}return{backgroundImage:"linear-gradient(".concat(U,", ").concat(fe,", ").concat(pe,")")}},Tt=function(q){var S=q.prefixCls,K=q.direction,fe=q.percent,Fe=q.strokeWidth,pe=q.size,Me=q.strokeColor,U=q.strokeLinecap,le=q.children,Le=q.trailColor,ot=q.success,St=Me&&typeof Me!="string"?Mt(Me,K):{background:Me},Ge=Le?{backgroundColor:Le}:void 0,Be=Object(y.a)({width:"".concat(ct(fe),"%"),height:Fe||(pe==="small"?6:8),borderRadius:U==="square"?0:""},St),Nt=ce(q),kt={width:"".concat(ct(Nt),"%"),height:Fe||(pe==="small"?6:8),borderRadius:U==="square"?0:"",backgroundColor:ot==null?void 0:ot.strokeColor},ft=Nt!==void 0?Z.createElement("div",{className:"".concat(S,"-success-bg"),style:kt}):null;return Z.createElement(Z.Fragment,null,Z.createElement("div",{className:"".concat(S,"-outer")},Z.createElement("div",{className:"".concat(S,"-inner"),style:Ge},Z.createElement("div",{className:"".concat(S,"-bg"),style:Be}),ft)),le)},ye=Tt,lt=r("ODXe"),yt=r("Ff2n"),Dt={className:"",percent:0,prefixCls:"rc-progress",strokeColor:"#2db7f5",strokeLinecap:"round",strokeWidth:1,style:{},trailColor:"#D9D9D9",trailWidth:1},Jt=function(q){var S=q.map(function(){return Object(Z.useRef)()}),K=Object(Z.useRef)(null);return Object(Z.useEffect)(function(){var fe=Date.now(),Fe=!1;Object.keys(S).forEach(function(pe){var Me=S[pe].current;if(!!Me){Fe=!0;var U=Me.style;U.transitionDuration=".3s, .3s, .3s, .06s",K.current&&fe-K.current<100&&(U.transitionDuration="0s, 0s")}}),Fe&&(K.current=Date.now())}),[S]},At=function(q){var S=q.className,K=q.percent,fe=q.prefixCls,Fe=q.strokeColor,pe=q.strokeLinecap,Me=q.strokeWidth,U=q.style,le=q.trailColor,Le=q.trailWidth,ot=q.transition,St=Object(yt.a)(q,["className","percent","prefixCls","strokeColor","strokeLinecap","strokeWidth","style","trailColor","trailWidth","transition"]);delete St.gapPosition;var Ge=Array.isArray(K)?K:[K],Be=Array.isArray(Fe)?Fe:[Fe],Nt=Jt(Ge),kt=Object(lt.a)(Nt,1),ft=kt[0],ut=Me/2,Ze=100-Me/2,Qt="M ".concat(pe==="round"?ut:0,",").concat(ut,`
         L `).concat(pe==="round"?Ze:100,",").concat(ut),ar="0 0 100 ".concat(Me),zr=0;return Z.createElement("svg",Object(y.a)({className:ne()("".concat(fe,"-line"),S),viewBox:ar,preserveAspectRatio:"none",style:U},St),Z.createElement("path",{className:"".concat(fe,"-line-trail"),d:Qt,strokeLinecap:pe,stroke:le,strokeWidth:Le||Me,fillOpacity:"0"}),Ge.map(function(qr,tn){var _n=1;switch(pe){case"round":_n=1-Me/100;break;case"square":_n=1-Me/2/100;break;default:_n=1;break}var Bn={strokeDasharray:"".concat(qr*_n,"px, 100px"),strokeDashoffset:"-".concat(zr,"px"),transition:ot||"stroke-dashoffset 0.3s ease 0s, stroke-dasharray .3s ease 0s, stroke 0.3s linear"},ya=Be[tn]||Be[Be.length-1];return zr+=qr,Z.createElement("path",{key:tn,className:"".concat(fe,"-line-path"),d:Qt,strokeLinecap:pe,stroke:ya,strokeWidth:Me,fillOpacity:"0",ref:ft[tn],style:Bn})}))};At.defaultProps=Dt,At.displayName="Line";var vt=At,ie=0;function J(z){return+z.replace("%","")}function ee(z){return Array.isArray(z)?z:[z]}function Ie(z,q,S,K){var fe=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0,Fe=arguments.length>5?arguments[5]:void 0,pe=50-K/2,Me=0,U=-pe,le=0,Le=-2*pe;switch(Fe){case"left":Me=-pe,U=0,le=2*pe,Le=0;break;case"right":Me=pe,U=0,le=-2*pe,Le=0;break;case"bottom":U=pe,Le=2*pe;break;default:}var ot="M 50,50 m ".concat(Me,",").concat(U,`
   a `).concat(pe,",").concat(pe," 0 1 1 ").concat(le,",").concat(-Le,`
   a `).concat(pe,",").concat(pe," 0 1 1 ").concat(-le,",").concat(Le),St=Math.PI*2*pe,Ge={stroke:typeof S=="string"?S:void 0,strokeDasharray:"".concat(q/100*(St-fe),"px ").concat(St,"px"),strokeDashoffset:"-".concat(fe/2+z/100*(St-fe),"px"),transition:"stroke-dashoffset .3s ease 0s, stroke-dasharray .3s ease 0s, stroke .3s, stroke-width .06s ease .3s, opacity .3s ease 0s"};return{pathString:ot,pathStyle:Ge}}var me=function(q){var S=q.prefixCls,K=q.strokeWidth,fe=q.trailWidth,Fe=q.gapDegree,pe=q.gapPosition,Me=q.trailColor,U=q.strokeLinecap,le=q.style,Le=q.className,ot=q.strokeColor,St=q.percent,Ge=Object(yt.a)(q,["prefixCls","strokeWidth","trailWidth","gapDegree","gapPosition","trailColor","strokeLinecap","style","className","strokeColor","percent"]),Be=Z.useMemo(function(){return ie+=1,ie},[]),Nt=Ie(0,100,Me,K,Fe,pe),kt=Nt.pathString,ft=Nt.pathStyle,ut=ee(St),Ze=ee(ot),Qt=Ze.find(function(_n){return Object.prototype.toString.call(_n)==="[object Object]"}),ar=Jt(ut),zr=Object(lt.a)(ar,1),qr=zr[0],tn=function(){var Bn=0;return ut.map(function(ya,Tr){var it=Ze[Tr]||Ze[Ze.length-1],ue=Object.prototype.toString.call(it)==="[object Object]"?"url(#".concat(S,"-gradient-").concat(Be,")"):"",ge=Ie(Bn,ya,it,K,Fe,pe);return Bn+=ya,Z.createElement("path",{key:Tr,className:"".concat(S,"-circle-path"),d:ge.pathString,stroke:ue,strokeLinecap:U,strokeWidth:K,opacity:ya===0?0:1,fillOpacity:"0",style:ge.pathStyle,ref:qr[Tr]})})};return Z.createElement("svg",Object(y.a)({className:ne()("".concat(S,"-circle"),Le),viewBox:"0 0 100 100",style:le},Ge),Qt&&Z.createElement("defs",null,Z.createElement("linearGradient",{id:"".concat(S,"-gradient-").concat(Be),x1:"100%",y1:"0%",x2:"0%",y2:"0%"},Object.keys(Qt).sort(function(_n,Bn){return J(_n)-J(Bn)}).map(function(_n,Bn){return Z.createElement("stop",{key:Bn,offset:_n,stopColor:Qt[_n]})}))),Z.createElement("path",{className:"".concat(S,"-circle-trail"),d:kt,stroke:Me,strokeLinecap:U,strokeWidth:fe||K,fillOpacity:"0",style:ft}),tn().reverse())};me.defaultProps=Dt,me.displayName="Circle";var Ve=me,Re={Line:vt,Circle:Ve};function bt(z){var q=z.percent,S=z.success,K=z.successPercent,fe=ct(ce({success:S,successPercent:K}));return[fe,ct(ct(q)-fe)]}function Pt(z){var q=z.success,S=q===void 0?{}:q,K=z.strokeColor,fe=S.strokeColor;return[fe||We.presetPrimaryColors.green,K||null]}var ht=function(q){var S=q.prefixCls,K=q.width,fe=q.strokeWidth,Fe=q.trailColor,pe=q.strokeLinecap,Me=q.gapPosition,U=q.gapDegree,le=q.type,Le=q.children,ot=q.success,St=K||120,Ge={width:St,height:St,fontSize:St*.15+6},Be=fe||6,Nt=Me||le==="dashboard"&&"bottom"||"top",kt=function(){if(U||U===0)return U;if(le==="dashboard")return 75},ft=Object.prototype.toString.call(q.strokeColor)==="[object Object]",ut=Pt({success:ot,strokeColor:q.strokeColor}),Ze=ne()("".concat(S,"-inner"),Object(M.a)({},"".concat(S,"-circle-gradient"),ft));return Z.createElement("div",{className:Ze,style:Ge},Z.createElement(Ve,{percent:bt(q),strokeWidth:Be,trailWidth:Be,strokeColor:ut,strokeLinecap:pe,trailColor:Fe,prefixCls:S,gapDegree:kt(),gapPosition:Nt}),Le)},Ye=ht,Ke=function(q){for(var S=q.size,K=q.steps,fe=q.percent,Fe=fe===void 0?0:fe,pe=q.strokeWidth,Me=pe===void 0?8:pe,U=q.strokeColor,le=q.trailColor,Le=q.prefixCls,ot=q.children,St=Math.round(K*(Fe/100)),Ge=S==="small"?2:14,Be=[],Nt=0;Nt<K;Nt+=1)Be.push(Z.createElement("div",{key:Nt,className:ne()("".concat(Le,"-steps-item"),Object(M.a)({},"".concat(Le,"-steps-item-active"),Nt<=St-1)),style:{backgroundColor:Nt<=St-1?U:le,width:Ge,height:Me}}));return Z.createElement("div",{className:"".concat(Le,"-steps-outer")},Be,ot)},nt=Ke,Ot=function(z,q){var S={};for(var K in z)Object.prototype.hasOwnProperty.call(z,K)&&q.indexOf(K)<0&&(S[K]=z[K]);if(z!=null&&typeof Object.getOwnPropertySymbols=="function")for(var fe=0,K=Object.getOwnPropertySymbols(z);fe<K.length;fe++)q.indexOf(K[fe])<0&&Object.prototype.propertyIsEnumerable.call(z,K[fe])&&(S[K[fe]]=z[K[fe]]);return S},Xe=Object(et.a)("line","circle","dashboard"),xt=Object(et.a)("normal","exception","active","success"),Ne=function(z){Object(H.a)(S,z);var q=Object(k.a)(S);function S(){var K;return Object(T.a)(this,S),K=q.apply(this,arguments),K.renderProgress=function(fe){var Fe,pe=fe.getPrefixCls,Me=fe.direction,U=Object(u.a)(K),le=U.props,Le=le.prefixCls,ot=le.className,St=le.size,Ge=le.type,Be=le.steps,Nt=le.showInfo,kt=le.strokeColor,ft=Ot(le,["prefixCls","className","size","type","steps","showInfo","strokeColor"]),ut=pe("progress",Le),Ze=K.getProgressStatus(),Qt=K.renderProcessInfo(ut,Ze);Object(Et.a)(!("successPercent"in le),"Progress","`successPercent` is deprecated. Please use `success.percent` instead.");var ar;Ge==="line"?ar=Be?Z.createElement(nt,Object(y.a)({},K.props,{strokeColor:typeof kt=="string"?kt:void 0,prefixCls:ut,steps:Be}),Qt):Z.createElement(ye,Object(y.a)({},K.props,{prefixCls:ut,direction:Me}),Qt):(Ge==="circle"||Ge==="dashboard")&&(ar=Z.createElement(Ye,Object(y.a)({},K.props,{prefixCls:ut,progressStatus:Ze}),Qt));var zr=ne()(ut,(Fe={},Object(M.a)(Fe,"".concat(ut,"-").concat(Ge==="dashboard"&&"circle"||Be&&"steps"||Ge),!0),Object(M.a)(Fe,"".concat(ut,"-status-").concat(Ze),!0),Object(M.a)(Fe,"".concat(ut,"-show-info"),Nt),Object(M.a)(Fe,"".concat(ut,"-").concat(St),St),Object(M.a)(Fe,"".concat(ut,"-rtl"),Me==="rtl"),Fe),ot);return Z.createElement("div",Object(y.a)({},Object(Te.a)(ft,["status","format","trailColor","strokeWidth","width","gapDegree","gapPosition","strokeLinecap","percent","success","successPercent"]),{className:zr}),ar)},K}return Object(b.a)(S,[{key:"getPercentNumber",value:function(){var fe=this.props.percent,Fe=fe===void 0?0:fe,pe=ce(this.props);return parseInt(pe!==void 0?pe.toString():Fe.toString(),10)}},{key:"getProgressStatus",value:function(){var fe=this.props.status;return xt.indexOf(fe)<0&&this.getPercentNumber()>=100?"success":fe||"normal"}},{key:"renderProcessInfo",value:function(fe,Fe){var pe=this.props,Me=pe.showInfo,U=pe.format,le=pe.type,Le=pe.percent,ot=ce(this.props);if(!Me)return null;var St,Ge=U||function(Nt){return"".concat(Nt,"%")},Be=le==="line";return U||Fe!=="exception"&&Fe!=="success"?St=Ge(ct(Le),ct(ot)):Fe==="exception"?St=Be?Z.createElement(I.a,null):Z.createElement(at.a,null):Fe==="success"&&(St=Be?Z.createElement(we.a,null):Z.createElement(ve.a,null)),Z.createElement("span",{className:"".concat(fe,"-text"),title:typeof St=="string"?St:void 0},St)}},{key:"render",value:function(){return Z.createElement(Ce.a,null,this.renderProgress)}}]),S}(Z.Component);Ne.defaultProps={type:"line",percent:0,showInfo:!0,trailColor:null,size:"default",gapDegree:void 0,strokeLinecap:"round"};var B=A.a=Ne},CMye:function(ze,A,r){var M=r("GoyQ");function y(T){return T===T&&!M(T)}ze.exports=y},"CWI+":function(ze,A,r){},CZoQ:function(ze,A){function r(M,y,T){for(var b=T-1,u=M.length;++b<u;)if(M[b]===y)return b;return-1}ze.exports=r},CeSn:function(ze,A){var r=0/0,M="[object Symbol]",y=/^\s+|\s+$/g,T=/^[-+]0x[0-9a-f]+$/i,b=/^0b[01]+$/i,u=/^0o[0-7]+$/i,H=parseInt,k=Object.prototype,Z=k.toString;function oe(ve){var we=typeof ve;return!!ve&&(we=="object"||we=="function")}function ne(ve){return!!ve&&typeof ve=="object"}function Te(ve){return typeof ve=="symbol"||ne(ve)&&Z.call(ve)==M}function at(ve){if(typeof ve=="number")return ve;if(Te(ve))return r;if(oe(ve)){var we=typeof ve.valueOf=="function"?ve.valueOf():ve;ve=oe(we)?we+"":we}if(typeof ve!="string")return ve===0?ve:+ve;ve=ve.replace(y,"");var I=b.test(ve);return I||u.test(ve)?H(ve.slice(2),I?2:8):T.test(ve)?r:+ve}ze.exports=at},"D+ow":function(ze,A){},D9lx:function(ze,A,r){"use strict";Object.defineProperty(A,"__esModule",{value:!0}),A.BindingInWhenOnSyntax=void 0;var M=r("6AGu"),y=r("406g"),T=r("z4Hk"),b=function(){function u(H){this._binding=H,this._bindingWhenSyntax=new T.BindingWhenSyntax(this._binding),this._bindingOnSyntax=new y.BindingOnSyntax(this._binding),this._bindingInSyntax=new M.BindingInSyntax(H)}return u.prototype.inRequestScope=function(){return this._bindingInSyntax.inRequestScope()},u.prototype.inSingletonScope=function(){return this._bindingInSyntax.inSingletonScope()},u.prototype.inTransientScope=function(){return this._bindingInSyntax.inTransientScope()},u.prototype.when=function(H){return this._bindingWhenSyntax.when(H)},u.prototype.whenTargetNamed=function(H){return this._bindingWhenSyntax.whenTargetNamed(H)},u.prototype.whenTargetIsDefault=function(){return this._bindingWhenSyntax.whenTargetIsDefault()},u.prototype.whenTargetTagged=function(H,k){return this._bindingWhenSyntax.whenTargetTagged(H,k)},u.prototype.whenInjectedInto=function(H){return this._bindingWhenSyntax.whenInjectedInto(H)},u.prototype.whenParentNamed=function(H){return this._bindingWhenSyntax.whenParentNamed(H)},u.prototype.whenParentTagged=function(H,k){return this._bindingWhenSyntax.whenParentTagged(H,k)},u.prototype.whenAnyAncestorIs=function(H){return this._bindingWhenSyntax.whenAnyAncestorIs(H)},u.prototype.whenNoAncestorIs=function(H){return this._bindingWhenSyntax.whenNoAncestorIs(H)},u.prototype.whenAnyAncestorNamed=function(H){return this._bindingWhenSyntax.whenAnyAncestorNamed(H)},u.prototype.whenAnyAncestorTagged=function(H,k){return this._bindingWhenSyntax.whenAnyAncestorTagged(H,k)},u.prototype.whenNoAncestorNamed=function(H){return this._bindingWhenSyntax.whenNoAncestorNamed(H)},u.prototype.whenNoAncestorTagged=function(H,k){return this._bindingWhenSyntax.whenNoAncestorTagged(H,k)},u.prototype.whenAnyAncestorMatches=function(H){return this._bindingWhenSyntax.whenAnyAncestorMatches(H)},u.prototype.whenNoAncestorMatches=function(H){return this._bindingWhenSyntax.whenNoAncestorMatches(H)},u.prototype.onActivation=function(H){return this._bindingOnSyntax.onActivation(H)},u}();A.BindingInWhenOnSyntax=b},DVw6:function(ze,A,r){"use strict";var M=r("GNNt"),y=r("wEI+"),T=r("y8nQ"),b=r("Vl3Y"),u=r("q1tI"),H=r.n(u),k=r("x1Ii"),Z=r("lS/g"),oe=r("PjWh"),ne=function(Me){var U=!1;return(typeof Me=="string"&&Me.startsWith("date")&&!Me.endsWith("Range")||Me==="select")&&(U=!0),U},Te=ne,at=r("TSYQ"),ve=r.n(at),we=r("9mHw"),I=r("wd/R"),Ce=r.n(I);function et(pe,Me){return Vt(pe)||ce(pe,Me)||We(pe,Me)||Et()}function Et(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function We(pe,Me){if(!!pe){if(typeof pe=="string")return ct(pe,Me);var U=Object.prototype.toString.call(pe).slice(8,-1);if(U==="Object"&&pe.constructor&&(U=pe.constructor.name),U==="Map"||U==="Set")return Array.from(pe);if(U==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(U))return ct(pe,Me)}}function ct(pe,Me){(Me==null||Me>pe.length)&&(Me=pe.length);for(var U=0,le=new Array(Me);U<Me;U++)le[U]=pe[U];return le}function ce(pe,Me){var U=pe==null?null:typeof Symbol!="undefined"&&pe[Symbol.iterator]||pe["@@iterator"];if(U!=null){var le=[],Le=!0,ot=!1,St,Ge;try{for(U=U.call(pe);!(Le=(St=U.next()).done)&&(le.push(St.value),!(Me&&le.length===Me));Le=!0);}catch(Be){ot=!0,Ge=Be}finally{try{!Le&&U.return!=null&&U.return()}finally{if(ot)throw Ge}}return le}}function Vt(pe){if(Array.isArray(pe))return pe}var It=function(Me,U){var le=Array.isArray(Me)?Me:[],Le=et(le,2),ot=Le[0],St=Le[1],Ge=ot?Ce()(ot).format(U):"",Be=St?Ce()(St).format(U):"",Nt=Ge&&Be&&"".concat(Ge," ~ ").concat(Be);return Nt},Mt=It,Tt=r("1O3P"),ye=r("JtZC"),lt=r("iGn7"),yt=r("y/19"),Dt=["label","size","disabled","onChange","className","style","children","valuePropName","placeholder","labelFormatter","bordered","footerRender","allowClear","otherFieldProps","valueType"];function Jt(pe,Me){var U=Object.keys(pe);if(Object.getOwnPropertySymbols){var le=Object.getOwnPropertySymbols(pe);Me&&(le=le.filter(function(Le){return Object.getOwnPropertyDescriptor(pe,Le).enumerable})),U.push.apply(U,le)}return U}function At(pe){for(var Me=1;Me<arguments.length;Me++){var U=arguments[Me]!=null?arguments[Me]:{};Me%2?Jt(Object(U),!0).forEach(function(le){vt(pe,le,U[le])}):Object.getOwnPropertyDescriptors?Object.defineProperties(pe,Object.getOwnPropertyDescriptors(U)):Jt(Object(U)).forEach(function(le){Object.defineProperty(pe,le,Object.getOwnPropertyDescriptor(U,le))})}return pe}function vt(pe,Me,U){return Me in pe?Object.defineProperty(pe,Me,{value:U,enumerable:!0,configurable:!0,writable:!0}):pe[Me]=U,pe}function ie(pe,Me){return Ve(pe)||me(pe,Me)||ee(pe,Me)||J()}function J(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function ee(pe,Me){if(!!pe){if(typeof pe=="string")return Ie(pe,Me);var U=Object.prototype.toString.call(pe).slice(8,-1);if(U==="Object"&&pe.constructor&&(U=pe.constructor.name),U==="Map"||U==="Set")return Array.from(pe);if(U==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(U))return Ie(pe,Me)}}function Ie(pe,Me){(Me==null||Me>pe.length)&&(Me=pe.length);for(var U=0,le=new Array(Me);U<Me;U++)le[U]=pe[U];return le}function me(pe,Me){var U=pe==null?null:typeof Symbol!="undefined"&&pe[Symbol.iterator]||pe["@@iterator"];if(U!=null){var le=[],Le=!0,ot=!1,St,Ge;try{for(U=U.call(pe);!(Le=(St=U.next()).done)&&(le.push(St.value),!(Me&&le.length===Me));Le=!0);}catch(Be){ot=!0,Ge=Be}finally{try{!Le&&U.return!=null&&U.return()}finally{if(ot)throw Ge}}return le}}function Ve(pe){if(Array.isArray(pe))return pe}function Re(pe,Me){if(pe==null)return{};var U=bt(pe,Me),le,Le;if(Object.getOwnPropertySymbols){var ot=Object.getOwnPropertySymbols(pe);for(Le=0;Le<ot.length;Le++)le=ot[Le],!(Me.indexOf(le)>=0)&&(!Object.prototype.propertyIsEnumerable.call(pe,le)||(U[le]=pe[le]))}return U}function bt(pe,Me){if(pe==null)return{};var U={},le=Object.keys(pe),Le,ot;for(ot=0;ot<le.length;ot++)Le=le[ot],!(Me.indexOf(Le)>=0)&&(U[Le]=pe[Le]);return U}var Pt=function(Me){var U,le=Me.label,Le=Me.size,ot=Me.disabled,St=Me.onChange,Ge=Me.className,Be=Me.style,Nt=Me.children,kt=Me.valuePropName,ft=Me.placeholder,ut=Me.labelFormatter,Ze=Me.bordered,Qt=Me.footerRender,ar=Me.allowClear,zr=Me.otherFieldProps,qr=Me.valueType,tn=Re(Me,Dt),_n=Object(u.useContext)(y.b.ConfigContext),Bn=_n.getPrefixCls,ya=Bn("pro-field-light-wrapper"),Tr=Object(u.useState)(Me[kt]),it=ie(Tr,2),ue=it[0],ge=it[1],De=Object(we.a)(!1),Ee=ie(De,2),be=Ee[0],rt=Ee[1],de=function(){for(var dt,Gt=arguments.length,$t=new Array(Gt),nr=0;nr<Gt;nr++)$t[nr]=arguments[nr];zr==null||(dt=zr.onChange)===null||dt===void 0||dt.call.apply(dt,[zr].concat($t)),St==null||St.apply(void 0,$t)},Pe=Me[kt],xe=Object(u.useMemo)(function(){var Oe;return(qr==null||(Oe=qr.toLowerCase())===null||Oe===void 0?void 0:Oe.endsWith("range"))&&!ut?Mt(Pe,Tt.a[qr]||"YYYY-MM-DD"):Pe},[Pe,qr,ut]);return H.a.createElement(ye.a,{disabled:ot,onVisibleChange:rt,visible:be,label:H.a.createElement(lt.a,{ellipsis:!0,size:Le,onClear:function(){de==null||de(),ge(void 0)},bordered:Ze,style:Be,className:Ge,label:le,placeholder:ft,value:xe,disabled:ot,expanded:be,formatter:ut,allowClear:ar}),footer:{onClear:function(){return ge(void 0)},onConfirm:function(){de==null||de(ue),rt(!1)}},footerRender:Qt},H.a.createElement("div",{className:ve()("".concat(ya,"-container"),Ge),style:Be},H.a.cloneElement(Nt,At(At({},tn),{},(U={},vt(U,kt,ue),vt(U,"onChange",function(dt){ge((dt==null?void 0:dt.target)?dt.target.value:dt)}),U),Nt.props))))},ht=Pt,Ye=["children","value","onChange","onBlur","ignoreFormItem","valuePropName"],Ke=["children","addonAfter","addonBefore"],nt=["valueType","transform","dataFormat","ignoreFormItem","lightProps"];function Ot(){return Ot=Object.assign||function(pe){for(var Me=1;Me<arguments.length;Me++){var U=arguments[Me];for(var le in U)Object.prototype.hasOwnProperty.call(U,le)&&(pe[le]=U[le])}return pe},Ot.apply(this,arguments)}function Xe(pe,Me){var U=Object.keys(pe);if(Object.getOwnPropertySymbols){var le=Object.getOwnPropertySymbols(pe);Me&&(le=le.filter(function(Le){return Object.getOwnPropertyDescriptor(pe,Le).enumerable})),U.push.apply(U,le)}return U}function xt(pe){for(var Me=1;Me<arguments.length;Me++){var U=arguments[Me]!=null?arguments[Me]:{};Me%2?Xe(Object(U),!0).forEach(function(le){Ne(pe,le,U[le])}):Object.getOwnPropertyDescriptors?Object.defineProperties(pe,Object.getOwnPropertyDescriptors(U)):Xe(Object(U)).forEach(function(le){Object.defineProperty(pe,le,Object.getOwnPropertyDescriptor(U,le))})}return pe}function Ne(pe,Me,U){return Me in pe?Object.defineProperty(pe,Me,{value:U,enumerable:!0,configurable:!0,writable:!0}):pe[Me]=U,pe}function B(pe,Me){if(pe==null)return{};var U=z(pe,Me),le,Le;if(Object.getOwnPropertySymbols){var ot=Object.getOwnPropertySymbols(pe);for(Le=0;Le<ot.length;Le++)le=ot[Le],!(Me.indexOf(le)>=0)&&(!Object.prototype.propertyIsEnumerable.call(pe,le)||(U[le]=pe[le]))}return U}function z(pe,Me){if(pe==null)return{};var U={},le=Object.keys(pe),Le,ot;for(ot=0;ot<le.length;ot++)Le=le[ot],!(Me.indexOf(Le)>=0)&&(U[Le]=pe[Le]);return U}var q=H.a.createContext({}),S=function(Me){var U=Me.children,le=Me.value,Le=Me.onChange,ot=Me.onBlur,St=Me.ignoreFormItem,Ge=Me.valuePropName,Be=Ge===void 0?"value":Ge,Nt=B(Me,Ye),kt=Object(u.useMemo)(function(){var ut,Ze;if((U==null||(ut=U.type)===null||ut===void 0?void 0:ut.displayName)==="ProFormComponent"&&!!H.a.isValidElement(U))return Object(oe.a)(xt(xt(Ne({id:Nt.id},Be,Me[Be]),(U==null||(Ze=U.props)===null||Ze===void 0?void 0:Ze.fieldProps)||{}),{},{onBlur:function(){for(var ar,zr,qr,tn,_n,Bn=arguments.length,ya=new Array(Bn),Tr=0;Tr<Bn;Tr++)ya[Tr]=arguments[Tr];ot==null||ot.apply(void 0,ya),U==null||(ar=U.props)===null||ar===void 0||(zr=ar.onBlur)===null||zr===void 0||zr.call.apply(zr,[ar].concat(ya)),U==null||(qr=U.props)===null||qr===void 0||(tn=qr.fieldProps)===null||tn===void 0||(_n=tn.onBlur)===null||_n===void 0||_n.call.apply(_n,[tn].concat(ya))},onChange:function(){for(var ar,zr,qr,tn,_n,Bn=arguments.length,ya=new Array(Bn),Tr=0;Tr<Bn;Tr++)ya[Tr]=arguments[Tr];Le==null||Le.apply(void 0,ya),U==null||(ar=U.props)===null||ar===void 0||(zr=ar.onChange)===null||zr===void 0||zr.call.apply(zr,[ar].concat(ya)),U==null||(qr=U.props)===null||qr===void 0||(tn=qr.fieldProps)===null||tn===void 0||(_n=tn.onChange)===null||_n===void 0||_n.call.apply(_n,[tn].concat(ya))}}))},[U,Me,ot,Le,Nt.id,Be]);if(!H.a.isValidElement(U))return U;var ft=kt?void 0:function(){for(var ut,Ze,Qt=arguments.length,ar=new Array(Qt),zr=0;zr<Qt;zr++)ar[zr]=arguments[zr];Le==null||Le.apply(void 0,ar),U==null||(ut=U.props)===null||ut===void 0||(Ze=ut.onChange)===null||Ze===void 0||Ze.call.apply(Ze,[ut].concat(ar))};return H.a.cloneElement(U,Object(oe.a)(xt(xt(xt({},Nt),{},{value:le},U.props),{},{onChange:ft,fieldProps:kt})))},K=function(Me){var U=Me.children,le=Me.addonAfter,Le=Me.addonBefore,ot=B(Me,Ke),St=Object(u.useMemo)(function(){return!le&&!Le?H.a.createElement(b.a.Item,ot,U):H.a.createElement(b.a.Item,Ot({},ot,{rules:void 0,name:void 0}),H.a.createElement("div",{style:{display:"flex",alignItems:"center"}},Le?H.a.createElement("div",{style:{marginRight:8}},Le):null,H.a.createElement("div",{style:{flex:1}},H.a.createElement(b.a.Item,Ot({},ot,{noStyle:!0}),U)),le?H.a.createElement("div",{style:{marginLeft:8}},le):null))},[le,Le,U,ot]);return H.a.createElement(q.Provider,{value:{name:ot.name,label:ot.label}},St)},fe=function(Me){var U,le,Le=Object(u.useContext)(y.b.SizeContext),ot=Me.valueType,St=Me.transform,Ge=Me.dataFormat,Be=Me.ignoreFormItem,Nt=Me.lightProps,kt=Nt===void 0?{}:Nt,ft=B(Me,nt),ut=Object(u.useContext)(k.a),Ze=Object(u.useMemo)(function(){return ut.name!==void 0?[ut.name,Me.name].flat(1):Me.name},[ut.name,Me.name]),Qt=H.a.useContext(Z.a),ar=Qt.setFieldValueType;Object(u.useEffect)(function(){!ar||!Me.name||ar([ut.listName,Ze].flat(1).filter(function(Bn){return Bn!==void 0}),{valueType:ot||"text",dateFormat:Ge,transform:St})},[ut.listName,Ze,Ge,Me.name,ar,St,ot]);var zr=H.a.isValidElement(Me.children)&&Te(ot||Me.children.props.valueType),qr=Object(u.useMemo)(function(){return!!(!kt.light||kt.customLightMode||zr)},[kt.customLightMode,zr,kt.light]);if(typeof Me.children=="function")return H.a.createElement(K,Ot({},ft,{name:Ze}),Me.children);var tn=H.a.createElement(S,{key:(U=ft.name)===null||U===void 0?void 0:U.toString(),valuePropName:Me.valuePropName},Me.children),_n=qr?tn:H.a.createElement(ht,Ot({},kt,{key:(le=ft.name)===null||le===void 0?void 0:le.toString(),size:Le}),tn);return Be?H.a.createElement(H.a.Fragment,null,_n):H.a.createElement(K,Ot({},ft,{name:Ze}),_n)},Fe=A.a=fe},DjyN:function(ze,A,r){"use strict";var M=r("cIOH"),y=r.n(M),T=r("Urep"),b=r.n(T),u=r("OaEy")},"Dw+G":function(ze,A,r){var M=r("juv8"),y=r("mTTR");function T(b,u){return b&&M(u,y(u),b)}ze.exports=T},DzJC:function(ze,A,r){var M=r("sEfC"),y=r("GoyQ"),T="Expected a function";function b(u,H,k){var Z=!0,oe=!0;if(typeof u!="function")throw new TypeError(T);return y(k)&&(Z="leading"in k?!!k.leading:Z,oe="trailing"in k?!!k.trailing:oe),M(u,H,{leading:Z,maxWait:H,trailing:oe})}ze.exports=b},EA7m:function(ze,A,r){var M=r("zZ0H"),y=r("Ioao"),T=r("wclG");function b(u,H){return T(y(u,H,M),u+"")}ze.exports=b},EEGq:function(ze,A,r){var M=r("juv8"),y=r("oCl/");function T(b,u){return M(b,y(b),u)}ze.exports=T},EbDI:function(ze,A){function r(M){if(typeof Symbol!="undefined"&&M[Symbol.iterator]!=null||M["@@iterator"]!=null)return Array.from(M)}ze.exports=r,ze.exports.default=ze.exports,ze.exports.__esModule=!0},EfZ0:function(ze,A,r){"use strict";r.d(A,"a",function(){return M});var M={ProjectionMatrix:"u_ProjectionMatrix",ViewMatrix:"u_ViewMatrix",ViewProjectionMatrix:"u_ViewProjectionMatrix",Zoom:"u_Zoom",ZoomScale:"u_ZoomScale",FocalDistance:"u_FocalDistance",CameraPosition:"u_CameraPosition"}},Em2t:function(ze,A,r){var M=r("bahg"),y=r("quyA"),T=r("0JQy");function b(u){return y(u)?T(u):M(u)}ze.exports=b},EwQA:function(ze,A,r){var M=r("zZ0H");function y(T){return typeof T=="function"?T:M}ze.exports=y},FI6e:function(ze,A){},FLHK:function(ze,A,r){},FV85:function(ze,A,r){"use strict";Object.defineProperty(A,"__esModule",{value:!0}),A.TargetTypeEnum=A.BindingTypeEnum=A.BindingScopeEnum=void 0;var M={Request:"Request",Singleton:"Singleton",Transient:"Transient"};A.BindingScopeEnum=M;var y={ConstantValue:"ConstantValue",Constructor:"Constructor",DynamicValue:"DynamicValue",Factory:"Factory",Function:"Function",Instance:"Instance",Invalid:"Invalid",Provider:"Provider"};A.BindingTypeEnum=y;var T={ClassProperty:"ClassProperty",ConstructorArgument:"ConstructorArgument",Variable:"Variable"};A.TargetTypeEnum=T},FmoU:function(ze,A,r){"use strict";r.d(A,"a",function(){return ct}),r.d(A,"b",function(){return Mt});var M=function(J,ee,Ie){J.prototype=ee.prototype=Ie,Ie.constructor=J};function y(J,ee){var Ie=Object.create(J.prototype);for(var me in ee)Ie[me]=ee[me];return Ie}function T(){}var b=.7,u=1/b,H="\\s*([+-]?\\d+)\\s*",k="\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)\\s*",Z="\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)%\\s*",oe=/^#([0-9a-f]{3,8})$/,ne=new RegExp("^rgb\\("+[H,H,H]+"\\)$"),Te=new RegExp("^rgb\\("+[Z,Z,Z]+"\\)$"),at=new RegExp("^rgba\\("+[H,H,H,k]+"\\)$"),ve=new RegExp("^rgba\\("+[Z,Z,Z,k]+"\\)$"),we=new RegExp("^hsl\\("+[k,Z,Z]+"\\)$"),I=new RegExp("^hsla\\("+[k,Z,Z,k]+"\\)$"),Ce={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};M(T,ct,{copy:function(ee){return Object.assign(new this.constructor,this,ee)},displayable:function(){return this.rgb().displayable()},hex:et,formatHex:et,formatHsl:Et,formatRgb:We,toString:We});function et(){return this.rgb().formatHex()}function Et(){return Jt(this).formatHsl()}function We(){return this.rgb().formatRgb()}function ct(J){var ee,Ie;return J=(J+"").trim().toLowerCase(),(ee=oe.exec(J))?(Ie=ee[1].length,ee=parseInt(ee[1],16),Ie===6?ce(ee):Ie===3?new Tt(ee>>8&15|ee>>4&240,ee>>4&15|ee&240,(ee&15)<<4|ee&15,1):Ie===8?Vt(ee>>24&255,ee>>16&255,ee>>8&255,(ee&255)/255):Ie===4?Vt(ee>>12&15|ee>>8&240,ee>>8&15|ee>>4&240,ee>>4&15|ee&240,((ee&15)<<4|ee&15)/255):null):(ee=ne.exec(J))?new Tt(ee[1],ee[2],ee[3],1):(ee=Te.exec(J))?new Tt(ee[1]*255/100,ee[2]*255/100,ee[3]*255/100,1):(ee=at.exec(J))?Vt(ee[1],ee[2],ee[3],ee[4]):(ee=ve.exec(J))?Vt(ee[1]*255/100,ee[2]*255/100,ee[3]*255/100,ee[4]):(ee=we.exec(J))?Dt(ee[1],ee[2]/100,ee[3]/100,1):(ee=I.exec(J))?Dt(ee[1],ee[2]/100,ee[3]/100,ee[4]):Ce.hasOwnProperty(J)?ce(Ce[J]):J==="transparent"?new Tt(NaN,NaN,NaN,0):null}function ce(J){return new Tt(J>>16&255,J>>8&255,J&255,1)}function Vt(J,ee,Ie,me){return me<=0&&(J=ee=Ie=NaN),new Tt(J,ee,Ie,me)}function It(J){return J instanceof T||(J=ct(J)),J?(J=J.rgb(),new Tt(J.r,J.g,J.b,J.opacity)):new Tt}function Mt(J,ee,Ie,me){return arguments.length===1?It(J):new Tt(J,ee,Ie,me==null?1:me)}function Tt(J,ee,Ie,me){this.r=+J,this.g=+ee,this.b=+Ie,this.opacity=+me}M(Tt,Mt,y(T,{brighter:function(ee){return ee=ee==null?u:Math.pow(u,ee),new Tt(this.r*ee,this.g*ee,this.b*ee,this.opacity)},darker:function(ee){return ee=ee==null?b:Math.pow(b,ee),new Tt(this.r*ee,this.g*ee,this.b*ee,this.opacity)},rgb:function(){return this},displayable:function(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:ye,formatHex:ye,formatRgb:lt,toString:lt}));function ye(){return"#"+yt(this.r)+yt(this.g)+yt(this.b)}function lt(){var J=this.opacity;return J=isNaN(J)?1:Math.max(0,Math.min(1,J)),(J===1?"rgb(":"rgba(")+Math.max(0,Math.min(255,Math.round(this.r)||0))+", "+Math.max(0,Math.min(255,Math.round(this.g)||0))+", "+Math.max(0,Math.min(255,Math.round(this.b)||0))+(J===1?")":", "+J+")")}function yt(J){return J=Math.max(0,Math.min(255,Math.round(J)||0)),(J<16?"0":"")+J.toString(16)}function Dt(J,ee,Ie,me){return me<=0?J=ee=Ie=NaN:Ie<=0||Ie>=1?J=ee=NaN:ee<=0&&(J=NaN),new vt(J,ee,Ie,me)}function Jt(J){if(J instanceof vt)return new vt(J.h,J.s,J.l,J.opacity);if(J instanceof T||(J=ct(J)),!J)return new vt;if(J instanceof vt)return J;J=J.rgb();var ee=J.r/255,Ie=J.g/255,me=J.b/255,Ve=Math.min(ee,Ie,me),Re=Math.max(ee,Ie,me),bt=NaN,Pt=Re-Ve,ht=(Re+Ve)/2;return Pt?(ee===Re?bt=(Ie-me)/Pt+(Ie<me)*6:Ie===Re?bt=(me-ee)/Pt+2:bt=(ee-Ie)/Pt+4,Pt/=ht<.5?Re+Ve:2-Re-Ve,bt*=60):Pt=ht>0&&ht<1?0:bt,new vt(bt,Pt,ht,J.opacity)}function At(J,ee,Ie,me){return arguments.length===1?Jt(J):new vt(J,ee,Ie,me==null?1:me)}function vt(J,ee,Ie,me){this.h=+J,this.s=+ee,this.l=+Ie,this.opacity=+me}M(vt,At,y(T,{brighter:function(ee){return ee=ee==null?u:Math.pow(u,ee),new vt(this.h,this.s,this.l*ee,this.opacity)},darker:function(ee){return ee=ee==null?b:Math.pow(b,ee),new vt(this.h,this.s,this.l*ee,this.opacity)},rgb:function(){var ee=this.h%360+(this.h<0)*360,Ie=isNaN(ee)||isNaN(this.s)?0:this.s,me=this.l,Ve=me+(me<.5?me:1-me)*Ie,Re=2*me-Ve;return new Tt(ie(ee>=240?ee-240:ee+120,Re,Ve),ie(ee,Re,Ve),ie(ee<120?ee+240:ee-120,Re,Ve),this.opacity)},displayable:function(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl:function(){var ee=this.opacity;return ee=isNaN(ee)?1:Math.max(0,Math.min(1,ee)),(ee===1?"hsl(":"hsla(")+(this.h||0)+", "+(this.s||0)*100+"%, "+(this.l||0)*100+"%"+(ee===1?")":", "+ee+")")}}));function ie(J,ee,Ie){return(J<60?ee+(Ie-ee)*J/60:J<180?Ie:J<240?ee+(Ie-ee)*(240-J)/60:ee)*255}},G6z8:function(ze,A,r){var M=r("fR/l"),y=r("oCl/"),T=r("mTTR");function b(u){return M(u,T,y)}ze.exports=b},GDhZ:function(ze,A,r){var M=r("wF/u"),y=r("mwIZ"),T=r("hgQt"),b=r("9ggG"),u=r("CMye"),H=r("IOzZ"),k=r("9Nap"),Z=1,oe=2;function ne(Te,at){return b(Te)&&u(at)?H(k(Te),at):function(ve){var we=y(ve,Te);return we===void 0&&we===at?T(ve,Te):M(at,we,Z|oe)}}ze.exports=ne},GNiM:function(ze,A,r){var M=r("I01J"),y=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,T=/\\(\\)?/g,b=M(function(u){var H=[];return u.charCodeAt(0)===46&&H.push(""),u.replace(y,function(k,Z,oe,ne){H.push(oe?ne.replace(T,"$1"):Z||k)}),H});ze.exports=b},GXnB:function(ze,A,r){"use strict";Object.defineProperty(A,"__esModule",{value:!0}),A.Metadata=void 0;var M=r("xfSm"),y=function(){function T(b,u){this.key=b,this.value=u}return T.prototype.toString=function(){return this.key===M.NAMED_TAG?"named: "+this.value.toString()+" ":"tagged: { key:"+this.key.toString()+", value: "+this.value+" }"},T}();A.Metadata=y},Ga8k:function(ze,A,r){"use strict";r.d(A,"a",function(){return _n});var M=r("WmNS"),y=r.n(M),T=r("y8nQ"),b=r("Vl3Y"),u=r("DYRE"),H=r("zeV3"),k=r("+L6B"),Z=r("2/Rp"),oe=r("cIOH"),ne=r("8txm"),Te=r("MXD1"),at=r("wx14"),ve=r("rePB"),we=r("q1tI"),I=r.n(we),Ce=r("bT9E"),et=r("VTBJ"),Et=r("Ff2n"),We=r("1OyB"),ct=r("vuIU"),ce=r("Ji7U"),Vt=r("LK+K"),It=r("Zm9Q"),Mt=r("TSYQ"),Tt=r.n(Mt),ye=["className","prefixCls","style","active","status","iconPrefix","icon","wrapperStyle","stepNumber","disabled","description","title","subTitle","progressDot","stepIcon","tailContent","icons","stepIndex","onStepClick","onClick"];function lt(it){return typeof it=="string"}var yt=function(it){Object(ce.a)(ge,it);var ue=Object(Vt.a)(ge);function ge(){var De;return Object(We.a)(this,ge),De=ue.apply(this,arguments),De.onClick=function(){var Ee=De.props,be=Ee.onClick,rt=Ee.onStepClick,de=Ee.stepIndex;be&&be.apply(void 0,arguments),rt(de)},De}return Object(ct.a)(ge,[{key:"renderIconNode",value:function(){var Ee,be=this.props,rt=be.prefixCls,de=be.progressDot,Pe=be.stepIcon,xe=be.stepNumber,Oe=be.status,dt=be.title,Gt=be.description,$t=be.icon,nr=be.iconPrefix,lr=be.icons,Dr,Pr=Tt()("".concat(rt,"-icon"),"".concat(nr,"icon"),(Ee={},Object(ve.a)(Ee,"".concat(nr,"icon-").concat($t),$t&&lt($t)),Object(ve.a)(Ee,"".concat(nr,"icon-check"),!$t&&Oe==="finish"&&(lr&&!lr.finish||!lr)),Object(ve.a)(Ee,"".concat(nr,"icon-cross"),!$t&&Oe==="error"&&(lr&&!lr.error||!lr)),Ee)),Wr=we.createElement("span",{className:"".concat(rt,"-icon-dot")});return de?typeof de=="function"?Dr=we.createElement("span",{className:"".concat(rt,"-icon")},de(Wr,{index:xe-1,status:Oe,title:dt,description:Gt})):Dr=we.createElement("span",{className:"".concat(rt,"-icon")},Wr):$t&&!lt($t)?Dr=we.createElement("span",{className:"".concat(rt,"-icon")},$t):lr&&lr.finish&&Oe==="finish"?Dr=we.createElement("span",{className:"".concat(rt,"-icon")},lr.finish):lr&&lr.error&&Oe==="error"?Dr=we.createElement("span",{className:"".concat(rt,"-icon")},lr.error):$t||Oe==="finish"||Oe==="error"?Dr=we.createElement("span",{className:Pr}):Dr=we.createElement("span",{className:"".concat(rt,"-icon")},xe),Pe&&(Dr=Pe({index:xe-1,status:Oe,title:dt,description:Gt,node:Dr})),Dr}},{key:"render",value:function(){var Ee,be=this.props,rt=be.className,de=be.prefixCls,Pe=be.style,xe=be.active,Oe=be.status,dt=Oe===void 0?"wait":Oe,Gt=be.iconPrefix,$t=be.icon,nr=be.wrapperStyle,lr=be.stepNumber,Dr=be.disabled,Pr=be.description,Wr=be.title,an=be.subTitle,dn=be.progressDot,Rn=be.stepIcon,zn=be.tailContent,Qn=be.icons,Ma=be.stepIndex,Ca=be.onStepClick,ia=be.onClick,_a=Object(Et.a)(be,ye),$a=Tt()("".concat(de,"-item"),"".concat(de,"-item-").concat(dt),rt,(Ee={},Object(ve.a)(Ee,"".concat(de,"-item-custom"),$t),Object(ve.a)(Ee,"".concat(de,"-item-active"),xe),Object(ve.a)(Ee,"".concat(de,"-item-disabled"),Dr===!0),Ee)),ra=Object(et.a)({},Pe),ni={};return Ca&&!Dr&&(ni.role="button",ni.tabIndex=0,ni.onClick=this.onClick),we.createElement("div",Object.assign({},_a,{className:$a,style:ra}),we.createElement("div",Object.assign({onClick:ia},ni,{className:"".concat(de,"-item-container")}),we.createElement("div",{className:"".concat(de,"-item-tail")},zn),we.createElement("div",{className:"".concat(de,"-item-icon")},this.renderIconNode()),we.createElement("div",{className:"".concat(de,"-item-content")},we.createElement("div",{className:"".concat(de,"-item-title")},Wr,an&&we.createElement("div",{title:typeof an=="string"?an:void 0,className:"".concat(de,"-item-subtitle")},an)),Pr&&we.createElement("div",{className:"".concat(de,"-item-description")},Pr))))}}]),ge}(we.Component),Dt=["prefixCls","style","className","children","direction","type","labelPlacement","iconPrefix","status","size","current","progressDot","stepIcon","initial","icons","onChange"],Jt=function(it){Object(ce.a)(ge,it);var ue=Object(Vt.a)(ge);function ge(){var De;return Object(We.a)(this,ge),De=ue.apply(this,arguments),De.onStepClick=function(Ee){var be=De.props,rt=be.onChange,de=be.current;rt&&de!==Ee&&rt(Ee)},De}return Object(ct.a)(ge,[{key:"render",value:function(){var Ee,be=this,rt=this.props,de=rt.prefixCls,Pe=rt.style,xe=Pe===void 0?{}:Pe,Oe=rt.className,dt=rt.children,Gt=rt.direction,$t=rt.type,nr=rt.labelPlacement,lr=rt.iconPrefix,Dr=rt.status,Pr=rt.size,Wr=rt.current,an=rt.progressDot,dn=rt.stepIcon,Rn=rt.initial,zn=rt.icons,Qn=rt.onChange,Ma=Object(Et.a)(rt,Dt),Ca=$t==="navigation",ia=an?"vertical":nr,_a=Tt()(de,"".concat(de,"-").concat(Gt),Oe,(Ee={},Object(ve.a)(Ee,"".concat(de,"-").concat(Pr),Pr),Object(ve.a)(Ee,"".concat(de,"-label-").concat(ia),Gt==="horizontal"),Object(ve.a)(Ee,"".concat(de,"-dot"),!!an),Object(ve.a)(Ee,"".concat(de,"-navigation"),Ca),Ee));return I.a.createElement("div",Object.assign({className:_a,style:xe},Ma),Object(It.a)(dt).map(function($a,ra){var ni=Rn+ra,Da=Object(et.a)({stepNumber:"".concat(ni+1),stepIndex:ni,key:ni,prefixCls:de,iconPrefix:lr,wrapperStyle:xe,progressDot:an,stepIcon:dn,icons:zn,onStepClick:Qn&&be.onStepClick},$a.props);return Dr==="error"&&ra===Wr-1&&(Da.className="".concat(de,"-next-error")),$a.props.status||(ni===Wr?Da.status=Dr:ni<Wr?Da.status="finish":Da.status="wait"),Da.active=ni===Wr,Object(we.cloneElement)($a,Da)}))}}]),ge}(I.a.Component);Jt.Step=yt,Jt.defaultProps={type:"default",prefixCls:"rc-steps",iconPrefix:"rc",direction:"horizontal",labelPlacement:"horizontal",initial:0,current:0,status:"process",size:"",progressDot:!1};var At=Jt,vt=r("bRQS"),ie=r("4i/N"),J=r("H84U"),ee=r("CFYs"),Ie=r("5OYt"),me=function(ue){var ge,De=ue.percent,Ee=ue.size,be=ue.className,rt=ue.direction,de=ue.responsive,Pe=Object(Ie.a)(),xe=Pe.xs,Oe=we.useContext(J.b),dt=Oe.getPrefixCls,Gt=Oe.direction,$t=we.useCallback(function(){return de&&xe?"vertical":rt},[xe,rt]),nr=dt("steps",ue.prefixCls),lr=dt("",ue.iconPrefix),Dr=Tt()((ge={},Object(ve.a)(ge,"".concat(nr,"-rtl"),Gt==="rtl"),Object(ve.a)(ge,"".concat(nr,"-with-progress"),De!==void 0),ge),be),Pr={finish:we.createElement(vt.a,{className:"".concat(nr,"-finish-icon")}),error:we.createElement(ie.a,{className:"".concat(nr,"-error-icon")})},Wr=function(dn){var Rn=dn.node,zn=dn.status;if(zn==="process"&&De!==void 0){var Qn=Ee==="small"?32:40,Ma=we.createElement("div",{className:"".concat(nr,"-progress-icon")},we.createElement(ee.a,{type:"circle",percent:De,width:Qn,strokeWidth:4,format:function(){return null}}),Rn);return Ma}return Rn};return we.createElement(At,Object(at.a)({icons:Pr},Object(Ce.a)(ue,["percent","responsive"]),{direction:$t(),stepIcon:Wr,prefixCls:nr,iconPrefix:lr,className:Dr}))};me.Step=At.Step,me.defaultProps={current:0};var Ve=me,Re=r("GNNt"),bt=r("wEI+"),Pt=r("6cGi"),ht=r("LQCs"),Ye=r("9mHw"),Ke=r("Kwbf"),nt=r("b1eo"),Ot=["onFinish","step","formRef","title","stepProps"];function Xe(){return Xe=Object.assign||function(it){for(var ue=1;ue<arguments.length;ue++){var ge=arguments[ue];for(var De in ge)Object.prototype.hasOwnProperty.call(ge,De)&&(it[De]=ge[De])}return it},Xe.apply(this,arguments)}function xt(it,ue,ge,De,Ee,be,rt){try{var de=it[be](rt),Pe=de.value}catch(xe){ge(xe);return}de.done?ue(Pe):Promise.resolve(Pe).then(De,Ee)}function Ne(it){return function(){var ue=this,ge=arguments;return new Promise(function(De,Ee){var be=it.apply(ue,ge);function rt(Pe){xt(be,De,Ee,rt,de,"next",Pe)}function de(Pe){xt(be,De,Ee,rt,de,"throw",Pe)}rt(void 0)})}}function B(it,ue){if(it==null)return{};var ge=z(it,ue),De,Ee;if(Object.getOwnPropertySymbols){var be=Object.getOwnPropertySymbols(it);for(Ee=0;Ee<be.length;Ee++)De=be[Ee],!(ue.indexOf(De)>=0)&&(!Object.prototype.propertyIsEnumerable.call(it,De)||(ge[De]=it[De]))}return ge}function z(it,ue){if(it==null)return{};var ge={},De=Object.keys(it),Ee,be;for(be=0;be<De.length;be++)Ee=De[be],!(ue.indexOf(Ee)>=0)&&(ge[Ee]=it[Ee]);return ge}function q(it){var ue=it.onFinish,ge=it.step,De=it.formRef,Ee=it.title,be=it.stepProps,rt=B(it,Ot),de=Object(we.useRef)(),Pe=Object(we.useContext)(_n);return Object(Ke.b)(!rt.submitter,"StepForm \u4E0D\u5305\u542B\u63D0\u4EA4\u6309\u94AE\uFF0C\u8BF7\u5728 StepsForm \u4E0A"),Object(we.useImperativeHandle)(De,function(){return de.current}),Object(we.useEffect)(function(){return function(){rt.name&&(Pe==null||Pe.unRegForm(rt.name))}},[]),Pe&&(Pe==null?void 0:Pe.formArrayRef)&&(Pe.formArrayRef.current[ge||0]=de),I.a.createElement(nt.a,Xe({formRef:de,onFinish:function(){var xe=Ne(y.a.mark(function Oe(dt){var Gt;return y.a.wrap(function(nr){for(;;)switch(nr.prev=nr.next){case 0:if(rt.name&&(Pe==null||Pe.onFormFinish(rt.name,dt)),!ue){nr.next=9;break}return Pe==null||Pe.setLoading(!0),nr.next=5,ue==null?void 0:ue(dt);case 5:return Gt=nr.sent,Gt&&(Pe==null||Pe.next()),Pe==null||Pe.setLoading(!1),nr.abrupt("return");case 9:Pe==null||Pe.next();case 10:case"end":return nr.stop()}},Oe)}));return function(Oe){return xe.apply(this,arguments)}}(),layout:"vertical"},rt))}var S=q,K=r("bpiW"),fe=r("2oH+"),Fe=r.n(fe),pe=["current","onCurrentChange","submitter","stepsFormRender","stepsRender","stepFormRender","stepsProps","onFinish","formProps","containerStyle","formRef","formMapRef"];function Me(it,ue){var ge=Object.keys(it);if(Object.getOwnPropertySymbols){var De=Object.getOwnPropertySymbols(it);ue&&(De=De.filter(function(Ee){return Object.getOwnPropertyDescriptor(it,Ee).enumerable})),ge.push.apply(ge,De)}return ge}function U(it){for(var ue=1;ue<arguments.length;ue++){var ge=arguments[ue]!=null?arguments[ue]:{};ue%2?Me(Object(ge),!0).forEach(function(De){le(it,De,ge[De])}):Object.getOwnPropertyDescriptors?Object.defineProperties(it,Object.getOwnPropertyDescriptors(ge)):Me(Object(ge)).forEach(function(De){Object.defineProperty(it,De,Object.getOwnPropertyDescriptor(ge,De))})}return it}function le(it,ue,ge){return ue in it?Object.defineProperty(it,ue,{value:ge,enumerable:!0,configurable:!0,writable:!0}):it[ue]=ge,it}function Le(){return Le=Object.assign||function(it){for(var ue=1;ue<arguments.length;ue++){var ge=arguments[ue];for(var De in ge)Object.prototype.hasOwnProperty.call(ge,De)&&(it[De]=ge[De])}return it},Le.apply(this,arguments)}function ot(it){return Be(it)||Ge(it)||Ze(it)||St()}function St(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Ge(it){if(typeof Symbol!="undefined"&&it[Symbol.iterator]!=null||it["@@iterator"]!=null)return Array.from(it)}function Be(it){if(Array.isArray(it))return Qt(it)}function Nt(it,ue,ge,De,Ee,be,rt){try{var de=it[be](rt),Pe=de.value}catch(xe){ge(xe);return}de.done?ue(Pe):Promise.resolve(Pe).then(De,Ee)}function kt(it){return function(){var ue=this,ge=arguments;return new Promise(function(De,Ee){var be=it.apply(ue,ge);function rt(Pe){Nt(be,De,Ee,rt,de,"next",Pe)}function de(Pe){Nt(be,De,Ee,rt,de,"throw",Pe)}rt(void 0)})}}function ft(it,ue){return zr(it)||ar(it,ue)||Ze(it,ue)||ut()}function ut(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Ze(it,ue){if(!!it){if(typeof it=="string")return Qt(it,ue);var ge=Object.prototype.toString.call(it).slice(8,-1);if(ge==="Object"&&it.constructor&&(ge=it.constructor.name),ge==="Map"||ge==="Set")return Array.from(it);if(ge==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(ge))return Qt(it,ue)}}function Qt(it,ue){(ue==null||ue>it.length)&&(ue=it.length);for(var ge=0,De=new Array(ue);ge<ue;ge++)De[ge]=it[ge];return De}function ar(it,ue){var ge=it==null?null:typeof Symbol!="undefined"&&it[Symbol.iterator]||it["@@iterator"];if(ge!=null){var De=[],Ee=!0,be=!1,rt,de;try{for(ge=ge.call(it);!(Ee=(rt=ge.next()).done)&&(De.push(rt.value),!(ue&&De.length===ue));Ee=!0);}catch(Pe){be=!0,de=Pe}finally{try{!Ee&&ge.return!=null&&ge.return()}finally{if(be)throw de}}return De}}function zr(it){if(Array.isArray(it))return it}function qr(it,ue){if(it==null)return{};var ge=tn(it,ue),De,Ee;if(Object.getOwnPropertySymbols){var be=Object.getOwnPropertySymbols(it);for(Ee=0;Ee<be.length;Ee++)De=be[Ee],!(ue.indexOf(De)>=0)&&(!Object.prototype.propertyIsEnumerable.call(it,De)||(ge[De]=it[De]))}return ge}function tn(it,ue){if(it==null)return{};var ge={},De=Object.keys(it),Ee,be;for(be=0;be<De.length;be++)Ee=De[be],!(ue.indexOf(Ee)>=0)&&(ge[Ee]=it[Ee]);return ge}var _n=I.a.createContext(void 0);function Bn(it){var ue,ge=Object(we.useContext)(bt.b.ConfigContext),De=ge.getPrefixCls,Ee=De("pro-steps-form"),be=it.current,rt=it.onCurrentChange,de=it.submitter,Pe=it.stepsFormRender,xe=it.stepsRender,Oe=it.stepFormRender,dt=it.stepsProps,Gt=it.onFinish,$t=it.formProps,nr=it.containerStyle,lr=it.formRef,Dr=it.formMapRef,Pr=qr(it,pe),Wr=Object(we.useRef)(new Map),an=Object(we.useRef)(new Map),dn=Object(we.useRef)([]),Rn=Object(Ye.a)([]),zn=ft(Rn,2),Qn=zn[0],Ma=zn[1],Ca=Object(Ye.a)(!1),ia=ft(Ca,2),_a=ia[0],$a=ia[1],ra=Object(ht.d)(),ni=Object(Pt.a)(0,{value:it.current,onChange:it.onCurrentChange}),Da=ft(ni,2),Fa=Da[0],ba=Da[1],Oi=Object(we.useCallback)(function(Ba,Pa){an.current.set(Ba,Pa)},[]),Do=Object(we.useCallback)(function(Ba){an.current.delete(Ba),Wr.current.delete(Ba)},[]);Object(we.useEffect)(function(){Ma(Array.from(an.current.keys()))},[Array.from(an.current.keys()).join(",")]);var Li=(ue=dn.current[Fa||0])===null||ue===void 0?void 0:ue.current;Object(we.useImperativeHandle)(Dr,function(){return dn.current}),Object(we.useImperativeHandle)(lr,function(){return Li});var Ui=Object(we.useCallback)(function(){var Ba=kt(y.a.mark(function Pa(lo,No){var La,mr;return y.a.wrap(function(vr){for(;;)switch(vr.prev=vr.next){case 0:if(Wr.current.set(lo,No),!(Fa===an.current.size-1||an.current.size===0)){vr.next=19;break}if(it.onFinish){vr.next=4;break}return vr.abrupt("return");case 4:return $a(!0),La=Fe.a.apply(void 0,[{}].concat(ot(Array.from(Wr.current.values())))),vr.prev=6,vr.next=9,it.onFinish(La);case 9:mr=vr.sent,mr&&(ba(0),dn.current.forEach(function(un){var va;return(va=un.current)===null||va===void 0?void 0:va.resetFields()})),vr.next=16;break;case 13:vr.prev=13,vr.t0=vr.catch(6),console.log(vr.t0);case 16:return vr.prev=16,$a(!1),vr.finish(16);case 19:case"end":return vr.stop()}},Pa,null,[[6,13,16,19]])}));return function(Pa,lo){return Ba.apply(this,arguments)}}(),[it,Fa]),Na=I.a.createElement("div",{className:"".concat(Ee,"-steps-container"),style:{maxWidth:Math.min(Qn.length*320,1160)}},I.a.createElement(Ve,Le({},dt,{current:Fa,onChange:void 0}),Qn.map(function(Ba){var Pa=an.current.get(Ba);return I.a.createElement(Ve.Step,Le({key:Ba,title:Pa==null?void 0:Pa.title},Pa==null?void 0:Pa.stepProps))}))),wa=function(){var Pa,lo=dn.current[Fa];(Pa=lo.current)===null||Pa===void 0||Pa.submit()},ga=de!==!1&&I.a.createElement(Z.a,Le({key:"next",type:"primary",loading:_a},de==null?void 0:de.submitButtonProps,{onClick:function(){var Pa;de==null||(Pa=de.onSubmit)===null||Pa===void 0||Pa.call(de),wa()}}),ra.getMessage("stepsForm.next","\u4E0B\u4E00\u6B65")),pi=de!==!1&&I.a.createElement(Z.a,Le({key:"pre"},de==null?void 0:de.resetButtonProps,{onClick:function(){var Pa;ba(Fa-1),de==null||(Pa=de.onReset)===null||Pa===void 0||Pa.call(de)}}),ra.getMessage("stepsForm.prev","\u4E0A\u4E00\u6B65")),_o=de!==!1&&I.a.createElement(Z.a,Le({key:"submit",type:"primary",loading:_a},de==null?void 0:de.submitButtonProps,{onClick:function(){var Pa;de==null||(Pa=de.onSubmit)===null||Pa===void 0||Pa.call(de),wa()}}),ra.getMessage("stepsForm.submit","\u63D0\u4EA4")),To=function(){var Pa=Fa||0;return Pa<1?[ga]:Pa+1===Qn.length?[pi,_o]:[pi,ga]},so=function(){var Pa=To();if(de&&de.render){var lo,No={form:(lo=dn.current[Fa])===null||lo===void 0?void 0:lo.current,onSubmit:wa,step:Fa,onPre:function(){Fa<1||ba(Fa-1)}};return de.render(No,Pa)}return de&&(de==null?void 0:de.render)===!1?null:Pa},vi=Object(It.a)(it.children).map(function(Ba,Pa){var lo=Ba.props,No=lo.name||"".concat(Pa);Oi(No,lo);var La=Fa===Pa,mr=La?{contentRender:Oe,submitter:!1}:{};return I.a.createElement("div",{className:Tt()("".concat(Ee,"-step"),le({},"".concat(Ee,"-step-active"),La)),key:No},I.a.cloneElement(Ba,U(U(U(U({},mr),$t),lo),{},{name:No,step:Pa,key:No})))}),ko=it.stepsRender?it.stepsRender(Qn.map(function(Ba){var Pa;return{key:Ba,title:(Pa=an.current.get(Ba))===null||Pa===void 0?void 0:Pa.title}}),Na):Na,bo=so();return I.a.createElement("div",{className:Ee},I.a.createElement(b.a.Provider,Pr,I.a.createElement(_n.Provider,{value:{loading:_a,setLoading:$a,keyArray:Qn,next:function(){Fa>Qn.length-2||ba(Fa+1)},formArrayRef:dn,formMapRef:an,unRegForm:Do,onFormFinish:Ui}},Pe?Pe(I.a.createElement(I.a.Fragment,null,ko,I.a.createElement("div",{className:"".concat(Ee,"-container"),style:nr},vi)),bo):I.a.createElement(I.a.Fragment,null,ko,I.a.createElement("div",{className:"".concat(Ee,"-container"),style:nr},vi,I.a.createElement(H.b,null,so()))))))}function ya(it){return I.a.createElement(ht.a,null,I.a.createElement(Bn,it))}ya.StepForm=S,ya.useForm=b.a.useForm;var Tr=A.b=ya},Gi0A:function(ze,A,r){var M=r("QqLw"),y=r("ExA7"),T="[object Map]";function b(u){return y(u)&&M(u)==T}ze.exports=b},Hel2:function(ze,A,r){"use strict";r.d(A,"o",function(){return B}),r.d(A,"m",function(){return S}),r.d(A,"p",function(){return pe}),r.d(A,"d",function(){return ot}),r.d(A,"q",function(){return Ge}),r.d(A,"r",function(){return Nt}),r.d(A,"j",function(){return kt}),r.d(A,"h",function(){return ft}),r.d(A,"b",function(){return ut}),r.d(A,"i",function(){return Ze}),r.d(A,"s",function(){return ar}),r.d(A,"k",function(){return zr}),r.d(A,"l",function(){return qr}),r.d(A,"n",function(){return tn}),r.d(A,"f",function(){return _n}),r.d(A,"e",function(){return Bn}),r.d(A,"g",function(){return ya}),r.d(A,"a",function(){return M}),r.d(A,"c",function(){return y});var M={};r.r(M),r.d(M,"getContainer",function(){return Z}),r.d(M,"trim",function(){return oe}),r.d(M,"splitWords",function(){return ne}),r.d(M,"create",function(){return at}),r.d(M,"remove",function(){return ve}),r.d(M,"addClass",function(){return we}),r.d(M,"removeClass",function(){return I}),r.d(M,"hasClass",function(){return Ce}),r.d(M,"setClass",function(){return et}),r.d(M,"getClass",function(){return Et}),r.d(M,"empty",function(){return We}),r.d(M,"setTransform",function(){return ce}),r.d(M,"triggerResize",function(){return Vt}),r.d(M,"printCanvas",function(){return It}),r.d(M,"getViewPortScale",function(){return Mt}),r.d(M,"DPR",function(){return Tt});var y={};r.r(y),r.d(y,"sum",function(){return ue}),r.d(y,"max",function(){return Tr}),r.d(y,"min",function(){return it}),r.d(y,"mean",function(){return ge}),r.d(y,"mode",function(){return De}),r.d(y,"statMap",function(){return Ee}),r.d(y,"getColumn",function(){return be}),r.d(y,"getSatByColumn",function(){return rt});function T(de){var Pe=131,xe=137,Oe=0;de+="x";for(var dt=Math.floor(9007199254740991/xe),Gt=0;Gt<de.length;Gt++)Oe>dt&&(Oe=Math.floor(Oe/xe)),Oe=Oe*Pe+de.charCodeAt(Gt);return Oe}function b(de){de=de.toString();for(var Pe=5381,xe=de.length;xe;)Pe=Pe*33^de.charCodeAt(--xe);return Pe>>>0}var u=r("J4zp"),H=r.n(u),k=window.document.documentElement.style;function Z(de){var Pe=de;return typeof de=="string"&&(Pe=document.getElementById(de)),Pe}function oe(de){return de.trim?de.trim():de.replace(/^\s+|\s+$/g,"")}function ne(de){return oe(de).split(/\s+/)}function Te(de){if(!k)return de[0];for(var Pe in de)if(de[Pe]&&de[Pe]in k)return de[Pe];return de[0]}function at(de,Pe,xe){var Oe=document.createElement(de);return Oe.className=Pe||"",xe&&xe.appendChild(Oe),Oe}function ve(de){var Pe=de.parentNode;Pe&&Pe.removeChild(de)}function we(de,Pe){if(de.classList!==void 0)for(var xe=ne(Pe),Oe=0,dt=xe.length;Oe<dt;Oe++)de.classList.add(xe[Oe]);else if(!Ce(de,Pe)){var Gt=Et(de);et(de,(Gt?Gt+" ":"")+Pe)}}function I(de,Pe){de.classList!==void 0?de.classList.remove(Pe):et(de,oe((" "+Et(de)+" ").replace(" "+Pe+" "," ")))}function Ce(de,Pe){if(de.classList!==void 0)return de.classList.contains(Pe);var xe=Et(de);return xe.length>0&&new RegExp("(^|\\s)"+Pe+"(\\s|$)").test(xe)}function et(de,Pe){de instanceof HTMLElement?de.className=Pe:de.className.baseVal=Pe}function Et(de){return de instanceof SVGElement&&(de=de.correspondingElement),de.className.baseVal===void 0?de.className:de.className.baseVal}function We(de){for(;de&&de.firstChild;)de.removeChild(de.firstChild)}var ct=Te(["transform","WebkitTransform"]);function ce(de,Pe){de.style[ct]=Pe}function Vt(){if(typeof Event=="function")window.dispatchEvent(new Event("resize"));else{var de=window.document.createEvent("UIEvents");de.initUIEvent("resize",!0,!1,window,0),window.dispatchEvent(de)}}function It(de){var Pe=["padding: "+(de.height/2-8)+"px "+de.width/2+"px;","line-height: "+de.height+"px;","background-image: url("+de.toDataURL()+");"];console.log(`%c
`,Pe.join(""))}function Mt(){var de,Pe=document.querySelector('meta[name="viewport"]');if(!Pe)return 1;var xe=(de=Pe.content)===null||de===void 0?void 0:de.split(","),Oe=xe.find(function(dt){var Gt=dt.split("="),$t=H()(Gt,2),nr=$t[0],lr=$t[1];return nr==="initial-scale"});return Oe?Oe.split("=")[1]*1:1}var Tt=Mt()<1?1:window.devicePixelRatio,ye=r("lwsE"),lt=r.n(ye),yt=r("W8MJ"),Dt=r.n(yt),Jt=r("PJYZ"),At=r.n(Jt),vt=r("7W2i"),ie=r.n(vt),J=r("a1gu"),ee=r.n(J),Ie=r("Nsbk"),me=r.n(Ie),Ve=r("oShl"),Re=r.n(Ve),bt=r("lSNA"),Pt=r.n(bt);function ht(de){var Pe=Ye();return function(){var Oe=me()(de),dt;if(Pe){var Gt=me()(this).constructor;dt=Reflect.construct(Oe,arguments,Gt)}else dt=Oe.apply(this,arguments);return ee()(this,dt)}}function Ye(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(de){return!1}}var Ke=function(de){ie()(xe,de);var Pe=ht(xe);function xe(Oe,dt,Gt){var $t;return lt()(this,xe),$t=Pe.call(this,Oe),Pt()(At()($t),"status",void 0),Pt()(At()($t),"url",void 0),$t.status=dt,$t.url=Gt,$t.name=$t.constructor.name,$t.message=Oe,$t}return Dt()(xe,[{key:"toString",value:function(){return"".concat(this.name,": ").concat(this.message," (").concat(this.status,"): ").concat(this.url)}}]),xe}(Re()(Error));function nt(de){var Pe=new XMLHttpRequest;Pe.open("GET",de.url,!0);for(var xe in de.headers)de.headers.hasOwnProperty(xe)&&Pe.setRequestHeader(xe,de.headers[xe]);return Pe.withCredentials=de.credentials==="include",Pe}var Ot=function(Pe,xe){var Oe=nt(Pe);return Oe.setRequestHeader("Accept","application/json"),Oe.onerror=function(){xe(new Error(Oe.statusText))},Oe.onload=function(){if(Oe.status>=200&&Oe.status<300&&Oe.response){var dt;try{dt=JSON.parse(Oe.response)}catch(Gt){return xe(Gt)}xe(null,dt)}else Oe.status===401?xe(new Ke("".concat(Oe.statusText),Oe.status,Pe.url)):xe(new Ke(Oe.statusText,Oe.status,Pe.url))},Oe.send(),Oe},Xe=function(Pe,xe){var Oe=nt(Pe);return Oe.responseType="arraybuffer",Oe.onerror=function(){xe(new Error(Oe.statusText))},Oe.onload=function(){var dt=Oe.response;if(dt.byteLength===0&&Oe.status===200)return xe(new Error("http status 200 returned without content."));Oe.status>=200&&Oe.status<300&&Oe.response?xe(null,{data:dt,cacheControl:Oe.getResponseHeader("Cache-Control"),expires:Oe.getResponseHeader("Expires")}):xe(new Ke(Oe.statusText,Oe.status,Pe.url))},Oe.send(),Oe};function xt(de){var Pe=window.document.createElement("a");return Pe.href=de,Pe.protocol===window.document.location.protocol&&Pe.host===window.document.location.host}var Ne="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAAC0lEQVQYV2NgAAIAAAUAAarVyFEAAAAASUVORK5CYII=",B=function(Pe,xe){return Xe(Pe,function(Oe,dt){if(Oe)xe(Oe);else if(dt){var Gt=new window.Image;Gt.crossOrigin="anonymous";var $t=window.URL||window.webkitURL;Gt.onload=function(){xe(null,Gt),$t.revokeObjectURL(Gt.src)};var nr=new window.Blob([new Uint8Array(dt.data)],{type:"image/png"});Gt.src=dt.data.byteLength?$t.createObjectURL(nr):Ne}})},z=r("0wsv"),q=2*Math.PI*6378137/2;function S(de){var Pe=[Infinity,Infinity,-Infinity,-Infinity];return de.forEach(function(xe){var Oe=xe.coordinates;K(Pe,Oe)}),Pe}function K(de,Pe){return Array.isArray(Pe[0])?Pe.forEach(function(xe){K(de,xe)}):(de[0]>Pe[0]&&(de[0]=Pe[0]),de[1]>Pe[1]&&(de[1]=Pe[1]),de[2]<Pe[0]&&(de[2]=Pe[0]),de[3]<Pe[1]&&(de[3]=Pe[1])),de}function fe(de,Pe){return Fe(de,Pe)}function Fe(de,Pe){return Array.isArray(de[0])?de.map(function(xe){return Fe(xe,Pe)}):Pe(de)}function pe(de){var Pe=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0,xe=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{enable:!0,decimal:1};de=Le(de,Pe);var Oe=de[0],dt=de[1],Gt=Oe*q/180,$t=Math.log(Math.tan((90+dt)*Math.PI/360))/(Math.PI/180);return $t=$t*q/180,xe.enable&&(Gt=Number(Gt.toFixed(xe.decimal)),$t=Number($t.toFixed(xe.decimal))),de.length===3?[Gt,$t,de[2]]:[Gt,$t]}function Me(de){var Pe=arguments.length>1&&arguments[1]!==void 0?arguments[1]:6,xe=de[0],Oe=de[1],dt=xe/q*180,Gt=Oe/q*180;return Gt=180/Math.PI*(2*Math.atan(Math.exp(Gt*Math.PI/180))-Math.PI/2),Pe!=null&&(dt=Number(dt.toFixed(Pe)),Gt=Number(Gt.toFixed(Pe))),de.length===3?[dt,Gt,de[2]]:[dt,Gt]}function U(de){if(de==null)throw new Error("lng is required");return(de>180||de<-180)&&(de=de%360,de>180&&(de=-360+de),de<-180&&(de=360+de),de===0&&(de=0)),de}function le(de){if(de==null)throw new Error("lat is required");return(de>90||de<-90)&&(de=de%180,de>90&&(de=-180+de),de<-90&&(de=180+de),de===0&&(de=0)),de}function Le(de,Pe){if(Pe===!1)return de;var xe=U(de[0]),Oe=le(de[1]);return Oe>85&&(Oe=85),Oe<-85&&(Oe=-85),de.length===3?[xe,Oe,de[2]]:[xe,Oe]}function ot(de){var Pe=85.0511287798,xe=Math.max(Math.min(Pe,de[1]),-Pe),Oe=256<<20,dt=Math.PI/180,Gt=de[0]*dt,$t=xe*dt;$t=Math.log(Math.tan(Math.PI/4+$t/2));var nr=.5/Math.PI,lr=.5,Dr=-.5/Math.PI;return dt=.5,Gt=Oe*(nr*Gt+lr),$t=Oe*(Dr*$t+dt),[Math.floor(Gt),Math.floor($t)]}function St(de){var Pe=.5/Math.PI,xe=.5,Oe=-.5/Math.PI,dt=.5,Gt=256<<20,$t=H()(de,2),nr=$t[0],lr=$t[1];nr=(nr/Gt-xe)/Pe,lr=(lr/Gt-dt)/Oe,lr=(Math.atan(Math.pow(Math.E,lr))-Math.PI/4)*2,dt=Math.PI/180;var Dr=lr/dt,Pr=nr/dt;return[Pr,Dr]}function Ge(de,Pe,xe){var Oe=Object(z.a)(Pe[1]-de[1]),dt=Object(z.a)(Pe[0]-de[0]),Gt=Object(z.a)(de[1]),$t=Object(z.a)(Pe[1]),nr=Math.pow(Math.sin(Oe/2),2)+Math.pow(Math.sin(dt/2),2)*Math.cos(Gt)*Math.cos($t);return Object(z.g)(2*Math.atan2(Math.sqrt(nr),Math.sqrt(1-nr)),xe="meters")}function Be(de){var Pe=Math.PI/180,xe=85.0511287798,Oe=6378137,dt=Math.max(Math.min(xe,de[1]),-xe),Gt=Math.sin(dt*Pe),$t=Oe*de[0]*Pe,nr=Oe*Math.log((1+Gt)/(1-Gt))/2;return[$t,nr]}function Nt(de,Pe){var xe=Math.abs(de[1][1]-de[0][1])*Pe,Oe=Math.abs(de[1][0]-de[0][0])*Pe;return[[de[0][0]-Oe,de[0][1]-xe],[de[1][0]+Oe,de[1][1]+xe]]}function kt(de,Pe){return de[0][0]<=Pe[0][0]&&de[0][1]<=Pe[0][1]&&de[1][0]>=Pe[1][0]&&de[1][1]>=Pe[1][1]}function ft(de){return[[de[0],de[1]],[de[2],de[3]]]}var ut=function(){function de(){var Pe=arguments.length>0&&arguments[0]!==void 0?arguments[0]:50,xe=arguments.length>1?arguments[1]:void 0;lt()(this,de),Pt()(this,"limit",void 0),Pt()(this,"cache",void 0),Pt()(this,"destroy",void 0),Pt()(this,"order",void 0),this.limit=Pe,this.destroy=xe||this.defaultDestroy,this.order=[],this.clear()}return Dt()(de,[{key:"clear",value:function(){var xe=this;this.order.forEach(function(Oe){xe.delete(Oe)}),this.cache={},this.order=[]}},{key:"get",value:function(xe){var Oe=this.cache[xe];return Oe&&(this.deleteOrder(xe),this.appendOrder(xe)),Oe}},{key:"set",value:function(xe,Oe){this.cache[xe]?(this.delete(xe),this.cache[xe]=Oe,this.appendOrder(xe)):(Object.keys(this.cache).length===this.limit&&this.delete(this.order[0]),this.cache[xe]=Oe,this.appendOrder(xe))}},{key:"delete",value:function(xe){var Oe=this.cache[xe];Oe&&(this.deleteCache(xe),this.deleteOrder(xe),this.destroy(Oe,xe))}},{key:"deleteCache",value:function(xe){delete this.cache[xe]}},{key:"deleteOrder",value:function(xe){var Oe=this.order.findIndex(function(dt){return dt===xe});Oe>=0&&this.order.splice(Oe,1)}},{key:"appendOrder",value:function(xe){this.order.push(xe)}},{key:"defaultDestroy",value:function(xe,Oe){return null}}]),de}();function Ze(de,Pe){de.forEach(function(xe){!Pe[xe]||(Pe[xe]=Pe[xe].bind(Pe))})}var Qt=r("FmoU");function ar(de){var Pe=Qt.a(de),xe=[0,0,0,0];return Pe!=null&&(xe[0]=Pe.r/255,xe[1]=Pe.g/255,xe[2]=Pe.b/255,xe[3]=Pe.opacity),xe}function zr(de){var Pe=de&&de[0],xe=de&&de[1],Oe=de&&de[2],dt=Pe+xe*256+Oe*65536-1;return dt}function qr(de){return[de+1&255,de+1>>8&255,de+1>>8>>8&255]}function tn(de){var Pe=document.createElement("canvas"),xe=Pe.getContext("2d");Pe.width=256,Pe.height=1;for(var Oe=xe.createLinearGradient(0,0,256,1),dt=null,Gt=de.positions[0],$t=de.positions[de.positions.length-1],nr=0;nr<de.colors.length;++nr){var lr=(de.positions[nr]-Gt)/($t-Gt);Oe.addColorStop(lr,de.colors[nr])}return xe.fillStyle=Oe,xe.fillRect(0,0,256,1),dt=new Uint8ClampedArray(xe.getImageData(0,0,256,1).data),new ImageData(dt,256,1)}var _n;(function(de){de.CENTER="center",de.TOP="top",de["TOP-LEFT"]="top-left",de["TOP-RIGHT"]="top-right",de.BOTTOM="bottom",de["BOTTOM-LEFT"]="bottom-left",de.LEFT="left",de.RIGHT="right"})(_n||(_n={}));var Bn={center:"translate(-50%,-50%)",top:"translate(-50%,0)","top-left":"translate(0,0)","top-right":"translate(-100%,0)",bottom:"translate(-50%,-100%)","bottom-left":"translate(0,-100%)","bottom-right":"translate(-100%,-100%)",left:"translate(0,-50%)",right:"translate(-100%,-50%)"};function ya(de,Pe,xe){var Oe=de.classList;for(var dt in Bn)Bn.hasOwnProperty(dt)&&Oe.remove("l7-".concat(xe,"-anchor-").concat(dt));Oe.add("l7-".concat(xe,"-anchor-").concat(Pe))}function Tr(de){if(de.length===0)throw new Error("max requires at least one data point");for(var Pe=de[0],xe=1;xe<de.length;xe++)de[xe]>Pe&&(Pe=de[xe]);return Pe*1}function it(de){if(de.length===0)throw new Error("min requires at least one data point");for(var Pe=de[0],xe=1;xe<de.length;xe++)de[xe]<Pe&&(Pe=de[xe]);return Pe*1}function ue(de){if(de.length===0)return 0;for(var Pe=de[0]*1,xe=1;xe<de.length;xe++)Pe+=de[xe]*1;return Pe}function ge(de){if(de.length===0)throw new Error("mean requires at least one data point");return ue(de)/de.length}function De(de){if(de.length===0)throw new Error("mean requires at least one data point");if(de.length<3)return de[0];de.sort();for(var Pe=de[0],xe=NaN,Oe=0,dt=1,Gt=1;Gt<de.length+1;Gt++)de[Gt]!==Pe?(dt>Oe&&(Oe=dt,xe=Pe),dt=1,Pe=de[Gt]):dt++;return xe*1}var Ee={min:it,max:Tr,mean:ge,sum:ue,mode:De};function be(de,Pe){return de.map(function(xe){return xe[Pe]})}function rt(de,Pe){return Ee[de](Pe)}},HpQ9:function(ze,A,r){"use strict";Object.defineProperty(A,"__esModule",{value:!0}),A.ContainerSnapshot=void 0;var M=function(){function y(){}return y.of=function(T,b){var u=new y;return u.bindings=T,u.middleware=b,u},y}();A.ContainerSnapshot=M},HthE:function(ze,A,r){"use strict";r.d(A,"a",function(){return M}),r.d(A,"b",function(){return y});var M;(function(T){T[T.LNGLAT=1]="LNGLAT",T[T.LNGLAT_OFFSET=2]="LNGLAT_OFFSET",T[T.VECTOR_TILE=3]="VECTOR_TILE",T[T.IDENTITY=4]="IDENTITY",T[T.P20=5]="P20",T[T.P20_OFFSET=6]="P20_OFFSET",T[T.METER_OFFSET=7]="METER_OFFSET",T[T.P20_2=8]="P20_2"})(M||(M={}));var y={CoordinateSystem:"u_CoordinateSystem",ViewportCenter:"u_ViewportCenter",ViewportCenterProjection:"u_ViewportCenterProjection",PixelsPerDegree:"u_PixelsPerDegree",PixelsPerDegree2:"u_PixelsPerDegree2",PixelsPerMeter:"u_PixelsPerMeter",Mvp:"u_Mvp"}},I01J:function(ze,A,r){var M=r("44Ds"),y=500;function T(b){var u=M(b,function(k){return H.size===y&&H.clear(),k}),H=u.cache;return u}ze.exports=T},IOcx:function(ze,A,r){"use strict";r.d(A,"a",function(){return M}),r.d(A,"b",function(){return Dt}),r.d(A,"c",function(){return Jt}),r.d(A,"d",function(){return At}),r.d(A,"e",function(){return vt});var M={};r.r(M),r.d(M,"create",function(){return T}),r.d(M,"clone",function(){return b}),r.d(M,"copy",function(){return u}),r.d(M,"identity",function(){return H}),r.d(M,"fromValues",function(){return k}),r.d(M,"set",function(){return Z}),r.d(M,"transpose",function(){return oe}),r.d(M,"invert",function(){return ne}),r.d(M,"adjoint",function(){return Te}),r.d(M,"determinant",function(){return at}),r.d(M,"multiply",function(){return ve}),r.d(M,"rotate",function(){return we}),r.d(M,"scale",function(){return I}),r.d(M,"fromRotation",function(){return Ce}),r.d(M,"fromScaling",function(){return et}),r.d(M,"str",function(){return Et}),r.d(M,"frob",function(){return We}),r.d(M,"LDU",function(){return ct}),r.d(M,"add",function(){return ce}),r.d(M,"subtract",function(){return Vt}),r.d(M,"exactEquals",function(){return It}),r.d(M,"equals",function(){return Mt}),r.d(M,"multiplyScalar",function(){return Tt}),r.d(M,"multiplyScalarAndAdd",function(){return ye}),r.d(M,"mul",function(){return lt}),r.d(M,"sub",function(){return yt});var y=r("yU0y");function T(){var ie=new y.a(4);return y.a!=Float32Array&&(ie[1]=0,ie[2]=0),ie[0]=1,ie[3]=1,ie}function b(ie){var J=new y.a(4);return J[0]=ie[0],J[1]=ie[1],J[2]=ie[2],J[3]=ie[3],J}function u(ie,J){return ie[0]=J[0],ie[1]=J[1],ie[2]=J[2],ie[3]=J[3],ie}function H(ie){return ie[0]=1,ie[1]=0,ie[2]=0,ie[3]=1,ie}function k(ie,J,ee,Ie){var me=new y.a(4);return me[0]=ie,me[1]=J,me[2]=ee,me[3]=Ie,me}function Z(ie,J,ee,Ie,me){return ie[0]=J,ie[1]=ee,ie[2]=Ie,ie[3]=me,ie}function oe(ie,J){if(ie===J){var ee=J[1];ie[1]=J[2],ie[2]=ee}else ie[0]=J[0],ie[1]=J[2],ie[2]=J[1],ie[3]=J[3];return ie}function ne(ie,J){var ee=J[0],Ie=J[1],me=J[2],Ve=J[3],Re=ee*Ve-me*Ie;return Re?(Re=1/Re,ie[0]=Ve*Re,ie[1]=-Ie*Re,ie[2]=-me*Re,ie[3]=ee*Re,ie):null}function Te(ie,J){var ee=J[0];return ie[0]=J[3],ie[1]=-J[1],ie[2]=-J[2],ie[3]=ee,ie}function at(ie){return ie[0]*ie[3]-ie[2]*ie[1]}function ve(ie,J,ee){var Ie=J[0],me=J[1],Ve=J[2],Re=J[3],bt=ee[0],Pt=ee[1],ht=ee[2],Ye=ee[3];return ie[0]=Ie*bt+Ve*Pt,ie[1]=me*bt+Re*Pt,ie[2]=Ie*ht+Ve*Ye,ie[3]=me*ht+Re*Ye,ie}function we(ie,J,ee){var Ie=J[0],me=J[1],Ve=J[2],Re=J[3],bt=Math.sin(ee),Pt=Math.cos(ee);return ie[0]=Ie*Pt+Ve*bt,ie[1]=me*Pt+Re*bt,ie[2]=Ie*-bt+Ve*Pt,ie[3]=me*-bt+Re*Pt,ie}function I(ie,J,ee){var Ie=J[0],me=J[1],Ve=J[2],Re=J[3],bt=ee[0],Pt=ee[1];return ie[0]=Ie*bt,ie[1]=me*bt,ie[2]=Ve*Pt,ie[3]=Re*Pt,ie}function Ce(ie,J){var ee=Math.sin(J),Ie=Math.cos(J);return ie[0]=Ie,ie[1]=ee,ie[2]=-ee,ie[3]=Ie,ie}function et(ie,J){return ie[0]=J[0],ie[1]=0,ie[2]=0,ie[3]=J[1],ie}function Et(ie){return"mat2("+ie[0]+", "+ie[1]+", "+ie[2]+", "+ie[3]+")"}function We(ie){return Math.hypot(ie[0],ie[1],ie[2],ie[3])}function ct(ie,J,ee,Ie){return ie[2]=Ie[2]/Ie[0],ee[0]=Ie[0],ee[1]=Ie[1],ee[3]=Ie[3]-ie[2]*ee[1],[ie,J,ee]}function ce(ie,J,ee){return ie[0]=J[0]+ee[0],ie[1]=J[1]+ee[1],ie[2]=J[2]+ee[2],ie[3]=J[3]+ee[3],ie}function Vt(ie,J,ee){return ie[0]=J[0]-ee[0],ie[1]=J[1]-ee[1],ie[2]=J[2]-ee[2],ie[3]=J[3]-ee[3],ie}function It(ie,J){return ie[0]===J[0]&&ie[1]===J[1]&&ie[2]===J[2]&&ie[3]===J[3]}function Mt(ie,J){var ee=ie[0],Ie=ie[1],me=ie[2],Ve=ie[3],Re=J[0],bt=J[1],Pt=J[2],ht=J[3];return Math.abs(ee-Re)<=y.b*Math.max(1,Math.abs(ee),Math.abs(Re))&&Math.abs(Ie-bt)<=y.b*Math.max(1,Math.abs(Ie),Math.abs(bt))&&Math.abs(me-Pt)<=y.b*Math.max(1,Math.abs(me),Math.abs(Pt))&&Math.abs(Ve-ht)<=y.b*Math.max(1,Math.abs(Ve),Math.abs(ht))}function Tt(ie,J,ee){return ie[0]=J[0]*ee,ie[1]=J[1]*ee,ie[2]=J[2]*ee,ie[3]=J[3]*ee,ie}function ye(ie,J,ee,Ie){return ie[0]=J[0]+ee[0]*Ie,ie[1]=J[1]+ee[1]*Ie,ie[2]=J[2]+ee[2]*Ie,ie[3]=J[3]+ee[3]*Ie,ie}var lt=ve,yt=Vt,Dt=r("ZaHm"),Jt=r("ZxFD"),At=r("n+fv"),vt=r("bl9R")},IOzZ:function(ze,A){function r(M,y){return function(T){return T==null?!1:T[M]===y&&(y!==void 0||M in Object(T))}}ze.exports=r},ISu3:function(ze,A,r){"use strict";r.d(A,"a",function(){return T}),r.d(A,"c",function(){return b}),r.d(A,"b",function(){return u}),r.d(A,"d",function(){return H});var M={},y={},T=function(Z){return y[Z]},b=function(Z,oe){y[Z]=oe},u=function(Z){return M[Z]},H=function(Z,oe){M[Z]=oe}},Ijbi:function(ze,A,r){var M=r("WkPL");function y(T){if(Array.isArray(T))return M(T)}ze.exports=y,ze.exports.default=ze.exports,ze.exports.__esModule=!0},Ioao:function(ze,A,r){var M=r("heNW"),y=Math.max;function T(b,u,H){return u=y(u===void 0?b.length-1:u,0),function(){for(var k=arguments,Z=-1,oe=y(k.length-u,0),ne=Array(oe);++Z<oe;)ne[Z]=k[u+Z];Z=-1;for(var Te=Array(u+1);++Z<u;)Te[Z]=k[Z];return Te[u]=H(ne),M(b,this,Te)}}ze.exports=T},IzEo:function(ze,A,r){"use strict";var M=r("cIOH"),y=r.n(M),T=r("lnY3"),b=r.n(T),u=r("Znn+"),H=r("14J3"),k=r("jCWc")},"J+/v":function(ze,A,r){"use strict";var M=r("cIOH"),y=r.n(M),T=r("hgVy"),b=r.n(T)},J2iB:function(ze,A){function r(M){return M==null}ze.exports=r},J7lC:function(ze,A){},JBE3:function(ze,A,r){var M=r("+Qka"),y=r("LsHQ"),T=y(function(b,u,H,k){M(b,u,H,k)});ze.exports=T},JC6p:function(ze,A,r){var M=r("cq/+"),y=r("7GkX");function T(b,u){return b&&M(b,u,y)}ze.exports=T},JF8p:function(ze,A,r){},JtZC:function(ze,A,r){"use strict";var M=r("qVdP"),y=r("jsC+"),T=r("GNNt"),b=r("wEI+"),u=r("q1tI"),H=r.n(u),k=r("+L6B"),Z=r("2/Rp"),oe=r("LQCs"),ne=r("MNju"),Te=function(Et){var We=Object(oe.d)(),ct=Et.onClear,ce=Et.onConfirm,Vt=Et.disabled,It=Et.footerRender,Mt=Object(u.useContext)(b.b.ConfigContext),Tt=Mt.getPrefixCls,ye=Tt("pro-core-dropdown-footer"),lt=[H.a.createElement(Z.a,{key:"clear",style:{visibility:ct?"visible":"hidden"},type:"link",size:"small",disabled:Vt,onClick:function(Jt){ct&&ct(Jt),Jt.stopPropagation()}},We.getMessage("form.lightFilter.clear","\u6E05\u9664")),H.a.createElement(Z.a,{key:"confirm","data-type":"confirm",type:"primary",size:"small",onClick:ce,disabled:Vt},We.getMessage("form.lightFilter.confirm","\u786E\u8BA4"))];if(It===!1)return null;var yt=It&&It(ce,ct)||lt;return H.a.createElement("div",{className:ye,onClick:function(Jt){return Jt.target.getAttribute("data-type")!=="confirm"&&Jt.stopPropagation()}},yt)},at=Te,ve=r("Pjkc");function we(){return we=Object.assign||function(et){for(var Et=1;Et<arguments.length;Et++){var We=arguments[Et];for(var ct in We)Object.prototype.hasOwnProperty.call(We,ct)&&(et[ct]=We[ct])}return et},we.apply(this,arguments)}var I=function(Et){var We=Et.children,ct=Et.label,ce=Et.footer,Vt=Et.disabled,It=Et.onVisibleChange,Mt=Et.visible,Tt=Et.footerRender,ye=Object(u.useContext)(b.b.ConfigContext),lt=ye.getPrefixCls,yt=lt("pro-core-field-dropdown");return H.a.createElement(y.a,{disabled:Vt,trigger:["click"],visible:Mt,onVisibleChange:It,overlay:H.a.createElement("div",{className:"".concat(yt,"-overlay")},H.a.createElement("div",{className:"".concat(yt,"-content")},We),ce&&H.a.createElement(at,we({disabled:Vt,footerRender:Tt},ce)))},H.a.createElement("span",{className:"".concat(yt,"-label")},ct))},Ce=A.a=I},Juji:function(ze,A){function r(M,y){return M!=null&&y in Object(M)}ze.exports=r},K5yz:function(ze,A,r){},KCY9:function(ze,A,r){},KPFz:function(ze,A,r){},KfSR:function(ze,A,r){"use strict";Object.defineProperty(A,"__esModule",{value:!0}),A.autoprefix=void 0;var M=r("Ag8Z"),y=b(M),T=Object.assign||function(k){for(var Z=1;Z<arguments.length;Z++){var oe=arguments[Z];for(var ne in oe)Object.prototype.hasOwnProperty.call(oe,ne)&&(k[ne]=oe[ne])}return k};function b(k){return k&&k.__esModule?k:{default:k}}var u={borderRadius:function(Z){return{msBorderRadius:Z,MozBorderRadius:Z,OBorderRadius:Z,WebkitBorderRadius:Z,borderRadius:Z}},boxShadow:function(Z){return{msBoxShadow:Z,MozBoxShadow:Z,OBoxShadow:Z,WebkitBoxShadow:Z,boxShadow:Z}},userSelect:function(Z){return{WebkitTouchCallout:Z,KhtmlUserSelect:Z,MozUserSelect:Z,msUserSelect:Z,WebkitUserSelect:Z,userSelect:Z}},flex:function(Z){return{WebkitBoxFlex:Z,MozBoxFlex:Z,WebkitFlex:Z,msFlex:Z,flex:Z}},flexBasis:function(Z){return{WebkitFlexBasis:Z,flexBasis:Z}},justifyContent:function(Z){return{WebkitJustifyContent:Z,justifyContent:Z}},transition:function(Z){return{msTransition:Z,MozTransition:Z,OTransition:Z,WebkitTransition:Z,transition:Z}},transform:function(Z){return{msTransform:Z,MozTransform:Z,OTransform:Z,WebkitTransform:Z,transform:Z}},absolute:function(Z){var oe=Z&&Z.split(" ");return{position:"absolute",top:oe&&oe[0],right:oe&&oe[1],bottom:oe&&oe[2],left:oe&&oe[3]}},extend:function(Z,oe){var ne=oe[Z];return ne||{extend:Z}}},H=A.autoprefix=function(Z){var oe={};return(0,y.default)(Z,function(ne,Te){var at={};(0,y.default)(ne,function(ve,we){var I=u[we];I?at=T({},at,I(ve)):at[we]=ve}),oe[Te]=at}),oe};A.default=H},Kvyg:function(ze,A,r){},KwMD:function(ze,A){function r(M,y,T,b){for(var u=M.length,H=T+(b?1:-1);b?H--:++H<u;)if(y(M[H],H,M))return H;return-1}ze.exports=r},KxBF:function(ze,A){function r(M,y,T){var b=-1,u=M.length;y<0&&(y=-y>u?0:u+y),T=T>u?u:T,T<0&&(T+=u),u=y>T?0:T-y>>>0,y>>>=0;for(var H=Array(u);++b<u;)H[b]=M[b+y];return H}ze.exports=r},KxFI:function(ze,A,r){},L3Qv:function(ze,A,r){"use strict";function M(){return!1}A.a=M},L56e:function(ze,A,r){"use strict";r.d(A,"a",function(){return M});var M=["mapload"]},LGYb:function(ze,A,r){var M=r("1hJj"),y=r("jbM+"),T=r("Xt/L"),b=r("xYSL"),u=r("dQpi"),H=r("rEGp"),k=200;function Z(oe,ne,Te){var at=-1,ve=y,we=oe.length,I=!0,Ce=[],et=Ce;if(Te)I=!1,ve=T;else if(we>=k){var Et=ne?null:u(oe);if(Et)return H(Et);I=!1,ve=b,et=new M}else et=ne?[]:Ce;e:for(;++at<we;){var We=oe[at],ct=ne?ne(We):We;if(We=Te||We!==0?We:0,I&&ct===ct){for(var ce=et.length;ce--;)if(et[ce]===ct)continue e;ne&&et.push(ct),Ce.push(We)}else ve(et,ct,Te)||(et!==Ce&&et.push(ct),Ce.push(We))}return Ce}ze.exports=Z},LKzl:function(ze,A,r){"use strict";Object.defineProperty(A,"__esModule",{value:!0}),A.BindingWhenOnSyntax=void 0;var M=r("406g"),y=r("z4Hk"),T=function(){function b(u){this._binding=u,this._bindingWhenSyntax=new y.BindingWhenSyntax(this._binding),this._bindingOnSyntax=new M.BindingOnSyntax(this._binding)}return b.prototype.when=function(u){return this._bindingWhenSyntax.when(u)},b.prototype.whenTargetNamed=function(u){return this._bindingWhenSyntax.whenTargetNamed(u)},b.prototype.whenTargetIsDefault=function(){return this._bindingWhenSyntax.whenTargetIsDefault()},b.prototype.whenTargetTagged=function(u,H){return this._bindingWhenSyntax.whenTargetTagged(u,H)},b.prototype.whenInjectedInto=function(u){return this._bindingWhenSyntax.whenInjectedInto(u)},b.prototype.whenParentNamed=function(u){return this._bindingWhenSyntax.whenParentNamed(u)},b.prototype.whenParentTagged=function(u,H){return this._bindingWhenSyntax.whenParentTagged(u,H)},b.prototype.whenAnyAncestorIs=function(u){return this._bindingWhenSyntax.whenAnyAncestorIs(u)},b.prototype.whenNoAncestorIs=function(u){return this._bindingWhenSyntax.whenNoAncestorIs(u)},b.prototype.whenAnyAncestorNamed=function(u){return this._bindingWhenSyntax.whenAnyAncestorNamed(u)},b.prototype.whenAnyAncestorTagged=function(u,H){return this._bindingWhenSyntax.whenAnyAncestorTagged(u,H)},b.prototype.whenNoAncestorNamed=function(u){return this._bindingWhenSyntax.whenNoAncestorNamed(u)},b.prototype.whenNoAncestorTagged=function(u,H){return this._bindingWhenSyntax.whenNoAncestorTagged(u,H)},b.prototype.whenAnyAncestorMatches=function(u){return this._bindingWhenSyntax.whenAnyAncestorMatches(u)},b.prototype.whenNoAncestorMatches=function(u){return this._bindingWhenSyntax.whenNoAncestorMatches(u)},b.prototype.onActivation=function(u){return this._bindingOnSyntax.onActivation(u)},b}();A.BindingWhenOnSyntax=T},LQCs:function(ze,A,r){"use strict";r.d(A,"c",function(){return K}),r.d(A,"a",function(){return le}),r.d(A,"d",function(){return Le});var M=r("GNNt"),y=r("wEI+"),T=r("q1tI"),b=r.n(T),u=r("+Gva"),H={moneySymbol:"$",form:{lightFilter:{more:"\u0627\u0644\u0645\u0632\u064A\u062F",clear:"\u0646\u0638\u0641",confirm:"\u062A\u0623\u0643\u064A\u062F",itemUnit:"\u0639\u0646\u0627\u0635\u0631"}},tableForm:{search:"\u0627\u0628\u062D\u062B",reset:"\u0625\u0639\u0627\u062F\u0629 \u062A\u0639\u064A\u064A\u0646",submit:"\u0627\u0631\u0633\u0627\u0644",collapsed:"\u0645\u064F\u0642\u0644\u0635",expand:"\u0645\u064F\u0648\u0633\u0639",inputPlaceholder:"\u0627\u0644\u0631\u062C\u0627\u0621 \u0627\u0644\u0625\u062F\u062E\u0627\u0644",selectPlaceholder:"\u0627\u0644\u0631\u062C\u0627\u0621 \u0627\u0644\u0625\u062E\u062A\u064A\u0627\u0631"},alert:{clear:"\u0646\u0638\u0641",selected:"\u0645\u062D\u062F\u062F",item:"\u0639\u0646\u0635\u0631"},pagination:{total:{range:" ",total:"\u0645\u0646",item:"\u0639\u0646\u0627\u0635\u0631"}},tableToolBar:{leftPin:"\u062B\u0628\u062A \u0639\u0644\u0649 \u0627\u0644\u064A\u0633\u0627\u0631",rightPin:"\u062B\u0628\u062A \u0639\u0644\u0649 \u0627\u0644\u064A\u0645\u064A\u0646",noPin:"\u0627\u0644\u063A\u0627\u0621 \u0627\u0644\u062A\u062B\u0628\u064A\u062A",leftFixedTitle:"\u0644\u0635\u0642 \u0639\u0644\u0649 \u0627\u0644\u064A\u0633\u0627\u0631",rightFixedTitle:"\u0644\u0635\u0642 \u0639\u0644\u0649 \u0627\u0644\u064A\u0645\u064A\u0646",noFixedTitle:"\u0625\u0644\u063A\u0627\u0621 \u0627\u0644\u0625\u0644\u0635\u0627\u0642",reset:"\u0625\u0639\u0627\u062F\u0629 \u062A\u0639\u064A\u064A\u0646",columnDisplay:"\u0627\u0644\u0623\u0639\u0645\u062F\u0629 \u0627\u0644\u0645\u0639\u0631\u0648\u0636\u0629",columnSetting:"\u0627\u0644\u0625\u0639\u062F\u0627\u062F\u0627\u062A",fullScreen:"\u0648\u0636\u0639 \u0643\u0627\u0645\u0644 \u0627\u0644\u0634\u0627\u0634\u0629",exitFullScreen:"\u0627\u0644\u062E\u0631\u0648\u062C \u0645\u0646 \u0648\u0636\u0639 \u0643\u0627\u0645\u0644 \u0627\u0644\u0634\u0627\u0634\u0629",reload:"\u062A\u062D\u062F\u064A\u062B",density:"\u0627\u0644\u0643\u062B\u0627\u0641\u0629",densityDefault:"\u0627\u0641\u062A\u0631\u0627\u0636\u064A",densityLarger:"\u0623\u0643\u0628\u0631",densityMiddle:"\u0648\u0633\u0637",densitySmall:"\u0645\u062F\u0645\u062C"},stepsForm:{next:"\u0627\u0644\u062A\u0627\u0644\u064A",prev:"\u0627\u0644\u0633\u0627\u0628\u0642"},loginForm:{submitText:"\u062A\u0633\u062C\u064A\u0644 \u0627\u0644\u062F\u062E\u0648\u0644"}},k={moneySymbol:"\uFFE5",form:{lightFilter:{more:"\u66F4\u591A\u7B5B\u9009",clear:"\u6E05\u9664",confirm:"\u786E\u8BA4",itemUnit:"\u9879"}},tableForm:{search:"\u67E5\u8BE2",reset:"\u91CD\u7F6E",submit:"\u63D0\u4EA4",collapsed:"\u5C55\u5F00",expand:"\u6536\u8D77",inputPlaceholder:"\u8BF7\u8F93\u5165",selectPlaceholder:"\u8BF7\u9009\u62E9"},alert:{clear:"\u53D6\u6D88\u9009\u62E9",selected:"\u5DF2\u9009\u62E9",item:"\u9879"},pagination:{total:{range:"\u7B2C",total:"\u6761/\u603B\u5171",item:"\u6761"}},tableToolBar:{leftPin:"\u56FA\u5B9A\u5728\u5217\u9996",rightPin:"\u56FA\u5B9A\u5728\u5217\u5C3E",noPin:"\u4E0D\u56FA\u5B9A",leftFixedTitle:"\u56FA\u5B9A\u5728\u5DE6\u4FA7",rightFixedTitle:"\u56FA\u5B9A\u5728\u53F3\u4FA7",noFixedTitle:"\u4E0D\u56FA\u5B9A",reset:"\u91CD\u7F6E",columnDisplay:"\u5217\u5C55\u793A",columnSetting:"\u5217\u8BBE\u7F6E",fullScreen:"\u5168\u5C4F",exitFullScreen:"\u9000\u51FA\u5168\u5C4F",reload:"\u5237\u65B0",density:"\u5BC6\u5EA6",densityDefault:"\u6B63\u5E38",densityLarger:"\u9ED8\u8BA4",densityMiddle:"\u4E2D\u7B49",densitySmall:"\u7D27\u51D1"},editableTable:{action:{save:"\u4FDD\u5B58",cancel:"\u53D6\u6D88",delete:"\u5220\u9664"}},switch:{open:"\u6253\u5F00",close:"\u5173\u95ED"},loginForm:{submitText:"\u767B\u5F55"}},Z={moneySymbol:"$",form:{lightFilter:{more:"More",clear:"Clear",confirm:"Confirm",itemUnit:"Items"}},tableForm:{search:"Query",reset:"Reset",submit:"Submit",collapsed:"Expand",expand:"Collapse",inputPlaceholder:"Please enter",selectPlaceholder:"Please select"},alert:{clear:"Clear",selected:"Selected",item:"Item"},pagination:{total:{range:" ",total:"of",item:"items"}},tableToolBar:{leftPin:"Pin to left",rightPin:"Pin to right",noPin:"Unpinned",leftFixedTitle:"Fixed the left",rightFixedTitle:"Fixed the right",noFixedTitle:"Not Fixed",reset:"Reset",columnDisplay:"Column Display",columnSetting:"Settings",fullScreen:"Full Screen",exitFullScreen:"Exit Full Screen",reload:"Refresh",density:"Density",densityDefault:"Default",densityLarger:"Larger",densityMiddle:"Middle",densitySmall:"Compact"},stepsForm:{next:"Next",prev:"Previous",submit:"Finish"},loginForm:{submitText:"Login"},editableTable:{action:{save:"Save",cancel:"Cancel",delete:"Delete"}},switch:{open:"open",close:"close"}},oe={moneySymbol:"\xA3",form:{lightFilter:{more:"More",clear:"Clear",confirm:"Confirm",itemUnit:"Items"}},tableForm:{search:"Query",reset:"Reset",submit:"Submit",collapsed:"Expand",expand:"Collapse",inputPlaceholder:"Please enter",selectPlaceholder:"Please select"},alert:{clear:"Clear",selected:"Selected",item:"Item"},pagination:{total:{range:" ",total:"of",item:"items"}},tableToolBar:{leftPin:"Pin to left",rightPin:"Pin to right",noPin:"Unpinned",leftFixedTitle:"Fixed the left",rightFixedTitle:"Fixed the right",noFixedTitle:"Not Fixed",reset:"Reset",columnDisplay:"Column Display",columnSetting:"Settings",fullScreen:"Full Screen",exitFullScreen:"Exit Full Screen",reload:"Refresh",density:"Density",densityDefault:"Default",densityLarger:"Larger",densityMiddle:"Middle",densitySmall:"Compact"},stepsForm:{next:"Next",prev:"Previous",submit:"Finish"},loginForm:{submitText:"Login"},editableTable:{action:{save:"Save",cancel:"Cancel",delete:"Delete"}},switch:{open:"open",close:"close"}},ne={moneySymbol:"\u20AB",tableForm:{search:"T\xECm ki\u1EBFm",reset:"L\xE0m l\u1EA1i",submit:"G\u1EEDi \u0111i",collapsed:"M\u1EDF r\u1ED9ng",expand:"Thu g\u1ECDn",inputPlaceholder:"nh\u1EADp d\u1EEF li\u1EC7u",selectPlaceholder:"Vui l\xF2ng ch\u1ECDn"},alert:{clear:"X\xF3a",selected:"\u0111\xE3 ch\u1ECDn",item:"m\u1EE5c"},pagination:{total:{range:" ",total:"tr\xEAn",item:"m\u1EB7t h\xE0ng"}},tableToolBar:{leftPin:"Ghim tr\xE1i",rightPin:"Ghim ph\u1EA3i",noPin:"B\u1ECF ghim",leftFixedTitle:"C\u1ED1 \u0111\u1ECBnh tr\xE1i",rightFixedTitle:"C\u1ED1 \u0111\u1ECBnh ph\u1EA3i",noFixedTitle:"Ch\u01B0a c\u1ED1 \u0111\u1ECBnh",reset:"L\xE0m l\u1EA1i",columnDisplay:"C\u1ED9t hi\u1EC3n th\u1ECB",columnSetting:"C\u1EA5u h\xECnh",fullScreen:"Ch\u1EBF \u0111\u1ED9 to\xE0n m\xE0n h\xECnh",exitFullScreen:"Tho\xE1t ch\u1EBF \u0111\u1ED9 to\xE0n m\xE0n h\xECnh",reload:"L\xE0m m\u1EDBi",density:"M\u1EADt \u0111\u1ED9 hi\u1EC3n th\u1ECB",densityDefault:"M\u1EB7c \u0111\u1ECBnh",densityLarger:"M\u1EB7c \u0111\u1ECBnh",densityMiddle:"Trung b\xECnh",densitySmall:"Ch\u1EADt"},loginForm:{submitText:"\u0110\u0103ng nh\u1EADp"}},Te={moneySymbol:"\u20AC",tableForm:{search:"Filtra",reset:"Pulisci",submit:"Invia",collapsed:"Espandi",expand:"Contrai",inputPlaceholder:"Digita",selectPlaceholder:"Seleziona"},alert:{clear:"Rimuovi",selected:"Selezionati",item:"elementi"},pagination:{total:{range:" ",total:"di",item:"elementi"}},tableToolBar:{leftPin:"Fissa a sinistra",rightPin:"Fissa a destra",noPin:"Ripristina posizione",leftFixedTitle:"Fissato a sinistra",rightFixedTitle:"Fissato a destra",noFixedTitle:"Non fissato",reset:"Ripristina",columnDisplay:"Disposizione colonne",columnSetting:"Impostazioni",fullScreen:"Modalit\xE0 schermo intero",exitFullScreen:"Esci da modalit\xE0 schermo intero",reload:"Ricarica",density:"Grandezza tabella",densityLarger:"Grande",densityMiddle:"Media",densitySmall:"Compatta"},loginForm:{submitText:"Accedi"}},at={moneySymbol:"\u20AC",tableForm:{search:"Buscar",reset:"Limpiar",submit:"Submit",collapsed:"Expandir",expand:"Colapsar",inputPlaceholder:"Ingrese valor",selectPlaceholder:"Seleccione valor"},alert:{clear:"Limpiar",selected:"Seleccionado",item:"Articulo"},pagination:{total:{range:" ",total:"de",item:"art\xEDculos"}},tableToolBar:{leftPin:"Pin a la izquierda",rightPin:"Pin a la derecha",noPin:"Sin Pin",leftFixedTitle:"Fijado a la izquierda",rightFixedTitle:"Fijado a la derecha",noFixedTitle:"Sin Fijar",reset:"Reiniciar",columnDisplay:"Mostrar Columna",columnSetting:"Configuraci\xF3n",fullScreen:"Pantalla Completa",exitFullScreen:"Salir Pantalla Completa",reload:"Refrescar",density:"Densidad",densityDefault:"Por Defecto",densityLarger:"Largo",densityMiddle:"Medio",densitySmall:"Compacto"},stepsForm:{next:"Siguiente",prev:"Anterior",submit:"Finalizar"},loginForm:{submitText:"Entrar"}},ve={moneySymbol:"\xA5",tableForm:{search:"\u691C\u7D22",reset:"\u30EA\u30BB\u30C3\u30C8",submit:"\u63D0\u4EA4",collapsed:"\u5C55\u958B",expand:"\u53CE\u7D0D",inputPlaceholder:"\u5165\u529B\u3057\u3066\u304F\u3060\u3055\u3044",selectPlaceholder:"\u9078\u629E\u3057\u3066\u304F\u3060\u3055\u3044"},alert:{clear:"\u30AF\u30EA\u30A2",selected:"\u9078\u629E\u3057\u305F",item:"\u9805\u76EE"},pagination:{total:{range:"\u8A18\u4E8B",total:"/\u5408\u8A08",item:" "}},tableToolBar:{leftPin:"\u5DE6\u306B\u56FA\u5B9A",rightPin:"\u53F3\u306B\u56FA\u5B9A",noPin:"\u30AD\u30E3\u30F3\u30BB\u30EB",leftFixedTitle:"\u5DE6\u306B\u56FA\u5B9A\u3055\u308C\u305F\u9805\u76EE",rightFixedTitle:"\u53F3\u306B\u56FA\u5B9A\u3055\u308C\u305F\u9805\u76EE",noFixedTitle:"\u56FA\u5B9A\u3055\u308C\u3066\u306A\u3044\u9805\u76EE",reset:"\u30EA\u30BB\u30C3\u30C8",columnDisplay:"\u8868\u793A\u5217",columnSetting:"\u5217\u8868\u793A\u8A2D\u5B9A",fullScreen:"\u30D5\u30EB\u30B9\u30AF\u30EA\u30FC\u30F3",exitFullScreen:"\u7D42\u4E86",reload:"\u66F4\u65B0",density:"\u884C\u9AD8",densityLarger:"\u9ED8\u8BA4",densityMiddle:"\u4E2D",densitySmall:"\u5C0F"},stepsForm:{next:"\u6B21\u306E\u30B9\u30C6\u30C3\u30D7",pre:"\u524D\u3078",submit:"\u9001\u4FE1"},loginForm:{submitText:"\u30ED\u30B0\u30A4\u30F3"}},we={moneySymbol:"\u20BD",form:{lightFilter:{more:"\u0415\u0449\u0435",clear:"\u041E\u0447\u0438\u0441\u0442\u0438\u0442\u044C",confirm:"\u041E\u041A",itemUnit:"\u041F\u043E\u0437\u0438\u0446\u0438\u0438"}},tableForm:{search:"\u041D\u0430\u0439\u0442\u0438",reset:"\u0421\u0431\u0440\u043E\u0441",submit:"\u041E\u0442\u043F\u0440\u0430\u0432\u0438\u0442\u044C",collapsed:"\u0420\u0430\u0437\u0432\u0435\u0440\u043D\u0443\u0442\u044C",expand:"\u0421\u0432\u0435\u0440\u043D\u0443\u0442\u044C",inputPlaceholder:"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u0437\u043D\u0430\u0447\u0435\u043D\u0438\u0435",selectPlaceholder:"\u0412\u044B\u0431\u0435\u0440\u0438\u0442\u0435 \u0437\u043D\u0430\u0447\u0435\u043D\u0438\u0435"},alert:{clear:"\u041E\u0447\u0438\u0441\u0442\u0438\u0442\u044C",selected:"\u0412\u044B\u0431\u0440\u0430\u043D\u043E",item:"\u044D\u043B\u0435\u043C\u0435\u043D\u0442\u043E\u0432"},pagination:{total:{range:" ",total:"\u0438\u0437",item:"\u044D\u043B\u0435\u043C\u0435\u043D\u0442\u043E\u0432"}},tableToolBar:{leftPin:"\u0417\u0430\u043A\u0440\u0435\u043F\u0438\u0442\u044C \u0441\u043B\u0435\u0432\u0430",rightPin:"\u0417\u0430\u043A\u0440\u0435\u043F\u0438\u0442\u044C \u0441\u043F\u0440\u0430\u0432\u0430",noPin:"\u041E\u0442\u043A\u0440\u0435\u043F\u0438\u0442\u044C",leftFixedTitle:"\u0417\u0430\u043A\u0440\u0435\u043F\u043B\u0435\u043D\u043E \u0441\u043B\u0435\u0432\u0430",rightFixedTitle:"\u0417\u0430\u043A\u0440\u0435\u043F\u043B\u0435\u043D\u043E \u0441\u043F\u0440\u0430\u0432\u0430",noFixedTitle:"\u041D\u0435 \u0437\u0430\u043A\u0440\u0435\u043F\u043B\u0435\u043D\u043E",reset:"\u0421\u0431\u0440\u043E\u0441",columnDisplay:"\u041E\u0442\u043E\u0431\u0440\u0430\u0436\u0435\u043D\u0438\u0435 \u0441\u0442\u043E\u043B\u0431\u0446\u0430",columnSetting:"\u041D\u0430\u0441\u0442\u0440\u043E\u0439\u043A\u0438",fullScreen:"\u041F\u043E\u043B\u043D\u044B\u0439 \u044D\u043A\u0440\u0430\u043D",exitFullScreen:"\u0412\u044B\u0439\u0442\u0438 \u0438\u0437 \u043F\u043E\u043B\u043D\u043E\u044D\u043A\u0440\u0430\u043D\u043D\u043E\u0433\u043E \u0440\u0435\u0436\u0438\u043C\u0430",reload:"\u041E\u0431\u043D\u043E\u0432\u0438\u0442\u044C",density:"\u0420\u0430\u0437\u043C\u0435\u0440",densityDefault:"\u041F\u043E \u0443\u043C\u043E\u043B\u0447\u0430\u043D\u0438\u044E",densityLarger:"\u0411\u043E\u043B\u044C\u0448\u043E\u0439",densityMiddle:"\u0421\u0440\u0435\u0434\u043D\u0438\u0439",densitySmall:"\u0421\u0436\u0430\u0442\u044B\u0439"},stepsForm:{next:"\u0421\u043B\u0435\u0434\u0443\u044E\u0449\u0438\u0439",prev:"\u041F\u0440\u0435\u0434\u044B\u0434\u0443\u0449\u0438\u0439",submit:"\u0417\u0430\u0432\u0435\u0440\u0448\u0438\u0442\u044C"},loginForm:{submitText:"\u0412\u0445\u043E\u0434"},editableTable:{action:{save:"\u0421\u043E\u0445\u0440\u0430\u043D\u0438\u0442\u044C",cancel:"\u041E\u0442\u043C\u0435\u043D\u0438\u0442\u044C",delete:"\u0423\u0434\u0430\u043B\u0438\u0442\u044C"}}},I={moneySymbol:"RSD",form:{lightFilter:{more:"Vi\u0161e",clear:"O\u010Disti",confirm:"Potvrdi",itemUnit:"Stavke"}},tableForm:{search:"Prona\u0111i",reset:"Resetuj",submit:"Po\u0161alji",collapsed:"Pro\u0161iri",expand:"Skupi",inputPlaceholder:"Molimo unesite",selectPlaceholder:"Molimo odaberite"},alert:{clear:"O\u010Disti",selected:"Odabrano",item:"Stavka"},pagination:{total:{range:" ",total:"od",item:"stavki"}},tableToolBar:{leftPin:"Zaka\u010Di levo",rightPin:"Zaka\u010Di desno",noPin:"Nije zaka\u010Deno",leftFixedTitle:"Fiksirano levo",rightFixedTitle:"Fiksirano desno",noFixedTitle:"Nije fiksirano",reset:"Resetuj",columnDisplay:"Prikaz kolona",columnSetting:"Pode\u0161avanja",fullScreen:"Pun ekran",exitFullScreen:"Zatvori pun ekran",reload:"Osve\u017Ei",density:"Veli\u010Dina",densityDefault:"Podrazumevana",densityLarger:"Ve\u0107a",densityMiddle:"Srednja",densitySmall:"Kompaktna"},stepsForm:{next:"Dalje",prev:"Nazad",submit:"Gotovo"},loginForm:{submitText:"Prijavi se"},editableTable:{action:{save:"Sa\u010Duvaj",cancel:"Poni\u0161ti",delete:"Obri\u0161i"}}},Ce={moneySymbol:"RM",tableForm:{search:"Cari",reset:"Menetapkan semula",submit:"Hantar",collapsed:"Kembang",expand:"Kuncup",inputPlaceholder:"Sila masuk",selectPlaceholder:"Sila pilih"},alert:{clear:"Padam",selected:"Dipilih",item:"Item"},pagination:{total:{range:" ",total:"daripada",item:"item"}},tableToolBar:{leftPin:"Pin ke kiri",rightPin:"Pin ke kanan",noPin:"Tidak pin",leftFixedTitle:"Tetap ke kiri",rightFixedTitle:"Tetap ke kanan",noFixedTitle:"Tidak Tetap",reset:"Menetapkan semula",columnDisplay:"Lajur",columnSetting:"Settings",fullScreen:"Full Screen",exitFullScreen:"Keluar Full Screen",reload:"Muat Semula",density:"Densiti",densityDefault:"Biasa",densityLarger:"Besar",densityMiddle:"Tengah",densitySmall:"Kecil"},loginForm:{submitText:"Log Masuk"}},et={moneySymbol:"$",form:{lightFilter:{more:"\u66F4\u591A\u7BE9\u9078",clear:"\u6E05\u9664",confirm:"\u78BA\u8A8D",itemUnit:"\u9805"}},tableForm:{search:"\u67E5\u8A62",reset:"\u91CD\u7F6E",submit:"\u63D0\u4EA4",collapsed:"\u5C55\u958B",expand:"\u6536\u8D77",inputPlaceholder:"\u8ACB\u8F38\u5165",selectPlaceholder:"\u8ACB\u9078\u64C7"},alert:{clear:"\u53D6\u6D88\u9078\u64C7",selected:"\u5DF2\u9078\u64C7",item:"\u9805"},pagination:{total:{range:"\u7B2C",total:"\u689D/\u7E3D\u5171",item:"\u689D"}},tableToolBar:{leftPin:"\u56FA\u5B9A\u5230\u5DE6\u908A",rightPin:"\u56FA\u5B9A\u5230\u53F3\u908A",noPin:"\u4E0D\u56FA\u5B9A",leftFixedTitle:"\u56FA\u5B9A\u5728\u5DE6\u5074",rightFixedTitle:"\u56FA\u5B9A\u5728\u53F3\u5074",noFixedTitle:"\u4E0D\u56FA\u5B9A",reset:"\u91CD\u7F6E",columnDisplay:"\u5217\u5C55\u793A",columnSetting:"\u5217\u8A2D\u7F6E",fullScreen:"\u5168\u5C4F",exitFullScreen:"\u9000\u51FA\u5168\u5C4F",reload:"\u5237\u65B0",density:"\u5BC6\u5EA6",densityDefault:"\u6B63\u5E38",densityLarger:"\u9ED8\u8A8D",densityMiddle:"\u4E2D\u7B49",densitySmall:"\u7DCA\u6E4A"},editableTable:{action:{save:"\u4FDD\u5B58",cancel:"\u53D6\u6D88",delete:"\u522A\u9664"}},switch:{open:"\u6253\u958B",close:"\u95DC\u9589"},loginForm:{submitText:"\u767B\u5165"}},Et={moneySymbol:"\u20AC",form:{lightFilter:{more:"Plus",clear:"Effacer",confirm:"Confirmer",itemUnit:"Items"}},tableForm:{search:"Rechercher",reset:"R\xE9initialiser",submit:"Envoyer",collapsed:"Agrandir",expand:"R\xE9duire",inputPlaceholder:"Entrer une valeur",selectPlaceholder:"S\xE9lectionner une valeur"},alert:{clear:"R\xE9initialiser",selected:"S\xE9lectionn\xE9",item:"Item"},pagination:{total:{range:" ",total:"sur",item:"\xE9l\xE9ments"}},tableToolBar:{leftPin:"\xC9pingler \xE0 gauche",rightPin:"\xC9pingler \xE0 gauche",noPin:"Sans \xE9pingle",leftFixedTitle:"Fixer \xE0 gauche",rightFixedTitle:"Fixer \xE0 droite",noFixedTitle:"Non fix\xE9",reset:"R\xE9initialiser",columnDisplay:"Affichage colonne",columnSetting:"R\xE9glages",fullScreen:"Plein \xE9cran",exitFullScreen:"Quitter Plein \xE9cran",reload:"Rafraichir",density:"Densit\xE9",densityDefault:"Par d\xE9faut",densityLarger:"Larger",densityMiddle:"Moyenne",densitySmall:"Compacte"},stepsForm:{next:"Suivante",prev:"Pr\xE9c\xE9dente",submit:"Finaliser"},loginForm:{submitText:"Se connecter"},editableTable:{action:{save:"Sauvegarder",cancel:"Annuler",delete:"Supprimer"}}},We={moneySymbol:"R$",form:{lightFilter:{more:"Mais",clear:"Limpar",confirm:"Confirmar",itemUnit:"Itens"}},tableForm:{search:"Filtrar",reset:"Limpar",submit:"Confirmar",collapsed:"Expandir",expand:"Colapsar",inputPlaceholder:"Por favor insira",selectPlaceholder:"Por favor selecione"},alert:{clear:"Limpar",selected:"Selecionado(s)",item:"Item(s)"},pagination:{total:{range:" ",total:"de",item:"items"}},tableToolBar:{leftPin:"Fixar \xE0 esquerda",rightPin:"Fixar \xE0 direita",noPin:"Desfixado",leftFixedTitle:"Fixado \xE0 esquerda",rightFixedTitle:"Fixado \xE0 direita",noFixedTitle:"N\xE3o fixado",reset:"Limpar",columnDisplay:"Mostrar Coluna",columnSetting:"Configura\xE7\xF5es",fullScreen:"Tela Cheia",exitFullScreen:"Sair da Tela Cheia",reload:"Atualizar",density:"Densidade",densityDefault:"Padr\xE3o",densityLarger:"Largo",densityMiddle:"M\xE9dio",densitySmall:"Compacto"},stepsForm:{next:"Pr\xF3ximo",prev:"Anterior",submit:"Enviar"},loginForm:{submitText:"Entrar"},editableTable:{action:{save:"Salvar",cancel:"Cancelar",delete:"Apagar"}}},ct={moneySymbol:"\u20A9",form:{lightFilter:{more:"\uB354\uBCF4\uAE30",clear:"\uCDE8\uC18C",confirm:"\uD655\uC778",itemUnit:"\uAC74\uC218"}},tableForm:{search:"\uC870\uD68C",reset:"\uCD08\uAE30\uD654",submit:"\uC81C\uCD9C",collapsed:"\uD655\uC7A5",expand:"\uB2EB\uAE30",inputPlaceholder:"\uC785\uB825\uD574 \uC8FC\uC138\uC694",selectPlaceholder:"\uC120\uD0DD\uD574 \uC8FC\uC138\uC694"},alert:{clear:"\uCDE8\uC18C",selected:"\uC120\uD0DD",item:"\uAC74"},pagination:{total:{range:" ",total:"/ \uCD1D",item:"\uAC74"}},tableToolBar:{leftPin:"\uC67C\uCABD\uC73C\uB85C \uD540",rightPin:"\uC624\uB978\uCABD\uC73C\uB85C \uD540",noPin:"\uD540 \uC81C\uAC70",leftFixedTitle:"\uC67C\uCABD\uC73C\uB85C \uACE0\uC815",rightFixedTitle:"\uC624\uB978\uCABD\uC73C\uB85C \uACE0\uC815",noFixedTitle:"\uBE44\uACE0\uC815",reset:"\uCD08\uAE30\uD654",columnDisplay:"\uCEEC\uB7FC \uD45C\uC2DC",columnSetting:"\uC124\uC815",fullScreen:"\uC804\uCCB4 \uD654\uBA74",exitFullScreen:"\uC804\uCCB4 \uD654\uBA74 \uCDE8\uC18C",reload:"\uB2E4\uC2DC \uC77D\uAE30",density:"\uC5EC\uBC31",densityDefault:"\uAE30\uBCF8",densityLarger:"\uB9CE\uC740 \uC5EC\uBC31",densityMiddle:"\uC911\uAC04 \uC5EC\uBC31",densitySmall:"\uC881\uC740 \uC5EC\uBC31"},stepsForm:{next:"\uB2E4\uC74C",prev:"\uC774\uC804",submit:"\uC885\uB8CC"},loginForm:{submitText:"\uB85C\uADF8\uC778"},editableTable:{action:{save:"\uC800\uC7A5",cancel:"\uCDE8\uC18C",delete:"\uC0AD\uC81C"}}},ce={moneySymbol:"RP",form:{lightFilter:{more:"Lebih",clear:"Hapus",confirm:"Konfirmasi",itemUnit:"Unit"}},tableForm:{search:"Cari",reset:"Atur ulang",submit:"Kirim",collapsed:"Lebih sedikit",expand:"Lebih banyak",inputPlaceholder:"Masukkan pencarian",selectPlaceholder:"Pilih"},alert:{clear:"Hapus",selected:"Dipilih",item:"Butir"},pagination:{total:{range:" ",total:"Dari",item:"Butir"}},tableToolBar:{leftPin:"Pin kiri",rightPin:"Pin kanan",noPin:"Tidak ada pin",leftFixedTitle:"Rata kiri",rightFixedTitle:"Rata kanan",noFixedTitle:"Tidak tetap",reset:"Atur ulang",columnDisplay:"Tampilan kolom",columnSetting:"Pengaturan",fullScreen:"Layar penuh",exitFullScreen:"Keluar layar penuh",reload:"Atur ulang",density:"Kerapatan",densityDefault:"Standar",densityLarger:"Lebih besar",densityMiddle:"Sedang",densitySmall:"Rapat"},stepsForm:{next:"Selanjutnya",prev:"Sebelumnya",submit:"Selesai"},loginForm:{submitText:"Login"}},Vt={moneySymbol:"\u20AC",form:{lightFilter:{more:"Mehr",clear:"Zur\xFCcksetzen",confirm:"Best\xE4tigen",itemUnit:"Eintr\xE4ge"}},tableForm:{search:"Suchen",reset:"Zur\xFCcksetzen",submit:"Absenden",collapsed:"Zeige mehr",expand:"Zeige weniger",inputPlaceholder:"Bitte eingeben",selectPlaceholder:"Bitte ausw\xE4hlen"},alert:{clear:"Zur\xFCcksetzen",selected:"Ausgew\xE4hlt",item:"Eintrag"},pagination:{total:{range:" ",total:"von",item:"Eintr\xE4gen"}},tableToolBar:{leftPin:"Links anheften",rightPin:"Rechts anheften",noPin:"Nicht angeheftet",leftFixedTitle:"Links fixiert",rightFixedTitle:"Rechts fixiert",noFixedTitle:"Nicht fixiert",reset:"Zur\xFCcksetzen",columnDisplay:"Angezeigte Reihen",columnSetting:"Einstellungen",fullScreen:"Vollbild",exitFullScreen:"Vollbild verlassen",reload:"Aktualisieren",density:"Abstand",densityDefault:"Standard",densityLarger:"Gr\xF6\xDFer",densityMiddle:"Mittel",densitySmall:"Kompakt"},stepsForm:{next:"Weiter",prev:"Zur\xFCck",submit:"Abschlie\xDFen"},loginForm:{submitText:"Anmelden"}},It={moneySymbol:"\u062A\u0648\u0645\u0627\u0646",form:{lightFilter:{more:"\u0628\u06CC\u0634\u062A\u0631",clear:"\u067E\u0627\u06A9 \u06A9\u0631\u062F\u0646",confirm:"\u062A\u0627\u06CC\u06CC\u062F",itemUnit:"\u0645\u0648\u0631\u062F"}},tableForm:{search:"\u062C\u0633\u062A\u062C\u0648",reset:"\u0628\u0627\u0632\u0646\u0634\u0627\u0646\u06CC",submit:"\u062A\u0627\u06CC\u06CC\u062F",collapsed:"\u0646\u0645\u0627\u06CC\u0634 \u0628\u06CC\u0634\u062A\u0631",expand:"\u0646\u0645\u0627\u06CC\u0634 \u06A9\u0645\u062A\u0631",inputPlaceholder:"\u067E\u06CC\u062F\u0627 \u06A9\u0646\u06CC\u062F",selectPlaceholder:"\u0627\u0646\u062A\u062E\u0627\u0628 \u06A9\u0646\u06CC\u062F"},alert:{clear:"\u067E\u0627\u06A9 \u0633\u0627\u0632\u06CC",selected:"\u0627\u0646\u062A\u062E\u0627\u0628",item:"\u0645\u0648\u0631\u062F"},pagination:{total:{range:" ",total:"\u0627\u0632",item:"\u0645\u0648\u0631\u062F"}},tableToolBar:{leftPin:"\u0633\u0646\u062C\u0627\u0642 \u0628\u0647 \u0686\u067E",rightPin:"\u0633\u0646\u062C\u0627\u0642 \u0628\u0647 \u0631\u0627\u0633\u062A",noPin:"\u0633\u0646\u062C\u0627\u0642 \u0646\u0634\u062F\u0647",leftFixedTitle:"\u062B\u0627\u0628\u062A \u0634\u062F\u0647 \u062F\u0631 \u0686\u067E",rightFixedTitle:"\u062B\u0627\u0628\u062A \u0634\u062F\u0647 \u062F\u0631 \u0631\u0627\u0633\u062A",noFixedTitle:"\u0634\u0646\u0627\u0648\u0631",reset:"\u0628\u0627\u0632\u0646\u0634\u0627\u0646\u06CC",columnDisplay:"\u0646\u0645\u0627\u06CC\u0634 \u0647\u0645\u0647",columnSetting:"\u062A\u0646\u0638\u06CC\u0645\u0627\u062A",fullScreen:"\u062A\u0645\u0627\u0645 \u0635\u0641\u062D\u0647",exitFullScreen:"\u062E\u0631\u0648\u062C \u0627\u0632 \u062D\u0627\u0644\u062A \u062A\u0645\u0627\u0645 \u0635\u0641\u062D\u0647",reload:"\u062A\u0627\u0632\u0647 \u0633\u0627\u0632\u06CC",density:"\u062A\u0631\u0627\u06A9\u0645",densityDefault:"\u067E\u06CC\u0634 \u0641\u0631\u0636",densityLarger:"\u0628\u0632\u0631\u06AF",densityMiddle:"\u0645\u062A\u0648\u0633\u0637",densitySmall:"\u06A9\u0648\u0686\u06A9"},stepsForm:{next:"\u0628\u0639\u062F\u06CC",prev:"\u0642\u0628\u0644\u06CC",submit:"\u0627\u062A\u0645\u0627\u0645"},loginForm:{submitText:"\u0648\u0631\u0648\u062F"},editableTable:{action:{save:"\u0630\u062E\u06CC\u0631\u0647",cancel:"\u0644\u063A\u0648",delete:"\u062D\u0630\u0641"}}},Mt={moneySymbol:"$",form:{lightFilter:{more:"Daha Fazla",clear:"Temizle",confirm:"Onayla",itemUnit:"\xD6\u011Feler"}},tableForm:{search:"Filtrele",reset:"S\u0131f\u0131rla",submit:"G\xF6nder",collapsed:"Daha fazla",expand:"Daha az",inputPlaceholder:"Filtrelemek i\xE7in bir de\u011Fer girin",selectPlaceholder:"Filtrelemek i\xE7in bir de\u011Fer se\xE7in"},alert:{clear:"Temizle",selected:"Se\xE7ili",item:"\xD6\u011Fe"},pagination:{total:{range:" ",total:"Toplam",item:"\xD6\u011Fe"}},tableToolBar:{leftPin:"Sola sabitle",rightPin:"Sa\u011Fa sabitle",noPin:"Sabitlemeyi kald\u0131r",leftFixedTitle:"Sola sabitlendi",rightFixedTitle:"Sa\u011Fa sabitlendi",noFixedTitle:"Sabitlenmedi",reset:"S\u0131f\u0131rla",columnDisplay:"Kolon G\xF6r\xFCn\xFCm\xFC",columnSetting:"Ayarlar",fullScreen:"Tam Ekran",exitFullScreen:"Tam Ekrandan \xC7\u0131k",reload:"Yenile",density:"Kal\u0131nl\u0131k",densityDefault:"Varsay\u0131lan",densityLarger:"B\xFCy\xFCk",densityMiddle:"Orta",densitySmall:"K\xFC\xE7\xFCk"},stepsForm:{next:"S\u0131radaki",prev:"\xD6nceki",submit:"G\xF6nder"},loginForm:{submitText:"Giri\u015F Yap"},editableTable:{action:{save:"Kaydet",cancel:"Vazge\xE7",delete:"Sil"}}},Tt={moneySymbol:"z\u0142",form:{lightFilter:{more:"Wi\u0119cej",clear:"Wyczy\u015B\u0107",confirm:"Potwierd\u017A",itemUnit:"Ilo\u015B\u0107"}},tableForm:{search:"Szukaj",reset:"Reset",submit:"Zatwierd\u017A",collapsed:"Poka\u017C wiecej",expand:"Poka\u017C mniej",inputPlaceholder:"Prosz\u0119 poda\u0107",selectPlaceholder:"Prosz\u0119 wybra\u0107"},alert:{clear:"Wyczy\u015B\u0107",selected:"Wybrane",item:"Wpis"},pagination:{total:{range:" ",total:"z",item:"Wpis\xF3w"}},tableToolBar:{leftPin:"Przypnij do lewej",rightPin:"Przypnij do prawej",noPin:"Odepnij",leftFixedTitle:"Przypi\u0119te do lewej",rightFixedTitle:"Przypi\u0119te do prawej",noFixedTitle:"Nieprzypi\u0119te",reset:"Reset",columnDisplay:"Wy\u015Bwietlane wiersze",columnSetting:"Ustawienia",fullScreen:"Pe\u0142en ekran",exitFullScreen:"Zamknij pe\u0142en ekran",reload:"Od\u015Bwie\u017C",density:"Odst\u0119p",densityDefault:"Standard",densityLarger:"Wiekszy",densityMiddle:"Sredni",densitySmall:"Kompaktowy"},stepsForm:{next:"Weiter",prev:"Zur\xFCck",submit:"Abschlie\xDFen"},loginForm:{submitText:"Zaloguj si\u0119"}};function ye(St,Ge){var Be=Object.keys(St);if(Object.getOwnPropertySymbols){var Nt=Object.getOwnPropertySymbols(St);Ge&&(Nt=Nt.filter(function(kt){return Object.getOwnPropertyDescriptor(St,kt).enumerable})),Be.push.apply(Be,Nt)}return Be}function lt(St){for(var Ge=1;Ge<arguments.length;Ge++){var Be=arguments[Ge]!=null?arguments[Ge]:{};Ge%2?ye(Object(Be),!0).forEach(function(Nt){yt(St,Nt,Be[Nt])}):Object.getOwnPropertyDescriptors?Object.defineProperties(St,Object.getOwnPropertyDescriptors(Be)):ye(Object(Be)).forEach(function(Nt){Object.defineProperty(St,Nt,Object.getOwnPropertyDescriptor(Be,Nt))})}return St}function yt(St,Ge,Be){return Ge in St?Object.defineProperty(St,Ge,{value:Be,enumerable:!0,configurable:!0,writable:!0}):St[Ge]=Be,St}function Dt(St,Ge){var Be=typeof Symbol!="undefined"&&St[Symbol.iterator]||St["@@iterator"];if(!Be){if(Array.isArray(St)||(Be=Jt(St))||Ge&&St&&typeof St.length=="number"){Be&&(St=Be);var Nt=0,kt=function(){};return{s:kt,n:function(){return Nt>=St.length?{done:!0}:{done:!1,value:St[Nt++]}},e:function(ar){throw ar},f:kt}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var ft=!0,ut=!1,Ze;return{s:function(){Be=Be.call(St)},n:function(){var ar=Be.next();return ft=ar.done,ar},e:function(ar){ut=!0,Ze=ar},f:function(){try{!ft&&Be.return!=null&&Be.return()}finally{if(ut)throw Ze}}}}function Jt(St,Ge){if(!!St){if(typeof St=="string")return At(St,Ge);var Be=Object.prototype.toString.call(St).slice(8,-1);if(Be==="Object"&&St.constructor&&(Be=St.constructor.name),Be==="Map"||Be==="Set")return Array.from(St);if(Be==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(Be))return At(St,Ge)}}function At(St,Ge){(Ge==null||Ge>St.length)&&(Ge=St.length);for(var Be=0,Nt=new Array(Ge);Be<Ge;Be++)Nt[Be]=St[Be];return Nt}function vt(St,Ge,Be){var Nt=Ge.replace(/\[(\d+)\]/g,".$1").split("."),kt=St,ft=Be,ut=Dt(Nt),Ze;try{for(ut.s();!(Ze=ut.n()).done;){var Qt=Ze.value;if(ft=Object(kt)[Qt],kt=Object(kt)[Qt],ft===void 0)return Be}}catch(ar){ut.e(ar)}finally{ut.f()}return ft}var ie=function(Ge,Be){return{getMessage:function(kt,ft){return vt(Be,kt,ft)||ft},locale:Ge}},J=ie("ar_EG",H),ee=ie("zh_CN",k),Ie=ie("en_US",Z),me=ie("en_GB",oe),Ve=ie("vi_VN",ne),Re=ie("it_IT",Te),bt=ie("ja_JP",ve),Pt=ie("es_ES",at),ht=ie("ru_RU",we),Ye=ie("sr_RS",I),Ke=ie("ms_MY",Ce),nt=ie("zh_TW",et),Ot=ie("fr_FR",Et),Xe=ie("pt_BR",We),xt=ie("ko_KR",ct),Ne=ie("id_ID",ce),B=ie("de_DE",Vt),z=ie("fa_IR",It),q=ie("tr_TR",Mt),S=ie("pl_PL",Tt),K={"ar-EG":J,"zh-CN":ee,"en-US":Ie,"en-GB":me,"vi-VN":Ve,"it-IT":Re,"ja-JP":bt,"es-ES":Pt,"ru-RU":ht,"sr-RS":Ye,"ms-MY":Ke,"zh-TW":nt,"fr-FR":Ot,"pt-BR":Xe,"ko-KR":xt,"id-ID":Ne,"de-DE":B,"fa-IR":z,"tr-TR":q,"pl-PL":S},fe=Object.keys(K),Fe=b.a.createContext({intl:lt(lt({},ee),{},{locale:"default"}),valueTypeMap:{}}),pe=Fe.Consumer,Me=Fe.Provider,U=function(Ge){if(!Ge)return"zh-CN";var Be=Ge.toLocaleLowerCase();return fe.find(function(Nt){var kt=Nt.toLocaleLowerCase();return kt.includes(Be)})},le=function(Ge){var Be=Ge.children,Nt=Object(T.useContext)(y.b.ConfigContext),kt=Nt.locale,ft=kt===void 0?y.b:b.a.Fragment;return b.a.createElement(pe,null,function(ut){var Ze,Qt=kt==null?void 0:kt.locale,ar=U(Qt),zr=Qt&&((Ze=ut.intl)===null||Ze===void 0?void 0:Ze.locale)==="default"?K[ar]:ut.intl||K[ar],qr=kt===void 0?{locale:u.a}:{};return b.a.createElement(ft,qr,b.a.createElement(Me,{value:lt(lt({},ut),{},{intl:zr||ee})},Be))})};function Le(){var St=Object(T.useContext)(Fe);return St.intl||ee}var ot=A.b=Fe},LcsW:function(ze,A,r){var M=r("kekF"),y=M(Object.getPrototypeOf,Object);ze.exports=y},LgvC:function(ze,A,r){"use strict";Object.defineProperty(A,"__esModule",{value:!0}),A.Binding=void 0;var M=r("FV85"),y=r("d9O0"),T=function(){function b(u,H){this.id=y.id(),this.activated=!1,this.serviceIdentifier=u,this.scope=H,this.type=M.BindingTypeEnum.Invalid,this.constraint=function(k){return!0},this.implementationType=null,this.cache=null,this.factory=null,this.provider=null,this.onActivation=null,this.dynamicValue=null}return b.prototype.clone=function(){var u=new b(this.serviceIdentifier,this.scope);return u.activated=u.scope===M.BindingScopeEnum.Singleton?this.activated:!1,u.implementationType=this.implementationType,u.dynamicValue=this.dynamicValue,u.scope=this.scope,u.type=this.type,u.factory=this.factory,u.provider=this.provider,u.constraint=this.constraint,u.onActivation=this.onActivation,u.cache=this.cache,u},b}();A.Binding=T},Lpa7:function(ze,A,r){"use strict";r.d(A,"a",function(){return Xe}),r.d(A,"b",function(){return Ve});var M=r("q1tI"),y=r.n(M);function T(Ne,B,z,q){return new(z||(z=Promise))(function(S,K){function fe(Me){try{pe(q.next(Me))}catch(U){K(U)}}function Fe(Me){try{pe(q.throw(Me))}catch(U){K(U)}}function pe(Me){var U;Me.done?S(Me.value):(U=Me.value,U instanceof z?U:new z(function(le){le(U)})).then(fe,Fe)}pe((q=q.apply(Ne,B||[])).next())})}function b(Ne,B){var z,q,S,K,fe={label:0,sent:function(){if(1&S[0])throw S[1];return S[1]},trys:[],ops:[]};return K={next:Fe(0),throw:Fe(1),return:Fe(2)},typeof Symbol=="function"&&(K[Symbol.iterator]=function(){return this}),K;function Fe(pe){return function(Me){return function(U){if(z)throw new TypeError("Generator is already executing.");for(;fe;)try{if(z=1,q&&(S=2&U[0]?q.return:U[0]?q.throw||((S=q.return)&&S.call(q),0):q.next)&&!(S=S.call(q,U[1])).done)return S;switch(q=0,S&&(U=[2&U[0],S.value]),U[0]){case 0:case 1:S=U;break;case 4:return fe.label++,{value:U[1],done:!1};case 5:fe.label++,q=U[1],U=[0];continue;case 7:U=fe.ops.pop(),fe.trys.pop();continue;default:if(S=fe.trys,!((S=S.length>0&&S[S.length-1])||U[0]!==6&&U[0]!==2)){fe=0;continue}if(U[0]===3&&(!S||U[1]>S[0]&&U[1]<S[3])){fe.label=U[1];break}if(U[0]===6&&fe.label<S[1]){fe.label=S[1],S=U;break}if(S&&fe.label<S[2]){fe.label=S[2],fe.ops.push(U);break}S[2]&&fe.ops.pop(),fe.trys.pop();continue}U=B.call(Ne,fe)}catch(le){U=[6,le],q=0}finally{z=S=0}if(5&U[0])throw U[1];return{value:U[0]?U[1]:void 0,done:!0}}([pe,Me])}}}var u,H=function(){},k=H(),Z=function(B){return B===k},oe=function(B){return typeof B=="function"},ne=function(B,z){return Object.assign({},B,z)},Te=typeof window!="undefined",at=typeof document!="undefined",ve=new WeakMap,we=0,I=function Ne(B){var z,q,S=typeof B,K=B&&B.constructor,fe=K==Date;if(Object(B)!==B||fe||K==RegExp)z=fe?B.toJSON():S=="symbol"?B.toString():S=="string"?JSON.stringify(B):""+B;else{if(z=ve.get(B))return z;if(z=++we+"~",ve.set(B,z),K==Array){for(z="@",q=0;q<B.length;q++)z+=Ne(B[q])+",";ve.set(B,z)}if(K==Object){z="#";for(var Fe=Object.keys(B).sort();!Z(q=Fe.pop());)Z(B[q])||(z+=q+":"+Ne(B[q])+",");ve.set(B,z)}}return z},Ce=!0,et=Te?window.addEventListener.bind(window):H,Et=at?document.addEventListener.bind(document):H,We=Te&&removeEventListener||H,ct=at?document.removeEventListener.bind(document):H,ce={isOnline:function(){return Ce},isVisible:function(){var B=at&&document.visibilityState;return!!Z(B)||B!=="hidden"}},Vt={initFocus:function(B){return Et("visibilitychange",B),et("focus",B),function(){ct("visibilitychange",B),We("focus",B)}},initReconnect:function(B){var z=function(){Ce=!0,B()},q=function(){Ce=!1};return et("online",z),et("offline",q),function(){We("online",z),We("offline",q)}}},It=!Te||"Deno"in window,Mt=Te&&window.requestAnimationFrame||function(Ne){return setTimeout(Ne,1)},Tt=It?M.useEffect:M.useLayoutEffect,ye=typeof navigator!="undefined"&&navigator.connection,lt=!It&&ye&&(["slow-2g","2g"].includes(ye.effectiveType)||ye.saveData),yt=function(B){if(oe(B))try{B=B()}catch(q){B=""}var z=[].concat(B);return[B=typeof B=="string"?B:(Array.isArray(B)?B.length:B)?I(B):"",z,B?"$err$"+B:"",B?"$req$"+B:""]},Dt=new WeakMap,Jt=function(B,z,q,S,K,fe){var Fe=Dt.get(B),pe=Fe[0],Me=Fe[1],U=Fe[4],le=Fe[5],Le=pe[z],ot=Me[z];if(ot)for(var St=0;St<ot.length;++St)ot[St](q,S,K);return fe&&(delete U[z],delete le[z],Le&&Le[0])?Le[0](2).then(function(){return B.get(z)}):B.get(z)},At=0,vt=function(){return++At},ie=function(){for(var B=[],z=0;z<arguments.length;z++)B[z]=arguments[z];return T(void 0,void 0,void 0,function(){var q,S,K,fe,Fe,pe,Me,U,le,Le,ot,St,Ge,Be;return b(this,function(Nt){switch(Nt.label){case 0:if(q=B[0],S=B[1],K=B[3]!==!1,fe=B[2],Fe=yt(S),pe=Fe[0],Me=Fe[2],!pe)return[2];if(U=Dt.get(q),le=U[2],Le=U[3],B.length<3)return[2,Jt(q,pe,q.get(pe),q.get(Me),k,K)];if(Ge=le[pe]=vt(),Le[pe]=0,oe(fe))try{fe=fe(q.get(pe))}catch(kt){St=kt}return fe&&oe(fe.then)?[4,fe.catch(function(kt){St=kt})]:[3,2];case 1:if(ot=Nt.sent(),Ge!==le[pe]){if(St)throw St;return[2,ot]}return[3,3];case 2:ot=fe,Nt.label=3;case 3:return St||q.set(pe,ot),q.set(Me,St),Le[pe]=vt(),[4,Jt(q,pe,ot,St,k,K)];case 4:if(Be=Nt.sent(),St)throw St;return[2,Be]}})})},J=function(B,z){for(var q in B)B[q][0]&&B[q][0](z)},ee=function(B,z){if(!Dt.has(B)){var q=ne(Vt,z),S={},K=ie.bind(k,B),fe=H;if(Dt.set(B,[S,{},{},{},{},{},K]),!It){var Fe=q.initFocus(J.bind(k,S,0)),pe=q.initReconnect(J.bind(k,S,1));fe=function(){Fe&&Fe(),pe&&pe(),Dt.delete(B)}}return[B,K,fe]}return[B,Dt.get(B)[6]]},Ie=ee(new Map),me=Ie[0],Ve=Ie[1],Re=ne({onLoadingSlow:H,onSuccess:H,onError:H,onErrorRetry:function(B,z,q,S,K){if(ce.isVisible()){var fe=q.errorRetryCount,Fe=K.retryCount,pe=~~((Math.random()+.5)*(1<<(Fe<8?Fe:8)))*q.errorRetryInterval;!Z(fe)&&Fe>fe||setTimeout(S,pe,K)}},onDiscarded:H,revalidateOnFocus:!0,revalidateOnReconnect:!0,revalidateIfStale:!0,shouldRetryOnError:!0,errorRetryInterval:lt?1e4:5e3,focusThrottleInterval:5e3,dedupingInterval:2e3,loadingTimeout:lt?5e3:3e3,compare:function(B,z){return I(B)==I(z)},isPaused:function(){return!1},cache:me,mutate:Ve,fallback:{}},ce),bt=function(B,z){var q=ne(B,z);if(z){var S=B.use,K=B.fallback,fe=z.use,Fe=z.fallback;S&&fe&&(q.use=S.concat(fe)),K&&Fe&&(q.fallback=ne(K,Fe))}return q},Pt=Object(M.createContext)({}),ht=function(B){return oe(B[1])?[B[0],B[1],B[2]||{}]:[B[0],null,(B[1]===null?B[2]:B[1])||{}]},Ye=function(B,z,q){var S=z[B]||(z[B]=[]);return S.push(q),function(){var K=S.indexOf(q);K>=0&&(S[K]=S[S.length-1],S.pop())}},Ke={dedupe:!0},nt=Object.defineProperty(function(Ne){var B=Ne.children,z=Ne.value,q=bt(Object(M.useContext)(Pt),z),S=z&&z.provider,K=Object(M.useState)(function(){return S?ee(S(q.cache||me),z):k})[0];return K&&(q.cache=K[0],q.mutate=K[1]),Tt(function(){return K?K[2]:k},[]),Object(M.createElement)(Pt.Provider,{value:q},B)},"default",{value:Re}),Ot=function(B){return yt(B)[0]},Xe=(u=function(B,z,q){var S=q.cache,K=q.compare,fe=q.fallbackData,Fe=q.suspense,pe=q.revalidateOnMount,Me=q.refreshInterval,U=q.refreshWhenHidden,le=q.refreshWhenOffline,Le=Dt.get(S),ot=Le[0],St=Le[1],Ge=Le[2],Be=Le[3],Nt=Le[4],kt=Le[5],ft=yt(B),ut=ft[0],Ze=ft[1],Qt=ft[2],ar=ft[3],zr=Object(M.useRef)(!1),qr=Object(M.useRef)(!1),tn=Object(M.useRef)(ut),_n=Object(M.useRef)(q),Bn=function(){return _n.current},ya=S.get(ut),Tr=Z(fe)?q.fallback[ut]:fe,it=Z(ya)?Tr:ya,ue=S.get(Qt),ge=function(){return Z(pe)?!Bn().isPaused()&&(Fe?!Z(it):Z(it)||q.revalidateIfStale):pe},De=!(!ut||!z)&&(!!S.get(ar)||!zr.current&&ge()),Ee=function(Oe,dt){var Gt=Object(M.useState)({})[1],$t=Object(M.useRef)(Oe),nr=Object(M.useRef)({data:!1,error:!1,isValidating:!1}),lr=Object(M.useCallback)(function(Dr){var Pr=!1,Wr=$t.current;for(var an in Dr){var dn=an;Wr[dn]!==Dr[dn]&&(Wr[dn]=Dr[dn],nr.current[dn]&&(Pr=!0))}Pr&&!dt.current&&Gt({})},[]);return Tt(function(){$t.current=Oe}),[$t,nr.current,lr]}({data:it,error:ue,isValidating:De},qr),be=Ee[0],rt=Ee[1],de=Ee[2],Pe=Object(M.useCallback)(function(Oe){return T(void 0,void 0,void 0,function(){var dt,Gt,$t,nr,lr,Dr,Pr,Wr,an,dn;return b(this,function(Rn){switch(Rn.label){case 0:if(!ut||!z||qr.current||Bn().isPaused())return[2,!1];Gt=-1,$t=!0,nr=Oe||{},lr=Z(Nt[ut])||!nr.dedupe,Dr=function(){return!qr.current&&ut===tn.current&&zr.current},Pr=function(Qn){kt[ut]===Qn&&(delete Nt[ut],delete kt[ut])},Wr={isValidating:!1},an=function(){S.set(ar,!1),Dr()&&de(Wr)},S.set(ar,!0),de({isValidating:!0}),Rn.label=1;case 1:return Rn.trys.push([1,3,,4]),lr&&(Jt(S,ut,be.current.data,be.current.error,!0),q.loadingTimeout&&!S.get(ut)&&setTimeout(function(){$t&&Dr()&&Bn().onLoadingSlow(ut,q)},q.loadingTimeout),kt[ut]=vt(),Nt[ut]=z.apply(void 0,Ze)),Gt=kt[ut],[4,Nt[ut]];case 2:return dt=Rn.sent(),lr&&setTimeout(function(){return Pr(Gt)},q.dedupingInterval),kt[ut]!==Gt?(lr&&Dr()&&Bn().onDiscarded(ut),[2,!1]):(S.set(Qt,k),Wr.error=k,!Z(Ge[ut])&&(Gt<=Ge[ut]||Gt<=Be[ut]||Be[ut]===0)?(an(),lr&&Dr()&&Bn().onDiscarded(ut),[2,!1]):(K(be.current.data,dt)||(Wr.data=dt),K(S.get(ut),dt)||S.set(ut,dt),lr&&Dr()&&Bn().onSuccess(dt,ut,q),[3,4]));case 3:return dn=Rn.sent(),Pr(Gt),Bn().isPaused()||(S.set(Qt,dn),Wr.error=dn,lr&&Dr()&&(Bn().onError(dn,ut,q),q.shouldRetryOnError&&Bn().onErrorRetry(dn,ut,q,Pe,{retryCount:(nr.retryCount||0)+1,dedupe:!0}))),[3,4];case 4:return $t=!1,an(),Dr()&&lr&&Jt(S,ut,Wr.data,Wr.error,!1),[2,!0]}})})},[ut]),xe=Object(M.useCallback)(ie.bind(k,S,function(){return tn.current}),[]);if(Tt(function(){_n.current=q}),Tt(function(){if(ut){var Oe=zr.current,dt=Pe.bind(k,Ke),Gt=function(){return Bn().isVisible()&&Bn().isOnline()},$t=0,nr=Ye(ut,St,function(Dr,Pr,Wr){de(ne({error:Pr,isValidating:Wr},K(be.current.data,Dr)?k:{data:Dr}))}),lr=Ye(ut,ot,function(Dr){if(Dr==0){var Pr=Date.now();Bn().revalidateOnFocus&&Pr>$t&&Gt()&&($t=Pr+Bn().focusThrottleInterval,dt())}else if(Dr==1)Bn().revalidateOnReconnect&&Gt()&&dt();else if(Dr==2)return Pe()});return qr.current=!1,tn.current=ut,zr.current=!0,Oe&&de({data:it,error:ue,isValidating:De}),ge()&&(Z(it)||It?dt():Mt(dt)),function(){qr.current=!0,nr(),lr()}}},[ut,Pe]),Tt(function(){var Oe;function dt(){Me&&Oe!==-1&&(Oe=setTimeout(Gt,Me))}function Gt(){be.current.error||!U&&!Bn().isVisible()||!le&&!Bn().isOnline()?dt():Pe(Ke).then(dt)}return dt(),function(){Oe&&(clearTimeout(Oe),Oe=-1)}},[Me,U,le,Pe]),Object(M.useDebugValue)(it),Fe&&Z(it))throw Z(ue)?Pe(Ke):ue;return{mutate:xe,get data(){return rt.data=!0,it},get error(){return rt.error=!0,ue},get isValidating(){return rt.isValidating=!0,De}}},function(){for(var Ne=[],B=0;B<arguments.length;B++)Ne[B]=arguments[B];var z=ht(Ne),q=z[0],S=z[1],K=z[2],fe=ne(Re,Object(M.useContext)(Pt)),Fe=bt(fe,K),pe=u,Me=Fe.use;if(Me)for(var U=Me.length;U-- >0;)pe=Me[U](pe);return pe(q,S||Fe.fetcher,Fe)}),xt=function(){return ne(Re,Object(M.useContext)(Pt))}},LsHQ:function(ze,A,r){var M=r("EA7m"),y=r("mv/X");function T(b){return M(function(u,H){var k=-1,Z=H.length,oe=Z>1?H[Z-1]:void 0,ne=Z>2?H[2]:void 0;for(oe=b.length>3&&typeof oe=="function"?(Z--,oe):void 0,ne&&y(H[0],H[1],ne)&&(oe=Z<3?void 0:oe,Z=1),u=Object(u);++k<Z;){var Te=H[k];Te&&b(u,Te,k,oe)}return u})}ze.exports=T},LvDl:function(ze,A,r){(function(M,y){var T;/**
* @license
* Lodash <https://lodash.com/>
* Copyright OpenJS Foundation and other contributors <https://openjsf.org/>
* Released under MIT license <https://lodash.com/license>
* Based on Underscore.js 1.8.3 <http://underscorejs.org/LICENSE>
* Copyright Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors
*/(function(){var b,u="4.17.21",H=200,k="Unsupported core-js use. Try https://npms.io/search?q=ponyfill.",Z="Expected a function",oe="Invalid `variable` option passed into `_.template`",ne="__lodash_hash_undefined__",Te=500,at="__lodash_placeholder__",ve=1,we=2,I=4,Ce=1,et=2,Et=1,We=2,ct=4,ce=8,Vt=16,It=32,Mt=64,Tt=128,ye=256,lt=512,yt=30,Dt="...",Jt=800,At=16,vt=1,ie=2,J=3,ee=1/0,Ie=9007199254740991,me=17976931348623157e292,Ve=0/0,Re=4294967295,bt=Re-1,Pt=Re>>>1,ht=[["ary",Tt],["bind",Et],["bindKey",We],["curry",ce],["curryRight",Vt],["flip",lt],["partial",It],["partialRight",Mt],["rearg",ye]],Ye="[object Arguments]",Ke="[object Array]",nt="[object AsyncFunction]",Ot="[object Boolean]",Xe="[object Date]",xt="[object DOMException]",Ne="[object Error]",B="[object Function]",z="[object GeneratorFunction]",q="[object Map]",S="[object Number]",K="[object Null]",fe="[object Object]",Fe="[object Promise]",pe="[object Proxy]",Me="[object RegExp]",U="[object Set]",le="[object String]",Le="[object Symbol]",ot="[object Undefined]",St="[object WeakMap]",Ge="[object WeakSet]",Be="[object ArrayBuffer]",Nt="[object DataView]",kt="[object Float32Array]",ft="[object Float64Array]",ut="[object Int8Array]",Ze="[object Int16Array]",Qt="[object Int32Array]",ar="[object Uint8Array]",zr="[object Uint8ClampedArray]",qr="[object Uint16Array]",tn="[object Uint32Array]",_n=/\b__p \+= '';/g,Bn=/\b(__p \+=) '' \+/g,ya=/(__e\(.*?\)|\b__t\)) \+\n'';/g,Tr=/&(?:amp|lt|gt|quot|#39);/g,it=/[&<>"']/g,ue=RegExp(Tr.source),ge=RegExp(it.source),De=/<%-([\s\S]+?)%>/g,Ee=/<%([\s\S]+?)%>/g,be=/<%=([\s\S]+?)%>/g,rt=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,de=/^\w*$/,Pe=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,xe=/[\\^$.*+?()[\]{}|]/g,Oe=RegExp(xe.source),dt=/^\s+/,Gt=/\s/,$t=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/,nr=/\{\n\/\* \[wrapped with (.+)\] \*/,lr=/,? & /,Dr=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g,Pr=/[()=,{}\[\]\/\s]/,Wr=/\\(\\)?/g,an=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,dn=/\w*$/,Rn=/^[-+]0x[0-9a-f]+$/i,zn=/^0b[01]+$/i,Qn=/^\[object .+?Constructor\]$/,Ma=/^0o[0-7]+$/i,Ca=/^(?:0|[1-9]\d*)$/,ia=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,_a=/($^)/,$a=/['\n\r\u2028\u2029\\]/g,ra="\\ud800-\\udfff",ni="\\u0300-\\u036f",Da="\\ufe20-\\ufe2f",Fa="\\u20d0-\\u20ff",ba=ni+Da+Fa,Oi="\\u2700-\\u27bf",Do="a-z\\xdf-\\xf6\\xf8-\\xff",Li="\\xac\\xb1\\xd7\\xf7",Ui="\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf",Na="\\u2000-\\u206f",wa=" \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",ga="A-Z\\xc0-\\xd6\\xd8-\\xde",pi="\\ufe0e\\ufe0f",_o=Li+Ui+Na+wa,To="['\u2019]",so="["+ra+"]",vi="["+_o+"]",ko="["+ba+"]",bo="\\d+",Ba="["+Oi+"]",Pa="["+Do+"]",lo="[^"+ra+_o+bo+Oi+Do+ga+"]",No="\\ud83c[\\udffb-\\udfff]",La="(?:"+ko+"|"+No+")",mr="[^"+ra+"]",Wt="(?:\\ud83c[\\udde6-\\uddff]){2}",vr="[\\ud800-\\udbff][\\udc00-\\udfff]",un="["+ga+"]",va="\\u200d",qa="(?:"+Pa+"|"+lo+")",mi="(?:"+un+"|"+lo+")",ys="(?:"+To+"(?:d|ll|m|re|s|t|ve))?",cl="(?:"+To+"(?:D|LL|M|RE|S|T|VE))?",gl=La+"?",Es="["+pi+"]?",tl="(?:"+va+"(?:"+[mr,Wt,vr].join("|")+")"+Es+gl+")*",fu="\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",vc="\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])",of=Es+gl+tl,ku="(?:"+[Ba,Wt,vr].join("|")+")"+of,Wl="(?:"+[mr+ko+"?",ko,Wt,vr,so].join("|")+")",ql=RegExp(To,"g"),al=RegExp(ko,"g"),du=RegExp(No+"(?="+No+")|"+Wl+of,"g"),Bu=RegExp([un+"?"+Pa+"+"+ys+"(?="+[vi,un,"$"].join("|")+")",mi+"+"+cl+"(?="+[vi,un+qa,"$"].join("|")+")",un+"?"+qa+"+"+ys,un+"+"+cl,vc,fu,bo,ku].join("|"),"g"),Hc=RegExp("["+va+ra+ba+pi+"]"),ps=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,Bs=["Array","Buffer","DataView","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Map","Math","Object","Promise","RegExp","Set","String","Symbol","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap","_","clearTimeout","isFinite","parseInt","setTimeout"],tu=-1,il={};il[kt]=il[ft]=il[ut]=il[Ze]=il[Qt]=il[ar]=il[zr]=il[qr]=il[tn]=!0,il[Ye]=il[Ke]=il[Be]=il[Ot]=il[Nt]=il[Xe]=il[Ne]=il[B]=il[q]=il[S]=il[fe]=il[Me]=il[U]=il[le]=il[St]=!1;var fl={};fl[Ye]=fl[Ke]=fl[Be]=fl[Nt]=fl[Ot]=fl[Xe]=fl[kt]=fl[ft]=fl[ut]=fl[Ze]=fl[Qt]=fl[q]=fl[S]=fl[fe]=fl[Me]=fl[U]=fl[le]=fl[Le]=fl[ar]=fl[zr]=fl[qr]=fl[tn]=!0,fl[Ne]=fl[B]=fl[St]=!1;var Yh={\u00C0:"A",\u00C1:"A",\u00C2:"A",\u00C3:"A",\u00C4:"A",\u00C5:"A",\u00E0:"a",\u00E1:"a",\u00E2:"a",\u00E3:"a",\u00E4:"a",\u00E5:"a",\u00C7:"C",\u00E7:"c",\u00D0:"D",\u00F0:"d",\u00C8:"E",\u00C9:"E",\u00CA:"E",\u00CB:"E",\u00E8:"e",\u00E9:"e",\u00EA:"e",\u00EB:"e",\u00CC:"I",\u00CD:"I",\u00CE:"I",\u00CF:"I",\u00EC:"i",\u00ED:"i",\u00EE:"i",\u00EF:"i",\u00D1:"N",\u00F1:"n",\u00D2:"O",\u00D3:"O",\u00D4:"O",\u00D5:"O",\u00D6:"O",\u00D8:"O",\u00F2:"o",\u00F3:"o",\u00F4:"o",\u00F5:"o",\u00F6:"o",\u00F8:"o",\u00D9:"U",\u00DA:"U",\u00DB:"U",\u00DC:"U",\u00F9:"u",\u00FA:"u",\u00FB:"u",\u00FC:"u",\u00DD:"Y",\u00FD:"y",\u00FF:"y",\u00C6:"Ae",\u00E6:"ae",\u00DE:"Th",\u00FE:"th",\u00DF:"ss",\u0100:"A",\u0102:"A",\u0104:"A",\u0101:"a",\u0103:"a",\u0105:"a",\u0106:"C",\u0108:"C",\u010A:"C",\u010C:"C",\u0107:"c",\u0109:"c",\u010B:"c",\u010D:"c",\u010E:"D",\u0110:"D",\u010F:"d",\u0111:"d",\u0112:"E",\u0114:"E",\u0116:"E",\u0118:"E",\u011A:"E",\u0113:"e",\u0115:"e",\u0117:"e",\u0119:"e",\u011B:"e",\u011C:"G",\u011E:"G",\u0120:"G",\u0122:"G",\u011D:"g",\u011F:"g",\u0121:"g",\u0123:"g",\u0124:"H",\u0126:"H",\u0125:"h",\u0127:"h",\u0128:"I",\u012A:"I",\u012C:"I",\u012E:"I",\u0130:"I",\u0129:"i",\u012B:"i",\u012D:"i",\u012F:"i",\u0131:"i",\u0134:"J",\u0135:"j",\u0136:"K",\u0137:"k",\u0138:"k",\u0139:"L",\u013B:"L",\u013D:"L",\u013F:"L",\u0141:"L",\u013A:"l",\u013C:"l",\u013E:"l",\u0140:"l",\u0142:"l",\u0143:"N",\u0145:"N",\u0147:"N",\u014A:"N",\u0144:"n",\u0146:"n",\u0148:"n",\u014B:"n",\u014C:"O",\u014E:"O",\u0150:"O",\u014D:"o",\u014F:"o",\u0151:"o",\u0154:"R",\u0156:"R",\u0158:"R",\u0155:"r",\u0157:"r",\u0159:"r",\u015A:"S",\u015C:"S",\u015E:"S",\u0160:"S",\u015B:"s",\u015D:"s",\u015F:"s",\u0161:"s",\u0162:"T",\u0164:"T",\u0166:"T",\u0163:"t",\u0165:"t",\u0167:"t",\u0168:"U",\u016A:"U",\u016C:"U",\u016E:"U",\u0170:"U",\u0172:"U",\u0169:"u",\u016B:"u",\u016D:"u",\u016F:"u",\u0171:"u",\u0173:"u",\u0174:"W",\u0175:"w",\u0176:"Y",\u0177:"y",\u0178:"Y",\u0179:"Z",\u017B:"Z",\u017D:"Z",\u017A:"z",\u017C:"z",\u017E:"z",\u0132:"IJ",\u0133:"ij",\u0152:"Oe",\u0153:"oe",\u0149:"'n",\u017F:"s"},Fr={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},Sn={"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"},Jn={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},xo=parseFloat,w=parseInt,re=typeof M=="object"&&M&&M.Object===Object&&M,Qe=typeof self=="object"&&self&&self.Object===Object&&self,Se=re||Qe||Function("return this")(),jt=A&&!A.nodeType&&A,br=jt&&typeof y=="object"&&y&&!y.nodeType&&y,Yr=br&&br.exports===jt,fn=Yr&&re.process,En=function(){try{var vn=br&&br.require&&br.require("util").types;return vn||fn&&fn.binding&&fn.binding("util")}catch(Oa){}}(),ma=En&&En.isArrayBuffer,Ia=En&&En.isDate,Co=En&&En.isMap,$o=En&&En.isRegExp,Zo=En&&En.isSet,Hs=En&&En.isTypedArray;function ms(vn,Oa,oa){switch(oa.length){case 0:return vn.call(Oa);case 1:return vn.call(Oa,oa[0]);case 2:return vn.call(Oa,oa[0],oa[1]);case 3:return vn.call(Oa,oa[0],oa[1],oa[2])}return vn.apply(Oa,oa)}function Ws(vn,Oa,oa,to){for(var Ai=-1,Xo=vn==null?0:vn.length;++Ai<Xo;){var ol=vn[Ai];Oa(to,ol,oa(ol),vn)}return to}function zu(vn,Oa){for(var oa=-1,to=vn==null?0:vn.length;++oa<to&&Oa(vn[oa],oa,vn)!==!1;);return vn}function Pc(vn,Oa){for(var oa=vn==null?0:vn.length;oa--&&Oa(vn[oa],oa,vn)!==!1;);return vn}function Ys(vn,Oa){for(var oa=-1,to=vn==null?0:vn.length;++oa<to;)if(!Oa(vn[oa],oa,vn))return!1;return!0}function Ef(vn,Oa){for(var oa=-1,to=vn==null?0:vn.length,Ai=0,Xo=[];++oa<to;){var ol=vn[oa];Oa(ol,oa,vn)&&(Xo[Ai++]=ol)}return Xo}function hd(vn,Oa){var oa=vn==null?0:vn.length;return!!oa&&mc(vn,Oa,0)>-1}function Bf(vn,Oa,oa){for(var to=-1,Ai=vn==null?0:vn.length;++to<Ai;)if(oa(Oa,vn[to]))return!0;return!1}function Ms(vn,Oa){for(var oa=-1,to=vn==null?0:vn.length,Ai=Array(to);++oa<to;)Ai[oa]=Oa(vn[oa],oa,vn);return Ai}function zf(vn,Oa){for(var oa=-1,to=Oa.length,Ai=vn.length;++oa<to;)vn[Ai+oa]=Oa[oa];return vn}function wh(vn,Oa,oa,to){var Ai=-1,Xo=vn==null?0:vn.length;for(to&&Xo&&(oa=vn[++Ai]);++Ai<Xo;)oa=Oa(oa,vn[Ai],Ai,vn);return oa}function _d(vn,Oa,oa,to){var Ai=vn==null?0:vn.length;for(to&&Ai&&(oa=vn[--Ai]);Ai--;)oa=Oa(oa,vn[Ai],Ai,vn);return oa}function zl(vn,Oa){for(var oa=-1,to=vn==null?0:vn.length;++oa<to;)if(Oa(vn[oa],oa,vn))return!0;return!1}var Uf=vd("length");function $h(vn){return vn.split("")}function Sf(vn){return vn.match(Dr)||[]}function Gl(vn,Oa,oa){var to;return oa(vn,function(Ai,Xo,ol){if(Oa(Ai,Xo,ol))return to=Xo,!1}),to}function Wc(vn,Oa,oa,to){for(var Ai=vn.length,Xo=oa+(to?1:-1);to?Xo--:++Xo<Ai;)if(Oa(vn[Xo],Xo,vn))return Xo;return-1}function mc(vn,Oa,oa){return Oa===Oa?Th(vn,Oa,oa):Wc(vn,Vf,oa)}function pd(vn,Oa,oa,to){for(var Ai=oa-1,Xo=vn.length;++Ai<Xo;)if(to(vn[Ai],Oa))return Ai;return-1}function Vf(vn){return vn!==vn}function Gc(vn,Oa){var oa=vn==null?0:vn.length;return oa?$d(vn,Oa)/oa:Ve}function vd(vn){return function(Oa){return Oa==null?b:Oa[vn]}}function Ll(vn){return function(Oa){return vn==null?b:vn[Oa]}}function Yd(vn,Oa,oa,to,Ai){return Ai(vn,function(Xo,ol,dl){oa=to?(to=!1,Xo):Oa(oa,Xo,ol,dl)}),oa}function Up(vn,Oa){var oa=vn.length;for(vn.sort(Oa);oa--;)vn[oa]=vn[oa].value;return vn}function $d(vn,Oa){for(var oa,to=-1,Ai=vn.length;++to<Ai;){var Xo=Oa(vn[to]);Xo!==b&&(oa=oa===b?Xo:oa+Xo)}return oa}function uc(vn,Oa){for(var oa=-1,to=Array(vn);++oa<vn;)to[oa]=Oa(oa);return to}function sv(vn,Oa){return Ms(Oa,function(oa){return[oa,vn[oa]]})}function Vp(vn){return vn&&vn.slice(0,bp(vn)+1).replace(dt,"")}function wc(vn){return function(Oa){return vn(Oa)}}function Xf(vn,Oa){return Ms(Oa,function(oa){return vn[oa]})}function Hf(vn,Oa){return vn.has(Oa)}function jd(vn,Oa){for(var oa=-1,to=vn.length;++oa<to&&mc(Oa,vn[oa],0)>-1;);return oa}function Tc(vn,Oa){for(var oa=vn.length;oa--&&mc(Oa,vn[oa],0)>-1;);return oa}function Qf(vn,Oa){for(var oa=vn.length,to=0;oa--;)vn[oa]===Oa&&++to;return to}var kd=Ll(Yh),md=Ll(Fr);function sf(vn){return"\\"+Jn[vn]}function Xh(vn,Oa){return vn==null?b:vn[Oa]}function Id(vn){return Hc.test(vn)}function gp(vn){return ps.test(vn)}function Xd(vn){for(var Oa,oa=[];!(Oa=vn.next()).done;)oa.push(Oa.value);return oa}function Of(vn){var Oa=-1,oa=Array(vn.size);return vn.forEach(function(to,Ai){oa[++Oa]=[Ai,to]}),oa}function ch(vn,Oa){return function(oa){return vn(Oa(oa))}}function Jf(vn,Oa){for(var oa=-1,to=vn.length,Ai=0,Xo=[];++oa<to;){var ol=vn[oa];(ol===Oa||ol===at)&&(vn[oa]=at,Xo[Ai++]=oa)}return Xo}function Bd(vn){var Oa=-1,oa=Array(vn.size);return vn.forEach(function(to){oa[++Oa]=to}),oa}function fh(vn){var Oa=-1,oa=Array(vn.size);return vn.forEach(function(to){oa[++Oa]=[to,to]}),oa}function Th(vn,Oa,oa){for(var to=oa-1,Ai=vn.length;++to<Ai;)if(vn[to]===Oa)return to;return-1}function yp(vn,Oa,oa){for(var to=oa+1;to--;)if(vn[to]===Oa)return to;return to}function Rd(vn){return Id(vn)?Ah(vn):Uf(vn)}function qf(vn){return Id(vn)?Mh(vn):$h(vn)}function bp(vn){for(var Oa=vn.length;Oa--&&Gt.test(vn.charAt(Oa)););return Oa}var Hp=Ll(Sn);function Ah(vn){for(var Oa=du.lastIndex=0;du.test(vn);)++Oa;return Oa}function Mh(vn){return vn.match(du)||[]}function Qh(vn){return vn.match(Bu)||[]}var Wp=function vn(Oa){Oa=Oa==null?Se:ed.defaults(Se.Object(),Oa,ed.pick(Se,Bs));var oa=Oa.Array,to=Oa.Date,Ai=Oa.Error,Xo=Oa.Function,ol=Oa.Math,dl=Oa.Object,gd=Oa.RegExp,Ld=Oa.String,lf=Oa.TypeError,Jh=oa.prototype,_h=Xo.prototype,uf=dl.prototype,Pf=Oa["__core-js_shared__"],ru=_h.toString,hl=uf.hasOwnProperty,dh=0,Al=function(){var p=/[^.]+$/.exec(Pf&&Pf.keys&&Pf.keys.IE_PROTO||"");return p?"Symbol(src)_1."+p:""}(),bi=uf.toString,Kc=ru.call(dl),qh=Se._,Ih=gd("^"+ru.call(hl).replace(xe,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),cf=Yr?Oa.Buffer:b,Yu=Oa.Symbol,hh=Oa.Uint8Array,gi=cf?cf.allocUnsafe:b,td=ch(dl.getPrototypeOf,dl),Uu=dl.create,ep=uf.propertyIsEnumerable,tc=Jh.splice,gu=Yu?Yu.isConcatSpreadable:b,Zc=Yu?Yu.iterator:b,wf=Yu?Yu.toStringTag:b,nu=function(){try{var p=Ur(dl,"defineProperty");return p({},"",{}),p}catch(O){}}(),Wf=Oa.clearTimeout!==Se.clearTimeout&&Oa.clearTimeout,Qd=to&&to.now!==Se.Date.now&&to.now,Gf=Oa.setTimeout!==Se.setTimeout&&Oa.setTimeout,Rh=ol.ceil,Jd=ol.floor,Tf=dl.getOwnPropertySymbols,gc=cf?cf.isBuffer:b,_s=Oa.isFinite,yd=Jh.join,rd=ch(dl.keys,dl),sl=ol.max,Mu=ol.min,ff=to.now,Af=Oa.parseInt,jc=ol.random,ph=Jh.reverse,Io=Ur(Oa,"DataView"),Mi=Ur(Oa,"Map"),df=Ur(Oa,"Promise"),_u=Ur(Oa,"Set"),cc=Ur(Oa,"WeakMap"),$u=Ur(dl,"create"),Mf=cc&&new cc,Ac={},qd=Zl(Io),Dl=Zl(Mi),yu=Zl(df),eh=Zl(_u),_f=Zl(cc),If=Yu?Yu.prototype:b,Mc=If?If.valueOf:b,_c=If?If.toString:b;function dr(p){if(pc(p)&&!ns(p)&&!(p instanceof $s)){if(p instanceof rc)return p;if(hl.call(p,"__wrapped__"))return hu(p)}return new rc(p)}var Iu=function(){function p(){}return function(O){if(!Ju(O))return{};if(Uu)return Uu(O);p.prototype=O;var te=new p;return p.prototype=b,te}}();function nd(){}function rc(p,O){this.__wrapped__=p,this.__actions__=[],this.__chain__=!!O,this.__index__=0,this.__values__=b}dr.templateSettings={escape:De,evaluate:Ee,interpolate:be,variable:"",imports:{_:dr}},dr.prototype=nd.prototype,dr.prototype.constructor=dr,rc.prototype=Iu(nd.prototype),rc.prototype.constructor=rc;function $s(p){this.__wrapped__=p,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=Re,this.__views__=[]}function xp(){var p=new $s(this.__wrapped__);return p.__actions__=Lc(this.__actions__),p.__dir__=this.__dir__,p.__filtered__=this.__filtered__,p.__iteratees__=Lc(this.__iteratees__),p.__takeCount__=this.__takeCount__,p.__views__=Lc(this.__views__),p}function tp(){if(this.__filtered__){var p=new $s(this);p.__dir__=-1,p.__filtered__=!0}else p=this.clone(),p.__dir__*=-1;return p}function th(){var p=this.__wrapped__.value(),O=this.__dir__,te=ns(p),Je=O<0,Xt=te?p.length:0,Sr=mn(0,Xt,this.__views__),nn=Sr.start,On=Sr.end,Yn=On-nn,ri=Je?On:nn-1,oi=this.__iteratees__,Ci=oi.length,Uo=0,ws=Mu(Yn,this.__takeCount__);if(!te||!Je&&Xt==Yn&&ws==Yn)return np(p,this.__actions__);var rl=[];e:for(;Yn--&&Uo<ws;){ri+=O;for(var su=-1,ul=p[ri];++su<Ci;){var Eu=oi[su],Nu=Eu.iteratee,Ov=Eu.type,Uh=Nu(ul);if(Ov==ie)ul=Uh;else if(!Uh){if(Ov==vt)continue e;break e}}rl[Uo++]=ul}return rl}$s.prototype=Iu(nd.prototype),$s.prototype.constructor=$s;function ad(p){var O=-1,te=p==null?0:p.length;for(this.clear();++O<te;){var Je=p[O];this.set(Je[0],Je[1])}}function zd(){this.__data__=$u?$u(null):{},this.size=0}function bd(p){var O=this.has(p)&&delete this.__data__[p];return this.size-=O?1:0,O}function Yc(p){var O=this.__data__;if($u){var te=O[p];return te===ne?b:te}return hl.call(O,p)?O[p]:b}function Ud(p){var O=this.__data__;return $u?O[p]!==b:hl.call(O,p)}function Rf(p,O){var te=this.__data__;return this.size+=this.has(p)?0:1,te[p]=$u&&O===b?ne:O,this}ad.prototype.clear=zd,ad.prototype.delete=bd,ad.prototype.get=Yc,ad.prototype.has=Ud,ad.prototype.set=Rf;function $c(p){var O=-1,te=p==null?0:p.length;for(this.clear();++O<te;){var Je=p[O];this.set(Je[0],Je[1])}}function id(){this.__data__=[],this.size=0}function Vd(p){var O=this.__data__,te=sa(O,p);if(te<0)return!1;var Je=O.length-1;return te==Je?O.pop():tc.call(O,te,1),--this.size,!0}function Cp(p){var O=this.__data__,te=sa(O,p);return te<0?b:O[te][1]}function v(p){return sa(this.__data__,p)>-1}function c(p,O){var te=this.__data__,Je=sa(te,p);return Je<0?(++this.size,te.push([p,O])):te[Je][1]=O,this}$c.prototype.clear=id,$c.prototype.delete=Vd,$c.prototype.get=Cp,$c.prototype.has=v,$c.prototype.set=c;function l(p){var O=-1,te=p==null?0:p.length;for(this.clear();++O<te;){var Je=p[O];this.set(Je[0],Je[1])}}function g(){this.size=0,this.__data__={hash:new ad,map:new(Mi||$c),string:new ad}}function F(p){var O=_t(this,p).delete(p);return this.size-=O?1:0,O}function Q(p){return _t(this,p).get(p)}function se(p){return _t(this,p).has(p)}function _e(p,O){var te=_t(this,p),Je=te.size;return te.set(p,O),this.size+=te.size==Je?0:1,this}l.prototype.clear=g,l.prototype.delete=F,l.prototype.get=Q,l.prototype.has=se,l.prototype.set=_e;function mt(p){var O=-1,te=p==null?0:p.length;for(this.__data__=new l;++O<te;)this.add(p[O])}function Rt(p){return this.__data__.set(p,ne),this}function ir(p){return this.__data__.has(p)}mt.prototype.add=mt.prototype.push=Rt,mt.prototype.has=ir;function rr(p){var O=this.__data__=new $c(p);this.size=O.size}function ur(){this.__data__=new $c,this.size=0}function kr(p){var O=this.__data__,te=O.delete(p);return this.size=O.size,te}function Nr(p){return this.__data__.get(p)}function Xr(p){return this.__data__.has(p)}function Br(p,O){var te=this.__data__;if(te instanceof $c){var Je=te.__data__;if(!Mi||Je.length<H-1)return Je.push([p,O]),this.size=++te.size,this;te=this.__data__=new l(Je)}return te.set(p,O),this.size=te.size,this}rr.prototype.clear=ur,rr.prototype.delete=kr,rr.prototype.get=Nr,rr.prototype.has=Xr,rr.prototype.set=Br;function Hr(p,O){var te=ns(p),Je=!te&&rf(p),Xt=!te&&!Je&&Od(p),Sr=!te&&!Je&&!Xt&&Dp(p),nn=te||Je||Xt||Sr,On=nn?uc(p.length,Ld):[],Yn=On.length;for(var ri in p)(O||hl.call(p,ri))&&!(nn&&(ri=="length"||Xt&&(ri=="offset"||ri=="parent")||Sr&&(ri=="buffer"||ri=="byteLength"||ri=="byteOffset")||Fn(ri,Yn)))&&On.push(ri);return On}function hn(p){var O=p.length;return O?p[Kp(0,O-1)]:b}function pn(p,O){return bu(Lc(p),Bo(O,0,p.length))}function la(p){return bu(Lc(p))}function Gn(p,O,te){(te!==b&&!oc(p[O],te)||te===b&&!(O in p))&&di(p,O,te)}function aa(p,O,te){var Je=p[O];(!(hl.call(p,O)&&oc(Je,te))||te===b&&!(O in p))&&di(p,O,te)}function sa(p,O){for(var te=p.length;te--;)if(oc(p[te][0],O))return te;return-1}function Ya(p,O,te,Je){return qi(p,function(Xt,Sr,nn){O(Je,Xt,te(Xt),nn)}),Je}function Ka(p,O){return p&&ah(O,Zr(O),p)}function Di(p,O){return p&&ah(O,on(O),p)}function di(p,O,te){O=="__proto__"&&nu?nu(p,O,{configurable:!0,enumerable:!0,value:te,writable:!0}):p[O]=te}function Eo(p,O){for(var te=-1,Je=O.length,Xt=oa(Je),Sr=p==null;++te<Je;)Xt[te]=Sr?b:he(p,O[te]);return Xt}function Bo(p,O,te){return p===p&&(te!==b&&(p=p<=te?p:te),O!==b&&(p=p>=O?p:O)),p}function Wo(p,O,te,Je,Xt,Sr){var nn,On=O&ve,Yn=O&we,ri=O&I;if(te&&(nn=Xt?te(p,Je,Xt,Sr):te(p)),nn!==b)return nn;if(!Ju(p))return p;var oi=ns(p);if(oi){if(nn=ei(p),!On)return Lc(p,nn)}else{var Ci=Nn(p),Uo=Ci==B||Ci==z;if(Od(p))return uv(p,On);if(Ci==fe||Ci==Ye||Uo&&!Xt){if(nn=Yn||Uo?{}:Va(p),!On)return Yn?Bm(p,Di(nn,p)):km(p,Ka(nn,p))}else{if(!fl[Ci])return Xt?p:{};nn=si(p,Ci,On)}}Sr||(Sr=new rr);var ws=Sr.get(p);if(ws)return ws;Sr.set(p,nn),Tm(p)?p.forEach(function(ul){nn.add(Wo(ul,O,te,ul,p,Sr))}):Pm(p)&&p.forEach(function(ul,Eu){nn.set(Eu,Wo(ul,O,te,Eu,p,Sr))});var rl=ri?Yn?kc:_p:Yn?on:Zr,su=oi?b:rl(p);return zu(su||p,function(ul,Eu){su&&(Eu=ul,ul=p[Eu]),aa(nn,Eu,Wo(ul,O,te,Eu,p,Sr))}),nn}function ll(p){var O=Zr(p);return function(te){return _i(te,p,O)}}function _i(p,O,te){var Je=te.length;if(p==null)return!Je;for(p=dl(p);Je--;){var Xt=te[Je],Sr=O[Xt],nn=p[Xt];if(nn===b&&!(Xt in p)||!Sr(nn))return!1}return!0}function Qo(p,O,te){if(typeof p!="function")throw new lf(Z);return Fo(function(){p.apply(b,te)},O)}function os(p,O,te,Je){var Xt=-1,Sr=hd,nn=!0,On=p.length,Yn=[],ri=O.length;if(!On)return Yn;te&&(O=Ms(O,wc(te))),Je?(Sr=Bf,nn=!1):O.length>=H&&(Sr=Hf,nn=!1,O=new mt(O));e:for(;++Xt<On;){var oi=p[Xt],Ci=te==null?oi:te(oi);if(oi=Je||oi!==0?oi:0,nn&&Ci===Ci){for(var Uo=ri;Uo--;)if(O[Uo]===Ci)continue e;Yn.push(oi)}else Sr(O,Ci,Je)||Yn.push(oi)}return Yn}var qi=hv(Ns),hs=hv(yc,!0);function zo(p,O){var te=!0;return qi(p,function(Je,Xt,Sr){return te=!!O(Je,Xt,Sr),te}),te}function us(p,O,te){for(var Je=-1,Xt=p.length;++Je<Xt;){var Sr=p[Je],nn=O(Sr);if(nn!=null&&(On===b?nn===nn&&!sd(nn):te(nn,On)))var On=nn,Yn=Sr}return Yn}function Xs(p,O,te,Je){var Xt=p.length;for(te=wl(te),te<0&&(te=-te>Xt?0:Xt+te),Je=Je===b||Je>Xt?Xt:wl(Je),Je<0&&(Je+=Xt),Je=te>Je?0:Cv(Je);te<Je;)p[te++]=O;return p}function au(p,O){var te=[];return qi(p,function(Je,Xt,Sr){O(Je,Xt,Sr)&&te.push(Je)}),te}function zs(p,O,te,Je,Xt){var Sr=-1,nn=p.length;for(te||(te=Ha),Xt||(Xt=[]);++Sr<nn;){var On=p[Sr];O>0&&te(On)?O>1?zs(On,O-1,te,Je,Xt):zf(Xt,On):Je||(Xt[Xt.length]=On)}return Xt}var pl=Cd(),xl=Cd(!0);function Ns(p,O){return p&&pl(p,O,Zr)}function yc(p,O){return p&&xl(p,O,Zr)}function nc(p,O){return Ef(O,function(te){return Pd(p[te])})}function Ru(p,O){O=Rc(O,p);for(var te=0,Je=O.length;p!=null&&te<Je;)p=p[Lu(O[te++])];return te&&te==Je?p:b}function Hd(p,O,te){var Je=O(p);return ns(p)?Je:zf(Je,te(p))}function Ft(p){return p==null?p===b?ot:K:wf&&wf in dl(p)?jn(p):Ei(p)}function Ht(p,O){return p>O}function Ue(p,O){return p!=null&&hl.call(p,O)}function He(p,O){return p!=null&&O in dl(p)}function Zt(p,O,te){return p>=Mu(O,te)&&p<sl(O,te)}function cr(p,O,te){for(var Je=te?Bf:hd,Xt=p[0].length,Sr=p.length,nn=Sr,On=oa(Sr),Yn=Infinity,ri=[];nn--;){var oi=p[nn];nn&&O&&(oi=Ms(oi,wc(O))),Yn=Mu(oi.length,Yn),On[nn]=!te&&(O||Xt>=120&&oi.length>=120)?new mt(nn&&oi):b}oi=p[0];var Ci=-1,Uo=On[0];e:for(;++Ci<Xt&&ri.length<Yn;){var ws=oi[Ci],rl=O?O(ws):ws;if(ws=te||ws!==0?ws:0,!(Uo?Hf(Uo,rl):Je(ri,rl,te))){for(nn=Sr;--nn;){var su=On[nn];if(!(su?Hf(su,rl):Je(p[nn],rl,te)))continue e}Uo&&Uo.push(rl),ri.push(ws)}}return ri}function ln(p,O,te,Je){return Ns(p,function(Xt,Sr,nn){O(Je,te(Xt),Sr,nn)}),Je}function Mn(p,O,te){O=Rc(O,p),p=Ss(p,O);var Je=p==null?p:p[Lu(Jr(O))];return Je==null?b:ms(Je,p,te)}function Cn(p){return pc(p)&&Ft(p)==Ye}function qn(p){return pc(p)&&Ft(p)==Be}function Ea(p){return pc(p)&&Ft(p)==Xe}function ji(p,O,te,Je,Xt){return p===O?!0:p==null||O==null||!pc(p)&&!pc(O)?p!==p&&O!==O:ro(p,O,te,Je,ji,Xt)}function ro(p,O,te,Je,Xt,Sr){var nn=ns(p),On=ns(O),Yn=nn?Ke:Nn(p),ri=On?Ke:Nn(O);Yn=Yn==Ye?fe:Yn,ri=ri==Ye?fe:ri;var oi=Yn==fe,Ci=ri==fe,Uo=Yn==ri;if(Uo&&Od(p)){if(!Od(O))return!1;nn=!0,oi=!1}if(Uo&&!oi)return Sr||(Sr=new rr),nn||Dp(p)?xm(p,O,te,Je,Xt,Sr):Cm(p,O,Yn,te,Je,Xt,Sr);if(!(te&Ce)){var ws=oi&&hl.call(p,"__wrapped__"),rl=Ci&&hl.call(O,"__wrapped__");if(ws||rl){var su=ws?p.value():p,ul=rl?O.value():O;return Sr||(Sr=new rr),Xt(su,ul,te,Je,Sr)}}return Uo?(Sr||(Sr=new rr),ig(p,O,te,Je,Xt,Sr)):!1}function Ao(p){return pc(p)&&Nn(p)==q}function uo(p,O,te,Je){var Xt=te.length,Sr=Xt,nn=!Je;if(p==null)return!Sr;for(p=dl(p);Xt--;){var On=te[Xt];if(nn&&On[2]?On[1]!==p[On[0]]:!(On[0]in p))return!1}for(;++Xt<Sr;){On=te[Xt];var Yn=On[0],ri=p[Yn],oi=On[1];if(nn&&On[2]){if(ri===b&&!(Yn in p))return!1}else{var Ci=new rr;if(Je)var Uo=Je(ri,oi,Yn,p,O,Ci);if(!(Uo===b?ji(oi,ri,Ce|et,Je,Ci):Uo))return!1}}return!0}function So(p){if(!Ju(p)||vo(p))return!1;var O=Pd(p)?Ih:Qn;return O.test(Zl(p))}function fs(p){return pc(p)&&Ft(p)==Me}function vs(p){return pc(p)&&Nn(p)==U}function bs(p){return pc(p)&&Lp(p.length)&&!!il[Ft(p)]}function Yl(p){return typeof p=="function"?p:p==null?zh:typeof p=="object"?ns(p)?Vl(p[0],p[1]):Qs(p):o0(p)}function Ml(p){if(!yi(p))return rd(p);var O=[];for(var te in dl(p))hl.call(p,te)&&te!="constructor"&&O.push(te);return O}function Xu(p){if(!Ju(p))return Za(p);var O=yi(p),te=[];for(var Je in p)Je=="constructor"&&(O||!hl.call(p,Je))||te.push(Je);return te}function Ul(p,O){return p<O}function Ds(p,O){var te=-1,Je=Zs(p)?oa(p.length):[];return qi(p,function(Xt,Sr,nn){Je[++te]=O(Xt,Sr,nn)}),Je}function Qs(p){var O=qt(p);return O.length==1&&O[0][2]?na(O[0][0],O[0][1]):function(te){return te===p||uo(te,p,O)}}function Vl(p,O){return Wa(p)&&ta(O)?na(Lu(p),O):function(te){var Je=he(te,p);return Je===b&&Je===O?st(te,p):ji(O,Je,Ce|et)}}function Kl(p,O,te,Je,Xt){p!==O&&pl(O,function(Sr,nn){if(Xt||(Xt=new rr),Ju(Sr))vl(p,O,nn,te,Kl,Je,Xt);else{var On=Je?Je(xi(p,nn),Sr,nn+"",p,O,Xt):b;On===b&&(On=Sr),Gn(p,nn,On)}},on)}function vl(p,O,te,Je,Xt,Sr,nn){var On=xi(p,te),Yn=xi(O,te),ri=nn.get(Yn);if(ri){Gn(p,te,ri);return}var oi=Sr?Sr(On,Yn,te+"",p,O,nn):b,Ci=oi===b;if(Ci){var Uo=ns(Yn),ws=!Uo&&Od(Yn),rl=!Uo&&!ws&&Dp(Yn);oi=Yn,Uo||ws||rl?ns(On)?oi=On:Gu(On)?oi=Lc(On):ws?(Ci=!1,oi=uv(Yn,!0)):rl?(Ci=!1,oi=fv(Yn,!0)):oi=[]:bv(Yn)||rf(Yn)?(oi=On,rf(On)?oi=Bh(On):(!Ju(On)||Pd(On))&&(oi=Va(Yn))):Ci=!1}Ci&&(nn.set(Yn,oi),Xt(oi,Yn,Je,Sr,nn),nn.delete(Yn)),Gn(p,te,oi)}function hf(p,O){var te=p.length;if(!!te)return O+=O<0?te:0,Fn(O,te)?p[O]:b}function pf(p,O,te){O.length?O=Ms(O,function(Sr){return ns(Sr)?function(nn){return Ru(nn,Sr.length===1?Sr[0]:Sr)}:Sr}):O=[zh];var Je=-1;O=Ms(O,wc(ss()));var Xt=Ds(p,function(Sr,nn,On){var Yn=Ms(O,function(ri){return ri(Sr)});return{criteria:Yn,index:++Je,value:Sr}});return Up(Xt,function(Sr,nn){return dv(Sr,nn,te)})}function Gp(p,O){return vh(p,O,function(te,Je){return st(p,Je)})}function vh(p,O,te){for(var Je=-1,Xt=O.length,Sr={};++Je<Xt;){var nn=O[Je],On=Ru(p,nn);te(On,nn)&&Zp(Sr,Rc(nn,p),On)}return Sr}function bc(p){return function(O){return Ru(O,p)}}function lv(p,O,te,Je){var Xt=Je?pd:mc,Sr=-1,nn=O.length,On=p;for(p===O&&(O=Lc(O)),te&&(On=Ms(p,wc(te)));++Sr<nn;)for(var Yn=0,ri=O[Sr],oi=te?te(ri):ri;(Yn=Xt(On,oi,Yn,Je))>-1;)On!==p&&tc.call(On,Yn,1),tc.call(p,Yn,1);return p}function Tv(p,O){for(var te=p?O.length:0,Je=te-1;te--;){var Xt=O[te];if(te==Je||Xt!==Sr){var Sr=Xt;Fn(Xt)?tc.call(p,Xt,1):am(p,Xt)}}return p}function Kp(p,O){return p+Jd(jc()*(O-p+1))}function tm(p,O,te,Je){for(var Xt=-1,Sr=sl(Rh((O-p)/(te||1)),0),nn=oa(Sr);Sr--;)nn[Je?Sr:++Xt]=p,p+=te;return nn}function Ep(p,O){var te="";if(!p||O<1||O>Ie)return te;do O%2&&(te+=p),O=Jd(O/2),O&&(p+=p);while(O);return te}function Gs(p,O){return es(Si(p,O,zh),p+"")}function rh(p){return hn(ks(p))}function rm(p,O){var te=ks(p);return bu(te,Bo(O,0,te.length))}function Zp(p,O,te,Je){if(!Ju(p))return p;O=Rc(O,p);for(var Xt=-1,Sr=O.length,nn=Sr-1,On=p;On!=null&&++Xt<Sr;){var Yn=Lu(O[Xt]),ri=te;if(Yn==="__proto__"||Yn==="constructor"||Yn==="prototype")return p;if(Xt!=nn){var oi=On[Yn];ri=Je?Je(oi,Yn,On):b,ri===b&&(ri=Ju(oi)?oi:Fn(O[Xt+1])?[]:{})}aa(On,Yn,ri),On=On[Yn]}return p}var tg=Mf?function(p,O){return Mf.set(p,O),p}:zh,nm=nu?function(p,O){return nu(p,"toString",{configurable:!0,enumerable:!1,value:wg(O),writable:!0})}:zh;function gm(p){return bu(ks(p))}function mh(p,O,te){var Je=-1,Xt=p.length;O<0&&(O=-O>Xt?0:Xt+O),te=te>Xt?Xt:te,te<0&&(te+=Xt),Xt=O>te?0:te-O>>>0,O>>>=0;for(var Sr=oa(Xt);++Je<Xt;)Sr[Je]=p[Je+O];return Sr}function rg(p,O){var te;return qi(p,function(Je,Xt,Sr){return te=O(Je,Xt,Sr),!te}),!!te}function rp(p,O,te){var Je=0,Xt=p==null?Je:p.length;if(typeof O=="number"&&O===O&&Xt<=Pt){for(;Je<Xt;){var Sr=Je+Xt>>>1,nn=p[Sr];nn!==null&&!sd(nn)&&(te?nn<=O:nn<O)?Je=Sr+1:Xt=Sr}return Xt}return ym(p,O,zh,te)}function ym(p,O,te,Je){var Xt=0,Sr=p==null?0:p.length;if(Sr===0)return 0;O=te(O);for(var nn=O!==O,On=O===null,Yn=sd(O),ri=O===b;Xt<Sr;){var oi=Jd((Xt+Sr)/2),Ci=te(p[oi]),Uo=Ci!==b,ws=Ci===null,rl=Ci===Ci,su=sd(Ci);if(nn)var ul=Je||rl;else ri?ul=rl&&(Je||Uo):On?ul=rl&&Uo&&(Je||!ws):Yn?ul=rl&&Uo&&!ws&&(Je||!su):ws||su?ul=!1:ul=Je?Ci<=O:Ci<O;ul?Xt=oi+1:Sr=oi}return Mu(Sr,bt)}function Ic(p,O){for(var te=-1,Je=p.length,Xt=0,Sr=[];++te<Je;){var nn=p[te],On=O?O(nn):nn;if(!te||!oc(On,Yn)){var Yn=On;Sr[Xt++]=nn===0?0:nn}}return Sr}function Av(p){return typeof p=="number"?p:sd(p)?Ve:+p}function Hl(p){if(typeof p=="string")return p;if(ns(p))return Ms(p,Hl)+"";if(sd(p))return _c?_c.call(p):"";var O=p+"";return O=="0"&&1/p==-ee?"-0":O}function gh(p,O,te){var Je=-1,Xt=hd,Sr=p.length,nn=!0,On=[],Yn=On;if(te)nn=!1,Xt=Bf;else if(Sr>=H){var ri=O?null:Rv(p);if(ri)return Bd(ri);nn=!1,Xt=Hf,Yn=new mt}else Yn=O?[]:On;e:for(;++Je<Sr;){var oi=p[Je],Ci=O?O(oi):oi;if(oi=te||oi!==0?oi:0,nn&&Ci===Ci){for(var Uo=Yn.length;Uo--;)if(Yn[Uo]===Ci)continue e;O&&Yn.push(Ci),On.push(oi)}else Xt(Yn,Ci,te)||(Yn!==On&&Yn.push(Ci),On.push(oi))}return On}function am(p,O){return O=Rc(O,p),p=Ss(p,O),p==null||delete p[Lu(Jr(O))]}function Lh(p,O,te,Je){return Zp(p,O,te(Ru(p,O)),Je)}function nh(p,O,te,Je){for(var Xt=p.length,Sr=Je?Xt:-1;(Je?Sr--:++Sr<Xt)&&O(p[Sr],Sr,p););return te?mh(p,Je?0:Sr,Je?Sr+1:Xt):mh(p,Je?Sr+1:0,Je?Xt:Sr)}function np(p,O){var te=p;return te instanceof $s&&(te=te.value()),wh(O,function(Je,Xt){return Xt.func.apply(Xt.thisArg,zf([Je],Xt.args))},te)}function Mv(p,O,te){var Je=p.length;if(Je<2)return Je?gh(p[0]):[];for(var Xt=-1,Sr=oa(Je);++Xt<Je;)for(var nn=p[Xt],On=-1;++On<Je;)On!=Xt&&(Sr[Xt]=os(Sr[Xt]||nn,p[On],O,te));return gh(zs(Sr,1),O,te)}function Dh(p,O,te){for(var Je=-1,Xt=p.length,Sr=O.length,nn={};++Je<Xt;){var On=Je<Sr?O[Je]:b;te(nn,p[Je],On)}return nn}function Fh(p){return Gu(p)?p:[]}function Sp(p){return typeof p=="function"?p:zh}function Rc(p,O){return ns(p)?p:Wa(p,O)?[p]:js(El(p))}var Op=Gs;function vf(p,O,te){var Je=p.length;return te=te===b?Je:te,!O&&te>=Je?p:mh(p,O,te)}var _v=Wf||function(p){return Se.clearTimeout(p)};function uv(p,O){if(O)return p.slice();var te=p.length,Je=gi?gi(te):new p.constructor(te);return p.copy(Je),Je}function Yp(p){var O=new p.constructor(p.byteLength);return new hh(O).set(new hh(p)),O}function cv(p,O){var te=O?Yp(p.buffer):p.buffer;return new p.constructor(te,p.byteOffset,p.byteLength)}function $p(p){var O=new p.constructor(p.source,dn.exec(p));return O.lastIndex=p.lastIndex,O}function xd(p){return Mc?dl(Mc.call(p)):{}}function fv(p,O){var te=O?Yp(p.buffer):p.buffer;return new p.constructor(te,p.byteOffset,p.length)}function im(p,O){if(p!==O){var te=p!==b,Je=p===null,Xt=p===p,Sr=sd(p),nn=O!==b,On=O===null,Yn=O===O,ri=sd(O);if(!On&&!ri&&!Sr&&p>O||Sr&&nn&&Yn&&!On&&!ri||Je&&nn&&Yn||!te&&Yn||!Xt)return 1;if(!Je&&!Sr&&!ri&&p<O||ri&&te&&Xt&&!Je&&!Sr||On&&te&&Xt||!nn&&Xt||!Yn)return-1}return 0}function dv(p,O,te){for(var Je=-1,Xt=p.criteria,Sr=O.criteria,nn=Xt.length,On=te.length;++Je<nn;){var Yn=im(Xt[Je],Sr[Je]);if(Yn){if(Je>=On)return Yn;var ri=te[Je];return Yn*(ri=="desc"?-1:1)}}return p.index-O.index}function Pp(p,O,te,Je){for(var Xt=-1,Sr=p.length,nn=te.length,On=-1,Yn=O.length,ri=sl(Sr-nn,0),oi=oa(Yn+ri),Ci=!Je;++On<Yn;)oi[On]=O[On];for(;++Xt<nn;)(Ci||Xt<Sr)&&(oi[te[Xt]]=p[Xt]);for(;ri--;)oi[On++]=p[Xt++];return oi}function om(p,O,te,Je){for(var Xt=-1,Sr=p.length,nn=-1,On=te.length,Yn=-1,ri=O.length,oi=sl(Sr-On,0),Ci=oa(oi+ri),Uo=!Je;++Xt<oi;)Ci[Xt]=p[Xt];for(var ws=Xt;++Yn<ri;)Ci[ws+Yn]=O[Yn];for(;++nn<On;)(Uo||Xt<Sr)&&(Ci[ws+te[nn]]=p[Xt++]);return Ci}function Lc(p,O){var te=-1,Je=p.length;for(O||(O=oa(Je));++te<Je;)O[te]=p[te];return O}function ah(p,O,te,Je){var Xt=!te;te||(te={});for(var Sr=-1,nn=O.length;++Sr<nn;){var On=O[Sr],Yn=Je?Je(te[On],p[On],On,te,p):b;Yn===b&&(Yn=p[On]),Xt?di(te,On,Yn):aa(te,On,Yn)}return te}function km(p,O){return ah(p,fa(p),O)}function Bm(p,O){return ah(p,ea(p),O)}function ih(p,O){return function(te,Je){var Xt=ns(te)?Ws:Ya,Sr=O?O():{};return Xt(te,p,ss(Je,2),Sr)}}function ap(p){return Gs(function(O,te){var Je=-1,Xt=te.length,Sr=Xt>1?te[Xt-1]:b,nn=Xt>2?te[2]:b;for(Sr=p.length>3&&typeof Sr=="function"?(Xt--,Sr):b,nn&&In(te[0],te[1],nn)&&(Sr=Xt<3?b:Sr,Xt=1),O=dl(O);++Je<Xt;){var On=te[Je];On&&p(O,On,Je,Sr)}return O})}function hv(p,O){return function(te,Je){if(te==null)return te;if(!Zs(te))return p(te,Je);for(var Xt=te.length,Sr=O?Xt:-1,nn=dl(te);(O?Sr--:++Sr<Xt)&&Je(nn[Sr],Sr,nn)!==!1;);return te}}function Cd(p){return function(O,te,Je){for(var Xt=-1,Sr=dl(O),nn=Je(O),On=nn.length;On--;){var Yn=nn[p?On:++Xt];if(te(Sr[Yn],Yn,Sr)===!1)break}return O}}function ng(p,O,te){var Je=O&Et,Xt=Vo(p);function Sr(){var nn=this&&this!==Se&&this instanceof Sr?Xt:p;return nn.apply(Je?te:this,arguments)}return Sr}function pv(p){return function(O){O=El(O);var te=Id(O)?qf(O):b,Je=te?te[0]:O.charAt(0),Xt=te?vf(te,1).join(""):O.slice(1);return Je[p]()+Xt}}function Wd(p){return function(O){return wh(t0(ly(O).replace(ql,"")),p,"")}}function Vo(p){return function(){var O=arguments;switch(O.length){case 0:return new p;case 1:return new p(O[0]);case 2:return new p(O[0],O[1]);case 3:return new p(O[0],O[1],O[2]);case 4:return new p(O[0],O[1],O[2],O[3]);case 5:return new p(O[0],O[1],O[2],O[3],O[4]);case 6:return new p(O[0],O[1],O[2],O[3],O[4],O[5]);case 7:return new p(O[0],O[1],O[2],O[3],O[4],O[5],O[6])}var te=Iu(p.prototype),Je=p.apply(te,O);return Ju(Je)?Je:te}}function zm(p,O,te){var Je=Vo(p);function Xt(){for(var Sr=arguments.length,nn=oa(Sr),On=Sr,Yn=Cl(Xt);On--;)nn[On]=arguments[On];var ri=Sr<3&&nn[0]!==Yn&&nn[Sr-1]!==Yn?[]:Jf(nn,Yn);if(Sr-=ri.length,Sr<te)return sm(p,O,Tp,Xt.placeholder,b,nn,ri,b,b,te-Sr);var oi=this&&this!==Se&&this instanceof Xt?Je:p;return ms(oi,this,nn)}return Xt}function wp(p){return function(O,te,Je){var Xt=dl(O);if(!Zs(O)){var Sr=ss(te,3);O=Zr(O),te=function(On){return Sr(Xt[On],On,Xt)}}var nn=p(O,te,Je);return nn>-1?Xt[Sr?O[nn]:nn]:b}}function ip(p){return xc(function(O){var te=O.length,Je=te,Xt=rc.prototype.thru;for(p&&O.reverse();Je--;){var Sr=O[Je];if(typeof Sr!="function")throw new lf(Z);if(Xt&&!nn&&Pl(Sr)=="wrapper")var nn=new rc([],!0)}for(Je=nn?Je:te;++Je<te;){Sr=O[Je];var On=Pl(Sr),Yn=On=="wrapper"?lp(Sr):b;Yn&&ua(Yn[0])&&Yn[1]==(Tt|ce|It|ye)&&!Yn[4].length&&Yn[9]==1?nn=nn[Pl(Yn[0])].apply(nn,Yn[3]):nn=Sr.length==1&&ua(Sr)?nn[On]():nn.thru(Sr)}return function(){var ri=arguments,oi=ri[0];if(nn&&ri.length==1&&ns(oi))return nn.plant(oi).value();for(var Ci=0,Uo=te?O[Ci].apply(this,ri):oi;++Ci<te;)Uo=O[Ci].call(this,Uo);return Uo}})}function Tp(p,O,te,Je,Xt,Sr,nn,On,Yn,ri){var oi=O&Tt,Ci=O&Et,Uo=O&We,ws=O&(ce|Vt),rl=O&lt,su=Uo?b:Vo(p);function ul(){for(var Eu=arguments.length,Nu=oa(Eu),Ov=Eu;Ov--;)Nu[Ov]=arguments[Ov];if(ws)var Uh=Cl(ul),fp=Qf(Nu,Uh);if(Je&&(Nu=Pp(Nu,Je,Xt,ws)),Sr&&(Nu=om(Nu,Sr,nn,ws)),Eu-=fp,ws&&Eu<ri){var Fd=Jf(Nu,Uh);return sm(p,O,Tp,ul.placeholder,te,Nu,Fd,On,Yn,ri-Eu)}var hm=Ci?te:this,pm=Uo?hm[p]:p;return Eu=Nu.length,On?Nu=ls(Nu,On):rl&&Eu>1&&Nu.reverse(),oi&&Yn<Eu&&(Nu.length=Yn),this&&this!==Se&&this instanceof ul&&(pm=su||Vo(pm)),pm.apply(hm,Nu)}return ul}function Iv(p,O){return function(te,Je){return ln(te,p,O(Je),{})}}function op(p,O){return function(te,Je){var Xt;if(te===b&&Je===b)return O;if(te!==b&&(Xt=te),Je!==b){if(Xt===b)return Je;typeof te=="string"||typeof Je=="string"?(te=Hl(te),Je=Hl(Je)):(te=Av(te),Je=Av(Je)),Xt=p(te,Je)}return Xt}}function Ap(p){return xc(function(O){return O=Ms(O,wc(ss())),Gs(function(te){var Je=this;return p(O,function(Xt){return ms(Xt,Je,te)})})})}function fc(p,O){O=O===b?" ":Hl(O);var te=O.length;if(te<2)return te?Ep(O,p):O;var Je=Ep(O,Rh(p/Rd(O)));return Id(O)?vf(qf(Je),0,p).join(""):Je.slice(0,p)}function Mp(p,O,te,Je){var Xt=O&Et,Sr=Vo(p);function nn(){for(var On=-1,Yn=arguments.length,ri=-1,oi=Je.length,Ci=oa(oi+Yn),Uo=this&&this!==Se&&this instanceof nn?Sr:p;++ri<oi;)Ci[ri]=Je[ri];for(;Yn--;)Ci[ri++]=arguments[++On];return ms(Uo,Xt?te:this,Ci)}return nn}function dc(p){return function(O,te,Je){return Je&&typeof Je!="number"&&In(O,te,Je)&&(te=Je=b),O=xv(O),te===b?(te=O,O=0):te=xv(te),Je=Je===b?O<te?1:-1:xv(Je),tm(O,te,Je,p)}}function $l(p){return function(O,te){return typeof O=="string"&&typeof te=="string"||(O=Ql(O),te=Ql(te)),p(O,te)}}function sm(p,O,te,Je,Xt,Sr,nn,On,Yn,ri){var oi=O&ce,Ci=oi?nn:b,Uo=oi?b:nn,ws=oi?Sr:b,rl=oi?b:Sr;O|=oi?It:Mt,O&=~(oi?Mt:It),O&ct||(O&=~(Et|We));var su=[p,O,Xt,ws,Ci,rl,Uo,On,Yn,ri],ul=te.apply(b,su);return ua(p)&&wi(ul,su),ul.placeholder=Je,cs(ul,p,O)}function lm(p){var O=ol[p];return function(te,Je){if(te=Ql(te),Je=Je==null?0:Mu(wl(Je),292),Je&&_s(te)){var Xt=(El(te)+"e").split("e"),Sr=O(Xt[0]+"e"+(+Xt[1]+Je));return Xt=(El(Sr)+"e").split("e"),+(Xt[0]+"e"+(+Xt[1]-Je))}return O(te)}}var Rv=_u&&1/Bd(new _u([,-0]))[1]==ee?function(p){return new _u(p)}:Fy;function ag(p){return function(O){var te=Nn(O);return te==q?Of(O):te==U?fh(O):sv(O,p(O))}}function sp(p,O,te,Je,Xt,Sr,nn,On){var Yn=O&We;if(!Yn&&typeof p!="function")throw new lf(Z);var ri=Je?Je.length:0;if(ri||(O&=~(It|Mt),Je=Xt=b),nn=nn===b?nn:sl(wl(nn),0),On=On===b?On:wl(On),ri-=Xt?Xt.length:0,O&Mt){var oi=Je,Ci=Xt;Je=Xt=b}var Uo=Yn?b:lp(p),ws=[p,O,te,Je,Xt,oi,Ci,Sr,nn,On];if(Uo&&Qa(ws,Uo),p=ws[0],O=ws[1],te=ws[2],Je=ws[3],Xt=ws[4],On=ws[9]=ws[9]===b?Yn?0:p.length:sl(ws[9]-ri,0),!On&&O&(ce|Vt)&&(O&=~(ce|Vt)),!O||O==Et)var rl=ng(p,O,te);else O==ce||O==Vt?rl=zm(p,O,On):(O==It||O==(Et|It))&&!Xt.length?rl=Mp(p,O,te,Je):rl=Tp.apply(b,ws);var su=Uo?tg:wi;return cs(su(rl,ws),p,O)}function Lv(p,O,te,Je){return p===b||oc(p,uf[te])&&!hl.call(Je,te)?O:p}function bm(p,O,te,Je,Xt,Sr){return Ju(p)&&Ju(O)&&(Sr.set(O,p),Kl(p,O,b,bm,Sr),Sr.delete(O)),p}function jg(p){return bv(p)?b:p}function xm(p,O,te,Je,Xt,Sr){var nn=te&Ce,On=p.length,Yn=O.length;if(On!=Yn&&!(nn&&Yn>On))return!1;var ri=Sr.get(p),oi=Sr.get(O);if(ri&&oi)return ri==O&&oi==p;var Ci=-1,Uo=!0,ws=te&et?new mt:b;for(Sr.set(p,O),Sr.set(O,p);++Ci<On;){var rl=p[Ci],su=O[Ci];if(Je)var ul=nn?Je(su,rl,Ci,O,p,Sr):Je(rl,su,Ci,p,O,Sr);if(ul!==b){if(ul)continue;Uo=!1;break}if(ws){if(!zl(O,function(Eu,Nu){if(!Hf(ws,Nu)&&(rl===Eu||Xt(rl,Eu,te,Je,Sr)))return ws.push(Nu)})){Uo=!1;break}}else if(!(rl===su||Xt(rl,su,te,Je,Sr))){Uo=!1;break}}return Sr.delete(p),Sr.delete(O),Uo}function Cm(p,O,te,Je,Xt,Sr,nn){switch(te){case Nt:if(p.byteLength!=O.byteLength||p.byteOffset!=O.byteOffset)return!1;p=p.buffer,O=O.buffer;case Be:return!(p.byteLength!=O.byteLength||!Sr(new hh(p),new hh(O)));case Ot:case Xe:case S:return oc(+p,+O);case Ne:return p.name==O.name&&p.message==O.message;case Me:case le:return p==O+"";case q:var On=Of;case U:var Yn=Je&Ce;if(On||(On=Bd),p.size!=O.size&&!Yn)return!1;var ri=nn.get(p);if(ri)return ri==O;Je|=et,nn.set(p,O);var oi=xm(On(p),On(O),Je,Xt,Sr,nn);return nn.delete(p),oi;case Le:if(Mc)return Mc.call(p)==Mc.call(O)}return!1}function ig(p,O,te,Je,Xt,Sr){var nn=te&Ce,On=_p(p),Yn=On.length,ri=_p(O),oi=ri.length;if(Yn!=oi&&!nn)return!1;for(var Ci=Yn;Ci--;){var Uo=On[Ci];if(!(nn?Uo in O:hl.call(O,Uo)))return!1}var ws=Sr.get(p),rl=Sr.get(O);if(ws&&rl)return ws==O&&rl==p;var su=!0;Sr.set(p,O),Sr.set(O,p);for(var ul=nn;++Ci<Yn;){Uo=On[Ci];var Eu=p[Uo],Nu=O[Uo];if(Je)var Ov=nn?Je(Nu,Eu,Uo,O,p,Sr):Je(Eu,Nu,Uo,p,O,Sr);if(!(Ov===b?Eu===Nu||Xt(Eu,Nu,te,Je,Sr):Ov)){su=!1;break}ul||(ul=Uo=="constructor")}if(su&&!ul){var Uh=p.constructor,fp=O.constructor;Uh!=fp&&"constructor"in p&&"constructor"in O&&!(typeof Uh=="function"&&Uh instanceof Uh&&typeof fp=="function"&&fp instanceof fp)&&(su=!1)}return Sr.delete(p),Sr.delete(O),su}function xc(p){return es(Si(p,b,Rr),p+"")}function _p(p){return Hd(p,Zr,fa)}function kc(p){return Hd(p,on,ea)}var lp=Mf?function(p){return Mf.get(p)}:Fy;function Pl(p){for(var O=p.name+"",te=Ac[O],Je=hl.call(Ac,O)?te.length:0;Je--;){var Xt=te[Je],Sr=Xt.func;if(Sr==null||Sr==p)return Xt.name}return O}function Cl(p){var O=hl.call(dr,"placeholder")?dr:p;return O.placeholder}function ss(){var p=dr.iteratee||n0;return p=p===n0?Yl:p,arguments.length?p(arguments[0],arguments[1]):p}function _t(p,O){var te=p.__data__;return ki(O)?te[typeof O=="string"?"string":"hash"]:te.map}function qt(p){for(var O=Zr(p),te=O.length;te--;){var Je=O[te],Xt=p[Je];O[te]=[Je,Xt,ta(Xt)]}return O}function Ur(p,O){var te=Xh(p,O);return So(te)?te:b}function jn(p){var O=hl.call(p,wf),te=p[wf];try{p[wf]=b;var Je=!0}catch(Sr){}var Xt=bi.call(p);return Je&&(O?p[wf]=te:delete p[wf]),Xt}var fa=Tf?function(p){return p==null?[]:(p=dl(p),Ef(Tf(p),function(O){return ep.call(p,O)}))}:s0,ea=Tf?function(p){for(var O=[];p;)zf(O,fa(p)),p=td(p);return O}:s0,Nn=Ft;(Io&&Nn(new Io(new ArrayBuffer(1)))!=Nt||Mi&&Nn(new Mi)!=q||df&&Nn(df.resolve())!=Fe||_u&&Nn(new _u)!=U||cc&&Nn(new cc)!=St)&&(Nn=function(p){var O=Ft(p),te=O==fe?p.constructor:b,Je=te?Zl(te):"";if(Je)switch(Je){case qd:return Nt;case Dl:return q;case yu:return Fe;case eh:return U;case _f:return St}return O});function mn(p,O,te){for(var Je=-1,Xt=te.length;++Je<Xt;){var Sr=te[Je],nn=Sr.size;switch(Sr.type){case"drop":p+=nn;break;case"dropRight":O-=nn;break;case"take":O=Mu(O,p+nn);break;case"takeRight":p=sl(p,O-nn);break}}return{start:p,end:O}}function Ua(p){var O=p.match(nr);return O?O[1].split(lr):[]}function ja(p,O,te){O=Rc(O,p);for(var Je=-1,Xt=O.length,Sr=!1;++Je<Xt;){var nn=Lu(O[Je]);if(!(Sr=p!=null&&te(p,nn)))break;p=p[nn]}return Sr||++Je!=Xt?Sr:(Xt=p==null?0:p.length,!!Xt&&Lp(Xt)&&Fn(nn,Xt)&&(ns(p)||rf(p)))}function ei(p){var O=p.length,te=new p.constructor(O);return O&&typeof p[0]=="string"&&hl.call(p,"index")&&(te.index=p.index,te.input=p.input),te}function Va(p){return typeof p.constructor=="function"&&!yi(p)?Iu(td(p)):{}}function si(p,O,te){var Je=p.constructor;switch(O){case Be:return Yp(p);case Ot:case Xe:return new Je(+p);case Nt:return cv(p,te);case kt:case ft:case ut:case Ze:case Qt:case ar:case zr:case qr:case tn:return fv(p,te);case q:return new Je;case S:case le:return new Je(p);case Me:return $p(p);case U:return new Je;case Le:return xd(p)}}function ai(p,O){var te=O.length;if(!te)return p;var Je=te-1;return O[Je]=(te>1?"& ":"")+O[Je],O=O.join(te>2?", ":" "),p.replace($t,`{
/* [wrapped with `+O+`] */
`)}function Ha(p){return ns(p)||rf(p)||!!(gu&&p&&p[gu])}function Fn(p,O){var te=typeof p;return O=O==null?Ie:O,!!O&&(te=="number"||te!="symbol"&&Ca.test(p))&&p>-1&&p%1==0&&p<O}function In(p,O,te){if(!Ju(te))return!1;var Je=typeof O;return(Je=="number"?Zs(te)&&Fn(O,te.length):Je=="string"&&O in te)?oc(te[O],p):!1}function Wa(p,O){if(ns(p))return!1;var te=typeof p;return te=="number"||te=="symbol"||te=="boolean"||p==null||sd(p)?!0:de.test(p)||!rt.test(p)||O!=null&&p in dl(O)}function ki(p){var O=typeof p;return O=="string"||O=="number"||O=="symbol"||O=="boolean"?p!=="__proto__":p===null}function ua(p){var O=Pl(p),te=dr[O];if(typeof te!="function"||!(O in $s.prototype))return!1;if(p===te)return!0;var Je=lp(te);return!!Je&&p===Je[0]}function vo(p){return!!Al&&Al in p}var Pi=Pf?Pd:jy;function yi(p){var O=p&&p.constructor,te=typeof O=="function"&&O.prototype||uf;return p===te}function ta(p){return p===p&&!Ju(p)}function na(p,O){return function(te){return te==null?!1:te[p]===O&&(O!==b||p in dl(te))}}function Ii(p){var O=Hu(p,function(Je){return te.size===Te&&te.clear(),Je}),te=O.cache;return O}function Qa(p,O){var te=p[1],Je=O[1],Xt=te|Je,Sr=Xt<(Et|We|Tt),nn=Je==Tt&&te==ce||Je==Tt&&te==ye&&p[7].length<=O[8]||Je==(Tt|ye)&&O[7].length<=O[8]&&te==ce;if(!(Sr||nn))return p;Je&Et&&(p[2]=O[2],Xt|=te&Et?0:ct);var On=O[3];if(On){var Yn=p[3];p[3]=Yn?Pp(Yn,On,O[4]):On,p[4]=Yn?Jf(p[3],at):O[4]}return On=O[5],On&&(Yn=p[5],p[5]=Yn?om(Yn,On,O[6]):On,p[6]=Yn?Jf(p[5],at):O[6]),On=O[7],On&&(p[7]=On),Je&Tt&&(p[8]=p[8]==null?O[8]:Mu(p[8],O[8])),p[9]==null&&(p[9]=O[9]),p[0]=O[0],p[1]=Xt,p}function Za(p){var O=[];if(p!=null)for(var te in dl(p))O.push(te);return O}function Ei(p){return bi.call(p)}function Si(p,O,te){return O=sl(O===b?p.length-1:O,0),function(){for(var Je=arguments,Xt=-1,Sr=sl(Je.length-O,0),nn=oa(Sr);++Xt<Sr;)nn[Xt]=Je[O+Xt];Xt=-1;for(var On=oa(O+1);++Xt<O;)On[Xt]=Je[Xt];return On[O]=te(nn),ms(p,this,On)}}function Ss(p,O){return O.length<2?p:Ru(p,mh(O,0,-1))}function ls(p,O){for(var te=p.length,Je=Mu(O.length,te),Xt=Lc(p);Je--;){var Sr=O[Je];p[Je]=Fn(Sr,te)?Xt[Sr]:b}return p}function xi(p,O){if(!(O==="constructor"&&typeof p[O]=="function")&&O!="__proto__")return p[O]}var wi=eu(tg),Fo=Gf||function(p,O){return Se.setTimeout(p,O)},es=eu(nm);function cs(p,O,te){var Je=O+"";return es(p,ai(Je,xu(Ua(Je),te)))}function eu(p){var O=0,te=0;return function(){var Je=ff(),Xt=At-(Je-te);if(te=Je,Xt>0){if(++O>=Jt)return arguments[0]}else O=0;return p.apply(b,arguments)}}function bu(p,O){var te=-1,Je=p.length,Xt=Je-1;for(O=O===b?Je:O;++te<O;){var Sr=Kp(te,Xt),nn=p[Sr];p[Sr]=p[te],p[te]=nn}return p.length=O,p}var js=Ii(function(p){var O=[];return p.charCodeAt(0)===46&&O.push(""),p.replace(Pe,function(te,Je,Xt,Sr){O.push(Xt?Sr.replace(Wr,"$1"):Je||te)}),O});function Lu(p){if(typeof p=="string"||sd(p))return p;var O=p+"";return O=="0"&&1/p==-ee?"-0":O}function Zl(p){if(p!=null){try{return ru.call(p)}catch(O){}try{return p+""}catch(O){}}return""}function xu(p,O){return zu(ht,function(te){var Je="_."+te[0];O&te[1]&&!hd(p,Je)&&p.push(Je)}),p.sort()}function hu(p){if(p instanceof $s)return p.clone();var O=new rc(p.__wrapped__,p.__chain__);return O.__actions__=Lc(p.__actions__),O.__index__=p.__index__,O.__values__=p.__values__,O}function mf(p,O,te){(te?In(p,O,te):O===b)?O=1:O=sl(wl(O),0);var Je=p==null?0:p.length;if(!Je||O<1)return[];for(var Xt=0,Sr=0,nn=oa(Rh(Je/O));Xt<Je;)nn[Sr++]=mh(p,Xt,Xt+=O);return nn}function Xc(p){for(var O=-1,te=p==null?0:p.length,Je=0,Xt=[];++O<te;){var Sr=p[O];Sr&&(Xt[Je++]=Sr)}return Xt}function Su(){var p=arguments.length;if(!p)return[];for(var O=oa(p-1),te=arguments[0],Je=p;Je--;)O[Je-1]=arguments[Je];return zf(ns(te)?Lc(te):[te],zs(O,1))}var ac=Gs(function(p,O){return Gu(p)?os(p,zs(O,1,Gu,!0)):[]}),Os=Gs(function(p,O){var te=Jr(O);return Gu(te)&&(te=b),Gu(p)?os(p,zs(O,1,Gu,!0),ss(te,2)):[]}),Lf=Gs(function(p,O){var te=Jr(O);return Gu(te)&&(te=b),Gu(p)?os(p,zs(O,1,Gu,!0),b,te):[]});function _l(p,O,te){var Je=p==null?0:p.length;return Je?(O=te||O===b?1:wl(O),mh(p,O<0?0:O,Je)):[]}function Bc(p,O,te){var Je=p==null?0:p.length;return Je?(O=te||O===b?1:wl(O),O=Je-O,mh(p,0,O<0?0:O)):[]}function Go(p,O){return p&&p.length?nh(p,ss(O,3),!0,!0):[]}function ds(p,O){return p&&p.length?nh(p,ss(O,3),!0):[]}function Ou(p,O,te,Je){var Xt=p==null?0:p.length;return Xt?(te&&typeof te!="number"&&In(p,O,te)&&(te=0,Je=Xt),Xs(p,O,te,Je)):[]}function Qc(p,O,te){var Je=p==null?0:p.length;if(!Je)return-1;var Xt=te==null?0:wl(te);return Xt<0&&(Xt=sl(Je+Xt,0)),Wc(p,ss(O,3),Xt)}function gf(p,O,te){var Je=p==null?0:p.length;if(!Je)return-1;var Xt=Je-1;return te!==b&&(Xt=wl(te),Xt=te<0?sl(Je+Xt,0):Mu(Xt,Je-1)),Wc(p,ss(O,3),Xt,!0)}function Rr(p){var O=p==null?0:p.length;return O?zs(p,1):[]}function $n(p){var O=p==null?0:p.length;return O?zs(p,ee):[]}function kn(p,O){var te=p==null?0:p.length;return te?(O=O===b?1:wl(O),zs(p,O)):[]}function Ri(p){for(var O=-1,te=p==null?0:p.length,Je={};++O<te;){var Xt=p[O];Je[Xt[0]]=Xt[1]}return Je}function As(p){return p&&p.length?p[0]:b}function wr(p,O,te){var Je=p==null?0:p.length;if(!Je)return-1;var Xt=te==null?0:wl(te);return Xt<0&&(Xt=sl(Je+Xt,0)),mc(p,O,Xt)}function tr(p){var O=p==null?0:p.length;return O?mh(p,0,-1):[]}var en=Gs(function(p){var O=Ms(p,Fh);return O.length&&O[0]===p[0]?cr(O):[]}),Pn=Gs(function(p){var O=Jr(p),te=Ms(p,Fh);return O===Jr(te)?O=b:te.pop(),te.length&&te[0]===p[0]?cr(te,ss(O,2)):[]}),wn=Gs(function(p){var O=Jr(p),te=Ms(p,Fh);return O=typeof O=="function"?O:b,O&&te.pop(),te.length&&te[0]===p[0]?cr(te,b,O):[]});function rn(p,O){return p==null?"":yd.call(p,O)}function Jr(p){var O=p==null?0:p.length;return O?p[O-1]:b}function sn(p,O,te){var Je=p==null?0:p.length;if(!Je)return-1;var Xt=Je;return te!==b&&(Xt=wl(te),Xt=Xt<0?sl(Je+Xt,0):Mu(Xt,Je-1)),O===O?yp(p,O,Xt):Wc(p,Vf,Xt,!0)}function xr(p,O){return p&&p.length?hf(p,wl(O)):b}var jr=Gs(Mr);function Mr(p,O){return p&&p.length&&O&&O.length?lv(p,O):p}function An(p,O,te){return p&&p.length&&O&&O.length?lv(p,O,ss(te,2)):p}function Ln(p,O,te){return p&&p.length&&O&&O.length?lv(p,O,b,te):p}var Aa=xc(function(p,O){var te=p==null?0:p.length,Je=Eo(p,O);return Tv(p,Ms(O,function(Xt){return Fn(Xt,te)?+Xt:Xt}).sort(im)),Je});function fi(p,O){var te=[];if(!(p&&p.length))return te;var Je=-1,Xt=[],Sr=p.length;for(O=ss(O,3);++Je<Sr;){var nn=p[Je];O(nn,Je,p)&&(te.push(nn),Xt.push(Je))}return Tv(p,Xt),te}function ui(p){return p==null?p:ph.call(p)}function Ti(p,O,te){var Je=p==null?0:p.length;return Je?(te&&typeof te!="number"&&In(p,O,te)?(O=0,te=Je):(O=O==null?0:wl(O),te=te===b?Je:wl(te)),mh(p,O,te)):[]}function ii(p,O){return rp(p,O)}function no(p,O,te){return ym(p,O,ss(te,2))}function Vi(p,O){var te=p==null?0:p.length;if(te){var Je=rp(p,O);if(Je<te&&oc(p[Je],O))return Je}return-1}function Xi(p,O){return rp(p,O,!0)}function Qi(p,O,te){return ym(p,O,ss(te,2),!0)}function ao(p,O){var te=p==null?0:p.length;if(te){var Je=rp(p,O,!0)-1;if(oc(p[Je],O))return Je}return-1}function ts(p){return p&&p.length?Ic(p):[]}function Fl(p,O){return p&&p.length?Ic(p,ss(O,2)):[]}function ic(p){var O=p==null?0:p.length;return O?mh(p,1,O):[]}function Gd(p,O,te){return p&&p.length?(O=te||O===b?1:wl(O),mh(p,0,O<0?0:O)):[]}function Dd(p,O,te){var Je=p==null?0:p.length;return Je?(O=te||O===b?1:wl(O),O=Je-O,mh(p,O<0?0:O,Je)):[]}function od(p,O){return p&&p.length?nh(p,ss(O,3),!1,!0):[]}function Il(p,O){return p&&p.length?nh(p,ss(O,3)):[]}var Nl=Gs(function(p){return gh(zs(p,1,Gu,!0))}),Ed=Gs(function(p){var O=Jr(p);return Gu(O)&&(O=b),gh(zs(p,1,Gu,!0),ss(O,2))}),vv=Gs(function(p){var O=Jr(p);return O=typeof O=="function"?O:b,gh(zs(p,1,Gu,!0),b,O)});function yh(p){return p&&p.length?gh(p):[]}function Um(p,O){return p&&p.length?gh(p,ss(O,2)):[]}function kg(p,O){return O=typeof O=="function"?O:b,p&&p.length?gh(p,b,O):[]}function Vm(p){if(!(p&&p.length))return[];var O=0;return p=Ef(p,function(te){if(Gu(te))return O=sl(te.length,O),!0}),uc(O,function(te){return Ms(p,vd(te))})}function Dv(p,O){if(!(p&&p.length))return[];var te=Vm(p);return O==null?te:Ms(te,function(Je){return ms(O,b,Je)})}var Em=Gs(function(p,O){return Gu(p)?os(p,O):[]}),Cg=Gs(function(p){return Mv(Ef(p,Gu))}),hc=Gs(function(p){var O=Jr(p);return Gu(O)&&(O=b),Mv(Ef(p,Gu),ss(O,2))}),Fv=Gs(function(p){var O=Jr(p);return O=typeof O=="function"?O:b,Mv(Ef(p,Gu),b,O)}),mv=Gs(Vm);function og(p,O){return Dh(p||[],O||[],aa)}function Eg(p,O){return Dh(p||[],O||[],Zp)}var Nv=Gs(function(p){var O=p.length,te=O>1?p[O-1]:b;return te=typeof te=="function"?(p.pop(),te):b,Dv(p,te)});function Nh(p){var O=dr(p);return O.__chain__=!0,O}function Xp(p,O){return O(p),p}function gv(p,O){return O(p)}var Sg=xc(function(p){var O=p.length,te=O?p[0]:0,Je=this.__wrapped__,Xt=function(Sr){return Eo(Sr,p)};return O>1||this.__actions__.length||!(Je instanceof $s)||!Fn(te)?this.thru(Xt):(Je=Je.slice(te,+te+(O?1:0)),Je.__actions__.push({func:gv,args:[Xt],thisArg:b}),new rc(Je,this.__chain__).thru(function(Sr){return O&&!Sr.length&&Sr.push(b),Sr}))});function Qp(){return Nh(this)}function Dc(){return new rc(this.value(),this.__chain__)}function Ip(){this.__values__===b&&(this.__values__=Gm(this.value()));var p=this.__index__>=this.__values__.length,O=p?b:this.__values__[this.__index__++];return{done:p,value:O}}function Bg(){return this}function e(p){for(var O,te=this;te instanceof nd;){var Je=hu(te);Je.__index__=0,Je.__values__=b,O?Xt.__wrapped__=Je:O=Je;var Xt=Je;te=te.__wrapped__}return Xt.__wrapped__=p,O}function t(){var p=this.__wrapped__;if(p instanceof $s){var O=p;return this.__actions__.length&&(O=new $s(this)),O=O.reverse(),O.__actions__.push({func:gv,args:[ui],thisArg:b}),new rc(O,this.__chain__)}return this.thru(ui)}function o(){return np(this.__wrapped__,this.__actions__)}var m=ih(function(p,O,te){hl.call(p,te)?++p[te]:di(p,te,1)});function E(p,O,te){var Je=ns(p)?Ys:zo;return te&&In(p,O,te)&&(O=b),Je(p,ss(O,3))}function D(p,O){var te=ns(p)?Ef:au;return te(p,ss(O,3))}var V=wp(Qc),ae=wp(gf);function je(p,O){return zs(Gr(p,O),1)}function tt(p,O){return zs(Gr(p,O),ee)}function wt(p,O,te){return te=te===b?1:wl(te),zs(Gr(p,O),te)}function Bt(p,O){var te=ns(p)?zu:qi;return te(p,ss(O,3))}function Kt(p,O){var te=ns(p)?Pc:hs;return te(p,ss(O,3))}var pr=ih(function(p,O,te){hl.call(p,te)?p[te].push(O):di(p,te,[O])});function Ir(p,O,te,Je){p=Zs(p)?p:ks(p),te=te&&!Je?wl(te):0;var Xt=p.length;return te<0&&(te=sl(Xt+te,0)),qp(p)?te<=Xt&&p.indexOf(O,te)>-1:!!Xt&&mc(p,O,te)>-1}var Ar=Gs(function(p,O,te){var Je=-1,Xt=typeof O=="function",Sr=Zs(p)?oa(p.length):[];return qi(p,function(nn){Sr[++Je]=Xt?ms(O,nn,te):Mn(nn,O,te)}),Sr}),$r=ih(function(p,O,te){di(p,te,O)});function Gr(p,O){var te=ns(p)?Ms:Ds;return te(p,ss(O,3))}function gn(p,O,te,Je){return p==null?[]:(ns(O)||(O=O==null?[]:[O]),te=Je?b:te,ns(te)||(te=te==null?[]:[te]),pf(p,O,te))}var Dn=ih(function(p,O,te){p[te?0:1].push(O)},function(){return[[],[]]});function Kn(p,O,te){var Je=ns(p)?wh:Yd,Xt=arguments.length<3;return Je(p,ss(O,4),te,Xt,qi)}function ha(p,O,te){var Je=ns(p)?_d:Yd,Xt=arguments.length<3;return Je(p,ss(O,4),te,Xt,hs)}function da(p,O){var te=ns(p)?Ef:au;return te(p,yf(ss(O,3)))}function Ja(p){var O=ns(p)?hn:rh;return O(p)}function ti(p,O,te){(te?In(p,O,te):O===b)?O=1:O=wl(O);var Je=ns(p)?pn:rm;return Je(p,O)}function Hi(p){var O=ns(p)?la:gm;return O(p)}function co(p){if(p==null)return 0;if(Zs(p))return qp(p)?Rd(p):p.length;var O=Nn(p);return O==q||O==U?p.size:Ml(p).length}function mo(p,O,te){var Je=ns(p)?zl:rg;return te&&In(p,O,te)&&(O=b),Je(p,ss(O,3))}var Wi=Gs(function(p,O){if(p==null)return[];var te=O.length;return te>1&&In(p,O[0],O[1])?O=[]:te>2&&In(O[0],O[1],O[2])&&(O=[O[0]]),pf(p,zs(O,1),[])}),Jo=Qd||function(){return Se.Date.now()};function Ko(p,O){if(typeof O!="function")throw new lf(Z);return p=wl(p),function(){if(--p<1)return O.apply(this,arguments)}}function Yi(p,O,te){return O=te?b:O,O=p&&O==null?p.length:O,sp(p,Tt,b,b,b,b,O)}function Ks(p,O){var te;if(typeof O!="function")throw new lf(Z);return p=wl(p),function(){return--p>0&&(te=O.apply(this,arguments)),p<=1&&(O=b),te}}var Ps=Gs(function(p,O,te){var Je=Et;if(te.length){var Xt=Jf(te,Cl(Ps));Je|=It}return sp(p,Je,O,te,Xt)}),Rl=Gs(function(p,O,te){var Je=Et|We;if(te.length){var Xt=Jf(te,Cl(Rl));Je|=It}return sp(O,Je,p,te,Xt)});function rs(p,O,te){O=te?b:O;var Je=sp(p,ce,b,b,b,b,b,O);return Je.placeholder=rs.placeholder,Je}function Us(p,O,te){O=te?b:O;var Je=sp(p,Vt,b,b,b,b,b,O);return Je.placeholder=Us.placeholder,Je}function Cu(p,O,te){var Je,Xt,Sr,nn,On,Yn,ri=0,oi=!1,Ci=!1,Uo=!0;if(typeof p!="function")throw new lf(Z);O=Ql(O)||0,Ju(te)&&(oi=!!te.leading,Ci="maxWait"in te,Sr=Ci?sl(Ql(te.maxWait)||0,O):Sr,Uo="trailing"in te?!!te.trailing:Uo);function ws(Fd){var hm=Je,pm=Xt;return Je=Xt=b,ri=Fd,nn=p.apply(pm,hm),nn}function rl(Fd){return ri=Fd,On=Fo(Eu,O),oi?ws(Fd):nn}function su(Fd){var hm=Fd-Yn,pm=Fd-ri,L0=O-hm;return Ci?Mu(L0,Sr-pm):L0}function ul(Fd){var hm=Fd-Yn,pm=Fd-ri;return Yn===b||hm>=O||hm<0||Ci&&pm>=Sr}function Eu(){var Fd=Jo();if(ul(Fd))return Nu(Fd);On=Fo(Eu,su(Fd))}function Nu(Fd){return On=b,Uo&&Je?ws(Fd):(Je=Xt=b,nn)}function Ov(){On!==b&&_v(On),ri=0,Je=Yn=Xt=On=b}function Uh(){return On===b?nn:Nu(Jo())}function fp(){var Fd=Jo(),hm=ul(Fd);if(Je=arguments,Xt=this,Yn=Fd,hm){if(On===b)return rl(Yn);if(Ci)return _v(On),On=Fo(Eu,O),ws(Yn)}return On===b&&(On=Fo(Eu,O)),nn}return fp.cancel=Ov,fp.flush=Uh,fp}var Du=Gs(function(p,O){return Qo(p,1,O)}),Vu=Gs(function(p,O,te){return Qo(p,Ql(O)||0,te)});function Qu(p){return sp(p,lt)}function Hu(p,O){if(typeof p!="function"||O!=null&&typeof O!="function")throw new lf(Z);var te=function(){var Je=arguments,Xt=O?O.apply(this,Je):Je[0],Sr=te.cache;if(Sr.has(Xt))return Sr.get(Xt);var nn=p.apply(this,Je);return te.cache=Sr.set(Xt,nn)||Sr,nn};return te.cache=new(Hu.Cache||l),te}Hu.Cache=l;function yf(p){if(typeof p!="function")throw new lf(Z);return function(){var O=arguments;switch(O.length){case 0:return!p.call(this);case 1:return!p.call(this,O[0]);case 2:return!p.call(this,O[0],O[1]);case 3:return!p.call(this,O[0],O[1],O[2])}return!p.apply(this,O)}}function Jc(p){return Ks(2,p)}var bf=Op(function(p,O){O=O.length==1&&ns(O[0])?Ms(O[0],wc(ss())):Ms(zs(O,1),wc(ss()));var te=O.length;return Gs(function(Je){for(var Xt=-1,Sr=Mu(Je.length,te);++Xt<Sr;)Je[Xt]=O[Xt].call(this,Je[Xt]);return ms(p,this,Je)})}),Wu=Gs(function(p,O){var te=Jf(O,Cl(Wu));return sp(p,It,b,O,te)}),Fc=Gs(function(p,O){var te=Jf(O,Cl(Fc));return sp(p,Mt,b,O,te)}),qc=xc(function(p,O){return sp(p,ye,b,b,b,O)});function ef(p,O){if(typeof p!="function")throw new lf(Z);return O=O===b?O:wl(O),Gs(p,O)}function tf(p,O){if(typeof p!="function")throw new lf(Z);return O=O==null?0:sl(wl(O),0),Gs(function(te){var Je=te[O],Xt=vf(te,0,O);return Je&&zf(Xt,Je),ms(p,this,Xt)})}function jl(p,O,te){var Je=!0,Xt=!0;if(typeof p!="function")throw new lf(Z);return Ju(te)&&(Je="leading"in te?!!te.leading:Je,Xt="trailing"in te?!!te.trailing:Xt),Cu(p,O,{leading:Je,maxWait:O,trailing:Xt})}function yl(p){return Yi(p,1)}function Xl(p,O){return Wu(Sp(O),p)}function Fu(){if(!arguments.length)return[];var p=arguments[0];return ns(p)?p:[p]}function Sd(p){return Wo(p,I)}function Pu(p,O){return O=typeof O=="function"?O:b,Wo(p,I,O)}function iu(p){return Wo(p,ve|I)}function zc(p,O){return O=typeof O=="function"?O:b,Wo(p,ve|I,O)}function Is(p,O){return O==null||_i(p,O,Zr(O))}function oc(p,O){return p===O||p!==p&&O!==O}var bh=$l(Ht),up=$l(function(p,O){return p>=O}),rf=Cn(function(){return arguments}())?Cn:function(p){return pc(p)&&hl.call(p,"callee")&&!ep.call(p,"callee")},ns=oa.isArray,yv=ma?wc(ma):qn;function Zs(p){return p!=null&&Lp(p.length)&&!Pd(p)}function Gu(p){return pc(p)&&Zs(p)}function oh(p){return p===!0||p===!1||pc(p)&&Ft(p)==Ot}var Od=gc||jy,Sm=Ia?wc(Ia):Ea;function um(p){return pc(p)&&p.nodeType===1&&!bv(p)}function Jp(p){if(p==null)return!0;if(Zs(p)&&(ns(p)||typeof p=="string"||typeof p.splice=="function"||Od(p)||Dp(p)||rf(p)))return!p.length;var O=Nn(p);if(O==q||O==U)return!p.size;if(yi(p))return!Ml(p).length;for(var te in p)if(hl.call(p,te))return!1;return!0}function Hm(p,O){return ji(p,O)}function jv(p,O,te){te=typeof te=="function"?te:b;var Je=te?te(p,O):b;return Je===b?ji(p,O,b,te):!!Je}function cm(p){if(!pc(p))return!1;var O=Ft(p);return O==Ne||O==xt||typeof p.message=="string"&&typeof p.name=="string"&&!bv(p)}function Rp(p){return typeof p=="number"&&_s(p)}function Pd(p){if(!Ju(p))return!1;var O=Ft(p);return O==B||O==z||O==nt||O==pe}function Om(p){return typeof p=="number"&&p==wl(p)}function Lp(p){return typeof p=="number"&&p>-1&&p%1==0&&p<=Ie}function Ju(p){var O=typeof p;return p!=null&&(O=="object"||O=="function")}function pc(p){return p!=null&&typeof p=="object"}var Pm=Co?wc(Co):Ao;function sg(p,O){return p===O||uo(p,O,qt(O))}function kv(p,O,te){return te=typeof te=="function"?te:b,uo(p,O,qt(O),te)}function Wm(p){return wm(p)&&p!=+p}function Bv(p){if(Pi(p))throw new Ai(k);return So(p)}function jh(p){return p===null}function fm(p){return p==null}function wm(p){return typeof p=="number"||pc(p)&&Ft(p)==S}function bv(p){if(!pc(p)||Ft(p)!=fe)return!1;var O=td(p);if(O===null)return!0;var te=hl.call(O,"constructor")&&O.constructor;return typeof te=="function"&&te instanceof te&&ru.call(te)==Kc}var kh=$o?wc($o):fs;function zv(p){return Om(p)&&p>=-Ie&&p<=Ie}var Tm=Zo?wc(Zo):vs;function qp(p){return typeof p=="string"||!ns(p)&&pc(p)&&Ft(p)==le}function sd(p){return typeof p=="symbol"||pc(p)&&Ft(p)==Le}var Dp=Hs?wc(Hs):bs;function Uv(p){return p===b}function lg(p){return pc(p)&&Nn(p)==St}function ld(p){return pc(p)&&Ft(p)==Ge}var Vv=$l(Ul),Og=$l(function(p,O){return p<=O});function Gm(p){if(!p)return[];if(Zs(p))return qp(p)?qf(p):Lc(p);if(Zc&&p[Zc])return Xd(p[Zc]());var O=Nn(p),te=O==q?Of:O==U?Bd:ks;return te(p)}function xv(p){if(!p)return p===0?p:0;if(p=Ql(p),p===ee||p===-ee){var O=p<0?-1:1;return O*me}return p===p?p:0}function wl(p){var O=xv(p),te=O%1;return O===O?te?O-te:O:0}function Cv(p){return p?Bo(wl(p),0,Re):0}function Ql(p){if(typeof p=="number")return p;if(sd(p))return Ve;if(Ju(p)){var O=typeof p.valueOf=="function"?p.valueOf():p;p=Ju(O)?O+"":O}if(typeof p!="string")return p===0?p:+p;p=Vp(p);var te=zn.test(p);return te||Ma.test(p)?w(p.slice(2),te?2:8):Rn.test(p)?Ve:+p}function Bh(p){return ah(p,on(p))}function Ev(p){return p?Bo(wl(p),-Ie,Ie):p===0?p:0}function El(p){return p==null?"":Hl(p)}var Km=ap(function(p,O){if(yi(O)||Zs(O)){ah(O,Zr(O),p);return}for(var te in O)hl.call(O,te)&&aa(p,te,O[te])}),Zm=ap(function(p,O){ah(O,on(O),p)}),Hv=ap(function(p,O,te,Je){ah(O,on(O),p,Je)}),Fp=ap(function(p,O,te,Je){ah(O,Zr(O),p,Je)}),Ym=xc(Eo);function Am(p,O){var te=Iu(p);return O==null?te:Ka(te,O)}var $m=Gs(function(p,O){p=dl(p);var te=-1,Je=O.length,Xt=Je>2?O[2]:b;for(Xt&&In(O[0],O[1],Xt)&&(Je=1);++te<Je;)for(var Sr=O[te],nn=on(Sr),On=-1,Yn=nn.length;++On<Yn;){var ri=nn[On],oi=p[ri];(oi===b||oc(oi,uf[ri])&&!hl.call(p,ri))&&(p[ri]=Sr[ri])}return p}),Xm=Gs(function(p){return p.push(b,bm),ms(Ji,b,p)});function Qm(p,O){return Gl(p,ss(O,3),Ns)}function zg(p,O){return Gl(p,ss(O,3),yc)}function x(p,O){return p==null?p:pl(p,ss(O,3),on)}function j(p,O){return p==null?p:xl(p,ss(O,3),on)}function L(p,O){return p&&Ns(p,ss(O,3))}function R(p,O){return p&&yc(p,ss(O,3))}function N(p){return p==null?[]:nc(p,Zr(p))}function W(p){return p==null?[]:nc(p,on(p))}function he(p,O,te){var Je=p==null?b:Ru(p,O);return Je===b?te:Je}function $e(p,O){return p!=null&&ja(p,O,Ue)}function st(p,O){return p!=null&&ja(p,O,He)}var Yt=Iv(function(p,O,te){O!=null&&typeof O.toString!="function"&&(O=bi.call(O)),p[O]=te},wg(zh)),hr=Iv(function(p,O,te){O!=null&&typeof O.toString!="function"&&(O=bi.call(O)),hl.call(p,O)?p[O].push(te):p[O]=[te]},ss),yr=Gs(Mn);function Zr(p){return Zs(p)?Hr(p):Ml(p)}function on(p){return Zs(p)?Hr(p,!0):Xu(p)}function ca(p,O){var te={};return O=ss(O,3),Ns(p,function(Je,Xt,Sr){di(te,O(Je,Xt,Sr),Je)}),te}function Ra(p,O){var te={};return O=ss(O,3),Ns(p,function(Je,Xt,Sr){di(te,Xt,O(Je,Xt,Sr))}),te}var Ga=ap(function(p,O,te){Kl(p,O,te)}),Ji=ap(function(p,O,te,Je){Kl(p,O,te,Je)}),go=xc(function(p,O){var te={};if(p==null)return te;var Je=!1;O=Ms(O,function(Sr){return Sr=Rc(Sr,p),Je||(Je=Sr.length>1),Sr}),ah(p,kc(p),te),Je&&(te=Wo(te,ve|we|I,jg));for(var Xt=O.length;Xt--;)am(te,O[Xt]);return te});function jo(p,O){return $i(p,yf(ss(O)))}var Mo=xc(function(p,O){return p==null?{}:Gp(p,O)});function $i(p,O){if(p==null)return{};var te=Ms(kc(p),function(Je){return[Je]});return O=ss(O),vh(p,te,function(Je,Xt){return O(Je,Xt[0])})}function Ho(p,O,te){O=Rc(O,p);var Je=-1,Xt=O.length;for(Xt||(Xt=1,p=b);++Je<Xt;){var Sr=p==null?b:p[Lu(O[Je])];Sr===b&&(Je=Xt,Sr=te),p=Pd(Sr)?Sr.call(p):Sr}return p}function Ta(p,O,te){return p==null?p:Zp(p,O,te)}function Rs(p,O,te,Je){return Je=typeof Je=="function"?Je:b,p==null?p:Zp(p,O,te,Je)}var hi=ag(Zr),Sl=ag(on);function fo(p,O,te){var Je=ns(p),Xt=Je||Od(p)||Dp(p);if(O=ss(O,4),te==null){var Sr=p&&p.constructor;Xt?te=Je?new Sr:[]:Ju(p)?te=Pd(Sr)?Iu(td(p)):{}:te={}}return(Xt?zu:Ns)(p,function(nn,On,Yn){return O(te,nn,On,Yn)}),te}function ou(p,O){return p==null?!0:am(p,O)}function Fs(p,O,te){return p==null?p:Lh(p,O,Sp(te))}function xh(p,O,te,Je){return Je=typeof Je=="function"?Je:b,p==null?p:Lh(p,O,Sp(te),Je)}function ks(p){return p==null?[]:Xf(p,Zr(p))}function Wv(p){return p==null?[]:Xf(p,on(p))}function Cc(p,O,te){return te===b&&(te=O,O=b),te!==b&&(te=Ql(te),te=te===te?te:0),O!==b&&(O=Ql(O),O=O===O?O:0),Bo(Ql(p),O,te)}function dm(p,O,te){return O=xv(O),te===b?(te=O,O=0):te=xv(te),p=Ql(p),Zt(p,O,te)}function Er(p,O,te){if(te&&typeof te!="boolean"&&In(p,O,te)&&(O=te=b),te===b&&(typeof O=="boolean"?(te=O,O=b):typeof p=="boolean"&&(te=p,p=b)),p===b&&O===b?(p=0,O=1):(p=xv(p),O===b?(O=p,p=0):O=xv(O)),p>O){var Je=p;p=O,O=Je}if(te||p%1||O%1){var Xt=jc();return Mu(p+Xt*(O-p+xo("1e-"+((Xt+"").length-1))),O)}return Kp(p,O)}var sy=Wd(function(p,O,te){return O=O.toLowerCase(),p+(te?Kf(O):O)});function Kf(p){return uy(El(p).toLowerCase())}function ly(p){return p=El(p),p&&p.replace(ia,kd).replace(al,"")}function pu(p,O,te){p=El(p),O=Hl(O);var Je=p.length;te=te===b?Je:Bo(wl(te),0,Je);var Xt=te;return te-=O.length,te>=0&&p.slice(te,Xt)==O}function Ug(p){return p=El(p),p&&ge.test(p)?p.replace(it,md):p}function Pg(p){return p=El(p),p&&Oe.test(p)?p.replace(xe,"\\$&"):p}var Vg=Wd(function(p,O,te){return p+(te?"-":"")+O.toLowerCase()}),Hg=Wd(function(p,O,te){return p+(te?" ":"")+O.toLowerCase()}),Wg=pv("toLowerCase");function xs(p,O,te){p=El(p),O=wl(O);var Je=O?Rd(p):0;if(!O||Je>=O)return p;var Xt=(O-Je)/2;return fc(Jd(Xt),te)+p+fc(Rh(Xt),te)}function ml(p,O,te){p=El(p),O=wl(O);var Je=O?Rd(p):0;return O&&Je<O?p+fc(O-Je,te):p}function Ls(p,O,te){p=El(p),O=wl(O);var Je=O?Rd(p):0;return O&&Je<O?fc(O-Je,te)+p:p}function Gi(p,O,te){return te||O==null?O=0:O&&(O=+O),Af(El(p).replace(dt,""),O||0)}function wd(p,O,te){return(te?In(p,O,te):O===b)?O=1:O=wl(O),Ep(El(p),O)}function sc(){var p=arguments,O=El(p[0]);return p.length<3?O:O.replace(p[1],p[2])}var xf=Wd(function(p,O,te){return p+(te?"_":"")+O.toLowerCase()});function Np(p,O,te){return te&&typeof te!="number"&&In(p,O,te)&&(O=te=b),te=te===b?Re:te>>>0,te?(p=El(p),p&&(typeof O=="string"||O!=null&&!kh(O))&&(O=Hl(O),!O&&Id(p))?vf(qf(p),0,te):p.split(O,te)):[]}var cp=Wd(function(p,O,te){return p+(te?" ":"")+uy(O)});function Ry(p,O,te){return p=El(p),te=te==null?0:Bo(wl(te),0,p.length),O=Hl(O),p.slice(te,te+O.length)==O}function C0(p,O,te){var Je=dr.templateSettings;te&&In(p,O,te)&&(O=b),p=El(p),O=Hv({},O,Je,Lv);var Xt=Hv({},O.imports,Je.imports,Lv),Sr=Zr(Xt),nn=Xf(Xt,Sr),On,Yn,ri=0,oi=O.interpolate||_a,Ci="__p += '",Uo=gd((O.escape||_a).source+"|"+oi.source+"|"+(oi===be?an:_a).source+"|"+(O.evaluate||_a).source+"|$","g"),ws="//# sourceURL="+(hl.call(O,"sourceURL")?(O.sourceURL+"").replace(/\s/g," "):"lodash.templateSources["+ ++tu+"]")+`
`;p.replace(Uo,function(ul,Eu,Nu,Ov,Uh,fp){return Nu||(Nu=Ov),Ci+=p.slice(ri,fp).replace($a,sf),Eu&&(On=!0,Ci+=`' +
__e(`+Eu+`) +
'`),Uh&&(Yn=!0,Ci+=`';
`+Uh+`;
__p += '`),Nu&&(Ci+=`' +
((__t = (`+Nu+`)) == null ? '' : __t) +
'`),ri=fp+ul.length,ul}),Ci+=`';
`;var rl=hl.call(O,"variable")&&O.variable;if(!rl)Ci=`with (obj) {
`+Ci+`
}
`;else if(Pr.test(rl))throw new Ai(oe);Ci=(Yn?Ci.replace(_n,""):Ci).replace(Bn,"$1").replace(ya,"$1;"),Ci="function("+(rl||"obj")+`) {
`+(rl?"":`obj || (obj = {});
`)+"var __t, __p = ''"+(On?", __e = _.escape":"")+(Yn?`, __j = Array.prototype.join;
function print() { __p += __j.call(arguments, '') }
`:`;
`)+Ci+`return __p
}`;var su=O0(function(){return Xo(Sr,ws+"return "+Ci).apply(b,nn)});if(su.source=Ci,cm(su))throw su;return su}function ug(p){return El(p).toLowerCase()}function eo(p){return El(p).toUpperCase()}function Td(p,O,te){if(p=El(p),p&&(te||O===b))return Vp(p);if(!p||!(O=Hl(O)))return p;var Je=qf(p),Xt=qf(O),Sr=jd(Je,Xt),nn=Tc(Je,Xt)+1;return vf(Je,Sr,nn).join("")}function lb(p,O,te){if(p=El(p),p&&(te||O===b))return p.slice(0,bp(p)+1);if(!p||!(O=Hl(O)))return p;var Je=qf(p),Xt=Tc(Je,qf(O))+1;return vf(Je,0,Xt).join("")}function E0(p,O,te){if(p=El(p),p&&(te||O===b))return p.replace(dt,"");if(!p||!(O=Hl(O)))return p;var Je=qf(p),Xt=jd(Je,qf(O));return vf(Je,Xt).join("")}function S0(p,O){var te=yt,Je=Dt;if(Ju(O)){var Xt="separator"in O?O.separator:Xt;te="length"in O?wl(O.length):te,Je="omission"in O?Hl(O.omission):Je}p=El(p);var Sr=p.length;if(Id(p)){var nn=qf(p);Sr=nn.length}if(te>=Sr)return p;var On=te-Rd(Je);if(On<1)return Je;var Yn=nn?vf(nn,0,On).join(""):p.slice(0,On);if(Xt===b)return Yn+Je;if(nn&&(On+=Yn.length-On),kh(Xt)){if(p.slice(On).search(Xt)){var ri,oi=Yn;for(Xt.global||(Xt=gd(Xt.source,El(dn.exec(Xt))+"g")),Xt.lastIndex=0;ri=Xt.exec(oi);)var Ci=ri.index;Yn=Yn.slice(0,Ci===b?On:Ci)}}else if(p.indexOf(Hl(Xt),On)!=On){var Uo=Yn.lastIndexOf(Xt);Uo>-1&&(Yn=Yn.slice(0,Uo))}return Yn+Je}function Ly(p){return p=El(p),p&&ue.test(p)?p.replace(Tr,Hp):p}var Gg=Wd(function(p,O,te){return p+(te?" ":"")+O.toUpperCase()}),uy=pv("toUpperCase");function t0(p,O,te){return p=El(p),O=te?b:O,O===b?gp(p)?Qh(p):Sf(p):p.match(O)||[]}var O0=Gs(function(p,O){try{return ms(p,b,O)}catch(te){return cm(te)?te:new Ai(te)}}),P0=xc(function(p,O){return zu(O,function(te){te=Lu(te),di(p,te,Ps(p[te],p))}),p});function w0(p){var O=p==null?0:p.length,te=ss();return p=O?Ms(p,function(Je){if(typeof Je[1]!="function")throw new lf(Z);return[te(Je[0]),Je[1]]}):[],Gs(function(Je){for(var Xt=-1;++Xt<O;){var Sr=p[Xt];if(ms(Sr[0],this,Je))return ms(Sr[1],this,Je)}})}function T0(p){return ll(Wo(p,ve))}function wg(p){return function(){return p}}function r0(p,O){return p==null||p!==p?O:p}var Kg=ip(),Sv=ip(!0);function zh(p){return p}function n0(p){return Yl(typeof p=="function"?p:Wo(p,ve))}function Dy(p){return Qs(Wo(p,ve))}function Zg(p,O){return Vl(p,Wo(O,ve))}var A0=Gs(function(p,O){return function(te){return Mn(te,p,O)}}),l1=Gs(function(p,O){return function(te){return Mn(p,te,O)}});function a0(p,O,te){var Je=Zr(O),Xt=nc(O,Je);te==null&&!(Ju(O)&&(Xt.length||!Je.length))&&(te=O,O=p,p=this,Xt=nc(O,Zr(O)));var Sr=!(Ju(te)&&"chain"in te)||!!te.chain,nn=Pd(p);return zu(Xt,function(On){var Yn=O[On];p[On]=Yn,nn&&(p.prototype[On]=function(){var ri=this.__chain__;if(Sr||ri){var oi=p(this.__wrapped__),Ci=oi.__actions__=Lc(this.__actions__);return Ci.push({func:Yn,args:arguments,thisArg:p}),oi.__chain__=ri,oi}return Yn.apply(p,zf([this.value()],arguments))})}),p}function u1(){return Se._===this&&(Se._=qh),this}function Fy(){}function ev(p){return p=wl(p),Gs(function(O){return hf(O,p)})}var c1=Ap(Ms),i0=Ap(Ys),Ny=Ap(zl);function o0(p){return Wa(p)?vd(Lu(p)):bc(p)}function f1(p){return function(O){return p==null?b:Ru(p,O)}}var d1=dc(),M0=dc(!0);function s0(){return[]}function jy(){return!1}function cg(){return{}}function h1(){return""}function p1(){return!0}function v1(p,O){if(p=wl(p),p<1||p>Ie)return[];var te=Re,Je=Mu(p,Re);O=ss(O),p-=Re;for(var Xt=uc(Je,O);++te<p;)O(te);return Xt}function _0(p){return ns(p)?Ms(p,Lu):sd(p)?[p]:Lc(js(El(p)))}function m1(p){var O=++dh;return El(p)+O}var g1=op(function(p,O){return p+O},0),I0=lm("ceil"),y1=op(function(p,O){return p/O},1),b1=lm("floor");function x1(p){return p&&p.length?us(p,zh,Ht):b}function C1(p,O){return p&&p.length?us(p,ss(O,2),Ht):b}function E1(p){return Gc(p,zh)}function ky(p,O){return Gc(p,ss(O,2))}function R0(p){return p&&p.length?us(p,zh,Ul):b}function cy(p,O){return p&&p.length?us(p,ss(O,2),Ul):b}var By=op(function(p,O){return p*O},1),ub=lm("round"),cb=op(function(p,O){return p-O},0);function jp(p){return p&&p.length?$d(p,zh):0}function zy(p,O){return p&&p.length?$d(p,ss(O,2)):0}return dr.after=Ko,dr.ary=Yi,dr.assign=Km,dr.assignIn=Zm,dr.assignInWith=Hv,dr.assignWith=Fp,dr.at=Ym,dr.before=Ks,dr.bind=Ps,dr.bindAll=P0,dr.bindKey=Rl,dr.castArray=Fu,dr.chain=Nh,dr.chunk=mf,dr.compact=Xc,dr.concat=Su,dr.cond=w0,dr.conforms=T0,dr.constant=wg,dr.countBy=m,dr.create=Am,dr.curry=rs,dr.curryRight=Us,dr.debounce=Cu,dr.defaults=$m,dr.defaultsDeep=Xm,dr.defer=Du,dr.delay=Vu,dr.difference=ac,dr.differenceBy=Os,dr.differenceWith=Lf,dr.drop=_l,dr.dropRight=Bc,dr.dropRightWhile=Go,dr.dropWhile=ds,dr.fill=Ou,dr.filter=D,dr.flatMap=je,dr.flatMapDeep=tt,dr.flatMapDepth=wt,dr.flatten=Rr,dr.flattenDeep=$n,dr.flattenDepth=kn,dr.flip=Qu,dr.flow=Kg,dr.flowRight=Sv,dr.fromPairs=Ri,dr.functions=N,dr.functionsIn=W,dr.groupBy=pr,dr.initial=tr,dr.intersection=en,dr.intersectionBy=Pn,dr.intersectionWith=wn,dr.invert=Yt,dr.invertBy=hr,dr.invokeMap=Ar,dr.iteratee=n0,dr.keyBy=$r,dr.keys=Zr,dr.keysIn=on,dr.map=Gr,dr.mapKeys=ca,dr.mapValues=Ra,dr.matches=Dy,dr.matchesProperty=Zg,dr.memoize=Hu,dr.merge=Ga,dr.mergeWith=Ji,dr.method=A0,dr.methodOf=l1,dr.mixin=a0,dr.negate=yf,dr.nthArg=ev,dr.omit=go,dr.omitBy=jo,dr.once=Jc,dr.orderBy=gn,dr.over=c1,dr.overArgs=bf,dr.overEvery=i0,dr.overSome=Ny,dr.partial=Wu,dr.partialRight=Fc,dr.partition=Dn,dr.pick=Mo,dr.pickBy=$i,dr.property=o0,dr.propertyOf=f1,dr.pull=jr,dr.pullAll=Mr,dr.pullAllBy=An,dr.pullAllWith=Ln,dr.pullAt=Aa,dr.range=d1,dr.rangeRight=M0,dr.rearg=qc,dr.reject=da,dr.remove=fi,dr.rest=ef,dr.reverse=ui,dr.sampleSize=ti,dr.set=Ta,dr.setWith=Rs,dr.shuffle=Hi,dr.slice=Ti,dr.sortBy=Wi,dr.sortedUniq=ts,dr.sortedUniqBy=Fl,dr.split=Np,dr.spread=tf,dr.tail=ic,dr.take=Gd,dr.takeRight=Dd,dr.takeRightWhile=od,dr.takeWhile=Il,dr.tap=Xp,dr.throttle=jl,dr.thru=gv,dr.toArray=Gm,dr.toPairs=hi,dr.toPairsIn=Sl,dr.toPath=_0,dr.toPlainObject=Bh,dr.transform=fo,dr.unary=yl,dr.union=Nl,dr.unionBy=Ed,dr.unionWith=vv,dr.uniq=yh,dr.uniqBy=Um,dr.uniqWith=kg,dr.unset=ou,dr.unzip=Vm,dr.unzipWith=Dv,dr.update=Fs,dr.updateWith=xh,dr.values=ks,dr.valuesIn=Wv,dr.without=Em,dr.words=t0,dr.wrap=Xl,dr.xor=Cg,dr.xorBy=hc,dr.xorWith=Fv,dr.zip=mv,dr.zipObject=og,dr.zipObjectDeep=Eg,dr.zipWith=Nv,dr.entries=hi,dr.entriesIn=Sl,dr.extend=Zm,dr.extendWith=Hv,a0(dr,dr),dr.add=g1,dr.attempt=O0,dr.camelCase=sy,dr.capitalize=Kf,dr.ceil=I0,dr.clamp=Cc,dr.clone=Sd,dr.cloneDeep=iu,dr.cloneDeepWith=zc,dr.cloneWith=Pu,dr.conformsTo=Is,dr.deburr=ly,dr.defaultTo=r0,dr.divide=y1,dr.endsWith=pu,dr.eq=oc,dr.escape=Ug,dr.escapeRegExp=Pg,dr.every=E,dr.find=V,dr.findIndex=Qc,dr.findKey=Qm,dr.findLast=ae,dr.findLastIndex=gf,dr.findLastKey=zg,dr.floor=b1,dr.forEach=Bt,dr.forEachRight=Kt,dr.forIn=x,dr.forInRight=j,dr.forOwn=L,dr.forOwnRight=R,dr.get=he,dr.gt=bh,dr.gte=up,dr.has=$e,dr.hasIn=st,dr.head=As,dr.identity=zh,dr.includes=Ir,dr.indexOf=wr,dr.inRange=dm,dr.invoke=yr,dr.isArguments=rf,dr.isArray=ns,dr.isArrayBuffer=yv,dr.isArrayLike=Zs,dr.isArrayLikeObject=Gu,dr.isBoolean=oh,dr.isBuffer=Od,dr.isDate=Sm,dr.isElement=um,dr.isEmpty=Jp,dr.isEqual=Hm,dr.isEqualWith=jv,dr.isError=cm,dr.isFinite=Rp,dr.isFunction=Pd,dr.isInteger=Om,dr.isLength=Lp,dr.isMap=Pm,dr.isMatch=sg,dr.isMatchWith=kv,dr.isNaN=Wm,dr.isNative=Bv,dr.isNil=fm,dr.isNull=jh,dr.isNumber=wm,dr.isObject=Ju,dr.isObjectLike=pc,dr.isPlainObject=bv,dr.isRegExp=kh,dr.isSafeInteger=zv,dr.isSet=Tm,dr.isString=qp,dr.isSymbol=sd,dr.isTypedArray=Dp,dr.isUndefined=Uv,dr.isWeakMap=lg,dr.isWeakSet=ld,dr.join=rn,dr.kebabCase=Vg,dr.last=Jr,dr.lastIndexOf=sn,dr.lowerCase=Hg,dr.lowerFirst=Wg,dr.lt=Vv,dr.lte=Og,dr.max=x1,dr.maxBy=C1,dr.mean=E1,dr.meanBy=ky,dr.min=R0,dr.minBy=cy,dr.stubArray=s0,dr.stubFalse=jy,dr.stubObject=cg,dr.stubString=h1,dr.stubTrue=p1,dr.multiply=By,dr.nth=xr,dr.noConflict=u1,dr.noop=Fy,dr.now=Jo,dr.pad=xs,dr.padEnd=ml,dr.padStart=Ls,dr.parseInt=Gi,dr.random=Er,dr.reduce=Kn,dr.reduceRight=ha,dr.repeat=wd,dr.replace=sc,dr.result=Ho,dr.round=ub,dr.runInContext=vn,dr.sample=Ja,dr.size=co,dr.snakeCase=xf,dr.some=mo,dr.sortedIndex=ii,dr.sortedIndexBy=no,dr.sortedIndexOf=Vi,dr.sortedLastIndex=Xi,dr.sortedLastIndexBy=Qi,dr.sortedLastIndexOf=ao,dr.startCase=cp,dr.startsWith=Ry,dr.subtract=cb,dr.sum=jp,dr.sumBy=zy,dr.template=C0,dr.times=v1,dr.toFinite=xv,dr.toInteger=wl,dr.toLength=Cv,dr.toLower=ug,dr.toNumber=Ql,dr.toSafeInteger=Ev,dr.toString=El,dr.toUpper=eo,dr.trim=Td,dr.trimEnd=lb,dr.trimStart=E0,dr.truncate=S0,dr.unescape=Ly,dr.uniqueId=m1,dr.upperCase=Gg,dr.upperFirst=uy,dr.each=Bt,dr.eachRight=Kt,dr.first=As,a0(dr,function(){var p={};return Ns(dr,function(O,te){hl.call(dr.prototype,te)||(p[te]=O)}),p}(),{chain:!1}),dr.VERSION=u,zu(["bind","bindKey","curry","curryRight","partial","partialRight"],function(p){dr[p].placeholder=dr}),zu(["drop","take"],function(p,O){$s.prototype[p]=function(te){te=te===b?1:sl(wl(te),0);var Je=this.__filtered__&&!O?new $s(this):this.clone();return Je.__filtered__?Je.__takeCount__=Mu(te,Je.__takeCount__):Je.__views__.push({size:Mu(te,Re),type:p+(Je.__dir__<0?"Right":"")}),Je},$s.prototype[p+"Right"]=function(te){return this.reverse()[p](te).reverse()}}),zu(["filter","map","takeWhile"],function(p,O){var te=O+1,Je=te==vt||te==J;$s.prototype[p]=function(Xt){var Sr=this.clone();return Sr.__iteratees__.push({iteratee:ss(Xt,3),type:te}),Sr.__filtered__=Sr.__filtered__||Je,Sr}}),zu(["head","last"],function(p,O){var te="take"+(O?"Right":"");$s.prototype[p]=function(){return this[te](1).value()[0]}}),zu(["initial","tail"],function(p,O){var te="drop"+(O?"":"Right");$s.prototype[p]=function(){return this.__filtered__?new $s(this):this[te](1)}}),$s.prototype.compact=function(){return this.filter(zh)},$s.prototype.find=function(p){return this.filter(p).head()},$s.prototype.findLast=function(p){return this.reverse().find(p)},$s.prototype.invokeMap=Gs(function(p,O){return typeof p=="function"?new $s(this):this.map(function(te){return Mn(te,p,O)})}),$s.prototype.reject=function(p){return this.filter(yf(ss(p)))},$s.prototype.slice=function(p,O){p=wl(p);var te=this;return te.__filtered__&&(p>0||O<0)?new $s(te):(p<0?te=te.takeRight(-p):p&&(te=te.drop(p)),O!==b&&(O=wl(O),te=O<0?te.dropRight(-O):te.take(O-p)),te)},$s.prototype.takeRightWhile=function(p){return this.reverse().takeWhile(p).reverse()},$s.prototype.toArray=function(){return this.take(Re)},Ns($s.prototype,function(p,O){var te=/^(?:filter|find|map|reject)|While$/.test(O),Je=/^(?:head|last)$/.test(O),Xt=dr[Je?"take"+(O=="last"?"Right":""):O],Sr=Je||/^find/.test(O);!Xt||(dr.prototype[O]=function(){var nn=this.__wrapped__,On=Je?[1]:arguments,Yn=nn instanceof $s,ri=On[0],oi=Yn||ns(nn),Ci=function(Eu){var Nu=Xt.apply(dr,zf([Eu],On));return Je&&Uo?Nu[0]:Nu};oi&&te&&typeof ri=="function"&&ri.length!=1&&(Yn=oi=!1);var Uo=this.__chain__,ws=!!this.__actions__.length,rl=Sr&&!Uo,su=Yn&&!ws;if(!Sr&&oi){nn=su?nn:new $s(this);var ul=p.apply(nn,On);return ul.__actions__.push({func:gv,args:[Ci],thisArg:b}),new rc(ul,Uo)}return rl&&su?p.apply(this,On):(ul=this.thru(Ci),rl?Je?ul.value()[0]:ul.value():ul)})}),zu(["pop","push","shift","sort","splice","unshift"],function(p){var O=Jh[p],te=/^(?:push|sort|unshift)$/.test(p)?"tap":"thru",Je=/^(?:pop|shift)$/.test(p);dr.prototype[p]=function(){var Xt=arguments;if(Je&&!this.__chain__){var Sr=this.value();return O.apply(ns(Sr)?Sr:[],Xt)}return this[te](function(nn){return O.apply(ns(nn)?nn:[],Xt)})}}),Ns($s.prototype,function(p,O){var te=dr[O];if(te){var Je=te.name+"";hl.call(Ac,Je)||(Ac[Je]=[]),Ac[Je].push({name:O,func:te})}}),Ac[Tp(b,We).name]=[{name:"wrapper",func:b}],$s.prototype.clone=xp,$s.prototype.reverse=tp,$s.prototype.value=th,dr.prototype.at=Sg,dr.prototype.chain=Qp,dr.prototype.commit=Dc,dr.prototype.next=Ip,dr.prototype.plant=e,dr.prototype.reverse=t,dr.prototype.toJSON=dr.prototype.valueOf=dr.prototype.value=o,dr.prototype.first=dr.prototype.head,Zc&&(dr.prototype[Zc]=Bg),dr},ed=Wp();Se._=ed,T=function(){return ed}.call(A,r,A,y),T!==b&&(y.exports=T)}).call(this)}).call(this,r("IyRk"),r("hOG+")(ze))},LvWW:function(ze,A,r){var M=r("mhV4");ze.exports=y;function y(Z,oe){switch(Z&&Z.type||null){case"FeatureCollection":return Z.features=Z.features.map(T(y,oe)),Z;case"GeometryCollection":return Z.geometries=Z.geometries.map(T(y,oe)),Z;case"Feature":return Z.geometry=y(Z.geometry,oe),Z;case"Polygon":case"MultiPolygon":return b(Z,oe);default:return Z}}function T(Z,oe){return function(ne){return Z(ne,oe)}}function b(Z,oe){return Z.type==="Polygon"?Z.coordinates=u(Z.coordinates,oe):Z.type==="MultiPolygon"&&(Z.coordinates=Z.coordinates.map(T(u,oe))),Z}function u(Z,oe){oe=!!oe,Z[0]=H(Z[0],oe);for(var ne=1;ne<Z.length;ne++)Z[ne]=H(Z[ne],!oe);return Z}function H(Z,oe){return k(Z)===oe?Z:Z.reverse()}function k(Z){return M.ring(Z)>=0}},"M+yt":function(ze,A,r){},MNju:function(ze,A,r){},MON2:function(ze,A,r){"use strict";Object.defineProperty(A,"__esModule",{value:!0}),A.STACK_OVERFLOW=A.CIRCULAR_DEPENDENCY_IN_FACTORY=A.POST_CONSTRUCT_ERROR=A.MULTIPLE_POST_CONSTRUCT_METHODS=A.CONTAINER_OPTIONS_INVALID_SKIP_BASE_CHECK=A.CONTAINER_OPTIONS_INVALID_AUTO_BIND_INJECTABLE=A.CONTAINER_OPTIONS_INVALID_DEFAULT_SCOPE=A.CONTAINER_OPTIONS_MUST_BE_AN_OBJECT=A.ARGUMENTS_LENGTH_MISMATCH=A.INVALID_DECORATOR_OPERATION=A.INVALID_TO_SELF_VALUE=A.INVALID_FUNCTION_BINDING=A.INVALID_MIDDLEWARE_RETURN=A.NO_MORE_SNAPSHOTS_AVAILABLE=A.INVALID_BINDING_TYPE=A.NOT_IMPLEMENTED=A.CIRCULAR_DEPENDENCY=A.UNDEFINED_INJECT_ANNOTATION=A.MISSING_INJECT_ANNOTATION=A.MISSING_INJECTABLE_ANNOTATION=A.NOT_REGISTERED=A.CANNOT_UNBIND=A.AMBIGUOUS_MATCH=A.KEY_NOT_FOUND=A.NULL_ARGUMENT=A.DUPLICATED_METADATA=A.DUPLICATED_INJECTABLE_DECORATOR=void 0,A.DUPLICATED_INJECTABLE_DECORATOR="Cannot apply @injectable decorator multiple times.",A.DUPLICATED_METADATA="Metadata key was used more than once in a parameter:",A.NULL_ARGUMENT="NULL argument",A.KEY_NOT_FOUND="Key Not Found",A.AMBIGUOUS_MATCH="Ambiguous match found for serviceIdentifier:",A.CANNOT_UNBIND="Could not unbind serviceIdentifier:",A.NOT_REGISTERED="No matching bindings found for serviceIdentifier:",A.MISSING_INJECTABLE_ANNOTATION="Missing required @injectable annotation in:",A.MISSING_INJECT_ANNOTATION="Missing required @inject or @multiInject annotation in:";var M=function(H){return"@inject called with undefined this could mean that the class "+H+" has a circular dependency problem. You can use a LazyServiceIdentifer to  overcome this limitation."};A.UNDEFINED_INJECT_ANNOTATION=M,A.CIRCULAR_DEPENDENCY="Circular dependency found:",A.NOT_IMPLEMENTED="Sorry, this feature is not fully implemented yet.",A.INVALID_BINDING_TYPE="Invalid binding type:",A.NO_MORE_SNAPSHOTS_AVAILABLE="No snapshot available to restore.",A.INVALID_MIDDLEWARE_RETURN="Invalid return type in middleware. Middleware must return!",A.INVALID_FUNCTION_BINDING="Value provided to function binding must be a function!",A.INVALID_TO_SELF_VALUE="The toSelf function can only be applied when a constructor is used as service identifier",A.INVALID_DECORATOR_OPERATION="The @inject @multiInject @tagged and @named decorators must be applied to the parameters of a class constructor or a class property.";var y=function(){for(var H=[],k=0;k<arguments.length;k++)H[k]=arguments[k];return"The number of constructor arguments in the derived class "+(H[0]+" must be >= than the number of constructor arguments of its base class.")};A.ARGUMENTS_LENGTH_MISMATCH=y,A.CONTAINER_OPTIONS_MUST_BE_AN_OBJECT="Invalid Container constructor argument. Container options must be an object.",A.CONTAINER_OPTIONS_INVALID_DEFAULT_SCOPE="Invalid Container option. Default scope must be a string ('singleton' or 'transient').",A.CONTAINER_OPTIONS_INVALID_AUTO_BIND_INJECTABLE="Invalid Container option. Auto bind injectable must be a boolean",A.CONTAINER_OPTIONS_INVALID_SKIP_BASE_CHECK="Invalid Container option. Skip base check must be a boolean",A.MULTIPLE_POST_CONSTRUCT_METHODS="Cannot apply @postConstruct decorator multiple times in the same class";var T=function(){for(var H=[],k=0;k<arguments.length;k++)H[k]=arguments[k];return"@postConstruct error in class "+H[0]+": "+H[1]};A.POST_CONSTRUCT_ERROR=T;var b=function(){for(var H=[],k=0;k<arguments.length;k++)H[k]=arguments[k];return"It looks like there is a circular dependency "+("in one of the '"+H[0]+"' bindings. Please investigate bindings with")+("service identifier '"+H[1]+"'.")};A.CIRCULAR_DEPENDENCY_IN_FACTORY=b,A.STACK_OVERFLOW="Maximum call stack size exceeded"},MXD1:function(ze,A,r){"use strict";var M=r("cIOH"),y=r.n(M),T=r("Kvyg"),b=r.n(T)},MoRW:function(ze,A,r){"use strict";var M=r("rePB"),y=r("q1tI"),T=r("TSYQ"),b=r.n(T),u=r("jO45"),H=r("jN4g"),k=r("IMoZ"),Z=r("VTBJ"),oe={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M955.7 856l-416-720c-6.2-10.7-16.9-16-27.7-16s-21.6 5.3-27.7 16l-416 720C56 877.4 71.4 904 96 904h832c24.6 0 40-26.6 27.7-48zM480 416c0-4.4 3.6-8 8-8h48c4.4 0 8 3.6 8 8v184c0 4.4-3.6 8-8 8h-48c-4.4 0-8-3.6-8-8V416zm32 352a48.01 48.01 0 010-96 48.01 48.01 0 010 96z"}}]},name:"warning",theme:"filled"},ne=oe,Te=r("6VBw"),at=function(Jt,At){return y.createElement(Te.a,Object(Z.a)(Object(Z.a)({},Jt),{},{ref:At,icon:ne}))};at.displayName="WarningFilled";var ve=y.forwardRef(at),we=r("H84U"),I=r("uaoM"),Ce=function(){return y.createElement("svg",{width:"252",height:"294"},y.createElement("defs",null,y.createElement("path",{d:"M0 .387h251.772v251.772H0z"})),y.createElement("g",{fill:"none",fillRule:"evenodd"},y.createElement("g",{transform:"translate(0 .012)"},y.createElement("mask",{fill:"#fff"}),y.createElement("path",{d:"M0 127.32v-2.095C0 56.279 55.892.387 124.838.387h2.096c68.946 0 124.838 55.892 124.838 124.838v2.096c0 68.946-55.892 124.838-124.838 124.838h-2.096C55.892 252.16 0 196.267 0 127.321",fill:"#E4EBF7",mask:"url(#b)"})),y.createElement("path",{d:"M39.755 130.84a8.276 8.276 0 1 1-16.468-1.66 8.276 8.276 0 0 1 16.468 1.66",fill:"#FFF"}),y.createElement("path",{d:"M36.975 134.297l10.482 5.943M48.373 146.508l-12.648 10.788",stroke:"#FFF",strokeWidth:"2"}),y.createElement("path",{d:"M39.875 159.352a5.667 5.667 0 1 1-11.277-1.136 5.667 5.667 0 0 1 11.277 1.136M57.588 143.247a5.708 5.708 0 1 1-11.358-1.145 5.708 5.708 0 0 1 11.358 1.145M99.018 26.875l29.82-.014a4.587 4.587 0 1 0-.003-9.175l-29.82.013a4.587 4.587 0 1 0 .003 9.176M110.424 45.211l29.82-.013a4.588 4.588 0 0 0-.004-9.175l-29.82.013a4.587 4.587 0 1 0 .004 9.175",fill:"#FFF"}),y.createElement("path",{d:"M112.798 26.861v-.002l15.784-.006a4.588 4.588 0 1 0 .003 9.175l-15.783.007v-.002a4.586 4.586 0 0 0-.004-9.172M184.523 135.668c-.553 5.485-5.447 9.483-10.931 8.93-5.485-.553-9.483-5.448-8.93-10.932.552-5.485 5.447-9.483 10.932-8.93 5.485.553 9.483 5.447 8.93 10.932",fill:"#FFF"}),y.createElement("path",{d:"M179.26 141.75l12.64 7.167M193.006 156.477l-15.255 13.011",stroke:"#FFF",strokeWidth:"2"}),y.createElement("path",{d:"M184.668 170.057a6.835 6.835 0 1 1-13.6-1.372 6.835 6.835 0 0 1 13.6 1.372M203.34 153.325a6.885 6.885 0 1 1-13.7-1.382 6.885 6.885 0 0 1 13.7 1.382",fill:"#FFF"}),y.createElement("path",{d:"M151.931 192.324a2.222 2.222 0 1 1-4.444 0 2.222 2.222 0 0 1 4.444 0zM225.27 116.056a2.222 2.222 0 1 1-4.445 0 2.222 2.222 0 0 1 4.444 0zM216.38 151.08a2.223 2.223 0 1 1-4.446-.001 2.223 2.223 0 0 1 4.446 0zM176.917 107.636a2.223 2.223 0 1 1-4.445 0 2.223 2.223 0 0 1 4.445 0zM195.291 92.165a2.223 2.223 0 1 1-4.445 0 2.223 2.223 0 0 1 4.445 0zM202.058 180.711a2.223 2.223 0 1 1-4.446 0 2.223 2.223 0 0 1 4.446 0z",stroke:"#FFF",strokeWidth:"2"}),y.createElement("path",{stroke:"#FFF",strokeWidth:"2",d:"M214.404 153.302l-1.912 20.184-10.928 5.99M173.661 174.792l-6.356 9.814h-11.36l-4.508 6.484M174.941 125.168v-15.804M220.824 117.25l-12.84 7.901-15.31-7.902V94.39"}),y.createElement("path",{d:"M166.588 65.936h-3.951a4.756 4.756 0 0 1-4.743-4.742 4.756 4.756 0 0 1 4.743-4.743h3.951a4.756 4.756 0 0 1 4.743 4.743 4.756 4.756 0 0 1-4.743 4.742",fill:"#FFF"}),y.createElement("path",{d:"M174.823 30.03c0-16.281 13.198-29.48 29.48-29.48 16.28 0 29.48 13.199 29.48 29.48 0 16.28-13.2 29.48-29.48 29.48-16.282 0-29.48-13.2-29.48-29.48",fill:"#1890FF"}),y.createElement("path",{d:"M205.952 38.387c.5.5.785 1.142.785 1.928s-.286 1.465-.785 1.964c-.572.5-1.214.75-2 .75-.785 0-1.429-.285-1.929-.785-.572-.5-.82-1.143-.82-1.929s.248-1.428.82-1.928c.5-.5 1.144-.75 1.93-.75.785 0 1.462.25 1.999.75m4.285-19.463c1.428 1.249 2.143 2.963 2.143 5.142 0 1.712-.427 3.13-1.219 4.25-.067.096-.137.18-.218.265-.416.429-1.41 1.346-2.956 2.699a5.07 5.07 0 0 0-1.428 1.75 5.207 5.207 0 0 0-.536 2.357v.5h-4.107v-.5c0-1.357.215-2.536.714-3.5.464-.964 1.857-2.464 4.178-4.536l.43-.5c.643-.785.964-1.643.964-2.535 0-1.18-.358-2.108-1-2.785-.678-.68-1.643-1.001-2.858-1.001-1.536 0-2.642.464-3.357 1.43-.37.5-.621 1.135-.76 1.904a1.999 1.999 0 0 1-1.971 1.63h-.004c-1.277 0-2.257-1.183-1.98-2.43.337-1.518 1.02-2.78 2.073-3.784 1.536-1.5 3.607-2.25 6.25-2.25 2.32 0 4.214.607 5.642 1.894",fill:"#FFF"}),y.createElement("path",{d:"M52.04 76.131s21.81 5.36 27.307 15.945c5.575 10.74-6.352 9.26-15.73 4.935-10.86-5.008-24.7-11.822-11.577-20.88",fill:"#FFB594"}),y.createElement("path",{d:"M90.483 67.504l-.449 2.893c-.753.49-4.748-2.663-4.748-2.663l-1.645.748-1.346-5.684s6.815-4.589 8.917-5.018c2.452-.501 9.884.94 10.7 2.278 0 0 1.32.486-2.227.69-3.548.203-5.043.447-6.79 3.132-1.747 2.686-2.412 3.624-2.412 3.624",fill:"#FFC6A0"}),y.createElement("path",{d:"M128.055 111.367c-2.627-7.724-6.15-13.18-8.917-15.478-3.5-2.906-9.34-2.225-11.366-4.187-1.27-1.231-3.215-1.197-3.215-1.197s-14.98-3.158-16.828-3.479c-2.37-.41-2.124-.714-6.054-1.405-1.57-1.907-2.917-1.122-2.917-1.122l-7.11-1.383c-.853-1.472-2.423-1.023-2.423-1.023l-2.468-.897c-1.645 9.976-7.74 13.796-7.74 13.796 1.795 1.122 15.703 8.3 15.703 8.3l5.107 37.11s-3.321 5.694 1.346 9.109c0 0 19.883-3.743 34.921-.329 0 0 3.047-2.546.972-8.806.523-3.01 1.394-8.263 1.736-11.622.385.772 2.019 1.918 3.14 3.477 0 0 9.407-7.365 11.052-14.012-.832-.723-1.598-1.585-2.267-2.453-.567-.736-.358-2.056-.765-2.717-.669-1.084-1.804-1.378-1.907-1.682",fill:"#FFF"}),y.createElement("path",{d:"M101.09 289.998s4.295 2.041 7.354 1.021c2.821-.94 4.53.668 7.08 1.178 2.55.51 6.874 1.1 11.686-1.26-.103-5.51-6.889-3.98-11.96-6.713-2.563-1.38-3.784-4.722-3.598-8.799h-9.402s-1.392 10.52-1.16 14.573",fill:"#CBD1D1"}),y.createElement("path",{d:"M101.067 289.826s2.428 1.271 6.759.653c3.058-.437 3.712.481 7.423 1.031 3.712.55 10.724-.069 11.823-.894.413 1.1-.343 2.063-.343 2.063s-1.512.603-4.812.824c-2.03.136-5.8.291-7.607-.503-1.787-1.375-5.247-1.903-5.728-.241-3.918.95-7.355-.286-7.355-.286l-.16-2.647z",fill:"#2B0849"}),y.createElement("path",{d:"M108.341 276.044h3.094s-.103 6.702 4.536 8.558c-4.64.618-8.558-2.303-7.63-8.558",fill:"#A4AABA"}),y.createElement("path",{d:"M57.542 272.401s-2.107 7.416-4.485 12.306c-1.798 3.695-4.225 7.492 5.465 7.492 6.648 0 8.953-.48 7.423-6.599-1.53-6.12.266-13.199.266-13.199h-8.669z",fill:"#CBD1D1"}),y.createElement("path",{d:"M51.476 289.793s2.097 1.169 6.633 1.169c6.083 0 8.249-1.65 8.249-1.65s.602 1.114-.619 2.165c-.993.855-3.597 1.591-7.39 1.546-4.145-.048-5.832-.566-6.736-1.168-.825-.55-.687-1.58-.137-2.062",fill:"#2B0849"}),y.createElement("path",{d:"M58.419 274.304s.033 1.519-.314 2.93c-.349 1.42-1.078 3.104-1.13 4.139-.058 1.151 4.537 1.58 5.155.034.62-1.547 1.294-6.427 1.913-7.252.619-.825-4.903-2.119-5.624.15",fill:"#A4AABA"}),y.createElement("path",{d:"M99.66 278.514l13.378.092s1.298-54.52 1.853-64.403c.554-9.882 3.776-43.364 1.002-63.128l-12.547-.644-22.849.78s-.434 3.966-1.195 9.976c-.063.496-.682.843-.749 1.365-.075.585.423 1.354.32 1.966-2.364 14.08-6.377 33.104-8.744 46.677-.116.666-1.234 1.009-1.458 2.691-.04.302.211 1.525.112 1.795-6.873 18.744-10.949 47.842-14.277 61.885l14.607-.014s2.197-8.57 4.03-16.97c2.811-12.886 23.111-85.01 23.111-85.01l3.016-.521 1.043 46.35s-.224 1.234.337 2.02c.56.785-.56 1.123-.392 2.244l.392 1.794s-.449 7.178-.898 11.89c-.448 4.71-.092 39.165-.092 39.165",fill:"#7BB2F9"}),y.createElement("path",{d:"M76.085 221.626c1.153.094 4.038-2.019 6.955-4.935M106.36 225.142s2.774-1.11 6.103-3.883",stroke:"#648BD8",strokeWidth:"1.051",strokeLinecap:"round",strokeLinejoin:"round"}),y.createElement("path",{d:"M107.275 222.1s2.773-1.11 6.102-3.884",stroke:"#648BD8",strokeLinecap:"round",strokeLinejoin:"round"}),y.createElement("path",{d:"M74.74 224.767s2.622-.591 6.505-3.365M86.03 151.634c-.27 3.106.3 8.525-4.336 9.123M103.625 149.88s.11 14.012-1.293 15.065c-2.219 1.664-2.99 1.944-2.99 1.944M99.79 150.438s.035 12.88-1.196 24.377M93.673 175.911s7.212-1.664 9.431-1.664M74.31 205.861a212.013 212.013 0 0 1-.979 4.56s-1.458 1.832-1.009 3.776c.449 1.944-.947 2.045-4.985 15.355-1.696 5.59-4.49 18.591-6.348 27.597l-.231 1.12M75.689 197.807a320.934 320.934 0 0 1-.882 4.754M82.591 152.233L81.395 162.7s-1.097.15-.5 2.244c.113 1.346-2.674 15.775-5.18 30.43M56.12 274.418h13.31",stroke:"#648BD8",strokeWidth:"1.051",strokeLinecap:"round",strokeLinejoin:"round"}),y.createElement("path",{d:"M116.241 148.22s-17.047-3.104-35.893.2c.158 2.514-.003 4.15-.003 4.15s14.687-2.818 35.67-.312c.252-2.355.226-4.038.226-4.038",fill:"#192064"}),y.createElement("path",{d:"M106.322 151.165l.003-4.911a.81.81 0 0 0-.778-.815c-2.44-.091-5.066-.108-7.836-.014a.818.818 0 0 0-.789.815l-.003 4.906a.81.81 0 0 0 .831.813c2.385-.06 4.973-.064 7.73.017a.815.815 0 0 0 .842-.81",fill:"#FFF"}),y.createElement("path",{d:"M105.207 150.233l.002-3.076a.642.642 0 0 0-.619-.646 94.321 94.321 0 0 0-5.866-.01.65.65 0 0 0-.63.647v3.072a.64.64 0 0 0 .654.644 121.12 121.12 0 0 1 5.794.011c.362.01.665-.28.665-.642",fill:"#192064"}),y.createElement("path",{d:"M100.263 275.415h12.338M101.436 270.53c.006 3.387.042 5.79.111 6.506M101.451 264.548a915.75 915.75 0 0 0-.015 4.337M100.986 174.965l.898 44.642s.673 1.57-.225 2.692c-.897 1.122 2.468.673.898 2.243-1.57 1.57.897 1.122 0 3.365-.596 1.489-.994 21.1-1.096 35.146",stroke:"#648BD8",strokeWidth:"1.051",strokeLinecap:"round",strokeLinejoin:"round"}),y.createElement("path",{d:"M46.876 83.427s-.516 6.045 7.223 5.552c11.2-.712 9.218-9.345 31.54-21.655-.786-2.708-2.447-4.744-2.447-4.744s-11.068 3.11-22.584 8.046c-6.766 2.9-13.395 6.352-13.732 12.801M104.46 91.057l.941-5.372-8.884-11.43-5.037 5.372-1.74 7.834a.321.321 0 0 0 .108.32c.965.8 6.5 5.013 14.347 3.544a.332.332 0 0 0 .264-.268",fill:"#FFC6A0"}),y.createElement("path",{d:"M93.942 79.387s-4.533-2.853-2.432-6.855c1.623-3.09 4.513 1.133 4.513 1.133s.52-3.642 3.121-3.642c.52-1.04 1.561-4.162 1.561-4.162s11.445 2.601 13.526 3.121c0 5.203-2.304 19.424-7.84 19.861-8.892.703-12.449-9.456-12.449-9.456",fill:"#FFC6A0"}),y.createElement("path",{d:"M113.874 73.446c2.601-2.081 3.47-9.722 3.47-9.722s-2.479-.49-6.64-2.05c-4.683-2.081-12.798-4.747-17.48.976-9.668 3.223-2.05 19.823-2.05 19.823l2.713-3.021s-3.935-3.287-2.08-6.243c2.17-3.462 3.92 1.073 3.92 1.073s.637-2.387 3.581-3.342c.355-.71 1.036-2.674 1.432-3.85a1.073 1.073 0 0 1 1.263-.704c2.4.558 8.677 2.019 11.356 2.662.522.125.871.615.82 1.15l-.305 3.248z",fill:"#520038"}),y.createElement("path",{d:"M104.977 76.064c-.103.61-.582 1.038-1.07.956-.489-.083-.801-.644-.698-1.254.103-.61.582-1.038 1.07-.956.488.082.8.644.698 1.254M112.132 77.694c-.103.61-.582 1.038-1.07.956-.488-.083-.8-.644-.698-1.254.103-.61.582-1.038 1.07-.956.488.082.8.643.698 1.254",fill:"#552950"}),y.createElement("path",{stroke:"#DB836E",strokeWidth:"1.118",strokeLinecap:"round",strokeLinejoin:"round",d:"M110.13 74.84l-.896 1.61-.298 4.357h-2.228"}),y.createElement("path",{d:"M110.846 74.481s1.79-.716 2.506.537",stroke:"#5C2552",strokeWidth:"1.118",strokeLinecap:"round",strokeLinejoin:"round"}),y.createElement("path",{d:"M92.386 74.282s.477-1.114 1.113-.716c.637.398 1.274 1.433.558 1.99-.717.556.159 1.67.159 1.67",stroke:"#DB836E",strokeWidth:"1.118",strokeLinecap:"round",strokeLinejoin:"round"}),y.createElement("path",{d:"M103.287 72.93s1.83 1.113 4.137.954",stroke:"#5C2552",strokeWidth:"1.118",strokeLinecap:"round",strokeLinejoin:"round"}),y.createElement("path",{d:"M103.685 81.762s2.227 1.193 4.376 1.193M104.64 84.308s.954.398 1.511.318M94.693 81.205s2.308 7.4 10.424 7.639",stroke:"#DB836E",strokeWidth:"1.118",strokeLinecap:"round",strokeLinejoin:"round"}),y.createElement("path",{d:"M81.45 89.384s.45 5.647-4.935 12.787M69 82.654s-.726 9.282-8.204 14.206",stroke:"#E4EBF7",strokeWidth:"1.101",strokeLinecap:"round",strokeLinejoin:"round"}),y.createElement("path",{d:"M129.405 122.865s-5.272 7.403-9.422 10.768",stroke:"#E4EBF7",strokeWidth:"1.051",strokeLinecap:"round",strokeLinejoin:"round"}),y.createElement("path",{d:"M119.306 107.329s.452 4.366-2.127 32.062",stroke:"#E4EBF7",strokeWidth:"1.101",strokeLinecap:"round",strokeLinejoin:"round"}),y.createElement("path",{d:"M150.028 151.232h-49.837a1.01 1.01 0 0 1-1.01-1.01v-31.688c0-.557.452-1.01 1.01-1.01h49.837c.558 0 1.01.453 1.01 1.01v31.688a1.01 1.01 0 0 1-1.01 1.01",fill:"#F2D7AD"}),y.createElement("path",{d:"M150.29 151.232h-19.863v-33.707h20.784v32.786a.92.92 0 0 1-.92.92",fill:"#F4D19D"}),y.createElement("path",{d:"M123.554 127.896H92.917a.518.518 0 0 1-.425-.816l6.38-9.113c.193-.277.51-.442.85-.442h31.092l-7.26 10.371z",fill:"#F2D7AD"}),y.createElement("path",{fill:"#CC9B6E",d:"M123.689 128.447H99.25v-.519h24.169l7.183-10.26.424.298z"}),y.createElement("path",{d:"M158.298 127.896h-18.669a2.073 2.073 0 0 1-1.659-.83l-7.156-9.541h19.965c.49 0 .95.23 1.244.622l6.69 8.92a.519.519 0 0 1-.415.83",fill:"#F4D19D"}),y.createElement("path",{fill:"#CC9B6E",d:"M157.847 128.479h-19.384l-7.857-10.475.415-.31 7.7 10.266h19.126zM130.554 150.685l-.032-8.177.519-.002.032 8.177z"}),y.createElement("path",{fill:"#CC9B6E",d:"M130.511 139.783l-.08-21.414.519-.002.08 21.414zM111.876 140.932l-.498-.143 1.479-5.167.498.143zM108.437 141.06l-2.679-2.935 2.665-3.434.41.318-2.397 3.089 2.384 2.612zM116.607 141.06l-.383-.35 2.383-2.612-2.397-3.089.41-.318 2.665 3.434z"}),y.createElement("path",{d:"M154.316 131.892l-3.114-1.96.038 3.514-1.043.092c-1.682.115-3.634.23-4.789.23-1.902 0-2.693 2.258 2.23 2.648l-2.645-.596s-2.168 1.317.504 2.3c0 0-1.58 1.217.561 2.58-.584 3.504 5.247 4.058 7.122 3.59 1.876-.47 4.233-2.359 4.487-5.16.28-3.085-.89-5.432-3.35-7.238",fill:"#FFC6A0"}),y.createElement("path",{d:"M153.686 133.577s-6.522.47-8.36.372c-1.836-.098-1.904 2.19 2.359 2.264 3.739.15 5.451-.044 5.451-.044",stroke:"#DB836E",strokeWidth:"1.051",strokeLinecap:"round",strokeLinejoin:"round"}),y.createElement("path",{d:"M145.16 135.877c-1.85 1.346.561 2.355.561 2.355s3.478.898 6.73.617",stroke:"#DB836E",strokeWidth:"1.051",strokeLinecap:"round",strokeLinejoin:"round"}),y.createElement("path",{d:"M151.89 141.71s-6.28.111-6.73-2.132c-.223-1.346.45-1.402.45-1.402M146.114 140.868s-1.103 3.16 5.44 3.533M151.202 129.932v3.477M52.838 89.286c3.533-.337 8.423-1.248 13.582-7.754",stroke:"#DB836E",strokeWidth:"1.051",strokeLinecap:"round",strokeLinejoin:"round"}),y.createElement("path",{d:"M168.567 248.318a6.647 6.647 0 0 1-6.647-6.647v-66.466a6.647 6.647 0 1 1 13.294 0v66.466a6.647 6.647 0 0 1-6.647 6.647",fill:"#5BA02E"}),y.createElement("path",{d:"M176.543 247.653a6.647 6.647 0 0 1-6.646-6.647v-33.232a6.647 6.647 0 1 1 13.293 0v33.232a6.647 6.647 0 0 1-6.647 6.647",fill:"#92C110"}),y.createElement("path",{d:"M186.443 293.613H158.92a3.187 3.187 0 0 1-3.187-3.187v-46.134a3.187 3.187 0 0 1 3.187-3.187h27.524a3.187 3.187 0 0 1 3.187 3.187v46.134a3.187 3.187 0 0 1-3.187 3.187",fill:"#F2D7AD"}),y.createElement("path",{d:"M88.979 89.48s7.776 5.384 16.6 2.842",stroke:"#E4EBF7",strokeWidth:"1.101",strokeLinecap:"round",strokeLinejoin:"round"})))},et=Ce,Et=function(){return y.createElement("svg",{width:"254",height:"294"},y.createElement("defs",null,y.createElement("path",{d:"M0 .335h253.49v253.49H0z"}),y.createElement("path",{d:"M0 293.665h253.49V.401H0z"})),y.createElement("g",{fill:"none",fillRule:"evenodd"},y.createElement("g",{transform:"translate(0 .067)"},y.createElement("mask",{fill:"#fff"}),y.createElement("path",{d:"M0 128.134v-2.11C0 56.608 56.273.334 125.69.334h2.11c69.416 0 125.69 56.274 125.69 125.69v2.11c0 69.417-56.274 125.69-125.69 125.69h-2.11C56.273 253.824 0 197.551 0 128.134",fill:"#E4EBF7",mask:"url(#b)"})),y.createElement("path",{d:"M39.989 132.108a8.332 8.332 0 1 1-16.581-1.671 8.332 8.332 0 0 1 16.58 1.671",fill:"#FFF"}),y.createElement("path",{d:"M37.19 135.59l10.553 5.983M48.665 147.884l-12.734 10.861",stroke:"#FFF",strokeWidth:"2"}),y.createElement("path",{d:"M40.11 160.816a5.706 5.706 0 1 1-11.354-1.145 5.706 5.706 0 0 1 11.354 1.145M57.943 144.6a5.747 5.747 0 1 1-11.436-1.152 5.747 5.747 0 0 1 11.436 1.153M99.656 27.434l30.024-.013a4.619 4.619 0 1 0-.004-9.238l-30.024.013a4.62 4.62 0 0 0 .004 9.238M111.14 45.896l30.023-.013a4.62 4.62 0 1 0-.004-9.238l-30.024.013a4.619 4.619 0 1 0 .004 9.238",fill:"#FFF"}),y.createElement("path",{d:"M113.53 27.421v-.002l15.89-.007a4.619 4.619 0 1 0 .005 9.238l-15.892.007v-.002a4.618 4.618 0 0 0-.004-9.234M150.167 70.091h-3.979a4.789 4.789 0 0 1-4.774-4.775 4.788 4.788 0 0 1 4.774-4.774h3.979a4.789 4.789 0 0 1 4.775 4.774 4.789 4.789 0 0 1-4.775 4.775",fill:"#FFF"}),y.createElement("path",{d:"M171.687 30.234c0-16.392 13.289-29.68 29.681-29.68 16.392 0 29.68 13.288 29.68 29.68 0 16.393-13.288 29.681-29.68 29.681s-29.68-13.288-29.68-29.68",fill:"#FF603B"}),y.createElement("path",{d:"M203.557 19.435l-.676 15.035a1.514 1.514 0 0 1-3.026 0l-.675-15.035a2.19 2.19 0 1 1 4.377 0m-.264 19.378c.513.477.77 1.1.77 1.87s-.257 1.393-.77 1.907c-.55.476-1.21.733-1.943.733a2.545 2.545 0 0 1-1.87-.77c-.55-.514-.806-1.136-.806-1.87 0-.77.256-1.393.806-1.87.513-.513 1.137-.733 1.87-.733.77 0 1.43.22 1.943.733",fill:"#FFF"}),y.createElement("path",{d:"M119.3 133.275c4.426-.598 3.612-1.204 4.079-4.778.675-5.18-3.108-16.935-8.262-25.118-1.088-10.72-12.598-11.24-12.598-11.24s4.312 4.895 4.196 16.199c1.398 5.243.804 14.45.804 14.45s5.255 11.369 11.78 10.487",fill:"#FFB594"}),y.createElement("path",{d:"M100.944 91.61s1.463-.583 3.211.582c8.08 1.398 10.368 6.706 11.3 11.368 1.864 1.282 1.864 2.33 1.864 3.496.365.777 1.515 3.03 1.515 3.03s-7.225 1.748-10.954 6.758c-1.399-6.41-6.936-25.235-6.936-25.235",fill:"#FFF"}),y.createElement("path",{d:"M94.008 90.5l1.019-5.815-9.23-11.874-5.233 5.581-2.593 9.863s8.39 5.128 16.037 2.246",fill:"#FFB594"}),y.createElement("path",{d:"M82.931 78.216s-4.557-2.868-2.445-6.892c1.632-3.107 4.537 1.139 4.537 1.139s.524-3.662 3.139-3.662c.523-1.046 1.569-4.184 1.569-4.184s11.507 2.615 13.6 3.138c-.001 5.23-2.317 19.529-7.884 19.969-8.94.706-12.516-9.508-12.516-9.508",fill:"#FFC6A0"}),y.createElement("path",{d:"M102.971 72.243c2.616-2.093 3.489-9.775 3.489-9.775s-2.492-.492-6.676-2.062c-4.708-2.092-12.867-4.771-17.575.982-9.54 4.41-2.062 19.93-2.062 19.93l2.729-3.037s-3.956-3.304-2.092-6.277c2.183-3.48 3.943 1.08 3.943 1.08s.64-2.4 3.6-3.36c.356-.714 1.04-2.69 1.44-3.872a1.08 1.08 0 0 1 1.27-.707c2.41.56 8.723 2.03 11.417 2.676.524.126.876.619.825 1.156l-.308 3.266z",fill:"#520038"}),y.createElement("path",{d:"M101.22 76.514c-.104.613-.585 1.044-1.076.96-.49-.082-.805-.646-.702-1.26.104-.613.585-1.044 1.076-.961.491.083.805.647.702 1.26M94.26 75.074c-.104.613-.585 1.044-1.076.96-.49-.082-.805-.646-.702-1.26.104-.613.585-1.044 1.076-.96.491.082.805.646.702 1.26",fill:"#552950"}),y.createElement("path",{stroke:"#DB836E",strokeWidth:"1.063",strokeLinecap:"round",strokeLinejoin:"round",d:"M99.206 73.644l-.9 1.62-.3 4.38h-2.24"}),y.createElement("path",{d:"M99.926 73.284s1.8-.72 2.52.54",stroke:"#5C2552",strokeWidth:"1.117",strokeLinecap:"round",strokeLinejoin:"round"}),y.createElement("path",{d:"M81.367 73.084s.48-1.12 1.12-.72c.64.4 1.28 1.44.56 2s.16 1.68.16 1.68",stroke:"#DB836E",strokeWidth:"1.117",strokeLinecap:"round",strokeLinejoin:"round"}),y.createElement("path",{d:"M92.326 71.724s1.84 1.12 4.16.96",stroke:"#5C2552",strokeWidth:"1.117",strokeLinecap:"round",strokeLinejoin:"round"}),y.createElement("path",{d:"M92.726 80.604s2.24 1.2 4.4 1.2M93.686 83.164s.96.4 1.52.32M83.687 80.044s1.786 6.547 9.262 7.954",stroke:"#DB836E",strokeWidth:"1.063",strokeLinecap:"round",strokeLinejoin:"round"}),y.createElement("path",{d:"M95.548 91.663s-1.068 2.821-8.298 2.105c-7.23-.717-10.29-5.044-10.29-5.044",stroke:"#E4EBF7",strokeWidth:"1.136",strokeLinecap:"round",strokeLinejoin:"round"}),y.createElement("path",{d:"M78.126 87.478s6.526 4.972 16.47 2.486c0 0 9.577 1.02 11.536 5.322 5.36 11.77.543 36.835 0 39.962 3.496 4.055-.466 8.483-.466 8.483-15.624-3.548-35.81-.6-35.81-.6-4.849-3.546-1.223-9.044-1.223-9.044L62.38 110.32c-2.485-15.227.833-19.803 3.549-20.743 3.03-1.049 8.04-1.282 8.04-1.282.496-.058 1.08-.076 1.37-.233 2.36-1.282 2.787-.583 2.787-.583",fill:"#FFF"}),y.createElement("path",{d:"M65.828 89.81s-6.875.465-7.59 8.156c-.466 8.857 3.03 10.954 3.03 10.954s6.075 22.102 16.796 22.957c8.39-2.176 4.758-6.702 4.661-11.42-.233-11.304-7.108-16.897-7.108-16.897s-4.212-13.75-9.789-13.75",fill:"#FFC6A0"}),y.createElement("path",{d:"M71.716 124.225s.855 11.264 9.828 6.486c4.765-2.536 7.581-13.828 9.789-22.568 1.456-5.768 2.58-12.197 2.58-12.197l-4.973-1.709s-2.408 5.516-7.769 12.275c-4.335 5.467-9.144 11.11-9.455 17.713",fill:"#FFC6A0"}),y.createElement("path",{d:"M108.463 105.191s1.747 2.724-2.331 30.535c2.376 2.216 1.053 6.012-.233 7.51",stroke:"#E4EBF7",strokeWidth:"1.085",strokeLinecap:"round",strokeLinejoin:"round"}),y.createElement("path",{d:"M123.262 131.527s-.427 2.732-11.77 1.981c-15.187-1.006-25.326-3.25-25.326-3.25l.933-5.8s.723.215 9.71-.068c11.887-.373 18.714-6.07 24.964-1.022 4.039 3.263 1.489 8.16 1.489 8.16",fill:"#FFC6A0"}),y.createElement("path",{d:"M70.24 90.974s-5.593-4.739-11.054 2.68c-3.318 7.223.517 15.284 2.664 19.578-.31 3.729 2.33 4.311 2.33 4.311s.108.895 1.516 2.68c4.078-7.03 6.72-9.166 13.711-12.546-.328-.656-1.877-3.265-1.825-3.767.175-1.69-1.282-2.623-1.282-2.623s-.286-.156-1.165-2.738c-.788-2.313-2.036-5.177-4.895-7.575",fill:"#FFF"}),y.createElement("path",{d:"M90.232 288.027s4.855 2.308 8.313 1.155c3.188-1.063 5.12.755 8.002 1.331 2.881.577 7.769 1.243 13.207-1.424-.117-6.228-7.786-4.499-13.518-7.588-2.895-1.56-4.276-5.336-4.066-9.944H91.544s-1.573 11.89-1.312 16.47",fill:"#CBD1D1"}),y.createElement("path",{d:"M90.207 287.833s2.745 1.437 7.639.738c3.456-.494 3.223.66 7.418 1.282 4.195.621 13.092-.194 14.334-1.126.466 1.242-.388 2.33-.388 2.33s-1.709.682-5.438.932c-2.295.154-8.098.276-10.14-.621-2.02-1.554-4.894-1.515-6.06-.234-4.427 1.075-7.184-.31-7.184-.31l-.181-2.991z",fill:"#2B0849"}),y.createElement("path",{d:"M98.429 272.257h3.496s-.117 7.574 5.127 9.671c-5.244.7-9.672-2.602-8.623-9.671",fill:"#A4AABA"}),y.createElement("path",{d:"M44.425 272.046s-2.208 7.774-4.702 12.899c-1.884 3.874-4.428 7.854 5.729 7.854 6.97 0 9.385-.503 7.782-6.917-1.604-6.415.279-13.836.279-13.836h-9.088z",fill:"#CBD1D1"}),y.createElement("path",{d:"M38.066 290.277s2.198 1.225 6.954 1.225c6.376 0 8.646-1.73 8.646-1.73s.63 1.168-.649 2.27c-1.04.897-3.77 1.668-7.745 1.621-4.347-.05-6.115-.593-7.062-1.224-.864-.577-.72-1.657-.144-2.162",fill:"#2B0849"}),y.createElement("path",{d:"M45.344 274.041s.035 1.592-.329 3.07c-.365 1.49-1.13 3.255-1.184 4.34-.061 1.206 4.755 1.657 5.403.036.65-1.622 1.357-6.737 2.006-7.602.648-.865-5.14-2.222-5.896.156",fill:"#A4AABA"}),y.createElement("path",{d:"M89.476 277.57l13.899.095s1.349-56.643 1.925-66.909c.576-10.267 3.923-45.052 1.042-65.585l-13.037-.669-23.737.81s-.452 4.12-1.243 10.365c-.065.515-.708.874-.777 1.417-.078.608.439 1.407.332 2.044-2.455 14.627-5.797 32.736-8.256 46.837-.121.693-1.282 1.048-1.515 2.796-.042.314.22 1.584.116 1.865-7.14 19.473-12.202 52.601-15.66 67.19l15.176-.015s2.282-10.145 4.185-18.871c2.922-13.389 24.012-88.32 24.012-88.32l3.133-.954-.158 48.568s-.233 1.282.35 2.098c.583.815-.581 1.167-.408 2.331l.408 1.864s-.466 7.458-.932 12.352c-.467 4.895 1.145 40.69 1.145 40.69",fill:"#7BB2F9"}),y.createElement("path",{d:"M64.57 218.881c1.197.099 4.195-2.097 7.225-5.127M96.024 222.534s2.881-1.152 6.34-4.034",stroke:"#648BD8",strokeWidth:"1.085",strokeLinecap:"round",strokeLinejoin:"round"}),y.createElement("path",{d:"M96.973 219.373s2.882-1.153 6.34-4.034",stroke:"#648BD8",strokeWidth:"1.032",strokeLinecap:"round",strokeLinejoin:"round"}),y.createElement("path",{d:"M63.172 222.144s2.724-.614 6.759-3.496M74.903 146.166c-.281 3.226.31 8.856-4.506 9.478M93.182 144.344s.115 14.557-1.344 15.65c-2.305 1.73-3.107 2.02-3.107 2.02M89.197 144.923s.269 13.144-1.01 25.088M83.525 170.71s6.81-1.051 9.116-1.051M46.026 270.045l-.892 4.538M46.937 263.289l-.815 4.157M62.725 202.503c-.33 1.618-.102 1.904-.449 3.438 0 0-2.756 1.903-2.29 3.923.466 2.02-.31 3.424-4.505 17.252-1.762 5.807-4.233 18.922-6.165 28.278-.03.144-.521 2.646-1.14 5.8M64.158 194.136c-.295 1.658-.6 3.31-.917 4.938M71.33 146.787l-1.244 10.877s-1.14.155-.519 2.33c.117 1.399-2.778 16.39-5.382 31.615M44.242 273.727H58.07",stroke:"#648BD8",strokeWidth:"1.085",strokeLinecap:"round",strokeLinejoin:"round"}),y.createElement("path",{d:"M106.18 142.117c-3.028-.489-18.825-2.744-36.219.2a.625.625 0 0 0-.518.644c.063 1.307.044 2.343.015 2.995a.617.617 0 0 0 .716.636c3.303-.534 17.037-2.412 35.664-.266.347.04.66-.214.692-.56.124-1.347.16-2.425.17-3.029a.616.616 0 0 0-.52-.62",fill:"#192064"}),y.createElement("path",{d:"M96.398 145.264l.003-5.102a.843.843 0 0 0-.809-.847 114.104 114.104 0 0 0-8.141-.014.85.85 0 0 0-.82.847l-.003 5.097c0 .476.388.857.864.845 2.478-.064 5.166-.067 8.03.017a.848.848 0 0 0 .876-.843",fill:"#FFF"}),y.createElement("path",{d:"M95.239 144.296l.002-3.195a.667.667 0 0 0-.643-.672c-1.9-.061-3.941-.073-6.094-.01a.675.675 0 0 0-.654.672l-.002 3.192c0 .376.305.677.68.669 1.859-.042 3.874-.043 6.02.012.376.01.69-.291.691-.668",fill:"#192064"}),y.createElement("path",{d:"M90.102 273.522h12.819M91.216 269.761c.006 3.519-.072 5.55 0 6.292M90.923 263.474c-.009 1.599-.016 2.558-.016 4.505M90.44 170.404l.932 46.38s.7 1.631-.233 2.796c-.932 1.166 2.564.7.932 2.33-1.63 1.633.933 1.166 0 3.497-.618 1.546-1.031 21.921-1.138 36.513",stroke:"#648BD8",strokeWidth:"1.085",strokeLinecap:"round",strokeLinejoin:"round"}),y.createElement("path",{d:"M73.736 98.665l2.214 4.312s2.098.816 1.865 2.68l.816 2.214M64.297 116.611c.233-.932 2.176-7.147 12.585-10.488M77.598 90.042s7.691 6.137 16.547 2.72",stroke:"#E4EBF7",strokeWidth:"1.085",strokeLinecap:"round",strokeLinejoin:"round"}),y.createElement("path",{d:"M91.974 86.954s5.476-.816 7.574-4.545c1.297-.345.72 2.212-.33 3.671-.7.971-1.01 1.554-1.01 1.554s.194.31.155.816c-.053.697-.175.653-.272 1.048-.081.335.108.657 0 1.049-.046.17-.198.5-.382.878-.12.249-.072.687-.2.948-.231.469-1.562 1.87-2.622 2.855-3.826 3.554-5.018 1.644-6.001-.408-.894-1.865-.661-5.127-.874-6.875-.35-2.914-2.622-3.03-1.923-4.429.343-.685 2.87.69 3.263 1.748.757 2.04 2.952 1.807 2.622 1.69",fill:"#FFC6A0"}),y.createElement("path",{d:"M99.8 82.429c-.465.077-.35.272-.97 1.243-.622.971-4.817 2.932-6.39 3.224-2.589.48-2.278-1.56-4.254-2.855-1.69-1.107-3.562-.638-1.398 1.398.99.932.932 1.107 1.398 3.205.335 1.506-.64 3.67.7 5.593",stroke:"#DB836E",strokeWidth:".774",strokeLinecap:"round",strokeLinejoin:"round"}),y.createElement("path",{d:"M79.543 108.673c-2.1 2.926-4.266 6.175-5.557 8.762",stroke:"#E59788",strokeWidth:".774",strokeLinecap:"round",strokeLinejoin:"round"}),y.createElement("path",{d:"M87.72 124.768s-2.098-1.942-5.127-2.719c-3.03-.777-3.574-.155-5.516.078-1.942.233-3.885-.932-3.652.7.233 1.63 5.05 1.01 5.206 2.097.155 1.087-6.37 2.796-8.313 2.175-.777.777.466 1.864 2.02 2.175.233 1.554 2.253 1.554 2.253 1.554s.699 1.01 2.641 1.088c2.486 1.32 8.934-.7 10.954-1.554 2.02-.855-.466-5.594-.466-5.594",fill:"#FFC6A0"}),y.createElement("path",{d:"M73.425 122.826s.66 1.127 3.167 1.418c2.315.27 2.563.583 2.563.583s-2.545 2.894-9.07 2.272M72.416 129.274s3.826.097 4.933-.718M74.98 130.75s1.961.136 3.36-.505M77.232 131.916s1.748.019 2.914-.505M73.328 122.321s-.595-1.032 1.262-.427c1.671.544 2.833.055 5.128.155 1.389.061 3.067-.297 3.982.15 1.606.784 3.632 2.181 3.632 2.181s10.526 1.204 19.033-1.127M78.864 108.104s-8.39 2.758-13.168 12.12",stroke:"#E59788",strokeWidth:".774",strokeLinecap:"round",strokeLinejoin:"round"}),y.createElement("path",{d:"M109.278 112.533s3.38-3.613 7.575-4.662",stroke:"#E4EBF7",strokeWidth:"1.085",strokeLinecap:"round",strokeLinejoin:"round"}),y.createElement("path",{d:"M107.375 123.006s9.697-2.745 11.445-.88",stroke:"#E59788",strokeWidth:".774",strokeLinecap:"round",strokeLinejoin:"round"}),y.createElement("path",{d:"M194.605 83.656l3.971-3.886M187.166 90.933l3.736-3.655M191.752 84.207l-4.462-4.56M198.453 91.057l-4.133-4.225M129.256 163.074l3.718-3.718M122.291 170.039l3.498-3.498M126.561 163.626l-4.27-4.27M132.975 170.039l-3.955-3.955",stroke:"#BFCDDD",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"}),y.createElement("path",{d:"M190.156 211.779h-1.604a4.023 4.023 0 0 1-4.011-4.011V175.68a4.023 4.023 0 0 1 4.01-4.01h1.605a4.023 4.023 0 0 1 4.011 4.01v32.088a4.023 4.023 0 0 1-4.01 4.01",fill:"#A3B4C6"}),y.createElement("path",{d:"M237.824 212.977a4.813 4.813 0 0 1-4.813 4.813h-86.636a4.813 4.813 0 0 1 0-9.626h86.636a4.813 4.813 0 0 1 4.813 4.813",fill:"#A3B4C6"}),y.createElement("mask",{fill:"#fff"}),y.createElement("path",{fill:"#A3B4C6",mask:"url(#d)",d:"M154.098 190.096h70.513v-84.617h-70.513z"}),y.createElement("path",{d:"M224.928 190.096H153.78a3.219 3.219 0 0 1-3.208-3.209V167.92a3.219 3.219 0 0 1 3.208-3.21h71.148a3.219 3.219 0 0 1 3.209 3.21v18.967a3.219 3.219 0 0 1-3.21 3.209M224.928 130.832H153.78a3.218 3.218 0 0 1-3.208-3.208v-18.968a3.219 3.219 0 0 1 3.208-3.209h71.148a3.219 3.219 0 0 1 3.209 3.21v18.967a3.218 3.218 0 0 1-3.21 3.208",fill:"#BFCDDD",mask:"url(#d)"}),y.createElement("path",{d:"M159.563 120.546a2.407 2.407 0 1 1 0-4.813 2.407 2.407 0 0 1 0 4.813M166.98 120.546a2.407 2.407 0 1 1 0-4.813 2.407 2.407 0 0 1 0 4.813M174.397 120.546a2.407 2.407 0 1 1 0-4.813 2.407 2.407 0 0 1 0 4.813M222.539 120.546h-22.461a.802.802 0 0 1-.802-.802v-3.208c0-.443.359-.803.802-.803h22.46c.444 0 .803.36.803.803v3.208c0 .443-.36.802-.802.802",fill:"#FFF",mask:"url(#d)"}),y.createElement("path",{d:"M224.928 160.464H153.78a3.218 3.218 0 0 1-3.208-3.209v-18.967a3.219 3.219 0 0 1 3.208-3.209h71.148a3.219 3.219 0 0 1 3.209 3.209v18.967a3.218 3.218 0 0 1-3.21 3.209",fill:"#BFCDDD",mask:"url(#d)"}),y.createElement("path",{d:"M173.455 130.832h49.301M164.984 130.832h6.089M155.952 130.832h6.75M173.837 160.613h49.3M165.365 160.613h6.089M155.57 160.613h6.751",stroke:"#7C90A5",strokeWidth:"1.124",strokeLinecap:"round",strokeLinejoin:"round",mask:"url(#d)"}),y.createElement("path",{d:"M159.563 151.038a2.407 2.407 0 1 1 0-4.814 2.407 2.407 0 0 1 0 4.814M166.98 151.038a2.407 2.407 0 1 1 0-4.814 2.407 2.407 0 0 1 0 4.814M174.397 151.038a2.407 2.407 0 1 1 .001-4.814 2.407 2.407 0 0 1 0 4.814M222.539 151.038h-22.461a.802.802 0 0 1-.802-.802v-3.209c0-.443.359-.802.802-.802h22.46c.444 0 .803.36.803.802v3.209c0 .443-.36.802-.802.802M159.563 179.987a2.407 2.407 0 1 1 0-4.813 2.407 2.407 0 0 1 0 4.813M166.98 179.987a2.407 2.407 0 1 1 0-4.813 2.407 2.407 0 0 1 0 4.813M174.397 179.987a2.407 2.407 0 1 1 0-4.813 2.407 2.407 0 0 1 0 4.813M222.539 179.987h-22.461a.802.802 0 0 1-.802-.802v-3.209c0-.443.359-.802.802-.802h22.46c.444 0 .803.36.803.802v3.209c0 .443-.36.802-.802.802",fill:"#FFF",mask:"url(#d)"}),y.createElement("path",{d:"M203.04 221.108h-27.372a2.413 2.413 0 0 1-2.406-2.407v-11.448a2.414 2.414 0 0 1 2.406-2.407h27.372a2.414 2.414 0 0 1 2.407 2.407V218.7a2.413 2.413 0 0 1-2.407 2.407",fill:"#BFCDDD",mask:"url(#d)"}),y.createElement("path",{d:"M177.259 207.217v11.52M201.05 207.217v11.52",stroke:"#A3B4C6",strokeWidth:"1.124",strokeLinecap:"round",strokeLinejoin:"round",mask:"url(#d)"}),y.createElement("path",{d:"M162.873 267.894a9.422 9.422 0 0 1-9.422-9.422v-14.82a9.423 9.423 0 0 1 18.845 0v14.82a9.423 9.423 0 0 1-9.423 9.422",fill:"#5BA02E",mask:"url(#d)"}),y.createElement("path",{d:"M171.22 267.83a9.422 9.422 0 0 1-9.422-9.423v-3.438a9.423 9.423 0 0 1 18.845 0v3.438a9.423 9.423 0 0 1-9.422 9.423",fill:"#92C110",mask:"url(#d)"}),y.createElement("path",{d:"M181.31 293.666h-27.712a3.209 3.209 0 0 1-3.209-3.21V269.79a3.209 3.209 0 0 1 3.209-3.21h27.711a3.209 3.209 0 0 1 3.209 3.21v20.668a3.209 3.209 0 0 1-3.209 3.209",fill:"#F2D7AD",mask:"url(#d)"})))},We=Et,ct=function(){return y.createElement("svg",{width:"251",height:"294"},y.createElement("g",{fill:"none",fillRule:"evenodd"},y.createElement("path",{d:"M0 129.023v-2.084C0 58.364 55.591 2.774 124.165 2.774h2.085c68.574 0 124.165 55.59 124.165 124.165v2.084c0 68.575-55.59 124.166-124.165 124.166h-2.085C55.591 253.189 0 197.598 0 129.023",fill:"#E4EBF7"}),y.createElement("path",{d:"M41.417 132.92a8.231 8.231 0 1 1-16.38-1.65 8.231 8.231 0 0 1 16.38 1.65",fill:"#FFF"}),y.createElement("path",{d:"M38.652 136.36l10.425 5.91M49.989 148.505l-12.58 10.73",stroke:"#FFF",strokeWidth:"2"}),y.createElement("path",{d:"M41.536 161.28a5.636 5.636 0 1 1-11.216-1.13 5.636 5.636 0 0 1 11.216 1.13M59.154 145.261a5.677 5.677 0 1 1-11.297-1.138 5.677 5.677 0 0 1 11.297 1.138M100.36 29.516l29.66-.013a4.562 4.562 0 1 0-.004-9.126l-29.66.013a4.563 4.563 0 0 0 .005 9.126M111.705 47.754l29.659-.013a4.563 4.563 0 1 0-.004-9.126l-29.66.013a4.563 4.563 0 1 0 .005 9.126",fill:"#FFF"}),y.createElement("path",{d:"M114.066 29.503V29.5l15.698-.007a4.563 4.563 0 1 0 .004 9.126l-15.698.007v-.002a4.562 4.562 0 0 0-.004-9.122M185.405 137.723c-.55 5.455-5.418 9.432-10.873 8.882-5.456-.55-9.432-5.418-8.882-10.873.55-5.455 5.418-9.432 10.873-8.882 5.455.55 9.432 5.418 8.882 10.873",fill:"#FFF"}),y.createElement("path",{d:"M180.17 143.772l12.572 7.129M193.841 158.42L178.67 171.36",stroke:"#FFF",strokeWidth:"2"}),y.createElement("path",{d:"M185.55 171.926a6.798 6.798 0 1 1-13.528-1.363 6.798 6.798 0 0 1 13.527 1.363M204.12 155.285a6.848 6.848 0 1 1-13.627-1.375 6.848 6.848 0 0 1 13.626 1.375",fill:"#FFF"}),y.createElement("path",{d:"M152.988 194.074a2.21 2.21 0 1 1-4.42 0 2.21 2.21 0 0 1 4.42 0zM225.931 118.217a2.21 2.21 0 1 1-4.421 0 2.21 2.21 0 0 1 4.421 0zM217.09 153.051a2.21 2.21 0 1 1-4.421 0 2.21 2.21 0 0 1 4.42 0zM177.84 109.842a2.21 2.21 0 1 1-4.422 0 2.21 2.21 0 0 1 4.421 0zM196.114 94.454a2.21 2.21 0 1 1-4.421 0 2.21 2.21 0 0 1 4.421 0zM202.844 182.523a2.21 2.21 0 1 1-4.42 0 2.21 2.21 0 0 1 4.42 0z",stroke:"#FFF",strokeWidth:"2"}),y.createElement("path",{stroke:"#FFF",strokeWidth:"2",d:"M215.125 155.262l-1.902 20.075-10.87 5.958M174.601 176.636l-6.322 9.761H156.98l-4.484 6.449M175.874 127.28V111.56M221.51 119.404l-12.77 7.859-15.228-7.86V96.668"}),y.createElement("path",{d:"M180.68 29.32C180.68 13.128 193.806 0 210 0c16.193 0 29.32 13.127 29.32 29.32 0 16.194-13.127 29.322-29.32 29.322-16.193 0-29.32-13.128-29.32-29.321",fill:"#A26EF4"}),y.createElement("path",{d:"M221.45 41.706l-21.563-.125a1.744 1.744 0 0 1-1.734-1.754l.071-12.23a1.744 1.744 0 0 1 1.754-1.734l21.562.125c.964.006 1.74.791 1.735 1.755l-.071 12.229a1.744 1.744 0 0 1-1.754 1.734",fill:"#FFF"}),y.createElement("path",{d:"M215.106 29.192c-.015 2.577-2.049 4.654-4.543 4.64-2.494-.014-4.504-2.115-4.489-4.693l.04-6.925c.016-2.577 2.05-4.654 4.543-4.64 2.494.015 4.504 2.116 4.49 4.693l-.04 6.925zm-4.53-14.074a6.877 6.877 0 0 0-6.916 6.837l-.043 7.368a6.877 6.877 0 0 0 13.754.08l.042-7.368a6.878 6.878 0 0 0-6.837-6.917zM167.566 68.367h-3.93a4.73 4.73 0 0 1-4.717-4.717 4.73 4.73 0 0 1 4.717-4.717h3.93a4.73 4.73 0 0 1 4.717 4.717 4.73 4.73 0 0 1-4.717 4.717",fill:"#FFF"}),y.createElement("path",{d:"M168.214 248.838a6.611 6.611 0 0 1-6.61-6.611v-66.108a6.611 6.611 0 0 1 13.221 0v66.108a6.611 6.611 0 0 1-6.61 6.61",fill:"#5BA02E"}),y.createElement("path",{d:"M176.147 248.176a6.611 6.611 0 0 1-6.61-6.61v-33.054a6.611 6.611 0 1 1 13.221 0v33.053a6.611 6.611 0 0 1-6.61 6.611",fill:"#92C110"}),y.createElement("path",{d:"M185.994 293.89h-27.376a3.17 3.17 0 0 1-3.17-3.17v-45.887a3.17 3.17 0 0 1 3.17-3.17h27.376a3.17 3.17 0 0 1 3.17 3.17v45.886a3.17 3.17 0 0 1-3.17 3.17",fill:"#F2D7AD"}),y.createElement("path",{d:"M81.972 147.673s6.377-.927 17.566-1.28c11.729-.371 17.57 1.086 17.57 1.086s3.697-3.855.968-8.424c1.278-12.077 5.982-32.827.335-48.273-1.116-1.339-3.743-1.512-7.536-.62-1.337.315-7.147-.149-7.983-.1l-15.311-.347s-3.487-.17-8.035-.508c-1.512-.113-4.227-1.683-5.458-.338-.406.443-2.425 5.669-1.97 16.077l8.635 35.642s-3.141 3.61 1.219 7.085",fill:"#FFF"}),y.createElement("path",{d:"M75.768 73.325l-.9-6.397 11.982-6.52s7.302-.118 8.038 1.205c.737 1.324-5.616.993-5.616.993s-1.836 1.388-2.615 2.5c-1.654 2.363-.986 6.471-8.318 5.986-1.708.284-2.57 2.233-2.57 2.233",fill:"#FFC6A0"}),y.createElement("path",{d:"M52.44 77.672s14.217 9.406 24.973 14.444c1.061.497-2.094 16.183-11.892 11.811-7.436-3.318-20.162-8.44-21.482-14.496-.71-3.258 2.543-7.643 8.401-11.76M141.862 80.113s-6.693 2.999-13.844 6.876c-3.894 2.11-10.137 4.704-12.33 7.988-6.224 9.314 3.536 11.22 12.947 7.503 6.71-2.651 28.999-12.127 13.227-22.367",fill:"#FFB594"}),y.createElement("path",{d:"M76.166 66.36l3.06 3.881s-2.783 2.67-6.31 5.747c-7.103 6.195-12.803 14.296-15.995 16.44-3.966 2.662-9.754 3.314-12.177-.118-3.553-5.032.464-14.628 31.422-25.95",fill:"#FFC6A0"}),y.createElement("path",{d:"M64.674 85.116s-2.34 8.413-8.912 14.447c.652.548 18.586 10.51 22.144 10.056 5.238-.669 6.417-18.968 1.145-20.531-.702-.208-5.901-1.286-8.853-2.167-.87-.26-1.611-1.71-3.545-.936l-1.98-.869zM128.362 85.826s5.318 1.956 7.325 13.734c-.546.274-17.55 12.35-21.829 7.805-6.534-6.94-.766-17.393 4.275-18.61 4.646-1.121 5.03-1.37 10.23-2.929",fill:"#FFF"}),y.createElement("path",{d:"M78.18 94.656s.911 7.41-4.914 13.078",stroke:"#E4EBF7",strokeWidth:"1.051",strokeLinecap:"round",strokeLinejoin:"round"}),y.createElement("path",{d:"M87.397 94.68s3.124 2.572 10.263 2.572c7.14 0 9.074-3.437 9.074-3.437",stroke:"#E4EBF7",strokeWidth:".932",strokeLinecap:"round",strokeLinejoin:"round"}),y.createElement("path",{d:"M117.184 68.639l-6.781-6.177s-5.355-4.314-9.223-.893c-3.867 3.422 4.463 2.083 5.653 4.165 1.19 2.082.848 1.143-2.083.446-5.603-1.331-2.082.893 2.975 5.355 2.091 1.845 6.992.955 6.992.955l2.467-3.851z",fill:"#FFC6A0"}),y.createElement("path",{d:"M105.282 91.315l-.297-10.937-15.918-.027-.53 10.45c-.026.403.17.788.515.999 2.049 1.251 9.387 5.093 15.799.424.287-.21.443-.554.431-.91",fill:"#FFB594"}),y.createElement("path",{d:"M107.573 74.24c.817-1.147.982-9.118 1.015-11.928a1.046 1.046 0 0 0-.965-1.055l-4.62-.365c-7.71-1.044-17.071.624-18.253 6.346-5.482 5.813-.421 13.244-.421 13.244s1.963 3.566 4.305 6.791c.756 1.041.398-3.731 3.04-5.929 5.524-4.594 15.899-7.103 15.899-7.103",fill:"#5C2552"}),y.createElement("path",{d:"M88.426 83.206s2.685 6.202 11.602 6.522c7.82.28 8.973-7.008 7.434-17.505l-.909-5.483c-6.118-2.897-15.478.54-15.478.54s-.576 2.044-.19 5.504c-2.276 2.066-1.824 5.618-1.824 5.618s-.905-1.922-1.98-2.321c-.86-.32-1.897.089-2.322 1.98-1.04 4.632 3.667 5.145 3.667 5.145",fill:"#FFC6A0"}),y.createElement("path",{stroke:"#DB836E",strokeWidth:"1.145",strokeLinecap:"round",strokeLinejoin:"round",d:"M100.843 77.099l1.701-.928-1.015-4.324.674-1.406"}),y.createElement("path",{d:"M105.546 74.092c-.022.713-.452 1.279-.96 1.263-.51-.016-.904-.607-.882-1.32.021-.713.452-1.278.96-1.263.51.016.904.607.882 1.32M97.592 74.349c-.022.713-.452 1.278-.961 1.263-.509-.016-.904-.607-.882-1.32.022-.713.452-1.279.961-1.263.51.016.904.606.882 1.32",fill:"#552950"}),y.createElement("path",{d:"M91.132 86.786s5.269 4.957 12.679 2.327",stroke:"#DB836E",strokeWidth:"1.145",strokeLinecap:"round",strokeLinejoin:"round"}),y.createElement("path",{d:"M99.776 81.903s-3.592.232-1.44-2.79c1.59-1.496 4.897-.46 4.897-.46s1.156 3.906-3.457 3.25",fill:"#DB836E"}),y.createElement("path",{d:"M102.88 70.6s2.483.84 3.402.715M93.883 71.975s2.492-1.144 4.778-1.073",stroke:"#5C2552",strokeWidth:"1.526",strokeLinecap:"round",strokeLinejoin:"round"}),y.createElement("path",{d:"M86.32 77.374s.961.879 1.458 2.106c-.377.48-1.033 1.152-.236 1.809M99.337 83.719s1.911.151 2.509-.254",stroke:"#DB836E",strokeWidth:"1.145",strokeLinecap:"round",strokeLinejoin:"round"}),y.createElement("path",{d:"M87.782 115.821l15.73-3.012M100.165 115.821l10.04-2.008",stroke:"#E4EBF7",strokeWidth:"1.051",strokeLinecap:"round",strokeLinejoin:"round"}),y.createElement("path",{d:"M66.508 86.763s-1.598 8.83-6.697 14.078",stroke:"#E4EBF7",strokeWidth:"1.114",strokeLinecap:"round",strokeLinejoin:"round"}),y.createElement("path",{d:"M128.31 87.934s3.013 4.121 4.06 11.785",stroke:"#E4EBF7",strokeWidth:"1.051",strokeLinecap:"round",strokeLinejoin:"round"}),y.createElement("path",{d:"M64.09 84.816s-6.03 9.912-13.607 9.903",stroke:"#DB836E",strokeWidth:".795",strokeLinecap:"round",strokeLinejoin:"round"}),y.createElement("path",{d:"M112.366 65.909l-.142 5.32s5.993 4.472 11.945 9.202c4.482 3.562 8.888 7.455 10.985 8.662 4.804 2.766 8.9 3.355 11.076 1.808 4.071-2.894 4.373-9.878-8.136-15.263-4.271-1.838-16.144-6.36-25.728-9.73",fill:"#FFC6A0"}),y.createElement("path",{d:"M130.532 85.488s4.588 5.757 11.619 6.214",stroke:"#DB836E",strokeWidth:".75",strokeLinecap:"round",strokeLinejoin:"round"}),y.createElement("path",{d:"M121.708 105.73s-.393 8.564-1.34 13.612",stroke:"#E4EBF7",strokeWidth:"1.051",strokeLinecap:"round",strokeLinejoin:"round"}),y.createElement("path",{d:"M115.784 161.512s-3.57-1.488-2.678-7.14",stroke:"#648BD8",strokeWidth:"1.051",strokeLinecap:"round",strokeLinejoin:"round"}),y.createElement("path",{d:"M101.52 290.246s4.326 2.057 7.408 1.03c2.842-.948 4.564.673 7.132 1.186 2.57.514 6.925 1.108 11.772-1.269-.104-5.551-6.939-4.01-12.048-6.763-2.582-1.39-3.812-4.757-3.625-8.863h-9.471s-1.402 10.596-1.169 14.68",fill:"#CBD1D1"}),y.createElement("path",{d:"M101.496 290.073s2.447 1.281 6.809.658c3.081-.44 3.74.485 7.479 1.039 3.739.554 10.802-.07 11.91-.9.415 1.108-.347 2.077-.347 2.077s-1.523.608-4.847.831c-2.045.137-5.843.293-7.663-.507-1.8-1.385-5.286-1.917-5.77-.243-3.947.958-7.41-.288-7.41-.288l-.16-2.667z",fill:"#2B0849"}),y.createElement("path",{d:"M108.824 276.19h3.116s-.103 6.751 4.57 8.62c-4.673.624-8.62-2.32-7.686-8.62",fill:"#A4AABA"}),y.createElement("path",{d:"M57.65 272.52s-2.122 7.47-4.518 12.396c-1.811 3.724-4.255 7.548 5.505 7.548 6.698 0 9.02-.483 7.479-6.648-1.541-6.164.268-13.296.268-13.296H57.65z",fill:"#CBD1D1"}),y.createElement("path",{d:"M51.54 290.04s2.111 1.178 6.682 1.178c6.128 0 8.31-1.662 8.31-1.662s.605 1.122-.624 2.18c-1 .862-3.624 1.603-7.444 1.559-4.177-.049-5.876-.57-6.786-1.177-.831-.554-.692-1.593-.138-2.078",fill:"#2B0849"}),y.createElement("path",{d:"M58.533 274.438s.034 1.529-.315 2.95c-.352 1.431-1.087 3.127-1.139 4.17-.058 1.16 4.57 1.592 5.194.035.623-1.559 1.303-6.475 1.927-7.306.622-.831-4.94-2.135-5.667.15",fill:"#A4AABA"}),y.createElement("path",{d:"M100.885 277.015l13.306.092s1.291-54.228 1.843-64.056c.552-9.828 3.756-43.13.997-62.788l-12.48-.64-22.725.776s-.433 3.944-1.19 9.921c-.062.493-.677.838-.744 1.358-.075.582.42 1.347.318 1.956-2.35 14.003-6.343 32.926-8.697 46.425-.116.663-1.227 1.004-1.45 2.677-.04.3.21 1.516.112 1.785-6.836 18.643-10.89 47.584-14.2 61.551l14.528-.014s2.185-8.524 4.008-16.878c2.796-12.817 22.987-84.553 22.987-84.553l3-.517 1.037 46.1s-.223 1.228.334 2.008c.558.782-.556 1.117-.39 2.233l.39 1.784s-.446 7.14-.892 11.826c-.446 4.685-.092 38.954-.092 38.954",fill:"#7BB2F9"}),y.createElement("path",{d:"M77.438 220.434c1.146.094 4.016-2.008 6.916-4.91M107.55 223.931s2.758-1.103 6.069-3.862",stroke:"#648BD8",strokeWidth:"1.051",strokeLinecap:"round",strokeLinejoin:"round"}),y.createElement("path",{d:"M108.459 220.905s2.759-1.104 6.07-3.863",stroke:"#648BD8",strokeLinecap:"round",strokeLinejoin:"round"}),y.createElement("path",{d:"M76.099 223.557s2.608-.587 6.47-3.346M87.33 150.82c-.27 3.088.297 8.478-4.315 9.073M104.829 149.075s.11 13.936-1.286 14.983c-2.207 1.655-2.975 1.934-2.975 1.934M101.014 149.63s.035 12.81-1.19 24.245M94.93 174.965s7.174-1.655 9.38-1.655M75.671 204.754c-.316 1.55-.64 3.067-.973 4.535 0 0-1.45 1.822-1.003 3.756.446 1.934-.943 2.034-4.96 15.273-1.686 5.559-4.464 18.49-6.313 27.447-.078.38-4.018 18.06-4.093 18.423M77.043 196.743a313.269 313.269 0 0 1-.877 4.729M83.908 151.414l-1.19 10.413s-1.091.148-.496 2.23c.111 1.34-2.66 15.692-5.153 30.267M57.58 272.94h13.238",stroke:"#648BD8",strokeWidth:"1.051",strokeLinecap:"round",strokeLinejoin:"round"}),y.createElement("path",{d:"M117.377 147.423s-16.955-3.087-35.7.199c.157 2.501-.002 4.128-.002 4.128s14.607-2.802 35.476-.31c.251-2.342.226-4.017.226-4.017",fill:"#192064"}),y.createElement("path",{d:"M107.511 150.353l.004-4.885a.807.807 0 0 0-.774-.81c-2.428-.092-5.04-.108-7.795-.014a.814.814 0 0 0-.784.81l-.003 4.88c0 .456.371.82.827.808a140.76 140.76 0 0 1 7.688.017.81.81 0 0 0 .837-.806",fill:"#FFF"}),y.createElement("path",{d:"M106.402 149.426l.002-3.06a.64.64 0 0 0-.616-.643 94.135 94.135 0 0 0-5.834-.009.647.647 0 0 0-.626.643l-.001 3.056c0 .36.291.648.651.64 1.78-.04 3.708-.041 5.762.012.36.009.662-.279.662-.64",fill:"#192064"}),y.createElement("path",{d:"M101.485 273.933h12.272M102.652 269.075c.006 3.368.04 5.759.11 6.47M102.667 263.125c-.009 1.53-.015 2.98-.016 4.313M102.204 174.024l.893 44.402s.669 1.561-.224 2.677c-.892 1.116 2.455.67.893 2.231-1.562 1.562.893 1.116 0 3.347-.592 1.48-.988 20.987-1.09 34.956",stroke:"#648BD8",strokeWidth:"1.051",strokeLinecap:"round",strokeLinejoin:"round"})))},ce=ct,Vt={success:u.a,error:H.a,info:k.a,warning:ve},It={"404":et,"500":We,"403":ce},Mt=Object.keys(It),Tt=function(Jt,At){var vt=At.status,ie=At.icon,J=b()("".concat(Jt,"-icon"));if(Object(I.a)(!(typeof ie=="string"&&ie.length>2),"Result","`icon` is using ReactNode instead of string naming in v4. Please check `".concat(ie,"` at https://ant.design/components/icon")),Mt.includes("".concat(vt))){var ee=It[vt];return y.createElement("div",{className:"".concat(J," ").concat(Jt,"-image")},y.createElement(ee,null))}var Ie=y.createElement(Vt[vt]);return y.createElement("div",{className:J},ie||Ie)},ye=function(Jt,At){var vt=At.extra;return vt&&y.createElement("div",{className:"".concat(Jt,"-extra")},vt)},lt=function(Jt){var At=Jt.prefixCls,vt=Jt.className,ie=Jt.subTitle,J=Jt.title,ee=Jt.style,Ie=Jt.children,me=Jt.status,Ve=me===void 0?"info":me,Re=Jt.icon,bt=Jt.extra,Pt=y.useContext(we.b),ht=Pt.getPrefixCls,Ye=Pt.direction,Ke=ht("result",At),nt=b()(Ke,"".concat(Ke,"-").concat(Ve),vt,Object(M.a)({},"".concat(Ke,"-rtl"),Ye==="rtl"));return y.createElement("div",{className:nt,style:ee},Tt(Ke,{status:Ve,icon:Re}),y.createElement("div",{className:"".concat(Ke,"-title")},J),ie&&y.createElement("div",{className:"".concat(Ke,"-subtitle")},ie),ye(Ke,{extra:bt}),Ie&&y.createElement("div",{className:"".concat(Ke,"-content")},Ie))};lt.PRESENTED_IMAGE_403=It["403"],lt.PRESENTED_IMAGE_404=It["404"],lt.PRESENTED_IMAGE_500=It["500"];var yt=A.a=lt},MrPd:function(ze,A,r){var M=r("hypo"),y=r("ljhN"),T=Object.prototype,b=T.hasOwnProperty;function u(H,k,Z){var oe=H[k];(!(b.call(H,k)&&y(oe,Z))||Z===void 0&&!(k in H))&&M(H,k,Z)}ze.exports=u},NK8t:function(ze,A,r){"use strict";var M=r("5NDa"),y=r("5rEg"),T=r("DYRE"),b=r("zeV3"),u=r("q1tI"),H=r.n(u),k=r("Zm9Q"),Z=r("WFLz"),oe=["children","space","valuePropName"];function ne(ye,lt){if(ye==null)return{};var yt=Te(ye,lt),Dt,Jt;if(Object.getOwnPropertySymbols){var At=Object.getOwnPropertySymbols(ye);for(Jt=0;Jt<At.length;Jt++)Dt=At[Jt],!(lt.indexOf(Dt)>=0)&&(!Object.prototype.propertyIsEnumerable.call(ye,Dt)||(yt[Dt]=ye[Dt]))}return yt}function Te(ye,lt){if(ye==null)return{};var yt={},Dt=Object.keys(ye),Jt,At;for(At=0;At<Dt.length;At++)Jt=Dt[At],!(lt.indexOf(Jt)>=0)&&(yt[Jt]=ye[Jt]);return yt}function at(){return at=Object.assign||function(ye){for(var lt=1;lt<arguments.length;lt++){var yt=arguments[lt];for(var Dt in yt)Object.prototype.hasOwnProperty.call(yt,Dt)&&(ye[Dt]=yt[Dt])}return ye},at.apply(this,arguments)}function ve(ye,lt){var yt=Object.keys(ye);if(Object.getOwnPropertySymbols){var Dt=Object.getOwnPropertySymbols(ye);lt&&(Dt=Dt.filter(function(Jt){return Object.getOwnPropertyDescriptor(ye,Jt).enumerable})),yt.push.apply(yt,Dt)}return yt}function we(ye){for(var lt=1;lt<arguments.length;lt++){var yt=arguments[lt]!=null?arguments[lt]:{};lt%2?ve(Object(yt),!0).forEach(function(Dt){I(ye,Dt,yt[Dt])}):Object.getOwnPropertyDescriptors?Object.defineProperties(ye,Object.getOwnPropertyDescriptors(yt)):ve(Object(yt)).forEach(function(Dt){Object.defineProperty(ye,Dt,Object.getOwnPropertyDescriptor(yt,Dt))})}return ye}function I(ye,lt,yt){return lt in ye?Object.defineProperty(ye,lt,{value:yt,enumerable:!0,configurable:!0,writable:!0}):ye[lt]=yt,ye}function Ce(ye){return ct(ye)||We(ye)||Et(ye)||et()}function et(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Et(ye,lt){if(!!ye){if(typeof ye=="string")return ce(ye,lt);var yt=Object.prototype.toString.call(ye).slice(8,-1);if(yt==="Object"&&ye.constructor&&(yt=ye.constructor.name),yt==="Map"||yt==="Set")return Array.from(ye);if(yt==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(yt))return ce(ye,lt)}}function We(ye){if(typeof Symbol!="undefined"&&ye[Symbol.iterator]!=null||ye["@@iterator"]!=null)return Array.from(ye)}function ct(ye){if(Array.isArray(ye))return ce(ye)}function ce(ye,lt){(lt==null||lt>ye.length)&&(lt=ye.length);for(var yt=0,Dt=new Array(lt);yt<lt;yt++)Dt[yt]=ye[yt];return Dt}var Vt={space:b.b,group:y.a.Group};function It(ye){var lt=arguments.length<=1?void 0:arguments[1];return lt&&lt.target&&ye in lt.target?lt.target[ye]:lt}var Mt=function(lt){var yt=lt.children,Dt=lt.value,Jt=Dt===void 0?[]:Dt,At=lt.valuePropName,vt=lt.onChange,ie=lt.fieldProps,J=lt.space,ee=lt.type,Ie=ee===void 0?"space":ee,me=function(Ye,Ke){var nt,Ot=Ce(Jt);Ot[Ke]=It(At||"value",Ye),vt==null||vt(Ot),ie==null||(nt=ie.onChange)===null||nt===void 0||nt.call(ie,Ot)},Ve=-1,Re=Object(k.a)(yt).map(function(ht){if(H.a.isValidElement(ht)){var Ye,Ke,nt;Ve+=1;var Ot=Ve,Xe=(ht==null||(Ye=ht.type)===null||Ye===void 0?void 0:Ye.displayName)==="ProFormComponent"||(ht==null||(Ke=ht.props)===null||Ke===void 0?void 0:Ke.readonly),xt=Xe?we(we({key:Ot,ignoreFormItem:!0},ht.props||{}),{},{fieldProps:we(we({},ht==null||(nt=ht.props)===null||nt===void 0?void 0:nt.fieldProps),{},{onChange:function(){me(arguments.length<=0?void 0:arguments[0],Ot)}}),value:Jt[Ot],onChange:void 0}):we(we({key:Ot},ht.props||{}),{},{value:Jt[Ot],onChange:function(B){var z,q;me(B,Ot),(z=(q=ht.props).onChange)===null||z===void 0||z.call(q,B)}});return H.a.cloneElement(ht,xt)}return ht}),bt=Vt[Ie],Pt=we({},Ie==="group"?{compact:!0}:{});return H.a.createElement(bt,at({},Pt,J,{align:"start"}),Re)},Tt=H.a.forwardRef(function(ye,lt){var yt=ye.children,Dt=ye.space,Jt=ye.valuePropName,At=ne(ye,oe);return Object(u.useImperativeHandle)(lt,function(){},[]),H.a.createElement(Mt,at({space:Dt,valuePropName:Jt},At.fieldProps,{onChange:void 0},At),yt)});A.a=Object(Z.a)(Tt)},NUBc:function(ze,A,r){"use strict";var M=r("rePB"),y=r("wx14"),T=r("q1tI"),b=r.n(T),u=r("VTBJ"),H=r("1OyB"),k=r("vuIU"),Z=r("Ji7U"),oe=r("LK+K"),ne=r("TSYQ"),Te=r.n(ne),at=function(Xe){var xt,Ne="".concat(Xe.rootPrefixCls,"-item"),B=Te()(Ne,"".concat(Ne,"-").concat(Xe.page),(xt={},Object(M.a)(xt,"".concat(Ne,"-active"),Xe.active),Object(M.a)(xt,"".concat(Ne,"-disabled"),!Xe.page),Object(M.a)(xt,Xe.className,!!Xe.className),xt)),z=function(){Xe.onClick(Xe.page)},q=function(K){Xe.onKeyPress(K,Xe.onClick,Xe.page)};return b.a.createElement("li",{title:Xe.showTitle?Xe.page:null,className:B,onClick:z,onKeyPress:q,tabIndex:"0"},Xe.itemRender(Xe.page,"page",b.a.createElement("a",{rel:"nofollow"},Xe.page)))},ve=at,we={ZERO:48,NINE:57,NUMPAD_ZERO:96,NUMPAD_NINE:105,BACKSPACE:8,DELETE:46,ENTER:13,ARROW_UP:38,ARROW_DOWN:40},I=function(Ot){Object(Z.a)(xt,Ot);var Xe=Object(oe.a)(xt);function xt(){var Ne;Object(H.a)(this,xt);for(var B=arguments.length,z=new Array(B),q=0;q<B;q++)z[q]=arguments[q];return Ne=Xe.call.apply(Xe,[this].concat(z)),Ne.state={goInputText:""},Ne.buildOptionText=function(S){return"".concat(S," ").concat(Ne.props.locale.items_per_page)},Ne.changeSize=function(S){Ne.props.changeSize(Number(S))},Ne.handleChange=function(S){Ne.setState({goInputText:S.target.value})},Ne.handleBlur=function(S){var K=Ne.props,fe=K.goButton,Fe=K.quickGo,pe=K.rootPrefixCls,Me=Ne.state.goInputText;fe||Me===""||(Ne.setState({goInputText:""}),!(S.relatedTarget&&(S.relatedTarget.className.indexOf("".concat(pe,"-item-link"))>=0||S.relatedTarget.className.indexOf("".concat(pe,"-item"))>=0))&&Fe(Ne.getValidValue()))},Ne.go=function(S){var K=Ne.state.goInputText;K!==""&&(S.keyCode===we.ENTER||S.type==="click")&&(Ne.setState({goInputText:""}),Ne.props.quickGo(Ne.getValidValue()))},Ne}return Object(k.a)(xt,[{key:"getValidValue",value:function(){var B=this.state.goInputText;return!B||isNaN(B)?void 0:Number(B)}},{key:"getPageSizeOptions",value:function(){var B=this.props,z=B.pageSize,q=B.pageSizeOptions;return q.some(function(S){return S.toString()===z.toString()})?q:q.concat([z.toString()]).sort(function(S,K){var fe=isNaN(Number(S))?0:Number(S),Fe=isNaN(Number(K))?0:Number(K);return fe-Fe})}},{key:"render",value:function(){var B=this,z=this.props,q=z.pageSize,S=z.locale,K=z.rootPrefixCls,fe=z.changeSize,Fe=z.quickGo,pe=z.goButton,Me=z.selectComponentClass,U=z.buildOptionText,le=z.selectPrefixCls,Le=z.disabled,ot=this.state.goInputText,St="".concat(K,"-options"),Ge=Me,Be=null,Nt=null,kt=null;if(!fe&&!Fe)return null;var ft=this.getPageSizeOptions();if(fe&&Ge){var ut=ft.map(function(Ze,Qt){return b.a.createElement(Ge.Option,{key:Qt,value:Ze.toString()},(U||B.buildOptionText)(Ze))});Be=b.a.createElement(Ge,{disabled:Le,prefixCls:le,showSearch:!1,className:"".concat(St,"-size-changer"),optionLabelProp:"children",dropdownMatchSelectWidth:!1,value:(q||ft[0]).toString(),onChange:this.changeSize,getPopupContainer:function(Qt){return Qt.parentNode}},ut)}return Fe&&(pe&&(kt=typeof pe=="boolean"?b.a.createElement("button",{type:"button",onClick:this.go,onKeyUp:this.go,disabled:Le,className:"".concat(St,"-quick-jumper-button")},S.jump_to_confirm):b.a.createElement("span",{onClick:this.go,onKeyUp:this.go},pe)),Nt=b.a.createElement("div",{className:"".concat(St,"-quick-jumper")},S.jump_to,b.a.createElement("input",{disabled:Le,type:"text",value:ot,onChange:this.handleChange,onKeyUp:this.go,onBlur:this.handleBlur}),S.page,kt)),b.a.createElement("li",{className:"".concat(St)},Be,Nt)}}]),xt}(b.a.Component);I.defaultProps={pageSizeOptions:["10","20","50","100"]};var Ce=I,et=r("N2Kk");function Et(){}function We(Ot){return typeof Ot=="number"&&isFinite(Ot)&&Math.floor(Ot)===Ot}function ct(Ot,Xe,xt){return xt}function ce(Ot,Xe,xt){var Ne=typeof Ot=="undefined"?Xe.pageSize:Ot;return Math.floor((xt.total-1)/Ne)+1}var Vt=function(Ot){Object(Z.a)(xt,Ot);var Xe=Object(oe.a)(xt);function xt(Ne){var B;Object(H.a)(this,xt),B=Xe.call(this,Ne),B.getJumpPrevPage=function(){return Math.max(1,B.state.current-(B.props.showLessItems?3:5))},B.getJumpNextPage=function(){return Math.min(ce(void 0,B.state,B.props),B.state.current+(B.props.showLessItems?3:5))},B.getItemIcon=function(fe,Fe){var pe=B.props.prefixCls,Me=fe||b.a.createElement("button",{type:"button","aria-label":Fe,className:"".concat(pe,"-item-link")});return typeof fe=="function"&&(Me=b.a.createElement(fe,Object(u.a)({},B.props))),Me},B.savePaginationNode=function(fe){B.paginationNode=fe},B.isValid=function(fe){return We(fe)&&fe!==B.state.current},B.shouldDisplayQuickJumper=function(){var fe=B.props,Fe=fe.showQuickJumper,pe=fe.pageSize,Me=fe.total;return Me<=pe?!1:Fe},B.handleKeyDown=function(fe){(fe.keyCode===we.ARROW_UP||fe.keyCode===we.ARROW_DOWN)&&fe.preventDefault()},B.handleKeyUp=function(fe){var Fe=B.getValidValue(fe),pe=B.state.currentInputValue;Fe!==pe&&B.setState({currentInputValue:Fe}),fe.keyCode===we.ENTER?B.handleChange(Fe):fe.keyCode===we.ARROW_UP?B.handleChange(Fe-1):fe.keyCode===we.ARROW_DOWN&&B.handleChange(Fe+1)},B.changePageSize=function(fe){var Fe=B.state.current,pe=ce(fe,B.state,B.props);Fe=Fe>pe?pe:Fe,pe===0&&(Fe=B.state.current),typeof fe=="number"&&("pageSize"in B.props||B.setState({pageSize:fe}),"current"in B.props||B.setState({current:Fe,currentInputValue:Fe})),B.props.onShowSizeChange(Fe,fe),"onChange"in B.props&&B.props.onChange&&B.props.onChange(Fe,fe)},B.handleChange=function(fe){var Fe=B.props.disabled,pe=fe;if(B.isValid(pe)&&!Fe){var Me=ce(void 0,B.state,B.props);pe>Me?pe=Me:pe<1&&(pe=1),"current"in B.props||B.setState({current:pe,currentInputValue:pe});var U=B.state.pageSize;return B.props.onChange(pe,U),pe}return B.state.current},B.prev=function(){B.hasPrev()&&B.handleChange(B.state.current-1)},B.next=function(){B.hasNext()&&B.handleChange(B.state.current+1)},B.jumpPrev=function(){B.handleChange(B.getJumpPrevPage())},B.jumpNext=function(){B.handleChange(B.getJumpNextPage())},B.hasPrev=function(){return B.state.current>1},B.hasNext=function(){return B.state.current<ce(void 0,B.state,B.props)},B.runIfEnter=function(fe,Fe){if(fe.key==="Enter"||fe.charCode===13){for(var pe=arguments.length,Me=new Array(pe>2?pe-2:0),U=2;U<pe;U++)Me[U-2]=arguments[U];Fe.apply(void 0,Me)}},B.runIfEnterPrev=function(fe){B.runIfEnter(fe,B.prev)},B.runIfEnterNext=function(fe){B.runIfEnter(fe,B.next)},B.runIfEnterJumpPrev=function(fe){B.runIfEnter(fe,B.jumpPrev)},B.runIfEnterJumpNext=function(fe){B.runIfEnter(fe,B.jumpNext)},B.handleGoTO=function(fe){(fe.keyCode===we.ENTER||fe.type==="click")&&B.handleChange(B.state.currentInputValue)};var z=Ne.onChange!==Et,q="current"in Ne;q&&!z&&console.warn("Warning: You provided a `current` prop to a Pagination component without an `onChange` handler. This will render a read-only component.");var S=Ne.defaultCurrent;"current"in Ne&&(S=Ne.current);var K=Ne.defaultPageSize;return"pageSize"in Ne&&(K=Ne.pageSize),S=Math.min(S,ce(K,void 0,Ne)),B.state={current:S,currentInputValue:S,pageSize:K},B}return Object(k.a)(xt,[{key:"componentDidUpdate",value:function(B,z){var q=this.props.prefixCls;if(z.current!==this.state.current&&this.paginationNode){var S=this.paginationNode.querySelector(".".concat(q,"-item-").concat(z.current));S&&document.activeElement===S&&S.blur()}}},{key:"getValidValue",value:function(B){var z=B.target.value,q=ce(void 0,this.state,this.props),S=this.state.currentInputValue,K;return z===""?K=z:isNaN(Number(z))?K=S:z>=q?K=q:K=Number(z),K}},{key:"getShowSizeChanger",value:function(){var B=this.props,z=B.showSizeChanger,q=B.total,S=B.totalBoundaryShowSizeChanger;return typeof z!="undefined"?z:q>S}},{key:"renderPrev",value:function(B){var z=this.props,q=z.prevIcon,S=z.itemRender,K=S(B,"prev",this.getItemIcon(q,"prev page")),fe=!this.hasPrev();return Object(T.isValidElement)(K)?Object(T.cloneElement)(K,{disabled:fe}):K}},{key:"renderNext",value:function(B){var z=this.props,q=z.nextIcon,S=z.itemRender,K=S(B,"next",this.getItemIcon(q,"next page")),fe=!this.hasNext();return Object(T.isValidElement)(K)?Object(T.cloneElement)(K,{disabled:fe}):K}},{key:"render",value:function(){var B=this,z=this.props,q=z.prefixCls,S=z.className,K=z.style,fe=z.disabled,Fe=z.hideOnSinglePage,pe=z.total,Me=z.locale,U=z.showQuickJumper,le=z.showLessItems,Le=z.showTitle,ot=z.showTotal,St=z.simple,Ge=z.itemRender,Be=z.showPrevNextJumpers,Nt=z.jumpPrevIcon,kt=z.jumpNextIcon,ft=z.selectComponentClass,ut=z.selectPrefixCls,Ze=z.pageSizeOptions,Qt=this.state,ar=Qt.current,zr=Qt.pageSize,qr=Qt.currentInputValue;if(Fe===!0&&pe<=zr)return null;var tn=ce(void 0,this.state,this.props),_n=[],Bn=null,ya=null,Tr=null,it=null,ue=null,ge=U&&U.goButton,De=le?1:2,Ee=ar-1>0?ar-1:0,be=ar+1<tn?ar+1:tn,rt=Object.keys(this.props).reduce(function(an,dn){return(dn.substr(0,5)==="data-"||dn.substr(0,5)==="aria-"||dn==="role")&&(an[dn]=B.props[dn]),an},{});if(St)return ge&&(typeof ge=="boolean"?ue=b.a.createElement("button",{type:"button",onClick:this.handleGoTO,onKeyUp:this.handleGoTO},Me.jump_to_confirm):ue=b.a.createElement("span",{onClick:this.handleGoTO,onKeyUp:this.handleGoTO},ge),ue=b.a.createElement("li",{title:Le?"".concat(Me.jump_to).concat(ar,"/").concat(tn):null,className:"".concat(q,"-simple-pager")},ue)),b.a.createElement("ul",Object(y.a)({className:Te()(q,"".concat(q,"-simple"),Object(M.a)({},"".concat(q,"-disabled"),fe),S),style:K,ref:this.savePaginationNode},rt),b.a.createElement("li",{title:Le?Me.prev_page:null,onClick:this.prev,tabIndex:this.hasPrev()?0:null,onKeyPress:this.runIfEnterPrev,className:Te()("".concat(q,"-prev"),Object(M.a)({},"".concat(q,"-disabled"),!this.hasPrev())),"aria-disabled":!this.hasPrev()},this.renderPrev(Ee)),b.a.createElement("li",{title:Le?"".concat(ar,"/").concat(tn):null,className:"".concat(q,"-simple-pager")},b.a.createElement("input",{type:"text",value:qr,disabled:fe,onKeyDown:this.handleKeyDown,onKeyUp:this.handleKeyUp,onChange:this.handleKeyUp,size:"3"}),b.a.createElement("span",{className:"".concat(q,"-slash")},"/"),tn),b.a.createElement("li",{title:Le?Me.next_page:null,onClick:this.next,tabIndex:this.hasPrev()?0:null,onKeyPress:this.runIfEnterNext,className:Te()("".concat(q,"-next"),Object(M.a)({},"".concat(q,"-disabled"),!this.hasNext())),"aria-disabled":!this.hasNext()},this.renderNext(be)),ue);if(tn<=3+De*2){var de={locale:Me,rootPrefixCls:q,onClick:this.handleChange,onKeyPress:this.runIfEnter,showTitle:Le,itemRender:Ge};tn||_n.push(b.a.createElement(ve,Object(y.a)({},de,{key:"noPager",page:1,className:"".concat(q,"-item-disabled")})));for(var Pe=1;Pe<=tn;Pe+=1){var xe=ar===Pe;_n.push(b.a.createElement(ve,Object(y.a)({},de,{key:Pe,page:Pe,active:xe})))}}else{var Oe=le?Me.prev_3:Me.prev_5,dt=le?Me.next_3:Me.next_5;Be&&(Bn=b.a.createElement("li",{title:Le?Oe:null,key:"prev",onClick:this.jumpPrev,tabIndex:"0",onKeyPress:this.runIfEnterJumpPrev,className:Te()("".concat(q,"-jump-prev"),Object(M.a)({},"".concat(q,"-jump-prev-custom-icon"),!!Nt))},Ge(this.getJumpPrevPage(),"jump-prev",this.getItemIcon(Nt,"prev page"))),ya=b.a.createElement("li",{title:Le?dt:null,key:"next",tabIndex:"0",onClick:this.jumpNext,onKeyPress:this.runIfEnterJumpNext,className:Te()("".concat(q,"-jump-next"),Object(M.a)({},"".concat(q,"-jump-next-custom-icon"),!!kt))},Ge(this.getJumpNextPage(),"jump-next",this.getItemIcon(kt,"next page")))),it=b.a.createElement(ve,{locale:Me,last:!0,rootPrefixCls:q,onClick:this.handleChange,onKeyPress:this.runIfEnter,key:tn,page:tn,active:!1,showTitle:Le,itemRender:Ge}),Tr=b.a.createElement(ve,{locale:Me,rootPrefixCls:q,onClick:this.handleChange,onKeyPress:this.runIfEnter,key:1,page:1,active:!1,showTitle:Le,itemRender:Ge});var Gt=Math.max(1,ar-De),$t=Math.min(ar+De,tn);ar-1<=De&&($t=1+De*2),tn-ar<=De&&(Gt=tn-De*2);for(var nr=Gt;nr<=$t;nr+=1){var lr=ar===nr;_n.push(b.a.createElement(ve,{locale:Me,rootPrefixCls:q,onClick:this.handleChange,onKeyPress:this.runIfEnter,key:nr,page:nr,active:lr,showTitle:Le,itemRender:Ge}))}ar-1>=De*2&&ar!==1+2&&(_n[0]=Object(T.cloneElement)(_n[0],{className:"".concat(q,"-item-after-jump-prev")}),_n.unshift(Bn)),tn-ar>=De*2&&ar!==tn-2&&(_n[_n.length-1]=Object(T.cloneElement)(_n[_n.length-1],{className:"".concat(q,"-item-before-jump-next")}),_n.push(ya)),Gt!==1&&_n.unshift(Tr),$t!==tn&&_n.push(it)}var Dr=null;ot&&(Dr=b.a.createElement("li",{className:"".concat(q,"-total-text")},ot(pe,[pe===0?0:(ar-1)*zr+1,ar*zr>pe?pe:ar*zr])));var Pr=!this.hasPrev()||!tn,Wr=!this.hasNext()||!tn;return b.a.createElement("ul",Object(y.a)({className:Te()(q,S,Object(M.a)({},"".concat(q,"-disabled"),fe)),style:K,unselectable:"unselectable",ref:this.savePaginationNode},rt),Dr,b.a.createElement("li",{title:Le?Me.prev_page:null,onClick:this.prev,tabIndex:Pr?null:0,onKeyPress:this.runIfEnterPrev,className:Te()("".concat(q,"-prev"),Object(M.a)({},"".concat(q,"-disabled"),Pr)),"aria-disabled":Pr},this.renderPrev(Ee)),_n,b.a.createElement("li",{title:Le?Me.next_page:null,onClick:this.next,tabIndex:Wr?null:0,onKeyPress:this.runIfEnterNext,className:Te()("".concat(q,"-next"),Object(M.a)({},"".concat(q,"-disabled"),Wr)),"aria-disabled":Wr},this.renderNext(be)),b.a.createElement(Ce,{disabled:fe,locale:Me,rootPrefixCls:q,selectComponentClass:ft,selectPrefixCls:ut,changeSize:this.getShowSizeChanger()?this.changePageSize:null,current:ar,pageSize:zr,pageSizeOptions:Ze,quickGo:this.shouldDisplayQuickJumper()?this.handleChange:null,goButton:ge}))}}],[{key:"getDerivedStateFromProps",value:function(B,z){var q={};if("current"in B&&(q.current=B.current,B.current!==z.current&&(q.currentInputValue=q.current)),"pageSize"in B&&B.pageSize!==z.pageSize){var S=z.current,K=ce(B.pageSize,z,B);S=S>K?K:S,"current"in B||(q.current=S,q.currentInputValue=S),q.pageSize=B.pageSize}return q}}]),xt}(b.a.Component);Vt.defaultProps={defaultCurrent:1,total:0,defaultPageSize:10,onChange:Et,className:"",selectPrefixCls:"rc-select",prefixCls:"rc-pagination",selectComponentClass:null,hideOnSinglePage:!1,showPrevNextJumpers:!0,showQuickJumper:!1,showLessItems:!1,showTitle:!0,onShowSizeChange:Et,locale:et.a,style:{},itemRender:ct,totalBoundaryShowSizeChanger:50};var It=Vt,Mt=r("H4fg"),Tt=r("5bA4"),ye=r("UESt"),lt={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M272.9 512l265.4-339.1c4.1-5.2.4-12.9-6.3-12.9h-77.3c-4.9 0-9.6 2.3-12.6 6.1L186.8 492.3a31.99 31.99 0 000 39.5l255.3 326.1c3 3.9 7.7 6.1 12.6 6.1H532c6.7 0 10.4-7.7 6.3-12.9L272.9 512zm304 0l265.4-339.1c4.1-5.2.4-12.9-6.3-12.9h-77.3c-4.9 0-9.6 2.3-12.6 6.1L490.8 492.3a31.99 31.99 0 000 39.5l255.3 326.1c3 3.9 7.7 6.1 12.6 6.1H836c6.7 0 10.4-7.7 6.3-12.9L576.9 512z"}}]},name:"double-left",theme:"outlined"},yt=lt,Dt=r("6VBw"),Jt=function(Xe,xt){return T.createElement(Dt.a,Object(u.a)(Object(u.a)({},Xe),{},{ref:xt,icon:yt}))};Jt.displayName="DoubleLeftOutlined";var At=T.forwardRef(Jt),vt={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M533.2 492.3L277.9 166.1c-3-3.9-7.7-6.1-12.6-6.1H188c-6.7 0-10.4 7.7-6.3 12.9L447.1 512 181.7 851.1A7.98 7.98 0 00188 864h77.3c4.9 0 9.6-2.3 12.6-6.1l255.3-326.1c9.1-11.7 9.1-27.9 0-39.5zm304 0L581.9 166.1c-3-3.9-7.7-6.1-12.6-6.1H492c-6.7 0-10.4 7.7-6.3 12.9L751.1 512 485.7 851.1A7.98 7.98 0 00492 864h77.3c4.9 0 9.6-2.3 12.6-6.1l255.3-326.1c9.1-11.7 9.1-27.9 0-39.5z"}}]},name:"double-right",theme:"outlined"},ie=vt,J=function(Xe,xt){return T.createElement(Dt.a,Object(u.a)(Object(u.a)({},Xe),{},{ref:xt,icon:ie}))};J.displayName="DoubleRightOutlined";var ee=T.forwardRef(J),Ie=r("2fM7"),me=function(Xe){return T.createElement(Ie.a,Object(y.a)({size:"small"},Xe))};me.Option=Ie.a.Option;var Ve=me,Re=r("YMnH"),bt=r("H84U"),Pt=r("5OYt"),ht=function(Ot,Xe){var xt={};for(var Ne in Ot)Object.prototype.hasOwnProperty.call(Ot,Ne)&&Xe.indexOf(Ne)<0&&(xt[Ne]=Ot[Ne]);if(Ot!=null&&typeof Object.getOwnPropertySymbols=="function")for(var B=0,Ne=Object.getOwnPropertySymbols(Ot);B<Ne.length;B++)Xe.indexOf(Ne[B])<0&&Object.prototype.propertyIsEnumerable.call(Ot,Ne[B])&&(xt[Ne[B]]=Ot[Ne[B]]);return xt},Ye=function(Xe){var xt=Xe.prefixCls,Ne=Xe.selectPrefixCls,B=Xe.className,z=Xe.size,q=Xe.locale,S=ht(Xe,["prefixCls","selectPrefixCls","className","size","locale"]),K=Object(Pt.a)(),fe=K.xs,Fe=T.useContext(bt.b),pe=Fe.getPrefixCls,Me=Fe.direction,U=pe("pagination",xt),le=function(){var St=T.createElement("span",{className:"".concat(U,"-item-ellipsis")},"\u2022\u2022\u2022"),Ge=T.createElement("button",{className:"".concat(U,"-item-link"),type:"button",tabIndex:-1},T.createElement(Tt.a,null)),Be=T.createElement("button",{className:"".concat(U,"-item-link"),type:"button",tabIndex:-1},T.createElement(ye.a,null)),Nt=T.createElement("a",{className:"".concat(U,"-item-link")},T.createElement("div",{className:"".concat(U,"-item-container")},T.createElement(At,{className:"".concat(U,"-item-link-icon")}),St)),kt=T.createElement("a",{className:"".concat(U,"-item-link")},T.createElement("div",{className:"".concat(U,"-item-container")},T.createElement(ee,{className:"".concat(U,"-item-link-icon")}),St));if(Me==="rtl"){var ft=[Be,Ge];Ge=ft[0],Be=ft[1];var ut=[kt,Nt];Nt=ut[0],kt=ut[1]}return{prevIcon:Ge,nextIcon:Be,jumpPrevIcon:Nt,jumpNextIcon:kt}},Le=function(St){var Ge=Object(y.a)(Object(y.a)({},St),q),Be=z==="small"||!!(fe&&!z&&S.responsive),Nt=pe("select",Ne),kt=Te()(Object(M.a)({mini:Be},"".concat(U,"-rtl"),Me==="rtl"),B);return T.createElement(It,Object(y.a)({},S,{prefixCls:U,selectPrefixCls:Nt},le(),{className:kt,selectComponentClass:Be?Ve:Ie.a,locale:Ge}))};return T.createElement(Re.a,{componentName:"Pagination",defaultLocale:Mt.a},Le)},Ke=Ye,nt=A.a=Ke},NYcB:function(ze,A,r){"use strict";r.d(A,"a",function(){return Dt});var M=r("cIOH"),y=r("PQMj"),T=r("rePB"),b=r("U8pU"),u=r("wx14"),H=r("q1tI"),k=r.n(H),Z=r("8XRh"),oe=r("TSYQ"),ne=r.n(oe),Te=r("H84U"),at=r("0n0R"),ve=r("ODXe");function we(At){var vt=At.prefixCls,ie=At.value,J=At.current,ee=At.offset,Ie=ee===void 0?0:ee,me;return Ie&&(me={position:"absolute",top:"".concat(Ie,"00%"),left:0}),H.createElement("span",{style:me,className:ne()("".concat(vt,"-only-unit"),{current:J})},ie)}function I(At,vt,ie){for(var J=At,ee=0;(J+10)%10!==vt;)J+=ie,ee+=ie;return ee}function Ce(At){var vt=At.prefixCls,ie=At.count,J=At.value,ee=Number(J),Ie=Math.abs(ie),me=H.useState(ee),Ve=Object(ve.a)(me,2),Re=Ve[0],bt=Ve[1],Pt=H.useState(Ie),ht=Object(ve.a)(Pt,2),Ye=ht[0],Ke=ht[1],nt=function(){bt(ee),Ke(Ie)};H.useEffect(function(){var S=setTimeout(function(){nt()},1e3);return function(){clearTimeout(S)}},[ee]);var Ot,Xe;if(Re===ee||Number.isNaN(ee)||Number.isNaN(Re))Ot=[H.createElement(we,Object(u.a)({},At,{key:ee,current:!0}))],Xe={transition:"none"};else{Ot=[];for(var xt=ee+10,Ne=[],B=ee;B<=xt;B+=1)Ne.push(B);var z=Ne.findIndex(function(S){return S%10===Re});Ot=Ne.map(function(S,K){var fe=S%10;return H.createElement(we,Object(u.a)({},At,{key:S,value:fe,offset:K-z,current:K===z}))});var q=Ye<Ie?1:-1;Xe={transform:"translateY(".concat(-I(Re,ee,q),"00%)")}}return H.createElement("span",{className:"".concat(vt,"-only"),style:Xe,onTransitionEnd:nt},Ot)}var et=function(At,vt){var ie={};for(var J in At)Object.prototype.hasOwnProperty.call(At,J)&&vt.indexOf(J)<0&&(ie[J]=At[J]);if(At!=null&&typeof Object.getOwnPropertySymbols=="function")for(var ee=0,J=Object.getOwnPropertySymbols(At);ee<J.length;ee++)vt.indexOf(J[ee])<0&&Object.prototype.propertyIsEnumerable.call(At,J[ee])&&(ie[J[ee]]=At[J[ee]]);return ie},Et=function(vt){var ie=vt.prefixCls,J=vt.count,ee=vt.className,Ie=vt.motionClassName,me=vt.style,Ve=vt.title,Re=vt.show,bt=vt.component,Pt=bt===void 0?"sup":bt,ht=vt.children,Ye=et(vt,["prefixCls","count","className","motionClassName","style","title","show","component","children"]),Ke=H.useContext(Te.b),nt=Ke.getPrefixCls,Ot=nt("scroll-number",ie),Xe=Object(u.a)(Object(u.a)({},Ye),{"data-show":Re,style:me,className:ne()(Ot,ee,Ie),title:Ve}),xt=J;if(J&&Number(J)%1==0){var Ne=String(J).split("");xt=Ne.map(function(B,z){return H.createElement(Ce,{prefixCls:Ot,count:Number(J),value:B,key:Ne.length-z})})}return me&&me.borderColor&&(Xe.style=Object(u.a)(Object(u.a)({},me),{boxShadow:"0 0 0 1px ".concat(me.borderColor," inset")})),ht?Object(at.a)(ht,function(B){return{className:ne()("".concat(Ot,"-custom-component"),B==null?void 0:B.className,Ie)}}):H.createElement(Pt,Xe,xt)},We=Et,ct=r("09Wf");function ce(At){return ct.a.indexOf(At)!==-1}var Vt=function(vt){var ie,J=vt.className,ee=vt.prefixCls,Ie=vt.style,me=vt.color,Ve=vt.children,Re=vt.text,bt=vt.placement,Pt=bt===void 0?"end":bt,ht=H.useContext(Te.b),Ye=ht.getPrefixCls,Ke=ht.direction,nt=Ye("ribbon",ee),Ot=ce(me),Xe=ne()(nt,"".concat(nt,"-placement-").concat(Pt),(ie={},Object(T.a)(ie,"".concat(nt,"-rtl"),Ke==="rtl"),Object(T.a)(ie,"".concat(nt,"-color-").concat(me),Ot),ie),J),xt={},Ne={};return me&&!Ot&&(xt.background=me,Ne.color=me),H.createElement("div",{className:"".concat(nt,"-wrapper")},Ve,H.createElement("div",{className:Xe,style:Object(u.a)(Object(u.a)({},xt),Ie)},H.createElement("span",{className:"".concat(nt,"-text")},Re),H.createElement("div",{className:"".concat(nt,"-corner"),style:Ne})))},It=Vt,Mt=function(At,vt){var ie={};for(var J in At)Object.prototype.hasOwnProperty.call(At,J)&&vt.indexOf(J)<0&&(ie[J]=At[J]);if(At!=null&&typeof Object.getOwnPropertySymbols=="function")for(var ee=0,J=Object.getOwnPropertySymbols(At);ee<J.length;ee++)vt.indexOf(J[ee])<0&&Object.prototype.propertyIsEnumerable.call(At,J[ee])&&(ie[J[ee]]=At[J[ee]]);return ie},Tt=function(vt){var ie,J,ee=vt.prefixCls,Ie=vt.scrollNumberPrefixCls,me=vt.children,Ve=vt.status,Re=vt.text,bt=vt.color,Pt=vt.count,ht=Pt===void 0?null:Pt,Ye=vt.overflowCount,Ke=Ye===void 0?99:Ye,nt=vt.dot,Ot=nt===void 0?!1:nt,Xe=vt.size,xt=Xe===void 0?"default":Xe,Ne=vt.title,B=vt.offset,z=vt.style,q=vt.className,S=vt.showZero,K=S===void 0?!1:S,fe=Mt(vt,["prefixCls","scrollNumberPrefixCls","children","status","text","color","count","overflowCount","dot","size","title","offset","style","className","showZero"]),Fe=H.useContext(Te.b),pe=Fe.getPrefixCls,Me=Fe.direction,U=pe("badge",ee),le=ht>Ke?"".concat(Ke,"+"):ht,Le=Ve!=null||bt!=null,ot=le==="0"||le===0,St=Ot&&!ot,Ge=St?"":le,Be=Object(H.useMemo)(function(){var Tr=Ge==null||Ge==="";return(Tr||ot&&!K)&&!St},[Ge,ot,K,St]),Nt=Object(H.useRef)(ht);Be||(Nt.current=ht);var kt=Nt.current,ft=Object(H.useRef)(Ge);Be||(ft.current=Ge);var ut=ft.current,Ze=Object(H.useRef)(St);Be||(Ze.current=St);var Qt=Object(H.useMemo)(function(){if(!B)return Object(u.a)({},z);var Tr={marginTop:B[1]};return Me==="rtl"?Tr.left=parseInt(B[0],10):Tr.right=-parseInt(B[0],10),Object(u.a)(Object(u.a)({},Tr),z)},[Me,B,z]),ar=Ne!=null?Ne:typeof kt=="string"||typeof kt=="number"?kt:void 0,zr=Be||!Re?null:H.createElement("span",{className:"".concat(U,"-status-text")},Re),qr=!kt||Object(b.a)(kt)!=="object"?void 0:Object(at.a)(kt,function(Tr){return{style:Object(u.a)(Object(u.a)({},Qt),Tr.style)}}),tn=ne()((ie={},Object(T.a)(ie,"".concat(U,"-status-dot"),Le),Object(T.a)(ie,"".concat(U,"-status-").concat(Ve),!!Ve),Object(T.a)(ie,"".concat(U,"-status-").concat(bt),ce(bt)),ie)),_n={};bt&&!ce(bt)&&(_n.background=bt);var Bn=ne()(U,(J={},Object(T.a)(J,"".concat(U,"-status"),Le),Object(T.a)(J,"".concat(U,"-not-a-wrapper"),!me),Object(T.a)(J,"".concat(U,"-rtl"),Me==="rtl"),J),q);if(!me&&Le){var ya=Qt.color;return H.createElement("span",Object(u.a)({},fe,{className:Bn,style:Qt}),H.createElement("span",{className:tn,style:_n}),H.createElement("span",{style:{color:ya},className:"".concat(U,"-status-text")},Re))}return H.createElement("span",Object(u.a)({},fe,{className:Bn}),me,H.createElement(Z.b,{visible:!Be,motionName:"".concat(U,"-zoom"),motionAppear:!1},function(Tr){var it,ue=Tr.className,ge=pe("scroll-number",Ie),De=Ze.current,Ee=ne()((it={},Object(T.a)(it,"".concat(U,"-dot"),De),Object(T.a)(it,"".concat(U,"-count"),!De),Object(T.a)(it,"".concat(U,"-count-sm"),xt==="small"),Object(T.a)(it,"".concat(U,"-multiple-words"),!De&&ut&&ut.toString().length>1),Object(T.a)(it,"".concat(U,"-status-").concat(Ve),!!Ve),Object(T.a)(it,"".concat(U,"-status-").concat(bt),ce(bt)),it)),be=Object(u.a)({},Qt);return bt&&!ce(bt)&&(be=be||{},be.background=bt),H.createElement(We,{prefixCls:ge,show:!Be,motionClassName:ue,className:Ee,count:ut,title:ar,style:be,key:"scrollNumber"},qr)}),zr)};Tt.Ribbon=It;var ye=Tt,lt=r("B+1O"),yt={Success:function(vt){var ie=vt.children;return k.a.createElement(ye,{status:"success",text:ie})},Error:function(vt){var ie=vt.children;return k.a.createElement(ye,{status:"error",text:ie})},Default:function(vt){var ie=vt.children;return k.a.createElement(ye,{status:"default",text:ie})},Processing:function(vt){var ie=vt.children;return k.a.createElement(ye,{status:"processing",text:ie})},Warning:function(vt){var ie=vt.children;return k.a.createElement(ye,{status:"warning",text:ie})},success:function(vt){var ie=vt.children;return k.a.createElement(ye,{status:"success",text:ie})},error:function(vt){var ie=vt.children;return k.a.createElement(ye,{status:"error",text:ie})},default:function(vt){var ie=vt.children;return k.a.createElement(ye,{status:"default",text:ie})},processing:function(vt){var ie=vt.children;return k.a.createElement(ye,{status:"processing",text:ie})},warning:function(vt){var ie=vt.children;return k.a.createElement(ye,{status:"warning",text:ie})}},Dt=function(vt){var ie=vt.color,J=vt.children;return k.a.createElement(ye,{color:ie,text:J})},Jt=A.b=yt},Nsbk:function(ze,A){function r(M){return ze.exports=r=Object.setPrototypeOf?Object.getPrototypeOf:function(T){return T.__proto__||Object.getPrototypeOf(T)},ze.exports.default=ze.exports,ze.exports.__esModule=!0,r(M)}ze.exports=r,ze.exports.default=ze.exports,ze.exports.__esModule=!0},O0oS:function(ze,A,r){var M=r("Cwc5"),y=function(){try{var T=M(Object,"defineProperty");return T({},"",{}),T}catch(b){}}();ze.exports=y},O1je:function(ze,A){},O7RO:function(ze,A,r){var M=r("CMye"),y=r("7GkX");function T(b){for(var u=y(b),H=u.length;H--;){var k=u[H],Z=b[k];u[H]=[k,Z,M(Z)]}return u}ze.exports=T},OBhP:function(ze,A,r){var M=r("fmRc"),y=r("gFfm"),T=r("MrPd"),b=r("WwFo"),u=r("Dw+G"),H=r("5Tg0"),k=r("Q1l4"),Z=r("VOtZ"),oe=r("EEGq"),ne=r("qZTm"),Te=r("G6z8"),at=r("QqLw"),ve=r("yHx3"),we=r("wrZu"),I=r("+iFO"),Ce=r("Z0cm"),et=r("DSRE"),Et=r("zEVN"),We=r("GoyQ"),ct=r("1+5i"),ce=r("7GkX"),Vt=r("mTTR"),It=1,Mt=2,Tt=4,ye="[object Arguments]",lt="[object Array]",yt="[object Boolean]",Dt="[object Date]",Jt="[object Error]",At="[object Function]",vt="[object GeneratorFunction]",ie="[object Map]",J="[object Number]",ee="[object Object]",Ie="[object RegExp]",me="[object Set]",Ve="[object String]",Re="[object Symbol]",bt="[object WeakMap]",Pt="[object ArrayBuffer]",ht="[object DataView]",Ye="[object Float32Array]",Ke="[object Float64Array]",nt="[object Int8Array]",Ot="[object Int16Array]",Xe="[object Int32Array]",xt="[object Uint8Array]",Ne="[object Uint8ClampedArray]",B="[object Uint16Array]",z="[object Uint32Array]",q={};q[ye]=q[lt]=q[Pt]=q[ht]=q[yt]=q[Dt]=q[Ye]=q[Ke]=q[nt]=q[Ot]=q[Xe]=q[ie]=q[J]=q[ee]=q[Ie]=q[me]=q[Ve]=q[Re]=q[xt]=q[Ne]=q[B]=q[z]=!0,q[Jt]=q[At]=q[bt]=!1;function S(K,fe,Fe,pe,Me,U){var le,Le=fe&It,ot=fe&Mt,St=fe&Tt;if(Fe&&(le=Me?Fe(K,pe,Me,U):Fe(K)),le!==void 0)return le;if(!We(K))return K;var Ge=Ce(K);if(Ge){if(le=ve(K),!Le)return k(K,le)}else{var Be=at(K),Nt=Be==At||Be==vt;if(et(K))return H(K,Le);if(Be==ee||Be==ye||Nt&&!Me){if(le=ot||Nt?{}:I(K),!Le)return ot?oe(K,u(le,K)):Z(K,b(le,K))}else{if(!q[Be])return Me?K:{};le=we(K,Be,Le)}}U||(U=new M);var kt=U.get(K);if(kt)return kt;U.set(K,le),ct(K)?K.forEach(function(Ze){le.add(S(Ze,fe,Fe,Ze,K,U))}):Et(K)&&K.forEach(function(Ze,Qt){le.set(Qt,S(Ze,fe,Fe,Qt,K,U))});var ft=St?ot?Te:ne:ot?Vt:ce,ut=Ge?void 0:ft(K);return y(ut||K,function(Ze,Qt){ut&&(Qt=Ze,Ze=K[Qt]),T(le,Qt,S(Ze,fe,Fe,Qt,K,U))}),le}ze.exports=S},PArb:function(ze,A,r){"use strict";var M=r("wx14"),y=r("rePB"),T=r("q1tI"),b=r.n(T),u=r("TSYQ"),H=r.n(u),k=r("H84U"),Z=function(ne,Te){var at={};for(var ve in ne)Object.prototype.hasOwnProperty.call(ne,ve)&&Te.indexOf(ve)<0&&(at[ve]=ne[ve]);if(ne!=null&&typeof Object.getOwnPropertySymbols=="function")for(var we=0,ve=Object.getOwnPropertySymbols(ne);we<ve.length;we++)Te.indexOf(ve[we])<0&&Object.prototype.propertyIsEnumerable.call(ne,ve[we])&&(at[ve[we]]=ne[ve[we]]);return at},oe=function(Te){return T.createElement(k.a,null,function(at){var ve,we=at.getPrefixCls,I=at.direction,Ce=Te.prefixCls,et=Te.type,Et=et===void 0?"horizontal":et,We=Te.orientation,ct=We===void 0?"center":We,ce=Te.className,Vt=Te.children,It=Te.dashed,Mt=Te.plain,Tt=Z(Te,["prefixCls","type","orientation","className","children","dashed","plain"]),ye=we("divider",Ce),lt=ct.length>0?"-".concat(ct):ct,yt=!!Vt,Dt=H()(ye,"".concat(ye,"-").concat(Et),(ve={},Object(y.a)(ve,"".concat(ye,"-with-text"),yt),Object(y.a)(ve,"".concat(ye,"-with-text").concat(lt),yt),Object(y.a)(ve,"".concat(ye,"-dashed"),!!It),Object(y.a)(ve,"".concat(ye,"-plain"),!!Mt),Object(y.a)(ve,"".concat(ye,"-rtl"),I==="rtl"),ve),ce);return T.createElement("div",Object(M.a)({className:Dt},Tt,{role:"separator"}),Vt&&T.createElement("span",{className:"".concat(ye,"-inner-text")},Vt))})};A.a=oe},PJYZ:function(ze,A){function r(M){if(M===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return M}ze.exports=r,ze.exports.default=ze.exports,ze.exports.__esModule=!0},PNUv:function(ze,A,r){"use strict";var M=r("GNNt"),y=r("wEI+"),T=r("14J3"),b=r("BMrR"),u=r("y8nQ"),H=r("Vl3Y"),k=r("/zsF"),Z=r("PArb"),oe=r("jCWc"),ne=r("kPKH"),Te=r("q1tI"),at=r.n(Te),ve=r("VTBJ"),we=r("1OyB"),I=r("vuIU"),Ce=r("Ji7U"),et=r("LK+K"),Et=r("m+aA"),We=r("Zm9Q"),ct=r("Kwbf"),ce=r("c+Xe"),Vt=r("bdgK"),It="rc-observer-key",Mt=function(ot){Object(Ce.a)(Ge,ot);var St=Object(et.a)(Ge);function Ge(){var Be;return Object(we.a)(this,Ge),Be=St.apply(this,arguments),Be.resizeObserver=null,Be.childNode=null,Be.currentElement=null,Be.state={width:0,height:0,offsetHeight:0,offsetWidth:0},Be.onResize=function(Nt){var kt=Be.props.onResize,ft=Nt[0].target,ut=ft.getBoundingClientRect(),Ze=ut.width,Qt=ut.height,ar=ft.offsetWidth,zr=ft.offsetHeight,qr=Math.floor(Ze),tn=Math.floor(Qt);if(Be.state.width!==qr||Be.state.height!==tn||Be.state.offsetWidth!==ar||Be.state.offsetHeight!==zr){var _n={width:qr,height:tn,offsetWidth:ar,offsetHeight:zr};Be.setState(_n),kt&&Promise.resolve().then(function(){kt(Object(ve.a)(Object(ve.a)({},_n),{},{offsetWidth:ar,offsetHeight:zr}))})}},Be.setChildNode=function(Nt){Be.childNode=Nt},Be}return Object(I.a)(Ge,[{key:"componentDidMount",value:function(){this.onComponentUpdated()}},{key:"componentDidUpdate",value:function(){this.onComponentUpdated()}},{key:"componentWillUnmount",value:function(){this.destroyObserver()}},{key:"onComponentUpdated",value:function(){var Nt=this.props.disabled;if(Nt){this.destroyObserver();return}var kt=Object(Et.a)(this.childNode||this),ft=kt!==this.currentElement;ft&&(this.destroyObserver(),this.currentElement=kt),!this.resizeObserver&&kt&&(this.resizeObserver=new Vt.a(this.onResize),this.resizeObserver.observe(kt))}},{key:"destroyObserver",value:function(){this.resizeObserver&&(this.resizeObserver.disconnect(),this.resizeObserver=null)}},{key:"render",value:function(){var Nt=this.props.children,kt=Object(We.a)(Nt);if(kt.length>1)Object(ct.a)(!1,"Find more than one child node with `children` in ResizeObserver. Will only observe first one.");else if(kt.length===0)return Object(ct.a)(!1,"`children` of ResizeObserver is empty. Nothing is in observe."),null;var ft=kt[0];if(Te.isValidElement(ft)&&Object(ce.c)(ft)){var ut=ft.ref;kt[0]=Te.cloneElement(ft,{ref:Object(ce.a)(ut,this.setChildNode)})}return kt.length===1?kt[0]:kt.map(function(Ze,Qt){return!Te.isValidElement(Ze)||"key"in Ze&&Ze.key!==null?Ze:Te.cloneElement(Ze,{key:"".concat(It,"-").concat(Qt)})})}}]),Ge}(Te.Component);Mt.displayName="ResizeObserver";var Tt=Mt,ye=r("LQCs"),lt=r("7z/i"),yt=r("9mHw"),Dt=r("6cGi"),Jt=r("b1eo"),At=r("DYRE"),vt=r("zeV3"),ie=r("8Skl"),J=r("BY2G"),ee=function(St,Ge,Be){return St?at.a.createElement(at.a.Fragment,null,Be.getMessage("tableForm.collapsed","\u5C55\u5F00"),at.a.createElement(ie.a,{style:{marginLeft:"0.5em",transition:"0.3s all",transform:"rotate(".concat(St?0:.5,"turn)")}})):at.a.createElement(at.a.Fragment,null,Be.getMessage("tableForm.expand","\u6536\u8D77"),at.a.createElement(ie.a,{style:{marginLeft:"0.5em",transition:"0.3s all",transform:"rotate(".concat(St?0:.5,"turn)")}}))},Ie=function(St){var Ge=St.setCollapsed,Be=St.collapsed,Nt=Be===void 0?!1:Be,kt=St.submitter,ft=St.style,ut=Object(Te.useContext)(y.b.ConfigContext),Ze=ut.getPrefixCls,Qt=Object(ye.d)(),ar=Object(J.a)(St.collapseRender)||ee;return at.a.createElement(vt.b,{style:ft,size:16},kt,St.collapseRender!==!1&&at.a.createElement("a",{className:Ze("pro-form-collapse-button"),onClick:function(){return Ge(!Nt)}},ar==null?void 0:ar(Nt,St,Qt)))},me=Ie,Ve=r("TSYQ"),Re=r.n(Ve),bt=r("FLHK"),Pt=["collapsed","layout","defaultCollapsed","defaultColsNumber","span","searchText","resetText","optionRender","collapseRender","onReset","onCollapse","labelWidth","style","split","preserve","ignoreRules"];function ht(){return ht=Object.assign||function(ot){for(var St=1;St<arguments.length;St++){var Ge=arguments[St];for(var Be in Ge)Object.prototype.hasOwnProperty.call(Ge,Be)&&(ot[Be]=Ge[Be])}return ot},ht.apply(this,arguments)}function Ye(ot,St){if(ot==null)return{};var Ge=Ke(ot,St),Be,Nt;if(Object.getOwnPropertySymbols){var kt=Object.getOwnPropertySymbols(ot);for(Nt=0;Nt<kt.length;Nt++)Be=kt[Nt],!(St.indexOf(Be)>=0)&&(!Object.prototype.propertyIsEnumerable.call(ot,Be)||(Ge[Be]=ot[Be]))}return Ge}function Ke(ot,St){if(ot==null)return{};var Ge={},Be=Object.keys(ot),Nt,kt;for(kt=0;kt<Be.length;kt++)Nt=Be[kt],!(St.indexOf(Nt)>=0)&&(Ge[Nt]=ot[Nt]);return Ge}function nt(ot,St){return B(ot)||Ne(ot,St)||Xe(ot,St)||Ot()}function Ot(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Xe(ot,St){if(!!ot){if(typeof ot=="string")return xt(ot,St);var Ge=Object.prototype.toString.call(ot).slice(8,-1);if(Ge==="Object"&&ot.constructor&&(Ge=ot.constructor.name),Ge==="Map"||Ge==="Set")return Array.from(ot);if(Ge==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(Ge))return xt(ot,St)}}function xt(ot,St){(St==null||St>ot.length)&&(St=ot.length);for(var Ge=0,Be=new Array(St);Ge<St;Ge++)Be[Ge]=ot[Ge];return Be}function Ne(ot,St){var Ge=ot==null?null:typeof Symbol!="undefined"&&ot[Symbol.iterator]||ot["@@iterator"];if(Ge!=null){var Be=[],Nt=!0,kt=!1,ft,ut;try{for(Ge=Ge.call(ot);!(Nt=(ft=Ge.next()).done)&&(Be.push(ft.value),!(St&&Be.length===St));Nt=!0);}catch(Ze){kt=!0,ut=Ze}finally{try{!Nt&&Ge.return!=null&&Ge.return()}finally{if(kt)throw ut}}return Be}}function B(ot){if(Array.isArray(ot))return ot}function z(ot,St){var Ge=Object.keys(ot);if(Object.getOwnPropertySymbols){var Be=Object.getOwnPropertySymbols(ot);St&&(Be=Be.filter(function(Nt){return Object.getOwnPropertyDescriptor(ot,Nt).enumerable})),Ge.push.apply(Ge,Be)}return Ge}function q(ot){for(var St=1;St<arguments.length;St++){var Ge=arguments[St]!=null?arguments[St]:{};St%2?z(Object(Ge),!0).forEach(function(Be){S(ot,Be,Ge[Be])}):Object.getOwnPropertyDescriptors?Object.defineProperties(ot,Object.getOwnPropertyDescriptors(Ge)):z(Object(Ge)).forEach(function(Be){Object.defineProperty(ot,Be,Object.getOwnPropertyDescriptor(Ge,Be))})}return ot}function S(ot,St,Ge){return St in ot?Object.defineProperty(ot,St,{value:Ge,enumerable:!0,configurable:!0,writable:!0}):ot[St]=Ge,ot}var K={xs:513,sm:513,md:785,lg:992,xl:1057,xxl:Infinity},fe={vertical:[[513,1,"vertical"],[785,2,"vertical"],[1057,3,"vertical"],[Infinity,4,"vertical"]],default:[[513,1,"vertical"],[701,2,"vertical"],[1062,3,"horizontal"],[1352,3,"horizontal"],[Infinity,4,"horizontal"]]},Fe=function(St,Ge,Be){if(Be&&typeof Be=="number")return{span:Be,layout:St};var Nt=Be?Object.keys(Be).map(function(ft){return[K[ft],24/Be[ft],"horizontal"]}):fe[St||"default"],kt=(Nt||fe.default).find(function(ft){return Ge<ft[0]+16});return{span:24/kt[1],layout:kt[2]}},pe=function(St,Ge){return St.flatMap(function(Be){var Nt;if((Be==null?void 0:Be.type.displayName)==="ProForm-Group"&&!((Nt=Be.props)===null||Nt===void 0?void 0:Nt.title))return Be.props.children;if(Ge&&at.a.isValidElement(Be)){var kt;return at.a.cloneElement(Be,q(q({},Be.props),{},{formItemProps:q(q({},(kt=Be.props)===null||kt===void 0?void 0:kt.formItemProps),{},{rules:[]})}))}return Be})},Me=function(St){var Ge=Object(ye.d)(),Be=St.resetText||Ge.getMessage("tableForm.reset","\u91CD\u7F6E"),Nt=St.searchText||Ge.getMessage("tableForm.search","\u641C\u7D22"),kt=Object(Dt.a)(function(){return St.defaultCollapsed&&!!St.submitter},{value:St.collapsed,onChange:St.onCollapse}),ft=nt(kt,2),ut=ft[0],Ze=ft[1],Qt=St.optionRender,ar=St.collapseRender,zr=St.split,qr=St.items,tn=St.spanSize,_n=St.showLength,Bn=Object(Te.useMemo)(function(){return!St.submitter||Qt===!1?null:at.a.cloneElement(St.submitter,q({searchConfig:{resetText:Be,submitText:Nt},render:Qt&&function(Ee,be){return Qt(q(q({},St),{},{resetText:Be,searchText:Nt}),St,be)}},St.submitter.props))},[St,Be,Nt,Qt]),ya=0,Tr=0,it=0,ue=pe(qr,St.ignoreRules).map(function(Ee,be){var rt,de,Pe,xe=at.a.isValidElement(Ee)?Ee==null||(rt=Ee.props)===null||rt===void 0?void 0:rt.colSize:1,Oe=Math.min(tn.span*(xe||1),24);ya+=Oe;var dt=(Ee==null||(de=Ee.props)===null||de===void 0?void 0:de.hidden)||ut&&be>=_n-1&&!!be&&ya>=24;Tr+=1;var Gt=at.a.isValidElement(Ee)&&(Ee.key||"".concat((Pe=Ee.props)===null||Pe===void 0?void 0:Pe.name))||be;if(at.a.isValidElement(Ee)&&dt)return St.preserve?at.a.cloneElement(Ee,{hidden:!0,key:Gt||be}):null;24-it%24<Oe&&(ya+=24-it%24,it+=24-it%24),it+=Oe;var $t=at.a.createElement(ne.a,{key:Gt,span:Oe},Ee);return zr&&it%24==0&&be<Tr-1?[$t,at.a.createElement(ne.a,{span:"24",key:"line"},at.a.createElement(Z.a,{style:{marginTop:-8,marginBottom:16},dashed:!0}))]:$t}),ge=Object(Te.useMemo)(function(){return!(ya<24||Tr<_n)},[Tr,_n,ya]),De=Object(Te.useMemo)(function(){var Ee=it%24+tn.span;return 24-Ee},[it,tn.span]);return at.a.createElement(b.a,{gutter:24,justify:"start",key:"resize-observer-row"},ue,Bn&&at.a.createElement(ne.a,{key:"submitter",span:tn.span,offset:De,style:{textAlign:"right"}},at.a.createElement(H.a.Item,{label:" ",colon:!1,className:"pro-form-query-filter-actions"},at.a.createElement(me,{key:"pro-form-query-filter-actions",collapsed:ut,collapseRender:ge?ar:!1,submitter:Bn,setCollapsed:Ze}))))},U=Object(lt.a)()?document.body.clientWidth:1024;function le(ot){var St=ot.collapsed,Ge=ot.layout,Be=ot.defaultCollapsed,Nt=Be===void 0?!0:Be,kt=ot.defaultColsNumber,ft=ot.span,ut=ot.searchText,Ze=ot.resetText,Qt=ot.optionRender,ar=ot.collapseRender,zr=ot.onReset,qr=ot.onCollapse,tn=ot.labelWidth,_n=tn===void 0?"80":tn,Bn=ot.style,ya=ot.split,Tr=ot.preserve,it=Tr===void 0?!0:Tr,ue=ot.ignoreRules,ge=Ye(ot,Pt),De=Object(Te.useContext)(y.b.ConfigContext),Ee=De.getPrefixCls("pro-form-query-filter"),be=Object(yt.a)(function(){return typeof(Bn==null?void 0:Bn.width)=="number"?Bn==null?void 0:Bn.width:U}),rt=nt(be,2),de=rt[0],Pe=rt[1],xe=Object(Te.useMemo)(function(){return Fe(Ge,de+16,ft)},[Ge,de,ft]),Oe=Object(Te.useMemo)(function(){return kt!==void 0?kt:Math.max(1,24/xe.span)},[kt,xe.span]),dt=Object(Te.useMemo)(function(){if(_n&&xe.layout!=="vertical"&&_n!=="auto")return"0 0 ".concat(_n,"px")},[xe.layout,_n]);return at.a.createElement(Tt,{key:"resize-observer",onResize:function($t){de!==$t.width&&$t.width>17&&Pe($t.width)}},at.a.createElement(Jt.a,ht({isKeyPressSubmit:!0,preserve:it},ge,{className:Re()(Ee,ge.className),onReset:zr,style:Bn,layout:xe.layout,fieldProps:{style:{width:"100%"}},formItemProps:{labelCol:{flex:dt}},groupProps:{titleStyle:{display:"inline-block",marginRight:16}},contentRender:function($t,nr,lr){return at.a.createElement(Me,{spanSize:xe,collapsed:St,form:lr,collapseRender:ar,defaultCollapsed:Nt,onCollapse:qr,optionRender:Qt,submitter:nr,items:$t,split:ya,resetText:ot.resetText,searchText:ot.searchText,preserve:it,ignoreRules:ue,showLength:Oe})}})))}var Le=A.a=le},POPG:function(ze,A,r){"use strict";var M=function(T){return T==null};A.a=M},PQMj:function(ze,A,r){},PSsN:function(ze,A){},PUg6:function(ze,A,r){"use strict";r.d(A,"a",function(){return M});var M;(function(y){y.normal="normal",y.additive="additive",y.subtractive="subtractive",y.min="min",y.max="max",y.none="none"})(M||(M={}))},PdkY:function(ze,A,r){},PjWh:function(ze,A,r){"use strict";var M=function(T){var b={};if(Object.keys(T||{}).forEach(function(u){T[u]!==void 0&&(b[u]=T[u])}),!(Object.keys(b).length<1))return b};A.a=M},Pjkc:function(ze,A,r){},Q1l4:function(ze,A){function r(M,y){var T=-1,b=M.length;for(y||(y=Array(b));++T<b;)y[T]=M[T];return y}ze.exports=r},QbM5:function(ze,A,r){},QcOe:function(ze,A,r){var M=r("GoyQ"),y=r("6sVZ"),T=r("7Ix3"),b=Object.prototype,u=b.hasOwnProperty;function H(k){if(!M(k))return T(k);var Z=y(k),oe=[];for(var ne in k)ne=="constructor"&&(Z||!u.call(k,ne))||oe.push(ne);return oe}ze.exports=H},QeVK:function(ze,A,r){},QkVN:function(ze,A,r){var M=r("+Qka"),y=r("LsHQ"),T=y(function(b,u,H){M(b,u,H)});ze.exports=T},"R/W3":function(ze,A,r){var M=r("KwMD"),y=r("2ajD"),T=r("CZoQ");function b(u,H,k){return H===H?T(u,H,k):M(u,y,k)}ze.exports=b},RIqP:function(ze,A,r){var M=r("Ijbi"),y=r("EbDI"),T=r("ZhPi"),b=r("Bnag");function u(H){return M(H)||y(H)||T(H)||b()}ze.exports=u,ze.exports.default=ze.exports,ze.exports.__esModule=!0},"RL2/":function(ze,A,r){"use strict";var M="2.5.35"},RMtq:function(ze,A){},"RR/i":function(ze,A,r){"use strict";Object.defineProperty(A,"__esModule",{value:!0}),A.typeConstraint=A.namedConstraint=A.taggedConstraint=A.traverseAncerstors=void 0;var M=r("xfSm"),y=r("GXnB"),T=function k(Z,oe){var ne=Z.parentRequest;return ne!==null?oe(ne)?!0:k(ne,oe):!1};A.traverseAncerstors=T;var b=function(Z){return function(oe){var ne=function(at){return at!==null&&at.target!==null&&at.target.matchesTag(Z)(oe)};return ne.metaData=new y.Metadata(Z,oe),ne}};A.taggedConstraint=b;var u=b(M.NAMED_TAG);A.namedConstraint=u;var H=function(Z){return function(oe){var ne=null;if(oe!==null)if(ne=oe.bindings[0],typeof Z=="string"){var Te=ne.serviceIdentifier;return Te===Z}else{var at=oe.bindings[0].implementationType;return Z===at}return!1}};A.typeConstraint=H},RqAY:function(ze,A,r){"use strict";r.d(A,"a",function(){return M});function M(y){return Object.keys(y).reduce(function(T,b){return(b.substr(0,5)==="data-"||b.substr(0,5)==="aria-"||b==="role")&&b.substr(0,7)!=="data-__"&&(T[b]=y[b]),T},{})}},"SE9/":function(ze,A,r){"use strict";var M=r("q1tI");function y(We,ct){return k(We)||H(We,ct)||b(We,ct)||T()}function T(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function b(We,ct){if(!!We){if(typeof We=="string")return u(We,ct);var ce=Object.prototype.toString.call(We).slice(8,-1);if(ce==="Object"&&We.constructor&&(ce=We.constructor.name),ce==="Map"||ce==="Set")return Array.from(We);if(ce==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(ce))return u(We,ct)}}function u(We,ct){(ct==null||ct>We.length)&&(ct=We.length);for(var ce=0,Vt=new Array(ct);ce<ct;ce++)Vt[ce]=We[ce];return Vt}function H(We,ct){var ce=We&&(typeof Symbol!="undefined"&&We[Symbol.iterator]||We["@@iterator"]);if(ce!=null){var Vt=[],It=!0,Mt=!1,Tt,ye;try{for(ce=ce.call(We);!(It=(Tt=ce.next()).done)&&(Vt.push(Tt.value),!(ct&&Vt.length===ct));It=!0);}catch(lt){Mt=!0,ye=lt}finally{try{!It&&ce.return!=null&&ce.return()}finally{if(Mt)throw ye}}return Vt}}function k(We){if(Array.isArray(We))return We}function Z(We){var ct=typeof window=="undefined",ce=Object(M.useState)(function(){return ct?!1:window.matchMedia(We).matches}),Vt=y(ce,2),It=Vt[0],Mt=Vt[1];return Object(M.useLayoutEffect)(function(){if(!ct){var Tt=window.matchMedia(We),ye=function(yt){return Mt(yt.matches)};return Tt.addListener(ye),function(){return Tt.removeListener(ye)}}},[We]),It}function oe(We,ct){return we(We)||ve(We,ct)||Te(We,ct)||ne()}function ne(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Te(We,ct){if(!!We){if(typeof We=="string")return at(We,ct);var ce=Object.prototype.toString.call(We).slice(8,-1);if(ce==="Object"&&We.constructor&&(ce=We.constructor.name),ce==="Map"||ce==="Set")return Array.from(We);if(ce==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(ce))return at(We,ct)}}function at(We,ct){(ct==null||ct>We.length)&&(ct=We.length);for(var ce=0,Vt=new Array(ct);ce<ct;ce++)Vt[ce]=We[ce];return Vt}function ve(We,ct){var ce=We&&(typeof Symbol!="undefined"&&We[Symbol.iterator]||We["@@iterator"]);if(ce!=null){var Vt=[],It=!0,Mt=!1,Tt,ye;try{for(ce=ce.call(We);!(It=(Tt=ce.next()).done)&&(Vt.push(Tt.value),!(ct&&Vt.length===ct));It=!0);}catch(lt){Mt=!0,ye=lt}finally{try{!It&&ce.return!=null&&ce.return()}finally{if(Mt)throw ye}}return Vt}}function we(We){if(Array.isArray(We))return We}var I={xs:{maxWidth:575,matchMedia:"(max-width: 575px)"},sm:{minWidth:576,maxWidth:767,matchMedia:"(min-width: 576px) and (max-width: 767px)"},md:{minWidth:768,maxWidth:991,matchMedia:"(min-width: 768px) and (max-width: 991px)"},lg:{minWidth:992,maxWidth:1199,matchMedia:"(min-width: 992px) and (max-width: 1199px)"},xl:{minWidth:1200,maxWidth:1599,matchMedia:"(min-width: 1200px) and (max-width: 1599px)"},xxl:{minWidth:1600,matchMedia:"(min-width: 1600px)"}},Ce=function(){var ct="md";if(typeof window=="undefined")return ct;var ce=Object.keys(I).find(function(Vt){var It=I[Vt].matchMedia;return!!window.matchMedia(It).matches});return ct=ce,ct},et=function(){var ct=Z(I.md.matchMedia),ce=Z(I.lg.matchMedia),Vt=Z(I.xxl.matchMedia),It=Z(I.xl.matchMedia),Mt=Z(I.sm.matchMedia),Tt=Z(I.xs.matchMedia),ye=Object(M.useState)(Ce()),lt=oe(ye,2),yt=lt[0],Dt=lt[1];return Object(M.useEffect)(function(){if(Vt){Dt("xxl");return}if(It){Dt("xl");return}if(ce){Dt("lg");return}if(ct){Dt("md");return}if(Mt){Dt("sm");return}if(Tt){Dt("xs");return}Dt("md")},[ct,ce,Vt,It,Mt,Tt]),yt},Et=A.a=et},SKAX:function(ze,A,r){var M=r("JC6p"),y=r("lQqw"),T=y(M);ze.exports=T},SUU4:function(ze,A,r){(function(M,y){ze.exports=y(r("szb8"))})(this,function(M){"use strict";var y=function(qt){return qt instanceof Uint8Array||qt instanceof Uint16Array||qt instanceof Uint32Array||qt instanceof Int8Array||qt instanceof Int16Array||qt instanceof Int32Array||qt instanceof Float32Array||qt instanceof Float64Array||qt instanceof Uint8ClampedArray},T=function(qt,Ur){for(var jn=Object.keys(Ur),fa=0;fa<jn.length;++fa)qt[jn[fa]]=Ur[jn[fa]];return qt},b=`
`;function u(_t){return typeof atob!="undefined"?atob(_t):"base64:"+_t}function H(_t){var qt=new Error("(regl) "+_t);throw console.error(qt),qt}function k(_t,qt){_t||H(qt)}function Z(_t){return _t?": "+_t:""}function oe(_t,qt,Ur){_t in qt||H("unknown parameter ("+_t+")"+Z(Ur)+". possible values: "+Object.keys(qt).join())}function ne(_t,qt){y(_t)||H("invalid parameter type"+Z(qt)+". must be a typed array")}function Te(_t,qt){switch(qt){case"number":return typeof _t=="number";case"object":return typeof _t=="object";case"string":return typeof _t=="string";case"boolean":return typeof _t=="boolean";case"function":return typeof _t=="function";case"undefined":return typeof _t=="undefined";case"symbol":return typeof _t=="symbol"}}function at(_t,qt,Ur){Te(_t,qt)||H("invalid parameter type"+Z(Ur)+". expected "+qt+", got "+typeof _t)}function ve(_t,qt){_t>=0&&(_t|0)===_t||H("invalid parameter type, ("+_t+")"+Z(qt)+". must be a nonnegative integer")}function we(_t,qt,Ur){qt.indexOf(_t)<0&&H("invalid value"+Z(Ur)+". must be one of: "+qt)}var I=["gl","canvas","container","attributes","pixelRatio","extensions","optionalExtensions","profile","onDone"];function Ce(_t){Object.keys(_t).forEach(function(qt){I.indexOf(qt)<0&&H('invalid regl constructor argument "'+qt+'". must be one of '+I)})}function et(_t,qt){for(_t=_t+"";_t.length<qt;)_t=" "+_t;return _t}function Et(){this.name="unknown",this.lines=[],this.index={},this.hasErrors=!1}function We(_t,qt){this.number=_t,this.line=qt,this.errors=[]}function ct(_t,qt,Ur){this.file=_t,this.line=qt,this.message=Ur}function ce(){var _t=new Error,qt=(_t.stack||_t).toString(),Ur=/compileProcedure.*\n\s*at.*\((.*)\)/.exec(qt);if(Ur)return Ur[1];var jn=/compileProcedure.*\n\s*at\s+(.*)(\n|$)/.exec(qt);return jn?jn[1]:"unknown"}function Vt(){var _t=new Error,qt=(_t.stack||_t).toString(),Ur=/at REGLCommand.*\n\s+at.*\((.*)\)/.exec(qt);if(Ur)return Ur[1];var jn=/at REGLCommand.*\n\s+at\s+(.*)\n/.exec(qt);return jn?jn[1]:"unknown"}function It(_t,qt){var Ur=_t.split(`
`),jn=1,fa=0,ea={unknown:new Et,0:new Et};ea.unknown.name=ea[0].name=qt||ce(),ea.unknown.lines.push(new We(0,""));for(var Nn=0;Nn<Ur.length;++Nn){var mn=Ur[Nn],Ua=/^\s*#\s*(\w+)\s+(.+)\s*$/.exec(mn);if(Ua)switch(Ua[1]){case"line":var ja=/(\d+)(\s+\d+)?/.exec(Ua[2]);ja&&(jn=ja[1]|0,ja[2]&&(fa=ja[2]|0,fa in ea||(ea[fa]=new Et)));break;case"define":var ei=/SHADER_NAME(_B64)?\s+(.*)$/.exec(Ua[2]);ei&&(ea[fa].name=ei[1]?u(ei[2]):ei[2]);break}ea[fa].lines.push(new We(jn++,mn))}return Object.keys(ea).forEach(function(Va){var si=ea[Va];si.lines.forEach(function(ai){si.index[ai.number]=ai})}),ea}function Mt(_t){var qt=[];return _t.split(`
`).forEach(function(Ur){if(!(Ur.length<5)){var jn=/^ERROR:\s+(\d+):(\d+):\s*(.*)$/.exec(Ur);jn?qt.push(new ct(jn[1]|0,jn[2]|0,jn[3].trim())):Ur.length>0&&qt.push(new ct("unknown",0,Ur))}}),qt}function Tt(_t,qt){qt.forEach(function(Ur){var jn=_t[Ur.file];if(jn){var fa=jn.index[Ur.line];if(fa){fa.errors.push(Ur),jn.hasErrors=!0;return}}_t.unknown.hasErrors=!0,_t.unknown.lines[0].errors.push(Ur)})}function ye(_t,qt,Ur,jn,fa){if(!_t.getShaderParameter(qt,_t.COMPILE_STATUS)){var ea=_t.getShaderInfoLog(qt),Nn=jn===_t.FRAGMENT_SHADER?"fragment":"vertex";ie(Ur,"string",Nn+" shader source must be a string",fa);var mn=It(Ur,fa),Ua=Mt(ea);Tt(mn,Ua),Object.keys(mn).forEach(function(ja){var ei=mn[ja];if(!ei.hasErrors)return;var Va=[""],si=[""];function ai(Ha,Fn){Va.push(Ha),si.push(Fn||"")}ai("file number "+ja+": "+ei.name+`
`,"color:red;text-decoration:underline;font-weight:bold"),ei.lines.forEach(function(Ha){if(Ha.errors.length>0){ai(et(Ha.number,4)+"|  ","background-color:yellow; font-weight:bold"),ai(Ha.line+b,"color:red; background-color:yellow; font-weight:bold");var Fn=0;Ha.errors.forEach(function(In){var Wa=In.message,ki=/^\s*'(.*)'\s*:\s*(.*)$/.exec(Wa);if(ki){var ua=ki[1];switch(Wa=ki[2],ua){case"assign":ua="=";break}Fn=Math.max(Ha.line.indexOf(ua,Fn),0)}else Fn=0;ai(et("| ",6)),ai(et("^^^",Fn+3)+b,"font-weight:bold"),ai(et("| ",6)),ai(Wa+b,"font-weight:bold")}),ai(et("| ",6)+b)}else ai(et(Ha.number,4)+"|  "),ai(Ha.line+b,"color:red")}),typeof document!="undefined"&&!window.chrome?(si[0]=Va.join("%c"),console.log.apply(console,si)):console.log(Va.join(""))}),k.raise("Error compiling "+Nn+" shader, "+mn[0].name)}}function lt(_t,qt,Ur,jn,fa){if(!_t.getProgramParameter(qt,_t.LINK_STATUS)){var ea=_t.getProgramInfoLog(qt),Nn=It(Ur,fa),mn=It(jn,fa),Ua='Error linking program with vertex shader, "'+mn[0].name+'", and fragment shader "'+Nn[0].name+'"';typeof document!="undefined"?console.log("%c"+Ua+b+"%c"+ea,"color:red;text-decoration:underline;font-weight:bold","color:red"):console.log(Ua+b+ea),k.raise(Ua)}}function yt(_t){_t._commandRef=ce()}function Dt(_t,qt,Ur,jn){yt(_t);function fa(Ua){return Ua?jn.id(Ua):0}_t._fragId=fa(_t.static.frag),_t._vertId=fa(_t.static.vert);function ea(Ua,ja){Object.keys(ja).forEach(function(ei){Ua[jn.id(ei)]=!0})}var Nn=_t._uniformSet={};ea(Nn,qt.static),ea(Nn,qt.dynamic);var mn=_t._attributeSet={};ea(mn,Ur.static),ea(mn,Ur.dynamic),_t._hasCount="count"in _t.static||"count"in _t.dynamic||"elements"in _t.static||"elements"in _t.dynamic}function Jt(_t,qt){var Ur=Vt();H(_t+" in command "+(qt||ce())+(Ur==="unknown"?"":" called from "+Ur))}function At(_t,qt,Ur){_t||Jt(qt,Ur||ce())}function vt(_t,qt,Ur,jn){_t in qt||Jt("unknown parameter ("+_t+")"+Z(Ur)+". possible values: "+Object.keys(qt).join(),jn||ce())}function ie(_t,qt,Ur,jn){Te(_t,qt)||Jt("invalid parameter type"+Z(Ur)+". expected "+qt+", got "+typeof _t,jn||ce())}function J(_t){_t()}function ee(_t,qt,Ur){_t.texture?we(_t.texture._texture.internalformat,qt,"unsupported texture format for attachment"):we(_t.renderbuffer._renderbuffer.format,Ur,"unsupported renderbuffer format for attachment")}var Ie=33071,me=9728,Ve=9984,Re=9985,bt=9986,Pt=9987,ht=5120,Ye=5121,Ke=5122,nt=5123,Ot=5124,Xe=5125,xt=5126,Ne=32819,B=32820,z=33635,q=34042,S=36193,K={};K[ht]=K[Ye]=1,K[Ke]=K[nt]=K[S]=K[z]=K[Ne]=K[B]=2,K[Ot]=K[Xe]=K[xt]=K[q]=4;function fe(_t,qt){return _t===B||_t===Ne||_t===z?2:_t===q?4:K[_t]*qt}function Fe(_t){return!(_t&_t-1)&&!!_t}function pe(_t,qt,Ur){var jn,fa=qt.width,ea=qt.height,Nn=qt.channels;k(fa>0&&fa<=Ur.maxTextureSize&&ea>0&&ea<=Ur.maxTextureSize,"invalid texture shape"),(_t.wrapS!==Ie||_t.wrapT!==Ie)&&k(Fe(fa)&&Fe(ea),"incompatible wrap mode for texture, both width and height must be power of 2"),qt.mipmask===1?fa!==1&&ea!==1&&k(_t.minFilter!==Ve&&_t.minFilter!==bt&&_t.minFilter!==Re&&_t.minFilter!==Pt,"min filter requires mipmap"):(k(Fe(fa)&&Fe(ea),"texture must be a square power of 2 to support mipmapping"),k(qt.mipmask===(fa<<1)-1,"missing or incomplete mipmap data")),qt.type===xt&&(Ur.extensions.indexOf("oes_texture_float_linear")<0&&k(_t.minFilter===me&&_t.magFilter===me,"filter not supported, must enable oes_texture_float_linear"),k(!_t.genMipmaps,"mipmap generation not supported with float textures"));var mn=qt.images;for(jn=0;jn<16;++jn)if(mn[jn]){var Ua=fa>>jn,ja=ea>>jn;k(qt.mipmask&1<<jn,"missing mipmap data");var ei=mn[jn];if(k(ei.width===Ua&&ei.height===ja,"invalid shape for mip images"),k(ei.format===qt.format&&ei.internalformat===qt.internalformat&&ei.type===qt.type,"incompatible type for mip image"),!ei.compressed)if(ei.data){var Va=Math.ceil(fe(ei.type,Nn)*Ua/ei.unpackAlignment)*ei.unpackAlignment;k(ei.data.byteLength===Va*ja,"invalid data for image, buffer size is inconsistent with image format")}else ei.element||ei.copy}else _t.genMipmaps||k((qt.mipmask&1<<jn)==0,"extra mipmap data");qt.compressed&&k(!_t.genMipmaps,"mipmap generation for compressed images not supported")}function Me(_t,qt,Ur,jn){var fa=_t.width,ea=_t.height,Nn=_t.channels;k(fa>0&&fa<=jn.maxTextureSize&&ea>0&&ea<=jn.maxTextureSize,"invalid texture shape"),k(fa===ea,"cube map must be square"),k(qt.wrapS===Ie&&qt.wrapT===Ie,"wrap mode not supported by cube map");for(var mn=0;mn<Ur.length;++mn){var Ua=Ur[mn];k(Ua.width===fa&&Ua.height===ea,"inconsistent cube map face shape"),qt.genMipmaps&&(k(!Ua.compressed,"can not generate mipmap for compressed textures"),k(Ua.mipmask===1,"can not specify mipmaps and generate mipmaps"));for(var ja=Ua.images,ei=0;ei<16;++ei){var Va=ja[ei];if(Va){var si=fa>>ei,ai=ea>>ei;k(Ua.mipmask&1<<ei,"missing mipmap data"),k(Va.width===si&&Va.height===ai,"invalid shape for mip images"),k(Va.format===_t.format&&Va.internalformat===_t.internalformat&&Va.type===_t.type,"incompatible type for mip image"),Va.compressed||(Va.data?k(Va.data.byteLength===si*ai*Math.max(fe(Va.type,Nn),Va.unpackAlignment),"invalid data for image, buffer size is inconsistent with image format"):Va.element||Va.copy)}}}}var U=T(k,{optional:J,raise:H,commandRaise:Jt,command:At,parameter:oe,commandParameter:vt,constructor:Ce,type:at,commandType:ie,isTypedArray:ne,nni:ve,oneOf:we,shaderError:ye,linkError:lt,callSite:Vt,saveCommandRef:yt,saveDrawInfo:Dt,framebufferFormat:ee,guessCommand:ce,texture2D:pe,textureCube:Me}),le=0,Le=0,ot=5,St=6;function Ge(_t,qt){this.id=le++,this.type=_t,this.data=qt}function Be(_t){return _t.replace(/\\/g,"\\\\").replace(/"/g,'\\"')}function Nt(_t){if(_t.length===0)return[];var qt=_t.charAt(0),Ur=_t.charAt(_t.length-1);if(_t.length>1&&qt===Ur&&(qt==='"'||qt==="'"))return['"'+Be(_t.substr(1,_t.length-2))+'"'];var jn=/\[(false|true|null|\d+|'[^']*'|"[^"]*")\]/.exec(_t);if(jn)return Nt(_t.substr(0,jn.index)).concat(Nt(jn[1])).concat(Nt(_t.substr(jn.index+jn[0].length)));var fa=_t.split(".");if(fa.length===1)return['"'+Be(_t)+'"'];for(var ea=[],Nn=0;Nn<fa.length;++Nn)ea=ea.concat(Nt(fa[Nn]));return ea}function kt(_t){return"["+Nt(_t).join("][")+"]"}function ft(_t,qt){return new Ge(_t,kt(qt+""))}function ut(_t){return typeof _t=="function"&&!_t._reglType||_t instanceof Ge}function Ze(_t,qt){if(typeof _t=="function")return new Ge(Le,_t);if(typeof _t=="number"||typeof _t=="boolean")return new Ge(ot,_t);if(Array.isArray(_t))return new Ge(St,_t.map(function(Ur,jn){return Ze(Ur,qt+"["+jn+"]")}));if(_t instanceof Ge)return _t;U(!1,"invalid option type in uniform "+qt)}var Qt={DynamicVariable:Ge,define:ft,isDynamic:ut,unbox:Ze,accessor:kt},ar={next:typeof requestAnimationFrame=="function"?function(_t){return requestAnimationFrame(_t)}:function(_t){return setTimeout(_t,16)},cancel:typeof cancelAnimationFrame=="function"?function(_t){return cancelAnimationFrame(_t)}:clearTimeout},zr=typeof my!="undefined"&&!!my&&typeof my.showToast=="function",qr=zr?function(){return+new Date}:typeof performance!="undefined"&&performance.now?function(){return performance.now()}:function(){return+new Date};function tn(){var _t={"":0},qt=[""];return{id:function(jn){var fa=_t[jn];return fa||(fa=_t[jn]=qt.length,qt.push(jn),fa)},str:function(jn){return qt[jn]}}}function _n(_t,qt,Ur){var jn=document.createElement("canvas");T(jn.style,{border:0,margin:0,padding:0,top:0,left:0,width:"100%",height:"100%"}),_t.appendChild(jn),_t===document.body&&(jn.style.position="absolute",T(_t.style,{margin:0,padding:0}));function fa(){var mn=window.innerWidth,Ua=window.innerHeight;if(_t!==document.body){var ja=jn.getBoundingClientRect();mn=ja.right-ja.left,Ua=ja.bottom-ja.top}jn.width=Ur*mn,jn.height=Ur*Ua}var ea;_t!==document.body&&typeof ResizeObserver=="function"?(ea=new ResizeObserver(function(){setTimeout(fa)}),ea.observe(_t)):window.addEventListener("resize",fa,!1);function Nn(){ea?ea.disconnect():window.removeEventListener("resize",fa),_t.removeChild(jn)}return fa(),{canvas:jn,onDestroy:Nn}}function Bn(_t,qt){function Ur(jn){try{return _t.getContext(jn,qt)}catch(fa){return null}}return Ur("webgl")||Ur("experimental-webgl")||Ur("webgl-experimental")}function ya(_t){return typeof _t.nodeName=="string"&&typeof _t.appendChild=="function"&&typeof _t.getBoundingClientRect=="function"}function Tr(_t){return typeof _t.drawArrays=="function"||typeof _t.drawElements=="function"}function it(_t){return typeof _t=="string"?_t.split():(U(Array.isArray(_t),"invalid extension array"),_t)}function ue(_t){return typeof _t=="string"?(U(typeof document!="undefined","not supported outside of DOM"),document.querySelector(_t)):_t}function ge(_t){var qt=_t||{},Ur,jn,fa,ea,Nn={},mn=[],Ua=[],ja=typeof window=="undefined"?1:window.devicePixelRatio,ei=!1,Va=function(Fn){Fn&&U.raise(Fn)},si=function(){};if(typeof qt=="string"?(U(typeof document!="undefined","selector queries only supported in DOM environments"),Ur=document.querySelector(qt),U(Ur,"invalid query string for element")):typeof qt=="object"?ya(qt)?Ur=qt:Tr(qt)?(ea=qt,fa=ea.canvas):(U.constructor(qt),"gl"in qt?ea=qt.gl:"canvas"in qt?fa=ue(qt.canvas):"container"in qt&&(jn=ue(qt.container)),"attributes"in qt&&(Nn=qt.attributes,U.type(Nn,"object","invalid context attributes")),"extensions"in qt&&(mn=it(qt.extensions)),"optionalExtensions"in qt&&(Ua=it(qt.optionalExtensions)),"onDone"in qt&&(U.type(qt.onDone,"function","invalid or missing onDone callback"),Va=qt.onDone),"profile"in qt&&(ei=!!qt.profile),"pixelRatio"in qt&&(ja=+qt.pixelRatio,U(ja>0,"invalid pixel ratio"))):U.raise("invalid arguments to regl"),Ur&&(Ur.nodeName.toLowerCase()==="canvas"?fa=Ur:jn=Ur),!ea){if(!fa){U(typeof document!="undefined","must manually specify webgl context outside of DOM environments");var ai=_n(jn||document.body,Va,ja);if(!ai)return null;fa=ai.canvas,si=ai.onDestroy}Nn.premultipliedAlpha===void 0&&(Nn.premultipliedAlpha=!0),ea=Bn(fa,Nn)}return ea?{gl:ea,canvas:fa,container:jn,extensions:mn,optionalExtensions:Ua,pixelRatio:ja,profile:ei,onDone:Va,onDestroy:si}:(si(),Va("webgl not supported, try upgrading your browser or graphics drivers http://get.webgl.org"),null)}function De(_t,qt){var Ur={};function jn(mn){U.type(mn,"string","extension name must be string");var Ua=mn.toLowerCase(),ja;try{ja=Ur[Ua]=fa(mn)}catch(ei){}return!!ja}function fa(mn){return _t.getExtension(mn)?_t.getExtension(mn):_t.getExtension(mn.toLowerCase())?_t.getExtension(mn.toLowerCase()):null}for(var ea=0;ea<qt.extensions.length;++ea){var Nn=qt.extensions[ea];if(!jn(Nn))return qt.onDestroy(),qt.onDone('"'+Nn+'" extension is not supported by the current WebGL context, try upgrading your system or a different browser'),null}return qt.optionalExtensions.forEach(jn),{extensions:Ur,restore:function(){Object.keys(Ur).forEach(function(Ua){if(Ur[Ua]&&!jn(Ua))throw new Error("(regl): error restoring extension "+Ua)})}}}function Ee(_t,qt){for(var Ur=Array(_t),jn=0;jn<_t;++jn)Ur[jn]=qt(jn);return Ur}var be=5120,rt=5121,de=5122,Pe=5123,xe=5124,Oe=5125,dt=5126;function Gt(_t){for(var qt=16;qt<=1<<28;qt*=16)if(_t<=qt)return qt;return 0}function $t(_t){var qt,Ur;return qt=(_t>65535)<<4,_t>>>=qt,Ur=(_t>255)<<3,_t>>>=Ur,qt|=Ur,Ur=(_t>15)<<2,_t>>>=Ur,qt|=Ur,Ur=(_t>3)<<1,_t>>>=Ur,qt|=Ur,qt|_t>>1}function nr(){var _t=Ee(8,function(){return[]});function qt(ea){var Nn=Gt(ea),mn=_t[$t(Nn)>>2];return mn.length>0?mn.pop():new ArrayBuffer(Nn)}function Ur(ea){_t[$t(ea.byteLength)>>2].push(ea)}function jn(ea,Nn){var mn=null;switch(ea){case be:mn=new Int8Array(qt(Nn),0,Nn);break;case rt:mn=new Uint8Array(qt(Nn),0,Nn);break;case de:mn=new Int16Array(qt(2*Nn),0,Nn);break;case Pe:mn=new Uint16Array(qt(2*Nn),0,Nn);break;case xe:mn=new Int32Array(qt(4*Nn),0,Nn);break;case Oe:mn=new Uint32Array(qt(4*Nn),0,Nn);break;case dt:mn=new Float32Array(qt(4*Nn),0,Nn);break;default:return null}return mn.length!==Nn?mn.subarray(0,Nn):mn}function fa(ea){Ur(ea.buffer)}return{alloc:qt,free:Ur,allocType:jn,freeType:fa}}var lr=nr();lr.zero=nr();var Dr=3408,Pr=3410,Wr=3411,an=3412,dn=3413,Rn=3414,zn=3415,Qn=33901,Ma=33902,Ca=3379,ia=3386,_a=34921,$a=36347,ra=36348,ni=35661,Da=35660,Fa=34930,ba=36349,Oi=34076,Do=34024,Li=7936,Ui=7937,Na=7938,wa=35724,ga=34047,pi=36063,_o=34852,To=3553,so=34067,vi=34069,ko=33984,bo=6408,Ba=5126,Pa=5121,lo=36160,No=36053,La=36064,mr=16384,Wt=function(qt,Ur){var jn=1;Ur.ext_texture_filter_anisotropic&&(jn=qt.getParameter(ga));var fa=1,ea=1;Ur.webgl_draw_buffers&&(fa=qt.getParameter(_o),ea=qt.getParameter(pi));var Nn=!!Ur.oes_texture_float;if(Nn){var mn=qt.createTexture();qt.bindTexture(To,mn),qt.texImage2D(To,0,bo,1,1,0,bo,Ba,null);var Ua=qt.createFramebuffer();if(qt.bindFramebuffer(lo,Ua),qt.framebufferTexture2D(lo,La,To,mn,0),qt.bindTexture(To,null),qt.checkFramebufferStatus(lo)!==No)Nn=!1;else{qt.viewport(0,0,1,1),qt.clearColor(1,0,0,1),qt.clear(mr);var ja=lr.allocType(Ba,4);qt.readPixels(0,0,1,1,bo,Ba,ja),qt.getError()?Nn=!1:(qt.deleteFramebuffer(Ua),qt.deleteTexture(mn),Nn=ja[0]===1),lr.freeType(ja)}}var ei=typeof navigator!="undefined"&&(/MSIE/.test(navigator.userAgent)||/Trident\//.test(navigator.appVersion)||/Edge/.test(navigator.userAgent)),Va=!0;if(!ei){var si=qt.createTexture(),ai=lr.allocType(Pa,36);qt.activeTexture(ko),qt.bindTexture(so,si),qt.texImage2D(vi,0,bo,3,3,0,bo,Pa,ai),lr.freeType(ai),qt.bindTexture(so,null),qt.deleteTexture(si),Va=!qt.getError()}return{colorBits:[qt.getParameter(Pr),qt.getParameter(Wr),qt.getParameter(an),qt.getParameter(dn)],depthBits:qt.getParameter(Rn),stencilBits:qt.getParameter(zn),subpixelBits:qt.getParameter(Dr),extensions:Object.keys(Ur).filter(function(Ha){return!!Ur[Ha]}),maxAnisotropic:jn,maxDrawbuffers:fa,maxColorAttachments:ea,pointSizeDims:qt.getParameter(Qn),lineWidthDims:qt.getParameter(Ma),maxViewportDims:qt.getParameter(ia),maxCombinedTextureUnits:qt.getParameter(ni),maxCubeMapSize:qt.getParameter(Oi),maxRenderbufferSize:qt.getParameter(Do),maxTextureUnits:qt.getParameter(Fa),maxTextureSize:qt.getParameter(Ca),maxAttributes:qt.getParameter(_a),maxVertexUniforms:qt.getParameter($a),maxVertexTextureUnits:qt.getParameter(Da),maxVaryingVectors:qt.getParameter(ra),maxFragmentUniforms:qt.getParameter(ba),glsl:qt.getParameter(wa),renderer:qt.getParameter(Ui),vendor:qt.getParameter(Li),version:qt.getParameter(Na),readFloat:Nn,npotTextureCube:Va}};function vr(_t){return!!_t&&typeof _t=="object"&&Array.isArray(_t.shape)&&Array.isArray(_t.stride)&&typeof _t.offset=="number"&&_t.shape.length===_t.stride.length&&(Array.isArray(_t.data)||y(_t.data))}var un=function(qt){return Object.keys(qt).map(function(Ur){return qt[Ur]})},va={shape:Es,flatten:gl};function qa(_t,qt,Ur){for(var jn=0;jn<qt;++jn)Ur[jn]=_t[jn]}function mi(_t,qt,Ur,jn){for(var fa=0,ea=0;ea<qt;++ea)for(var Nn=_t[ea],mn=0;mn<Ur;++mn)jn[fa++]=Nn[mn]}function ys(_t,qt,Ur,jn,fa,ea){for(var Nn=ea,mn=0;mn<qt;++mn)for(var Ua=_t[mn],ja=0;ja<Ur;++ja)for(var ei=Ua[ja],Va=0;Va<jn;++Va)fa[Nn++]=ei[Va]}function cl(_t,qt,Ur,jn,fa){for(var ea=1,Nn=Ur+1;Nn<qt.length;++Nn)ea*=qt[Nn];var mn=qt[Ur];if(qt.length-Ur==4){var Ua=qt[Ur+1],ja=qt[Ur+2],ei=qt[Ur+3];for(Nn=0;Nn<mn;++Nn)ys(_t[Nn],Ua,ja,ei,jn,fa),fa+=ea}else for(Nn=0;Nn<mn;++Nn)cl(_t[Nn],qt,Ur+1,jn,fa),fa+=ea}function gl(_t,qt,Ur,jn){var fa=1;if(qt.length)for(var ea=0;ea<qt.length;++ea)fa*=qt[ea];else fa=0;var Nn=jn||lr.allocType(Ur,fa);switch(qt.length){case 0:break;case 1:qa(_t,qt[0],Nn);break;case 2:mi(_t,qt[0],qt[1],Nn);break;case 3:ys(_t,qt[0],qt[1],qt[2],Nn,0);break;default:cl(_t,qt,0,Nn,0)}return Nn}function Es(_t){for(var qt=[],Ur=_t;Ur.length;Ur=Ur[0])qt.push(Ur.length);return qt}var tl={"[object Int8Array]":5120,"[object Int16Array]":5122,"[object Int32Array]":5124,"[object Uint8Array]":5121,"[object Uint8ClampedArray]":5121,"[object Uint16Array]":5123,"[object Uint32Array]":5125,"[object Float32Array]":5126,"[object Float64Array]":5121,"[object ArrayBuffer]":5121},fu=5120,vc=5122,of=5124,ku=5121,Wl=5123,ql=5125,al=5126,du=5126,Bu={int8:fu,int16:vc,int32:of,uint8:ku,uint16:Wl,uint32:ql,float:al,float32:du},Hc=35048,ps=35040,Bs={dynamic:Hc,stream:ps,static:35044},tu=va.flatten,il=va.shape,fl=35044,Yh=35040,Fr=5121,Sn=5126,Jn=[];Jn[5120]=1,Jn[5122]=2,Jn[5124]=4,Jn[5121]=1,Jn[5123]=2,Jn[5125]=4,Jn[5126]=4;function xo(_t){return tl[Object.prototype.toString.call(_t)]|0}function w(_t,qt){for(var Ur=0;Ur<qt.length;++Ur)_t[Ur]=qt[Ur]}function re(_t,qt,Ur,jn,fa,ea,Nn){for(var mn=0,Ua=0;Ua<Ur;++Ua)for(var ja=0;ja<jn;++ja)_t[mn++]=qt[fa*Ua+ea*ja+Nn]}function Qe(_t,qt,Ur,jn){var fa=0,ea={};function Nn(Fn){this.id=fa++,this.buffer=_t.createBuffer(),this.type=Fn,this.usage=fl,this.byteLength=0,this.dimension=1,this.dtype=Fr,this.persistentData=null,Ur.profile&&(this.stats={size:0})}Nn.prototype.bind=function(){_t.bindBuffer(this.type,this.buffer)},Nn.prototype.destroy=function(){si(this)};var mn=[];function Ua(Fn,In){var Wa=mn.pop();return Wa||(Wa=new Nn(Fn)),Wa.bind(),Va(Wa,In,Yh,0,1,!1),Wa}function ja(Fn){mn.push(Fn)}function ei(Fn,In,Wa){Fn.byteLength=In.byteLength,_t.bufferData(Fn.type,In,Wa)}function Va(Fn,In,Wa,ki,ua,vo){var Pi;if(Fn.usage=Wa,Array.isArray(In)){if(Fn.dtype=ki||Sn,In.length>0){var yi;if(Array.isArray(In[0])){Pi=il(In);for(var ta=1,na=1;na<Pi.length;++na)ta*=Pi[na];Fn.dimension=ta,yi=tu(In,Pi,Fn.dtype),ei(Fn,yi,Wa),vo?Fn.persistentData=yi:lr.freeType(yi)}else if(typeof In[0]=="number"){Fn.dimension=ua;var Ii=lr.allocType(Fn.dtype,In.length);w(Ii,In),ei(Fn,Ii,Wa),vo?Fn.persistentData=Ii:lr.freeType(Ii)}else y(In[0])?(Fn.dimension=In[0].length,Fn.dtype=ki||xo(In[0])||Sn,yi=tu(In,[In.length,In[0].length],Fn.dtype),ei(Fn,yi,Wa),vo?Fn.persistentData=yi:lr.freeType(yi)):U.raise("invalid buffer data")}}else if(y(In))Fn.dtype=ki||xo(In),Fn.dimension=ua,ei(Fn,In,Wa),vo&&(Fn.persistentData=new Uint8Array(new Uint8Array(In.buffer)));else if(vr(In)){Pi=In.shape;var Qa=In.stride,Za=In.offset,Ei=0,Si=0,Ss=0,ls=0;Pi.length===1?(Ei=Pi[0],Si=1,Ss=Qa[0],ls=0):Pi.length===2?(Ei=Pi[0],Si=Pi[1],Ss=Qa[0],ls=Qa[1]):U.raise("invalid shape"),Fn.dtype=ki||xo(In.data)||Sn,Fn.dimension=Si;var xi=lr.allocType(Fn.dtype,Ei*Si);re(xi,In.data,Ei,Si,Ss,ls,Za),ei(Fn,xi,Wa),vo?Fn.persistentData=xi:lr.freeType(xi)}else In instanceof ArrayBuffer?(Fn.dtype=Fr,Fn.dimension=ua,ei(Fn,In,Wa),vo&&(Fn.persistentData=new Uint8Array(new Uint8Array(In)))):U.raise("invalid buffer data")}function si(Fn){qt.bufferCount--,jn(Fn);var In=Fn.buffer;U(In,"buffer must not be deleted already"),_t.deleteBuffer(In),Fn.buffer=null,delete ea[Fn.id]}function ai(Fn,In,Wa,ki){qt.bufferCount++;var ua=new Nn(In);ea[ua.id]=ua;function vo(ta){var na=fl,Ii=null,Qa=0,Za=0,Ei=1;return Array.isArray(ta)||y(ta)||vr(ta)||ta instanceof ArrayBuffer?Ii=ta:typeof ta=="number"?Qa=ta|0:ta&&(U.type(ta,"object","buffer arguments must be an object, a number or an array"),"data"in ta&&(U(Ii===null||Array.isArray(Ii)||y(Ii)||vr(Ii),"invalid data for buffer"),Ii=ta.data),"usage"in ta&&(U.parameter(ta.usage,Bs,"invalid buffer usage"),na=Bs[ta.usage]),"type"in ta&&(U.parameter(ta.type,Bu,"invalid buffer type"),Za=Bu[ta.type]),"dimension"in ta&&(U.type(ta.dimension,"number","invalid dimension"),Ei=ta.dimension|0),"length"in ta&&(U.nni(Qa,"buffer length must be a nonnegative integer"),Qa=ta.length|0)),ua.bind(),Ii?Va(ua,Ii,na,Za,Ei,ki):(Qa&&_t.bufferData(ua.type,Qa,na),ua.dtype=Za||Fr,ua.usage=na,ua.dimension=Ei,ua.byteLength=Qa),Ur.profile&&(ua.stats.size=ua.byteLength*Jn[ua.dtype]),vo}function Pi(ta,na){U(na+ta.byteLength<=ua.byteLength,"invalid buffer subdata call, buffer is too small.  Can't write data of size "+ta.byteLength+" starting from offset "+na+" to a buffer of size "+ua.byteLength),_t.bufferSubData(ua.type,na,ta)}function yi(ta,na){var Ii=(na||0)|0,Qa;if(ua.bind(),y(ta)||ta instanceof ArrayBuffer)Pi(ta,Ii);else if(Array.isArray(ta)){if(ta.length>0)if(typeof ta[0]=="number"){var Za=lr.allocType(ua.dtype,ta.length);w(Za,ta),Pi(Za,Ii),lr.freeType(Za)}else if(Array.isArray(ta[0])||y(ta[0])){Qa=il(ta);var Ei=tu(ta,Qa,ua.dtype);Pi(Ei,Ii),lr.freeType(Ei)}else U.raise("invalid buffer data")}else if(vr(ta)){Qa=ta.shape;var Si=ta.stride,Ss=0,ls=0,xi=0,wi=0;Qa.length===1?(Ss=Qa[0],ls=1,xi=Si[0],wi=0):Qa.length===2?(Ss=Qa[0],ls=Qa[1],xi=Si[0],wi=Si[1]):U.raise("invalid shape");var Fo=Array.isArray(ta.data)?ua.dtype:xo(ta.data),es=lr.allocType(Fo,Ss*ls);re(es,ta.data,Ss,ls,xi,wi,ta.offset),Pi(es,Ii),lr.freeType(es)}else U.raise("invalid data for buffer subdata");return vo}return Wa||vo(Fn),vo._reglType="buffer",vo._buffer=ua,vo.subdata=yi,Ur.profile&&(vo.stats=ua.stats),vo.destroy=function(){si(ua)},vo}function Ha(){un(ea).forEach(function(Fn){Fn.buffer=_t.createBuffer(),_t.bindBuffer(Fn.type,Fn.buffer),_t.bufferData(Fn.type,Fn.persistentData||Fn.byteLength,Fn.usage)})}return Ur.profile&&(qt.getTotalBufferSize=function(){var Fn=0;return Object.keys(ea).forEach(function(In){Fn+=ea[In].stats.size}),Fn}),{create:ai,createStream:Ua,destroyStream:ja,clear:function(){un(ea).forEach(si),mn.forEach(si)},getBuffer:function(In){return In&&In._buffer instanceof Nn?In._buffer:null},restore:Ha,_initBuffer:Va}}var Se=0,jt=0,br=1,Yr=1,fn=4,En=4,ma={points:Se,point:jt,lines:br,line:Yr,triangles:fn,triangle:En,"line loop":2,"line strip":3,"triangle strip":5,"triangle fan":6},Ia=0,Co=1,$o=4,Zo=5120,Hs=5121,ms=5122,Ws=5123,zu=5124,Pc=5125,Ys=34963,Ef=35040,hd=35044;function Bf(_t,qt,Ur,jn){var fa={},ea=0,Nn={uint8:Hs,uint16:Ws};qt.oes_element_index_uint&&(Nn.uint32=Pc);function mn(Ha){this.id=ea++,fa[this.id]=this,this.buffer=Ha,this.primType=$o,this.vertCount=0,this.type=0}mn.prototype.bind=function(){this.buffer.bind()};var Ua=[];function ja(Ha){var Fn=Ua.pop();return Fn||(Fn=new mn(Ur.create(null,Ys,!0,!1)._buffer)),Va(Fn,Ha,Ef,-1,-1,0,0),Fn}function ei(Ha){Ua.push(Ha)}function Va(Ha,Fn,In,Wa,ki,ua,vo){Ha.buffer.bind();var Pi;if(Fn){var yi=vo;!vo&&(!y(Fn)||vr(Fn)&&!y(Fn.data))&&(yi=qt.oes_element_index_uint?Pc:Ws),Ur._initBuffer(Ha.buffer,Fn,In,yi,3)}else _t.bufferData(Ys,ua,In),Ha.buffer.dtype=Pi||Hs,Ha.buffer.usage=In,Ha.buffer.dimension=3,Ha.buffer.byteLength=ua;if(Pi=vo,!vo){switch(Ha.buffer.dtype){case Hs:case Zo:Pi=Hs;break;case Ws:case ms:Pi=Ws;break;case Pc:case zu:Pi=Pc;break;default:U.raise("unsupported type for element array")}Ha.buffer.dtype=Pi}Ha.type=Pi,U(Pi!==Pc||!!qt.oes_element_index_uint,"32 bit element buffers not supported, enable oes_element_index_uint first");var ta=ki;ta<0&&(ta=Ha.buffer.byteLength,Pi===Ws?ta>>=1:Pi===Pc&&(ta>>=2)),Ha.vertCount=ta;var na=Wa;if(Wa<0){na=$o;var Ii=Ha.buffer.dimension;Ii===1&&(na=Ia),Ii===2&&(na=Co),Ii===3&&(na=$o)}Ha.primType=na}function si(Ha){jn.elementsCount--,U(Ha.buffer!==null,"must not double destroy elements"),delete fa[Ha.id],Ha.buffer.destroy(),Ha.buffer=null}function ai(Ha,Fn){var In=Ur.create(null,Ys,!0),Wa=new mn(In._buffer);jn.elementsCount++;function ki(ua){if(!ua)In(),Wa.primType=$o,Wa.vertCount=0,Wa.type=Hs;else if(typeof ua=="number")In(ua),Wa.primType=$o,Wa.vertCount=ua|0,Wa.type=Hs;else{var vo=null,Pi=hd,yi=-1,ta=-1,na=0,Ii=0;Array.isArray(ua)||y(ua)||vr(ua)?vo=ua:(U.type(ua,"object","invalid arguments for elements"),"data"in ua&&(vo=ua.data,U(Array.isArray(vo)||y(vo)||vr(vo),"invalid data for element buffer")),"usage"in ua&&(U.parameter(ua.usage,Bs,"invalid element buffer usage"),Pi=Bs[ua.usage]),"primitive"in ua&&(U.parameter(ua.primitive,ma,"invalid element buffer primitive"),yi=ma[ua.primitive]),"count"in ua&&(U(typeof ua.count=="number"&&ua.count>=0,"invalid vertex count for elements"),ta=ua.count|0),"type"in ua&&(U.parameter(ua.type,Nn,"invalid buffer type"),Ii=Nn[ua.type]),"length"in ua?na=ua.length|0:(na=ta,Ii===Ws||Ii===ms?na*=2:(Ii===Pc||Ii===zu)&&(na*=4))),Va(Wa,vo,Pi,yi,ta,na,Ii)}return ki}return ki(Ha),ki._reglType="elements",ki._elements=Wa,ki.subdata=function(ua,vo){return In.subdata(ua,vo),ki},ki.destroy=function(){si(Wa)},ki}return{create:ai,createStream:ja,destroyStream:ei,getElements:function(Fn){return typeof Fn=="function"&&Fn._elements instanceof mn?Fn._elements:null},clear:function(){un(fa).forEach(si)}}}var Ms=new Float32Array(1),zf=new Uint32Array(Ms.buffer),wh=5123;function _d(_t){for(var qt=lr.allocType(wh,_t.length),Ur=0;Ur<_t.length;++Ur)if(isNaN(_t[Ur]))qt[Ur]=65535;else if(_t[Ur]===Infinity)qt[Ur]=31744;else if(_t[Ur]===-Infinity)qt[Ur]=64512;else{Ms[0]=_t[Ur];var jn=zf[0],fa=jn>>>31<<15,ea=(jn<<1>>>24)-127,Nn=jn>>13&(1<<10)-1;if(ea<-24)qt[Ur]=fa;else if(ea<-14){var mn=-14-ea;qt[Ur]=fa+(Nn+(1<<10)>>mn)}else ea>15?qt[Ur]=fa+31744:qt[Ur]=fa+(ea+15<<10)+Nn}return qt}function zl(_t){return Array.isArray(_t)||y(_t)}var Uf=function(qt){return!(qt&qt-1)&&!!qt},$h=34467,Sf=3553,Gl=34067,Wc=34069,mc=6408,pd=6406,Vf=6407,Gc=6409,vd=6410,Ll=32854,Yd=32855,Up=36194,$d=32819,uc=32820,sv=33635,Vp=34042,wc=6402,Xf=34041,Hf=35904,jd=35906,Tc=36193,Qf=33776,kd=33777,md=33778,sf=33779,Xh=35986,Id=35987,gp=34798,Xd=35840,Of=35841,ch=35842,Jf=35843,Bd=36196,fh=5121,Th=5123,yp=5125,Rd=5126,qf=10242,bp=10243,Hp=10497,Ah=33071,Mh=33648,Qh=10240,Wp=10241,ed=9728,vn=9729,Oa=9984,oa=9985,to=9986,Ai=9987,Xo=33170,ol=4352,dl=4353,gd=4354,Ld=34046,lf=3317,Jh=37440,_h=37441,uf=37443,Pf=37444,ru=33984,hl=[Oa,to,oa,Ai],dh=[0,Gc,vd,Vf,mc],Al={};Al[Gc]=Al[pd]=Al[wc]=1,Al[Xf]=Al[vd]=2,Al[Vf]=Al[Hf]=3,Al[mc]=Al[jd]=4;function bi(_t){return"[object "+_t+"]"}var Kc=bi("HTMLCanvasElement"),qh=bi("OffscreenCanvas"),Ih=bi("CanvasRenderingContext2D"),cf=bi("ImageBitmap"),Yu=bi("HTMLImageElement"),hh=bi("HTMLVideoElement"),gi=Object.keys(tl).concat([Kc,qh,Ih,cf,Yu,hh]),td=[];td[fh]=1,td[Rd]=4,td[Tc]=2,td[Th]=2,td[yp]=4;var Uu=[];Uu[Ll]=2,Uu[Yd]=2,Uu[Up]=2,Uu[Xf]=4,Uu[Qf]=.5,Uu[kd]=.5,Uu[md]=1,Uu[sf]=1,Uu[Xh]=.5,Uu[Id]=1,Uu[gp]=1,Uu[Xd]=.5,Uu[Of]=.25,Uu[ch]=.5,Uu[Jf]=.25,Uu[Bd]=.5;function ep(_t){return Array.isArray(_t)&&(_t.length===0||typeof _t[0]=="number")}function tc(_t){if(!Array.isArray(_t))return!1;var qt=_t.length;return!(qt===0||!zl(_t[0]))}function gu(_t){return Object.prototype.toString.call(_t)}function Zc(_t){return gu(_t)===Kc}function wf(_t){return gu(_t)===qh}function nu(_t){return gu(_t)===Ih}function Wf(_t){return gu(_t)===cf}function Qd(_t){return gu(_t)===Yu}function Gf(_t){return gu(_t)===hh}function Rh(_t){var qt=typeof my!="undefined"&&!!my&&typeof my.showToast=="function";return!!(qt&&_t&&_t.getContext)}function Jd(_t){if(!_t)return!1;if(Rh(_t))return!0;var qt=gu(_t);return gi.indexOf(qt)>=0?!0:ep(_t)||tc(_t)||vr(_t)}function Tf(_t){return tl[Object.prototype.toString.call(_t)]|0}function gc(_t,qt){var Ur=qt.length;switch(_t.type){case fh:case Th:case yp:case Rd:var jn=lr.allocType(_t.type,Ur);jn.set(qt),_t.data=jn;break;case Tc:_t.data=_d(qt);break;default:U.raise("unsupported texture type, must specify a typed array")}}function _s(_t,qt){return lr.allocType(_t.type===Tc?Rd:_t.type,qt)}function yd(_t,qt){_t.type===Tc?(_t.data=_d(qt),lr.freeType(qt)):_t.data=qt}function rd(_t,qt,Ur,jn,fa,ea){for(var Nn=_t.width,mn=_t.height,Ua=_t.channels,ja=Nn*mn*Ua,ei=_s(_t,ja),Va=0,si=0;si<mn;++si)for(var ai=0;ai<Nn;++ai)for(var Ha=0;Ha<Ua;++Ha)ei[Va++]=qt[Ur*ai+jn*si+fa*Ha+ea];yd(_t,ei)}function sl(_t,qt,Ur,jn,fa,ea){var Nn;if(typeof Uu[_t]!="undefined"?Nn=Uu[_t]:Nn=Al[_t]*td[qt],ea&&(Nn*=6),fa){for(var mn=0,Ua=Ur;Ua>=1;)mn+=Nn*Ua*Ua,Ua/=2;return mn}else return Nn*Ur*jn}function Mu(_t,qt,Ur,jn,fa,ea,Nn){var mn={"don't care":ol,"dont care":ol,nice:gd,fast:dl},Ua={repeat:Hp,clamp:Ah,mirror:Mh},ja={nearest:ed,linear:vn},ei=T({mipmap:Ai,"nearest mipmap nearest":Oa,"linear mipmap nearest":oa,"nearest mipmap linear":to,"linear mipmap linear":Ai},ja),Va={none:0,browser:Pf},si={uint8:fh,rgba4:$d,rgb565:sv,"rgb5 a1":uc},ai={alpha:pd,luminance:Gc,"luminance alpha":vd,rgb:Vf,rgba:mc,rgba4:Ll,"rgb5 a1":Yd,rgb565:Up},Ha={};qt.ext_srgb&&(ai.srgb=Hf,ai.srgba=jd),qt.oes_texture_float&&(si.float32=si.float=Rd),qt.oes_texture_half_float&&(si.float16=si["half float"]=Tc),qt.webgl_depth_texture&&(T(ai,{depth:wc,"depth stencil":Xf}),T(si,{uint16:Th,uint32:yp,"depth stencil":Vp})),qt.webgl_compressed_texture_s3tc&&T(Ha,{"rgb s3tc dxt1":Qf,"rgba s3tc dxt1":kd,"rgba s3tc dxt3":md,"rgba s3tc dxt5":sf}),qt.webgl_compressed_texture_atc&&T(Ha,{"rgb atc":Xh,"rgba atc explicit alpha":Id,"rgba atc interpolated alpha":gp}),qt.webgl_compressed_texture_pvrtc&&T(Ha,{"rgb pvrtc 4bppv1":Xd,"rgb pvrtc 2bppv1":Of,"rgba pvrtc 4bppv1":ch,"rgba pvrtc 2bppv1":Jf}),qt.webgl_compressed_texture_etc1&&(Ha["rgb etc1"]=Bd);var Fn=Array.prototype.slice.call(_t.getParameter($h)||new Uint32Array(0));Object.keys(Ha).forEach(function(Rr){var $n=Ha[Rr];Fn.indexOf($n)>=0&&(ai[Rr]=$n)});var In=Object.keys(ai);Ur.textureFormats=In;var Wa=[];Object.keys(ai).forEach(function(Rr){var $n=ai[Rr];Wa[$n]=Rr});var ki=[];Object.keys(si).forEach(function(Rr){var $n=si[Rr];ki[$n]=Rr});var ua=[];Object.keys(ja).forEach(function(Rr){var $n=ja[Rr];ua[$n]=Rr});var vo=[];Object.keys(ei).forEach(function(Rr){var $n=ei[Rr];vo[$n]=Rr});var Pi=[];Object.keys(Ua).forEach(function(Rr){var $n=Ua[Rr];Pi[$n]=Rr});var yi=In.reduce(function(Rr,$n){var kn=ai[$n];return kn===Gc||kn===pd||kn===Gc||kn===vd||kn===wc||kn===Xf||qt.ext_srgb&&(kn===Hf||kn===jd)?Rr[kn]=kn:kn===Yd||$n.indexOf("rgba")>=0?Rr[kn]=mc:Rr[kn]=Vf,Rr},{});function ta(){this.internalformat=mc,this.format=mc,this.type=fh,this.compressed=!1,this.premultiplyAlpha=!1,this.flipY=!1,this.unpackAlignment=1,this.colorSpace=Pf,this.width=0,this.height=0,this.channels=0}function na(Rr,$n){Rr.internalformat=$n.internalformat,Rr.format=$n.format,Rr.type=$n.type,Rr.compressed=$n.compressed,Rr.premultiplyAlpha=$n.premultiplyAlpha,Rr.flipY=$n.flipY,Rr.unpackAlignment=$n.unpackAlignment,Rr.colorSpace=$n.colorSpace,Rr.width=$n.width,Rr.height=$n.height,Rr.channels=$n.channels}function Ii(Rr,$n){if(!(typeof $n!="object"||!$n)){if("premultiplyAlpha"in $n&&(U.type($n.premultiplyAlpha,"boolean","invalid premultiplyAlpha"),Rr.premultiplyAlpha=$n.premultiplyAlpha),"flipY"in $n&&(U.type($n.flipY,"boolean","invalid texture flip"),Rr.flipY=$n.flipY),"alignment"in $n&&(U.oneOf($n.alignment,[1,2,4,8],"invalid texture unpack alignment"),Rr.unpackAlignment=$n.alignment),"colorSpace"in $n&&(U.parameter($n.colorSpace,Va,"invalid colorSpace"),Rr.colorSpace=Va[$n.colorSpace]),"type"in $n){var kn=$n.type;U(qt.oes_texture_float||!(kn==="float"||kn==="float32"),"you must enable the OES_texture_float extension in order to use floating point textures."),U(qt.oes_texture_half_float||!(kn==="half float"||kn==="float16"),"you must enable the OES_texture_half_float extension in order to use 16-bit floating point textures."),U(qt.webgl_depth_texture||!(kn==="uint16"||kn==="uint32"||kn==="depth stencil"),"you must enable the WEBGL_depth_texture extension in order to use depth/stencil textures."),U.parameter(kn,si,"invalid texture type"),Rr.type=si[kn]}var Ri=Rr.width,As=Rr.height,wr=Rr.channels,tr=!1;"shape"in $n?(U(Array.isArray($n.shape)&&$n.shape.length>=2,"shape must be an array"),Ri=$n.shape[0],As=$n.shape[1],$n.shape.length===3&&(wr=$n.shape[2],U(wr>0&&wr<=4,"invalid number of channels"),tr=!0),U(Ri>=0&&Ri<=Ur.maxTextureSize,"invalid width"),U(As>=0&&As<=Ur.maxTextureSize,"invalid height")):("radius"in $n&&(Ri=As=$n.radius,U(Ri>=0&&Ri<=Ur.maxTextureSize,"invalid radius")),"width"in $n&&(Ri=$n.width,U(Ri>=0&&Ri<=Ur.maxTextureSize,"invalid width")),"height"in $n&&(As=$n.height,U(As>=0&&As<=Ur.maxTextureSize,"invalid height")),"channels"in $n&&(wr=$n.channels,U(wr>0&&wr<=4,"invalid number of channels"),tr=!0)),Rr.width=Ri|0,Rr.height=As|0,Rr.channels=wr|0;var en=!1;if("format"in $n){var Pn=$n.format;U(qt.webgl_depth_texture||!(Pn==="depth"||Pn==="depth stencil"),"you must enable the WEBGL_depth_texture extension in order to use depth/stencil textures."),U.parameter(Pn,ai,"invalid texture format");var wn=Rr.internalformat=ai[Pn];Rr.format=yi[wn],Pn in si&&("type"in $n||(Rr.type=si[Pn])),Pn in Ha&&(Rr.compressed=!0),en=!0}!tr&&en?Rr.channels=Al[Rr.format]:tr&&!en?Rr.channels!==dh[Rr.format]&&(Rr.format=Rr.internalformat=dh[Rr.channels]):en&&tr&&U(Rr.channels===Al[Rr.format],"number of channels inconsistent with specified format")}}function Qa(Rr){_t.pixelStorei(Jh,Rr.flipY),_t.pixelStorei(_h,Rr.premultiplyAlpha),_t.pixelStorei(uf,Rr.colorSpace),_t.pixelStorei(lf,Rr.unpackAlignment)}function Za(){ta.call(this),this.xOffset=0,this.yOffset=0,this.data=null,this.needsFree=!1,this.element=null,this.needsCopy=!1}function Ei(Rr,$n){var kn=null;if(Jd($n)?kn=$n:$n&&(U.type($n,"object","invalid pixel data type"),Ii(Rr,$n),"x"in $n&&(Rr.xOffset=$n.x|0),"y"in $n&&(Rr.yOffset=$n.y|0),Jd($n.data)&&(kn=$n.data)),U(!Rr.compressed||kn instanceof Uint8Array,"compressed texture data must be stored in a uint8array"),$n.copy){U(!kn,"can not specify copy and data field for the same texture");var Ri=fa.viewportWidth,As=fa.viewportHeight;Rr.width=Rr.width||Ri-Rr.xOffset,Rr.height=Rr.height||As-Rr.yOffset,Rr.needsCopy=!0,U(Rr.xOffset>=0&&Rr.xOffset<Ri&&Rr.yOffset>=0&&Rr.yOffset<As&&Rr.width>0&&Rr.width<=Ri&&Rr.height>0&&Rr.height<=As,"copy texture read out of bounds")}else if(!kn)Rr.width=Rr.width||1,Rr.height=Rr.height||1,Rr.channels=Rr.channels||4;else if(y(kn))Rr.channels=Rr.channels||4,Rr.data=kn,!("type"in $n)&&Rr.type===fh&&(Rr.type=Tf(kn));else if(ep(kn))Rr.channels=Rr.channels||4,gc(Rr,kn),Rr.alignment=1,Rr.needsFree=!0;else if(vr(kn)){var wr=kn.data;!Array.isArray(wr)&&Rr.type===fh&&(Rr.type=Tf(wr));var tr=kn.shape,en=kn.stride,Pn,wn,rn,Jr,sn,xr;tr.length===3?(rn=tr[2],xr=en[2]):(U(tr.length===2,"invalid ndarray pixel data, must be 2 or 3D"),rn=1,xr=1),Pn=tr[0],wn=tr[1],Jr=en[0],sn=en[1],Rr.alignment=1,Rr.width=Pn,Rr.height=wn,Rr.channels=rn,Rr.format=Rr.internalformat=dh[rn],Rr.needsFree=!0,rd(Rr,wr,Jr,sn,xr,kn.offset)}else if(Rh(kn)||Zc(kn)||wf(kn)||nu(kn))Rh(kn)||Zc(kn)||wf(kn)?Rr.element=kn:Rr.element=kn.canvas,Rr.width=Rr.element.width,Rr.height=Rr.element.height,Rr.channels=4;else if(Wf(kn))Rr.element=kn,Rr.width=kn.width,Rr.height=kn.height,Rr.channels=4;else if(Qd(kn))Rr.element=kn,Rr.width=kn.naturalWidth,Rr.height=kn.naturalHeight,Rr.channels=4;else if(Gf(kn))Rr.element=kn,Rr.width=kn.videoWidth,Rr.height=kn.videoHeight,Rr.channels=4;else if(tc(kn)){var jr=Rr.width||kn[0].length,Mr=Rr.height||kn.length,An=Rr.channels;zl(kn[0][0])?An=An||kn[0][0].length:An=An||1;for(var Ln=va.shape(kn),Aa=1,fi=0;fi<Ln.length;++fi)Aa*=Ln[fi];var ui=_s(Rr,Aa);va.flatten(kn,Ln,"",ui),yd(Rr,ui),Rr.alignment=1,Rr.width=jr,Rr.height=Mr,Rr.channels=An,Rr.format=Rr.internalformat=dh[An],Rr.needsFree=!0}Rr.type===Rd?U(Ur.extensions.indexOf("oes_texture_float")>=0,"oes_texture_float extension not enabled"):Rr.type===Tc&&U(Ur.extensions.indexOf("oes_texture_half_float")>=0,"oes_texture_half_float extension not enabled")}function Si(Rr,$n,kn){var Ri=Rr.element,As=Rr.data,wr=Rr.internalformat,tr=Rr.format,en=Rr.type,Pn=Rr.width,wn=Rr.height;Qa(Rr),Ri?_t.texImage2D($n,kn,tr,tr,en,Ri):Rr.compressed?_t.compressedTexImage2D($n,kn,wr,Pn,wn,0,As):Rr.needsCopy?(jn(),_t.copyTexImage2D($n,kn,tr,Rr.xOffset,Rr.yOffset,Pn,wn,0)):_t.texImage2D($n,kn,tr,Pn,wn,0,tr,en,As||null)}function Ss(Rr,$n,kn,Ri,As){var wr=Rr.element,tr=Rr.data,en=Rr.internalformat,Pn=Rr.format,wn=Rr.type,rn=Rr.width,Jr=Rr.height;Qa(Rr),wr?_t.texSubImage2D($n,As,kn,Ri,Pn,wn,wr):Rr.compressed?_t.compressedTexSubImage2D($n,As,kn,Ri,en,rn,Jr,tr):Rr.needsCopy?(jn(),_t.copyTexSubImage2D($n,As,kn,Ri,Rr.xOffset,Rr.yOffset,rn,Jr)):_t.texSubImage2D($n,As,kn,Ri,rn,Jr,Pn,wn,tr)}var ls=[];function xi(){return ls.pop()||new Za}function wi(Rr){Rr.needsFree&&lr.freeType(Rr.data),Za.call(Rr),ls.push(Rr)}function Fo(){ta.call(this),this.genMipmaps=!1,this.mipmapHint=ol,this.mipmask=0,this.images=Array(16)}function es(Rr,$n,kn){var Ri=Rr.images[0]=xi();Rr.mipmask=1,Ri.width=Rr.width=$n,Ri.height=Rr.height=kn,Ri.channels=Rr.channels=4}function cs(Rr,$n){var kn=null;if(Jd($n))kn=Rr.images[0]=xi(),na(kn,Rr),Ei(kn,$n),Rr.mipmask=1;else if(Ii(Rr,$n),Array.isArray($n.mipmap))for(var Ri=$n.mipmap,As=0;As<Ri.length;++As)kn=Rr.images[As]=xi(),na(kn,Rr),kn.width>>=As,kn.height>>=As,Ei(kn,Ri[As]),Rr.mipmask|=1<<As;else kn=Rr.images[0]=xi(),na(kn,Rr),Ei(kn,$n),Rr.mipmask=1;na(Rr,Rr.images[0]),Rr.compressed&&(Rr.internalformat===Qf||Rr.internalformat===kd||Rr.internalformat===md||Rr.internalformat===sf)&&U(Rr.width%4==0&&Rr.height%4==0,"for compressed texture formats, mipmap level 0 must have width and height that are a multiple of 4")}function eu(Rr,$n){for(var kn=Rr.images,Ri=0;Ri<kn.length;++Ri){if(!kn[Ri])return;Si(kn[Ri],$n,Ri)}}var bu=[];function js(){var Rr=bu.pop()||new Fo;ta.call(Rr),Rr.mipmask=0;for(var $n=0;$n<16;++$n)Rr.images[$n]=null;return Rr}function Lu(Rr){for(var $n=Rr.images,kn=0;kn<$n.length;++kn)$n[kn]&&wi($n[kn]),$n[kn]=null;bu.push(Rr)}function Zl(){this.minFilter=ed,this.magFilter=ed,this.wrapS=Ah,this.wrapT=Ah,this.anisotropic=1,this.genMipmaps=!1,this.mipmapHint=ol}function xu(Rr,$n){if("min"in $n){var kn=$n.min;U.parameter(kn,ei),Rr.minFilter=ei[kn],hl.indexOf(Rr.minFilter)>=0&&!("faces"in $n)&&(Rr.genMipmaps=!0)}if("mag"in $n){var Ri=$n.mag;U.parameter(Ri,ja),Rr.magFilter=ja[Ri]}var As=Rr.wrapS,wr=Rr.wrapT;if("wrap"in $n){var tr=$n.wrap;typeof tr=="string"?(U.parameter(tr,Ua),As=wr=Ua[tr]):Array.isArray(tr)&&(U.parameter(tr[0],Ua),U.parameter(tr[1],Ua),As=Ua[tr[0]],wr=Ua[tr[1]])}else{if("wrapS"in $n){var en=$n.wrapS;U.parameter(en,Ua),As=Ua[en]}if("wrapT"in $n){var Pn=$n.wrapT;U.parameter(Pn,Ua),wr=Ua[Pn]}}if(Rr.wrapS=As,Rr.wrapT=wr,"anisotropic"in $n){var wn=$n.anisotropic;U(typeof wn=="number"&&wn>=1&&wn<=Ur.maxAnisotropic,"aniso samples must be between 1 and "),Rr.anisotropic=$n.anisotropic}if("mipmap"in $n){var rn=!1;switch(typeof $n.mipmap){case"string":U.parameter($n.mipmap,mn,"invalid mipmap hint"),Rr.mipmapHint=mn[$n.mipmap],Rr.genMipmaps=!0,rn=!0;break;case"boolean":rn=Rr.genMipmaps=$n.mipmap;break;case"object":U(Array.isArray($n.mipmap),"invalid mipmap type"),Rr.genMipmaps=!1,rn=!0;break;default:U.raise("invalid mipmap type")}rn&&!("min"in $n)&&(Rr.minFilter=Oa)}}function hu(Rr,$n){_t.texParameteri($n,Wp,Rr.minFilter),_t.texParameteri($n,Qh,Rr.magFilter),_t.texParameteri($n,qf,Rr.wrapS),_t.texParameteri($n,bp,Rr.wrapT),qt.ext_texture_filter_anisotropic&&_t.texParameteri($n,Ld,Rr.anisotropic),Rr.genMipmaps&&(_t.hint(Xo,Rr.mipmapHint),_t.generateMipmap($n))}var mf=0,Xc={},Su=Ur.maxTextureUnits,ac=Array(Su).map(function(){return null});function Os(Rr){ta.call(this),this.mipmask=0,this.internalformat=mc,this.id=mf++,this.refCount=1,this.target=Rr,this.texture=_t.createTexture(),this.unit=-1,this.bindCount=0,this.texInfo=new Zl,Nn.profile&&(this.stats={size:0})}function Lf(Rr){_t.activeTexture(ru),_t.bindTexture(Rr.target,Rr.texture)}function _l(){var Rr=ac[0];Rr?_t.bindTexture(Rr.target,Rr.texture):_t.bindTexture(Sf,null)}function Bc(Rr){var $n=Rr.texture;U($n,"must not double destroy texture");var kn=Rr.unit,Ri=Rr.target;kn>=0&&(_t.activeTexture(ru+kn),_t.bindTexture(Ri,null),ac[kn]=null),_t.deleteTexture($n),Rr.texture=null,Rr.params=null,Rr.pixels=null,Rr.refCount=0,delete Xc[Rr.id],ea.textureCount--}T(Os.prototype,{bind:function(){var $n=this;$n.bindCount+=1;var kn=$n.unit;if(kn<0){for(var Ri=0;Ri<Su;++Ri){var As=ac[Ri];if(As){if(As.bindCount>0)continue;As.unit=-1}ac[Ri]=$n,kn=Ri;break}kn>=Su&&U.raise("insufficient number of texture units"),Nn.profile&&ea.maxTextureUnits<kn+1&&(ea.maxTextureUnits=kn+1),$n.unit=kn,_t.activeTexture(ru+kn),_t.bindTexture($n.target,$n.texture)}return kn},unbind:function(){this.bindCount-=1},decRef:function(){--this.refCount<=0&&Bc(this)}});function Go(Rr,$n){var kn=new Os(Sf);Xc[kn.id]=kn,ea.textureCount++;function Ri(tr,en){var Pn=kn.texInfo;Zl.call(Pn);var wn=js();return typeof tr=="number"?typeof en=="number"?es(wn,tr|0,en|0):es(wn,tr|0,tr|0):tr?(U.type(tr,"object","invalid arguments to regl.texture"),xu(Pn,tr),cs(wn,tr)):es(wn,1,1),Pn.genMipmaps&&(wn.mipmask=(wn.width<<1)-1),kn.mipmask=wn.mipmask,na(kn,wn),U.texture2D(Pn,wn,Ur),kn.internalformat=wn.internalformat,Ri.width=wn.width,Ri.height=wn.height,Lf(kn),eu(wn,Sf),hu(Pn,Sf),_l(),Lu(wn),Nn.profile&&(kn.stats.size=sl(kn.internalformat,kn.type,wn.width,wn.height,Pn.genMipmaps,!1)),Ri.format=Wa[kn.internalformat],Ri.type=ki[kn.type],Ri.mag=ua[Pn.magFilter],Ri.min=vo[Pn.minFilter],Ri.wrapS=Pi[Pn.wrapS],Ri.wrapT=Pi[Pn.wrapT],Ri}function As(tr,en,Pn,wn){U(!!tr,"must specify image data");var rn=en|0,Jr=Pn|0,sn=wn|0,xr=xi();return na(xr,kn),xr.width=0,xr.height=0,Ei(xr,tr),xr.width=xr.width||(kn.width>>sn)-rn,xr.height=xr.height||(kn.height>>sn)-Jr,U(kn.type===xr.type&&kn.format===xr.format&&kn.internalformat===xr.internalformat,"incompatible format for texture.subimage"),U(rn>=0&&Jr>=0&&rn+xr.width<=kn.width&&Jr+xr.height<=kn.height,"texture.subimage write out of bounds"),U(kn.mipmask&1<<sn,"missing mipmap data"),U(xr.data||xr.element||xr.needsCopy,"missing image data"),Lf(kn),Ss(xr,Sf,rn,Jr,sn),_l(),wi(xr),Ri}function wr(tr,en){var Pn=tr|0,wn=en|0||Pn;if(Pn===kn.width&&wn===kn.height)return Ri;Ri.width=kn.width=Pn,Ri.height=kn.height=wn,Lf(kn);for(var rn=0;kn.mipmask>>rn;++rn){var Jr=Pn>>rn,sn=wn>>rn;if(!Jr||!sn)break;_t.texImage2D(Sf,rn,kn.format,Jr,sn,0,kn.format,kn.type,null)}return _l(),Nn.profile&&(kn.stats.size=sl(kn.internalformat,kn.type,Pn,wn,!1,!1)),Ri}return Ri(Rr,$n),Ri.subimage=As,Ri.resize=wr,Ri._reglType="texture2d",Ri._texture=kn,Nn.profile&&(Ri.stats=kn.stats),Ri.destroy=function(){kn.decRef()},Ri}function ds(Rr,$n,kn,Ri,As,wr){var tr=new Os(Gl);Xc[tr.id]=tr,ea.cubeCount++;var en=new Array(6);function Pn(Jr,sn,xr,jr,Mr,An){var Ln,Aa=tr.texInfo;for(Zl.call(Aa),Ln=0;Ln<6;++Ln)en[Ln]=js();if(typeof Jr=="number"||!Jr){var fi=Jr|0||1;for(Ln=0;Ln<6;++Ln)es(en[Ln],fi,fi)}else if(typeof Jr=="object")if(sn)cs(en[0],Jr),cs(en[1],sn),cs(en[2],xr),cs(en[3],jr),cs(en[4],Mr),cs(en[5],An);else if(xu(Aa,Jr),Ii(tr,Jr),"faces"in Jr){var ui=Jr.faces;for(U(Array.isArray(ui)&&ui.length===6,"cube faces must be a length 6 array"),Ln=0;Ln<6;++Ln)U(typeof ui[Ln]=="object"&&!!ui[Ln],"invalid input for cube map face"),na(en[Ln],tr),cs(en[Ln],ui[Ln])}else for(Ln=0;Ln<6;++Ln)cs(en[Ln],Jr);else U.raise("invalid arguments to cube map");for(na(tr,en[0]),U.optional(function(){Ur.npotTextureCube||U(Uf(tr.width)&&Uf(tr.height),"your browser does not support non power or two texture dimensions")}),Aa.genMipmaps?tr.mipmask=(en[0].width<<1)-1:tr.mipmask=en[0].mipmask,U.textureCube(tr,Aa,en,Ur),tr.internalformat=en[0].internalformat,Pn.width=en[0].width,Pn.height=en[0].height,Lf(tr),Ln=0;Ln<6;++Ln)eu(en[Ln],Wc+Ln);for(hu(Aa,Gl),_l(),Nn.profile&&(tr.stats.size=sl(tr.internalformat,tr.type,Pn.width,Pn.height,Aa.genMipmaps,!0)),Pn.format=Wa[tr.internalformat],Pn.type=ki[tr.type],Pn.mag=ua[Aa.magFilter],Pn.min=vo[Aa.minFilter],Pn.wrapS=Pi[Aa.wrapS],Pn.wrapT=Pi[Aa.wrapT],Ln=0;Ln<6;++Ln)Lu(en[Ln]);return Pn}function wn(Jr,sn,xr,jr,Mr){U(!!sn,"must specify image data"),U(typeof Jr=="number"&&Jr===(Jr|0)&&Jr>=0&&Jr<6,"invalid face");var An=xr|0,Ln=jr|0,Aa=Mr|0,fi=xi();return na(fi,tr),fi.width=0,fi.height=0,Ei(fi,sn),fi.width=fi.width||(tr.width>>Aa)-An,fi.height=fi.height||(tr.height>>Aa)-Ln,U(tr.type===fi.type&&tr.format===fi.format&&tr.internalformat===fi.internalformat,"incompatible format for texture.subimage"),U(An>=0&&Ln>=0&&An+fi.width<=tr.width&&Ln+fi.height<=tr.height,"texture.subimage write out of bounds"),U(tr.mipmask&1<<Aa,"missing mipmap data"),U(fi.data||fi.element||fi.needsCopy,"missing image data"),Lf(tr),Ss(fi,Wc+Jr,An,Ln,Aa),_l(),wi(fi),Pn}function rn(Jr){var sn=Jr|0;if(sn!==tr.width){Pn.width=tr.width=sn,Pn.height=tr.height=sn,Lf(tr);for(var xr=0;xr<6;++xr)for(var jr=0;tr.mipmask>>jr;++jr)_t.texImage2D(Wc+xr,jr,tr.format,sn>>jr,sn>>jr,0,tr.format,tr.type,null);return _l(),Nn.profile&&(tr.stats.size=sl(tr.internalformat,tr.type,Pn.width,Pn.height,!1,!0)),Pn}}return Pn(Rr,$n,kn,Ri,As,wr),Pn.subimage=wn,Pn.resize=rn,Pn._reglType="textureCube",Pn._texture=tr,Nn.profile&&(Pn.stats=tr.stats),Pn.destroy=function(){tr.decRef()},Pn}function Ou(){for(var Rr=0;Rr<Su;++Rr)_t.activeTexture(ru+Rr),_t.bindTexture(Sf,null),ac[Rr]=null;un(Xc).forEach(Bc),ea.cubeCount=0,ea.textureCount=0}Nn.profile&&(ea.getTotalTextureSize=function(){var Rr=0;return Object.keys(Xc).forEach(function($n){Rr+=Xc[$n].stats.size}),Rr});function Qc(){for(var Rr=0;Rr<Su;++Rr){var $n=ac[Rr];$n&&($n.bindCount=0,$n.unit=-1,ac[Rr]=null)}un(Xc).forEach(function(kn){kn.texture=_t.createTexture(),_t.bindTexture(kn.target,kn.texture);for(var Ri=0;Ri<32;++Ri)if((kn.mipmask&1<<Ri)!=0)if(kn.target===Sf)_t.texImage2D(Sf,Ri,kn.internalformat,kn.width>>Ri,kn.height>>Ri,0,kn.internalformat,kn.type,null);else for(var As=0;As<6;++As)_t.texImage2D(Wc+As,Ri,kn.internalformat,kn.width>>Ri,kn.height>>Ri,0,kn.internalformat,kn.type,null);hu(kn.texInfo,kn.target)})}function gf(){for(var Rr=0;Rr<Su;++Rr){var $n=ac[Rr];$n&&($n.bindCount=0,$n.unit=-1,ac[Rr]=null),_t.activeTexture(ru+Rr),_t.bindTexture(Sf,null),_t.bindTexture(Gl,null)}}return{create2D:Go,createCube:ds,clear:Ou,getTexture:function($n){return null},restore:Qc,refresh:gf}}var ff=36161,Af=32854,jc=32855,ph=36194,Io=33189,Mi=36168,df=34041,_u=35907,cc=34836,$u=34842,Mf=34843,Ac=[];Ac[Af]=2,Ac[jc]=2,Ac[ph]=2,Ac[Io]=2,Ac[Mi]=1,Ac[df]=4,Ac[_u]=4,Ac[cc]=16,Ac[$u]=8,Ac[Mf]=6;function qd(_t,qt,Ur){return Ac[_t]*qt*Ur}var Dl=function(qt,Ur,jn,fa,ea){var Nn={rgba4:Af,rgb565:ph,"rgb5 a1":jc,depth:Io,stencil:Mi,"depth stencil":df};Ur.ext_srgb&&(Nn.srgba=_u),Ur.ext_color_buffer_half_float&&(Nn.rgba16f=$u,Nn.rgb16f=Mf),Ur.webgl_color_buffer_float&&(Nn.rgba32f=cc);var mn=[];Object.keys(Nn).forEach(function(Ha){var Fn=Nn[Ha];mn[Fn]=Ha});var Ua=0,ja={};function ei(Ha){this.id=Ua++,this.refCount=1,this.renderbuffer=Ha,this.format=Af,this.width=0,this.height=0,ea.profile&&(this.stats={size:0})}ei.prototype.decRef=function(){--this.refCount<=0&&Va(this)};function Va(Ha){var Fn=Ha.renderbuffer;U(Fn,"must not double destroy renderbuffer"),qt.bindRenderbuffer(ff,null),qt.deleteRenderbuffer(Fn),Ha.renderbuffer=null,Ha.refCount=0,delete ja[Ha.id],fa.renderbufferCount--}function si(Ha,Fn){var In=new ei(qt.createRenderbuffer());ja[In.id]=In,fa.renderbufferCount++;function Wa(ua,vo){var Pi=0,yi=0,ta=Af;if(typeof ua=="object"&&ua){var na=ua;if("shape"in na){var Ii=na.shape;U(Array.isArray(Ii)&&Ii.length>=2,"invalid renderbuffer shape"),Pi=Ii[0]|0,yi=Ii[1]|0}else"radius"in na&&(Pi=yi=na.radius|0),"width"in na&&(Pi=na.width|0),"height"in na&&(yi=na.height|0);"format"in na&&(U.parameter(na.format,Nn,"invalid renderbuffer format"),ta=Nn[na.format])}else typeof ua=="number"?(Pi=ua|0,typeof vo=="number"?yi=vo|0:yi=Pi):ua?U.raise("invalid arguments to renderbuffer constructor"):Pi=yi=1;if(U(Pi>0&&yi>0&&Pi<=jn.maxRenderbufferSize&&yi<=jn.maxRenderbufferSize,"invalid renderbuffer size"),!(Pi===In.width&&yi===In.height&&ta===In.format))return Wa.width=In.width=Pi,Wa.height=In.height=yi,In.format=ta,qt.bindRenderbuffer(ff,In.renderbuffer),qt.renderbufferStorage(ff,ta,Pi,yi),U(qt.getError()===0,"invalid render buffer format"),ea.profile&&(In.stats.size=qd(In.format,In.width,In.height)),Wa.format=mn[In.format],Wa}function ki(ua,vo){var Pi=ua|0,yi=vo|0||Pi;return Pi===In.width&&yi===In.height||(U(Pi>0&&yi>0&&Pi<=jn.maxRenderbufferSize&&yi<=jn.maxRenderbufferSize,"invalid renderbuffer size"),Wa.width=In.width=Pi,Wa.height=In.height=yi,qt.bindRenderbuffer(ff,In.renderbuffer),qt.renderbufferStorage(ff,In.format,Pi,yi),U(qt.getError()===0,"invalid render buffer format"),ea.profile&&(In.stats.size=qd(In.format,In.width,In.height))),Wa}return Wa(Ha,Fn),Wa.resize=ki,Wa._reglType="renderbuffer",Wa._renderbuffer=In,ea.profile&&(Wa.stats=In.stats),Wa.destroy=function(){In.decRef()},Wa}ea.profile&&(fa.getTotalRenderbufferSize=function(){var Ha=0;return Object.keys(ja).forEach(function(Fn){Ha+=ja[Fn].stats.size}),Ha});function ai(){un(ja).forEach(function(Ha){Ha.renderbuffer=qt.createRenderbuffer(),qt.bindRenderbuffer(ff,Ha.renderbuffer),qt.renderbufferStorage(ff,Ha.format,Ha.width,Ha.height)}),qt.bindRenderbuffer(ff,null)}return{create:si,clear:function(){un(ja).forEach(Va)},restore:ai}},yu=36160,eh=36161,_f=3553,If=34069,Mc=36064,_c=36096,dr=36128,Iu=33306,nd=36053,rc=36054,$s=36055,xp=36057,tp=36061,th=36193,ad=5121,zd=5126,bd=6407,Yc=6408,Ud=6402,Rf=[bd,Yc],$c=[];$c[Yc]=4,$c[bd]=3;var id=[];id[ad]=1,id[zd]=4,id[th]=2;var Vd=32854,Cp=32855,v=36194,c=33189,l=36168,g=34041,F=35907,Q=34836,se=34842,_e=34843,mt=[Vd,Cp,v,F,se,_e,Q],Rt={};Rt[nd]="complete",Rt[rc]="incomplete attachment",Rt[xp]="incomplete dimensions",Rt[$s]="incomplete, missing attachment",Rt[tp]="unsupported";function ir(_t,qt,Ur,jn,fa,ea){var Nn={cur:null,next:null,dirty:!1,setFBO:null},mn=["rgba"],Ua=["rgba4","rgb565","rgb5 a1"];qt.ext_srgb&&Ua.push("srgba"),qt.ext_color_buffer_half_float&&Ua.push("rgba16f","rgb16f"),qt.webgl_color_buffer_float&&Ua.push("rgba32f");var ja=["uint8"];qt.oes_texture_half_float&&ja.push("half float","float16"),qt.oes_texture_float&&ja.push("float","float32");function ei(Za,Ei,Si){this.target=Za,this.texture=Ei,this.renderbuffer=Si;var Ss=0,ls=0;Ei?(Ss=Ei.width,ls=Ei.height):Si&&(Ss=Si.width,ls=Si.height),this.width=Ss,this.height=ls}function Va(Za){Za&&(Za.texture&&Za.texture._texture.decRef(),Za.renderbuffer&&Za.renderbuffer._renderbuffer.decRef())}function si(Za,Ei,Si){if(!!Za)if(Za.texture){var Ss=Za.texture._texture,ls=Math.max(1,Ss.width),xi=Math.max(1,Ss.height);U(ls===Ei&&xi===Si,"inconsistent width/height for supplied texture"),Ss.refCount+=1}else{var wi=Za.renderbuffer._renderbuffer;U(wi.width===Ei&&wi.height===Si,"inconsistent width/height for renderbuffer"),wi.refCount+=1}}function ai(Za,Ei){Ei&&(Ei.texture?_t.framebufferTexture2D(yu,Za,Ei.target,Ei.texture._texture.texture,0):_t.framebufferRenderbuffer(yu,Za,eh,Ei.renderbuffer._renderbuffer.renderbuffer))}function Ha(Za){var Ei=_f,Si=null,Ss=null,ls=Za;typeof Za=="object"&&(ls=Za.data,"target"in Za&&(Ei=Za.target|0)),U.type(ls,"function","invalid attachment data");var xi=ls._reglType;return xi==="texture2d"?(Si=ls,U(Ei===_f)):xi==="textureCube"?(Si=ls,U(Ei>=If&&Ei<If+6,"invalid cube map target")):xi==="renderbuffer"?(Ss=ls,Ei=eh):U.raise("invalid regl object for attachment"),new ei(Ei,Si,Ss)}function Fn(Za,Ei,Si,Ss,ls){if(Si){var xi=jn.create2D({width:Za,height:Ei,format:Ss,type:ls});return xi._texture.refCount=0,new ei(_f,xi,null)}else{var wi=fa.create({width:Za,height:Ei,format:Ss});return wi._renderbuffer.refCount=0,new ei(eh,null,wi)}}function In(Za){return Za&&(Za.texture||Za.renderbuffer)}function Wa(Za,Ei,Si){Za&&(Za.texture?Za.texture.resize(Ei,Si):Za.renderbuffer&&Za.renderbuffer.resize(Ei,Si),Za.width=Ei,Za.height=Si)}var ki=0,ua={};function vo(){this.id=ki++,ua[this.id]=this,this.framebuffer=_t.createFramebuffer(),this.width=0,this.height=0,this.colorAttachments=[],this.depthAttachment=null,this.stencilAttachment=null,this.depthStencilAttachment=null}function Pi(Za){Za.colorAttachments.forEach(Va),Va(Za.depthAttachment),Va(Za.stencilAttachment),Va(Za.depthStencilAttachment)}function yi(Za){var Ei=Za.framebuffer;U(Ei,"must not double destroy framebuffer"),_t.deleteFramebuffer(Ei),Za.framebuffer=null,ea.framebufferCount--,delete ua[Za.id]}function ta(Za){var Ei;_t.bindFramebuffer(yu,Za.framebuffer);var Si=Za.colorAttachments;for(Ei=0;Ei<Si.length;++Ei)ai(Mc+Ei,Si[Ei]);for(Ei=Si.length;Ei<Ur.maxColorAttachments;++Ei)_t.framebufferTexture2D(yu,Mc+Ei,_f,null,0);_t.framebufferTexture2D(yu,Iu,_f,null,0),_t.framebufferTexture2D(yu,_c,_f,null,0),_t.framebufferTexture2D(yu,dr,_f,null,0),ai(_c,Za.depthAttachment),ai(dr,Za.stencilAttachment),ai(Iu,Za.depthStencilAttachment);var Ss=_t.checkFramebufferStatus(yu);!_t.isContextLost()&&Ss!==nd&&U.raise("framebuffer configuration not supported, status = "+Rt[Ss]),_t.bindFramebuffer(yu,Nn.next?Nn.next.framebuffer:null),Nn.cur=Nn.next,_t.getError()}function na(Za,Ei){var Si=new vo;ea.framebufferCount++;function Ss(xi,wi){var Fo;U(Nn.next!==Si,"can not update framebuffer which is currently in use");var es=0,cs=0,eu=!0,bu=!0,js=null,Lu=!0,Zl="rgba",xu="uint8",hu=1,mf=null,Xc=null,Su=null,ac=!1;if(typeof xi=="number")es=xi|0,cs=wi|0||es;else if(!xi)es=cs=1;else{U.type(xi,"object","invalid arguments for framebuffer");var Os=xi;if("shape"in Os){var Lf=Os.shape;U(Array.isArray(Lf)&&Lf.length>=2,"invalid shape for framebuffer"),es=Lf[0],cs=Lf[1]}else"radius"in Os&&(es=cs=Os.radius),"width"in Os&&(es=Os.width),"height"in Os&&(cs=Os.height);("color"in Os||"colors"in Os)&&(js=Os.color||Os.colors,Array.isArray(js)&&U(js.length===1||qt.webgl_draw_buffers,"multiple render targets not supported")),js||("colorCount"in Os&&(hu=Os.colorCount|0,U(hu>0,"invalid color buffer count")),"colorTexture"in Os&&(Lu=!!Os.colorTexture,Zl="rgba4"),"colorType"in Os&&(xu=Os.colorType,Lu?(U(qt.oes_texture_float||!(xu==="float"||xu==="float32"),"you must enable OES_texture_float in order to use floating point framebuffer objects"),U(qt.oes_texture_half_float||!(xu==="half float"||xu==="float16"),"you must enable OES_texture_half_float in order to use 16-bit floating point framebuffer objects")):xu==="half float"||xu==="float16"?(U(qt.ext_color_buffer_half_float,"you must enable EXT_color_buffer_half_float to use 16-bit render buffers"),Zl="rgba16f"):(xu==="float"||xu==="float32")&&(U(qt.webgl_color_buffer_float,"you must enable WEBGL_color_buffer_float in order to use 32-bit floating point renderbuffers"),Zl="rgba32f"),U.oneOf(xu,ja,"invalid color type")),"colorFormat"in Os&&(Zl=Os.colorFormat,mn.indexOf(Zl)>=0?Lu=!0:Ua.indexOf(Zl)>=0?Lu=!1:U.optional(function(){Lu?U.oneOf(Os.colorFormat,mn,"invalid color format for texture"):U.oneOf(Os.colorFormat,Ua,"invalid color format for renderbuffer")}))),("depthTexture"in Os||"depthStencilTexture"in Os)&&(ac=!!(Os.depthTexture||Os.depthStencilTexture),U(!ac||qt.webgl_depth_texture,"webgl_depth_texture extension not supported")),"depth"in Os&&(typeof Os.depth=="boolean"?eu=Os.depth:(mf=Os.depth,bu=!1)),"stencil"in Os&&(typeof Os.stencil=="boolean"?bu=Os.stencil:(Xc=Os.stencil,eu=!1)),"depthStencil"in Os&&(typeof Os.depthStencil=="boolean"?eu=bu=Os.depthStencil:(Su=Os.depthStencil,eu=!1,bu=!1))}var _l=null,Bc=null,Go=null,ds=null;if(Array.isArray(js))_l=js.map(Ha);else if(js)_l=[Ha(js)];else for(_l=new Array(hu),Fo=0;Fo<hu;++Fo)_l[Fo]=Fn(es,cs,Lu,Zl,xu);U(qt.webgl_draw_buffers||_l.length<=1,"you must enable the WEBGL_draw_buffers extension in order to use multiple color buffers."),U(_l.length<=Ur.maxColorAttachments,"too many color attachments, not supported"),es=es||_l[0].width,cs=cs||_l[0].height,mf?Bc=Ha(mf):eu&&!bu&&(Bc=Fn(es,cs,ac,"depth","uint32")),Xc?Go=Ha(Xc):bu&&!eu&&(Go=Fn(es,cs,!1,"stencil","uint8")),Su?ds=Ha(Su):!mf&&!Xc&&bu&&eu&&(ds=Fn(es,cs,ac,"depth stencil","depth stencil")),U(!!mf+!!Xc+!!Su<=1,"invalid framebuffer configuration, can specify exactly one depth/stencil attachment");var Ou=null;for(Fo=0;Fo<_l.length;++Fo)if(si(_l[Fo],es,cs),U(!_l[Fo]||_l[Fo].texture&&Rf.indexOf(_l[Fo].texture._texture.format)>=0||_l[Fo].renderbuffer&&mt.indexOf(_l[Fo].renderbuffer._renderbuffer.format)>=0,"framebuffer color attachment "+Fo+" is invalid"),_l[Fo]&&_l[Fo].texture){var Qc=$c[_l[Fo].texture._texture.format]*id[_l[Fo].texture._texture.type];Ou===null?Ou=Qc:U(Ou===Qc,"all color attachments much have the same number of bits per pixel.")}return si(Bc,es,cs),U(!Bc||Bc.texture&&Bc.texture._texture.format===Ud||Bc.renderbuffer&&Bc.renderbuffer._renderbuffer.format===c,"invalid depth attachment for framebuffer object"),si(Go,es,cs),U(!Go||Go.renderbuffer&&Go.renderbuffer._renderbuffer.format===l,"invalid stencil attachment for framebuffer object"),si(ds,es,cs),U(!ds||ds.texture&&ds.texture._texture.format===g||ds.renderbuffer&&ds.renderbuffer._renderbuffer.format===g,"invalid depth-stencil attachment for framebuffer object"),Pi(Si),Si.width=es,Si.height=cs,Si.colorAttachments=_l,Si.depthAttachment=Bc,Si.stencilAttachment=Go,Si.depthStencilAttachment=ds,Ss.color=_l.map(In),Ss.depth=In(Bc),Ss.stencil=In(Go),Ss.depthStencil=In(ds),Ss.width=Si.width,Ss.height=Si.height,ta(Si),Ss}function ls(xi,wi){U(Nn.next!==Si,"can not resize a framebuffer which is currently in use");var Fo=Math.max(xi|0,1),es=Math.max(wi|0||Fo,1);if(Fo===Si.width&&es===Si.height)return Ss;for(var cs=Si.colorAttachments,eu=0;eu<cs.length;++eu)Wa(cs[eu],Fo,es);return Wa(Si.depthAttachment,Fo,es),Wa(Si.stencilAttachment,Fo,es),Wa(Si.depthStencilAttachment,Fo,es),Si.width=Ss.width=Fo,Si.height=Ss.height=es,ta(Si),Ss}return Ss(Za,Ei),T(Ss,{resize:ls,_reglType:"framebuffer",_framebuffer:Si,destroy:function(){yi(Si),Pi(Si)},use:function(wi){Nn.setFBO({framebuffer:Ss},wi)}})}function Ii(Za){var Ei=Array(6);function Si(ls){var xi;U(Ei.indexOf(Nn.next)<0,"can not update framebuffer which is currently in use");var wi={color:null},Fo=0,es=null,cs="rgba",eu="uint8",bu=1;if(typeof ls=="number")Fo=ls|0;else if(!ls)Fo=1;else{U.type(ls,"object","invalid arguments for framebuffer");var js=ls;if("shape"in js){var Lu=js.shape;U(Array.isArray(Lu)&&Lu.length>=2,"invalid shape for framebuffer"),U(Lu[0]===Lu[1],"cube framebuffer must be square"),Fo=Lu[0]}else"radius"in js&&(Fo=js.radius|0),"width"in js?(Fo=js.width|0,"height"in js&&U(js.height===Fo,"must be square")):"height"in js&&(Fo=js.height|0);("color"in js||"colors"in js)&&(es=js.color||js.colors,Array.isArray(es)&&U(es.length===1||qt.webgl_draw_buffers,"multiple render targets not supported")),es||("colorCount"in js&&(bu=js.colorCount|0,U(bu>0,"invalid color buffer count")),"colorType"in js&&(U.oneOf(js.colorType,ja,"invalid color type"),eu=js.colorType),"colorFormat"in js&&(cs=js.colorFormat,U.oneOf(js.colorFormat,mn,"invalid color format for texture"))),"depth"in js&&(wi.depth=js.depth),"stencil"in js&&(wi.stencil=js.stencil),"depthStencil"in js&&(wi.depthStencil=js.depthStencil)}var Zl;if(es)if(Array.isArray(es))for(Zl=[],xi=0;xi<es.length;++xi)Zl[xi]=es[xi];else Zl=[es];else{Zl=Array(bu);var xu={radius:Fo,format:cs,type:eu};for(xi=0;xi<bu;++xi)Zl[xi]=jn.createCube(xu)}for(wi.color=Array(Zl.length),xi=0;xi<Zl.length;++xi){var hu=Zl[xi];U(typeof hu=="function"&&hu._reglType==="textureCube","invalid cube map"),Fo=Fo||hu.width,U(hu.width===Fo&&hu.height===Fo,"invalid cube map shape"),wi.color[xi]={target:If,data:Zl[xi]}}for(xi=0;xi<6;++xi){for(var mf=0;mf<Zl.length;++mf)wi.color[mf].target=If+xi;xi>0&&(wi.depth=Ei[0].depth,wi.stencil=Ei[0].stencil,wi.depthStencil=Ei[0].depthStencil),Ei[xi]?Ei[xi](wi):Ei[xi]=na(wi)}return T(Si,{width:Fo,height:Fo,color:Zl})}function Ss(ls){var xi,wi=ls|0;if(U(wi>0&&wi<=Ur.maxCubeMapSize,"invalid radius for cube fbo"),wi===Si.width)return Si;var Fo=Si.color;for(xi=0;xi<Fo.length;++xi)Fo[xi].resize(wi);for(xi=0;xi<6;++xi)Ei[xi].resize(wi);return Si.width=Si.height=wi,Si}return Si(Za),T(Si,{faces:Ei,resize:Ss,_reglType:"framebufferCube",destroy:function(){Ei.forEach(function(xi){xi.destroy()})}})}function Qa(){Nn.cur=null,Nn.next=null,Nn.dirty=!0,un(ua).forEach(function(Za){Za.framebuffer=_t.createFramebuffer(),ta(Za)})}return T(Nn,{getFramebuffer:function(Ei){if(typeof Ei=="function"&&Ei._reglType==="framebuffer"){var Si=Ei._framebuffer;if(Si instanceof vo)return Si}return null},create:na,createCube:Ii,clear:function(){un(ua).forEach(yi)},restore:Qa})}var rr=5126,ur=34962,kr=34963,Nr=["attributes","elements","offset","count","primitive","instances"];function Xr(){this.state=0,this.x=0,this.y=0,this.z=0,this.w=0,this.buffer=null,this.size=0,this.normalized=!1,this.type=rr,this.offset=0,this.stride=0,this.divisor=0}function Br(_t,qt,Ur,jn,fa,ea,Nn){for(var mn=Ur.maxAttributes,Ua=new Array(mn),ja=0;ja<mn;++ja)Ua[ja]=new Xr;var ei=0,Va={},si={Record:Xr,scope:{},state:Ua,currentVAO:null,targetVAO:null,restore:Ha()?Pi:function(){},createVAO:yi,getVAO:In,destroyBuffer:ai,setVAO:Ha()?Wa:ki,clear:Ha()?ua:function(){}};function ai(ta){for(var na=0;na<Ua.length;++na){var Ii=Ua[na];Ii.buffer===ta&&(_t.disableVertexAttribArray(na),Ii.buffer=null)}}function Ha(){return qt.oes_vertex_array_object}function Fn(){return qt.angle_instanced_arrays}function In(ta){return typeof ta=="function"&&ta._vao?ta._vao:null}function Wa(ta){if(ta!==si.currentVAO){var na=Ha();ta?na.bindVertexArrayOES(ta.vao):na.bindVertexArrayOES(null),si.currentVAO=ta}}function ki(ta){if(ta!==si.currentVAO){if(ta)ta.bindAttrs();else{for(var na=Fn(),Ii=0;Ii<Ua.length;++Ii){var Qa=Ua[Ii];Qa.buffer?(_t.enableVertexAttribArray(Ii),Qa.buffer.bind(),_t.vertexAttribPointer(Ii,Qa.size,Qa.type,Qa.normalized,Qa.stride,Qa.offfset),na&&Qa.divisor&&na.vertexAttribDivisorANGLE(Ii,Qa.divisor)):(_t.disableVertexAttribArray(Ii),_t.vertexAttrib4f(Ii,Qa.x,Qa.y,Qa.z,Qa.w))}Nn.elements?_t.bindBuffer(kr,Nn.elements.buffer.buffer):_t.bindBuffer(kr,null)}si.currentVAO=ta}}function ua(){un(Va).forEach(function(ta){ta.destroy()})}function vo(){this.id=++ei,this.attributes=[],this.elements=null,this.ownsElements=!1,this.count=0,this.offset=0,this.instances=-1,this.primitive=4;var ta=Ha();ta?this.vao=ta.createVertexArrayOES():this.vao=null,Va[this.id]=this,this.buffers=[]}vo.prototype.bindAttrs=function(){for(var ta=Fn(),na=this.attributes,Ii=0;Ii<na.length;++Ii){var Qa=na[Ii];Qa.buffer?(_t.enableVertexAttribArray(Ii),_t.bindBuffer(ur,Qa.buffer.buffer),_t.vertexAttribPointer(Ii,Qa.size,Qa.type,Qa.normalized,Qa.stride,Qa.offset),ta&&Qa.divisor&&ta.vertexAttribDivisorANGLE(Ii,Qa.divisor)):(_t.disableVertexAttribArray(Ii),_t.vertexAttrib4f(Ii,Qa.x,Qa.y,Qa.z,Qa.w))}for(var Za=na.length;Za<mn;++Za)_t.disableVertexAttribArray(Za);var Ei=ea.getElements(this.elements);Ei?_t.bindBuffer(kr,Ei.buffer.buffer):_t.bindBuffer(kr,null)},vo.prototype.refresh=function(){var ta=Ha();ta&&(ta.bindVertexArrayOES(this.vao),this.bindAttrs(),si.currentVAO=null,ta.bindVertexArrayOES(null))},vo.prototype.destroy=function(){if(this.vao){var ta=Ha();this===si.currentVAO&&(si.currentVAO=null,ta.bindVertexArrayOES(null)),ta.deleteVertexArrayOES(this.vao),this.vao=null}this.ownsElements&&(this.elements.destroy(),this.elements=null,this.ownsElements=!1),Va[this.id]&&(delete Va[this.id],jn.vaoCount-=1)};function Pi(){var ta=Ha();ta&&un(Va).forEach(function(na){na.refresh()})}function yi(ta){var na=new vo;jn.vaoCount+=1;function Ii(Qa){var Za;if(Array.isArray(Qa))Za=Qa,na.elements&&na.ownsElements&&na.elements.destroy(),na.elements=null,na.ownsElements=!1,na.offset=0,na.count=0,na.instances=-1,na.primitive=4;else{if(U(typeof Qa=="object","invalid arguments for create vao"),U("attributes"in Qa,"must specify attributes for vao"),Qa.elements){var Ei=Qa.elements;na.ownsElements?typeof Ei=="function"&&Ei._reglType==="elements"?(na.elements.destroy(),na.ownsElements=!1):(na.elements(Ei),na.ownsElements=!1):ea.getElements(Qa.elements)?(na.elements=Qa.elements,na.ownsElements=!1):(na.elements=ea.create(Qa.elements),na.ownsElements=!0)}else na.elements=null,na.ownsElements=!1;Za=Qa.attributes,na.offset=0,na.count=-1,na.instances=-1,na.primitive=4,na.elements&&(na.count=na.elements._elements.vertCount,na.primitive=na.elements._elements.primType),"offset"in Qa&&(na.offset=Qa.offset|0),"count"in Qa&&(na.count=Qa.count|0),"instances"in Qa&&(na.instances=Qa.instances|0),"primitive"in Qa&&(U(Qa.primitive in ma,"bad primitive type: "+Qa.primitive),na.primitive=ma[Qa.primitive]),U.optional(function(){for(var eu=Object.keys(Qa),bu=0;bu<eu.length;++bu)U(Nr.indexOf(eu[bu])>=0,'invalid option for vao: "'+eu[bu]+'" valid options are '+Nr)}),U(Array.isArray(Za),"attributes must be an array")}U(Za.length<mn,"too many attributes"),U(Za.length>0,"must specify at least one attribute");var Si={},Ss=na.attributes;Ss.length=Za.length;for(var ls=0;ls<Za.length;++ls){var xi=Za[ls],wi=Ss[ls]=new Xr,Fo=xi.data||xi;if(Array.isArray(Fo)||y(Fo)||vr(Fo)){var es;na.buffers[ls]&&(es=na.buffers[ls],y(Fo)&&es._buffer.byteLength>=Fo.byteLength?es.subdata(Fo):(es.destroy(),na.buffers[ls]=null)),na.buffers[ls]||(es=na.buffers[ls]=fa.create(xi,ur,!1,!0)),wi.buffer=fa.getBuffer(es),wi.size=wi.buffer.dimension|0,wi.normalized=!1,wi.type=wi.buffer.dtype,wi.offset=0,wi.stride=0,wi.divisor=0,wi.state=1,Si[ls]=1}else fa.getBuffer(xi)?(wi.buffer=fa.getBuffer(xi),wi.size=wi.buffer.dimension|0,wi.normalized=!1,wi.type=wi.buffer.dtype,wi.offset=0,wi.stride=0,wi.divisor=0,wi.state=1):fa.getBuffer(xi.buffer)?(wi.buffer=fa.getBuffer(xi.buffer),wi.size=(+xi.size||wi.buffer.dimension)|0,wi.normalized=!!xi.normalized||!1,"type"in xi?(U.parameter(xi.type,Bu,"invalid buffer type"),wi.type=Bu[xi.type]):wi.type=wi.buffer.dtype,wi.offset=(xi.offset||0)|0,wi.stride=(xi.stride||0)|0,wi.divisor=(xi.divisor||0)|0,wi.state=1,U(wi.size>=1&&wi.size<=4,"size must be between 1 and 4"),U(wi.offset>=0,"invalid offset"),U(wi.stride>=0&&wi.stride<=255,"stride must be between 0 and 255"),U(wi.divisor>=0,"divisor must be positive"),U(!wi.divisor||!!qt.angle_instanced_arrays,"ANGLE_instanced_arrays must be enabled to use divisor")):"x"in xi?(U(ls>0,"first attribute must not be a constant"),wi.x=+xi.x||0,wi.y=+xi.y||0,wi.z=+xi.z||0,wi.w=+xi.w||0,wi.state=2):U(!1,"invalid attribute spec for location "+ls)}for(var cs=0;cs<na.buffers.length;++cs)!Si[cs]&&na.buffers[cs]&&(na.buffers[cs].destroy(),na.buffers[cs]=null);return na.refresh(),Ii}return Ii.destroy=function(){for(var Qa=0;Qa<na.buffers.length;++Qa)na.buffers[Qa]&&na.buffers[Qa].destroy();na.buffers.length=0,na.ownsElements&&(na.elements.destroy(),na.elements=null,na.ownsElements=!1),na.destroy()},Ii._vao=na,Ii._reglType="vao",Ii(ta)}return si}var Hr=35632,hn=35633,pn=35718,la=35721;function Gn(_t,qt,Ur,jn){var fa={},ea={};function Nn(Fn,In,Wa,ki){this.name=Fn,this.id=In,this.location=Wa,this.info=ki}function mn(Fn,In){for(var Wa=0;Wa<Fn.length;++Wa)if(Fn[Wa].id===In.id){Fn[Wa].location=In.location;return}Fn.push(In)}function Ua(Fn,In,Wa){var ki=Fn===Hr?fa:ea,ua=ki[In];if(!ua){var vo=qt.str(In);ua=_t.createShader(Fn),_t.shaderSource(ua,vo),_t.compileShader(ua),U.shaderError(_t,ua,vo,Fn,Wa),ki[In]=ua}return ua}var ja={},ei=[],Va=0;function si(Fn,In){this.id=Va++,this.fragId=Fn,this.vertId=In,this.program=null,this.uniforms=[],this.attributes=[],this.refCount=1,jn.profile&&(this.stats={uniformsCount:0,attributesCount:0})}function ai(Fn,In,Wa){var ki,ua,vo=Ua(Hr,Fn.fragId),Pi=Ua(hn,Fn.vertId),yi=Fn.program=_t.createProgram();if(_t.attachShader(yi,vo),_t.attachShader(yi,Pi),Wa)for(ki=0;ki<Wa.length;++ki){var ta=Wa[ki];_t.bindAttribLocation(yi,ta[0],ta[1])}_t.linkProgram(yi),U.linkError(_t,yi,qt.str(Fn.fragId),qt.str(Fn.vertId),In);var na=_t.getProgramParameter(yi,pn);jn.profile&&(Fn.stats.uniformsCount=na);var Ii=Fn.uniforms;for(ki=0;ki<na;++ki)if(ua=_t.getActiveUniform(yi,ki),ua)if(ua.size>1)for(var Qa=0;Qa<ua.size;++Qa){var Za=ua.name.replace("[0]","["+Qa+"]");mn(Ii,new Nn(Za,qt.id(Za),_t.getUniformLocation(yi,Za),ua))}else mn(Ii,new Nn(ua.name,qt.id(ua.name),_t.getUniformLocation(yi,ua.name),ua));var Ei=_t.getProgramParameter(yi,la);jn.profile&&(Fn.stats.attributesCount=Ei);var Si=Fn.attributes;for(ki=0;ki<Ei;++ki)ua=_t.getActiveAttrib(yi,ki),ua&&mn(Si,new Nn(ua.name,qt.id(ua.name),_t.getAttribLocation(yi,ua.name),ua))}jn.profile&&(Ur.getMaxUniformsCount=function(){var Fn=0;return ei.forEach(function(In){In.stats.uniformsCount>Fn&&(Fn=In.stats.uniformsCount)}),Fn},Ur.getMaxAttributesCount=function(){var Fn=0;return ei.forEach(function(In){In.stats.attributesCount>Fn&&(Fn=In.stats.attributesCount)}),Fn});function Ha(){fa={},ea={};for(var Fn=0;Fn<ei.length;++Fn)ai(ei[Fn],null,ei[Fn].attributes.map(function(In){return[In.location,In.name]}))}return{clear:function(){var In=_t.deleteShader.bind(_t);un(fa).forEach(In),fa={},un(ea).forEach(In),ea={},ei.forEach(function(Wa){_t.deleteProgram(Wa.program)}),ei.length=0,ja={},Ur.shaderCount=0},program:function(In,Wa,ki,ua){U.command(In>=0,"missing vertex shader",ki),U.command(Wa>=0,"missing fragment shader",ki);var vo=ja[Wa];vo||(vo=ja[Wa]={});var Pi=vo[In];if(Pi&&(Pi.refCount++,!ua))return Pi;var yi=new si(Wa,In);return Ur.shaderCount++,ai(yi,ki,ua),Pi||(vo[In]=yi),ei.push(yi),T(yi,{destroy:function(){if(yi.refCount--,yi.refCount<=0){_t.deleteProgram(yi.program);var na=ei.indexOf(yi);ei.splice(na,1),Ur.shaderCount--}vo[yi.vertId].refCount<=0&&(_t.deleteShader(ea[yi.vertId]),delete ea[yi.vertId],delete ja[yi.fragId][yi.vertId]),Object.keys(ja[yi.fragId]).length||(_t.deleteShader(fa[yi.fragId]),delete fa[yi.fragId],delete ja[yi.fragId])}})},restore:Ha,shader:Ua,frag:-1,vert:-1}}var aa=6408,sa=5121,Ya=3333,Ka=5126;function Di(_t,qt,Ur,jn,fa,ea,Nn){function mn(ei){var Va;qt.next===null?(U(fa.preserveDrawingBuffer,'you must create a webgl context with "preserveDrawingBuffer":true in order to read pixels from the drawing buffer'),Va=sa):(U(qt.next.colorAttachments[0].texture!==null,"You cannot read from a renderbuffer"),Va=qt.next.colorAttachments[0].texture._texture.type,U.optional(function(){ea.oes_texture_float?(U(Va===sa||Va===Ka,"Reading from a framebuffer is only allowed for the types 'uint8' and 'float'"),Va===Ka&&U(Nn.readFloat,"Reading 'float' values is not permitted in your browser. For a fallback, please see: https://www.npmjs.com/package/glsl-read-float")):U(Va===sa,"Reading from a framebuffer is only allowed for the type 'uint8'")}));var si=0,ai=0,Ha=jn.framebufferWidth,Fn=jn.framebufferHeight,In=null;y(ei)?In=ei:ei&&(U.type(ei,"object","invalid arguments to regl.read()"),si=ei.x|0,ai=ei.y|0,U(si>=0&&si<jn.framebufferWidth,"invalid x offset for regl.read"),U(ai>=0&&ai<jn.framebufferHeight,"invalid y offset for regl.read"),Ha=(ei.width||jn.framebufferWidth-si)|0,Fn=(ei.height||jn.framebufferHeight-ai)|0,In=ei.data||null),In&&(Va===sa?U(In instanceof Uint8Array,"buffer must be 'Uint8Array' when reading from a framebuffer of type 'uint8'"):Va===Ka&&U(In instanceof Float32Array,"buffer must be 'Float32Array' when reading from a framebuffer of type 'float'")),U(Ha>0&&Ha+si<=jn.framebufferWidth,"invalid width for read pixels"),U(Fn>0&&Fn+ai<=jn.framebufferHeight,"invalid height for read pixels"),Ur();var Wa=Ha*Fn*4;return In||(Va===sa?In=new Uint8Array(Wa):Va===Ka&&(In=In||new Float32Array(Wa))),U.isTypedArray(In,"data buffer for regl.read() must be a typedarray"),U(In.byteLength>=Wa,"data buffer for regl.read() too small"),_t.pixelStorei(Ya,4),_t.readPixels(si,ai,Ha,Fn,aa,Va,In),In}function Ua(ei){var Va;return qt.setFBO({framebuffer:ei.framebuffer},function(){Va=mn(ei)}),Va}function ja(ei){return!ei||!("framebuffer"in ei)?mn(ei):Ua(ei)}return ja}function di(_t){return Array.prototype.slice.call(_t)}function Eo(_t){return di(_t).join("")}function Bo(){var _t=0,qt=[],Ur=[];function jn(Va){for(var si=0;si<Ur.length;++si)if(Ur[si]===Va)return qt[si];var ai="g"+_t++;return qt.push(ai),Ur.push(Va),ai}function fa(){var Va=[];function si(){Va.push.apply(Va,di(arguments))}var ai=[];function Ha(){var Fn="v"+_t++;return ai.push(Fn),arguments.length>0&&(Va.push(Fn,"="),Va.push.apply(Va,di(arguments)),Va.push(";")),Fn}return T(si,{def:Ha,toString:function(){return Eo([ai.length>0?"var "+ai.join(",")+";":"",Eo(Va)])}})}function ea(){var Va=fa(),si=fa(),ai=Va.toString,Ha=si.toString;function Fn(In,Wa){si(In,Wa,"=",Va.def(In,Wa),";")}return T(function(){Va.apply(Va,di(arguments))},{def:Va.def,entry:Va,exit:si,save:Fn,set:function(Wa,ki,ua){Fn(Wa,ki),Va(Wa,ki,"=",ua,";")},toString:function(){return ai()+Ha()}})}function Nn(){var Va=Eo(arguments),si=ea(),ai=ea(),Ha=si.toString,Fn=ai.toString;return T(si,{then:function(){return si.apply(si,di(arguments)),this},else:function(){return ai.apply(ai,di(arguments)),this},toString:function(){var Wa=Fn();return Wa&&(Wa="else{"+Wa+"}"),Eo(["if(",Va,"){",Ha(),"}",Wa])}})}var mn=fa(),Ua={};function ja(Va,si){var ai=[];function Ha(){var ua="a"+ai.length;return ai.push(ua),ua}si=si||0;for(var Fn=0;Fn<si;++Fn)Ha();var In=ea(),Wa=In.toString,ki=Ua[Va]=T(In,{arg:Ha,toString:function(){return Eo(["function(",ai.join(),"){",Wa(),"}"])}});return ki}function ei(){var Va=['"use strict";',mn,"return {"];Object.keys(Ua).forEach(function(Fn){Va.push('"',Fn,'":',Ua[Fn].toString(),",")}),Va.push("}");var si=Eo(Va).replace(/;/g,`;
`).replace(/}/g,`}
`).replace(/{/g,`{
`),ai=typeof my!="undefined"&&!!my&&typeof my.showToast=="function",Ha=ai?M.Function.apply(null,qt.concat(si)):Function.apply(null,qt.concat(si));return Ha.apply(null,Ur)}return{global:mn,link:jn,block:fa,proc:ja,scope:ea,cond:Nn,compile:ei}}var Wo="xyzw".split(""),ll=5121,_i=1,Qo=2,os=0,qi=1,hs=2,zo=3,us=4,Xs=5,au=6,zs="dither",pl="blend.enable",xl="blend.color",Ns="blend.equation",yc="blend.func",nc="depth.enable",Ru="depth.func",Hd="depth.range",Ft="depth.mask",Ht="colorMask",Ue="cull.enable",He="cull.face",Zt="frontFace",cr="lineWidth",ln="polygonOffset.enable",Mn="polygonOffset.offset",Cn="sample.alpha",qn="sample.enable",Ea="sample.coverage",ji="stencil.enable",ro="stencil.mask",Ao="stencil.func",uo="stencil.opFront",So="stencil.opBack",fs="scissor.enable",vs="scissor.box",bs="viewport",Yl="profile",Ml="framebuffer",Xu="vert",Ul="frag",Ds="elements",Qs="primitive",Vl="count",Kl="offset",vl="instances",hf="vao",pf="Width",Gp="Height",vh=Ml+pf,bc=Ml+Gp,lv=bs+pf,Tv=bs+Gp,Kp="drawingBuffer",tm=Kp+pf,Ep=Kp+Gp,Gs=[yc,Ns,Ao,uo,So,Ea,bs,vs,Mn],rh=34962,rm=34963,Zp=35632,tg=35633,nm=3553,gm=34067,mh=2884,rg=3042,rp=3024,ym=2960,Ic=2929,Av=3089,Hl=32823,gh=32926,am=32928,Lh=5126,nh=35664,np=35665,Mv=35666,Dh=5124,Fh=35667,Sp=35668,Rc=35669,Op=35670,vf=35671,_v=35672,uv=35673,Yp=35674,cv=35675,$p=35676,xd=35678,fv=35680,im=4,dv=1028,Pp=1029,om=2304,Lc=2305,ah=32775,km=32776,Bm=519,ih=7680,ap=0,hv=1,Cd=32774,ng=513,pv=36160,Wd=36064,Vo={"0":0,"1":1,zero:0,one:1,"src color":768,"one minus src color":769,"src alpha":770,"one minus src alpha":771,"dst color":774,"one minus dst color":775,"dst alpha":772,"one minus dst alpha":773,"constant color":32769,"one minus constant color":32770,"constant alpha":32771,"one minus constant alpha":32772,"src alpha saturate":776},zm=["constant color, constant alpha","one minus constant color, constant alpha","constant color, one minus constant alpha","one minus constant color, one minus constant alpha","constant alpha, constant color","constant alpha, one minus constant color","one minus constant alpha, constant color","one minus constant alpha, one minus constant color"],wp={never:512,less:513,"<":513,equal:514,"=":514,"==":514,"===":514,lequal:515,"<=":515,greater:516,">":516,notequal:517,"!=":517,"!==":517,gequal:518,">=":518,always:519},ip={"0":0,zero:0,keep:7680,replace:7681,increment:7682,decrement:7683,"increment wrap":34055,"decrement wrap":34056,invert:5386},Tp={frag:Zp,vert:tg},Iv={cw:om,ccw:Lc};function op(_t){return Array.isArray(_t)||y(_t)||vr(_t)}function Ap(_t){return _t.sort(function(qt,Ur){return qt===bs?-1:Ur===bs?1:qt<Ur?-1:1})}function fc(_t,qt,Ur,jn){this.thisDep=_t,this.contextDep=qt,this.propDep=Ur,this.append=jn}function Mp(_t){return _t&&!(_t.thisDep||_t.contextDep||_t.propDep)}function dc(_t){return new fc(!1,!1,!1,_t)}function $l(_t,qt){var Ur=_t.type;if(Ur===os){var jn=_t.data.length;return new fc(!0,jn>=1,jn>=2,qt)}else if(Ur===us){var fa=_t.data;return new fc(fa.thisDep,fa.contextDep,fa.propDep,qt)}else{if(Ur===Xs)return new fc(!1,!1,!1,qt);if(Ur===au){for(var ea=!1,Nn=!1,mn=!1,Ua=0;Ua<_t.data.length;++Ua){var ja=_t.data[Ua];if(ja.type===qi)mn=!0;else if(ja.type===hs)Nn=!0;else if(ja.type===zo)ea=!0;else if(ja.type===os){ea=!0;var ei=ja.data;ei>=1&&(Nn=!0),ei>=2&&(mn=!0)}else ja.type===us&&(ea=ea||ja.data.thisDep,Nn=Nn||ja.data.contextDep,mn=mn||ja.data.propDep)}return new fc(ea,Nn,mn,qt)}else return new fc(Ur===zo,Ur===hs,Ur===qi,qt)}}var sm=new fc(!1,!1,!1,function(){});function lm(_t,qt,Ur,jn,fa,ea,Nn,mn,Ua,ja,ei,Va,si,ai,Ha){var Fn=ja.Record,In={add:32774,subtract:32778,"reverse subtract":32779};Ur.ext_blend_minmax&&(In.min=ah,In.max=km);var Wa=Ur.angle_instanced_arrays,ki=Ur.webgl_draw_buffers,ua=Ur.oes_vertex_array_object,vo={dirty:!0,profile:Ha.profile},Pi={},yi=[],ta={},na={};function Ii(wr){return wr.replace(".","_")}function Qa(wr,tr,en){var Pn=Ii(wr);yi.push(wr),Pi[Pn]=vo[Pn]=!!en,ta[Pn]=tr}function Za(wr,tr,en){var Pn=Ii(wr);yi.push(wr),Array.isArray(en)?(vo[Pn]=en.slice(),Pi[Pn]=en.slice()):vo[Pn]=Pi[Pn]=en,na[Pn]=tr}Qa(zs,rp),Qa(pl,rg),Za(xl,"blendColor",[0,0,0,0]),Za(Ns,"blendEquationSeparate",[Cd,Cd]),Za(yc,"blendFuncSeparate",[hv,ap,hv,ap]),Qa(nc,Ic,!0),Za(Ru,"depthFunc",ng),Za(Hd,"depthRange",[0,1]),Za(Ft,"depthMask",!0),Za(Ht,Ht,[!0,!0,!0,!0]),Qa(Ue,mh),Za(He,"cullFace",Pp),Za(Zt,Zt,Lc),Za(cr,cr,1),Qa(ln,Hl),Za(Mn,"polygonOffset",[0,0]),Qa(Cn,gh),Qa(qn,am),Za(Ea,"sampleCoverage",[1,!1]),Qa(ji,ym),Za(ro,"stencilMask",-1),Za(Ao,"stencilFunc",[Bm,0,-1]),Za(uo,"stencilOpSeparate",[dv,ih,ih,ih]),Za(So,"stencilOpSeparate",[Pp,ih,ih,ih]),Qa(fs,Av),Za(vs,"scissor",[0,0,_t.drawingBufferWidth,_t.drawingBufferHeight]),Za(bs,bs,[0,0,_t.drawingBufferWidth,_t.drawingBufferHeight]);var Ei={gl:_t,context:si,strings:qt,next:Pi,current:vo,draw:Va,elements:ea,buffer:fa,shader:ei,attributes:ja.state,vao:ja,uniforms:Ua,framebuffer:mn,extensions:Ur,timer:ai,isBufferArgs:op},Si={primTypes:ma,compareFuncs:wp,blendFuncs:Vo,blendEquations:In,stencilOps:ip,glTypes:Bu,orientationType:Iv};U.optional(function(){Ei.isArrayLike=zl}),ki&&(Si.backBuffer=[Pp],Si.drawBuffer=Ee(jn.maxDrawbuffers,function(wr){return wr===0?[0]:Ee(wr,function(tr){return Wd+tr})}));var Ss=0;function ls(){var wr=Bo(),tr=wr.link,en=wr.global;wr.id=Ss++,wr.batchId="0";var Pn=tr(Ei),wn=wr.shared={props:"a0"};Object.keys(Ei).forEach(function(jr){wn[jr]=en.def(Pn,".",jr)}),U.optional(function(){wr.CHECK=tr(U),wr.commandStr=U.guessCommand(),wr.command=tr(wr.commandStr),wr.assert=function(jr,Mr,An){jr("if(!(",Mr,"))",this.CHECK,".commandRaise(",tr(An),",",this.command,");")},Si.invalidBlendCombinations=zm});var rn=wr.next={},Jr=wr.current={};Object.keys(na).forEach(function(jr){Array.isArray(vo[jr])&&(rn[jr]=en.def(wn.next,".",jr),Jr[jr]=en.def(wn.current,".",jr))});var sn=wr.constants={};Object.keys(Si).forEach(function(jr){sn[jr]=en.def(JSON.stringify(Si[jr]))}),wr.invoke=function(jr,Mr){switch(Mr.type){case os:var An=["this",wn.context,wn.props,wr.batchId];return jr.def(tr(Mr.data),".call(",An.slice(0,Math.max(Mr.data.length+1,4)),")");case qi:return jr.def(wn.props,Mr.data);case hs:return jr.def(wn.context,Mr.data);case zo:return jr.def("this",Mr.data);case us:return Mr.data.append(wr,jr),Mr.data.ref;case Xs:return Mr.data.toString();case au:return Mr.data.map(function(Ln){return wr.invoke(jr,Ln)})}},wr.attribCache={};var xr={};return wr.scopeAttrib=function(jr){var Mr=qt.id(jr);if(Mr in xr)return xr[Mr];var An=ja.scope[Mr];An||(An=ja.scope[Mr]=new Fn);var Ln=xr[Mr]=tr(An);return Ln},wr}function xi(wr){var tr=wr.static,en=wr.dynamic,Pn;if(Yl in tr){var wn=!!tr[Yl];Pn=dc(function(Jr,sn){return wn}),Pn.enable=wn}else if(Yl in en){var rn=en[Yl];Pn=$l(rn,function(Jr,sn){return Jr.invoke(sn,rn)})}return Pn}function wi(wr,tr){var en=wr.static,Pn=wr.dynamic;if(Ml in en){var wn=en[Ml];return wn?(wn=mn.getFramebuffer(wn),U.command(wn,"invalid framebuffer object"),dc(function(Jr,sn){var xr=Jr.link(wn),jr=Jr.shared;sn.set(jr.framebuffer,".next",xr);var Mr=jr.context;return sn.set(Mr,"."+vh,xr+".width"),sn.set(Mr,"."+bc,xr+".height"),xr})):dc(function(Jr,sn){var xr=Jr.shared;sn.set(xr.framebuffer,".next","null");var jr=xr.context;return sn.set(jr,"."+vh,jr+"."+tm),sn.set(jr,"."+bc,jr+"."+Ep),"null"})}else if(Ml in Pn){var rn=Pn[Ml];return $l(rn,function(Jr,sn){var xr=Jr.invoke(sn,rn),jr=Jr.shared,Mr=jr.framebuffer,An=sn.def(Mr,".getFramebuffer(",xr,")");U.optional(function(){Jr.assert(sn,"!"+xr+"||"+An,"invalid framebuffer object")}),sn.set(Mr,".next",An);var Ln=jr.context;return sn.set(Ln,"."+vh,An+"?"+An+".width:"+Ln+"."+tm),sn.set(Ln,"."+bc,An+"?"+An+".height:"+Ln+"."+Ep),An})}else return null}function Fo(wr,tr,en){var Pn=wr.static,wn=wr.dynamic;function rn(xr){if(xr in Pn){var jr=Pn[xr];U.commandType(jr,"object","invalid "+xr,en.commandStr);var Mr=!0,An=jr.x|0,Ln=jr.y|0,Aa,fi;return"width"in jr?(Aa=jr.width|0,U.command(Aa>=0,"invalid "+xr,en.commandStr)):Mr=!1,"height"in jr?(fi=jr.height|0,U.command(fi>=0,"invalid "+xr,en.commandStr)):Mr=!1,new fc(!Mr&&tr&&tr.thisDep,!Mr&&tr&&tr.contextDep,!Mr&&tr&&tr.propDep,function(ii,no){var Vi=ii.shared.context,Xi=Aa;"width"in jr||(Xi=no.def(Vi,".",vh,"-",An));var Qi=fi;return"height"in jr||(Qi=no.def(Vi,".",bc,"-",Ln)),[An,Ln,Xi,Qi]})}else if(xr in wn){var ui=wn[xr],Ti=$l(ui,function(ii,no){var Vi=ii.invoke(no,ui);U.optional(function(){ii.assert(no,Vi+"&&typeof "+Vi+'==="object"',"invalid "+xr)});var Xi=ii.shared.context,Qi=no.def(Vi,".x|0"),ao=no.def(Vi,".y|0"),ts=no.def('"width" in ',Vi,"?",Vi,".width|0:","(",Xi,".",vh,"-",Qi,")"),Fl=no.def('"height" in ',Vi,"?",Vi,".height|0:","(",Xi,".",bc,"-",ao,")");return U.optional(function(){ii.assert(no,ts+">=0&&"+Fl+">=0","invalid "+xr)}),[Qi,ao,ts,Fl]});return tr&&(Ti.thisDep=Ti.thisDep||tr.thisDep,Ti.contextDep=Ti.contextDep||tr.contextDep,Ti.propDep=Ti.propDep||tr.propDep),Ti}else return tr?new fc(tr.thisDep,tr.contextDep,tr.propDep,function(ii,no){var Vi=ii.shared.context;return[0,0,no.def(Vi,".",vh),no.def(Vi,".",bc)]}):null}var Jr=rn(bs);if(Jr){var sn=Jr;Jr=new fc(Jr.thisDep,Jr.contextDep,Jr.propDep,function(xr,jr){var Mr=sn.append(xr,jr),An=xr.shared.context;return jr.set(An,"."+lv,Mr[2]),jr.set(An,"."+Tv,Mr[3]),Mr})}return{viewport:Jr,scissor_box:rn(vs)}}function es(wr,tr){var en=wr.static,Pn=typeof en[Ul]=="string"&&typeof en[Xu]=="string";if(Pn){if(Object.keys(tr.dynamic).length>0)return null;var wn=tr.static,rn=Object.keys(wn);if(rn.length>0&&typeof wn[rn[0]]=="number"){for(var Jr=[],sn=0;sn<rn.length;++sn)U(typeof wn[rn[sn]]=="number","must specify all vertex attribute locations when using vaos"),Jr.push([wn[rn[sn]]|0,rn[sn]]);return Jr}}return null}function cs(wr,tr,en){var Pn=wr.static,wn=wr.dynamic;function rn(Mr){if(Mr in Pn){var An=qt.id(Pn[Mr]);U.optional(function(){ei.shader(Tp[Mr],An,U.guessCommand())});var Ln=dc(function(){return An});return Ln.id=An,Ln}else if(Mr in wn){var Aa=wn[Mr];return $l(Aa,function(fi,ui){var Ti=fi.invoke(ui,Aa),ii=ui.def(fi.shared.strings,".id(",Ti,")");return U.optional(function(){ui(fi.shared.shader,".shader(",Tp[Mr],",",ii,",",fi.command,");")}),ii})}return null}var Jr=rn(Ul),sn=rn(Xu),xr=null,jr;return Mp(Jr)&&Mp(sn)?(xr=ei.program(sn.id,Jr.id,null,en),jr=dc(function(Mr,An){return Mr.link(xr)})):jr=new fc(Jr&&Jr.thisDep||sn&&sn.thisDep,Jr&&Jr.contextDep||sn&&sn.contextDep,Jr&&Jr.propDep||sn&&sn.propDep,function(Mr,An){var Ln=Mr.shared.shader,Aa;Jr?Aa=Jr.append(Mr,An):Aa=An.def(Ln,".",Ul);var fi;sn?fi=sn.append(Mr,An):fi=An.def(Ln,".",Xu);var ui=Ln+".program("+fi+","+Aa;return U.optional(function(){ui+=","+Mr.command}),An.def(ui+")")}),{frag:Jr,vert:sn,progVar:jr,program:xr}}function eu(wr,tr){var en=wr.static,Pn=wr.dynamic,wn={},rn=!1;function Jr(){if(hf in en){var no=en[hf];return no!==null&&ja.getVAO(no)===null&&(no=ja.createVAO(no)),rn=!0,wn.vao=no,dc(function(Xi){var Qi=ja.getVAO(no);return Qi?Xi.link(Qi):"null"})}else if(hf in Pn){rn=!0;var Vi=Pn[hf];return $l(Vi,function(Xi,Qi){var ao=Xi.invoke(Qi,Vi);return Qi.def(Xi.shared.vao+".getVAO("+ao+")")})}return null}var sn=Jr(),xr=!1;function jr(){if(Ds in en){var no=en[Ds];if(wn.elements=no,op(no)){var Vi=wn.elements=ea.create(no,!0);no=ea.getElements(Vi),xr=!0}else no&&(no=ea.getElements(no),xr=!0,U.command(no,"invalid elements",tr.commandStr));var Xi=dc(function(ao,ts){if(no){var Fl=ao.link(no);return ao.ELEMENTS=Fl,Fl}return ao.ELEMENTS=null,null});return Xi.value=no,Xi}else if(Ds in Pn){xr=!0;var Qi=Pn[Ds];return $l(Qi,function(ao,ts){var Fl=ao.shared,ic=Fl.isBufferArgs,Gd=Fl.elements,Dd=ao.invoke(ts,Qi),od=ts.def("null"),Il=ts.def(ic,"(",Dd,")"),Nl=ao.cond(Il).then(od,"=",Gd,".createStream(",Dd,");").else(od,"=",Gd,".getElements(",Dd,");");return U.optional(function(){ao.assert(Nl.else,"!"+Dd+"||"+od,"invalid elements")}),ts.entry(Nl),ts.exit(ao.cond(Il).then(Gd,".destroyStream(",od,");")),ao.ELEMENTS=od,od})}else if(rn)return new fc(sn.thisDep,sn.contextDep,sn.propDep,function(ao,ts){return ts.def(ao.shared.vao+".currentVAO?"+ao.shared.elements+".getElements("+ao.shared.vao+".currentVAO.elements):null")});return null}var Mr=jr();function An(){if(Qs in en){var no=en[Qs];return wn.primitive=no,U.commandParameter(no,ma,"invalid primitve",tr.commandStr),dc(function(Xi,Qi){return ma[no]})}else if(Qs in Pn){var Vi=Pn[Qs];return $l(Vi,function(Xi,Qi){var ao=Xi.constants.primTypes,ts=Xi.invoke(Qi,Vi);return U.optional(function(){Xi.assert(Qi,ts+" in "+ao,"invalid primitive, must be one of "+Object.keys(ma))}),Qi.def(ao,"[",ts,"]")})}else{if(xr)return Mp(Mr)?Mr.value?dc(function(Xi,Qi){return Qi.def(Xi.ELEMENTS,".primType")}):dc(function(){return im}):new fc(Mr.thisDep,Mr.contextDep,Mr.propDep,function(Xi,Qi){var ao=Xi.ELEMENTS;return Qi.def(ao,"?",ao,".primType:",im)});if(rn)return new fc(sn.thisDep,sn.contextDep,sn.propDep,function(Xi,Qi){return Qi.def(Xi.shared.vao+".currentVAO?"+Xi.shared.vao+".currentVAO.primitive:"+im)})}return null}function Ln(no,Vi){if(no in en){var Xi=en[no]|0;return Vi?wn.offset=Xi:wn.instances=Xi,U.command(!Vi||Xi>=0,"invalid "+no,tr.commandStr),dc(function(ao,ts){return Vi&&(ao.OFFSET=Xi),Xi})}else if(no in Pn){var Qi=Pn[no];return $l(Qi,function(ao,ts){var Fl=ao.invoke(ts,Qi);return Vi&&(ao.OFFSET=Fl,U.optional(function(){ao.assert(ts,Fl+">=0","invalid "+no)})),Fl})}else if(Vi){if(xr)return dc(function(ao,ts){return ao.OFFSET=0,0});if(rn)return new fc(sn.thisDep,sn.contextDep,sn.propDep,function(ao,ts){return ts.def(ao.shared.vao+".currentVAO?"+ao.shared.vao+".currentVAO.offset:0")})}else if(rn)return new fc(sn.thisDep,sn.contextDep,sn.propDep,function(ao,ts){return ts.def(ao.shared.vao+".currentVAO?"+ao.shared.vao+".currentVAO.instances:-1")});return null}var Aa=Ln(Kl,!0);function fi(){if(Vl in en){var no=en[Vl]|0;return wn.count=no,U.command(typeof no=="number"&&no>=0,"invalid vertex count",tr.commandStr),dc(function(){return no})}else if(Vl in Pn){var Vi=Pn[Vl];return $l(Vi,function(ts,Fl){var ic=ts.invoke(Fl,Vi);return U.optional(function(){ts.assert(Fl,"typeof "+ic+'==="number"&&'+ic+">=0&&"+ic+"===("+ic+"|0)","invalid vertex count")}),ic})}else if(xr)if(Mp(Mr)){if(Mr)return Aa?new fc(Aa.thisDep,Aa.contextDep,Aa.propDep,function(ts,Fl){var ic=Fl.def(ts.ELEMENTS,".vertCount-",ts.OFFSET);return U.optional(function(){ts.assert(Fl,ic+">=0","invalid vertex offset/element buffer too small")}),ic}):dc(function(ts,Fl){return Fl.def(ts.ELEMENTS,".vertCount")});var Xi=dc(function(){return-1});return U.optional(function(){Xi.MISSING=!0}),Xi}else{var Qi=new fc(Mr.thisDep||Aa.thisDep,Mr.contextDep||Aa.contextDep,Mr.propDep||Aa.propDep,function(ts,Fl){var ic=ts.ELEMENTS;return ts.OFFSET?Fl.def(ic,"?",ic,".vertCount-",ts.OFFSET,":-1"):Fl.def(ic,"?",ic,".vertCount:-1")});return U.optional(function(){Qi.DYNAMIC=!0}),Qi}else if(rn){var ao=new fc(sn.thisDep,sn.contextDep,sn.propDep,function(ts,Fl){return Fl.def(ts.shared.vao,".currentVAO?",ts.shared.vao,".currentVAO.count:-1")});return ao}return null}var ui=An(),Ti=fi(),ii=Ln(vl,!1);return{elements:Mr,primitive:ui,count:Ti,instances:ii,offset:Aa,vao:sn,vaoActive:rn,elementsActive:xr,static:wn}}function bu(wr,tr){var en=wr.static,Pn=wr.dynamic,wn={};return yi.forEach(function(rn){var Jr=Ii(rn);function sn(xr,jr){if(rn in en){var Mr=xr(en[rn]);wn[Jr]=dc(function(){return Mr})}else if(rn in Pn){var An=Pn[rn];wn[Jr]=$l(An,function(Ln,Aa){return jr(Ln,Aa,Ln.invoke(Aa,An))})}}switch(rn){case Ue:case pl:case zs:case ji:case nc:case fs:case ln:case Cn:case qn:case Ft:return sn(function(xr){return U.commandType(xr,"boolean",rn,tr.commandStr),xr},function(xr,jr,Mr){return U.optional(function(){xr.assert(jr,"typeof "+Mr+'==="boolean"',"invalid flag "+rn,xr.commandStr)}),Mr});case Ru:return sn(function(xr){return U.commandParameter(xr,wp,"invalid "+rn,tr.commandStr),wp[xr]},function(xr,jr,Mr){var An=xr.constants.compareFuncs;return U.optional(function(){xr.assert(jr,Mr+" in "+An,"invalid "+rn+", must be one of "+Object.keys(wp))}),jr.def(An,"[",Mr,"]")});case Hd:return sn(function(xr){return U.command(zl(xr)&&xr.length===2&&typeof xr[0]=="number"&&typeof xr[1]=="number"&&xr[0]<=xr[1],"depth range is 2d array",tr.commandStr),xr},function(xr,jr,Mr){U.optional(function(){xr.assert(jr,xr.shared.isArrayLike+"("+Mr+")&&"+Mr+".length===2&&typeof "+Mr+'[0]==="number"&&typeof '+Mr+'[1]==="number"&&'+Mr+"[0]<="+Mr+"[1]","depth range must be a 2d array")});var An=jr.def("+",Mr,"[0]"),Ln=jr.def("+",Mr,"[1]");return[An,Ln]});case yc:return sn(function(xr){U.commandType(xr,"object","blend.func",tr.commandStr);var jr="srcRGB"in xr?xr.srcRGB:xr.src,Mr="srcAlpha"in xr?xr.srcAlpha:xr.src,An="dstRGB"in xr?xr.dstRGB:xr.dst,Ln="dstAlpha"in xr?xr.dstAlpha:xr.dst;return U.commandParameter(jr,Vo,Jr+".srcRGB",tr.commandStr),U.commandParameter(Mr,Vo,Jr+".srcAlpha",tr.commandStr),U.commandParameter(An,Vo,Jr+".dstRGB",tr.commandStr),U.commandParameter(Ln,Vo,Jr+".dstAlpha",tr.commandStr),U.command(zm.indexOf(jr+", "+An)===-1,"unallowed blending combination (srcRGB, dstRGB) = ("+jr+", "+An+")",tr.commandStr),[Vo[jr],Vo[An],Vo[Mr],Vo[Ln]]},function(xr,jr,Mr){var An=xr.constants.blendFuncs;U.optional(function(){xr.assert(jr,Mr+"&&typeof "+Mr+'==="object"',"invalid blend func, must be an object")});function Ln(Vi,Xi){var Qi=jr.def('"',Vi,Xi,'" in ',Mr,"?",Mr,".",Vi,Xi,":",Mr,".",Vi);return U.optional(function(){xr.assert(jr,Qi+" in "+An,"invalid "+rn+"."+Vi+Xi+", must be one of "+Object.keys(Vo))}),Qi}var Aa=Ln("src","RGB"),fi=Ln("dst","RGB");U.optional(function(){var Vi=xr.constants.invalidBlendCombinations;xr.assert(jr,Vi+".indexOf("+Aa+'+", "+'+fi+") === -1 ","unallowed blending combination for (srcRGB, dstRGB)")});var ui=jr.def(An,"[",Aa,"]"),Ti=jr.def(An,"[",Ln("src","Alpha"),"]"),ii=jr.def(An,"[",fi,"]"),no=jr.def(An,"[",Ln("dst","Alpha"),"]");return[ui,ii,Ti,no]});case Ns:return sn(function(xr){if(typeof xr=="string")return U.commandParameter(xr,In,"invalid "+rn,tr.commandStr),[In[xr],In[xr]];if(typeof xr=="object")return U.commandParameter(xr.rgb,In,rn+".rgb",tr.commandStr),U.commandParameter(xr.alpha,In,rn+".alpha",tr.commandStr),[In[xr.rgb],In[xr.alpha]];U.commandRaise("invalid blend.equation",tr.commandStr)},function(xr,jr,Mr){var An=xr.constants.blendEquations,Ln=jr.def(),Aa=jr.def(),fi=xr.cond("typeof ",Mr,'==="string"');return U.optional(function(){function ui(Ti,ii,no){xr.assert(Ti,no+" in "+An,"invalid "+ii+", must be one of "+Object.keys(In))}ui(fi.then,rn,Mr),xr.assert(fi.else,Mr+"&&typeof "+Mr+'==="object"',"invalid "+rn),ui(fi.else,rn+".rgb",Mr+".rgb"),ui(fi.else,rn+".alpha",Mr+".alpha")}),fi.then(Ln,"=",Aa,"=",An,"[",Mr,"];"),fi.else(Ln,"=",An,"[",Mr,".rgb];",Aa,"=",An,"[",Mr,".alpha];"),jr(fi),[Ln,Aa]});case xl:return sn(function(xr){return U.command(zl(xr)&&xr.length===4,"blend.color must be a 4d array",tr.commandStr),Ee(4,function(jr){return+xr[jr]})},function(xr,jr,Mr){return U.optional(function(){xr.assert(jr,xr.shared.isArrayLike+"("+Mr+")&&"+Mr+".length===4","blend.color must be a 4d array")}),Ee(4,function(An){return jr.def("+",Mr,"[",An,"]")})});case ro:return sn(function(xr){return U.commandType(xr,"number",Jr,tr.commandStr),xr|0},function(xr,jr,Mr){return U.optional(function(){xr.assert(jr,"typeof "+Mr+'==="number"',"invalid stencil.mask")}),jr.def(Mr,"|0")});case Ao:return sn(function(xr){U.commandType(xr,"object",Jr,tr.commandStr);var jr=xr.cmp||"keep",Mr=xr.ref||0,An="mask"in xr?xr.mask:-1;return U.commandParameter(jr,wp,rn+".cmp",tr.commandStr),U.commandType(Mr,"number",rn+".ref",tr.commandStr),U.commandType(An,"number",rn+".mask",tr.commandStr),[wp[jr],Mr,An]},function(xr,jr,Mr){var An=xr.constants.compareFuncs;U.optional(function(){function ui(){xr.assert(jr,Array.prototype.join.call(arguments,""),"invalid stencil.func")}ui(Mr+"&&typeof ",Mr,'==="object"'),ui('!("cmp" in ',Mr,")||(",Mr,".cmp in ",An,")")});var Ln=jr.def('"cmp" in ',Mr,"?",An,"[",Mr,".cmp]",":",ih),Aa=jr.def(Mr,".ref|0"),fi=jr.def('"mask" in ',Mr,"?",Mr,".mask|0:-1");return[Ln,Aa,fi]});case uo:case So:return sn(function(xr){U.commandType(xr,"object",Jr,tr.commandStr);var jr=xr.fail||"keep",Mr=xr.zfail||"keep",An=xr.zpass||"keep";return U.commandParameter(jr,ip,rn+".fail",tr.commandStr),U.commandParameter(Mr,ip,rn+".zfail",tr.commandStr),U.commandParameter(An,ip,rn+".zpass",tr.commandStr),[rn===So?Pp:dv,ip[jr],ip[Mr],ip[An]]},function(xr,jr,Mr){var An=xr.constants.stencilOps;U.optional(function(){xr.assert(jr,Mr+"&&typeof "+Mr+'==="object"',"invalid "+rn)});function Ln(Aa){return U.optional(function(){xr.assert(jr,'!("'+Aa+'" in '+Mr+")||("+Mr+"."+Aa+" in "+An+")","invalid "+rn+"."+Aa+", must be one of "+Object.keys(ip))}),jr.def('"',Aa,'" in ',Mr,"?",An,"[",Mr,".",Aa,"]:",ih)}return[rn===So?Pp:dv,Ln("fail"),Ln("zfail"),Ln("zpass")]});case Mn:return sn(function(xr){U.commandType(xr,"object",Jr,tr.commandStr);var jr=xr.factor|0,Mr=xr.units|0;return U.commandType(jr,"number",Jr+".factor",tr.commandStr),U.commandType(Mr,"number",Jr+".units",tr.commandStr),[jr,Mr]},function(xr,jr,Mr){U.optional(function(){xr.assert(jr,Mr+"&&typeof "+Mr+'==="object"',"invalid "+rn)});var An=jr.def(Mr,".factor|0"),Ln=jr.def(Mr,".units|0");return[An,Ln]});case He:return sn(function(xr){var jr=0;return xr==="front"?jr=dv:xr==="back"&&(jr=Pp),U.command(!!jr,Jr,tr.commandStr),jr},function(xr,jr,Mr){return U.optional(function(){xr.assert(jr,Mr+'==="front"||'+Mr+'==="back"',"invalid cull.face")}),jr.def(Mr,'==="front"?',dv,":",Pp)});case cr:return sn(function(xr){return U.command(typeof xr=="number"&&xr>=jn.lineWidthDims[0]&&xr<=jn.lineWidthDims[1],"invalid line width, must be a positive number between "+jn.lineWidthDims[0]+" and "+jn.lineWidthDims[1],tr.commandStr),xr},function(xr,jr,Mr){return U.optional(function(){xr.assert(jr,"typeof "+Mr+'==="number"&&'+Mr+">="+jn.lineWidthDims[0]+"&&"+Mr+"<="+jn.lineWidthDims[1],"invalid line width")}),Mr});case Zt:return sn(function(xr){return U.commandParameter(xr,Iv,Jr,tr.commandStr),Iv[xr]},function(xr,jr,Mr){return U.optional(function(){xr.assert(jr,Mr+'==="cw"||'+Mr+'==="ccw"',"invalid frontFace, must be one of cw,ccw")}),jr.def(Mr+'==="cw"?'+om+":"+Lc)});case Ht:return sn(function(xr){return U.command(zl(xr)&&xr.length===4,"color.mask must be length 4 array",tr.commandStr),xr.map(function(jr){return!!jr})},function(xr,jr,Mr){return U.optional(function(){xr.assert(jr,xr.shared.isArrayLike+"("+Mr+")&&"+Mr+".length===4","invalid color.mask")}),Ee(4,function(An){return"!!"+Mr+"["+An+"]"})});case Ea:return sn(function(xr){U.command(typeof xr=="object"&&xr,Jr,tr.commandStr);var jr="value"in xr?xr.value:1,Mr=!!xr.invert;return U.command(typeof jr=="number"&&jr>=0&&jr<=1,"sample.coverage.value must be a number between 0 and 1",tr.commandStr),[jr,Mr]},function(xr,jr,Mr){U.optional(function(){xr.assert(jr,Mr+"&&typeof "+Mr+'==="object"',"invalid sample.coverage")});var An=jr.def('"value" in ',Mr,"?+",Mr,".value:1"),Ln=jr.def("!!",Mr,".invert");return[An,Ln]})}}),wn}function js(wr,tr){var en=wr.static,Pn=wr.dynamic,wn={};return Object.keys(en).forEach(function(rn){var Jr=en[rn],sn;if(typeof Jr=="number"||typeof Jr=="boolean")sn=dc(function(){return Jr});else if(typeof Jr=="function"){var xr=Jr._reglType;xr==="texture2d"||xr==="textureCube"?sn=dc(function(jr){return jr.link(Jr)}):xr==="framebuffer"||xr==="framebufferCube"?(U.command(Jr.color.length>0,'missing color attachment for framebuffer sent to uniform "'+rn+'"',tr.commandStr),sn=dc(function(jr){return jr.link(Jr.color[0])})):U.commandRaise('invalid data for uniform "'+rn+'"',tr.commandStr)}else zl(Jr)?sn=dc(function(jr){var Mr=jr.global.def("[",Ee(Jr.length,function(An){return U.command(typeof Jr[An]=="number"||typeof Jr[An]=="boolean","invalid uniform "+rn,jr.commandStr),Jr[An]}),"]");return Mr}):U.commandRaise('invalid or missing data for uniform "'+rn+'"',tr.commandStr);sn.value=Jr,wn[rn]=sn}),Object.keys(Pn).forEach(function(rn){var Jr=Pn[rn];wn[rn]=$l(Jr,function(sn,xr){return sn.invoke(xr,Jr)})}),wn}function Lu(wr,tr){var en=wr.static,Pn=wr.dynamic,wn={};return Object.keys(en).forEach(function(rn){var Jr=en[rn],sn=qt.id(rn),xr=new Fn;if(op(Jr))xr.state=_i,xr.buffer=fa.getBuffer(fa.create(Jr,rh,!1,!0)),xr.type=0;else{var jr=fa.getBuffer(Jr);if(jr)xr.state=_i,xr.buffer=jr,xr.type=0;else if(U.command(typeof Jr=="object"&&Jr,"invalid data for attribute "+rn,tr.commandStr),"constant"in Jr){var Mr=Jr.constant;xr.buffer="null",xr.state=Qo,typeof Mr=="number"?xr.x=Mr:(U.command(zl(Mr)&&Mr.length>0&&Mr.length<=4,"invalid constant for attribute "+rn,tr.commandStr),Wo.forEach(function(ii,no){no<Mr.length&&(xr[ii]=Mr[no])}))}else{op(Jr.buffer)?jr=fa.getBuffer(fa.create(Jr.buffer,rh,!1,!0)):jr=fa.getBuffer(Jr.buffer),U.command(!!jr,'missing buffer for attribute "'+rn+'"',tr.commandStr);var An=Jr.offset|0;U.command(An>=0,'invalid offset for attribute "'+rn+'"',tr.commandStr);var Ln=Jr.stride|0;U.command(Ln>=0&&Ln<256,'invalid stride for attribute "'+rn+'", must be integer betweeen [0, 255]',tr.commandStr);var Aa=Jr.size|0;U.command(!("size"in Jr)||Aa>0&&Aa<=4,'invalid size for attribute "'+rn+'", must be 1,2,3,4',tr.commandStr);var fi=!!Jr.normalized,ui=0;"type"in Jr&&(U.commandParameter(Jr.type,Bu,"invalid type for attribute "+rn,tr.commandStr),ui=Bu[Jr.type]);var Ti=Jr.divisor|0;U.optional(function(){"divisor"in Jr&&(U.command(Ti===0||Wa,'cannot specify divisor for attribute "'+rn+'", instancing not supported',tr.commandStr),U.command(Ti>=0,'invalid divisor for attribute "'+rn+'"',tr.commandStr));var ii=tr.commandStr,no=["buffer","offset","divisor","normalized","type","size","stride"];Object.keys(Jr).forEach(function(Vi){U.command(no.indexOf(Vi)>=0,'unknown parameter "'+Vi+'" for attribute pointer "'+rn+'" (valid parameters are '+no+")",ii)})}),xr.buffer=jr,xr.state=_i,xr.size=Aa,xr.normalized=fi,xr.type=ui||jr.dtype,xr.offset=An,xr.stride=Ln,xr.divisor=Ti}}wn[rn]=dc(function(ii,no){var Vi=ii.attribCache;if(sn in Vi)return Vi[sn];var Xi={isStream:!1};return Object.keys(xr).forEach(function(Qi){Xi[Qi]=xr[Qi]}),xr.buffer&&(Xi.buffer=ii.link(xr.buffer),Xi.type=Xi.type||Xi.buffer+".dtype"),Vi[sn]=Xi,Xi})}),Object.keys(Pn).forEach(function(rn){var Jr=Pn[rn];function sn(xr,jr){var Mr=xr.invoke(jr,Jr),An=xr.shared,Ln=xr.constants,Aa=An.isBufferArgs,fi=An.buffer;U.optional(function(){xr.assert(jr,Mr+"&&(typeof "+Mr+'==="object"||typeof '+Mr+'==="function")&&('+Aa+"("+Mr+")||"+fi+".getBuffer("+Mr+")||"+fi+".getBuffer("+Mr+".buffer)||"+Aa+"("+Mr+'.buffer)||("constant" in '+Mr+"&&(typeof "+Mr+'.constant==="number"||'+An.isArrayLike+"("+Mr+".constant))))",'invalid dynamic attribute "'+rn+'"')});var ui={isStream:jr.def(!1)},Ti=new Fn;Ti.state=_i,Object.keys(Ti).forEach(function(Xi){ui[Xi]=jr.def(""+Ti[Xi])});var ii=ui.buffer,no=ui.type;jr("if(",Aa,"(",Mr,")){",ui.isStream,"=true;",ii,"=",fi,".createStream(",rh,",",Mr,");",no,"=",ii,".dtype;","}else{",ii,"=",fi,".getBuffer(",Mr,");","if(",ii,"){",no,"=",ii,".dtype;",'}else if("constant" in ',Mr,"){",ui.state,"=",Qo,";","if(typeof "+Mr+'.constant === "number"){',ui[Wo[0]],"=",Mr,".constant;",Wo.slice(1).map(function(Xi){return ui[Xi]}).join("="),"=0;","}else{",Wo.map(function(Xi,Qi){return ui[Xi]+"="+Mr+".constant.length>"+Qi+"?"+Mr+".constant["+Qi+"]:0;"}).join(""),"}}else{","if(",Aa,"(",Mr,".buffer)){",ii,"=",fi,".createStream(",rh,",",Mr,".buffer);","}else{",ii,"=",fi,".getBuffer(",Mr,".buffer);","}",no,'="type" in ',Mr,"?",Ln.glTypes,"[",Mr,".type]:",ii,".dtype;",ui.normalized,"=!!",Mr,".normalized;");function Vi(Xi){jr(ui[Xi],"=",Mr,".",Xi,"|0;")}return Vi("size"),Vi("offset"),Vi("stride"),Vi("divisor"),jr("}}"),jr.exit("if(",ui.isStream,"){",fi,".destroyStream(",ii,");","}"),ui}wn[rn]=$l(Jr,sn)}),wn}function Zl(wr){var tr=wr.static,en=wr.dynamic,Pn={};return Object.keys(tr).forEach(function(wn){var rn=tr[wn];Pn[wn]=dc(function(Jr,sn){return typeof rn=="number"||typeof rn=="boolean"?""+rn:Jr.link(rn)})}),Object.keys(en).forEach(function(wn){var rn=en[wn];Pn[wn]=$l(rn,function(Jr,sn){return Jr.invoke(sn,rn)})}),Pn}function xu(wr,tr,en,Pn,wn){var rn=wr.static,Jr=wr.dynamic;U.optional(function(){var Vi=[Ml,Xu,Ul,Ds,Qs,Kl,Vl,vl,Yl,hf].concat(yi);function Xi(Qi){Object.keys(Qi).forEach(function(ao){U.command(Vi.indexOf(ao)>=0,'unknown parameter "'+ao+'"',wn.commandStr)})}Xi(rn),Xi(Jr)});var sn=es(wr,tr),xr=wi(wr,wn),jr=Fo(wr,xr,wn),Mr=eu(wr,wn),An=bu(wr,wn),Ln=cs(wr,wn,sn);function Aa(Vi){var Xi=jr[Vi];Xi&&(An[Vi]=Xi)}Aa(bs),Aa(Ii(vs));var fi=Object.keys(An).length>0,ui={framebuffer:xr,draw:Mr,shader:Ln,state:An,dirty:fi,scopeVAO:null,drawVAO:null,useVAO:!1,attributes:{}};if(ui.profile=xi(wr,wn),ui.uniforms=js(en,wn),ui.drawVAO=ui.scopeVAO=Mr.vao,!ui.drawVAO&&Ln.program&&!sn&&Ur.angle_instanced_arrays&&Mr.static.elements){var Ti=!0,ii=Ln.program.attributes.map(function(Vi){var Xi=tr.static[Vi];return Ti=Ti&&!!Xi,Xi});if(Ti&&ii.length>0){var no=ja.getVAO(ja.createVAO({attributes:ii,elements:Mr.static.elements}));ui.drawVAO=new fc(null,null,null,function(Vi,Xi){return Vi.link(no)}),ui.useVAO=!0}}return sn?ui.useVAO=!0:ui.attributes=Lu(tr,wn),ui.context=Zl(Pn,wn),ui}function hu(wr,tr,en){var Pn=wr.shared,wn=Pn.context,rn=wr.scope();Object.keys(en).forEach(function(Jr){tr.save(wn,"."+Jr);var sn=en[Jr],xr=sn.append(wr,tr);Array.isArray(xr)?rn(wn,".",Jr,"=[",xr.join(),"];"):rn(wn,".",Jr,"=",xr,";")}),tr(rn)}function mf(wr,tr,en,Pn){var wn=wr.shared,rn=wn.gl,Jr=wn.framebuffer,sn;ki&&(sn=tr.def(wn.extensions,".webgl_draw_buffers"));var xr=wr.constants,jr=xr.drawBuffer,Mr=xr.backBuffer,An;en?An=en.append(wr,tr):An=tr.def(Jr,".next"),Pn||tr("if(",An,"!==",Jr,".cur){"),tr("if(",An,"){",rn,".bindFramebuffer(",pv,",",An,".framebuffer);"),ki&&tr(sn,".drawBuffersWEBGL(",jr,"[",An,".colorAttachments.length]);"),tr("}else{",rn,".bindFramebuffer(",pv,",null);"),ki&&tr(sn,".drawBuffersWEBGL(",Mr,");"),tr("}",Jr,".cur=",An,";"),Pn||tr("}")}function Xc(wr,tr,en){var Pn=wr.shared,wn=Pn.gl,rn=wr.current,Jr=wr.next,sn=Pn.current,xr=Pn.next,jr=wr.cond(sn,".dirty");yi.forEach(function(Mr){var An=Ii(Mr);if(!(An in en.state)){var Ln,Aa;if(An in Jr){Ln=Jr[An],Aa=rn[An];var fi=Ee(vo[An].length,function(Ti){return jr.def(Ln,"[",Ti,"]")});jr(wr.cond(fi.map(function(Ti,ii){return Ti+"!=="+Aa+"["+ii+"]"}).join("||")).then(wn,".",na[An],"(",fi,");",fi.map(function(Ti,ii){return Aa+"["+ii+"]="+Ti}).join(";"),";"))}else{Ln=jr.def(xr,".",An);var ui=wr.cond(Ln,"!==",sn,".",An);jr(ui),An in ta?ui(wr.cond(Ln).then(wn,".enable(",ta[An],");").else(wn,".disable(",ta[An],");"),sn,".",An,"=",Ln,";"):ui(wn,".",na[An],"(",Ln,");",sn,".",An,"=",Ln,";")}}}),Object.keys(en.state).length===0&&jr(sn,".dirty=false;"),tr(jr)}function Su(wr,tr,en,Pn){var wn=wr.shared,rn=wr.current,Jr=wn.current,sn=wn.gl;Ap(Object.keys(en)).forEach(function(xr){var jr=en[xr];if(!(Pn&&!Pn(jr))){var Mr=jr.append(wr,tr);if(ta[xr]){var An=ta[xr];Mp(jr)?Mr?tr(sn,".enable(",An,");"):tr(sn,".disable(",An,");"):tr(wr.cond(Mr).then(sn,".enable(",An,");").else(sn,".disable(",An,");")),tr(Jr,".",xr,"=",Mr,";")}else if(zl(Mr)){var Ln=rn[xr];tr(sn,".",na[xr],"(",Mr,");",Mr.map(function(Aa,fi){return Ln+"["+fi+"]="+Aa}).join(";"),";")}else tr(sn,".",na[xr],"(",Mr,");",Jr,".",xr,"=",Mr,";")}})}function ac(wr,tr){Wa&&(wr.instancing=tr.def(wr.shared.extensions,".angle_instanced_arrays"))}function Os(wr,tr,en,Pn,wn){var rn=wr.shared,Jr=wr.stats,sn=rn.current,xr=rn.timer,jr=en.profile;function Mr(){var Vi=typeof my!="undefined"&&!!my&&typeof my.showToast=="function";return Vi||typeof performance=="undefined"?"Date.now()":"performance.now()"}var An,Ln;function Aa(Vi){An=tr.def(),Vi(An,"=",Mr(),";"),typeof wn=="string"?Vi(Jr,".count+=",wn,";"):Vi(Jr,".count++;"),ai&&(Pn?(Ln=tr.def(),Vi(Ln,"=",xr,".getNumPendingQueries();")):Vi(xr,".beginQuery(",Jr,");"))}function fi(Vi){Vi(Jr,".cpuTime+=",Mr(),"-",An,";"),ai&&(Pn?Vi(xr,".pushScopeStats(",Ln,",",xr,".getNumPendingQueries(),",Jr,");"):Vi(xr,".endQuery();"))}function ui(Vi){var Xi=tr.def(sn,".profile");tr(sn,".profile=",Vi,";"),tr.exit(sn,".profile=",Xi,";")}var Ti;if(jr){if(Mp(jr)){jr.enable?(Aa(tr),fi(tr.exit),ui("true")):ui("false");return}Ti=jr.append(wr,tr),ui(Ti)}else Ti=tr.def(sn,".profile");var ii=wr.block();Aa(ii),tr("if(",Ti,"){",ii,"}");var no=wr.block();fi(no),tr.exit("if(",Ti,"){",no,"}")}function Lf(wr,tr,en,Pn,wn){var rn=wr.shared;function Jr(xr){switch(xr){case nh:case Fh:case vf:return 2;case np:case Sp:case _v:return 3;case Mv:case Rc:case uv:return 4;default:return 1}}function sn(xr,jr,Mr){var An=rn.gl,Ln=tr.def(xr,".location"),Aa=tr.def(rn.attributes,"[",Ln,"]"),fi=Mr.state,ui=Mr.buffer,Ti=[Mr.x,Mr.y,Mr.z,Mr.w],ii=["buffer","normalized","offset","stride"];function no(){tr("if(!",Aa,".buffer){",An,".enableVertexAttribArray(",Ln,");}");var Xi=Mr.type,Qi;if(Mr.size?Qi=tr.def(Mr.size,"||",jr):Qi=jr,tr("if(",Aa,".type!==",Xi,"||",Aa,".size!==",Qi,"||",ii.map(function(ts){return Aa+"."+ts+"!=="+Mr[ts]}).join("||"),"){",An,".bindBuffer(",rh,",",ui,".buffer);",An,".vertexAttribPointer(",[Ln,Qi,Xi,Mr.normalized,Mr.stride,Mr.offset],");",Aa,".type=",Xi,";",Aa,".size=",Qi,";",ii.map(function(ts){return Aa+"."+ts+"="+Mr[ts]+";"}).join(""),"}"),Wa){var ao=Mr.divisor;tr("if(",Aa,".divisor!==",ao,"){",wr.instancing,".vertexAttribDivisorANGLE(",[Ln,ao],");",Aa,".divisor=",ao,";}")}}function Vi(){tr("if(",Aa,".buffer){",An,".disableVertexAttribArray(",Ln,");",Aa,".buffer=null;","}if(",Wo.map(function(Xi,Qi){return Aa+"."+Xi+"!=="+Ti[Qi]}).join("||"),"){",An,".vertexAttrib4f(",Ln,",",Ti,");",Wo.map(function(Xi,Qi){return Aa+"."+Xi+"="+Ti[Qi]+";"}).join(""),"}")}fi===_i?no():fi===Qo?Vi():(tr("if(",fi,"===",_i,"){"),no(),tr("}else{"),Vi(),tr("}"))}Pn.forEach(function(xr){var jr=xr.name,Mr=en.attributes[jr],An;if(Mr){if(!wn(Mr))return;An=Mr.append(wr,tr)}else{if(!wn(sm))return;var Ln=wr.scopeAttrib(jr);U.optional(function(){wr.assert(tr,Ln+".state","missing attribute "+jr)}),An={},Object.keys(new Fn).forEach(function(Aa){An[Aa]=tr.def(Ln,".",Aa)})}sn(wr.link(xr),Jr(xr.info.type),An)})}function _l(wr,tr,en,Pn,wn,rn){for(var Jr=wr.shared,sn=Jr.gl,xr,jr=0;jr<Pn.length;++jr){var Mr=Pn[jr],An=Mr.name,Ln=Mr.info.type,Aa=en.uniforms[An],fi=wr.link(Mr),ui=fi+".location",Ti;if(Aa){if(!wn(Aa))continue;if(Mp(Aa)){var ii=Aa.value;if(U.command(ii!==null&&typeof ii!="undefined",'missing uniform "'+An+'"',wr.commandStr),Ln===xd||Ln===fv){U.command(typeof ii=="function"&&(Ln===xd&&(ii._reglType==="texture2d"||ii._reglType==="framebuffer")||Ln===fv&&(ii._reglType==="textureCube"||ii._reglType==="framebufferCube")),"invalid texture for uniform "+An,wr.commandStr);var no=wr.link(ii._texture||ii.color[0]._texture);tr(sn,".uniform1i(",ui,",",no+".bind());"),tr.exit(no,".unbind();")}else if(Ln===Yp||Ln===cv||Ln===$p){U.optional(function(){U.command(zl(ii),"invalid matrix for uniform "+An,wr.commandStr),U.command(Ln===Yp&&ii.length===4||Ln===cv&&ii.length===9||Ln===$p&&ii.length===16,"invalid length for matrix uniform "+An,wr.commandStr)});var Vi=wr.global.def("new Float32Array(["+Array.prototype.slice.call(ii)+"])"),Xi=2;Ln===cv?Xi=3:Ln===$p&&(Xi=4),tr(sn,".uniformMatrix",Xi,"fv(",ui,",false,",Vi,");")}else{switch(Ln){case Lh:U.commandType(ii,"number","uniform "+An,wr.commandStr),xr="1f";break;case nh:U.command(zl(ii)&&ii.length===2,"uniform "+An,wr.commandStr),xr="2f";break;case np:U.command(zl(ii)&&ii.length===3,"uniform "+An,wr.commandStr),xr="3f";break;case Mv:U.command(zl(ii)&&ii.length===4,"uniform "+An,wr.commandStr),xr="4f";break;case Op:U.commandType(ii,"boolean","uniform "+An,wr.commandStr),xr="1i";break;case Dh:U.commandType(ii,"number","uniform "+An,wr.commandStr),xr="1i";break;case vf:U.command(zl(ii)&&ii.length===2,"uniform "+An,wr.commandStr),xr="2i";break;case Fh:U.command(zl(ii)&&ii.length===2,"uniform "+An,wr.commandStr),xr="2i";break;case _v:U.command(zl(ii)&&ii.length===3,"uniform "+An,wr.commandStr),xr="3i";break;case Sp:U.command(zl(ii)&&ii.length===3,"uniform "+An,wr.commandStr),xr="3i";break;case uv:U.command(zl(ii)&&ii.length===4,"uniform "+An,wr.commandStr),xr="4i";break;case Rc:U.command(zl(ii)&&ii.length===4,"uniform "+An,wr.commandStr),xr="4i";break}tr(sn,".uniform",xr,"(",ui,",",zl(ii)?Array.prototype.slice.call(ii):ii,");")}continue}else Ti=Aa.append(wr,tr)}else{if(!wn(sm))continue;Ti=tr.def(Jr.uniforms,"[",qt.id(An),"]")}Ln===xd?(U(!Array.isArray(Ti),"must specify a scalar prop for textures"),tr("if(",Ti,"&&",Ti,'._reglType==="framebuffer"){',Ti,"=",Ti,".color[0];","}")):Ln===fv&&(U(!Array.isArray(Ti),"must specify a scalar prop for cube maps"),tr("if(",Ti,"&&",Ti,'._reglType==="framebufferCube"){',Ti,"=",Ti,".color[0];","}")),U.optional(function(){function Il(yh,Um){wr.assert(tr,yh,'bad data or missing for uniform "'+An+'".  '+Um)}function Nl(yh){U(!Array.isArray(Ti),"must not specify an array type for uniform"),Il("typeof "+Ti+'==="'+yh+'"',"invalid type, expected "+yh)}function Ed(yh,Um){Array.isArray(Ti)?U(Ti.length===yh,"must have length "+yh):Il(Jr.isArrayLike+"("+Ti+")&&"+Ti+".length==="+yh,"invalid vector, should have length "+yh,wr.commandStr)}function vv(yh){U(!Array.isArray(Ti),"must not specify a value type"),Il("typeof "+Ti+'==="function"&&'+Ti+'._reglType==="texture'+(yh===nm?"2d":"Cube")+'"',"invalid texture type",wr.commandStr)}switch(Ln){case Dh:Nl("number");break;case Fh:Ed(2,"number");break;case Sp:Ed(3,"number");break;case Rc:Ed(4,"number");break;case Lh:Nl("number");break;case nh:Ed(2,"number");break;case np:Ed(3,"number");break;case Mv:Ed(4,"number");break;case Op:Nl("boolean");break;case vf:Ed(2,"boolean");break;case _v:Ed(3,"boolean");break;case uv:Ed(4,"boolean");break;case Yp:Ed(4,"number");break;case cv:Ed(9,"number");break;case $p:Ed(16,"number");break;case xd:vv(nm);break;case fv:vv(gm);break}});var Qi=1;switch(Ln){case xd:case fv:var ao=tr.def(Ti,"._texture");tr(sn,".uniform1i(",ui,",",ao,".bind());"),tr.exit(ao,".unbind();");continue;case Dh:case Op:xr="1i";break;case Fh:case vf:xr="2i",Qi=2;break;case Sp:case _v:xr="3i",Qi=3;break;case Rc:case uv:xr="4i",Qi=4;break;case Lh:xr="1f";break;case nh:xr="2f",Qi=2;break;case np:xr="3f",Qi=3;break;case Mv:xr="4f",Qi=4;break;case Yp:xr="Matrix2fv";break;case cv:xr="Matrix3fv";break;case $p:xr="Matrix4fv";break}if(xr.charAt(0)==="M"){tr(sn,".uniform",xr,"(",ui,",");var ts=Math.pow(Ln-Yp+2,2),Fl=wr.global.def("new Float32Array(",ts,")");Array.isArray(Ti)?tr("false,(",Ee(ts,function(Il){return Fl+"["+Il+"]="+Ti[Il]}),",",Fl,")"):tr("false,(Array.isArray(",Ti,")||",Ti," instanceof Float32Array)?",Ti,":(",Ee(ts,function(Il){return Fl+"["+Il+"]="+Ti+"["+Il+"]"}),",",Fl,")"),tr(");")}else if(Qi>1){for(var ic=[],Gd=[],Dd=0;Dd<Qi;++Dd)Array.isArray(Ti)?Gd.push(Ti[Dd]):Gd.push(tr.def(Ti+"["+Dd+"]")),rn&&ic.push(tr.def());rn&&tr("if(!",wr.batchId,"||",ic.map(function(Il,Nl){return Il+"!=="+Gd[Nl]}).join("||"),"){",ic.map(function(Il,Nl){return Il+"="+Gd[Nl]+";"}).join("")),tr(sn,".uniform",xr,"(",ui,",",Gd.join(","),");"),rn&&tr("}")}else{if(U(!Array.isArray(Ti),"uniform value must not be an array"),rn){var od=tr.def();tr("if(!",wr.batchId,"||",od,"!==",Ti,"){",od,"=",Ti,";")}tr(sn,".uniform",xr,"(",ui,",",Ti,");"),rn&&tr("}")}}}function Bc(wr,tr,en,Pn){var wn=wr.shared,rn=wn.gl,Jr=wn.draw,sn=Pn.draw;function xr(){var Qi=sn.elements,ao,ts=tr;return Qi?((Qi.contextDep&&Pn.contextDynamic||Qi.propDep)&&(ts=en),ao=Qi.append(wr,ts),sn.elementsActive&&ts("if("+ao+")"+rn+".bindBuffer("+rm+","+ao+".buffer.buffer);")):(ao=ts.def(),ts(ao,"=",Jr,".",Ds,";","if(",ao,"){",rn,".bindBuffer(",rm,",",ao,".buffer.buffer);}","else if(",wn.vao,".currentVAO){",ao,"=",wr.shared.elements+".getElements("+wn.vao,".currentVAO.elements);",ua?"":"if("+ao+")"+rn+".bindBuffer("+rm+","+ao+".buffer.buffer);","}")),ao}function jr(){var Qi=sn.count,ao,ts=tr;return Qi?((Qi.contextDep&&Pn.contextDynamic||Qi.propDep)&&(ts=en),ao=Qi.append(wr,ts),U.optional(function(){Qi.MISSING&&wr.assert(tr,"false","missing vertex count"),Qi.DYNAMIC&&wr.assert(ts,ao+">=0","missing vertex count")})):(ao=ts.def(Jr,".",Vl),U.optional(function(){wr.assert(ts,ao+">=0","missing vertex count")})),ao}var Mr=xr();function An(Qi){var ao=sn[Qi];return ao?ao.contextDep&&Pn.contextDynamic||ao.propDep?ao.append(wr,en):ao.append(wr,tr):tr.def(Jr,".",Qi)}var Ln=An(Qs),Aa=An(Kl),fi=jr();if(typeof fi=="number"){if(fi===0)return}else en("if(",fi,"){"),en.exit("}");var ui,Ti;Wa&&(ui=An(vl),Ti=wr.instancing);var ii=Mr+".type",no=sn.elements&&Mp(sn.elements)&&!sn.vaoActive;function Vi(){function Qi(){en(Ti,".drawElementsInstancedANGLE(",[Ln,fi,ii,Aa+"<<(("+ii+"-"+ll+")>>1)",ui],");")}function ao(){en(Ti,".drawArraysInstancedANGLE(",[Ln,Aa,fi,ui],");")}Mr&&Mr!=="null"?no?Qi():(en("if(",Mr,"){"),Qi(),en("}else{"),ao(),en("}")):ao()}function Xi(){function Qi(){en(rn+".drawElements("+[Ln,fi,ii,Aa+"<<(("+ii+"-"+ll+")>>1)"]+");")}function ao(){en(rn+".drawArrays("+[Ln,Aa,fi]+");")}Mr&&Mr!=="null"?no?Qi():(en("if(",Mr,"){"),Qi(),en("}else{"),ao(),en("}")):ao()}Wa&&(typeof ui!="number"||ui>=0)?typeof ui=="string"?(en("if(",ui,">0){"),Vi(),en("}else if(",ui,"<0){"),Xi(),en("}")):Vi():Xi()}function Go(wr,tr,en,Pn,wn){var rn=ls(),Jr=rn.proc("body",wn);return U.optional(function(){rn.commandStr=tr.commandStr,rn.command=rn.link(tr.commandStr)}),Wa&&(rn.instancing=Jr.def(rn.shared.extensions,".angle_instanced_arrays")),wr(rn,Jr,en,Pn),rn.compile().body}function ds(wr,tr,en,Pn){ac(wr,tr),en.useVAO?en.drawVAO?tr(wr.shared.vao,".setVAO(",en.drawVAO.append(wr,tr),");"):tr(wr.shared.vao,".setVAO(",wr.shared.vao,".targetVAO);"):(tr(wr.shared.vao,".setVAO(null);"),Lf(wr,tr,en,Pn.attributes,function(){return!0})),_l(wr,tr,en,Pn.uniforms,function(){return!0},!1),Bc(wr,tr,tr,en)}function Ou(wr,tr){var en=wr.proc("draw",1);ac(wr,en),hu(wr,en,tr.context),mf(wr,en,tr.framebuffer),Xc(wr,en,tr),Su(wr,en,tr.state),Os(wr,en,tr,!1,!0);var Pn=tr.shader.progVar.append(wr,en);if(en(wr.shared.gl,".useProgram(",Pn,".program);"),tr.shader.program)ds(wr,en,tr,tr.shader.program);else{en(wr.shared.vao,".setVAO(null);");var wn=wr.global.def("{}"),rn=en.def(Pn,".id"),Jr=en.def(wn,"[",rn,"]");en(wr.cond(Jr).then(Jr,".call(this,a0);").else(Jr,"=",wn,"[",rn,"]=",wr.link(function(sn){return Go(ds,wr,tr,sn,1)}),"(",Pn,");",Jr,".call(this,a0);"))}Object.keys(tr.state).length>0&&en(wr.shared.current,".dirty=true;"),wr.shared.vao&&en(wr.shared.vao,".setVAO(null);")}function Qc(wr,tr,en,Pn){wr.batchId="a1",ac(wr,tr);function wn(){return!0}Lf(wr,tr,en,Pn.attributes,wn),_l(wr,tr,en,Pn.uniforms,wn,!1),Bc(wr,tr,tr,en)}function gf(wr,tr,en,Pn){ac(wr,tr);var wn=en.contextDep,rn=tr.def(),Jr="a0",sn="a1",xr=tr.def();wr.shared.props=xr,wr.batchId=rn;var jr=wr.scope(),Mr=wr.scope();tr(jr.entry,"for(",rn,"=0;",rn,"<",sn,";++",rn,"){",xr,"=",Jr,"[",rn,"];",Mr,"}",jr.exit);function An(ii){return ii.contextDep&&wn||ii.propDep}function Ln(ii){return!An(ii)}if(en.needsContext&&hu(wr,Mr,en.context),en.needsFramebuffer&&mf(wr,Mr,en.framebuffer),Su(wr,Mr,en.state,An),en.profile&&An(en.profile)&&Os(wr,Mr,en,!1,!0),Pn)en.useVAO?en.drawVAO?An(en.drawVAO)?Mr(wr.shared.vao,".setVAO(",en.drawVAO.append(wr,Mr),");"):jr(wr.shared.vao,".setVAO(",en.drawVAO.append(wr,jr),");"):jr(wr.shared.vao,".setVAO(",wr.shared.vao,".targetVAO);"):(jr(wr.shared.vao,".setVAO(null);"),Lf(wr,jr,en,Pn.attributes,Ln),Lf(wr,Mr,en,Pn.attributes,An)),_l(wr,jr,en,Pn.uniforms,Ln,!1),_l(wr,Mr,en,Pn.uniforms,An,!0),Bc(wr,jr,Mr,en);else{var Aa=wr.global.def("{}"),fi=en.shader.progVar.append(wr,Mr),ui=Mr.def(fi,".id"),Ti=Mr.def(Aa,"[",ui,"]");Mr(wr.shared.gl,".useProgram(",fi,".program);","if(!",Ti,"){",Ti,"=",Aa,"[",ui,"]=",wr.link(function(ii){return Go(Qc,wr,en,ii,2)}),"(",fi,");}",Ti,".call(this,a0[",rn,"],",rn,");")}}function Rr(wr,tr){var en=wr.proc("batch",2);wr.batchId="0",ac(wr,en);var Pn=!1,wn=!0;Object.keys(tr.context).forEach(function(Aa){Pn=Pn||tr.context[Aa].propDep}),Pn||(hu(wr,en,tr.context),wn=!1);var rn=tr.framebuffer,Jr=!1;rn?(rn.propDep?Pn=Jr=!0:rn.contextDep&&Pn&&(Jr=!0),Jr||mf(wr,en,rn)):mf(wr,en,null),tr.state.viewport&&tr.state.viewport.propDep&&(Pn=!0);function sn(Aa){return Aa.contextDep&&Pn||Aa.propDep}Xc(wr,en,tr),Su(wr,en,tr.state,function(Aa){return!sn(Aa)}),(!tr.profile||!sn(tr.profile))&&Os(wr,en,tr,!1,"a1"),tr.contextDep=Pn,tr.needsContext=wn,tr.needsFramebuffer=Jr;var xr=tr.shader.progVar;if(xr.contextDep&&Pn||xr.propDep)gf(wr,en,tr,null);else{var jr=xr.append(wr,en);if(en(wr.shared.gl,".useProgram(",jr,".program);"),tr.shader.program)gf(wr,en,tr,tr.shader.program);else{en(wr.shared.vao,".setVAO(null);");var Mr=wr.global.def("{}"),An=en.def(jr,".id"),Ln=en.def(Mr,"[",An,"]");en(wr.cond(Ln).then(Ln,".call(this,a0,a1);").else(Ln,"=",Mr,"[",An,"]=",wr.link(function(Aa){return Go(gf,wr,tr,Aa,2)}),"(",jr,");",Ln,".call(this,a0,a1);"))}}Object.keys(tr.state).length>0&&en(wr.shared.current,".dirty=true;"),wr.shared.vao&&en(wr.shared.vao,".setVAO(null);")}function $n(wr,tr){var en=wr.proc("scope",3);wr.batchId="a2";var Pn=wr.shared,wn=Pn.current;hu(wr,en,tr.context),tr.framebuffer&&tr.framebuffer.append(wr,en),Ap(Object.keys(tr.state)).forEach(function(Jr){var sn=tr.state[Jr],xr=sn.append(wr,en);zl(xr)?xr.forEach(function(jr,Mr){en.set(wr.next[Jr],"["+Mr+"]",jr)}):en.set(Pn.next,"."+Jr,xr)}),Os(wr,en,tr,!0,!0),[Ds,Kl,Vl,vl,Qs].forEach(function(Jr){var sn=tr.draw[Jr];!sn||en.set(Pn.draw,"."+Jr,""+sn.append(wr,en))}),Object.keys(tr.uniforms).forEach(function(Jr){var sn=tr.uniforms[Jr].append(wr,en);Array.isArray(sn)&&(sn="["+sn.join()+"]"),en.set(Pn.uniforms,"["+qt.id(Jr)+"]",sn)}),Object.keys(tr.attributes).forEach(function(Jr){var sn=tr.attributes[Jr].append(wr,en),xr=wr.scopeAttrib(Jr);Object.keys(new Fn).forEach(function(jr){en.set(xr,"."+jr,sn[jr])})}),tr.scopeVAO&&en.set(Pn.vao,".targetVAO",tr.scopeVAO.append(wr,en));function rn(Jr){var sn=tr.shader[Jr];sn&&en.set(Pn.shader,"."+Jr,sn.append(wr,en))}rn(Xu),rn(Ul),Object.keys(tr.state).length>0&&(en(wn,".dirty=true;"),en.exit(wn,".dirty=true;")),en("a1(",wr.shared.context,",a0,",wr.batchId,");")}function kn(wr){if(!(typeof wr!="object"||zl(wr))){for(var tr=Object.keys(wr),en=0;en<tr.length;++en)if(Qt.isDynamic(wr[tr[en]]))return!0;return!1}}function Ri(wr,tr,en){var Pn=tr.static[en];if(!Pn||!kn(Pn))return;var wn=wr.global,rn=Object.keys(Pn),Jr=!1,sn=!1,xr=!1,jr=wr.global.def("{}");rn.forEach(function(An){var Ln=Pn[An];if(Qt.isDynamic(Ln)){typeof Ln=="function"&&(Ln=Pn[An]=Qt.unbox(Ln));var Aa=$l(Ln,null);Jr=Jr||Aa.thisDep,xr=xr||Aa.propDep,sn=sn||Aa.contextDep}else{switch(wn(jr,".",An,"="),typeof Ln){case"number":wn(Ln);break;case"string":wn('"',Ln,'"');break;case"object":Array.isArray(Ln)&&wn("[",Ln.join(),"]");break;default:wn(wr.link(Ln));break}wn(";")}});function Mr(An,Ln){rn.forEach(function(Aa){var fi=Pn[Aa];if(!!Qt.isDynamic(fi)){var ui=An.invoke(Ln,fi);Ln(jr,".",Aa,"=",ui,";")}})}tr.dynamic[en]=new Qt.DynamicVariable(us,{thisDep:Jr,contextDep:sn,propDep:xr,ref:jr,append:Mr}),delete tr.static[en]}function As(wr,tr,en,Pn,wn){var rn=ls();rn.stats=rn.link(wn),Object.keys(tr.static).forEach(function(sn){Ri(rn,tr,sn)}),Gs.forEach(function(sn){Ri(rn,wr,sn)});var Jr=xu(wr,tr,en,Pn,rn);return Ou(rn,Jr),$n(rn,Jr),Rr(rn,Jr),T(rn.compile(),{destroy:function(){Jr.shader.program.destroy()}})}return{next:Pi,current:vo,procs:function(){var wr=ls(),tr=wr.proc("poll"),en=wr.proc("refresh"),Pn=wr.block();tr(Pn),en(Pn);var wn=wr.shared,rn=wn.gl,Jr=wn.next,sn=wn.current;Pn(sn,".dirty=false;"),mf(wr,tr),mf(wr,en,null,!0);var xr;Wa&&(xr=wr.link(Wa)),Ur.oes_vertex_array_object&&en(wr.link(Ur.oes_vertex_array_object),".bindVertexArrayOES(null);");for(var jr=0;jr<jn.maxAttributes;++jr){var Mr=en.def(wn.attributes,"[",jr,"]"),An=wr.cond(Mr,".buffer");An.then(rn,".enableVertexAttribArray(",jr,");",rn,".bindBuffer(",rh,",",Mr,".buffer.buffer);",rn,".vertexAttribPointer(",jr,",",Mr,".size,",Mr,".type,",Mr,".normalized,",Mr,".stride,",Mr,".offset);").else(rn,".disableVertexAttribArray(",jr,");",rn,".vertexAttrib4f(",jr,",",Mr,".x,",Mr,".y,",Mr,".z,",Mr,".w);",Mr,".buffer=null;"),en(An),Wa&&en(xr,".vertexAttribDivisorANGLE(",jr,",",Mr,".divisor);")}return en(wr.shared.vao,".currentVAO=null;",wr.shared.vao,".setVAO(",wr.shared.vao,".targetVAO);"),Object.keys(ta).forEach(function(Ln){var Aa=ta[Ln],fi=Pn.def(Jr,".",Ln),ui=wr.block();ui("if(",fi,"){",rn,".enable(",Aa,")}else{",rn,".disable(",Aa,")}",sn,".",Ln,"=",fi,";"),en(ui),tr("if(",fi,"!==",sn,".",Ln,"){",ui,"}")}),Object.keys(na).forEach(function(Ln){var Aa=na[Ln],fi=vo[Ln],ui,Ti,ii=wr.block();if(ii(rn,".",Aa,"("),zl(fi)){var no=fi.length;ui=wr.global.def(Jr,".",Ln),Ti=wr.global.def(sn,".",Ln),ii(Ee(no,function(Vi){return ui+"["+Vi+"]"}),");",Ee(no,function(Vi){return Ti+"["+Vi+"]="+ui+"["+Vi+"];"}).join("")),tr("if(",Ee(no,function(Vi){return ui+"["+Vi+"]!=="+Ti+"["+Vi+"]"}).join("||"),"){",ii,"}")}else ui=Pn.def(Jr,".",Ln),Ti=Pn.def(sn,".",Ln),ii(ui,");",sn,".",Ln,"=",ui,";"),tr("if(",ui,"!==",Ti,"){",ii,"}");en(ii)}),wr.compile()}(),compile:As}}function Rv(){return{vaoCount:0,bufferCount:0,elementsCount:0,framebufferCount:0,shaderCount:0,textureCount:0,cubeCount:0,renderbufferCount:0,maxTextureUnits:0}}var ag=34918,sp=34919,Lv=35007,bm=function(qt,Ur){if(!Ur.ext_disjoint_timer_query)return null;var jn=[];function fa(){return jn.pop()||Ur.ext_disjoint_timer_query.createQueryEXT()}function ea(ki){jn.push(ki)}var Nn=[];function mn(ki){var ua=fa();Ur.ext_disjoint_timer_query.beginQueryEXT(Lv,ua),Nn.push(ua),Ha(Nn.length-1,Nn.length,ki)}function Ua(){Ur.ext_disjoint_timer_query.endQueryEXT(Lv)}function ja(){this.startQueryIndex=-1,this.endQueryIndex=-1,this.sum=0,this.stats=null}var ei=[];function Va(){return ei.pop()||new ja}function si(ki){ei.push(ki)}var ai=[];function Ha(ki,ua,vo){var Pi=Va();Pi.startQueryIndex=ki,Pi.endQueryIndex=ua,Pi.sum=0,Pi.stats=vo,ai.push(Pi)}var Fn=[],In=[];function Wa(){var ki,ua,vo=Nn.length;if(vo!==0){In.length=Math.max(In.length,vo+1),Fn.length=Math.max(Fn.length,vo+1),Fn[0]=0,In[0]=0;var Pi=0;for(ki=0,ua=0;ua<Nn.length;++ua){var yi=Nn[ua];Ur.ext_disjoint_timer_query.getQueryObjectEXT(yi,sp)?(Pi+=Ur.ext_disjoint_timer_query.getQueryObjectEXT(yi,ag),ea(yi)):Nn[ki++]=yi,Fn[ua+1]=Pi,In[ua+1]=ki}for(Nn.length=ki,ki=0,ua=0;ua<ai.length;++ua){var ta=ai[ua],na=ta.startQueryIndex,Ii=ta.endQueryIndex;ta.sum+=Fn[Ii]-Fn[na];var Qa=In[na],Za=In[Ii];Za===Qa?(ta.stats.gpuTime+=ta.sum/1e6,si(ta)):(ta.startQueryIndex=Qa,ta.endQueryIndex=Za,ai[ki++]=ta)}ai.length=ki}}return{beginQuery:mn,endQuery:Ua,pushScopeStats:Ha,update:Wa,getNumPendingQueries:function(){return Nn.length},clear:function(){jn.push.apply(jn,Nn);for(var ua=0;ua<jn.length;ua++)Ur.ext_disjoint_timer_query.deleteQueryEXT(jn[ua]);Nn.length=0,jn.length=0},restore:function(){Nn.length=0,jn.length=0}}},jg=16384,xm=256,Cm=1024,ig=34962,xc="webglcontextlost",_p="webglcontextrestored",kc=1,lp=2,Pl=3;function Cl(_t,qt){for(var Ur=0;Ur<_t.length;++Ur)if(_t[Ur]===qt)return Ur;return-1}function ss(_t){var qt=ge(_t);if(!qt)return null;var Ur=qt.gl,jn=Ur.getContextAttributes(),fa=Ur.isContextLost(),ea=De(Ur,qt);if(!ea)return null;var Nn=tn(),mn=Rv(),Ua=ea.extensions,ja=bm(Ur,Ua),ei=qr(),Va=Ur.drawingBufferWidth,si=Ur.drawingBufferHeight,ai={tick:0,time:0,viewportWidth:Va,viewportHeight:si,framebufferWidth:Va,framebufferHeight:si,drawingBufferWidth:Va,drawingBufferHeight:si,pixelRatio:qt.pixelRatio},Ha={},Fn={elements:null,primitive:4,count:-1,offset:0,instances:-1},In=Wt(Ur,Ua),Wa=Qe(Ur,mn,qt,vo),ki=Bf(Ur,Ua,Wa,mn),ua=Br(Ur,Ua,In,mn,Wa,ki,Fn);function vo(Go){return ua.destroyBuffer(Go)}var Pi=Gn(Ur,Nn,mn,qt),yi=Mu(Ur,Ua,In,function(){Ii.procs.poll()},ai,mn,qt),ta=Dl(Ur,Ua,In,mn,qt),na=ir(Ur,Ua,In,yi,ta,mn),Ii=lm(Ur,Nn,Ua,In,Wa,ki,yi,na,Ha,ua,Pi,Fn,ai,ja,qt),Qa=Di(Ur,na,Ii.procs.poll,ai,jn,Ua,In),Za=Ii.next,Ei=Ur.canvas,Si=[],Ss=[],ls=[],xi=[qt.onDestroy],wi=null;function Fo(){if(Si.length===0){ja&&ja.update(),wi=null;return}wi=ar.next(Fo),ac();for(var Go=Si.length-1;Go>=0;--Go){var ds=Si[Go];ds&&ds(ai,null,0)}Ur.flush(),ja&&ja.update()}function es(){!wi&&Si.length>0&&(wi=ar.next(Fo))}function cs(){wi&&(ar.cancel(Fo),wi=null)}function eu(Go){Go.preventDefault(),fa=!0,cs(),Ss.forEach(function(ds){ds()})}function bu(Go){Ur.getError(),fa=!1,ea.restore(),Pi.restore(),Wa.restore(),yi.restore(),ta.restore(),na.restore(),ua.restore(),ja&&ja.restore(),Ii.procs.refresh(),es(),ls.forEach(function(ds){ds()})}var js=typeof my!="undefined"&&!!my&&typeof my.showToast=="function";!js&&Ei&&(Ei.addEventListener(xc,eu,!1),Ei.addEventListener(_p,bu,!1));function Lu(){Si.length=0,cs(),!js&&Ei&&(Ei.removeEventListener(xc,eu),Ei.removeEventListener(_p,bu)),Pi.clear(),na.clear(),ta.clear(),ua.clear(),yi.clear(),ki.clear(),Wa.clear(),ja&&ja.clear(),xi.forEach(function(Go){Go()})}function Zl(Go){U(!!Go,"invalid args to regl({...})"),U.type(Go,"object","invalid args to regl({...})");function ds(rn){var Jr=T({},rn);delete Jr.uniforms,delete Jr.attributes,delete Jr.context,delete Jr.vao,"stencil"in Jr&&Jr.stencil.op&&(Jr.stencil.opBack=Jr.stencil.opFront=Jr.stencil.op,delete Jr.stencil.op);function sn(xr){if(xr in Jr){var jr=Jr[xr];delete Jr[xr],Object.keys(jr).forEach(function(Mr){Jr[xr+"."+Mr]=jr[Mr]})}}return sn("blend"),sn("depth"),sn("cull"),sn("stencil"),sn("polygonOffset"),sn("scissor"),sn("sample"),"vao"in rn&&(Jr.vao=rn.vao),Jr}function Ou(rn,Jr){var sn={},xr={};return Object.keys(rn).forEach(function(jr){var Mr=rn[jr];if(Qt.isDynamic(Mr)){xr[jr]=Qt.unbox(Mr,jr);return}else if(Jr&&Array.isArray(Mr)){for(var An=0;An<Mr.length;++An)if(Qt.isDynamic(Mr[An])){xr[jr]=Qt.unbox(Mr,jr);return}}sn[jr]=Mr}),{dynamic:xr,static:sn}}var Qc=Ou(Go.context||{},!0),gf=Ou(Go.uniforms||{},!0),Rr=Ou(Go.attributes||{},!1),$n=Ou(ds(Go),!1),kn={gpuTime:0,cpuTime:0,count:0},Ri=Ii.compile($n,Rr,gf,Qc,kn),As=Ri.draw,wr=Ri.batch,tr=Ri.scope,en=[];function Pn(rn){for(;en.length<rn;)en.push(null);return en}function wn(rn,Jr){var sn;if(fa&&U.raise("context lost"),typeof rn=="function")return tr.call(this,null,rn,0);if(typeof Jr=="function")if(typeof rn=="number")for(sn=0;sn<rn;++sn)tr.call(this,null,Jr,sn);else if(Array.isArray(rn))for(sn=0;sn<rn.length;++sn)tr.call(this,rn[sn],Jr,sn);else return tr.call(this,rn,Jr,0);else if(typeof rn=="number"){if(rn>0)return wr.call(this,Pn(rn|0),rn|0)}else if(Array.isArray(rn)){if(rn.length)return wr.call(this,rn,rn.length)}else return As.call(this,rn)}return T(wn,{stats:kn,destroy:function(){Ri.destroy()}})}var xu=na.setFBO=Zl({framebuffer:Qt.define.call(null,kc,"framebuffer")});function hu(Go,ds){var Ou=0;Ii.procs.poll();var Qc=ds.color;Qc&&(Ur.clearColor(+Qc[0]||0,+Qc[1]||0,+Qc[2]||0,+Qc[3]||0),Ou|=jg),"depth"in ds&&(Ur.clearDepth(+ds.depth),Ou|=xm),"stencil"in ds&&(Ur.clearStencil(ds.stencil|0),Ou|=Cm),U(!!Ou,"called regl.clear with no buffer specified"),Ur.clear(Ou)}function mf(Go){if(U(typeof Go=="object"&&Go,"regl.clear() takes an object as input"),"framebuffer"in Go)if(Go.framebuffer&&Go.framebuffer_reglType==="framebufferCube")for(var ds=0;ds<6;++ds)xu(T({framebuffer:Go.framebuffer.faces[ds]},Go),hu);else xu(Go,hu);else hu(null,Go)}function Xc(Go){U.type(Go,"function","regl.frame() callback must be a function"),Si.push(Go);function ds(){var Ou=Cl(Si,Go);U(Ou>=0,"cannot cancel a frame twice");function Qc(){var gf=Cl(Si,Qc);Si[gf]=Si[Si.length-1],Si.length-=1,Si.length<=0&&cs()}Si[Ou]=Qc}return es(),{cancel:ds}}function Su(){var Go=Za.viewport,ds=Za.scissor_box;Go[0]=Go[1]=ds[0]=ds[1]=0,ai.viewportWidth=ai.framebufferWidth=ai.drawingBufferWidth=Go[2]=ds[2]=Ur.drawingBufferWidth,ai.viewportHeight=ai.framebufferHeight=ai.drawingBufferHeight=Go[3]=ds[3]=Ur.drawingBufferHeight}function ac(){ai.tick+=1,ai.time=Lf(),Su(),Ii.procs.poll()}function Os(){yi.refresh(),Su(),Ii.procs.refresh(),ja&&ja.update()}function Lf(){return(qr()-ei)/1e3}Os();function _l(Go,ds){U.type(ds,"function","listener callback must be a function");var Ou;switch(Go){case"frame":return Xc(ds);case"lost":Ou=Ss;break;case"restore":Ou=ls;break;case"destroy":Ou=xi;break;default:U.raise("invalid event, must be one of frame,lost,restore,destroy")}return Ou.push(ds),{cancel:function(){for(var gf=0;gf<Ou.length;++gf)if(Ou[gf]===ds){Ou[gf]=Ou[Ou.length-1],Ou.pop();return}}}}var Bc=T(Zl,{clear:mf,prop:Qt.define.bind(null,kc),context:Qt.define.bind(null,lp),this:Qt.define.bind(null,Pl),draw:Zl({}),buffer:function(ds){return Wa.create(ds,ig,!1,!1)},elements:function(ds){return ki.create(ds,!1)},texture:yi.create2D,cube:yi.createCube,renderbuffer:ta.create,framebuffer:na.create,framebufferCube:na.createCube,vao:ua.createVAO,attributes:jn,frame:Xc,on:_l,limits:In,hasExtension:function(ds){return In.extensions.indexOf(ds.toLowerCase())>=0},read:Qa,destroy:Lu,_gl:Ur,_refresh:Os,poll:function(){ac(),ja&&ja.update()},now:Lf,stats:mn});return qt.onDone(null,Bc),Bc}return ss})},Sk89:function(ze,A,r){"use strict";Object.defineProperty(A,"__esModule",{value:!0}),A.postConstruct=void 0;var M=r("MON2"),y=r("xfSm"),T=r("GXnB");function b(){return function(u,H,k){var Z=new T.Metadata(y.POST_CONSTRUCT,H);if(Reflect.hasOwnMetadata(y.POST_CONSTRUCT,u.constructor))throw new Error(M.MULTIPLE_POST_CONSTRUCT_METHODS);Reflect.defineMetadata(y.POST_CONSTRUCT,Z,u.constructor)}}A.postConstruct=b},SksO:function(ze,A){function r(M,y){return ze.exports=r=Object.setPrototypeOf||function(b,u){return b.__proto__=u,b},ze.exports.default=ze.exports,ze.exports.__esModule=!0,r(M,y)}ze.exports=r,ze.exports.default=ze.exports,ze.exports.__esModule=!0},"SmY/":function(ze,A,r){},T1AV:function(ze,A,r){var M=r("t2Dn"),y=r("5Tg0"),T=r("yP5f"),b=r("Q1l4"),u=r("+iFO"),H=r("03A+"),k=r("Z0cm"),Z=r("3L66"),oe=r("DSRE"),ne=r("lSCD"),Te=r("GoyQ"),at=r("YO3V"),ve=r("c6wG"),we=r("itsj"),I=r("jeLo");function Ce(et,Et,We,ct,ce,Vt,It){var Mt=we(et,We),Tt=we(Et,We),ye=It.get(Tt);if(ye){M(et,We,ye);return}var lt=Vt?Vt(Mt,Tt,We+"",et,Et,It):void 0,yt=lt===void 0;if(yt){var Dt=k(Tt),Jt=!Dt&&oe(Tt),At=!Dt&&!Jt&&ve(Tt);lt=Tt,Dt||Jt||At?k(Mt)?lt=Mt:Z(Mt)?lt=b(Mt):Jt?(yt=!1,lt=y(Tt,!0)):At?(yt=!1,lt=T(Tt,!0)):lt=[]:at(Tt)||H(Tt)?(lt=Mt,H(Mt)?lt=I(Mt):(!Te(Mt)||ne(Mt))&&(lt=u(Tt))):yt=!1}yt&&(It.set(Tt,lt),ce(lt,Tt,ct,Vt,It),It.delete(Tt)),M(et,We,lt)}ze.exports=Ce},TKrE:function(ze,A,r){var M=r("qRkn"),y=r("dt0z"),T=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,b="\\u0300-\\u036f",u="\\ufe20-\\ufe2f",H="\\u20d0-\\u20ff",k=b+u+H,Z="["+k+"]",oe=RegExp(Z,"g");function ne(Te){return Te=y(Te),Te&&Te.replace(T,M).replace(oe,"")}ze.exports=ne},"U+yc":function(ze,A){function r(M,y,T,b,u){var H={};return Object.keys(b).forEach(function(k){H[k]=b[k]}),H.enumerable=!!H.enumerable,H.configurable=!!H.configurable,("value"in H||H.initializer)&&(H.writable=!0),H=T.slice().reverse().reduce(function(k,Z){return Z(M,y,k)||k},H),u&&H.initializer!==void 0&&(H.value=H.initializer?H.initializer.call(u):void 0,H.initializer=void 0),H.initializer===void 0&&(Object.defineProperty(M,y,H),H=null),H}ze.exports=r,ze.exports.default=ze.exports,ze.exports.__esModule=!0},U1ZX:function(ze,A){},UB5X:function(ze,A,r){var M=r("NykK"),y=r("ExA7"),T="[object Number]";function b(u){return typeof u=="number"||y(u)&&M(u)==T}ze.exports=b},Ucsi:function(ze,A,r){"use strict";Object.defineProperty(A,"__esModule",{value:!0});var M=Symbol.for("INJECTION");function y(k,Z,oe,ne){function Te(){return ne&&!Reflect.hasMetadata(M,this,Z)&&Reflect.defineMetadata(M,oe(),this,Z),Reflect.hasMetadata(M,this,Z)?Reflect.getMetadata(M,this,Z):oe()}function at(ve){Reflect.defineMetadata(M,ve,this,Z)}Object.defineProperty(k,Z,{configurable:!0,enumerable:!0,get:Te,set:at})}function T(k,Z){return function(oe){return function(ne,Te){var at=function(){return k.get(oe)};y(ne,Te,at,Z)}}}A.makePropertyInjectDecorator=T;function b(k,Z){return function(oe,ne){return function(Te,at){var ve=function(){return k.getNamed(oe,ne)};y(Te,at,ve,Z)}}}A.makePropertyInjectNamedDecorator=b;function u(k,Z){return function(oe,ne,Te){return function(at,ve){var we=function(){return k.getTagged(oe,ne,Te)};y(at,ve,we,Z)}}}A.makePropertyInjectTaggedDecorator=u;function H(k,Z){return function(oe){return function(ne,Te){var at=function(){return k.getAll(oe)};y(ne,Te,at,Z)}}}A.makePropertyMultiInjectDecorator=H},Urep:function(ze,A,r){},V1cb:function(ze,A,r){"use strict";r.d(A,"a",function(){return M});var M;(function(y){y.Hover="hover",y.Click="click",y.Select="select",y.Active="active",y.Drag="drag"})(M||(M={}))},VIsB:function(ze,A,r){"use strict";r.d(A,"a",function(){return H});var M=r("Hel2");function y(at,ve){var we=typeof Symbol!="undefined"&&at[Symbol.iterator]||at["@@iterator"];if(!we){if(Array.isArray(at)||(we=T(at))||ve&&at&&typeof at.length=="number"){we&&(at=we);var I=0,Ce=function(){};return{s:Ce,n:function(){return I>=at.length?{done:!0}:{done:!1,value:at[I++]}},e:function(ce){throw ce},f:Ce}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var et=!0,Et=!1,We;return{s:function(){we=we.call(at)},n:function(){var ce=we.next();return et=ce.done,ce},e:function(ce){Et=!0,We=ce},f:function(){try{!et&&we.return!=null&&we.return()}finally{if(Et)throw We}}}}function T(at,ve){if(!!at){if(typeof at=="string")return b(at,ve);var we=Object.prototype.toString.call(at).slice(8,-1);if(we==="Object"&&at.constructor&&(we=at.constructor.name),we==="Map"||we==="Set")return Array.from(at);if(we==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(we))return b(at,ve)}}function b(at,ve){(ve==null||ve>at.length)&&(ve=at.length);for(var we=0,I=new Array(ve);we<ve;we++)I[we]=at[we];return I}var u=6378e3;function H(at,ve){var we=at.dataArray,I=ve.size,Ce=I===void 0?10:I,et=Ce/(2*Math.PI*u)*(256<<20)/2,Et=k(we,Ce),We=Et.gridHash,ct=Et.gridOffset,ce=Te(We,ct,ve);return{yOffset:et,xOffset:et,radius:et,type:"grid",dataArray:ce}}function k(at,ve){var we=Infinity,I=-Infinity,Ce,et=y(at),Et;try{for(et.s();!(Et=et.n()).done;){var We=Et.value;Ce=We.coordinates[1],Number.isFinite(Ce)&&(we=Ce<we?Ce:we,I=Ce>I?Ce:I)}}catch(At){et.e(At)}finally{et.f()}var ct=(we+I)/2,ce=Z(ve,ct);if(ce.xOffset<=0||ce.yOffset<=0)return{gridHash:{},gridOffset:ce};var Vt={},It=y(at),Mt;try{for(It.s();!(Mt=It.n()).done;){var Tt=Mt.value,ye=Tt.coordinates[1],lt=Tt.coordinates[0];if(Number.isFinite(ye)&&Number.isFinite(lt)){var yt=Math.floor((ye+90)/ce.yOffset),Dt=Math.floor((lt+180)/ce.xOffset),Jt="".concat(yt,"-").concat(Dt);Vt[Jt]=Vt[Jt]||{count:0,points:[]},Vt[Jt].count+=1,Vt[Jt].points.push(Tt)}}}catch(At){It.e(At)}finally{It.f()}return{gridHash:Vt,gridOffset:ce}}function Z(at,ve){var we=oe(at),I=ne(ve,at);return{yOffset:we,xOffset:I}}function oe(at){return at/u*(180/Math.PI)}function ne(at,ve){return ve/u*(180/Math.PI)/Math.cos(at*Math.PI/180)}function Te(at,ve,we){return Object.keys(at).reduce(function(I,Ce,et){var Et=Ce.split("-"),We=parseInt(Et[0],10),ct=parseInt(Et[1],10),ce={};if(we.field&&we.method){var Vt=M.c.getColumn(at[Ce].points,we.field);ce[we.method]=M.c.statMap[we.method](Vt)}return Object.assign(ce,{_id:et,coordinates:Object(M.d)([-180+ve.xOffset*(ct+.5),-90+ve.yOffset*(We+.5)]),rawData:at[Ce].points,count:at[Ce].count}),I.push(ce),I},[])}},VMEa:function(ze,A,r){"use strict";r.d(A,"a",function(){return J});var M=r("y8nQ"),y=r("Vl3Y"),T=r("q1tI"),b=r.n(T),u=r("DYRE"),H=r("zeV3"),k=r("GNNt"),Z=r("wEI+"),oe=r("UESt"),ne=r("lS/g"),Te=r("fWo+"),at=r("9mHw"),ve=r("YSkC"),we=r("TSYQ"),I=r.n(we);function Ce(){return Ce=Object.assign||function(Ie){for(var me=1;me<arguments.length;me++){var Ve=arguments[me];for(var Re in Ve)Object.prototype.hasOwnProperty.call(Ve,Re)&&(Ie[Re]=Ve[Re])}return Ie},Ce.apply(this,arguments)}function et(Ie,me){return Vt(Ie)||ce(Ie,me)||We(Ie,me)||Et()}function Et(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function We(Ie,me){if(!!Ie){if(typeof Ie=="string")return ct(Ie,me);var Ve=Object.prototype.toString.call(Ie).slice(8,-1);if(Ve==="Object"&&Ie.constructor&&(Ve=Ie.constructor.name),Ve==="Map"||Ve==="Set")return Array.from(Ie);if(Ve==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(Ve))return ct(Ie,me)}}function ct(Ie,me){(me==null||me>Ie.length)&&(me=Ie.length);for(var Ve=0,Re=new Array(me);Ve<me;Ve++)Re[Ve]=Ie[Ve];return Re}function ce(Ie,me){var Ve=Ie==null?null:typeof Symbol!="undefined"&&Ie[Symbol.iterator]||Ie["@@iterator"];if(Ve!=null){var Re=[],bt=!0,Pt=!1,ht,Ye;try{for(Ve=Ve.call(Ie);!(bt=(ht=Ve.next()).done)&&(Re.push(ht.value),!(me&&Re.length===me));bt=!0);}catch(Ke){Pt=!0,Ye=Ke}finally{try{!bt&&Ve.return!=null&&Ve.return()}finally{if(Pt)throw Ye}}return Re}}function Vt(Ie){if(Array.isArray(Ie))return Ie}function It(Ie,me){var Ve=Object.keys(Ie);if(Object.getOwnPropertySymbols){var Re=Object.getOwnPropertySymbols(Ie);me&&(Re=Re.filter(function(bt){return Object.getOwnPropertyDescriptor(Ie,bt).enumerable})),Ve.push.apply(Ve,Re)}return Ve}function Mt(Ie){for(var me=1;me<arguments.length;me++){var Ve=arguments[me]!=null?arguments[me]:{};me%2?It(Object(Ve),!0).forEach(function(Re){Tt(Ie,Re,Ve[Re])}):Object.getOwnPropertyDescriptors?Object.defineProperties(Ie,Object.getOwnPropertyDescriptors(Ve)):It(Object(Ve)).forEach(function(Re){Object.defineProperty(Ie,Re,Object.getOwnPropertyDescriptor(Ve,Re))})}return Ie}function Tt(Ie,me,Ve){return me in Ie?Object.defineProperty(Ie,me,{value:Ve,enumerable:!0,configurable:!0,writable:!0}):Ie[me]=Ve,Ie}var ye=b.a.forwardRef(function(Ie,me){var Ve=b.a.useContext(ne.a),Re=Ve.groupProps,bt=Mt(Mt({},Re),Ie),Pt=bt.children,ht=bt.collapsible,Ye=bt.defaultCollapsed,Ke=bt.style,nt=bt.labelLayout,Ot=bt.title,Xe=Ot===void 0?Ie.label:Ot,xt=bt.tooltip,Ne=bt.align,B=Ne===void 0?"start":Ne,z=bt.direction,q=bt.size,S=q===void 0?32:q,K=bt.titleStyle,fe=bt.titleRender,Fe=bt.spaceProps,pe=bt.extra,Me=Object(at.a)(function(){return Ye||!1},{value:Ie.collapsed,onChange:Ie.onCollapse}),U=et(Me,2),le=U[0],Le=U[1],ot=Object(T.useContext)(Z.b.ConfigContext),St=ot.getPrefixCls,Ge=St("pro-form-group"),Be=ht&&b.a.createElement(oe.a,{style:{marginRight:8},rotate:le?void 0:90}),Nt=b.a.createElement(ve.a,{label:Be?b.a.createElement("div",null,Be,Xe):Xe,tooltip:xt}),kt=fe?fe(Nt,Ie):Nt,ft=[],ut=b.a.Children.toArray(Pt).map(function(Ze){var Qt;return b.a.isValidElement(Ze)&&(Ze==null||(Qt=Ze.props)===null||Qt===void 0?void 0:Qt.hidden)?(ft.push(Ze),null):Ze});return b.a.createElement("div",{className:I()(Ge,Tt({},"".concat(Ge,"-twoLine"),nt==="twoLine")),style:Ke,ref:me},ft.length>0&&b.a.createElement("div",{style:{display:"none"}},ft),(Xe||xt||pe)&&b.a.createElement("div",{className:"".concat(Ge,"-title"),style:K,onClick:function(){Le(!le)}},pe?b.a.createElement("div",{style:{display:"flex",width:"100%",alignItems:"center",justifyContent:"space-between"}},kt,b.a.createElement("span",{onClick:function(Qt){return Qt.stopPropagation()}},pe)):kt),ht&&le?null:b.a.createElement(H.b,Ce({},Fe,{className:"".concat(Ge,"-container"),size:S,align:B,direction:z,style:Mt({rowGap:0},Fe==null?void 0:Fe.style)}),ut))});ye.displayName="ProForm-Group";var lt=ye,yt=r("b1eo"),Dt=r("DVw6");function Jt(){return Jt=Object.assign||function(Ie){for(var me=1;me<arguments.length;me++){var Ve=arguments[me];for(var Re in Ve)Object.prototype.hasOwnProperty.call(Ve,Re)&&(Ie[Re]=Ve[Re])}return Ie},Jt.apply(this,arguments)}function At(Ie){return b.a.createElement(yt.a,Jt({layout:"vertical",submitter:{render:function(Ve,Re){return Re.reverse()}},contentRender:function(Ve,Re){return b.a.createElement(b.a.Fragment,null,Ve,Re)}},Ie))}At.Group=lt,At.useForm=y.a.useForm,At.Item=Dt.a;var vt=At,ie=r("M+yt"),J=vt.Group,ee=A.b=vt},VOtZ:function(ze,A,r){var M=r("juv8"),y=r("MvSz");function T(b,u){return M(b,y(b),u)}ze.exports=T},VYtm:function(ze,A,r){"use strict";Object.defineProperty(A,"__esModule",{value:!0}),A.hover=void 0;var M=Object.assign||function(oe){for(var ne=1;ne<arguments.length;ne++){var Te=arguments[ne];for(var at in Te)Object.prototype.hasOwnProperty.call(Te,at)&&(oe[at]=Te[at])}return oe},y=r("q1tI"),T=b(y);function b(oe){return oe&&oe.__esModule?oe:{default:oe}}function u(oe,ne){if(!(oe instanceof ne))throw new TypeError("Cannot call a class as a function")}function H(oe,ne){if(!oe)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return ne&&(typeof ne=="object"||typeof ne=="function")?ne:oe}function k(oe,ne){if(typeof ne!="function"&&ne!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof ne);oe.prototype=Object.create(ne&&ne.prototype,{constructor:{value:oe,enumerable:!1,writable:!0,configurable:!0}}),ne&&(Object.setPrototypeOf?Object.setPrototypeOf(oe,ne):oe.__proto__=ne)}var Z=A.hover=function(ne){var Te=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"span";return function(at){k(ve,at);function ve(){var we,I,Ce,et;u(this,ve);for(var Et=arguments.length,We=Array(Et),ct=0;ct<Et;ct++)We[ct]=arguments[ct];return et=(I=(Ce=H(this,(we=ve.__proto__||Object.getPrototypeOf(ve)).call.apply(we,[this].concat(We))),Ce),Ce.state={hover:!1},Ce.handleMouseOver=function(){return Ce.setState({hover:!0})},Ce.handleMouseOut=function(){return Ce.setState({hover:!1})},Ce.render=function(){return T.default.createElement(Te,{onMouseOver:Ce.handleMouseOver,onMouseOut:Ce.handleMouseOut},T.default.createElement(ne,M({},Ce.props,Ce.state)))},I),H(Ce,et)}return ve}(T.default.Component)};A.default=Z},Vl3Y:function(ze,A,r){"use strict";var M=r("wx14"),y=r("U8pU"),T=r("ODXe"),b=r("rePB"),u=r("q1tI"),H=r("TSYQ"),k=r.n(H),Z=r("85Yc"),oe=r("H84U"),ne=r("bT9E"),Te=u.createContext({labelAlign:"right",vertical:!1,itemRef:function(){}}),at=u.createContext({updateItemErrors:function(){}}),ve=function(ue){var ge=Object(ne.a)(ue,["prefixCls"]);return u.createElement(Z.b,ge)},we=u.createContext({prefixCls:""});function I(it){return typeof it=="object"&&it!=null&&it.nodeType===1}function Ce(it,ue){return(!ue||it!=="hidden")&&it!=="visible"&&it!=="clip"}function et(it,ue){if(it.clientHeight<it.scrollHeight||it.clientWidth<it.scrollWidth){var ge=getComputedStyle(it,null);return Ce(ge.overflowY,ue)||Ce(ge.overflowX,ue)||function(De){var Ee=function(be){if(!be.ownerDocument||!be.ownerDocument.defaultView)return null;try{return be.ownerDocument.defaultView.frameElement}catch(rt){return null}}(De);return!!Ee&&(Ee.clientHeight<De.scrollHeight||Ee.clientWidth<De.scrollWidth)}(it)}return!1}function Et(it,ue,ge,De,Ee,be,rt,de){return be<it&&rt>ue||be>it&&rt<ue?0:be<=it&&de<=ge||rt>=ue&&de>=ge?be-it-De:rt>ue&&de<ge||be<it&&de>ge?rt-ue+Ee:0}var We=function(it,ue){var ge=window,De=ue.scrollMode,Ee=ue.block,be=ue.inline,rt=ue.boundary,de=ue.skipOverflowHiddenElements,Pe=typeof rt=="function"?rt:function(ko){return ko!==rt};if(!I(it))throw new TypeError("Invalid target");for(var xe=document.scrollingElement||document.documentElement,Oe=[],dt=it;I(dt)&&Pe(dt);){if((dt=dt.parentElement)===xe){Oe.push(dt);break}dt!=null&&dt===document.body&&et(dt)&&!et(document.documentElement)||dt!=null&&et(dt,de)&&Oe.push(dt)}for(var Gt=ge.visualViewport?ge.visualViewport.width:innerWidth,$t=ge.visualViewport?ge.visualViewport.height:innerHeight,nr=window.scrollX||pageXOffset,lr=window.scrollY||pageYOffset,Dr=it.getBoundingClientRect(),Pr=Dr.height,Wr=Dr.width,an=Dr.top,dn=Dr.right,Rn=Dr.bottom,zn=Dr.left,Qn=Ee==="start"||Ee==="nearest"?an:Ee==="end"?Rn:an+Pr/2,Ma=be==="center"?zn+Wr/2:be==="end"?dn:zn,Ca=[],ia=0;ia<Oe.length;ia++){var _a=Oe[ia],$a=_a.getBoundingClientRect(),ra=$a.height,ni=$a.width,Da=$a.top,Fa=$a.right,ba=$a.bottom,Oi=$a.left;if(De==="if-needed"&&an>=0&&zn>=0&&Rn<=$t&&dn<=Gt&&an>=Da&&Rn<=ba&&zn>=Oi&&dn<=Fa)return Ca;var Do=getComputedStyle(_a),Li=parseInt(Do.borderLeftWidth,10),Ui=parseInt(Do.borderTopWidth,10),Na=parseInt(Do.borderRightWidth,10),wa=parseInt(Do.borderBottomWidth,10),ga=0,pi=0,_o="offsetWidth"in _a?_a.offsetWidth-_a.clientWidth-Li-Na:0,To="offsetHeight"in _a?_a.offsetHeight-_a.clientHeight-Ui-wa:0;if(xe===_a)ga=Ee==="start"?Qn:Ee==="end"?Qn-$t:Ee==="nearest"?Et(lr,lr+$t,$t,Ui,wa,lr+Qn,lr+Qn+Pr,Pr):Qn-$t/2,pi=be==="start"?Ma:be==="center"?Ma-Gt/2:be==="end"?Ma-Gt:Et(nr,nr+Gt,Gt,Li,Na,nr+Ma,nr+Ma+Wr,Wr),ga=Math.max(0,ga+lr),pi=Math.max(0,pi+nr);else{ga=Ee==="start"?Qn-Da-Ui:Ee==="end"?Qn-ba+wa+To:Ee==="nearest"?Et(Da,ba,ra,Ui,wa+To,Qn,Qn+Pr,Pr):Qn-(Da+ra/2)+To/2,pi=be==="start"?Ma-Oi-Li:be==="center"?Ma-(Oi+ni/2)+_o/2:be==="end"?Ma-Fa+Na+_o:Et(Oi,Fa,ni,Li,Na+_o,Ma,Ma+Wr,Wr);var so=_a.scrollLeft,vi=_a.scrollTop;Qn+=vi-(ga=Math.max(0,Math.min(vi+ga,_a.scrollHeight-ra+To))),Ma+=so-(pi=Math.max(0,Math.min(so+pi,_a.scrollWidth-ni+_o)))}Ca.push({el:_a,top:ga,left:pi})}return Ca};function ct(it){return it===Object(it)&&Object.keys(it).length!==0}function ce(it,ue){ue===void 0&&(ue="auto");var ge="scrollBehavior"in document.body.style;it.forEach(function(De){var Ee=De.el,be=De.top,rt=De.left;Ee.scroll&&ge?Ee.scroll({top:be,left:rt,behavior:ue}):(Ee.scrollTop=be,Ee.scrollLeft=rt)})}function Vt(it){return it===!1?{block:"end",inline:"nearest"}:ct(it)?it:{block:"start",inline:"nearest"}}function It(it,ue){var ge=!it.ownerDocument.documentElement.contains(it);if(ct(ue)&&typeof ue.behavior=="function")return ue.behavior(ge?[]:We(it,ue));if(!ge){var De=Vt(ue);return ce(We(it,De),De.behavior)}}var Mt=It;function Tt(it){return it===void 0||it===!1?[]:Array.isArray(it)?it:[it]}function ye(it,ue){if(!!it.length){var ge=it.join("_");return ue?"".concat(ue,"_").concat(ge):ge}}function lt(it){var ue=Tt(it);return ue.join("_")}function yt(it){var ue=Object(Z.e)(),ge=Object(T.a)(ue,1),De=ge[0],Ee=u.useRef({}),be=u.useMemo(function(){return it!=null?it:Object(M.a)(Object(M.a)({},De),{__INTERNAL__:{itemRef:function(de){return function(Pe){var xe=lt(de);Pe?Ee.current[xe]=Pe:delete Ee.current[xe]}}},scrollToField:function(de){var Pe=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},xe=Tt(de),Oe=ye(xe,be.__INTERNAL__.name),dt=Oe?document.getElementById(Oe):null;dt&&Mt(dt,Object(M.a)({scrollMode:"if-needed",block:"nearest"},Pe))},getFieldInstance:function(de){var Pe=lt(de);return Ee.current[Pe]}})},[it,De]);return[be]}var Dt=r("3Nzz"),Jt=function(it,ue){var ge={};for(var De in it)Object.prototype.hasOwnProperty.call(it,De)&&ue.indexOf(De)<0&&(ge[De]=it[De]);if(it!=null&&typeof Object.getOwnPropertySymbols=="function")for(var Ee=0,De=Object.getOwnPropertySymbols(it);Ee<De.length;Ee++)ue.indexOf(De[Ee])<0&&Object.prototype.propertyIsEnumerable.call(it,De[Ee])&&(ge[De[Ee]]=it[De[Ee]]);return ge},At=function(ue,ge){var De,Ee=u.useContext(Dt.b),be=u.useContext(oe.b),rt=be.getPrefixCls,de=be.direction,Pe=be.form,xe=ue.prefixCls,Oe=ue.className,dt=Oe===void 0?"":Oe,Gt=ue.size,$t=Gt===void 0?Ee:Gt,nr=ue.form,lr=ue.colon,Dr=ue.labelAlign,Pr=ue.labelCol,Wr=ue.wrapperCol,an=ue.hideRequiredMark,dn=ue.layout,Rn=dn===void 0?"horizontal":dn,zn=ue.scrollToFirstError,Qn=ue.requiredMark,Ma=ue.onFinishFailed,Ca=ue.name,ia=Jt(ue,["prefixCls","className","size","form","colon","labelAlign","labelCol","wrapperCol","hideRequiredMark","layout","scrollToFirstError","requiredMark","onFinishFailed","name"]),_a=Object(u.useMemo)(function(){return Qn!==void 0?Qn:Pe&&Pe.requiredMark!==void 0?Pe.requiredMark:!an},[an,Qn,Pe]),$a=rt("form",xe),ra=k()($a,(De={},Object(b.a)(De,"".concat($a,"-").concat(Rn),!0),Object(b.a)(De,"".concat($a,"-hide-required-mark"),_a===!1),Object(b.a)(De,"".concat($a,"-rtl"),de==="rtl"),Object(b.a)(De,"".concat($a,"-").concat($t),$t),De),dt),ni=yt(nr),Da=Object(T.a)(ni,1),Fa=Da[0],ba=Fa.__INTERNAL__;ba.name=Ca;var Oi=Object(u.useMemo)(function(){return{name:Ca,labelAlign:Dr,labelCol:Pr,wrapperCol:Wr,vertical:Rn==="vertical",colon:lr,requiredMark:_a,itemRef:ba.itemRef}},[Ca,Dr,Pr,Wr,Rn,lr,_a]);u.useImperativeHandle(ge,function(){return Fa});var Do=function(Ui){Ma==null||Ma(Ui);var Na={block:"nearest"};zn&&Ui.errorFields.length&&(Object(y.a)(zn)==="object"&&(Na=zn),Fa.scrollToField(Ui.errorFields[0].name,Na))};return u.createElement(Dt.a,{size:$t},u.createElement(Te.Provider,{value:Oi},u.createElement(Z.d,Object(M.a)({id:Ca},ia,{name:Ca,onFinishFailed:Do,form:Fa,className:ra}))))},vt=u.forwardRef(At),ie=vt,J=r("KQm4"),ee=r("Y+p1"),Ie=r.n(ee),me=r("KW7l"),Ve=r("c+Xe"),Re=r("qrJ5"),bt=r("CWQg"),Pt=r("uaoM"),ht=r("Lyp1"),Ye=r("/kpp"),Ke=r("YMnH"),nt=r("ZvpZ"),Ot=r("3S7+"),Xe=function(it,ue){var ge={};for(var De in it)Object.prototype.hasOwnProperty.call(it,De)&&ue.indexOf(De)<0&&(ge[De]=it[De]);if(it!=null&&typeof Object.getOwnPropertySymbols=="function")for(var Ee=0,De=Object.getOwnPropertySymbols(it);Ee<De.length;Ee++)ue.indexOf(De[Ee])<0&&Object.prototype.propertyIsEnumerable.call(it,De[Ee])&&(ge[De[Ee]]=it[De[Ee]]);return ge};function xt(it){return it?Object(y.a)(it)==="object"&&!u.isValidElement(it)?it:{title:it}:null}var Ne=function(ue){var ge=ue.prefixCls,De=ue.label,Ee=ue.htmlFor,be=ue.labelCol,rt=ue.labelAlign,de=ue.colon,Pe=ue.required,xe=ue.requiredMark,Oe=ue.tooltip,dt=Object(Ke.b)("Form"),Gt=Object(T.a)(dt,1),$t=Gt[0];return De?u.createElement(Te.Consumer,{key:"label"},function(nr){var lr,Dr=nr.vertical,Pr=nr.labelAlign,Wr=nr.labelCol,an=nr.colon,dn,Rn=be||Wr||{},zn=rt||Pr,Qn="".concat(ge,"-item-label"),Ma=k()(Qn,zn==="left"&&"".concat(Qn,"-left"),Rn.className),Ca=De,ia=de===!0||an!==!1&&de!==!1,_a=ia&&!Dr;_a&&typeof De=="string"&&De.trim()!==""&&(Ca=De.replace(/[:|]\s*$/,""));var $a=xt(Oe);if($a){var ra=$a.icon,ni=ra===void 0?u.createElement(ht.a,null):ra,Da=Xe($a,["icon"]),Fa=u.createElement(Ot.a,Da,u.cloneElement(ni,{className:"".concat(ge,"-item-tooltip"),title:""}));Ca=u.createElement(u.Fragment,null,Ca,Fa)}xe==="optional"&&!Pe&&(Ca=u.createElement(u.Fragment,null,Ca,u.createElement("span",{className:"".concat(ge,"-item-optional"),title:""},($t==null?void 0:$t.optional)||((dn=nt.a.Form)===null||dn===void 0?void 0:dn.optional))));var ba=k()((lr={},Object(b.a)(lr,"".concat(ge,"-item-required"),Pe),Object(b.a)(lr,"".concat(ge,"-item-required-mark-optional"),xe==="optional"),Object(b.a)(lr,"".concat(ge,"-item-no-colon"),!ia),lr));return u.createElement(Ye.a,Object(M.a)({},Rn,{className:Ma}),u.createElement("label",{htmlFor:Ee,className:ba,title:typeof De=="string"?De:""},Ca))}):null},B=Ne,z=r("ye1Q"),q=r("jN4g"),S=r("jO45"),K=r("IMoZ"),fe=r("8XRh"),Fe=r("YrtM"),pe=r("hkKa");function Me(it,ue,ge){var De=u.useRef({errors:it,visible:!!it.length}),Ee=Object(pe.a)(),be=function(){var de=De.current.visible,Pe=!!it.length,xe=De.current.errors;De.current.errors=it,De.current.visible=Pe,de!==Pe?ue(Pe):(xe.length!==it.length||xe.some(function(Oe,dt){return Oe!==it[dt]}))&&Ee()};return u.useEffect(function(){if(!ge){var rt=setTimeout(be,10);return function(){return clearTimeout(rt)}}},[it]),ge&&be(),[De.current.visible,De.current.errors]}var U=[];function le(it){var ue=it.errors,ge=ue===void 0?U:ue,De=it.help,Ee=it.onDomErrorVisibleChange,be=Object(pe.a)(),rt=u.useContext(we),de=rt.prefixCls,Pe=rt.status,xe=u.useContext(oe.b),Oe=xe.getPrefixCls,dt=Me(ge,function(zn){zn&&Promise.resolve().then(function(){Ee==null||Ee(!0)}),be()},!!De),Gt=Object(T.a)(dt,2),$t=Gt[0],nr=Gt[1],lr=Object(Fe.a)(function(){return nr},$t,function(zn,Qn){return Qn}),Dr=u.useState(Pe),Pr=Object(T.a)(Dr,2),Wr=Pr[0],an=Pr[1];u.useEffect(function(){$t&&Pe&&an(Pe)},[$t,Pe]);var dn="".concat(de,"-item-explain"),Rn=Oe();return u.createElement(fe.b,{motionDeadline:500,visible:$t,motionName:"".concat(Rn,"-show-help"),onLeaveEnd:function(){Ee==null||Ee(!1)}},function(zn){var Qn=zn.className;return u.createElement("div",{className:k()(dn,Object(b.a)({},"".concat(dn,"-").concat(Wr),Wr),Qn),key:"help"},lr.map(function(Ma,Ca){return u.createElement("div",{key:Ca,role:"alert"},Ma)}))})}var Le={success:S.a,warning:K.a,error:q.a,validating:z.a},ot=function(ue){var ge=ue.prefixCls,De=ue.status,Ee=ue.wrapperCol,be=ue.children,rt=ue.help,de=ue.errors,Pe=ue.onDomErrorVisibleChange,xe=ue.hasFeedback,Oe=ue._internalItemRender,dt=ue.validateStatus,Gt=ue.extra,$t="".concat(ge,"-item"),nr=u.useContext(Te),lr=Ee||nr.wrapperCol||{},Dr=k()("".concat($t,"-control"),lr.className);u.useEffect(function(){return function(){Pe(!1)}},[]);var Pr=dt&&Le[dt],Wr=xe&&Pr?u.createElement("span",{className:"".concat($t,"-children-icon")},u.createElement(Pr,null)):null,an=Object(M.a)({},nr);delete an.labelCol,delete an.wrapperCol;var dn=u.createElement("div",{className:"".concat($t,"-control-input")},u.createElement("div",{className:"".concat($t,"-control-input-content")},be),Wr),Rn=u.createElement(we.Provider,{value:{prefixCls:ge,status:De}},u.createElement(le,{errors:de,help:rt,onDomErrorVisibleChange:Pe})),zn=Gt?u.createElement("div",{className:"".concat($t,"-extra")},Gt):null,Qn=Oe&&Oe.mark==="pro_table_render"&&Oe.render?Oe.render(ue,{input:dn,errorList:Rn,extra:zn}):u.createElement(u.Fragment,null,dn,Rn,zn);return u.createElement(Te.Provider,{value:an},u.createElement(Ye.a,Object(M.a)({},lr,{className:Dr}),Qn))},St=ot,Ge=r("0n0R"),Be=r("wgJM");function Nt(it){var ue=u.useState(it),ge=Object(T.a)(ue,2),De=ge[0],Ee=ge[1],be=Object(u.useRef)(null),rt=Object(u.useRef)([]),de=Object(u.useRef)(!1);u.useEffect(function(){return function(){de.current=!0,Be.a.cancel(be.current)}},[]);function Pe(xe){de.current||(be.current===null&&(rt.current=[],be.current=Object(Be.a)(function(){be.current=null,Ee(function(Oe){var dt=Oe;return rt.current.forEach(function(Gt){dt=Gt(dt)}),dt})})),rt.current.push(xe))}return[De,Pe]}function kt(){var it=u.useContext(Te),ue=it.itemRef,ge=u.useRef({});function De(Ee,be){var rt=be&&Object(y.a)(be)==="object"&&be.ref,de=Ee.join("_");return(ge.current.name!==de||ge.current.originRef!==rt)&&(ge.current.name=de,ge.current.originRef=rt,ge.current.ref=Object(Ve.a)(ue(Ee),rt)),ge.current.ref}return De}var ft=function(it,ue){var ge={};for(var De in it)Object.prototype.hasOwnProperty.call(it,De)&&ue.indexOf(De)<0&&(ge[De]=it[De]);if(it!=null&&typeof Object.getOwnPropertySymbols=="function")for(var Ee=0,De=Object.getOwnPropertySymbols(it);Ee<De.length;Ee++)ue.indexOf(De[Ee])<0&&Object.prototype.propertyIsEnumerable.call(it,De[Ee])&&(ge[De[Ee]]=it[De[Ee]]);return ge},ut="__SPLIT__",Ze=Object(bt.a)("success","warning","error","validating",""),Qt=u.memo(function(it){var ue=it.children;return ue},function(it,ue){return it.value===ue.value&&it.update===ue.update});function ar(it){return it===null&&Object(Pt.a)(!1,"Form.Item","`null` is passed as `name` property"),it!=null}function zr(it){var ue=it.name,ge=it.fieldKey,De=it.noStyle,Ee=it.dependencies,be=it.prefixCls,rt=it.style,de=it.className,Pe=it.shouldUpdate,xe=it.hasFeedback,Oe=it.help,dt=it.rules,Gt=it.validateStatus,$t=it.children,nr=it.required,lr=it.label,Dr=it.messageVariables,Pr=it.trigger,Wr=Pr===void 0?"onChange":Pr,an=it.validateTrigger,dn=it.hidden,Rn=ft(it,["name","fieldKey","noStyle","dependencies","prefixCls","style","className","shouldUpdate","hasFeedback","help","rules","validateStatus","children","required","label","messageVariables","trigger","validateTrigger","hidden"]),zn=Object(u.useRef)(!1),Qn=Object(u.useContext)(oe.b),Ma=Qn.getPrefixCls,Ca=Object(u.useContext)(Te),ia=Ca.name,_a=Ca.requiredMark,$a=Object(u.useContext)(at),ra=$a.updateItemErrors,ni=u.useState(!!Oe),Da=Object(T.a)(ni,2),Fa=Da[0],ba=Da[1],Oi=Nt({}),Do=Object(T.a)(Oi,2),Li=Do[0],Ui=Do[1],Na=Object(u.useContext)(me.b),wa=Na.validateTrigger,ga=an!==void 0?an:wa;function pi(No){zn.current||ba(No)}var _o=ar(ue),To=Object(u.useRef)([]);u.useEffect(function(){return function(){zn.current=!0,ra(To.current.join(ut),[])}},[]);var so=Ma("form",be),vi=De?ra:function(No,La,mr){Ui(function(){var Wt=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return mr&&mr!==No&&delete Wt[mr],Ie()(Wt[No],La)?Wt:Object(M.a)(Object(M.a)({},Wt),Object(b.a)({},No,La))})},ko=kt();function bo(No,La,mr,Wt){var vr,un;if(De&&!dn)return No;var va=[];Object.keys(Li).forEach(function(cl){va=[].concat(Object(J.a)(va),Object(J.a)(Li[cl]||[]))});var qa;Oe!=null?qa=Tt(Oe):(qa=mr?mr.errors:[],qa=[].concat(Object(J.a)(qa),Object(J.a)(va)));var mi="";Gt!==void 0?mi=Gt:(mr==null?void 0:mr.validating)?mi="validating":((un=mr==null?void 0:mr.errors)===null||un===void 0?void 0:un.length)||va.length?mi="error":(mr==null?void 0:mr.touched)&&(mi="success");var ys=(vr={},Object(b.a)(vr,"".concat(so,"-item"),!0),Object(b.a)(vr,"".concat(so,"-item-with-help"),Fa||!!Oe),Object(b.a)(vr,"".concat(de),!!de),Object(b.a)(vr,"".concat(so,"-item-has-feedback"),mi&&xe),Object(b.a)(vr,"".concat(so,"-item-has-success"),mi==="success"),Object(b.a)(vr,"".concat(so,"-item-has-warning"),mi==="warning"),Object(b.a)(vr,"".concat(so,"-item-has-error"),mi==="error"),Object(b.a)(vr,"".concat(so,"-item-is-validating"),mi==="validating"),Object(b.a)(vr,"".concat(so,"-item-hidden"),dn),vr);return u.createElement(Re.a,Object(M.a)({className:k()(ys),style:rt,key:"row"},Object(ne.a)(Rn,["colon","extra","getValueFromEvent","getValueProps","htmlFor","id","initialValue","isListField","labelAlign","labelCol","normalize","preserve","tooltip","validateFirst","valuePropName","wrapperCol","_internalItemRender"])),u.createElement(B,Object(M.a)({htmlFor:La,required:Wt,requiredMark:_a},it,{prefixCls:so})),u.createElement(St,Object(M.a)({},it,mr,{errors:qa,prefixCls:so,status:mi,onDomErrorVisibleChange:pi,validateStatus:mi}),u.createElement(at.Provider,{value:{updateItemErrors:vi}},No)))}var Ba=typeof $t=="function",Pa=Object(u.useRef)(0);if(Pa.current+=1,!_o&&!Ba&&!Ee)return bo($t);var lo={};return typeof lr=="string"?lo.label=lr:ue&&(lo.label=String(ue)),Dr&&(lo=Object(M.a)(Object(M.a)({},lo),Dr)),u.createElement(Z.a,Object(M.a)({},it,{messageVariables:lo,trigger:Wr,validateTrigger:ga,onReset:function(){pi(!1)}}),function(No,La,mr){var Wt=La.errors,vr=Tt(ue).length&&La?La.name:[],un=ye(vr,ia);if(De){var va=To.current.join(ut);if(To.current=Object(J.a)(vr),ge){var qa=Array.isArray(ge)?ge:[ge];To.current=[].concat(Object(J.a)(vr.slice(0,-1)),Object(J.a)(qa))}ra(To.current.join(ut),Wt,va)}var mi=nr!==void 0?nr:!!(dt&&dt.some(function(tl){if(tl&&Object(y.a)(tl)==="object"&&tl.required)return!0;if(typeof tl=="function"){var fu=tl(mr);return fu&&fu.required}return!1})),ys=Object(M.a)({},No),cl=null;if(Object(Pt.a)(!(Pe&&Ee),"Form.Item","`shouldUpdate` and `dependencies` shouldn't be used together. See https://ant.design/components/form/#dependencies."),Array.isArray($t)&&_o)Object(Pt.a)(!1,"Form.Item","`children` is array of render props cannot have `name`."),cl=$t;else if(Ba&&(!(Pe||Ee)||_o))Object(Pt.a)(!!(Pe||Ee),"Form.Item","`children` of render props only work with `shouldUpdate` or `dependencies`."),Object(Pt.a)(!_o,"Form.Item","Do not use `name` with `children` of render props since it's not a field.");else if(Ee&&!Ba&&!_o)Object(Pt.a)(!1,"Form.Item","Must set `name` or use render props when `dependencies` is set.");else if(Object(Ge.b)($t)){Object(Pt.a)($t.props.defaultValue===void 0,"Form.Item","`defaultValue` will not work on controlled Field. You should use `initialValues` of Form instead.");var gl=Object(M.a)(Object(M.a)({},$t.props),ys);gl.id||(gl.id=un),Object(Ve.c)($t)&&(gl.ref=ko(vr,$t));var Es=new Set([].concat(Object(J.a)(Tt(Wr)),Object(J.a)(Tt(ga))));Es.forEach(function(tl){gl[tl]=function(){for(var fu,vc,of,ku,Wl,ql=arguments.length,al=new Array(ql),du=0;du<ql;du++)al[du]=arguments[du];(of=ys[tl])===null||of===void 0||(fu=of).call.apply(fu,[ys].concat(al)),(Wl=(ku=$t.props)[tl])===null||Wl===void 0||(vc=Wl).call.apply(vc,[ku].concat(al))}}),cl=u.createElement(Qt,{value:ys[it.valuePropName||"value"],update:Pa.current},Object(Ge.a)($t,gl))}else Ba&&(Pe||Ee)&&!_o?cl=$t(mr):(Object(Pt.a)(!vr.length,"Form.Item","`name` is only used for validate React element. If you are using Form.Item as layout display, please remove `name` instead."),cl=$t);return bo(cl,un,La,mi)})}var qr=zr,tn=function(it,ue){var ge={};for(var De in it)Object.prototype.hasOwnProperty.call(it,De)&&ue.indexOf(De)<0&&(ge[De]=it[De]);if(it!=null&&typeof Object.getOwnPropertySymbols=="function")for(var Ee=0,De=Object.getOwnPropertySymbols(it);Ee<De.length;Ee++)ue.indexOf(De[Ee])<0&&Object.prototype.propertyIsEnumerable.call(it,De[Ee])&&(ge[De[Ee]]=it[De[Ee]]);return ge},_n=function(ue){var ge=ue.prefixCls,De=ue.children,Ee=tn(ue,["prefixCls","children"]);Object(Pt.a)(!!Ee.name,"Form.List","Miss `name` prop.");var be=u.useContext(oe.b),rt=be.getPrefixCls,de=rt("form",ge);return u.createElement(Z.c,Ee,function(Pe,xe,Oe){return u.createElement(we.Provider,{value:{prefixCls:de,status:"error"}},De(Pe.map(function(dt){return Object(M.a)(Object(M.a)({},dt),{fieldKey:dt.key})}),xe,{errors:Oe.errors}))})},Bn=_n,ya=ie;ya.Item=qr,ya.List=Bn,ya.ErrorList=le,ya.useForm=yt,ya.Provider=ve,ya.create=function(){Object(Pt.a)(!1,"Form","antd v4 removed `Form.create`. Please remove or use `@ant-design/compatible` instead.")};var Tr=A.a=ya},VmRL:function(ze,A,r){"use strict";ze.exports=M,ze.exports.default=M;function M(ie,J,ee){ee=ee||2;var Ie=J&&J.length,me=Ie?J[0]*ee:ie.length,Ve=y(ie,0,me,ee,!0),Re=[];if(!Ve||Ve.next===Ve.prev)return Re;var bt,Pt,ht,Ye,Ke,nt,Ot;if(Ie&&(Ve=oe(ie,J,Ve,ee)),ie.length>80*ee){bt=ht=ie[0],Pt=Ye=ie[1];for(var Xe=ee;Xe<me;Xe+=ee)Ke=ie[Xe],nt=ie[Xe+1],Ke<bt&&(bt=Ke),nt<Pt&&(Pt=nt),Ke>ht&&(ht=Ke),nt>Ye&&(Ye=nt);Ot=Math.max(ht-bt,Ye-Pt),Ot=Ot!==0?1/Ot:0}return b(Ve,Re,ee,bt,Pt,Ot),Re}function y(ie,J,ee,Ie,me){var Ve,Re;if(me===vt(ie,J,ee,Ie)>0)for(Ve=J;Ve<ee;Ve+=Ie)Re=Dt(Ve,ie[Ve],ie[Ve+1],Re);else for(Ve=ee-Ie;Ve>=J;Ve-=Ie)Re=Dt(Ve,ie[Ve],ie[Ve+1],Re);return Re&&ce(Re,Re.next)&&(Jt(Re),Re=Re.next),Re}function T(ie,J){if(!ie)return ie;J||(J=ie);var ee=ie,Ie;do if(Ie=!1,!ee.steiner&&(ce(ee,ee.next)||ct(ee.prev,ee,ee.next)===0)){if(Jt(ee),ee=J=ee.prev,ee===ee.next)break;Ie=!0}else ee=ee.next;while(Ie||ee!==J);return J}function b(ie,J,ee,Ie,me,Ve,Re){if(!!ie){!Re&&Ve&&we(ie,Ie,me,Ve);for(var bt=ie,Pt,ht;ie.prev!==ie.next;){if(Pt=ie.prev,ht=ie.next,Ve?H(ie,Ie,me,Ve):u(ie)){J.push(Pt.i/ee),J.push(ie.i/ee),J.push(ht.i/ee),Jt(ie),ie=ht.next,bt=ht.next;continue}if(ie=ht,ie===bt){Re?Re===1?(ie=k(T(ie),J,ee),b(ie,J,ee,Ie,me,Ve,2)):Re===2&&Z(ie,J,ee,Ie,me,Ve):b(T(ie),J,ee,Ie,me,Ve,1);break}}}}function u(ie){var J=ie.prev,ee=ie,Ie=ie.next;if(ct(J,ee,Ie)>=0)return!1;for(var me=ie.next.next;me!==ie.prev;){if(Et(J.x,J.y,ee.x,ee.y,Ie.x,Ie.y,me.x,me.y)&&ct(me.prev,me,me.next)>=0)return!1;me=me.next}return!0}function H(ie,J,ee,Ie){var me=ie.prev,Ve=ie,Re=ie.next;if(ct(me,Ve,Re)>=0)return!1;for(var bt=me.x<Ve.x?me.x<Re.x?me.x:Re.x:Ve.x<Re.x?Ve.x:Re.x,Pt=me.y<Ve.y?me.y<Re.y?me.y:Re.y:Ve.y<Re.y?Ve.y:Re.y,ht=me.x>Ve.x?me.x>Re.x?me.x:Re.x:Ve.x>Re.x?Ve.x:Re.x,Ye=me.y>Ve.y?me.y>Re.y?me.y:Re.y:Ve.y>Re.y?Ve.y:Re.y,Ke=Ce(bt,Pt,J,ee,Ie),nt=Ce(ht,Ye,J,ee,Ie),Ot=ie.prevZ,Xe=ie.nextZ;Ot&&Ot.z>=Ke&&Xe&&Xe.z<=nt;){if(Ot!==ie.prev&&Ot!==ie.next&&Et(me.x,me.y,Ve.x,Ve.y,Re.x,Re.y,Ot.x,Ot.y)&&ct(Ot.prev,Ot,Ot.next)>=0||(Ot=Ot.prevZ,Xe!==ie.prev&&Xe!==ie.next&&Et(me.x,me.y,Ve.x,Ve.y,Re.x,Re.y,Xe.x,Xe.y)&&ct(Xe.prev,Xe,Xe.next)>=0))return!1;Xe=Xe.nextZ}for(;Ot&&Ot.z>=Ke;){if(Ot!==ie.prev&&Ot!==ie.next&&Et(me.x,me.y,Ve.x,Ve.y,Re.x,Re.y,Ot.x,Ot.y)&&ct(Ot.prev,Ot,Ot.next)>=0)return!1;Ot=Ot.prevZ}for(;Xe&&Xe.z<=nt;){if(Xe!==ie.prev&&Xe!==ie.next&&Et(me.x,me.y,Ve.x,Ve.y,Re.x,Re.y,Xe.x,Xe.y)&&ct(Xe.prev,Xe,Xe.next)>=0)return!1;Xe=Xe.nextZ}return!0}function k(ie,J,ee){var Ie=ie;do{var me=Ie.prev,Ve=Ie.next.next;!ce(me,Ve)&&Vt(me,Ie,Ie.next,Ve)&&ye(me,Ve)&&ye(Ve,me)&&(J.push(me.i/ee),J.push(Ie.i/ee),J.push(Ve.i/ee),Jt(Ie),Jt(Ie.next),Ie=ie=Ve),Ie=Ie.next}while(Ie!==ie);return T(Ie)}function Z(ie,J,ee,Ie,me,Ve){var Re=ie;do{for(var bt=Re.next.next;bt!==Re.prev;){if(Re.i!==bt.i&&We(Re,bt)){var Pt=yt(Re,bt);Re=T(Re,Re.next),Pt=T(Pt,Pt.next),b(Re,J,ee,Ie,me,Ve),b(Pt,J,ee,Ie,me,Ve);return}bt=bt.next}Re=Re.next}while(Re!==ie)}function oe(ie,J,ee,Ie){var me=[],Ve,Re,bt,Pt,ht;for(Ve=0,Re=J.length;Ve<Re;Ve++)bt=J[Ve]*Ie,Pt=Ve<Re-1?J[Ve+1]*Ie:ie.length,ht=y(ie,bt,Pt,Ie,!1),ht===ht.next&&(ht.steiner=!0),me.push(et(ht));for(me.sort(ne),Ve=0;Ve<me.length;Ve++)ee=Te(me[Ve],ee),ee=T(ee,ee.next);return ee}function ne(ie,J){return ie.x-J.x}function Te(ie,J){var ee=at(ie,J);if(!ee)return J;var Ie=yt(ee,ie),me=T(ee,ee.next);return T(Ie,Ie.next),J===ee?me:J}function at(ie,J){var ee=J,Ie=ie.x,me=ie.y,Ve=-Infinity,Re;do{if(me<=ee.y&&me>=ee.next.y&&ee.next.y!==ee.y){var bt=ee.x+(me-ee.y)*(ee.next.x-ee.x)/(ee.next.y-ee.y);if(bt<=Ie&&bt>Ve){if(Ve=bt,bt===Ie){if(me===ee.y)return ee;if(me===ee.next.y)return ee.next}Re=ee.x<ee.next.x?ee:ee.next}}ee=ee.next}while(ee!==J);if(!Re)return null;if(Ie===Ve)return Re;var Pt=Re,ht=Re.x,Ye=Re.y,Ke=Infinity,nt;ee=Re;do Ie>=ee.x&&ee.x>=ht&&Ie!==ee.x&&Et(me<Ye?Ie:Ve,me,ht,Ye,me<Ye?Ve:Ie,me,ee.x,ee.y)&&(nt=Math.abs(me-ee.y)/(Ie-ee.x),ye(ee,ie)&&(nt<Ke||nt===Ke&&(ee.x>Re.x||ee.x===Re.x&&ve(Re,ee)))&&(Re=ee,Ke=nt)),ee=ee.next;while(ee!==Pt);return Re}function ve(ie,J){return ct(ie.prev,ie,J.prev)<0&&ct(J.next,ie,ie.next)<0}function we(ie,J,ee,Ie){var me=ie;do me.z===null&&(me.z=Ce(me.x,me.y,J,ee,Ie)),me.prevZ=me.prev,me.nextZ=me.next,me=me.next;while(me!==ie);me.prevZ.nextZ=null,me.prevZ=null,I(me)}function I(ie){var J,ee,Ie,me,Ve,Re,bt,Pt,ht=1;do{for(ee=ie,ie=null,Ve=null,Re=0;ee;){for(Re++,Ie=ee,bt=0,J=0;J<ht&&(bt++,Ie=Ie.nextZ,!!Ie);J++);for(Pt=ht;bt>0||Pt>0&&Ie;)bt!==0&&(Pt===0||!Ie||ee.z<=Ie.z)?(me=ee,ee=ee.nextZ,bt--):(me=Ie,Ie=Ie.nextZ,Pt--),Ve?Ve.nextZ=me:ie=me,me.prevZ=Ve,Ve=me;ee=Ie}Ve.nextZ=null,ht*=2}while(Re>1);return ie}function Ce(ie,J,ee,Ie,me){return ie=32767*(ie-ee)*me,J=32767*(J-Ie)*me,ie=(ie|ie<<8)&16711935,ie=(ie|ie<<4)&252645135,ie=(ie|ie<<2)&858993459,ie=(ie|ie<<1)&1431655765,J=(J|J<<8)&16711935,J=(J|J<<4)&252645135,J=(J|J<<2)&858993459,J=(J|J<<1)&1431655765,ie|J<<1}function et(ie){var J=ie,ee=ie;do(J.x<ee.x||J.x===ee.x&&J.y<ee.y)&&(ee=J),J=J.next;while(J!==ie);return ee}function Et(ie,J,ee,Ie,me,Ve,Re,bt){return(me-Re)*(J-bt)-(ie-Re)*(Ve-bt)>=0&&(ie-Re)*(Ie-bt)-(ee-Re)*(J-bt)>=0&&(ee-Re)*(Ve-bt)-(me-Re)*(Ie-bt)>=0}function We(ie,J){return ie.next.i!==J.i&&ie.prev.i!==J.i&&!Tt(ie,J)&&(ye(ie,J)&&ye(J,ie)&&lt(ie,J)&&(ct(ie.prev,ie,J.prev)||ct(ie,J.prev,J))||ce(ie,J)&&ct(ie.prev,ie,ie.next)>0&&ct(J.prev,J,J.next)>0)}function ct(ie,J,ee){return(J.y-ie.y)*(ee.x-J.x)-(J.x-ie.x)*(ee.y-J.y)}function ce(ie,J){return ie.x===J.x&&ie.y===J.y}function Vt(ie,J,ee,Ie){var me=Mt(ct(ie,J,ee)),Ve=Mt(ct(ie,J,Ie)),Re=Mt(ct(ee,Ie,ie)),bt=Mt(ct(ee,Ie,J));return!!(me!==Ve&&Re!==bt||me===0&&It(ie,ee,J)||Ve===0&&It(ie,Ie,J)||Re===0&&It(ee,ie,Ie)||bt===0&&It(ee,J,Ie))}function It(ie,J,ee){return J.x<=Math.max(ie.x,ee.x)&&J.x>=Math.min(ie.x,ee.x)&&J.y<=Math.max(ie.y,ee.y)&&J.y>=Math.min(ie.y,ee.y)}function Mt(ie){return ie>0?1:ie<0?-1:0}function Tt(ie,J){var ee=ie;do{if(ee.i!==ie.i&&ee.next.i!==ie.i&&ee.i!==J.i&&ee.next.i!==J.i&&Vt(ee,ee.next,ie,J))return!0;ee=ee.next}while(ee!==ie);return!1}function ye(ie,J){return ct(ie.prev,ie,ie.next)<0?ct(ie,J,ie.next)>=0&&ct(ie,ie.prev,J)>=0:ct(ie,J,ie.prev)<0||ct(ie,ie.next,J)<0}function lt(ie,J){var ee=ie,Ie=!1,me=(ie.x+J.x)/2,Ve=(ie.y+J.y)/2;do ee.y>Ve!=ee.next.y>Ve&&ee.next.y!==ee.y&&me<(ee.next.x-ee.x)*(Ve-ee.y)/(ee.next.y-ee.y)+ee.x&&(Ie=!Ie),ee=ee.next;while(ee!==ie);return Ie}function yt(ie,J){var ee=new At(ie.i,ie.x,ie.y),Ie=new At(J.i,J.x,J.y),me=ie.next,Ve=J.prev;return ie.next=J,J.prev=ie,ee.next=me,me.prev=ee,Ie.next=ee,ee.prev=Ie,Ve.next=Ie,Ie.prev=Ve,Ie}function Dt(ie,J,ee,Ie){var me=new At(ie,J,ee);return Ie?(me.next=Ie.next,me.prev=Ie,Ie.next.prev=me,Ie.next=me):(me.prev=me,me.next=me),me}function Jt(ie){ie.next.prev=ie.prev,ie.prev.next=ie.next,ie.prevZ&&(ie.prevZ.nextZ=ie.nextZ),ie.nextZ&&(ie.nextZ.prevZ=ie.prevZ)}function At(ie,J,ee){this.i=ie,this.x=J,this.y=ee,this.prev=null,this.next=null,this.z=null,this.prevZ=null,this.nextZ=null,this.steiner=!1}M.deviation=function(ie,J,ee,Ie){var me=J&&J.length,Ve=me?J[0]*ee:ie.length,Re=Math.abs(vt(ie,0,Ve,ee));if(me)for(var bt=0,Pt=J.length;bt<Pt;bt++){var ht=J[bt]*ee,Ye=bt<Pt-1?J[bt+1]*ee:ie.length;Re-=Math.abs(vt(ie,ht,Ye,ee))}var Ke=0;for(bt=0;bt<Ie.length;bt+=3){var nt=Ie[bt]*ee,Ot=Ie[bt+1]*ee,Xe=Ie[bt+2]*ee;Ke+=Math.abs((ie[nt]-ie[Xe])*(ie[Ot+1]-ie[nt+1])-(ie[nt]-ie[Ot])*(ie[Xe+1]-ie[nt+1]))}return Re===0&&Ke===0?0:Math.abs((Ke-Re)/Re)};function vt(ie,J,ee,Ie){for(var me=0,Ve=J,Re=ee-Ie;Ve<ee;Ve+=Ie)me+=(ie[Re]-ie[Ve])*(ie[Ve+1]+ie[Re+1]),Re=Ve;return me}M.flatten=function(ie){for(var J=ie[0][0].length,ee={vertices:[],holes:[],dimensions:J},Ie=0,me=0;me<ie.length;me++){for(var Ve=0;Ve<ie[me].length;Ve++)for(var Re=0;Re<J;Re++)ee.vertices.push(ie[me][Ve][Re]);me>0&&(Ie+=ie[me-1].length,ee.holes.push(Ie))}return ee}},W38Z:function(ze,A,r){},W3HW:function(ze,A,r){"use strict";Object.defineProperty(A,"__esModule",{value:!0}),A.flattenNames=void 0;var M=r("4qC0"),y=oe(M),T=r("Ag8Z"),b=oe(T),u=r("YO3V"),H=oe(u),k=r("3WF5"),Z=oe(k);function oe(Te){return Te&&Te.__esModule?Te:{default:Te}}var ne=A.flattenNames=function Te(){var at=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],ve=[];return(0,Z.default)(at,function(we){Array.isArray(we)?Te(we).map(function(I){return ve.push(I)}):(0,H.default)(we)?(0,b.default)(we,function(I,Ce){I===!0&&ve.push(Ce),ve.push(Ce+"-"+I)}):(0,y.default)(we)&&ve.push(we)}),ve};A.default=ne},W8MJ:function(ze,A){function r(y,T){for(var b=0;b<T.length;b++){var u=T[b];u.enumerable=u.enumerable||!1,u.configurable=!0,"value"in u&&(u.writable=!0),Object.defineProperty(y,u.key,u)}}function M(y,T,b){return T&&r(y.prototype,T),b&&r(y,b),y}ze.exports=M,ze.exports.default=ze.exports,ze.exports.__esModule=!0},WFLz:function(ze,A,r){"use strict";var M=r("q1tI"),y=r.n(M),T=["colon","dependencies","extra","getValueFromEvent","getValueProps","hasFeedback","help","htmlFor","initialValue","noStyle","label","labelAlign","labelCol","name","preserve","normalize","required","rules","shouldUpdate","trigger","validateFirst","validateStatus","validateTrigger","valuePropName","wrapperCol","hidden","addonBefore","addonAfter"];function b(It){var Mt={};return T.forEach(function(Tt){It[Tt]!==void 0&&(Mt[Tt]=It[Tt])}),Mt}var u=r("PjWh"),H=r("TSYQ"),k=r.n(H),Z=r("Kwbf"),oe=r("lS/g"),ne=r("DVw6"),Te=["valueType","customLightMode","lightFilterLabelFormatter","valuePropName","ignoreWidth","defaultProps"],at=["label","tooltip","placeholder","width","proFieldProps","bordered","messageVariables","ignoreFormItem","transform","readonly","allowClear","colSize","formItemProps","filedConfig"];function ve(){return ve=Object.assign||function(It){for(var Mt=1;Mt<arguments.length;Mt++){var Tt=arguments[Mt];for(var ye in Tt)Object.prototype.hasOwnProperty.call(Tt,ye)&&(It[ye]=Tt[ye])}return It},ve.apply(this,arguments)}function we(It,Mt){var Tt=Object.keys(It);if(Object.getOwnPropertySymbols){var ye=Object.getOwnPropertySymbols(It);Mt&&(ye=ye.filter(function(lt){return Object.getOwnPropertyDescriptor(It,lt).enumerable})),Tt.push.apply(Tt,ye)}return Tt}function I(It){for(var Mt=1;Mt<arguments.length;Mt++){var Tt=arguments[Mt]!=null?arguments[Mt]:{};Mt%2?we(Object(Tt),!0).forEach(function(ye){Ce(It,ye,Tt[ye])}):Object.getOwnPropertyDescriptors?Object.defineProperties(It,Object.getOwnPropertyDescriptors(Tt)):we(Object(Tt)).forEach(function(ye){Object.defineProperty(It,ye,Object.getOwnPropertyDescriptor(Tt,ye))})}return It}function Ce(It,Mt,Tt){return Mt in It?Object.defineProperty(It,Mt,{value:Tt,enumerable:!0,configurable:!0,writable:!0}):It[Mt]=Tt,It}function et(It,Mt){if(It==null)return{};var Tt=Et(It,Mt),ye,lt;if(Object.getOwnPropertySymbols){var yt=Object.getOwnPropertySymbols(It);for(lt=0;lt<yt.length;lt++)ye=yt[lt],!(Mt.indexOf(ye)>=0)&&(!Object.prototype.propertyIsEnumerable.call(It,ye)||(Tt[ye]=It[ye]))}return Tt}function Et(It,Mt){if(It==null)return{};var Tt={},ye=Object.keys(It),lt,yt;for(yt=0;yt<ye.length;yt++)lt=ye[yt],!(Mt.indexOf(lt)>=0)&&(Tt[lt]=It[lt]);return Tt}var We=Symbol("ProFormComponent"),ct={xs:104,s:216,sm:216,m:328,md:328,l:440,lg:440,xl:552};function ce(It,Mt){It.displayName="ProFormComponent";var Tt=function(lt){var yt,Dt,Jt,At,vt,ie,J=I(I({},lt==null?void 0:lt.filedConfig),Mt)||{},ee=J.valueType,Ie=J.customLightMode,me=J.lightFilterLabelFormatter,Ve=J.valuePropName,Re=Ve===void 0?"value":Ve,bt=J.ignoreWidth,Pt=J.defaultProps,ht=et(J,Te),Ye=I(I({},Pt),lt),Ke=Ye.label,nt=Ye.tooltip,Ot=Ye.placeholder,Xe=Ye.width,xt=Ye.proFieldProps,Ne=Ye.bordered,B=Ye.messageVariables,z=Ye.ignoreFormItem,q=Ye.transform,S=Ye.readonly,K=Ye.allowClear,fe=Ye.colSize,Fe=Ye.formItemProps,pe=Ye.filedConfig,Me=et(Ye,at),U=y.a.useContext(oe.a),le=U.fieldProps,Le=U.formItemProps,ot=b(Me),St={value:Me.value},Ge=I(I(I(I({},z?St:{}),{},{disabled:lt.disabled,placeholder:Ot},le||{}),Me.fieldProps||{}),{},{style:I(I({},(yt=Me.fieldProps)===null||yt===void 0?void 0:yt.style),le==null?void 0:le.style)}),Be=I(I(I(I({messageVariables:B},ht),Le),ot),Fe);Object(Z.b)(!Me.defaultValue,"\u8BF7\u4E0D\u8981\u5728 Form \u4E2D\u4F7F\u7528 defaultXXX\u3002\u5982\u679C\u9700\u8981\u9ED8\u8BA4\u503C\u8BF7\u4F7F\u7528 initialValues \u548C initialValue\u3002");var Nt=["switch","radioButton","radio","rate"],kt=I({},Ge==null?void 0:Ge.style);kt.width!==void 0&&Me.valueType==="switch"&&delete kt.width;var ft=y.a.createElement(It,ve({},Me,{fieldProps:Object(u.a)(I(I({allowClear:K},Ge),{},{style:Object(u.a)(I({width:Xe&&!ct[Xe]?Xe:void 0},kt)),className:k()(Ge==null?void 0:Ge.className,Ce({"pro-field":Xe&&ct[Xe]},"pro-field-".concat(Xe),Xe&&!Nt.includes(lt==null?void 0:lt.valueType)&&!bt&&ct[Xe]))||void 0})),proFieldProps:Object(u.a)(I({mode:S?"read":Me==null?void 0:Me.mode,params:Me.params,proFieldKey:(Be==null?void 0:Be.name)&&"form-field-".concat(Be.name)},xt))}));return y.a.createElement(ne.a,ve({label:Ke&&(xt==null?void 0:xt.light)!==!0?Ke:void 0,tooltip:(xt==null?void 0:xt.light)!==!0&&nt,valuePropName:Re,key:(Dt=Be.name)===null||Dt===void 0?void 0:Dt.toString()},Be,{ignoreFormItem:z,transform:q,dataFormat:(Jt=Me.fieldProps)===null||Jt===void 0?void 0:Jt.format,valueType:ee||Me.valueType,messageVariables:I({label:Ke||""},Be==null?void 0:Be.messageVariables),lightProps:Object(u.a)(I(I({},Ge),{},{valueType:ee||Me.valueType,bordered:Ne,allowClear:(At=ft==null||(vt=ft.props)===null||vt===void 0?void 0:vt.allowClear)!==null&&At!==void 0?At:K,light:xt==null?void 0:xt.light,label:Ke,customLightMode:Ie,labelFormatter:me,valuePropName:Re,footerRender:ft==null||(ie=ft.props)===null||ie===void 0?void 0:ie.footerRender},Me.lightProps))}),ft)};return Tt.displayName="ProFormComponent",Tt}var Vt=A.a=ce},WOAq:function(ze,A,r){"use strict";(function(M){var y=r("Ju5/"),T=r("L3Qv"),b=typeof exports=="object"&&exports&&!exports.nodeType&&exports,u=b&&typeof M=="object"&&M&&!M.nodeType&&M,H=u&&u.exports===b,k=H?y.a.Buffer:void 0,Z=k?k.isBuffer:void 0,oe=Z||T.a;A.a=oe}).call(this,r("Vg/k")(ze))},WuYN:function(ze,A,r){"use strict";var M=r("y8nQ"),y=r("Vl3Y"),T=r("q1tI"),b=r.n(T),u=r("ub+h"),H=r("bG1m"),k=r("x1Ii"),Z=r("wUu8"),oe=r("2oH+"),ne=r.n(oe),Te=["name","children","ignoreFormListField"];function at(){return at=Object.assign||function(We){for(var ct=1;ct<arguments.length;ct++){var ce=arguments[ct];for(var Vt in ce)Object.prototype.hasOwnProperty.call(ce,Vt)&&(We[Vt]=ce[Vt])}return We},at.apply(this,arguments)}function ve(We,ct){var ce=Object.keys(We);if(Object.getOwnPropertySymbols){var Vt=Object.getOwnPropertySymbols(We);ct&&(Vt=Vt.filter(function(It){return Object.getOwnPropertyDescriptor(We,It).enumerable})),ce.push.apply(ce,Vt)}return ce}function we(We){for(var ct=1;ct<arguments.length;ct++){var ce=arguments[ct]!=null?arguments[ct]:{};ct%2?ve(Object(ce),!0).forEach(function(Vt){I(We,Vt,ce[Vt])}):Object.getOwnPropertyDescriptors?Object.defineProperties(We,Object.getOwnPropertyDescriptors(ce)):ve(Object(ce)).forEach(function(Vt){Object.defineProperty(We,Vt,Object.getOwnPropertyDescriptor(ce,Vt))})}return We}function I(We,ct,ce){return ct in We?Object.defineProperty(We,ct,{value:ce,enumerable:!0,configurable:!0,writable:!0}):We[ct]=ce,We}function Ce(We,ct){if(We==null)return{};var ce=et(We,ct),Vt,It;if(Object.getOwnPropertySymbols){var Mt=Object.getOwnPropertySymbols(We);for(It=0;It<Mt.length;It++)Vt=Mt[It],!(ct.indexOf(Vt)>=0)&&(!Object.prototype.propertyIsEnumerable.call(We,Vt)||(ce[Vt]=We[Vt]))}return ce}function et(We,ct){if(We==null)return{};var ce={},Vt=Object.keys(We),It,Mt;for(Mt=0;Mt<Vt.length;Mt++)It=Vt[Mt],!(ct.indexOf(It)>=0)&&(ce[It]=We[It]);return ce}var Et=function(ct){var ce=ct.name,Vt=ct.children,It=ct.ignoreFormListField,Mt=Ce(ct,Te),Tt=Object(T.useContext)(Z.a),ye=Object(T.useContext)(k.a),lt=Object(T.useMemo)(function(){return ye.name===void 0?ce:ce.map(function(yt){return[ye.listName,yt].flat(1)})},[ye.listName,ye.name,ce]);return b.a.createElement(y.a.Item,at({},Mt,{noStyle:!0,shouldUpdate:function(Dt,Jt){var At=lt;return It&&Array.isArray(ye.listName)&&ye.listName.length>0&&(At=lt.map(function(vt){return Array.isArray(vt)?vt.slice(ye.listName.length):vt})),At.some(function(vt){var ie=Array.isArray(vt)?vt:[vt];return Object(u.a)(Dt,ie)!==Object(u.a)(Jt,ie)})}}),function(yt){if(ye.name===void 0){var Dt=lt.reduce(function(vt,ie){var J,ee=Tt==null||(J=Tt.getFieldsFormatValue)===null||J===void 0?void 0:J.call(Tt,[ie]),Ie=yt.getFieldsValue([ie]);return ne()({},vt,Ie,ee)},{});return Vt==null?void 0:Vt(we({},Dt),yt)}if(It){var Jt=ce.reduce(function(vt,ie){var J=[ie].flat(1),ee=yt.getFieldValue(J);return Object(H.a)(vt,[ie].flat(1),ee,!1)},{});return Vt==null?void 0:Vt(we({},Jt),yt)}var At=ce.reduce(function(vt,ie){var J=[ye.listName,ie].flat(1),ee=yt.getFieldValue(J);return Object(H.a)(vt,[ie].flat(1),ee,!1)},{});return Vt==null?void 0:Vt(we({},At),yt)})};A.a=Et},WwFo:function(ze,A,r){var M=r("juv8"),y=r("7GkX");function T(b,u){return b&&M(u,y(u),b)}ze.exports=T},XCrF:function(ze,A,r){"use strict";var M=r("cIOH"),y=r.n(M),T=r("QeVK"),b=r.n(T)},XQL4:function(ze,A,r){},XQvf:function(ze,A,r){"use strict";Object.defineProperty(A,"__esModule",{value:!0}),A.active=void 0;var M=Object.assign||function(oe){for(var ne=1;ne<arguments.length;ne++){var Te=arguments[ne];for(var at in Te)Object.prototype.hasOwnProperty.call(Te,at)&&(oe[at]=Te[at])}return oe},y=r("q1tI"),T=b(y);function b(oe){return oe&&oe.__esModule?oe:{default:oe}}function u(oe,ne){if(!(oe instanceof ne))throw new TypeError("Cannot call a class as a function")}function H(oe,ne){if(!oe)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return ne&&(typeof ne=="object"||typeof ne=="function")?ne:oe}function k(oe,ne){if(typeof ne!="function"&&ne!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof ne);oe.prototype=Object.create(ne&&ne.prototype,{constructor:{value:oe,enumerable:!1,writable:!0,configurable:!0}}),ne&&(Object.setPrototypeOf?Object.setPrototypeOf(oe,ne):oe.__proto__=ne)}var Z=A.active=function(ne){var Te=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"span";return function(at){k(ve,at);function ve(){var we,I,Ce,et;u(this,ve);for(var Et=arguments.length,We=Array(Et),ct=0;ct<Et;ct++)We[ct]=arguments[ct];return et=(I=(Ce=H(this,(we=ve.__proto__||Object.getPrototypeOf(ve)).call.apply(we,[this].concat(We))),Ce),Ce.state={active:!1},Ce.handleMouseDown=function(){return Ce.setState({active:!0})},Ce.handleMouseUp=function(){return Ce.setState({active:!1})},Ce.render=function(){return T.default.createElement(Te,{onMouseDown:Ce.handleMouseDown,onMouseUp:Ce.handleMouseUp},T.default.createElement(ne,M({},Ce.props,Ce.state)))},I),H(Ce,et)}return ve}(T.default.Component)};A.default=Z},XYm9:function(ze,A,r){var M=r("+K+b");function y(T,b){var u=b?M(T.buffer):T.buffer;return new T.constructor(u,T.byteOffset,T.byteLength)}ze.exports=y},"Xt/L":function(ze,A){function r(M,y,T){for(var b=-1,u=M==null?0:M.length;++b<u;)if(T(y,M[b]))return!0;return!1}ze.exports=r},Y79o:function(ze,A,r){},Y8BV:function(ze,A,r){"use strict";r.d(A,"a",function(){return M});function M(y,T){var b=T.callback;return b&&(y.dataArray=y.dataArray.filter(b)),y}},YO3V:function(ze,A,r){var M=r("NykK"),y=r("LcsW"),T=r("ExA7"),b="[object Object]",u=Function.prototype,H=Object.prototype,k=u.toString,Z=H.hasOwnProperty,oe=k.call(Object);function ne(Te){if(!T(Te)||M(Te)!=b)return!1;var at=y(Te);if(at===null)return!0;var ve=Z.call(at,"constructor")&&at.constructor;return typeof ve=="function"&&ve instanceof ve&&k.call(ve)==oe}ze.exports=ne},YSkC:function(ze,A,r){"use strict";var M=r("5Dmo"),y=r("3S7+"),T=r("GNNt"),b=r("wEI+"),u=r("q1tI"),H=r.n(u),k=r("+YFz"),Z=r("slOs"),oe=r.n(Z),ne=function(at){var ve=at.label,we=at.tooltip,I=at.subTitle,Ce=Object(u.useContext)(b.b.ConfigContext),et=Ce.getPrefixCls;if(!we&&!I)return H.a.createElement(H.a.Fragment,null,ve);var Et=et("pro-core-label-tip"),We=typeof we=="string"||H.a.isValidElement(we)?{title:we}:we,ct=(We==null?void 0:We.icon)||H.a.createElement(k.a,null);return H.a.createElement("div",{className:Et,onMouseDown:function(Vt){return Vt.stopPropagation()},onMouseLeave:function(Vt){return Vt.stopPropagation()},onMouseMove:function(Vt){return Vt.stopPropagation()}},ve,I&&H.a.createElement("div",{className:"".concat(Et,"-subtitle")},I),we&&H.a.createElement(y.a,We,H.a.createElement("span",{className:"".concat(Et,"-icon")},ct)))};A.a=H.a.memo(ne)},Yk9n:function(ze,A,r){"use strict";Object.defineProperty(A,"__esModule",{value:!0}),A.inject=A.LazyServiceIdentifer=void 0;var M=r("MON2"),y=r("xfSm"),T=r("GXnB"),b=r("Ztfv"),u=function(){function k(Z){this._cb=Z}return k.prototype.unwrap=function(){return this._cb()},k}();A.LazyServiceIdentifer=u;function H(k){return function(Z,oe,ne){if(k===void 0)throw new Error(M.UNDEFINED_INJECT_ANNOTATION(Z.name));var Te=new T.Metadata(y.INJECT_TAG,k);typeof ne=="number"?b.tagParameter(Z,oe,ne,Te):b.tagProperty(Z,oe,Te)}}A.inject=H},YkAm:function(ze,A,r){},Z1je:function(ze,A,r){},ZCpW:function(ze,A,r){var M=r("lm/5"),y=r("O7RO"),T=r("IOzZ");function b(u){var H=y(u);return H.length==1&&H[0][2]?T(H[0][0],H[0][1]):function(k){return k===u||M(k,u,H)}}ze.exports=b},ZK94:function(ze,A){ze.exports.RADIUS=6378137,ze.exports.FLATTENING=1/298.257223563,ze.exports.POLAR_RADIUS=63567523142e-4},ZTW2:function(ze,A,r){},ZWtO:function(ze,A,r){var M=r("4uTw"),y=r("9Nap");function T(b,u){u=M(u,b);for(var H=0,k=u.length;b!=null&&H<k;)b=b[y(u[H++])];return H&&H==k?b:void 0}ze.exports=T},ZaHm:function(ze,A,r){"use strict";r.r(A),r.d(A,"create",function(){return y}),r.d(A,"clone",function(){return T}),r.d(A,"copy",function(){return b}),r.d(A,"fromValues",function(){return u}),r.d(A,"set",function(){return H}),r.d(A,"identity",function(){return k}),r.d(A,"transpose",function(){return Z}),r.d(A,"invert",function(){return oe}),r.d(A,"adjoint",function(){return ne}),r.d(A,"determinant",function(){return Te}),r.d(A,"multiply",function(){return at}),r.d(A,"translate",function(){return ve}),r.d(A,"scale",function(){return we}),r.d(A,"rotate",function(){return I}),r.d(A,"rotateX",function(){return Ce}),r.d(A,"rotateY",function(){return et}),r.d(A,"rotateZ",function(){return Et}),r.d(A,"fromTranslation",function(){return We}),r.d(A,"fromScaling",function(){return ct}),r.d(A,"fromRotation",function(){return ce}),r.d(A,"fromXRotation",function(){return Vt}),r.d(A,"fromYRotation",function(){return It}),r.d(A,"fromZRotation",function(){return Mt}),r.d(A,"fromRotationTranslation",function(){return Tt}),r.d(A,"fromQuat2",function(){return ye}),r.d(A,"getTranslation",function(){return lt}),r.d(A,"getScaling",function(){return yt}),r.d(A,"getRotation",function(){return Dt}),r.d(A,"fromRotationTranslationScale",function(){return Jt}),r.d(A,"fromRotationTranslationScaleOrigin",function(){return At}),r.d(A,"fromQuat",function(){return vt}),r.d(A,"frustum",function(){return ie}),r.d(A,"perspectiveNO",function(){return J}),r.d(A,"perspective",function(){return ee}),r.d(A,"perspectiveZO",function(){return Ie}),r.d(A,"perspectiveFromFieldOfView",function(){return me}),r.d(A,"orthoNO",function(){return Ve}),r.d(A,"ortho",function(){return Re}),r.d(A,"orthoZO",function(){return bt}),r.d(A,"lookAt",function(){return Pt}),r.d(A,"targetTo",function(){return ht}),r.d(A,"str",function(){return Ye}),r.d(A,"frob",function(){return Ke}),r.d(A,"add",function(){return nt}),r.d(A,"subtract",function(){return Ot}),r.d(A,"multiplyScalar",function(){return Xe}),r.d(A,"multiplyScalarAndAdd",function(){return xt}),r.d(A,"exactEquals",function(){return Ne}),r.d(A,"equals",function(){return B}),r.d(A,"mul",function(){return z}),r.d(A,"sub",function(){return q});var M=r("yU0y");function y(){var S=new M.a(16);return M.a!=Float32Array&&(S[1]=0,S[2]=0,S[3]=0,S[4]=0,S[6]=0,S[7]=0,S[8]=0,S[9]=0,S[11]=0,S[12]=0,S[13]=0,S[14]=0),S[0]=1,S[5]=1,S[10]=1,S[15]=1,S}function T(S){var K=new M.a(16);return K[0]=S[0],K[1]=S[1],K[2]=S[2],K[3]=S[3],K[4]=S[4],K[5]=S[5],K[6]=S[6],K[7]=S[7],K[8]=S[8],K[9]=S[9],K[10]=S[10],K[11]=S[11],K[12]=S[12],K[13]=S[13],K[14]=S[14],K[15]=S[15],K}function b(S,K){return S[0]=K[0],S[1]=K[1],S[2]=K[2],S[3]=K[3],S[4]=K[4],S[5]=K[5],S[6]=K[6],S[7]=K[7],S[8]=K[8],S[9]=K[9],S[10]=K[10],S[11]=K[11],S[12]=K[12],S[13]=K[13],S[14]=K[14],S[15]=K[15],S}function u(S,K,fe,Fe,pe,Me,U,le,Le,ot,St,Ge,Be,Nt,kt,ft){var ut=new M.a(16);return ut[0]=S,ut[1]=K,ut[2]=fe,ut[3]=Fe,ut[4]=pe,ut[5]=Me,ut[6]=U,ut[7]=le,ut[8]=Le,ut[9]=ot,ut[10]=St,ut[11]=Ge,ut[12]=Be,ut[13]=Nt,ut[14]=kt,ut[15]=ft,ut}function H(S,K,fe,Fe,pe,Me,U,le,Le,ot,St,Ge,Be,Nt,kt,ft,ut){return S[0]=K,S[1]=fe,S[2]=Fe,S[3]=pe,S[4]=Me,S[5]=U,S[6]=le,S[7]=Le,S[8]=ot,S[9]=St,S[10]=Ge,S[11]=Be,S[12]=Nt,S[13]=kt,S[14]=ft,S[15]=ut,S}function k(S){return S[0]=1,S[1]=0,S[2]=0,S[3]=0,S[4]=0,S[5]=1,S[6]=0,S[7]=0,S[8]=0,S[9]=0,S[10]=1,S[11]=0,S[12]=0,S[13]=0,S[14]=0,S[15]=1,S}function Z(S,K){if(S===K){var fe=K[1],Fe=K[2],pe=K[3],Me=K[6],U=K[7],le=K[11];S[1]=K[4],S[2]=K[8],S[3]=K[12],S[4]=fe,S[6]=K[9],S[7]=K[13],S[8]=Fe,S[9]=Me,S[11]=K[14],S[12]=pe,S[13]=U,S[14]=le}else S[0]=K[0],S[1]=K[4],S[2]=K[8],S[3]=K[12],S[4]=K[1],S[5]=K[5],S[6]=K[9],S[7]=K[13],S[8]=K[2],S[9]=K[6],S[10]=K[10],S[11]=K[14],S[12]=K[3],S[13]=K[7],S[14]=K[11],S[15]=K[15];return S}function oe(S,K){var fe=K[0],Fe=K[1],pe=K[2],Me=K[3],U=K[4],le=K[5],Le=K[6],ot=K[7],St=K[8],Ge=K[9],Be=K[10],Nt=K[11],kt=K[12],ft=K[13],ut=K[14],Ze=K[15],Qt=fe*le-Fe*U,ar=fe*Le-pe*U,zr=fe*ot-Me*U,qr=Fe*Le-pe*le,tn=Fe*ot-Me*le,_n=pe*ot-Me*Le,Bn=St*ft-Ge*kt,ya=St*ut-Be*kt,Tr=St*Ze-Nt*kt,it=Ge*ut-Be*ft,ue=Ge*Ze-Nt*ft,ge=Be*Ze-Nt*ut,De=Qt*ge-ar*ue+zr*it+qr*Tr-tn*ya+_n*Bn;return De?(De=1/De,S[0]=(le*ge-Le*ue+ot*it)*De,S[1]=(pe*ue-Fe*ge-Me*it)*De,S[2]=(ft*_n-ut*tn+Ze*qr)*De,S[3]=(Be*tn-Ge*_n-Nt*qr)*De,S[4]=(Le*Tr-U*ge-ot*ya)*De,S[5]=(fe*ge-pe*Tr+Me*ya)*De,S[6]=(ut*zr-kt*_n-Ze*ar)*De,S[7]=(St*_n-Be*zr+Nt*ar)*De,S[8]=(U*ue-le*Tr+ot*Bn)*De,S[9]=(Fe*Tr-fe*ue-Me*Bn)*De,S[10]=(kt*tn-ft*zr+Ze*Qt)*De,S[11]=(Ge*zr-St*tn-Nt*Qt)*De,S[12]=(le*ya-U*it-Le*Bn)*De,S[13]=(fe*it-Fe*ya+pe*Bn)*De,S[14]=(ft*ar-kt*qr-ut*Qt)*De,S[15]=(St*qr-Ge*ar+Be*Qt)*De,S):null}function ne(S,K){var fe=K[0],Fe=K[1],pe=K[2],Me=K[3],U=K[4],le=K[5],Le=K[6],ot=K[7],St=K[8],Ge=K[9],Be=K[10],Nt=K[11],kt=K[12],ft=K[13],ut=K[14],Ze=K[15];return S[0]=le*(Be*Ze-Nt*ut)-Ge*(Le*Ze-ot*ut)+ft*(Le*Nt-ot*Be),S[1]=-(Fe*(Be*Ze-Nt*ut)-Ge*(pe*Ze-Me*ut)+ft*(pe*Nt-Me*Be)),S[2]=Fe*(Le*Ze-ot*ut)-le*(pe*Ze-Me*ut)+ft*(pe*ot-Me*Le),S[3]=-(Fe*(Le*Nt-ot*Be)-le*(pe*Nt-Me*Be)+Ge*(pe*ot-Me*Le)),S[4]=-(U*(Be*Ze-Nt*ut)-St*(Le*Ze-ot*ut)+kt*(Le*Nt-ot*Be)),S[5]=fe*(Be*Ze-Nt*ut)-St*(pe*Ze-Me*ut)+kt*(pe*Nt-Me*Be),S[6]=-(fe*(Le*Ze-ot*ut)-U*(pe*Ze-Me*ut)+kt*(pe*ot-Me*Le)),S[7]=fe*(Le*Nt-ot*Be)-U*(pe*Nt-Me*Be)+St*(pe*ot-Me*Le),S[8]=U*(Ge*Ze-Nt*ft)-St*(le*Ze-ot*ft)+kt*(le*Nt-ot*Ge),S[9]=-(fe*(Ge*Ze-Nt*ft)-St*(Fe*Ze-Me*ft)+kt*(Fe*Nt-Me*Ge)),S[10]=fe*(le*Ze-ot*ft)-U*(Fe*Ze-Me*ft)+kt*(Fe*ot-Me*le),S[11]=-(fe*(le*Nt-ot*Ge)-U*(Fe*Nt-Me*Ge)+St*(Fe*ot-Me*le)),S[12]=-(U*(Ge*ut-Be*ft)-St*(le*ut-Le*ft)+kt*(le*Be-Le*Ge)),S[13]=fe*(Ge*ut-Be*ft)-St*(Fe*ut-pe*ft)+kt*(Fe*Be-pe*Ge),S[14]=-(fe*(le*ut-Le*ft)-U*(Fe*ut-pe*ft)+kt*(Fe*Le-pe*le)),S[15]=fe*(le*Be-Le*Ge)-U*(Fe*Be-pe*Ge)+St*(Fe*Le-pe*le),S}function Te(S){var K=S[0],fe=S[1],Fe=S[2],pe=S[3],Me=S[4],U=S[5],le=S[6],Le=S[7],ot=S[8],St=S[9],Ge=S[10],Be=S[11],Nt=S[12],kt=S[13],ft=S[14],ut=S[15],Ze=K*U-fe*Me,Qt=K*le-Fe*Me,ar=K*Le-pe*Me,zr=fe*le-Fe*U,qr=fe*Le-pe*U,tn=Fe*Le-pe*le,_n=ot*kt-St*Nt,Bn=ot*ft-Ge*Nt,ya=ot*ut-Be*Nt,Tr=St*ft-Ge*kt,it=St*ut-Be*kt,ue=Ge*ut-Be*ft;return Ze*ue-Qt*it+ar*Tr+zr*ya-qr*Bn+tn*_n}function at(S,K,fe){var Fe=K[0],pe=K[1],Me=K[2],U=K[3],le=K[4],Le=K[5],ot=K[6],St=K[7],Ge=K[8],Be=K[9],Nt=K[10],kt=K[11],ft=K[12],ut=K[13],Ze=K[14],Qt=K[15],ar=fe[0],zr=fe[1],qr=fe[2],tn=fe[3];return S[0]=ar*Fe+zr*le+qr*Ge+tn*ft,S[1]=ar*pe+zr*Le+qr*Be+tn*ut,S[2]=ar*Me+zr*ot+qr*Nt+tn*Ze,S[3]=ar*U+zr*St+qr*kt+tn*Qt,ar=fe[4],zr=fe[5],qr=fe[6],tn=fe[7],S[4]=ar*Fe+zr*le+qr*Ge+tn*ft,S[5]=ar*pe+zr*Le+qr*Be+tn*ut,S[6]=ar*Me+zr*ot+qr*Nt+tn*Ze,S[7]=ar*U+zr*St+qr*kt+tn*Qt,ar=fe[8],zr=fe[9],qr=fe[10],tn=fe[11],S[8]=ar*Fe+zr*le+qr*Ge+tn*ft,S[9]=ar*pe+zr*Le+qr*Be+tn*ut,S[10]=ar*Me+zr*ot+qr*Nt+tn*Ze,S[11]=ar*U+zr*St+qr*kt+tn*Qt,ar=fe[12],zr=fe[13],qr=fe[14],tn=fe[15],S[12]=ar*Fe+zr*le+qr*Ge+tn*ft,S[13]=ar*pe+zr*Le+qr*Be+tn*ut,S[14]=ar*Me+zr*ot+qr*Nt+tn*Ze,S[15]=ar*U+zr*St+qr*kt+tn*Qt,S}function ve(S,K,fe){var Fe=fe[0],pe=fe[1],Me=fe[2],U,le,Le,ot,St,Ge,Be,Nt,kt,ft,ut,Ze;return K===S?(S[12]=K[0]*Fe+K[4]*pe+K[8]*Me+K[12],S[13]=K[1]*Fe+K[5]*pe+K[9]*Me+K[13],S[14]=K[2]*Fe+K[6]*pe+K[10]*Me+K[14],S[15]=K[3]*Fe+K[7]*pe+K[11]*Me+K[15]):(U=K[0],le=K[1],Le=K[2],ot=K[3],St=K[4],Ge=K[5],Be=K[6],Nt=K[7],kt=K[8],ft=K[9],ut=K[10],Ze=K[11],S[0]=U,S[1]=le,S[2]=Le,S[3]=ot,S[4]=St,S[5]=Ge,S[6]=Be,S[7]=Nt,S[8]=kt,S[9]=ft,S[10]=ut,S[11]=Ze,S[12]=U*Fe+St*pe+kt*Me+K[12],S[13]=le*Fe+Ge*pe+ft*Me+K[13],S[14]=Le*Fe+Be*pe+ut*Me+K[14],S[15]=ot*Fe+Nt*pe+Ze*Me+K[15]),S}function we(S,K,fe){var Fe=fe[0],pe=fe[1],Me=fe[2];return S[0]=K[0]*Fe,S[1]=K[1]*Fe,S[2]=K[2]*Fe,S[3]=K[3]*Fe,S[4]=K[4]*pe,S[5]=K[5]*pe,S[6]=K[6]*pe,S[7]=K[7]*pe,S[8]=K[8]*Me,S[9]=K[9]*Me,S[10]=K[10]*Me,S[11]=K[11]*Me,S[12]=K[12],S[13]=K[13],S[14]=K[14],S[15]=K[15],S}function I(S,K,fe,Fe){var pe=Fe[0],Me=Fe[1],U=Fe[2],le=Math.hypot(pe,Me,U),Le,ot,St,Ge,Be,Nt,kt,ft,ut,Ze,Qt,ar,zr,qr,tn,_n,Bn,ya,Tr,it,ue,ge,De,Ee;return le<M.b?null:(le=1/le,pe*=le,Me*=le,U*=le,Le=Math.sin(fe),ot=Math.cos(fe),St=1-ot,Ge=K[0],Be=K[1],Nt=K[2],kt=K[3],ft=K[4],ut=K[5],Ze=K[6],Qt=K[7],ar=K[8],zr=K[9],qr=K[10],tn=K[11],_n=pe*pe*St+ot,Bn=Me*pe*St+U*Le,ya=U*pe*St-Me*Le,Tr=pe*Me*St-U*Le,it=Me*Me*St+ot,ue=U*Me*St+pe*Le,ge=pe*U*St+Me*Le,De=Me*U*St-pe*Le,Ee=U*U*St+ot,S[0]=Ge*_n+ft*Bn+ar*ya,S[1]=Be*_n+ut*Bn+zr*ya,S[2]=Nt*_n+Ze*Bn+qr*ya,S[3]=kt*_n+Qt*Bn+tn*ya,S[4]=Ge*Tr+ft*it+ar*ue,S[5]=Be*Tr+ut*it+zr*ue,S[6]=Nt*Tr+Ze*it+qr*ue,S[7]=kt*Tr+Qt*it+tn*ue,S[8]=Ge*ge+ft*De+ar*Ee,S[9]=Be*ge+ut*De+zr*Ee,S[10]=Nt*ge+Ze*De+qr*Ee,S[11]=kt*ge+Qt*De+tn*Ee,K!==S&&(S[12]=K[12],S[13]=K[13],S[14]=K[14],S[15]=K[15]),S)}function Ce(S,K,fe){var Fe=Math.sin(fe),pe=Math.cos(fe),Me=K[4],U=K[5],le=K[6],Le=K[7],ot=K[8],St=K[9],Ge=K[10],Be=K[11];return K!==S&&(S[0]=K[0],S[1]=K[1],S[2]=K[2],S[3]=K[3],S[12]=K[12],S[13]=K[13],S[14]=K[14],S[15]=K[15]),S[4]=Me*pe+ot*Fe,S[5]=U*pe+St*Fe,S[6]=le*pe+Ge*Fe,S[7]=Le*pe+Be*Fe,S[8]=ot*pe-Me*Fe,S[9]=St*pe-U*Fe,S[10]=Ge*pe-le*Fe,S[11]=Be*pe-Le*Fe,S}function et(S,K,fe){var Fe=Math.sin(fe),pe=Math.cos(fe),Me=K[0],U=K[1],le=K[2],Le=K[3],ot=K[8],St=K[9],Ge=K[10],Be=K[11];return K!==S&&(S[4]=K[4],S[5]=K[5],S[6]=K[6],S[7]=K[7],S[12]=K[12],S[13]=K[13],S[14]=K[14],S[15]=K[15]),S[0]=Me*pe-ot*Fe,S[1]=U*pe-St*Fe,S[2]=le*pe-Ge*Fe,S[3]=Le*pe-Be*Fe,S[8]=Me*Fe+ot*pe,S[9]=U*Fe+St*pe,S[10]=le*Fe+Ge*pe,S[11]=Le*Fe+Be*pe,S}function Et(S,K,fe){var Fe=Math.sin(fe),pe=Math.cos(fe),Me=K[0],U=K[1],le=K[2],Le=K[3],ot=K[4],St=K[5],Ge=K[6],Be=K[7];return K!==S&&(S[8]=K[8],S[9]=K[9],S[10]=K[10],S[11]=K[11],S[12]=K[12],S[13]=K[13],S[14]=K[14],S[15]=K[15]),S[0]=Me*pe+ot*Fe,S[1]=U*pe+St*Fe,S[2]=le*pe+Ge*Fe,S[3]=Le*pe+Be*Fe,S[4]=ot*pe-Me*Fe,S[5]=St*pe-U*Fe,S[6]=Ge*pe-le*Fe,S[7]=Be*pe-Le*Fe,S}function We(S,K){return S[0]=1,S[1]=0,S[2]=0,S[3]=0,S[4]=0,S[5]=1,S[6]=0,S[7]=0,S[8]=0,S[9]=0,S[10]=1,S[11]=0,S[12]=K[0],S[13]=K[1],S[14]=K[2],S[15]=1,S}function ct(S,K){return S[0]=K[0],S[1]=0,S[2]=0,S[3]=0,S[4]=0,S[5]=K[1],S[6]=0,S[7]=0,S[8]=0,S[9]=0,S[10]=K[2],S[11]=0,S[12]=0,S[13]=0,S[14]=0,S[15]=1,S}function ce(S,K,fe){var Fe=fe[0],pe=fe[1],Me=fe[2],U=Math.hypot(Fe,pe,Me),le,Le,ot;return U<M.b?null:(U=1/U,Fe*=U,pe*=U,Me*=U,le=Math.sin(K),Le=Math.cos(K),ot=1-Le,S[0]=Fe*Fe*ot+Le,S[1]=pe*Fe*ot+Me*le,S[2]=Me*Fe*ot-pe*le,S[3]=0,S[4]=Fe*pe*ot-Me*le,S[5]=pe*pe*ot+Le,S[6]=Me*pe*ot+Fe*le,S[7]=0,S[8]=Fe*Me*ot+pe*le,S[9]=pe*Me*ot-Fe*le,S[10]=Me*Me*ot+Le,S[11]=0,S[12]=0,S[13]=0,S[14]=0,S[15]=1,S)}function Vt(S,K){var fe=Math.sin(K),Fe=Math.cos(K);return S[0]=1,S[1]=0,S[2]=0,S[3]=0,S[4]=0,S[5]=Fe,S[6]=fe,S[7]=0,S[8]=0,S[9]=-fe,S[10]=Fe,S[11]=0,S[12]=0,S[13]=0,S[14]=0,S[15]=1,S}function It(S,K){var fe=Math.sin(K),Fe=Math.cos(K);return S[0]=Fe,S[1]=0,S[2]=-fe,S[3]=0,S[4]=0,S[5]=1,S[6]=0,S[7]=0,S[8]=fe,S[9]=0,S[10]=Fe,S[11]=0,S[12]=0,S[13]=0,S[14]=0,S[15]=1,S}function Mt(S,K){var fe=Math.sin(K),Fe=Math.cos(K);return S[0]=Fe,S[1]=fe,S[2]=0,S[3]=0,S[4]=-fe,S[5]=Fe,S[6]=0,S[7]=0,S[8]=0,S[9]=0,S[10]=1,S[11]=0,S[12]=0,S[13]=0,S[14]=0,S[15]=1,S}function Tt(S,K,fe){var Fe=K[0],pe=K[1],Me=K[2],U=K[3],le=Fe+Fe,Le=pe+pe,ot=Me+Me,St=Fe*le,Ge=Fe*Le,Be=Fe*ot,Nt=pe*Le,kt=pe*ot,ft=Me*ot,ut=U*le,Ze=U*Le,Qt=U*ot;return S[0]=1-(Nt+ft),S[1]=Ge+Qt,S[2]=Be-Ze,S[3]=0,S[4]=Ge-Qt,S[5]=1-(St+ft),S[6]=kt+ut,S[7]=0,S[8]=Be+Ze,S[9]=kt-ut,S[10]=1-(St+Nt),S[11]=0,S[12]=fe[0],S[13]=fe[1],S[14]=fe[2],S[15]=1,S}function ye(S,K){var fe=new M.a(3),Fe=-K[0],pe=-K[1],Me=-K[2],U=K[3],le=K[4],Le=K[5],ot=K[6],St=K[7],Ge=Fe*Fe+pe*pe+Me*Me+U*U;return Ge>0?(fe[0]=(le*U+St*Fe+Le*Me-ot*pe)*2/Ge,fe[1]=(Le*U+St*pe+ot*Fe-le*Me)*2/Ge,fe[2]=(ot*U+St*Me+le*pe-Le*Fe)*2/Ge):(fe[0]=(le*U+St*Fe+Le*Me-ot*pe)*2,fe[1]=(Le*U+St*pe+ot*Fe-le*Me)*2,fe[2]=(ot*U+St*Me+le*pe-Le*Fe)*2),Tt(S,K,fe),S}function lt(S,K){return S[0]=K[12],S[1]=K[13],S[2]=K[14],S}function yt(S,K){var fe=K[0],Fe=K[1],pe=K[2],Me=K[4],U=K[5],le=K[6],Le=K[8],ot=K[9],St=K[10];return S[0]=Math.hypot(fe,Fe,pe),S[1]=Math.hypot(Me,U,le),S[2]=Math.hypot(Le,ot,St),S}function Dt(S,K){var fe=new M.a(3);yt(fe,K);var Fe=1/fe[0],pe=1/fe[1],Me=1/fe[2],U=K[0]*Fe,le=K[1]*pe,Le=K[2]*Me,ot=K[4]*Fe,St=K[5]*pe,Ge=K[6]*Me,Be=K[8]*Fe,Nt=K[9]*pe,kt=K[10]*Me,ft=U+St+kt,ut=0;return ft>0?(ut=Math.sqrt(ft+1)*2,S[3]=.25*ut,S[0]=(Ge-Nt)/ut,S[1]=(Be-Le)/ut,S[2]=(le-ot)/ut):U>St&&U>kt?(ut=Math.sqrt(1+U-St-kt)*2,S[3]=(Ge-Nt)/ut,S[0]=.25*ut,S[1]=(le+ot)/ut,S[2]=(Be+Le)/ut):St>kt?(ut=Math.sqrt(1+St-U-kt)*2,S[3]=(Be-Le)/ut,S[0]=(le+ot)/ut,S[1]=.25*ut,S[2]=(Ge+Nt)/ut):(ut=Math.sqrt(1+kt-U-St)*2,S[3]=(le-ot)/ut,S[0]=(Be+Le)/ut,S[1]=(Ge+Nt)/ut,S[2]=.25*ut),S}function Jt(S,K,fe,Fe){var pe=K[0],Me=K[1],U=K[2],le=K[3],Le=pe+pe,ot=Me+Me,St=U+U,Ge=pe*Le,Be=pe*ot,Nt=pe*St,kt=Me*ot,ft=Me*St,ut=U*St,Ze=le*Le,Qt=le*ot,ar=le*St,zr=Fe[0],qr=Fe[1],tn=Fe[2];return S[0]=(1-(kt+ut))*zr,S[1]=(Be+ar)*zr,S[2]=(Nt-Qt)*zr,S[3]=0,S[4]=(Be-ar)*qr,S[5]=(1-(Ge+ut))*qr,S[6]=(ft+Ze)*qr,S[7]=0,S[8]=(Nt+Qt)*tn,S[9]=(ft-Ze)*tn,S[10]=(1-(Ge+kt))*tn,S[11]=0,S[12]=fe[0],S[13]=fe[1],S[14]=fe[2],S[15]=1,S}function At(S,K,fe,Fe,pe){var Me=K[0],U=K[1],le=K[2],Le=K[3],ot=Me+Me,St=U+U,Ge=le+le,Be=Me*ot,Nt=Me*St,kt=Me*Ge,ft=U*St,ut=U*Ge,Ze=le*Ge,Qt=Le*ot,ar=Le*St,zr=Le*Ge,qr=Fe[0],tn=Fe[1],_n=Fe[2],Bn=pe[0],ya=pe[1],Tr=pe[2],it=(1-(ft+Ze))*qr,ue=(Nt+zr)*qr,ge=(kt-ar)*qr,De=(Nt-zr)*tn,Ee=(1-(Be+Ze))*tn,be=(ut+Qt)*tn,rt=(kt+ar)*_n,de=(ut-Qt)*_n,Pe=(1-(Be+ft))*_n;return S[0]=it,S[1]=ue,S[2]=ge,S[3]=0,S[4]=De,S[5]=Ee,S[6]=be,S[7]=0,S[8]=rt,S[9]=de,S[10]=Pe,S[11]=0,S[12]=fe[0]+Bn-(it*Bn+De*ya+rt*Tr),S[13]=fe[1]+ya-(ue*Bn+Ee*ya+de*Tr),S[14]=fe[2]+Tr-(ge*Bn+be*ya+Pe*Tr),S[15]=1,S}function vt(S,K){var fe=K[0],Fe=K[1],pe=K[2],Me=K[3],U=fe+fe,le=Fe+Fe,Le=pe+pe,ot=fe*U,St=Fe*U,Ge=Fe*le,Be=pe*U,Nt=pe*le,kt=pe*Le,ft=Me*U,ut=Me*le,Ze=Me*Le;return S[0]=1-Ge-kt,S[1]=St+Ze,S[2]=Be-ut,S[3]=0,S[4]=St-Ze,S[5]=1-ot-kt,S[6]=Nt+ft,S[7]=0,S[8]=Be+ut,S[9]=Nt-ft,S[10]=1-ot-Ge,S[11]=0,S[12]=0,S[13]=0,S[14]=0,S[15]=1,S}function ie(S,K,fe,Fe,pe,Me,U){var le=1/(fe-K),Le=1/(pe-Fe),ot=1/(Me-U);return S[0]=Me*2*le,S[1]=0,S[2]=0,S[3]=0,S[4]=0,S[5]=Me*2*Le,S[6]=0,S[7]=0,S[8]=(fe+K)*le,S[9]=(pe+Fe)*Le,S[10]=(U+Me)*ot,S[11]=-1,S[12]=0,S[13]=0,S[14]=U*Me*2*ot,S[15]=0,S}function J(S,K,fe,Fe,pe){var Me=1/Math.tan(K/2),U;return S[0]=Me/fe,S[1]=0,S[2]=0,S[3]=0,S[4]=0,S[5]=Me,S[6]=0,S[7]=0,S[8]=0,S[9]=0,S[11]=-1,S[12]=0,S[13]=0,S[15]=0,pe!=null&&pe!==Infinity?(U=1/(Fe-pe),S[10]=(pe+Fe)*U,S[14]=2*pe*Fe*U):(S[10]=-1,S[14]=-2*Fe),S}var ee=J;function Ie(S,K,fe,Fe,pe){var Me=1/Math.tan(K/2),U;return S[0]=Me/fe,S[1]=0,S[2]=0,S[3]=0,S[4]=0,S[5]=Me,S[6]=0,S[7]=0,S[8]=0,S[9]=0,S[11]=-1,S[12]=0,S[13]=0,S[15]=0,pe!=null&&pe!==Infinity?(U=1/(Fe-pe),S[10]=pe*U,S[14]=pe*Fe*U):(S[10]=-1,S[14]=-Fe),S}function me(S,K,fe,Fe){var pe=Math.tan(K.upDegrees*Math.PI/180),Me=Math.tan(K.downDegrees*Math.PI/180),U=Math.tan(K.leftDegrees*Math.PI/180),le=Math.tan(K.rightDegrees*Math.PI/180),Le=2/(U+le),ot=2/(pe+Me);return S[0]=Le,S[1]=0,S[2]=0,S[3]=0,S[4]=0,S[5]=ot,S[6]=0,S[7]=0,S[8]=-((U-le)*Le*.5),S[9]=(pe-Me)*ot*.5,S[10]=Fe/(fe-Fe),S[11]=-1,S[12]=0,S[13]=0,S[14]=Fe*fe/(fe-Fe),S[15]=0,S}function Ve(S,K,fe,Fe,pe,Me,U){var le=1/(K-fe),Le=1/(Fe-pe),ot=1/(Me-U);return S[0]=-2*le,S[1]=0,S[2]=0,S[3]=0,S[4]=0,S[5]=-2*Le,S[6]=0,S[7]=0,S[8]=0,S[9]=0,S[10]=2*ot,S[11]=0,S[12]=(K+fe)*le,S[13]=(pe+Fe)*Le,S[14]=(U+Me)*ot,S[15]=1,S}var Re=Ve;function bt(S,K,fe,Fe,pe,Me,U){var le=1/(K-fe),Le=1/(Fe-pe),ot=1/(Me-U);return S[0]=-2*le,S[1]=0,S[2]=0,S[3]=0,S[4]=0,S[5]=-2*Le,S[6]=0,S[7]=0,S[8]=0,S[9]=0,S[10]=ot,S[11]=0,S[12]=(K+fe)*le,S[13]=(pe+Fe)*Le,S[14]=Me*ot,S[15]=1,S}function Pt(S,K,fe,Fe){var pe,Me,U,le,Le,ot,St,Ge,Be,Nt,kt=K[0],ft=K[1],ut=K[2],Ze=Fe[0],Qt=Fe[1],ar=Fe[2],zr=fe[0],qr=fe[1],tn=fe[2];return Math.abs(kt-zr)<M.b&&Math.abs(ft-qr)<M.b&&Math.abs(ut-tn)<M.b?k(S):(St=kt-zr,Ge=ft-qr,Be=ut-tn,Nt=1/Math.hypot(St,Ge,Be),St*=Nt,Ge*=Nt,Be*=Nt,pe=Qt*Be-ar*Ge,Me=ar*St-Ze*Be,U=Ze*Ge-Qt*St,Nt=Math.hypot(pe,Me,U),Nt?(Nt=1/Nt,pe*=Nt,Me*=Nt,U*=Nt):(pe=0,Me=0,U=0),le=Ge*U-Be*Me,Le=Be*pe-St*U,ot=St*Me-Ge*pe,Nt=Math.hypot(le,Le,ot),Nt?(Nt=1/Nt,le*=Nt,Le*=Nt,ot*=Nt):(le=0,Le=0,ot=0),S[0]=pe,S[1]=le,S[2]=St,S[3]=0,S[4]=Me,S[5]=Le,S[6]=Ge,S[7]=0,S[8]=U,S[9]=ot,S[10]=Be,S[11]=0,S[12]=-(pe*kt+Me*ft+U*ut),S[13]=-(le*kt+Le*ft+ot*ut),S[14]=-(St*kt+Ge*ft+Be*ut),S[15]=1,S)}function ht(S,K,fe,Fe){var pe=K[0],Me=K[1],U=K[2],le=Fe[0],Le=Fe[1],ot=Fe[2],St=pe-fe[0],Ge=Me-fe[1],Be=U-fe[2],Nt=St*St+Ge*Ge+Be*Be;Nt>0&&(Nt=1/Math.sqrt(Nt),St*=Nt,Ge*=Nt,Be*=Nt);var kt=Le*Be-ot*Ge,ft=ot*St-le*Be,ut=le*Ge-Le*St;return Nt=kt*kt+ft*ft+ut*ut,Nt>0&&(Nt=1/Math.sqrt(Nt),kt*=Nt,ft*=Nt,ut*=Nt),S[0]=kt,S[1]=ft,S[2]=ut,S[3]=0,S[4]=Ge*ut-Be*ft,S[5]=Be*kt-St*ut,S[6]=St*ft-Ge*kt,S[7]=0,S[8]=St,S[9]=Ge,S[10]=Be,S[11]=0,S[12]=pe,S[13]=Me,S[14]=U,S[15]=1,S}function Ye(S){return"mat4("+S[0]+", "+S[1]+", "+S[2]+", "+S[3]+", "+S[4]+", "+S[5]+", "+S[6]+", "+S[7]+", "+S[8]+", "+S[9]+", "+S[10]+", "+S[11]+", "+S[12]+", "+S[13]+", "+S[14]+", "+S[15]+")"}function Ke(S){return Math.hypot(S[0],S[1],S[2],S[3],S[4],S[5],S[6],S[7],S[8],S[9],S[10],S[11],S[12],S[13],S[14],S[15])}function nt(S,K,fe){return S[0]=K[0]+fe[0],S[1]=K[1]+fe[1],S[2]=K[2]+fe[2],S[3]=K[3]+fe[3],S[4]=K[4]+fe[4],S[5]=K[5]+fe[5],S[6]=K[6]+fe[6],S[7]=K[7]+fe[7],S[8]=K[8]+fe[8],S[9]=K[9]+fe[9],S[10]=K[10]+fe[10],S[11]=K[11]+fe[11],S[12]=K[12]+fe[12],S[13]=K[13]+fe[13],S[14]=K[14]+fe[14],S[15]=K[15]+fe[15],S}function Ot(S,K,fe){return S[0]=K[0]-fe[0],S[1]=K[1]-fe[1],S[2]=K[2]-fe[2],S[3]=K[3]-fe[3],S[4]=K[4]-fe[4],S[5]=K[5]-fe[5],S[6]=K[6]-fe[6],S[7]=K[7]-fe[7],S[8]=K[8]-fe[8],S[9]=K[9]-fe[9],S[10]=K[10]-fe[10],S[11]=K[11]-fe[11],S[12]=K[12]-fe[12],S[13]=K[13]-fe[13],S[14]=K[14]-fe[14],S[15]=K[15]-fe[15],S}function Xe(S,K,fe){return S[0]=K[0]*fe,S[1]=K[1]*fe,S[2]=K[2]*fe,S[3]=K[3]*fe,S[4]=K[4]*fe,S[5]=K[5]*fe,S[6]=K[6]*fe,S[7]=K[7]*fe,S[8]=K[8]*fe,S[9]=K[9]*fe,S[10]=K[10]*fe,S[11]=K[11]*fe,S[12]=K[12]*fe,S[13]=K[13]*fe,S[14]=K[14]*fe,S[15]=K[15]*fe,S}function xt(S,K,fe,Fe){return S[0]=K[0]+fe[0]*Fe,S[1]=K[1]+fe[1]*Fe,S[2]=K[2]+fe[2]*Fe,S[3]=K[3]+fe[3]*Fe,S[4]=K[4]+fe[4]*Fe,S[5]=K[5]+fe[5]*Fe,S[6]=K[6]+fe[6]*Fe,S[7]=K[7]+fe[7]*Fe,S[8]=K[8]+fe[8]*Fe,S[9]=K[9]+fe[9]*Fe,S[10]=K[10]+fe[10]*Fe,S[11]=K[11]+fe[11]*Fe,S[12]=K[12]+fe[12]*Fe,S[13]=K[13]+fe[13]*Fe,S[14]=K[14]+fe[14]*Fe,S[15]=K[15]+fe[15]*Fe,S}function Ne(S,K){return S[0]===K[0]&&S[1]===K[1]&&S[2]===K[2]&&S[3]===K[3]&&S[4]===K[4]&&S[5]===K[5]&&S[6]===K[6]&&S[7]===K[7]&&S[8]===K[8]&&S[9]===K[9]&&S[10]===K[10]&&S[11]===K[11]&&S[12]===K[12]&&S[13]===K[13]&&S[14]===K[14]&&S[15]===K[15]}function B(S,K){var fe=S[0],Fe=S[1],pe=S[2],Me=S[3],U=S[4],le=S[5],Le=S[6],ot=S[7],St=S[8],Ge=S[9],Be=S[10],Nt=S[11],kt=S[12],ft=S[13],ut=S[14],Ze=S[15],Qt=K[0],ar=K[1],zr=K[2],qr=K[3],tn=K[4],_n=K[5],Bn=K[6],ya=K[7],Tr=K[8],it=K[9],ue=K[10],ge=K[11],De=K[12],Ee=K[13],be=K[14],rt=K[15];return Math.abs(fe-Qt)<=M.b*Math.max(1,Math.abs(fe),Math.abs(Qt))&&Math.abs(Fe-ar)<=M.b*Math.max(1,Math.abs(Fe),Math.abs(ar))&&Math.abs(pe-zr)<=M.b*Math.max(1,Math.abs(pe),Math.abs(zr))&&Math.abs(Me-qr)<=M.b*Math.max(1,Math.abs(Me),Math.abs(qr))&&Math.abs(U-tn)<=M.b*Math.max(1,Math.abs(U),Math.abs(tn))&&Math.abs(le-_n)<=M.b*Math.max(1,Math.abs(le),Math.abs(_n))&&Math.abs(Le-Bn)<=M.b*Math.max(1,Math.abs(Le),Math.abs(Bn))&&Math.abs(ot-ya)<=M.b*Math.max(1,Math.abs(ot),Math.abs(ya))&&Math.abs(St-Tr)<=M.b*Math.max(1,Math.abs(St),Math.abs(Tr))&&Math.abs(Ge-it)<=M.b*Math.max(1,Math.abs(Ge),Math.abs(it))&&Math.abs(Be-ue)<=M.b*Math.max(1,Math.abs(Be),Math.abs(ue))&&Math.abs(Nt-ge)<=M.b*Math.max(1,Math.abs(Nt),Math.abs(ge))&&Math.abs(kt-De)<=M.b*Math.max(1,Math.abs(kt),Math.abs(De))&&Math.abs(ft-Ee)<=M.b*Math.max(1,Math.abs(ft),Math.abs(Ee))&&Math.abs(ut-be)<=M.b*Math.max(1,Math.abs(ut),Math.abs(be))&&Math.abs(Ze-rt)<=M.b*Math.max(1,Math.abs(Ze),Math.abs(rt))}var z=at,q=Ot},Zss7:function(ze,A,r){var M;(function(y){var T=/^\s+/,b=/\s+$/,u=0,H=y.round,k=y.min,Z=y.max,oe=y.random;function ne(B,z){if(B=B||"",z=z||{},B instanceof ne)return B;if(!(this instanceof ne))return new ne(B,z);var q=Te(B);this._originalInput=B,this._r=q.r,this._g=q.g,this._b=q.b,this._a=q.a,this._roundA=H(100*this._a)/100,this._format=z.format||q.format,this._gradientType=z.gradientType,this._r<1&&(this._r=H(this._r)),this._g<1&&(this._g=H(this._g)),this._b<1&&(this._b=H(this._b)),this._ok=q.ok,this._tc_id=u++}ne.prototype={isDark:function(){return this.getBrightness()<128},isLight:function(){return!this.isDark()},isValid:function(){return this._ok},getOriginalInput:function(){return this._originalInput},getFormat:function(){return this._format},getAlpha:function(){return this._a},getBrightness:function(){var z=this.toRgb();return(z.r*299+z.g*587+z.b*114)/1e3},getLuminance:function(){var z=this.toRgb(),q,S,K,fe,Fe,pe;return q=z.r/255,S=z.g/255,K=z.b/255,q<=.03928?fe=q/12.92:fe=y.pow((q+.055)/1.055,2.4),S<=.03928?Fe=S/12.92:Fe=y.pow((S+.055)/1.055,2.4),K<=.03928?pe=K/12.92:pe=y.pow((K+.055)/1.055,2.4),.2126*fe+.7152*Fe+.0722*pe},setAlpha:function(z){return this._a=Ie(z),this._roundA=H(100*this._a)/100,this},toHsv:function(){var z=I(this._r,this._g,this._b);return{h:z.h*360,s:z.s,v:z.v,a:this._a}},toHsvString:function(){var z=I(this._r,this._g,this._b),q=H(z.h*360),S=H(z.s*100),K=H(z.v*100);return this._a==1?"hsv("+q+", "+S+"%, "+K+"%)":"hsva("+q+", "+S+"%, "+K+"%, "+this._roundA+")"},toHsl:function(){var z=ve(this._r,this._g,this._b);return{h:z.h*360,s:z.s,l:z.l,a:this._a}},toHslString:function(){var z=ve(this._r,this._g,this._b),q=H(z.h*360),S=H(z.s*100),K=H(z.l*100);return this._a==1?"hsl("+q+", "+S+"%, "+K+"%)":"hsla("+q+", "+S+"%, "+K+"%, "+this._roundA+")"},toHex:function(z){return et(this._r,this._g,this._b,z)},toHexString:function(z){return"#"+this.toHex(z)},toHex8:function(z){return Et(this._r,this._g,this._b,this._a,z)},toHex8String:function(z){return"#"+this.toHex8(z)},toRgb:function(){return{r:H(this._r),g:H(this._g),b:H(this._b),a:this._a}},toRgbString:function(){return this._a==1?"rgb("+H(this._r)+", "+H(this._g)+", "+H(this._b)+")":"rgba("+H(this._r)+", "+H(this._g)+", "+H(this._b)+", "+this._roundA+")"},toPercentageRgb:function(){return{r:H(me(this._r,255)*100)+"%",g:H(me(this._g,255)*100)+"%",b:H(me(this._b,255)*100)+"%",a:this._a}},toPercentageRgbString:function(){return this._a==1?"rgb("+H(me(this._r,255)*100)+"%, "+H(me(this._g,255)*100)+"%, "+H(me(this._b,255)*100)+"%)":"rgba("+H(me(this._r,255)*100)+"%, "+H(me(this._g,255)*100)+"%, "+H(me(this._b,255)*100)+"%, "+this._roundA+")"},toName:function(){return this._a===0?"transparent":this._a<1?!1:J[et(this._r,this._g,this._b,!0)]||!1},toFilter:function(z){var q="#"+We(this._r,this._g,this._b,this._a),S=q,K=this._gradientType?"GradientType = 1, ":"";if(z){var fe=ne(z);S="#"+We(fe._r,fe._g,fe._b,fe._a)}return"progid:DXImageTransform.Microsoft.gradient("+K+"startColorstr="+q+",endColorstr="+S+")"},toString:function(z){var q=!!z;z=z||this._format;var S=!1,K=this._a<1&&this._a>=0,fe=!q&&K&&(z==="hex"||z==="hex6"||z==="hex3"||z==="hex4"||z==="hex8"||z==="name");return fe?z==="name"&&this._a===0?this.toName():this.toRgbString():(z==="rgb"&&(S=this.toRgbString()),z==="prgb"&&(S=this.toPercentageRgbString()),(z==="hex"||z==="hex6")&&(S=this.toHexString()),z==="hex3"&&(S=this.toHexString(!0)),z==="hex4"&&(S=this.toHex8String(!0)),z==="hex8"&&(S=this.toHex8String()),z==="name"&&(S=this.toName()),z==="hsl"&&(S=this.toHslString()),z==="hsv"&&(S=this.toHsvString()),S||this.toHexString())},clone:function(){return ne(this.toString())},_applyModification:function(z,q){var S=z.apply(null,[this].concat([].slice.call(q)));return this._r=S._r,this._g=S._g,this._b=S._b,this.setAlpha(S._a),this},lighten:function(){return this._applyModification(It,arguments)},brighten:function(){return this._applyModification(Mt,arguments)},darken:function(){return this._applyModification(Tt,arguments)},desaturate:function(){return this._applyModification(ct,arguments)},saturate:function(){return this._applyModification(ce,arguments)},greyscale:function(){return this._applyModification(Vt,arguments)},spin:function(){return this._applyModification(ye,arguments)},_applyCombination:function(z,q){return z.apply(null,[this].concat([].slice.call(q)))},analogous:function(){return this._applyCombination(At,arguments)},complement:function(){return this._applyCombination(lt,arguments)},monochromatic:function(){return this._applyCombination(vt,arguments)},splitcomplement:function(){return this._applyCombination(Jt,arguments)},triad:function(){return this._applyCombination(yt,arguments)},tetrad:function(){return this._applyCombination(Dt,arguments)}},ne.fromRatio=function(B,z){if(typeof B=="object"){var q={};for(var S in B)B.hasOwnProperty(S)&&(S==="a"?q[S]=B[S]:q[S]=Ye(B[S]));B=q}return ne(B,z)};function Te(B){var z={r:0,g:0,b:0},q=1,S=null,K=null,fe=null,Fe=!1,pe=!1;return typeof B=="string"&&(B=xt(B)),typeof B=="object"&&(Xe(B.r)&&Xe(B.g)&&Xe(B.b)?(z=at(B.r,B.g,B.b),Fe=!0,pe=String(B.r).substr(-1)==="%"?"prgb":"rgb"):Xe(B.h)&&Xe(B.s)&&Xe(B.v)?(S=Ye(B.s),K=Ye(B.v),z=Ce(B.h,S,K),Fe=!0,pe="hsv"):Xe(B.h)&&Xe(B.s)&&Xe(B.l)&&(S=Ye(B.s),fe=Ye(B.l),z=we(B.h,S,fe),Fe=!0,pe="hsl"),B.hasOwnProperty("a")&&(q=B.a)),q=Ie(q),{ok:Fe,format:B.format||pe,r:k(255,Z(z.r,0)),g:k(255,Z(z.g,0)),b:k(255,Z(z.b,0)),a:q}}function at(B,z,q){return{r:me(B,255)*255,g:me(z,255)*255,b:me(q,255)*255}}function ve(B,z,q){B=me(B,255),z=me(z,255),q=me(q,255);var S=Z(B,z,q),K=k(B,z,q),fe,Fe,pe=(S+K)/2;if(S==K)fe=Fe=0;else{var Me=S-K;switch(Fe=pe>.5?Me/(2-S-K):Me/(S+K),S){case B:fe=(z-q)/Me+(z<q?6:0);break;case z:fe=(q-B)/Me+2;break;case q:fe=(B-z)/Me+4;break}fe/=6}return{h:fe,s:Fe,l:pe}}function we(B,z,q){var S,K,fe;B=me(B,360),z=me(z,100),q=me(q,100);function Fe(U,le,Le){return Le<0&&(Le+=1),Le>1&&(Le-=1),Le<1/6?U+(le-U)*6*Le:Le<1/2?le:Le<2/3?U+(le-U)*(2/3-Le)*6:U}if(z===0)S=K=fe=q;else{var pe=q<.5?q*(1+z):q+z-q*z,Me=2*q-pe;S=Fe(Me,pe,B+1/3),K=Fe(Me,pe,B),fe=Fe(Me,pe,B-1/3)}return{r:S*255,g:K*255,b:fe*255}}function I(B,z,q){B=me(B,255),z=me(z,255),q=me(q,255);var S=Z(B,z,q),K=k(B,z,q),fe,Fe,pe=S,Me=S-K;if(Fe=S===0?0:Me/S,S==K)fe=0;else{switch(S){case B:fe=(z-q)/Me+(z<q?6:0);break;case z:fe=(q-B)/Me+2;break;case q:fe=(B-z)/Me+4;break}fe/=6}return{h:fe,s:Fe,v:pe}}function Ce(B,z,q){B=me(B,360)*6,z=me(z,100),q=me(q,100);var S=y.floor(B),K=B-S,fe=q*(1-z),Fe=q*(1-K*z),pe=q*(1-(1-K)*z),Me=S%6,U=[q,Fe,fe,fe,pe,q][Me],le=[pe,q,q,Fe,fe,fe][Me],Le=[fe,fe,pe,q,q,Fe][Me];return{r:U*255,g:le*255,b:Le*255}}function et(B,z,q,S){var K=[ht(H(B).toString(16)),ht(H(z).toString(16)),ht(H(q).toString(16))];return S&&K[0].charAt(0)==K[0].charAt(1)&&K[1].charAt(0)==K[1].charAt(1)&&K[2].charAt(0)==K[2].charAt(1)?K[0].charAt(0)+K[1].charAt(0)+K[2].charAt(0):K.join("")}function Et(B,z,q,S,K){var fe=[ht(H(B).toString(16)),ht(H(z).toString(16)),ht(H(q).toString(16)),ht(Ke(S))];return K&&fe[0].charAt(0)==fe[0].charAt(1)&&fe[1].charAt(0)==fe[1].charAt(1)&&fe[2].charAt(0)==fe[2].charAt(1)&&fe[3].charAt(0)==fe[3].charAt(1)?fe[0].charAt(0)+fe[1].charAt(0)+fe[2].charAt(0)+fe[3].charAt(0):fe.join("")}function We(B,z,q,S){var K=[ht(Ke(S)),ht(H(B).toString(16)),ht(H(z).toString(16)),ht(H(q).toString(16))];return K.join("")}ne.equals=function(B,z){return!B||!z?!1:ne(B).toRgbString()==ne(z).toRgbString()},ne.random=function(){return ne.fromRatio({r:oe(),g:oe(),b:oe()})};function ct(B,z){z=z===0?0:z||10;var q=ne(B).toHsl();return q.s-=z/100,q.s=Ve(q.s),ne(q)}function ce(B,z){z=z===0?0:z||10;var q=ne(B).toHsl();return q.s+=z/100,q.s=Ve(q.s),ne(q)}function Vt(B){return ne(B).desaturate(100)}function It(B,z){z=z===0?0:z||10;var q=ne(B).toHsl();return q.l+=z/100,q.l=Ve(q.l),ne(q)}function Mt(B,z){z=z===0?0:z||10;var q=ne(B).toRgb();return q.r=Z(0,k(255,q.r-H(255*-(z/100)))),q.g=Z(0,k(255,q.g-H(255*-(z/100)))),q.b=Z(0,k(255,q.b-H(255*-(z/100)))),ne(q)}function Tt(B,z){z=z===0?0:z||10;var q=ne(B).toHsl();return q.l-=z/100,q.l=Ve(q.l),ne(q)}function ye(B,z){var q=ne(B).toHsl(),S=(q.h+z)%360;return q.h=S<0?360+S:S,ne(q)}function lt(B){var z=ne(B).toHsl();return z.h=(z.h+180)%360,ne(z)}function yt(B){var z=ne(B).toHsl(),q=z.h;return[ne(B),ne({h:(q+120)%360,s:z.s,l:z.l}),ne({h:(q+240)%360,s:z.s,l:z.l})]}function Dt(B){var z=ne(B).toHsl(),q=z.h;return[ne(B),ne({h:(q+90)%360,s:z.s,l:z.l}),ne({h:(q+180)%360,s:z.s,l:z.l}),ne({h:(q+270)%360,s:z.s,l:z.l})]}function Jt(B){var z=ne(B).toHsl(),q=z.h;return[ne(B),ne({h:(q+72)%360,s:z.s,l:z.l}),ne({h:(q+216)%360,s:z.s,l:z.l})]}function At(B,z,q){z=z||6,q=q||30;var S=ne(B).toHsl(),K=360/q,fe=[ne(B)];for(S.h=(S.h-(K*z>>1)+720)%360;--z;)S.h=(S.h+K)%360,fe.push(ne(S));return fe}function vt(B,z){z=z||6;for(var q=ne(B).toHsv(),S=q.h,K=q.s,fe=q.v,Fe=[],pe=1/z;z--;)Fe.push(ne({h:S,s:K,v:fe})),fe=(fe+pe)%1;return Fe}ne.mix=function(B,z,q){q=q===0?0:q||50;var S=ne(B).toRgb(),K=ne(z).toRgb(),fe=q/100,Fe={r:(K.r-S.r)*fe+S.r,g:(K.g-S.g)*fe+S.g,b:(K.b-S.b)*fe+S.b,a:(K.a-S.a)*fe+S.a};return ne(Fe)},ne.readability=function(B,z){var q=ne(B),S=ne(z);return(y.max(q.getLuminance(),S.getLuminance())+.05)/(y.min(q.getLuminance(),S.getLuminance())+.05)},ne.isReadable=function(B,z,q){var S=ne.readability(B,z),K,fe;switch(fe=!1,K=Ne(q),K.level+K.size){case"AAsmall":case"AAAlarge":fe=S>=4.5;break;case"AAlarge":fe=S>=3;break;case"AAAsmall":fe=S>=7;break}return fe},ne.mostReadable=function(B,z,q){var S=null,K=0,fe,Fe,pe,Me;q=q||{},Fe=q.includeFallbackColors,pe=q.level,Me=q.size;for(var U=0;U<z.length;U++)fe=ne.readability(B,z[U]),fe>K&&(K=fe,S=ne(z[U]));return ne.isReadable(B,S,{level:pe,size:Me})||!Fe?S:(q.includeFallbackColors=!1,ne.mostReadable(B,["#fff","#000"],q))};var ie=ne.names={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"0ff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000",blanchedalmond:"ffebcd",blue:"00f",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",burntsienna:"ea7e5d",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"0ff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkgrey:"a9a9a9",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkslategrey:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dimgrey:"696969",dodgerblue:"1e90ff",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"f0f",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",grey:"808080",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgray:"d3d3d3",lightgreen:"90ee90",lightgrey:"d3d3d3",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslategray:"789",lightslategrey:"789",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"0f0",limegreen:"32cd32",linen:"faf0e6",magenta:"f0f",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370db",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"db7093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",rebeccapurple:"663399",red:"f00",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",slategrey:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",wheat:"f5deb3",white:"fff",whitesmoke:"f5f5f5",yellow:"ff0",yellowgreen:"9acd32"},J=ne.hexNames=ee(ie);function ee(B){var z={};for(var q in B)B.hasOwnProperty(q)&&(z[B[q]]=q);return z}function Ie(B){return B=parseFloat(B),(isNaN(B)||B<0||B>1)&&(B=1),B}function me(B,z){bt(B)&&(B="100%");var q=Pt(B);return B=k(z,Z(0,parseFloat(B))),q&&(B=parseInt(B*z,10)/100),y.abs(B-z)<1e-6?1:B%z/parseFloat(z)}function Ve(B){return k(1,Z(0,B))}function Re(B){return parseInt(B,16)}function bt(B){return typeof B=="string"&&B.indexOf(".")!=-1&&parseFloat(B)===1}function Pt(B){return typeof B=="string"&&B.indexOf("%")!=-1}function ht(B){return B.length==1?"0"+B:""+B}function Ye(B){return B<=1&&(B=B*100+"%"),B}function Ke(B){return y.round(parseFloat(B)*255).toString(16)}function nt(B){return Re(B)/255}var Ot=function(){var B="[-\\+]?\\d+%?",z="[-\\+]?\\d*\\.\\d+%?",q="(?:"+z+")|(?:"+B+")",S="[\\s|\\(]+("+q+")[,|\\s]+("+q+")[,|\\s]+("+q+")\\s*\\)?",K="[\\s|\\(]+("+q+")[,|\\s]+("+q+")[,|\\s]+("+q+")[,|\\s]+("+q+")\\s*\\)?";return{CSS_UNIT:new RegExp(q),rgb:new RegExp("rgb"+S),rgba:new RegExp("rgba"+K),hsl:new RegExp("hsl"+S),hsla:new RegExp("hsla"+K),hsv:new RegExp("hsv"+S),hsva:new RegExp("hsva"+K),hex3:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex6:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/,hex4:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex8:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/}}();function Xe(B){return!!Ot.CSS_UNIT.exec(B)}function xt(B){B=B.replace(T,"").replace(b,"").toLowerCase();var z=!1;if(ie[B])B=ie[B],z=!0;else if(B=="transparent")return{r:0,g:0,b:0,a:0,format:"name"};var q;return(q=Ot.rgb.exec(B))?{r:q[1],g:q[2],b:q[3]}:(q=Ot.rgba.exec(B))?{r:q[1],g:q[2],b:q[3],a:q[4]}:(q=Ot.hsl.exec(B))?{h:q[1],s:q[2],l:q[3]}:(q=Ot.hsla.exec(B))?{h:q[1],s:q[2],l:q[3],a:q[4]}:(q=Ot.hsv.exec(B))?{h:q[1],s:q[2],v:q[3]}:(q=Ot.hsva.exec(B))?{h:q[1],s:q[2],v:q[3],a:q[4]}:(q=Ot.hex8.exec(B))?{r:Re(q[1]),g:Re(q[2]),b:Re(q[3]),a:nt(q[4]),format:z?"name":"hex8"}:(q=Ot.hex6.exec(B))?{r:Re(q[1]),g:Re(q[2]),b:Re(q[3]),format:z?"name":"hex"}:(q=Ot.hex4.exec(B))?{r:Re(q[1]+""+q[1]),g:Re(q[2]+""+q[2]),b:Re(q[3]+""+q[3]),a:nt(q[4]+""+q[4]),format:z?"name":"hex8"}:(q=Ot.hex3.exec(B))?{r:Re(q[1]+""+q[1]),g:Re(q[2]+""+q[2]),b:Re(q[3]+""+q[3]),format:z?"name":"hex"}:!1}function Ne(B){var z,q;return B=B||{level:"AA",size:"small"},z=(B.level||"AA").toUpperCase(),q=(B.size||"small").toLowerCase(),z!=="AA"&&z!=="AAA"&&(z="AA"),q!=="small"&&q!=="large"&&(q="small"),{level:z,size:q}}ze.exports?ze.exports=ne:(M=function(){return ne}.call(A,r,A,ze),M!==void 0&&(ze.exports=M))})(Math)},Ztfv:function(ze,A,r){"use strict";Object.defineProperty(A,"__esModule",{value:!0}),A.tagProperty=A.tagParameter=A.decorate=void 0;var M=r("MON2"),y=r("xfSm");function T(oe,ne,Te,at){var ve=y.TAGGED;u(ve,oe,ne,at,Te)}A.tagParameter=T;function b(oe,ne,Te){var at=y.TAGGED_PROP;u(at,oe.constructor,ne,Te)}A.tagProperty=b;function u(oe,ne,Te,at,ve){var we={},I=typeof ve=="number",Ce=ve!==void 0&&I?ve.toString():Te;if(I&&Te!==void 0)throw new Error(M.INVALID_DECORATOR_OPERATION);Reflect.hasOwnMetadata(oe,ne)&&(we=Reflect.getMetadata(oe,ne));var et=we[Ce];if(!Array.isArray(et))et=[];else for(var Et=0,We=et;Et<We.length;Et++){var ct=We[Et];if(ct.key===at.key)throw new Error(M.DUPLICATED_METADATA+" "+ct.key.toString())}et.push(at),we[Ce]=et,Reflect.defineMetadata(oe,we,ne)}function H(oe,ne){Reflect.decorate(oe,ne)}function k(oe,ne){return function(Te,at){ne(Te,at,oe)}}function Z(oe,ne,Te){typeof Te=="number"?H([k(Te,oe)],ne):typeof Te=="string"?Reflect.decorate([oe],ne,Te):H([oe],ne)}A.decorate=Z},ZxFD:function(ze,A,r){"use strict";r.r(A),r.d(A,"create",function(){return y}),r.d(A,"clone",function(){return T}),r.d(A,"fromValues",function(){return b}),r.d(A,"copy",function(){return u}),r.d(A,"set",function(){return H}),r.d(A,"add",function(){return k}),r.d(A,"subtract",function(){return Z}),r.d(A,"multiply",function(){return oe}),r.d(A,"divide",function(){return ne}),r.d(A,"ceil",function(){return Te}),r.d(A,"floor",function(){return at}),r.d(A,"min",function(){return ve}),r.d(A,"max",function(){return we}),r.d(A,"round",function(){return I}),r.d(A,"scale",function(){return Ce}),r.d(A,"scaleAndAdd",function(){return et}),r.d(A,"distance",function(){return Et}),r.d(A,"squaredDistance",function(){return We}),r.d(A,"length",function(){return ct}),r.d(A,"squaredLength",function(){return ce}),r.d(A,"negate",function(){return Vt}),r.d(A,"inverse",function(){return It}),r.d(A,"normalize",function(){return Mt}),r.d(A,"dot",function(){return Tt}),r.d(A,"cross",function(){return ye}),r.d(A,"lerp",function(){return lt}),r.d(A,"random",function(){return yt}),r.d(A,"transformMat2",function(){return Dt}),r.d(A,"transformMat2d",function(){return Jt}),r.d(A,"transformMat3",function(){return At}),r.d(A,"transformMat4",function(){return vt}),r.d(A,"rotate",function(){return ie}),r.d(A,"angle",function(){return J}),r.d(A,"zero",function(){return ee}),r.d(A,"str",function(){return Ie}),r.d(A,"exactEquals",function(){return me}),r.d(A,"equals",function(){return Ve}),r.d(A,"len",function(){return Re}),r.d(A,"sub",function(){return bt}),r.d(A,"mul",function(){return Pt}),r.d(A,"div",function(){return ht}),r.d(A,"dist",function(){return Ye}),r.d(A,"sqrDist",function(){return Ke}),r.d(A,"sqrLen",function(){return nt}),r.d(A,"forEach",function(){return Ot});var M=r("yU0y");function y(){var Xe=new M.a(2);return M.a!=Float32Array&&(Xe[0]=0,Xe[1]=0),Xe}function T(Xe){var xt=new M.a(2);return xt[0]=Xe[0],xt[1]=Xe[1],xt}function b(Xe,xt){var Ne=new M.a(2);return Ne[0]=Xe,Ne[1]=xt,Ne}function u(Xe,xt){return Xe[0]=xt[0],Xe[1]=xt[1],Xe}function H(Xe,xt,Ne){return Xe[0]=xt,Xe[1]=Ne,Xe}function k(Xe,xt,Ne){return Xe[0]=xt[0]+Ne[0],Xe[1]=xt[1]+Ne[1],Xe}function Z(Xe,xt,Ne){return Xe[0]=xt[0]-Ne[0],Xe[1]=xt[1]-Ne[1],Xe}function oe(Xe,xt,Ne){return Xe[0]=xt[0]*Ne[0],Xe[1]=xt[1]*Ne[1],Xe}function ne(Xe,xt,Ne){return Xe[0]=xt[0]/Ne[0],Xe[1]=xt[1]/Ne[1],Xe}function Te(Xe,xt){return Xe[0]=Math.ceil(xt[0]),Xe[1]=Math.ceil(xt[1]),Xe}function at(Xe,xt){return Xe[0]=Math.floor(xt[0]),Xe[1]=Math.floor(xt[1]),Xe}function ve(Xe,xt,Ne){return Xe[0]=Math.min(xt[0],Ne[0]),Xe[1]=Math.min(xt[1],Ne[1]),Xe}function we(Xe,xt,Ne){return Xe[0]=Math.max(xt[0],Ne[0]),Xe[1]=Math.max(xt[1],Ne[1]),Xe}function I(Xe,xt){return Xe[0]=Math.round(xt[0]),Xe[1]=Math.round(xt[1]),Xe}function Ce(Xe,xt,Ne){return Xe[0]=xt[0]*Ne,Xe[1]=xt[1]*Ne,Xe}function et(Xe,xt,Ne,B){return Xe[0]=xt[0]+Ne[0]*B,Xe[1]=xt[1]+Ne[1]*B,Xe}function Et(Xe,xt){var Ne=xt[0]-Xe[0],B=xt[1]-Xe[1];return Math.hypot(Ne,B)}function We(Xe,xt){var Ne=xt[0]-Xe[0],B=xt[1]-Xe[1];return Ne*Ne+B*B}function ct(Xe){var xt=Xe[0],Ne=Xe[1];return Math.hypot(xt,Ne)}function ce(Xe){var xt=Xe[0],Ne=Xe[1];return xt*xt+Ne*Ne}function Vt(Xe,xt){return Xe[0]=-xt[0],Xe[1]=-xt[1],Xe}function It(Xe,xt){return Xe[0]=1/xt[0],Xe[1]=1/xt[1],Xe}function Mt(Xe,xt){var Ne=xt[0],B=xt[1],z=Ne*Ne+B*B;return z>0&&(z=1/Math.sqrt(z)),Xe[0]=xt[0]*z,Xe[1]=xt[1]*z,Xe}function Tt(Xe,xt){return Xe[0]*xt[0]+Xe[1]*xt[1]}function ye(Xe,xt,Ne){var B=xt[0]*Ne[1]-xt[1]*Ne[0];return Xe[0]=Xe[1]=0,Xe[2]=B,Xe}function lt(Xe,xt,Ne,B){var z=xt[0],q=xt[1];return Xe[0]=z+B*(Ne[0]-z),Xe[1]=q+B*(Ne[1]-q),Xe}function yt(Xe,xt){xt=xt||1;var Ne=M.c()*2*Math.PI;return Xe[0]=Math.cos(Ne)*xt,Xe[1]=Math.sin(Ne)*xt,Xe}function Dt(Xe,xt,Ne){var B=xt[0],z=xt[1];return Xe[0]=Ne[0]*B+Ne[2]*z,Xe[1]=Ne[1]*B+Ne[3]*z,Xe}function Jt(Xe,xt,Ne){var B=xt[0],z=xt[1];return Xe[0]=Ne[0]*B+Ne[2]*z+Ne[4],Xe[1]=Ne[1]*B+Ne[3]*z+Ne[5],Xe}function At(Xe,xt,Ne){var B=xt[0],z=xt[1];return Xe[0]=Ne[0]*B+Ne[3]*z+Ne[6],Xe[1]=Ne[1]*B+Ne[4]*z+Ne[7],Xe}function vt(Xe,xt,Ne){var B=xt[0],z=xt[1];return Xe[0]=Ne[0]*B+Ne[4]*z+Ne[12],Xe[1]=Ne[1]*B+Ne[5]*z+Ne[13],Xe}function ie(Xe,xt,Ne,B){var z=xt[0]-Ne[0],q=xt[1]-Ne[1],S=Math.sin(B),K=Math.cos(B);return Xe[0]=z*K-q*S+Ne[0],Xe[1]=z*S+q*K+Ne[1],Xe}function J(Xe,xt){var Ne=Xe[0],B=Xe[1],z=xt[0],q=xt[1],S=Math.sqrt(Ne*Ne+B*B)*Math.sqrt(z*z+q*q),K=S&&(Ne*z+B*q)/S;return Math.acos(Math.min(Math.max(K,-1),1))}function ee(Xe){return Xe[0]=0,Xe[1]=0,Xe}function Ie(Xe){return"vec2("+Xe[0]+", "+Xe[1]+")"}function me(Xe,xt){return Xe[0]===xt[0]&&Xe[1]===xt[1]}function Ve(Xe,xt){var Ne=Xe[0],B=Xe[1],z=xt[0],q=xt[1];return Math.abs(Ne-z)<=M.b*Math.max(1,Math.abs(Ne),Math.abs(z))&&Math.abs(B-q)<=M.b*Math.max(1,Math.abs(B),Math.abs(q))}var Re=ct,bt=Z,Pt=oe,ht=ne,Ye=Et,Ke=We,nt=ce,Ot=function(){var Xe=y();return function(xt,Ne,B,z,q,S){var K,fe;for(Ne||(Ne=2),B||(B=0),z?fe=Math.min(z*Ne+B,xt.length):fe=xt.length,K=B;K<fe;K+=Ne)Xe[0]=xt[K],Xe[1]=xt[K+1],q(Xe,Xe,S),xt[K]=Xe[0],xt[K+1]=Xe[1];return xt}}()},ZzCi:function(ze,A,r){"use strict";Object.defineProperty(A,"__esModule",{value:!0}),A.named=void 0;var M=r("xfSm"),y=r("GXnB"),T=r("Ztfv");function b(u){return function(H,k,Z){var oe=new y.Metadata(M.NAMED_TAG,u);typeof Z=="number"?T.tagParameter(H,k,Z,oe):T.tagProperty(H,k,oe)}}A.named=b},a1gu:function(ze,A,r){var M=r("cDf5").default,y=r("PJYZ");function T(b,u){if(u&&(M(u)==="object"||typeof u=="function"))return u;if(u!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return y(b)}ze.exports=T,ze.exports.default=ze.exports,ze.exports.__esModule=!0},a4JC:function(ze,A,r){"use strict";r.r(A);var M=r("DYRE"),y=r("zeV3"),T=r("9og8"),b=r("+L6B"),u=r("2/Rp"),H=r("IzEo"),k=r("bx4M"),Z=r("miYZ"),oe=r("tsqr"),ne=r("XCrF"),Te=r("1GRj"),at=r("tJVT"),ve=r("WmNS"),we=r.n(ve),I=r("q1tI"),Ce=r.n(I),et=r("y8nQ"),Et=r("Vl3Y"),We=r("6cGi"),ct=r("xvlK"),ce=r("uX+g"),Vt=r("85Yc"),It=r("GNNt"),Mt=r("wEI+"),Tt=r("cIOH"),ye=r("pED+"),lt=r("R9oj"),yt=r("7Kak"),Dt=r("sRBo"),Jt=r("qVdP"),At=r("T2oS"),vt=r("DjyN"),ie=r("5Dmo"),J=r("U8pU"),ee=r("rePB"),Ie=r("ODXe"),me=r("wx14"),Ve=r("TSYQ"),Re=r.n(Ve),bt=r("bT9E"),Pt=r("VTBJ"),ht=r("KQm4"),Ye=r("x/xZ"),Ke=r("Gytx"),nt=r.n(Ke),Ot=r("Kwbf"),Xe=r("t23M"),xt=r("qx4F");function Ne(a){return null}var B=Ne;function z(a){return null}var q=z,S=r("Ff2n"),K=r("c+Xe"),fe="RC_TABLE_KEY";function Fe(a){return a==null?[]:Array.isArray(a)?a:[a]}function pe(a,i){if(!i&&typeof i!="number")return a;for(var n=Fe(i),s=a,h=0;h<n.length;h+=1){if(!s)return null;var _=n[h];s=s[_]}return s}function Me(a){var i=[],n={};return a.forEach(function(s){for(var h=s||{},_=h.key,Y=h.dataIndex,$=_||Fe(Y).join("-")||fe;n[$];)$="".concat($,"_next");n[$]=!0,i.push($)}),i}function U(){var a={};function i(_,Y){Y&&Object.keys(Y).forEach(function($){var X=Y[$];X&&Object(J.a)(X)==="object"?(_[$]=_[$]||{},i(_[$],X)):_[$]=X})}for(var n=arguments.length,s=new Array(n),h=0;h<n;h++)s[h]=arguments[h];return s.forEach(function(_){i(a,_)}),a}function le(a){return a!=null}var Le=["colSpan","rowSpan","style","className"];function ot(a){return a&&Object(J.a)(a)==="object"&&!Array.isArray(a)&&!I.isValidElement(a)}function St(a){return typeof a=="string"?!0:Object(K.c)(a)}function Ge(a,i){var n,s=a.prefixCls,h=a.className,_=a.record,Y=a.index,$=a.dataIndex,X=a.render,Ae=a.children,gt=a.component,Ct=gt===void 0?"td":gt,Lt=a.colSpan,Ut=a.rowSpan,or=a.fixLeft,Cr=a.fixRight,sr=a.firstFixLeft,fr=a.lastFixLeft,_r=a.firstFixRight,Qr=a.lastFixRight,bn=a.appendNode,Vn=a.additionalProps,Xn=Vn===void 0?{}:Vn,Hn=a.ellipsis,yn=a.align,xn=a.rowType,Wn=a.isSticky,Un="".concat(s,"-cell"),pa,Zn;if(Ae)Zn=Ae;else{var ka=pe(_,$);if(Zn=ka,X){var Bi=X(ka,_,Y);ot(Bi)?(Zn=Bi.children,pa=Bi.props):Zn=Bi}}Object(J.a)(Zn)==="object"&&!Array.isArray(Zn)&&!I.isValidElement(Zn)&&(Zn=null),Hn&&(fr||_r)&&(Zn=I.createElement("span",{className:"".concat(Un,"-content")},Zn));var Ki=pa||{},Po=Ki.colSpan,Zi=Ki.rowSpan,wo=Ki.style,io=Ki.className,qo=Object(S.a)(Ki,Le),Js=Po!==void 0?Po:Lt,Yo=Zi!==void 0?Zi:Ut;if(Js===0||Yo===0)return null;var ho={},Ni=typeof or=="number",po=typeof Cr=="number";Ni&&(ho.position="sticky",ho.left=or),po&&(ho.position="sticky",ho.right=Cr);var li={};yn&&(li.textAlign=yn);var Sa,Xa=Hn===!0?{showTitle:!0}:Hn;Xa&&(Xa.showTitle||xn==="header")&&(typeof Zn=="string"||typeof Zn=="number"?Sa=Zn.toString():I.isValidElement(Zn)&&typeof Zn.props.children=="string"&&(Sa=Zn.props.children));var oo=Object(Pt.a)(Object(Pt.a)(Object(Pt.a)({title:Sa},qo),Xn),{},{colSpan:Js&&Js!==1?Js:null,rowSpan:Yo&&Yo!==1?Yo:null,className:Re()(Un,h,(n={},Object(ee.a)(n,"".concat(Un,"-fix-left"),Ni),Object(ee.a)(n,"".concat(Un,"-fix-left-first"),sr),Object(ee.a)(n,"".concat(Un,"-fix-left-last"),fr),Object(ee.a)(n,"".concat(Un,"-fix-right"),po),Object(ee.a)(n,"".concat(Un,"-fix-right-first"),_r),Object(ee.a)(n,"".concat(Un,"-fix-right-last"),Qr),Object(ee.a)(n,"".concat(Un,"-ellipsis"),Hn),Object(ee.a)(n,"".concat(Un,"-with-append"),bn),Object(ee.a)(n,"".concat(Un,"-fix-sticky"),(Ni||po)&&Wn),n),Xn.className,io),style:Object(Pt.a)(Object(Pt.a)(Object(Pt.a)(Object(Pt.a)({},Xn.style),li),ho),wo),ref:St(Ct)?i:null});return I.createElement(Ct,oo,bn,Zn)}var Be=I.forwardRef(Ge);Be.displayName="Cell";var Nt=I.memo(Be,function(a,i){return i.shouldCellUpdate?!i.shouldCellUpdate(i.record,a.record):!1}),kt=Nt,ft=I.createContext(null),ut=ft;function Ze(a,i,n,s,h){var _=n[a]||{},Y=n[i]||{},$,X;_.fixed==="left"?$=s.left[a]:Y.fixed==="right"&&(X=s.right[i]);var Ae=!1,gt=!1,Ct=!1,Lt=!1,Ut=n[i+1],or=n[a-1];if(h==="rtl"){if($!==void 0){var Cr=or&&or.fixed==="left";Lt=!Cr}else if(X!==void 0){var sr=Ut&&Ut.fixed==="right";Ct=!sr}}else if($!==void 0){var fr=Ut&&Ut.fixed==="left";Ae=!fr}else if(X!==void 0){var _r=or&&or.fixed==="right";gt=!_r}return{fixLeft:$,fixRight:X,lastFixLeft:Ae,firstFixRight:gt,lastFixRight:Ct,firstFixLeft:Lt,isSticky:s.isSticky}}function Qt(a){var i=a.cells,n=a.stickyOffsets,s=a.flattenColumns,h=a.rowComponent,_=a.cellComponent,Y=a.onHeaderRow,$=a.index,X=I.useContext(ut),Ae=X.prefixCls,gt=X.direction,Ct;Y&&(Ct=Y(i.map(function(Ut){return Ut.column}),$));var Lt=Me(i.map(function(Ut){return Ut.column}));return I.createElement(h,Ct,i.map(function(Ut,or){var Cr=Ut.column,sr=Ze(Ut.colStart,Ut.colEnd,s,n,gt),fr;return Cr&&Cr.onHeaderCell&&(fr=Ut.column.onHeaderCell(Cr)),I.createElement(kt,Object(me.a)({},Ut,{ellipsis:Cr.ellipsis,align:Cr.align,component:_,prefixCls:Ae,key:Lt[or]},sr,{additionalProps:fr,rowType:"header"}))}))}Qt.displayName="HeaderRow";var ar=Qt;function zr(a){var i=[];function n(Y,$){var X=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0;i[X]=i[X]||[];var Ae=$,gt=Y.filter(Boolean).map(function(Ct){var Lt={key:Ct.key,className:Ct.className||"",children:Ct.title,column:Ct,colStart:Ae},Ut=1,or=Ct.children;return or&&or.length>0&&(Ut=n(or,Ae,X+1).reduce(function(Cr,sr){return Cr+sr},0),Lt.hasSubColumns=!0),"colSpan"in Ct&&(Ut=Ct.colSpan),"rowSpan"in Ct&&(Lt.rowSpan=Ct.rowSpan),Lt.colSpan=Ut,Lt.colEnd=Lt.colStart+Ut-1,i[X].push(Lt),Ae+=Ut,Ut});return gt}n(a,0);for(var s=i.length,h=function($){i[$].forEach(function(X){!("rowSpan"in X)&&!X.hasSubColumns&&(X.rowSpan=s-$)})},_=0;_<s;_+=1)h(_);return i}function qr(a){var i=a.stickyOffsets,n=a.columns,s=a.flattenColumns,h=a.onHeaderRow,_=I.useContext(ut),Y=_.prefixCls,$=_.getComponent,X=I.useMemo(function(){return zr(n)},[n]),Ae=$(["header","wrapper"],"thead"),gt=$(["header","row"],"tr"),Ct=$(["header","cell"],"th");return I.createElement(Ae,{className:"".concat(Y,"-thead")},X.map(function(Lt,Ut){var or=I.createElement(ar,{key:Ut,flattenColumns:s,cells:Lt,stickyOffsets:i,rowComponent:gt,cellComponent:Ct,onHeaderRow:h,index:Ut});return or}))}var tn=qr,_n=I.createContext(null),Bn=_n;function ya(a){var i=a.prefixCls,n=a.children,s=a.component,h=a.cellComponent,_=a.fixHeader,Y=a.fixColumn,$=a.horizonScroll,X=a.className,Ae=a.expanded,gt=a.componentWidth,Ct=a.colSpan,Lt=I.useContext(ut),Ut=Lt.scrollbarSize;return I.useMemo(function(){var or=n;return Y&&(or=I.createElement("div",{style:{width:gt-(_?Ut:0),position:"sticky",left:0,overflow:"hidden"},className:"".concat(i,"-expanded-row-fixed")},or)),I.createElement(s,{className:X,style:{display:Ae?null:"none"}},I.createElement(kt,{component:h,prefixCls:i,colSpan:Ct},or))},[n,s,_,$,X,Ae,gt,Ct,Ut])}var Tr=ya;function it(a){var i=a.className,n=a.style,s=a.record,h=a.index,_=a.rowKey,Y=a.getRowKey,$=a.rowExpandable,X=a.expandedKeys,Ae=a.onRow,gt=a.indent,Ct=gt===void 0?0:gt,Lt=a.rowComponent,Ut=a.cellComponent,or=a.childrenColumnName,Cr=I.useContext(ut),sr=Cr.prefixCls,fr=Cr.fixedInfoList,_r=I.useContext(Bn),Qr=_r.fixHeader,bn=_r.fixColumn,Vn=_r.horizonScroll,Xn=_r.componentWidth,Hn=_r.flattenColumns,yn=_r.expandableType,xn=_r.expandRowByClick,Wn=_r.onTriggerExpand,Un=_r.rowClassName,pa=_r.expandedRowClassName,Zn=_r.indentSize,ka=_r.expandIcon,Bi=_r.expandedRowRender,Ki=_r.expandIconColumnIndex,Po=I.useState(!1),Zi=Object(Ie.a)(Po,2),wo=Zi[0],io=Zi[1],qo=X&&X.has(a.recordKey);I.useEffect(function(){qo&&io(!0)},[qo]);var Js=yn==="row"&&(!$||$(s)),Yo=yn==="nest",ho=or&&s&&s[or],Ni=Js||Yo,po;Ae&&(po=Ae(s,h));var li=function(Tl){if(xn&&Ni&&Wn(s,Tl),po&&po.onClick){for(var Nc,Bl=arguments.length,zp=new Array(Bl>1?Bl-1:0),is=1;is<Bl;is++)zp[is-1]=arguments[is];(Nc=po).onClick.apply(Nc,[Tl].concat(zp))}},Sa;typeof Un=="string"?Sa=Un:typeof Un=="function"&&(Sa=Un(s,h,Ct));var Xa=Me(Hn),oo=I.createElement(Lt,Object(me.a)({},po,{"data-row-key":_,className:Re()(i,"".concat(sr,"-row"),"".concat(sr,"-row-level-").concat(Ct),Sa,po&&po.className),style:Object(Pt.a)(Object(Pt.a)({},n),po?po.style:null),onClick:li}),Hn.map(function(cu,Tl){var Nc=cu.render,Bl=cu.dataIndex,zp=cu.className,is=Xa[Tl],qs=fr[Tl],el;Tl===(Ki||0)&&Yo&&(el=I.createElement(I.Fragment,null,I.createElement("span",{style:{paddingLeft:"".concat(Zn*Ct,"px")},className:"".concat(sr,"-row-indent indent-level-").concat(Ct)}),ka({prefixCls:sr,expanded:qo,expandable:ho,record:s,onExpand:Wn})));var Ts;return cu.onCell&&(Ts=cu.onCell(s,h)),I.createElement(kt,Object(me.a)({className:zp,ellipsis:cu.ellipsis,align:cu.align,component:Ut,prefixCls:sr,key:is,record:s,index:h,dataIndex:Bl,render:Nc,shouldCellUpdate:cu.shouldCellUpdate},qs,{appendNode:el,additionalProps:Ts}))})),Cs;if(Js&&(wo||qo)){var nl=Bi(s,h,Ct+1,qo),Jl=pa&&pa(s,h,Ct);Cs=I.createElement(Tr,{expanded:qo,className:Re()("".concat(sr,"-expanded-row"),"".concat(sr,"-expanded-row-level-").concat(Ct+1),Jl),prefixCls:sr,fixHeader:Qr,fixColumn:bn,horizonScroll:Vn,component:Lt,componentWidth:Xn,cellComponent:Ut,colSpan:Hn.length},nl)}var Ol;return ho&&qo&&(Ol=(s[or]||[]).map(function(cu,Tl){var Nc=Y(cu,Tl);return I.createElement(it,Object(me.a)({},a,{key:Nc,rowKey:Nc,record:cu,recordKey:Nc,index:Tl,indent:Ct+1}))})),I.createElement(I.Fragment,null,oo,Cs,Ol)}it.displayName="BodyRow";var ue=it,ge=I.createContext(null),De=ge;function Ee(a){var i=a.columnKey,n=a.onColumnResize,s=I.useRef();return I.useEffect(function(){s.current&&n(i,s.current.offsetWidth)},[]),I.createElement(Xe.a,{onResize:function(_){var Y=_.offsetWidth;n(i,Y)}},I.createElement("td",{ref:s,style:{padding:0,border:0,height:0}},I.createElement("div",{style:{height:0,overflow:"hidden"}},"\xA0")))}function be(a){var i=a.data,n=a.getRowKey,s=a.measureColumnWidth,h=a.expandedKeys,_=a.onRow,Y=a.rowExpandable,$=a.emptyNode,X=a.childrenColumnName,Ae=I.useContext(De),gt=Ae.onColumnResize,Ct=I.useContext(ut),Lt=Ct.prefixCls,Ut=Ct.getComponent,or=I.useContext(Bn),Cr=or.fixHeader,sr=or.horizonScroll,fr=or.flattenColumns,_r=or.componentWidth;return I.useMemo(function(){var Qr=Ut(["body","wrapper"],"tbody"),bn=Ut(["body","row"],"tr"),Vn=Ut(["body","cell"],"td"),Xn;i.length?Xn=i.map(function(yn,xn){var Wn=n(yn,xn);return I.createElement(ue,{key:Wn,rowKey:Wn,record:yn,recordKey:Wn,index:xn,rowComponent:bn,cellComponent:Vn,expandedKeys:h,onRow:_,getRowKey:n,rowExpandable:Y,childrenColumnName:X})}):Xn=I.createElement(Tr,{expanded:!0,className:"".concat(Lt,"-placeholder"),prefixCls:Lt,fixHeader:Cr,fixColumn:sr,horizonScroll:sr,component:bn,componentWidth:_r,cellComponent:Vn,colSpan:fr.length},$);var Hn=Me(fr);return I.createElement(Qr,{className:"".concat(Lt,"-tbody")},s&&I.createElement("tr",{"aria-hidden":"true",className:"".concat(Lt,"-measure-row"),style:{height:0,fontSize:0}},Hn.map(function(yn){return I.createElement(Ee,{key:yn,columnKey:yn,onColumnResize:gt})})),Xn)},[i,Lt,_,s,h,n,Ut,_r,$,fr])}var rt=I.memo(be);rt.displayName="Body";var de=rt,Pe=r("Zm9Q"),xe=["expandable"],Oe="RC_TABLE_INTERNAL_COL_DEFINE";function dt(a){var i=a.expandable,n=Object(S.a)(a,xe);return"expandable"in a?Object(Pt.a)(Object(Pt.a)({},n),i):n}function Gt(a){return Object.keys(a).reduce(function(i,n){return(n.substr(0,5)==="data-"||n.substr(0,5)==="aria-")&&(i[n]=a[n]),i},{})}var $t=["children"],nr=["fixed"];function lr(a){return Object(Pe.a)(a).filter(function(i){return I.isValidElement(i)}).map(function(i){var n=i.key,s=i.props,h=s.children,_=Object(S.a)(s,$t),Y=Object(Pt.a)({key:n},_);return h&&(Y.children=lr(h)),Y})}function Dr(a){return a.reduce(function(i,n){var s=n.fixed,h=s===!0?"left":s,_=n.children;return _&&_.length>0?[].concat(Object(ht.a)(i),Object(ht.a)(Dr(_).map(function(Y){return Object(Pt.a)({fixed:h},Y)}))):[].concat(Object(ht.a)(i),[Object(Pt.a)(Object(Pt.a)({},n),{},{fixed:h})])},[])}function Pr(a){for(var i=!0,n=0;n<a.length;n+=1){var s=a[n];if(i&&s.fixed!=="left")i=!1;else if(!i&&s.fixed==="left"){Object(Ot.a)(!1,"Index ".concat(n-1," of `columns` missing `fixed='left'` prop."));break}}for(var h=!0,_=a.length-1;_>=0;_-=1){var Y=a[_];if(h&&Y.fixed!=="right")h=!1;else if(!h&&Y.fixed==="right"){Object(Ot.a)(!1,"Index ".concat(_+1," of `columns` missing `fixed='right'` prop."));break}}}function Wr(a){return a.map(function(i){var n=i.fixed,s=Object(S.a)(i,nr),h=n;return n==="left"?h="right":n==="right"&&(h="left"),Object(Pt.a)({fixed:h},s)})}function an(a,i){var n=a.prefixCls,s=a.columns,h=a.children,_=a.expandable,Y=a.expandedKeys,$=a.getRowKey,X=a.onTriggerExpand,Ae=a.expandIcon,gt=a.rowExpandable,Ct=a.expandIconColumnIndex,Lt=a.direction,Ut=a.expandRowByClick,or=a.columnWidth,Cr=a.fixed,sr=I.useMemo(function(){return s||lr(h)},[s,h]),fr=I.useMemo(function(){if(_){var bn,Vn=Ct||0,Xn=sr[Vn],Hn;(Cr==="left"||Cr)&&!Ct?Hn="left":(Cr==="right"||Cr)&&Ct===sr.length?Hn="right":Hn=Xn?Xn.fixed:null;var yn=(bn={},Object(ee.a)(bn,Oe,{className:"".concat(n,"-expand-icon-col")}),Object(ee.a)(bn,"title",""),Object(ee.a)(bn,"fixed",Hn),Object(ee.a)(bn,"className","".concat(n,"-row-expand-icon-cell")),Object(ee.a)(bn,"width",or),Object(ee.a)(bn,"render",function(Un,pa,Zn){var ka=$(pa,Zn),Bi=Y.has(ka),Ki=gt?gt(pa):!0,Po=Ae({prefixCls:n,expanded:Bi,expandable:Ki,record:pa,onExpand:X});return Ut?I.createElement("span",{onClick:function(wo){return wo.stopPropagation()}},Po):Po}),bn),xn=sr.slice();return Vn>=0&&xn.splice(Vn,0,yn),xn}return sr},[_,sr,$,Y,Ae,Lt]),_r=I.useMemo(function(){var bn=fr;return i&&(bn=i(bn)),bn.length||(bn=[{render:function(){return null}}]),bn},[i,fr,Lt]),Qr=I.useMemo(function(){return Lt==="rtl"?Wr(Dr(_r)):Dr(_r)},[_r,Lt]);return[_r,Qr]}var dn=an;function Rn(a){var i=Object(I.useRef)(a),n=Object(I.useState)({}),s=Object(Ie.a)(n,2),h=s[1],_=Object(I.useRef)(null),Y=Object(I.useRef)([]);function $(X){Y.current.push(X);var Ae=Promise.resolve();_.current=Ae,Ae.then(function(){if(_.current===Ae){var gt=Y.current,Ct=i.current;Y.current=[],gt.forEach(function(Lt){i.current=Lt(i.current)}),_.current=null,Ct!==i.current&&h({})}})}return Object(I.useEffect)(function(){return function(){_.current=null}},[]),[i.current,$]}function zn(a){var i=Object(I.useRef)(a||null),n=Object(I.useRef)();function s(){window.clearTimeout(n.current)}function h(Y){i.current=Y,s(),n.current=window.setTimeout(function(){i.current=null,n.current=void 0},100)}function _(){return i.current}return Object(I.useEffect)(function(){return s},[]),[h,_]}function Qn(a,i,n){var s=Object(I.useMemo)(function(){for(var h=[],_=[],Y=0,$=0,X=0;X<i;X+=1)if(n==="rtl"){_[X]=$,$+=a[X]||0;var Ae=i-X-1;h[Ae]=Y,Y+=a[Ae]||0}else{h[X]=Y,Y+=a[X]||0;var gt=i-X-1;_[gt]=$,$+=a[gt]||0}return{left:h,right:_}},[a,i,n]);return s}var Ma=Qn;function Ca(a){for(var i=a.colWidths,n=a.columns,s=a.columCount,h=[],_=s||n.length,Y=!1,$=_-1;$>=0;$-=1){var X=i[$],Ae=n&&n[$],gt=Ae&&Ae[Oe];(X||gt||Y)&&(h.unshift(I.createElement("col",Object(me.a)({key:$,style:{width:X}},gt))),Y=!0)}return I.createElement("colgroup",null,h)}var ia=Ca;function _a(a){var i=a.className,n=a.children;return I.createElement("div",{className:i},n)}var $a=_a;function ra(a){var i=a.className,n=a.index,s=a.children,h=a.colSpan,_=h===void 0?1:h,Y=a.rowSpan,$=a.align,X=I.useContext(ut),Ae=X.prefixCls,gt=X.direction,Ct=I.useContext(Oi),Lt=Ct.scrollColumnIndex,Ut=Ct.stickyOffsets,or=Ct.flattenColumns,Cr=n+_-1,sr=Cr+1===Lt?_+1:_,fr=Ze(n,n+sr-1,or,Ut,gt);return I.createElement(kt,Object(me.a)({className:i,index:n,component:"td",prefixCls:Ae,record:null,dataIndex:null,align:$,render:function(){return{children:s,props:{colSpan:sr,rowSpan:Y}}}},fr))}var ni=["children"];function Da(a){var i=a.children,n=Object(S.a)(a,ni);return I.createElement("tr",n,i)}function Fa(a){var i=a.children;return i}Fa.Row=Da,Fa.Cell=ra;var ba=Fa,Oi=I.createContext({});function Do(a){var i=a.children,n=a.stickyOffsets,s=a.flattenColumns,h=I.useContext(ut),_=h.prefixCls,Y=s.length-1,$=s[Y],X=I.useMemo(function(){return{stickyOffsets:n,flattenColumns:s,scrollColumnIndex:($==null?void 0:$.scrollbar)?Y:null}},[$,s,Y,n]);return I.createElement(Oi.Provider,{value:X},I.createElement("tfoot",{className:"".concat(_,"-summary")},i))}var Li=Do,Ui=ba;function Na(a){var i,n=a.prefixCls,s=a.record,h=a.onExpand,_=a.expanded,Y=a.expandable,$="".concat(n,"-row-expand-icon");if(!Y)return I.createElement("span",{className:Re()($,"".concat(n,"-row-spaced"))});var X=function(gt){h(s,gt),gt.stopPropagation()};return I.createElement("span",{className:Re()($,(i={},Object(ee.a)(i,"".concat(n,"-row-expanded"),_),Object(ee.a)(i,"".concat(n,"-row-collapsed"),!_),i)),onClick:X})}function wa(a,i,n){var s=[];function h(_){(_||[]).forEach(function(Y,$){s.push(i(Y,$)),h(Y[n])})}return h(a),s}var ga=r("zT1h"),pi=r("y0+3"),_o=function(i,n){var s,h,_=i.scrollBodyRef,Y=i.onScroll,$=i.offsetScroll,X=i.container,Ae=I.useContext(ut),gt=Ae.prefixCls,Ct=((s=_.current)===null||s===void 0?void 0:s.scrollWidth)||0,Lt=((h=_.current)===null||h===void 0?void 0:h.clientWidth)||0,Ut=Ct&&Lt*(Lt/Ct),or=I.useRef(),Cr=Rn({scrollLeft:0,isHiddenScrollBar:!1}),sr=Object(Ie.a)(Cr,2),fr=sr[0],_r=sr[1],Qr=I.useRef({delta:0,x:0}),bn=I.useState(!1),Vn=Object(Ie.a)(bn,2),Xn=Vn[0],Hn=Vn[1],yn=function(){Hn(!1)},xn=function(ka){ka.persist(),Qr.current.delta=ka.pageX-fr.scrollLeft,Qr.current.x=0,Hn(!0),ka.preventDefault()},Wn=function(ka){var Bi,Ki=ka||((Bi=window)===null||Bi===void 0?void 0:Bi.event),Po=Ki.buttons;if(!Xn||Po===0){Xn&&Hn(!1);return}var Zi=Qr.current.x+ka.pageX-Qr.current.x-Qr.current.delta;Zi<=0&&(Zi=0),Zi+Ut>=Lt&&(Zi=Lt-Ut),Y({scrollLeft:Zi/Lt*(Ct+2)}),Qr.current.x=ka.pageX},Un=function(){var ka=Object(pi.b)(_.current).top,Bi=ka+_.current.offsetHeight,Ki=X===window?document.documentElement.scrollTop+window.innerHeight:Object(pi.b)(X).top+X.clientHeight;Bi-Object(xt.a)()<=Ki||ka>=Ki-$?_r(function(Po){return Object(Pt.a)(Object(Pt.a)({},Po),{},{isHiddenScrollBar:!0})}):_r(function(Po){return Object(Pt.a)(Object(Pt.a)({},Po),{},{isHiddenScrollBar:!1})})},pa=function(ka){_r(function(Bi){return Object(Pt.a)(Object(Pt.a)({},Bi),{},{scrollLeft:ka/Ct*Lt||0})})};return I.useImperativeHandle(n,function(){return{setScrollLeft:pa}}),I.useEffect(function(){var Zn=Object(ga.a)(document.body,"mouseup",yn,!1),ka=Object(ga.a)(document.body,"mousemove",Wn,!1);return Un(),function(){Zn.remove(),ka.remove()}},[Ut,Xn]),I.useEffect(function(){var Zn=Object(ga.a)(X,"scroll",Un,!1),ka=Object(ga.a)(window,"resize",Un,!1);return function(){Zn.remove(),ka.remove()}},[X]),I.useEffect(function(){fr.isHiddenScrollBar||_r(function(Zn){var ka=_.current;return ka?Object(Pt.a)(Object(Pt.a)({},Zn),{},{scrollLeft:ka.scrollLeft/ka.scrollWidth*ka.clientWidth}):Zn})},[fr.isHiddenScrollBar]),Ct<=Lt||!Ut||fr.isHiddenScrollBar?null:I.createElement("div",{style:{height:Object(xt.a)(),width:Lt,bottom:$},className:"".concat(gt,"-sticky-scroll")},I.createElement("div",{onMouseDown:xn,ref:or,className:Re()("".concat(gt,"-sticky-scroll-bar"),Object(ee.a)({},"".concat(gt,"-sticky-scroll-bar-active"),Xn)),style:{width:"".concat(Ut,"px"),transform:"translate3d(".concat(fr.scrollLeft,"px, 0, 0)")}}))},To=I.forwardRef(_o),so=r("MNnm"),vi=Object(so.a)()?window:null;function ko(a,i){var n=Object(J.a)(a)==="object"?a:{},s=n.offsetHeader,h=s===void 0?0:s,_=n.offsetSummary,Y=_===void 0?0:_,$=n.offsetScroll,X=$===void 0?0:$,Ae=n.getContainer,gt=Ae===void 0?function(){return vi}:Ae,Ct=gt()||vi;return I.useMemo(function(){var Lt=!!a;return{isSticky:Lt,stickyClassName:Lt?"".concat(i,"-sticky-holder"):"",offsetHeader:h,offsetSummary:Y,offsetScroll:X,container:Ct}},[X,h,Y,i,Ct])}var bo=["className","noData","columns","flattenColumns","colWidths","columCount","stickyOffsets","direction","fixHeader","stickyTopOffset","stickyBottomOffset","stickyClassName","onScroll","maxContentScroll","children"];function Ba(a,i){return Object(I.useMemo)(function(){for(var n=[],s=0;s<i;s+=1){var h=a[s];if(h!==void 0)n[s]=h;else return null}return n},[a.join("_"),i])}var Pa=I.forwardRef(function(a,i){var n=a.className,s=a.noData,h=a.columns,_=a.flattenColumns,Y=a.colWidths,$=a.columCount,X=a.stickyOffsets,Ae=a.direction,gt=a.fixHeader,Ct=a.stickyTopOffset,Lt=a.stickyBottomOffset,Ut=a.stickyClassName,or=a.onScroll,Cr=a.maxContentScroll,sr=a.children,fr=Object(S.a)(a,bo),_r=I.useContext(ut),Qr=_r.prefixCls,bn=_r.scrollbarSize,Vn=_r.isSticky,Xn=Vn&&!gt?0:bn,Hn=I.useRef(null),yn=I.useCallback(function(Ki){Object(K.b)(i,Ki),Object(K.b)(Hn,Ki)},[]);I.useEffect(function(){var Ki;function Po(Zi){var wo=Zi.currentTarget,io=Zi.deltaX;io&&(or({currentTarget:wo,scrollLeft:wo.scrollLeft+io}),Zi.preventDefault())}return(Ki=Hn.current)===null||Ki===void 0||Ki.addEventListener("wheel",Po),function(){var Zi;(Zi=Hn.current)===null||Zi===void 0||Zi.removeEventListener("wheel",Po)}},[]);var xn=I.useMemo(function(){return _.every(function(Ki){return Ki.width>=0})},[_]),Wn=_[_.length-1],Un={fixed:Wn?Wn.fixed:null,scrollbar:!0,onHeaderCell:function(){return{className:"".concat(Qr,"-cell-scrollbar")}}},pa=Object(I.useMemo)(function(){return Xn?[].concat(Object(ht.a)(h),[Un]):h},[Xn,h]),Zn=Object(I.useMemo)(function(){return Xn?[].concat(Object(ht.a)(_),[Un]):_},[Xn,_]),ka=Object(I.useMemo)(function(){var Ki=X.right,Po=X.left;return Object(Pt.a)(Object(Pt.a)({},X),{},{left:Ae==="rtl"?[].concat(Object(ht.a)(Po.map(function(Zi){return Zi+Xn})),[0]):Po,right:Ae==="rtl"?Ki:[].concat(Object(ht.a)(Ki.map(function(Zi){return Zi+Xn})),[0]),isSticky:Vn})},[Xn,X,Vn]),Bi=Ba(Y,$);return I.createElement("div",{style:Object(Pt.a)({overflow:"hidden"},Vn?{top:Ct,bottom:Lt}:{}),ref:yn,className:Re()(n,Object(ee.a)({},Ut,!!Ut))},I.createElement("table",{style:{tableLayout:"fixed",visibility:s||Bi?null:"hidden"}},(!s||!Cr||xn)&&I.createElement(ia,{colWidths:Bi?[].concat(Object(ht.a)(Bi),[Xn]):[],columCount:$+1,columns:Zn}),sr(Object(Pt.a)(Object(Pt.a)({},fr),{},{stickyOffsets:ka,columns:pa,flattenColumns:Zn}))))});Pa.displayName="FixedHolder";var lo=Pa,No=[],La={},mr="rc-table-internal-hook",Wt=I.memo(function(a){var i=a.children;return i},function(a,i){return nt()(a.props,i.props)?a.pingLeft!==i.pingLeft||a.pingRight!==i.pingRight:!1});function vr(a){var i,n=a.prefixCls,s=a.className,h=a.rowClassName,_=a.style,Y=a.data,$=a.rowKey,X=a.scroll,Ae=a.tableLayout,gt=a.direction,Ct=a.title,Lt=a.footer,Ut=a.summary,or=a.id,Cr=a.showHeader,sr=a.components,fr=a.emptyText,_r=a.onRow,Qr=a.onHeaderRow,bn=a.internalHooks,Vn=a.transformColumns,Xn=a.internalRefs,Hn=a.sticky,yn=Y||No,xn=!!yn.length,Wn=I.useMemo(function(){return U(sr,{})},[sr]),Un=I.useCallback(function(ec,Vc){return pe(Wn,ec)||Vc},[Wn]),pa=I.useMemo(function(){return typeof $=="function"?$:function(ec){var Vc=ec&&ec[$];return Vc}},[$]),Zn=dt(a),ka=Zn.expandIcon,Bi=Zn.expandedRowKeys,Ki=Zn.defaultExpandedRowKeys,Po=Zn.defaultExpandAllRows,Zi=Zn.expandedRowRender,wo=Zn.onExpand,io=Zn.onExpandedRowsChange,qo=Zn.expandRowByClick,Js=Zn.rowExpandable,Yo=Zn.expandIconColumnIndex,ho=Zn.expandedRowClassName,Ni=Zn.childrenColumnName,po=Zn.indentSize,li=ka||Na,Sa=Ni||"children",Xa=I.useMemo(function(){return Zi?"row":a.expandable&&bn===mr&&a.expandable.__PARENT_RENDER_ICON__||yn.some(function(ec){return ec&&Object(J.a)(ec)==="object"&&ec[Sa]})?"nest":!1},[!!Zi,yn]),oo=I.useState(function(){return Ki||(Po?wa(yn,pa,Sa):[])}),Cs=Object(Ie.a)(oo,2),nl=Cs[0],Jl=Cs[1],Ol=I.useMemo(function(){return new Set(Bi||nl||[])},[Bi,nl]),cu=I.useCallback(function(ec){var Vc=pa(ec,yn.indexOf(ec)),mp,xg=Ol.has(Vc);xg?(Ol.delete(Vc),mp=Object(ht.a)(Ol)):mp=[].concat(Object(ht.a)(Ol),[Vc]),Jl(mp),wo&&wo(!xg,ec),io&&io(mp)},[pa,Ol,yn,wo,io]),Tl=I.useState(0),Nc=Object(Ie.a)(Tl,2),Bl=Nc[0],zp=Nc[1],is=dn(Object(Pt.a)(Object(Pt.a)(Object(Pt.a)({},a),Zn),{},{expandable:!!Zi,expandedKeys:Ol,getRowKey:pa,onTriggerExpand:cu,expandIcon:li,expandIconColumnIndex:Yo,direction:gt}),bn===mr?Vn:null),qs=Object(Ie.a)(is,2),el=qs[0],Ts=qs[1],nf=I.useMemo(function(){return{columns:el,flattenColumns:Ts}},[el,Ts]),Zd=I.useRef(),qv=I.useRef(),Nd=I.useRef(),mm=I.useRef(),iv=I.useState(!1),Oh=Object(Ie.a)(iv,2),yg=Oh[0],Py=Oh[1],wy=I.useState(!1),Uc=Object(Ie.a)(wy,2),oy=Uc[0],Ty=Uc[1],Ay=Rn(new Map),Ph=Object(Ie.a)(Ay,2),Lg=Ph[0],af=Ph[1],jf=Me(Ts),Zu=jf.map(function(ec){return Lg.get(ec)}),Cf=I.useMemo(function(){return Zu},[Zu.join("_")]),kf=Ma(Cf,Ts.length,gt),Oc=X&&le(X.y),$f=X&&le(X.x)||Boolean(Zn.fixed),Vs=$f&&Ts.some(function(ec){var Vc=ec.fixed;return Vc}),bl=I.useRef(),Tu=ko(Hn,n),Au=Tu.isSticky,vp=Tu.offsetHeader,Kh=Tu.offsetSummary,jm=Tu.offsetScroll,Dg=Tu.stickyClassName,My=Tu.container,em=Ut==null?void 0:Ut(yn),_y=(Oc||Au)&&I.isValidElement(em)&&em.type===ba&&em.props.fixed,Fg,Iy,Ng;Oc&&(Iy={overflowY:"scroll",maxHeight:X.y}),$f&&(Fg={overflowX:"auto"},Oc||(Iy={overflowY:"hidden"}),Ng={width:X.x===!0?"auto":X.x,minWidth:"100%"});var o1=I.useCallback(function(ec,Vc){Object(Ye.a)(Zd.current)&&af(function(mp){if(mp.get(ec)!==Vc){var xg=new Map(mp);return xg.set(ec,Vc),xg}return mp})},[]),dd=zn(null),qu=Object(Ie.a)(dd,2),ov=qu[0],bg=qu[1];function Md(ec,Vc){!Vc||(typeof Vc=="function"?Vc(ec):Vc.scrollLeft!==ec&&(Vc.scrollLeft=ec))}var Zh=function(Vc){var mp=Vc.currentTarget,xg=Vc.scrollLeft,tE=gt==="rtl",e0=typeof xg=="number"?xg:mp.scrollLeft,HC=mp||La;if(!bg()||bg()===HC){var SC;ov(HC),Md(e0,qv.current),Md(e0,Nd.current),Md(e0,mm.current),Md(e0,(SC=bl.current)===null||SC===void 0?void 0:SC.setScrollLeft)}if(mp){var WC=mp.scrollWidth,GC=mp.clientWidth;tE?(Py(-e0<WC-GC),Ty(-e0>0)):(Py(e0>0),Ty(e0<WC-GC))}},s1=function(){Nd.current&&Zh({currentTarget:Nd.current})},ZC=function(Vc){var mp=Vc.width;mp!==Bl&&(s1(),zp(Zd.current?Zd.current.offsetWidth:mp))};I.useEffect(function(){return s1},[]),I.useEffect(function(){$f&&s1()},[$f]);var YC=I.useState(0),jC=Object(Ie.a)(YC,2),mx=jC[0],$C=jC[1];I.useEffect(function(){$C(Object(xt.b)(Nd.current).width)},[]),I.useEffect(function(){bn===mr&&Xn&&(Xn.body.current=Nd.current)});var kC=Un(["table"],"table"),gx=I.useMemo(function(){return Ae||(Vs?X.x==="max-content"?"auto":"fixed":Oc||Au||Ts.some(function(ec){var Vc=ec.ellipsis;return Vc})?"fixed":"auto")},[Oc,Vs,Ts,Ae,Au]),bC,xC={colWidths:Cf,columCount:Ts.length,stickyOffsets:kf,onHeaderRow:Qr,fixHeader:Oc,scroll:X},XC=I.useMemo(function(){return xn?null:typeof fr=="function"?fr():fr},[xn,fr]),BC=I.createElement(de,{data:yn,measureColumnWidth:Oc||$f||Au,expandedKeys:Ol,rowExpandable:Js,getRowKey:pa,onRow:_r,emptyNode:XC,childrenColumnName:Sa}),zC=I.createElement(ia,{colWidths:Ts.map(function(ec){var Vc=ec.width;return Vc}),columns:Ts}),UC=Un(["body"]);if(Oc||Au){var CC;typeof UC=="function"?(CC=UC(yn,{scrollbarSize:mx,ref:Nd,onScroll:Zh}),xC.colWidths=Ts.map(function(ec,Vc){var mp=ec.width,xg=Vc===el.length-1?mp-mx:mp;return typeof xg=="number"&&!Number.isNaN(xg)?xg:(Object(Ot.a)(!1,"When use `components.body` with render props. Each column should have a fixed `width` value."),0)})):CC=I.createElement("div",{style:Object(Pt.a)(Object(Pt.a)({},Fg),Iy),onScroll:Zh,ref:Nd,className:Re()("".concat(n,"-body"))},I.createElement(kC,{style:Object(Pt.a)(Object(Pt.a)({},Ng),{},{tableLayout:gx})},zC,BC,!_y&&em&&I.createElement(Li,{stickyOffsets:kf,flattenColumns:Ts},em)));var VC=Object(Pt.a)(Object(Pt.a)(Object(Pt.a)({noData:!yn.length,maxContentScroll:$f&&X.x==="max-content"},xC),nf),{},{direction:gt,stickyClassName:Dg,onScroll:Zh});bC=I.createElement(I.Fragment,null,Cr!==!1&&I.createElement(lo,Object(me.a)({},VC,{stickyTopOffset:vp,className:"".concat(n,"-header"),ref:qv}),function(ec){return I.createElement(tn,ec)}),CC,_y&&I.createElement(lo,Object(me.a)({},VC,{stickyBottomOffset:Kh,className:"".concat(n,"-summary"),ref:mm}),function(ec){return I.createElement(Li,ec,em)}),Au&&I.createElement(To,{ref:bl,offsetScroll:jm,scrollBodyRef:Nd,onScroll:Zh,container:My}))}else bC=I.createElement("div",{style:Object(Pt.a)(Object(Pt.a)({},Fg),Iy),className:Re()("".concat(n,"-content")),onScroll:Zh,ref:Nd},I.createElement(kC,{style:Object(Pt.a)(Object(Pt.a)({},Ng),{},{tableLayout:gx})},zC,Cr!==!1&&I.createElement(tn,Object(me.a)({},xC,nf)),BC,em&&I.createElement(Li,{stickyOffsets:kf,flattenColumns:Ts},em)));var QC=Gt(a),EC=I.createElement("div",Object(me.a)({className:Re()(n,s,(i={},Object(ee.a)(i,"".concat(n,"-rtl"),gt==="rtl"),Object(ee.a)(i,"".concat(n,"-ping-left"),yg),Object(ee.a)(i,"".concat(n,"-ping-right"),oy),Object(ee.a)(i,"".concat(n,"-layout-fixed"),Ae==="fixed"),Object(ee.a)(i,"".concat(n,"-fixed-header"),Oc),Object(ee.a)(i,"".concat(n,"-fixed-column"),Vs),Object(ee.a)(i,"".concat(n,"-scroll-horizontal"),$f),Object(ee.a)(i,"".concat(n,"-has-fix-left"),Ts[0]&&Ts[0].fixed),Object(ee.a)(i,"".concat(n,"-has-fix-right"),Ts[Ts.length-1]&&Ts[Ts.length-1].fixed==="right"),i)),style:_,id:or,ref:Zd},QC),I.createElement(Wt,{pingLeft:yg,pingRight:oy,props:Object(Pt.a)(Object(Pt.a)({},a),{},{stickyOffsets:kf,mergedExpandedKeys:Ol})},Ct&&I.createElement($a,{className:"".concat(n,"-title")},Ct(yn)),I.createElement("div",{className:"".concat(n,"-container")},bC),Lt&&I.createElement($a,{className:"".concat(n,"-footer")},Lt(yn))));$f&&(EC=I.createElement(Xe.a,{onResize:ZC},EC));var JC=I.useMemo(function(){return{prefixCls:n,getComponent:Un,scrollbarSize:mx,direction:gt,fixedInfoList:Ts.map(function(ec,Vc){return Ze(Vc,Vc,Ts,kf,gt)}),isSticky:Au}},[n,Un,mx,gt,Ts,kf,gt,Au]),qC=I.useMemo(function(){return Object(Pt.a)(Object(Pt.a)({},nf),{},{tableLayout:gx,rowClassName:h,expandedRowClassName:ho,componentWidth:Bl,fixHeader:Oc,fixColumn:Vs,horizonScroll:$f,expandIcon:li,expandableType:Xa,expandRowByClick:qo,expandedRowRender:Zi,onTriggerExpand:cu,expandIconColumnIndex:Yo,indentSize:po})},[nf,gx,h,ho,Bl,Oc,Vs,$f,li,Xa,qo,Zi,cu,Yo,po]),eE=I.useMemo(function(){return{onColumnResize:o1}},[o1]);return I.createElement(ut.Provider,{value:JC},I.createElement(Bn.Provider,{value:qC},I.createElement(De.Provider,{value:eE},EC)))}vr.Column=q,vr.ColumnGroup=B,vr.Summary=Ui,vr.defaultProps={rowKey:"key",prefixCls:"rc-table",emptyText:function(){return"No Data"}};var un=vr,va=un,qa=r("W9HT"),mi=r("NUBc"),ys=r("H84U"),cl=function(a,i){var n={};for(var s in a)Object.prototype.hasOwnProperty.call(a,s)&&i.indexOf(s)<0&&(n[s]=a[s]);if(a!=null&&typeof Object.getOwnPropertySymbols=="function")for(var h=0,s=Object.getOwnPropertySymbols(a);h<s.length;h++)i.indexOf(s[h])<0&&Object.prototype.propertyIsEnumerable.call(a,s[h])&&(n[s[h]]=a[s[h]]);return n},gl=10;function Es(a,i){var n={current:i.current,pageSize:i.pageSize},s=a&&Object(J.a)(a)==="object"?a:{};return Object.keys(s).forEach(function(h){var _=i[h];typeof _!="function"&&(n[h]=_)}),n}function tl(){for(var a={},i=arguments.length,n=new Array(i),s=0;s<i;s++)n[s]=arguments[s];return n.forEach(function(h){h&&Object.keys(h).forEach(function(_){var Y=h[_];Y!==void 0&&(a[_]=Y)})}),a}function fu(a,i,n){var s=i&&Object(J.a)(i)==="object"?i:{},h=s.total,_=h===void 0?0:h,Y=cl(s,["total"]),$=Object(I.useState)(function(){return{current:"defaultCurrent"in Y?Y.defaultCurrent:1,pageSize:"defaultPageSize"in Y?Y.defaultPageSize:gl}}),X=Object(Ie.a)($,2),Ae=X[0],gt=X[1],Ct=tl(Ae,Y,{total:_>0?_:a}),Lt=Math.ceil((_||a)/Ct.pageSize);Ct.current>Lt&&(Ct.current=Lt||1);var Ut=function(){var sr=arguments.length>0&&arguments[0]!==void 0?arguments[0]:1,fr=arguments.length>1?arguments[1]:void 0;gt({current:sr,pageSize:fr||Ct.pageSize})},or=function(sr,fr){var _r;i&&((_r=i.onChange)===null||_r===void 0||_r.call(i,sr,fr)),Ut(sr,fr),n(sr,fr||(Ct==null?void 0:Ct.pageSize))};return i===!1?[{},function(){}]:[Object(me.a)(Object(me.a)({},Ct),{onChange:or}),Ut]}function vc(a,i,n){var s=I.useRef({});function h(_){if(!s.current||s.current.data!==a||s.current.childrenColumnName!==i||s.current.getRowKey!==n){var Y=function X(Ae){Ae.forEach(function(gt,Ct){var Lt=n(gt,Ct);$.set(Lt,gt),gt&&Object(J.a)(gt)==="object"&&i in gt&&X(gt[i]||[])})},$=new Map;Y(a),s.current={data:a,childrenColumnName:i,kvMap:$,getRowKey:n}}return s.current.kvMap.get(_)}return[h]}var of=r("T5bk"),ku=r("8Skl"),Wl=r("1OyB"),ql=r("vuIU"),al=r("JX7q"),du=r("Ji7U"),Bu=r("LK+K"),Hc=I.createContext(null),ps=function(i){for(var n=i.prefixCls,s=i.level,h=i.isStart,_=i.isEnd,Y="".concat(n,"-indent-unit"),$=[],X=0;X<s;X+=1){var Ae;$.push(I.createElement("span",{key:X,className:Re()(Y,(Ae={},Object(ee.a)(Ae,"".concat(Y,"-start"),h[X]),Object(ee.a)(Ae,"".concat(Y,"-end"),_[X]),Ae))}))}return I.createElement("span",{"aria-hidden":"true",className:"".concat(n,"-indent")},$)},Bs=ps,tu=["eventKey","className","style","dragOver","dragOverGapTop","dragOverGapBottom","isLeaf","isStart","isEnd","expanded","selected","checked","halfChecked","loading","domRef","active","data","onMouseMove"],il="open",fl="close",Yh="---",Fr=function(a){Object(du.a)(n,a);var i=Object(Bu.a)(n);function n(){var s;Object(Wl.a)(this,n);for(var h=arguments.length,_=new Array(h),Y=0;Y<h;Y++)_[Y]=arguments[Y];return s=i.call.apply(i,[this].concat(_)),s.state={dragNodeHighlight:!1},s.selectHandle=void 0,s.onSelectorClick=function($){var X=s.props.context.onNodeClick;X($,Ms(s.props)),s.isSelectable()?s.onSelect($):s.onCheck($)},s.onSelectorDoubleClick=function($){var X=s.props.context.onNodeDoubleClick;X($,Ms(s.props))},s.onSelect=function($){if(!s.isDisabled()){var X=s.props.context.onNodeSelect;$.preventDefault(),X($,Ms(s.props))}},s.onCheck=function($){if(!s.isDisabled()){var X=s.props,Ae=X.disableCheckbox,gt=X.checked,Ct=s.props.context.onNodeCheck;if(!(!s.isCheckable()||Ae)){$.preventDefault();var Lt=!gt;Ct($,Ms(s.props),Lt)}}},s.onMouseEnter=function($){var X=s.props.context.onNodeMouseEnter;X($,Ms(s.props))},s.onMouseLeave=function($){var X=s.props.context.onNodeMouseLeave;X($,Ms(s.props))},s.onContextMenu=function($){var X=s.props.context.onNodeContextMenu;X($,Ms(s.props))},s.onDragStart=function($){var X=s.props.context.onNodeDragStart;$.stopPropagation(),s.setState({dragNodeHighlight:!0}),X($,Object(al.a)(s));try{$.dataTransfer.setData("text/plain","")}catch(Ae){}},s.onDragEnter=function($){var X=s.props.context.onNodeDragEnter;$.preventDefault(),$.stopPropagation(),X($,Object(al.a)(s))},s.onDragOver=function($){var X=s.props.context.onNodeDragOver;$.preventDefault(),$.stopPropagation(),X($,Object(al.a)(s))},s.onDragLeave=function($){var X=s.props.context.onNodeDragLeave;$.stopPropagation(),X($,Object(al.a)(s))},s.onDragEnd=function($){var X=s.props.context.onNodeDragEnd;$.stopPropagation(),s.setState({dragNodeHighlight:!1}),X($,Object(al.a)(s))},s.onDrop=function($){var X=s.props.context.onNodeDrop;$.preventDefault(),$.stopPropagation(),s.setState({dragNodeHighlight:!1}),X($,Object(al.a)(s))},s.onExpand=function($){var X=s.props,Ae=X.loading,gt=X.context.onNodeExpand;Ae||gt($,Ms(s.props))},s.setSelectHandle=function($){s.selectHandle=$},s.getNodeState=function(){var $=s.props.expanded;return s.isLeaf()?null:$?il:fl},s.hasChildren=function(){var $=s.props.eventKey,X=s.props.context.keyEntities,Ae=X[$]||{},gt=Ae.children;return!!(gt||[]).length},s.isLeaf=function(){var $=s.props,X=$.isLeaf,Ae=$.loaded,gt=s.props.context.loadData,Ct=s.hasChildren();return X===!1?!1:X||!gt&&!Ct||gt&&Ae&&!Ct},s.isDisabled=function(){var $=s.props.disabled,X=s.props.context.disabled;return!!(X||$)},s.isCheckable=function(){var $=s.props.checkable,X=s.props.context.checkable;return!X||$===!1?!1:X},s.syncLoadData=function($){var X=$.expanded,Ae=$.loading,gt=$.loaded,Ct=s.props.context,Lt=Ct.loadData,Ut=Ct.onNodeLoad;Ae||Lt&&X&&!s.isLeaf()&&!s.hasChildren()&&!gt&&Ut(Ms(s.props))},s.renderSwitcherIconDom=function($){var X=s.props.switcherIcon,Ae=s.props.context.switcherIcon,gt=X||Ae;return typeof gt=="function"?gt(Object(Pt.a)(Object(Pt.a)({},s.props),{},{isLeaf:$})):gt},s.renderSwitcher=function(){var $=s.props.expanded,X=s.props.context.prefixCls;if(s.isLeaf()){var Ae=s.renderSwitcherIconDom(!0);return Ae!==!1?I.createElement("span",{className:Re()("".concat(X,"-switcher"),"".concat(X,"-switcher-noop"))},Ae):null}var gt=Re()("".concat(X,"-switcher"),"".concat(X,"-switcher_").concat($?il:fl)),Ct=s.renderSwitcherIconDom(!1);return Ct!==!1?I.createElement("span",{onClick:s.onExpand,className:gt},Ct):null},s.renderCheckbox=function(){var $=s.props,X=$.checked,Ae=$.halfChecked,gt=$.disableCheckbox,Ct=s.props.context.prefixCls,Lt=s.isDisabled(),Ut=s.isCheckable();if(!Ut)return null;var or=typeof Ut!="boolean"?Ut:null;return I.createElement("span",{className:Re()("".concat(Ct,"-checkbox"),X&&"".concat(Ct,"-checkbox-checked"),!X&&Ae&&"".concat(Ct,"-checkbox-indeterminate"),(Lt||gt)&&"".concat(Ct,"-checkbox-disabled")),onClick:s.onCheck},or)},s.renderIcon=function(){var $=s.props.loading,X=s.props.context.prefixCls;return I.createElement("span",{className:Re()("".concat(X,"-iconEle"),"".concat(X,"-icon__").concat(s.getNodeState()||"docu"),$&&"".concat(X,"-icon_loading"))})},s.renderSelector=function(){var $=s.state.dragNodeHighlight,X=s.props,Ae=X.title,gt=X.selected,Ct=X.icon,Lt=X.loading,Ut=X.data,or=s.props.context,Cr=or.prefixCls,sr=or.showIcon,fr=or.icon,_r=or.draggable,Qr=or.loadData,bn=or.titleRender,Vn=s.isDisabled(),Xn=typeof _r=="function"?_r(Ut):_r,Hn="".concat(Cr,"-node-content-wrapper"),yn;if(sr){var xn=Ct||fr;yn=xn?I.createElement("span",{className:Re()("".concat(Cr,"-iconEle"),"".concat(Cr,"-icon__customize"))},typeof xn=="function"?xn(s.props):xn):s.renderIcon()}else Qr&&Lt&&(yn=s.renderIcon());var Wn;typeof Ae=="function"?Wn=Ae(Ut):bn?Wn=bn(Ut):Wn=Ae;var Un=I.createElement("span",{className:"".concat(Cr,"-title")},Wn);return I.createElement("span",{ref:s.setSelectHandle,title:typeof Ae=="string"?Ae:"",className:Re()("".concat(Hn),"".concat(Hn,"-").concat(s.getNodeState()||"normal"),!Vn&&(gt||$)&&"".concat(Cr,"-node-selected"),!Vn&&Xn&&"draggable"),draggable:!Vn&&Xn||void 0,"aria-grabbed":!Vn&&Xn||void 0,onMouseEnter:s.onMouseEnter,onMouseLeave:s.onMouseLeave,onContextMenu:s.onContextMenu,onClick:s.onSelectorClick,onDoubleClick:s.onSelectorDoubleClick,onDragStart:Xn?s.onDragStart:void 0},yn,Un,s.renderDropIndicator())},s.renderDropIndicator=function(){var $=s.props,X=$.disabled,Ae=$.eventKey,gt=s.props.context,Ct=gt.draggable,Lt=gt.dropLevelOffset,Ut=gt.dropPosition,or=gt.prefixCls,Cr=gt.indent,sr=gt.dropIndicatorRender,fr=gt.dragOverNodeKey,_r=gt.direction,Qr=Ct!==!1,bn=!X&&Qr&&fr===Ae;return bn?sr({dropPosition:Ut,dropLevelOffset:Lt,indent:Cr,prefixCls:or,direction:_r}):null},s}return Object(ql.a)(n,[{key:"componentDidMount",value:function(){this.syncLoadData(this.props)}},{key:"componentDidUpdate",value:function(){this.syncLoadData(this.props)}},{key:"isSelectable",value:function(){var h=this.props.selectable,_=this.props.context.selectable;return typeof h=="boolean"?h:_}},{key:"render",value:function(){var h,_=this.props,Y=_.eventKey,$=_.className,X=_.style,Ae=_.dragOver,gt=_.dragOverGapTop,Ct=_.dragOverGapBottom,Lt=_.isLeaf,Ut=_.isStart,or=_.isEnd,Cr=_.expanded,sr=_.selected,fr=_.checked,_r=_.halfChecked,Qr=_.loading,bn=_.domRef,Vn=_.active,Xn=_.data,Hn=_.onMouseMove,yn=Object(S.a)(_,tu),xn=this.props.context,Wn=xn.prefixCls,Un=xn.filterTreeNode,pa=xn.draggable,Zn=xn.keyEntities,ka=xn.dropContainerKey,Bi=xn.dropTargetKey,Ki=this.isDisabled(),Po=Hs(yn),Zi=Zn[Y]||{},wo=Zi.level,io=or[or.length-1],qo=typeof pa=="function"?pa(Xn):pa;return I.createElement("div",Object(me.a)({ref:bn,className:Re()($,"".concat(Wn,"-treenode"),(h={},Object(ee.a)(h,"".concat(Wn,"-treenode-disabled"),Ki),Object(ee.a)(h,"".concat(Wn,"-treenode-switcher-").concat(Cr?"open":"close"),!Lt),Object(ee.a)(h,"".concat(Wn,"-treenode-checkbox-checked"),fr),Object(ee.a)(h,"".concat(Wn,"-treenode-checkbox-indeterminate"),_r),Object(ee.a)(h,"".concat(Wn,"-treenode-selected"),sr),Object(ee.a)(h,"".concat(Wn,"-treenode-loading"),Qr),Object(ee.a)(h,"".concat(Wn,"-treenode-active"),Vn),Object(ee.a)(h,"".concat(Wn,"-treenode-leaf-last"),io),Object(ee.a)(h,"drop-target",Bi===Y),Object(ee.a)(h,"drop-container",ka===Y),Object(ee.a)(h,"drag-over",!Ki&&Ae),Object(ee.a)(h,"drag-over-gap-top",!Ki&&gt),Object(ee.a)(h,"drag-over-gap-bottom",!Ki&&Ct),Object(ee.a)(h,"filter-node",Un&&Un(Ms(this.props))),h)),style:X,onDragEnter:qo?this.onDragEnter:void 0,onDragOver:qo?this.onDragOver:void 0,onDragLeave:qo?this.onDragLeave:void 0,onDrop:qo?this.onDrop:void 0,onDragEnd:qo?this.onDragEnd:void 0,onMouseMove:Hn},Po),I.createElement(Bs,{prefixCls:Wn,level:wo,isStart:Ut,isEnd:or}),this.renderSwitcher(),this.renderCheckbox(),this.renderSelector())}}]),n}(I.Component),Sn=function(i){return I.createElement(Hc.Consumer,null,function(n){return I.createElement(Fr,Object(me.a)({},i,{context:n}))})};Sn.displayName="TreeNode",Sn.defaultProps={title:Yh},Sn.isTreeNode=1;var Jn=Sn,xo=["children"];function w(a,i){var n=a.slice(),s=n.indexOf(i);return s>=0&&n.splice(s,1),n}function re(a,i){var n=a.slice();return n.indexOf(i)===-1&&n.push(i),n}function Qe(a){return a.split("-")}function Se(a,i){return"".concat(a,"-").concat(i)}function jt(a){return a&&a.type&&a.type.isTreeNode}function br(a,i){var n=[],s=i[a];function h(){var _=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];_.forEach(function(Y){var $=Y.key,X=Y.children;n.push($),h(X)})}return h(s.children),n}function Yr(a){if(a.parent){var i=Qe(a.pos);return Number(i[i.length-1])===a.parent.children.length-1}return!1}function fn(a){var i=Qe(a.pos);return Number(i[i.length-1])===0}function En(a,i,n,s,h,_,Y,$,X,Ae){var gt,Ct=a.clientX,Lt=a.clientY,Ut=a.target.getBoundingClientRect(),or=Ut.top,Cr=Ut.height,sr=(Ae==="rtl"?-1:1)*(((h==null?void 0:h.x)||0)-Ct),fr=(sr-12)/s,_r=$[n.props.eventKey];if(Lt<or+Cr/2){var Qr=Y.findIndex(function(ka){return ka.data.key===_r.key}),bn=Qr<=0?0:Qr-1,Vn=Y[bn].data.key;_r=$[Vn]}var Xn=_r.key,Hn=_r,yn=_r.key,xn=0,Wn=0;if(!X.includes(Xn))for(var Un=0;Un<fr&&Yr(_r);Un+=1)_r=_r.parent,Wn+=1;var pa=_r.node,Zn=!0;return fn(_r)&&_r.level===0&&Lt<or+Cr/2&&_({dropNode:pa,dropPosition:-1})&&_r.key===n.props.eventKey?xn=-1:(Hn.children||[]).length&&X.includes(yn)?_({dropNode:pa,dropPosition:0})?xn=0:Zn=!1:Wn===0?fr>-1.5?_({dropNode:pa,dropPosition:1})?xn=1:Zn=!1:_({dropNode:pa,dropPosition:0})?xn=0:_({dropNode:pa,dropPosition:1})?xn=1:Zn=!1:_({dropNode:pa,dropPosition:1})?xn=1:Zn=!1,{dropPosition:xn,dropLevelOffset:Wn,dropTargetKey:_r.key,dropTargetPos:_r.pos,dragOverNodeKey:yn,dropContainerKey:xn===0?null:((gt=_r.parent)===null||gt===void 0?void 0:gt.key)||null,dropAllowed:Zn}}function ma(a,i){if(!!a){var n=i.multiple;return n?a.slice():a.length?[a[0]]:a}}var Ia=function(i){return i};function Co(a,i){if(!a)return[];var n=i||{},s=n.processProps,h=s===void 0?Ia:s,_=Array.isArray(a)?a:[a];return _.map(function(Y){var $=Y.children,X=Object(S.a)(Y,xo),Ae=Co($,i);return Ce.a.createElement(Jn,h(X),Ae)})}function $o(a){if(!a)return null;var i;if(Array.isArray(a))i={checkedKeys:a,halfCheckedKeys:void 0};else if(Object(J.a)(a)==="object")i={checkedKeys:a.checked||void 0,halfCheckedKeys:a.halfChecked||void 0};else return Object(Ot.a)(!1,"`checkedKeys` is not an array or an object"),null;return i}function Zo(a,i){var n=new Set;function s(h){if(!n.has(h)){var _=i[h];if(!!_){n.add(h);var Y=_.parent,$=_.node;$.disabled||Y&&s(Y.key)}}}return(a||[]).forEach(function(h){s(h)}),Object(ht.a)(n)}function Hs(a){var i={};return Object.keys(a).forEach(function(n){(n.startsWith("data-")||n.startsWith("aria-"))&&(i[n]=a[n])}),i}var ms=["children"];function Ws(a,i){return a!=null?a:i}function zu(){var a=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],i=new Map;function n(s){var h=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"";(s||[]).forEach(function(_){var Y=_.key,$=_.children;Object(Ot.a)(Y!=null,"Tree node must have a certain key: [".concat(h).concat(Y,"]"));var X=String(Y);Object(Ot.a)(!i.has(X)||Y===null||Y===void 0,"Same 'key' exist in the Tree: ".concat(X)),i.set(X,!0),n($,"".concat(h).concat(X," > "))})}n(a)}function Pc(a){function i(n){var s=Object(Pe.a)(n);return s.map(function(h){if(!jt(h))return Object(Ot.a)(!h,"Tree/TreeNode can only accept TreeNode as children."),null;var _=h.key,Y=h.props,$=Y.children,X=Object(S.a)(Y,ms),Ae=Object(Pt.a)({key:_},X),gt=i($);return gt.length&&(Ae.children=gt),Ae}).filter(function(h){return h})}return i(a)}function Ys(){var a=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],n=new Set(i===!0?[]:i),s=[];function h(_){var Y=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;return _.map(function($,X){var Ae=Se(Y?Y.pos:"0",X),gt=Ws($.key,Ae),Ct=Object(Pt.a)(Object(Pt.a)({},$),{},{parent:Y,pos:Ae,children:null,data:$,isStart:[].concat(Object(ht.a)(Y?Y.isStart:[]),[X===0]),isEnd:[].concat(Object(ht.a)(Y?Y.isEnd:[]),[X===_.length-1])});return s.push(Ct),i===!0||n.has(gt)?Ct.children=h($.children||[],Ct):Ct.children=[],Ct})}return h(a),s}function Ef(a,i,n){var s=null,h,_=Object(J.a)(n);_==="function"||_==="string"?s=n:n&&_==="object"&&(h=n.childrenPropName,s=n.externalGetKey),h=h||"children";var Y;s?typeof s=="string"?Y=function(Ae){return Ae[s]}:typeof s=="function"&&(Y=function(Ae){return s(Ae)}):Y=function(Ae,gt){return Ws(Ae.key,gt)};function $(X,Ae,gt){var Ct=X?X[h]:a,Lt=X?Se(gt.pos,Ae):"0";if(X){var Ut=Y(X,Lt),or={node:X,index:Ae,pos:Lt,key:Ut,parentPos:gt.node?gt.pos:null,level:gt.level+1};i(or)}Ct&&Ct.forEach(function(Cr,sr){$(Cr,sr,{node:X,pos:Lt,level:gt?gt.level+1:-1})})}$(null)}function hd(a){var i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},n=i.initWrapper,s=i.processEntity,h=i.onProcessFinished,_=i.externalGetKey,Y=i.childrenPropName,$=arguments.length>2?arguments[2]:void 0,X=_||$,Ae={},gt={},Ct={posEntities:Ae,keyEntities:gt};return n&&(Ct=n(Ct)||Ct),Ef(a,function(Lt){var Ut=Lt.node,or=Lt.index,Cr=Lt.pos,sr=Lt.key,fr=Lt.parentPos,_r=Lt.level,Qr={node:Ut,index:or,key:sr,pos:Cr,level:_r},bn=Ws(sr,Cr);Ae[Cr]=Qr,gt[bn]=Qr,Qr.parent=Ae[fr],Qr.parent&&(Qr.parent.children=Qr.parent.children||[],Qr.parent.children.push(Qr)),s&&s(Qr,Ct)},{externalGetKey:X,childrenPropName:Y}),h&&h(Ct),Ct}function Bf(a,i){var n=i.expandedKeys,s=i.selectedKeys,h=i.loadedKeys,_=i.loadingKeys,Y=i.checkedKeys,$=i.halfCheckedKeys,X=i.dragOverNodeKey,Ae=i.dropPosition,gt=i.keyEntities,Ct=gt[a],Lt={eventKey:a,expanded:n.indexOf(a)!==-1,selected:s.indexOf(a)!==-1,loaded:h.indexOf(a)!==-1,loading:_.indexOf(a)!==-1,checked:Y.indexOf(a)!==-1,halfChecked:$.indexOf(a)!==-1,pos:String(Ct?Ct.pos:""),dragOver:X===a&&Ae===0,dragOverGapTop:X===a&&Ae===-1,dragOverGapBottom:X===a&&Ae===1};return Lt}function Ms(a){var i=a.data,n=a.expanded,s=a.selected,h=a.checked,_=a.loaded,Y=a.loading,$=a.halfChecked,X=a.dragOver,Ae=a.dragOverGapTop,gt=a.dragOverGapBottom,Ct=a.pos,Lt=a.active,Ut=Object(Pt.a)(Object(Pt.a)({},i),{},{expanded:n,selected:s,checked:h,loaded:_,loading:Y,halfChecked:$,dragOver:X,dragOverGapTop:Ae,dragOverGapBottom:gt,pos:Ct,active:Lt});return"props"in Ut||Object.defineProperty(Ut,"props",{get:function(){return Object(Ot.a)(!1,"Second param return from event is node data instead of TreeNode instance. Please read value directly instead of reading from `props`."),a}}),Ut}function zf(a,i){var n=new Set;return a.forEach(function(s){i.has(s)||n.add(s)}),n}function wh(a){var i=a||{},n=i.disabled,s=i.disableCheckbox,h=i.checkable;return!!(n||s)||h===!1}function _d(a,i,n,s){for(var h=new Set(a),_=new Set,Y=0;Y<=n;Y+=1){var $=i.get(Y)||new Set;$.forEach(function(Ct){var Lt=Ct.key,Ut=Ct.node,or=Ct.children,Cr=or===void 0?[]:or;h.has(Lt)&&!s(Ut)&&Cr.filter(function(sr){return!s(sr.node)}).forEach(function(sr){h.add(sr.key)})})}for(var X=new Set,Ae=n;Ae>=0;Ae-=1){var gt=i.get(Ae)||new Set;gt.forEach(function(Ct){var Lt=Ct.parent,Ut=Ct.node;if(!(s(Ut)||!Ct.parent||X.has(Ct.parent.key))){if(s(Ct.parent.node)){X.add(Lt.key);return}var or=!0,Cr=!1;(Lt.children||[]).filter(function(sr){return!s(sr.node)}).forEach(function(sr){var fr=sr.key,_r=h.has(fr);or&&!_r&&(or=!1),!Cr&&(_r||_.has(fr))&&(Cr=!0)}),or&&h.add(Lt.key),Cr&&_.add(Lt.key),X.add(Lt.key)}})}return{checkedKeys:Array.from(h),halfCheckedKeys:Array.from(zf(_,h))}}function zl(a,i,n,s,h){for(var _=new Set(a),Y=new Set(i),$=0;$<=s;$+=1){var X=n.get($)||new Set;X.forEach(function(Lt){var Ut=Lt.key,or=Lt.node,Cr=Lt.children,sr=Cr===void 0?[]:Cr;!_.has(Ut)&&!Y.has(Ut)&&!h(or)&&sr.filter(function(fr){return!h(fr.node)}).forEach(function(fr){_.delete(fr.key)})})}Y=new Set;for(var Ae=new Set,gt=s;gt>=0;gt-=1){var Ct=n.get(gt)||new Set;Ct.forEach(function(Lt){var Ut=Lt.parent,or=Lt.node;if(!(h(or)||!Lt.parent||Ae.has(Lt.parent.key))){if(h(Lt.parent.node)){Ae.add(Ut.key);return}var Cr=!0,sr=!1;(Ut.children||[]).filter(function(fr){return!h(fr.node)}).forEach(function(fr){var _r=fr.key,Qr=_.has(_r);Cr&&!Qr&&(Cr=!1),!sr&&(Qr||Y.has(_r))&&(sr=!0)}),Cr||_.delete(Ut.key),sr&&Y.add(Ut.key),Ae.add(Ut.key)}})}return{checkedKeys:Array.from(_),halfCheckedKeys:Array.from(zf(Y,_))}}function Uf(a,i,n,s){var h=[],_;s?_=s:_=wh;var Y=new Set(a.filter(function(gt){var Ct=!!n[gt];return Ct||h.push(gt),Ct})),$=new Map,X=0;Object.keys(n).forEach(function(gt){var Ct=n[gt],Lt=Ct.level,Ut=$.get(Lt);Ut||(Ut=new Set,$.set(Lt,Ut)),Ut.add(Ct),X=Math.max(X,Lt)}),Object(Ot.a)(!h.length,"Tree missing follow keys: ".concat(h.slice(0,100).map(function(gt){return"'".concat(gt,"'")}).join(", ")));var Ae;return i===!0?Ae=_d(Y,$,X,_):Ae=zl(Y,i.halfCheckedKeys,$,X,_),Ae}var $h=r("kaz8"),Sf=r("jsC+"),Gl=r("BvKs"),Wc=r("9yH6"),mc=r("uaoM"),pd="SELECT_ALL",Vf="SELECT_INVERT",Gc="SELECT_NONE";function vd(a){return a&&a.fixed}function Ll(a,i){var n=[];return(a||[]).forEach(function(s){n.push(s),s&&Object(J.a)(s)==="object"&&i in s&&(n=[].concat(Object(ht.a)(n),Object(ht.a)(Ll(s[i],i))))}),n}function Yd(a,i){var n=a||{},s=n.preserveSelectedRowKeys,h=n.selectedRowKeys,_=n.defaultSelectedRowKeys,Y=n.getCheckboxProps,$=n.onChange,X=n.onSelect,Ae=n.onSelectAll,gt=n.onSelectInvert,Ct=n.onSelectNone,Lt=n.onSelectMultiple,Ut=n.columnWidth,or=n.type,Cr=n.selections,sr=n.fixed,fr=n.renderCell,_r=n.hideSelectAll,Qr=n.checkStrictly,bn=Qr===void 0?!0:Qr,Vn=i.prefixCls,Xn=i.data,Hn=i.pageData,yn=i.getRecordByKey,xn=i.getRowKey,Wn=i.expandType,Un=i.childrenColumnName,pa=i.locale,Zn=i.expandIconColumnIndex,ka=i.getPopupContainer,Bi=Object(We.a)(h||_||[],{value:h}),Ki=Object(Ie.a)(Bi,2),Po=Ki[0],Zi=Ki[1],wo=I.useRef(new Map),io=Object(I.useCallback)(function(is){if(s){var qs=new Map;is.forEach(function(el){var Ts=yn(el);!Ts&&wo.current.has(el)&&(Ts=wo.current.get(el)),qs.set(el,Ts)}),wo.current=qs}},[yn,s]);I.useEffect(function(){io(Po)},[Po]);var qo=Object(I.useMemo)(function(){return bn?{keyEntities:null}:hd(Xn,{externalGetKey:xn,childrenPropName:Un})},[Xn,xn,bn,Un]),Js=qo.keyEntities,Yo=Object(I.useMemo)(function(){return Ll(Hn,Un)},[Hn,Un]),ho=Object(I.useMemo)(function(){var is=new Map;return Yo.forEach(function(qs,el){var Ts=xn(qs,el),nf=(Y?Y(qs):null)||{};is.set(Ts,nf)}),is},[Yo,xn,Y]),Ni=Object(I.useCallback)(function(is){var qs;return!!((qs=ho.get(xn(is)))===null||qs===void 0?void 0:qs.disabled)},[ho,xn]),po=Object(I.useMemo)(function(){if(bn)return[Po||[],[]];var is=Uf(Po,!0,Js,Ni),qs=is.checkedKeys,el=is.halfCheckedKeys;return[qs||[],el]},[Po,bn,Js,Ni]),li=Object(Ie.a)(po,2),Sa=li[0],Xa=li[1],oo=Object(I.useMemo)(function(){var is=or==="radio"?Sa.slice(0,1):Sa;return new Set(is)},[Sa,or]),Cs=Object(I.useMemo)(function(){return or==="radio"?new Set:new Set(Xa)},[Xa,or]),nl=Object(I.useState)(null),Jl=Object(Ie.a)(nl,2),Ol=Jl[0],cu=Jl[1];I.useEffect(function(){a||Zi([])},[!!a]);var Tl=Object(I.useCallback)(function(is){var qs,el;io(is),s?(qs=is,el=is.map(function(Ts){return wo.current.get(Ts)})):(qs=[],el=[],is.forEach(function(Ts){var nf=yn(Ts);nf!==void 0&&(qs.push(Ts),el.push(nf))})),Zi(qs),$==null||$(qs,el)},[Zi,yn,$,s]),Nc=Object(I.useCallback)(function(is,qs,el,Ts){if(X){var nf=el.map(function(Zd){return yn(Zd)});X(yn(is),qs,nf,Ts)}Tl(el)},[X,yn,Tl]),Bl=Object(I.useMemo)(function(){if(!Cr||_r)return null;var is=Cr===!0?[pd,Vf,Gc]:Cr;return is.map(function(qs){return qs===pd?{key:"all",text:pa.selectionAll,onSelect:function(){Tl(Xn.map(function(Ts,nf){return xn(Ts,nf)}))}}:qs===Vf?{key:"invert",text:pa.selectInvert,onSelect:function(){var Ts=new Set(oo);Hn.forEach(function(Zd,qv){var Nd=xn(Zd,qv);Ts.has(Nd)?Ts.delete(Nd):Ts.add(Nd)});var nf=Array.from(Ts);gt&&(Object(mc.a)(!1,"Table","`onSelectInvert` will be removed in future. Please use `onChange` instead."),gt(nf)),Tl(nf)}}:qs===Gc?{key:"none",text:pa.selectNone,onSelect:function(){Ct==null||Ct(),Tl([])}}:qs})},[Cr,oo,Hn,xn,gt,Tl]),zp=Object(I.useCallback)(function(is){if(!a)return is;var qs=new Set(oo),el=Yo.map(xn).filter(function(af){return!ho.get(af).disabled}),Ts=el.every(function(af){return qs.has(af)}),nf=el.some(function(af){return qs.has(af)}),Zd=function(){var jf=[];Ts?el.forEach(function(Cf){qs.delete(Cf),jf.push(Cf)}):el.forEach(function(Cf){qs.has(Cf)||(qs.add(Cf),jf.push(Cf))});var Zu=Array.from(qs);Ae==null||Ae(!Ts,Zu.map(function(Cf){return yn(Cf)}),jf.map(function(Cf){return yn(Cf)})),Tl(Zu)},qv;if(or!=="radio"){var Nd;if(Bl){var mm=I.createElement(Gl.a,{getPopupContainer:ka},Bl.map(function(af,jf){var Zu=af.key,Cf=af.text,kf=af.onSelect;return I.createElement(Gl.a.Item,{key:Zu||jf,onClick:function(){kf==null||kf(el)}},Cf)}));Nd=I.createElement("div",{className:"".concat(Vn,"-selection-extra")},I.createElement(Sf.a,{overlay:mm,getPopupContainer:ka},I.createElement("span",null,I.createElement(ku.a,null))))}var iv=Yo.map(function(af,jf){var Zu=xn(af,jf),Cf=ho.get(Zu)||{};return Object(me.a)({checked:qs.has(Zu)},Cf)}).filter(function(af){var jf=af.disabled;return jf}),Oh=!!iv.length&&iv.length===Yo.length,yg=Oh&&iv.every(function(af){var jf=af.checked;return jf}),Py=Oh&&iv.some(function(af){var jf=af.checked;return jf});qv=!_r&&I.createElement("div",{className:"".concat(Vn,"-selection")},I.createElement($h.a,{checked:Oh?yg:!!Yo.length&&Ts,indeterminate:Oh?!yg&&Py:!Ts&&nf,onChange:Zd,disabled:Yo.length===0||Oh,skipGroup:!0}),Nd)}var wy;or==="radio"?wy=function(jf,Zu,Cf){var kf=xn(Zu,Cf),Oc=qs.has(kf);return{node:I.createElement(Wc.a,Object(me.a)({},ho.get(kf),{checked:Oc,onClick:function(Vs){return Vs.stopPropagation()},onChange:function(Vs){qs.has(kf)||Nc(kf,!0,[kf],Vs.nativeEvent)}})),checked:Oc}}:wy=function(jf,Zu,Cf){var kf,Oc=xn(Zu,Cf),$f=qs.has(Oc),Vs=Cs.has(Oc),bl=ho.get(Oc),Tu;return Wn==="nest"?(Tu=Vs,Object(mc.a)(typeof(bl==null?void 0:bl.indeterminate)!="boolean","Table","set `indeterminate` using `rowSelection.getCheckboxProps` is not allowed with tree structured dataSource.")):Tu=(kf=bl==null?void 0:bl.indeterminate)!==null&&kf!==void 0?kf:Vs,{node:I.createElement($h.a,Object(me.a)({},bl,{indeterminate:Tu,checked:$f,skipGroup:!0,onClick:function(vp){return vp.stopPropagation()},onChange:function(vp){var Kh=vp.nativeEvent,jm=Kh.shiftKey,Dg=-1,My=-1;if(jm&&bn){var em=new Set([Ol,Oc]);el.some(function(Zh,s1){if(em.has(Zh))if(Dg===-1)Dg=s1;else return My=s1,!0;return!1})}if(My!==-1&&Dg!==My&&bn){var _y=el.slice(Dg,My+1),Fg=[];$f?_y.forEach(function(Zh){qs.has(Zh)&&(Fg.push(Zh),qs.delete(Zh))}):_y.forEach(function(Zh){qs.has(Zh)||(Fg.push(Zh),qs.add(Zh))});var Iy=Array.from(qs);Lt==null||Lt(!$f,Iy.map(function(Zh){return yn(Zh)}),Fg.map(function(Zh){return yn(Zh)})),Tl(Iy)}else{var Ng=Sa;if(bn){var o1=$f?w(Ng,Oc):re(Ng,Oc);Nc(Oc,!$f,o1,Kh)}else{var dd=Uf([].concat(Object(ht.a)(Ng),[Oc]),!0,Js,Ni),qu=dd.checkedKeys,ov=dd.halfCheckedKeys,bg=qu;if($f){var Md=new Set(qu);Md.delete(Oc),bg=Uf(Array.from(Md),{checked:!1,halfCheckedKeys:ov},Js,Ni).checkedKeys}Nc(Oc,!$f,bg,Kh)}}cu(Oc)}})),checked:$f}};var Uc=function(jf,Zu,Cf){var kf=wy(jf,Zu,Cf),Oc=kf.node,$f=kf.checked;return fr?fr($f,Zu,Cf,Oc):Oc},oy=Object(ee.a)({width:Ut,className:"".concat(Vn,"-selection-column"),title:a.columnTitle||qv,render:Uc},Oe,{className:"".concat(Vn,"-selection-col")});if(Wn==="row"&&is.length&&!Zn){var Ty=Object(of.a)(is),Ay=Ty[0],Ph=Ty.slice(1),Lg=sr||vd(Ph[0]);return Lg&&(Ay.fixed=Lg),[Ay,Object(me.a)(Object(me.a)({},oy),{fixed:Lg})].concat(Object(ht.a)(Ph))}return[Object(me.a)(Object(me.a)({},oy),{fixed:sr||vd(is[0])})].concat(Object(ht.a)(is))},[xn,Yo,a,Sa,oo,Cs,Ut,Bl,Wn,Ol,ho,Lt,Nc,Ni]);return[zp,oo]}var Up={icon:{tag:"svg",attrs:{viewBox:"0 0 1024 1024",focusable:"false"},children:[{tag:"path",attrs:{d:"M840.4 300H183.6c-19.7 0-30.7 20.8-18.5 35l328.4 380.8c9.4 10.9 27.5 10.9 37 0L858.9 335c12.2-14.2 1.2-35-18.5-35z"}}]},name:"caret-down",theme:"outlined"},$d=Up,uc=r("6VBw"),sv=function(i,n){return I.createElement(uc.a,Object(Pt.a)(Object(Pt.a)({},i),{},{ref:n,icon:$d}))};sv.displayName="CaretDownOutlined";var Vp=I.forwardRef(sv),wc={icon:{tag:"svg",attrs:{viewBox:"0 0 1024 1024",focusable:"false"},children:[{tag:"path",attrs:{d:"M858.9 689L530.5 308.2c-9.4-10.9-27.5-10.9-37 0L165.1 689c-12.2 14.2-1.2 35 18.5 35h656.8c19.7 0 30.7-20.8 18.5-35z"}}]},name:"caret-up",theme:"outlined"},Xf=wc,Hf=function(i,n){return I.createElement(uc.a,Object(Pt.a)(Object(Pt.a)({},i),{},{ref:n,icon:Xf}))};Hf.displayName="CaretUpOutlined";var jd=I.forwardRef(Hf),Tc=r("3S7+");function Qf(a,i){return"key"in a&&a.key!==void 0&&a.key!==null?a.key:a.dataIndex?Array.isArray(a.dataIndex)?a.dataIndex.join("."):a.dataIndex:i}function kd(a,i){return i?"".concat(i,"-").concat(a):"".concat(a)}function md(a,i){return typeof a=="function"?a(i):a}var sf="ascend",Xh="descend";function Id(a){return Object(J.a)(a.sorter)==="object"&&typeof a.sorter.multiple=="number"?a.sorter.multiple:!1}function gp(a){return typeof a=="function"?a:a&&Object(J.a)(a)==="object"&&a.compare?a.compare:!1}function Xd(a,i){return i?a[a.indexOf(i)+1]:a[0]}function Of(a,i,n){var s=[];function h(_,Y){s.push({column:_,key:Qf(_,Y),multiplePriority:Id(_),sortOrder:_.sortOrder})}return(a||[]).forEach(function(_,Y){var $=kd(Y,n);_.children?("sortOrder"in _&&h(_,$),s=[].concat(Object(ht.a)(s),Object(ht.a)(Of(_.children,i,$)))):_.sorter&&("sortOrder"in _?h(_,$):i&&_.defaultSortOrder&&s.push({column:_,key:Qf(_,$),multiplePriority:Id(_),sortOrder:_.defaultSortOrder}))}),s}function ch(a,i,n,s,h,_,Y,$){return(i||[]).map(function(X,Ae){var gt=kd(Ae,$),Ct=X;if(Ct.sorter){var Lt=Ct.sortDirections||h,Ut=Ct.showSorterTooltip===void 0?Y:Ct.showSorterTooltip,or=Qf(Ct,gt),Cr=n.find(function(Wn){var Un=Wn.key;return Un===or}),sr=Cr?Cr.sortOrder:null,fr=Xd(Lt,sr),_r=Lt.includes(sf)&&I.createElement(jd,{className:Re()("".concat(a,"-column-sorter-up"),{active:sr===sf})}),Qr=Lt.includes(Xh)&&I.createElement(Vp,{className:Re()("".concat(a,"-column-sorter-down"),{active:sr===Xh})}),bn=_||{},Vn=bn.cancelSort,Xn=bn.triggerAsc,Hn=bn.triggerDesc,yn=Vn;fr===Xh?yn=Hn:fr===sf&&(yn=Xn);var xn=Object(J.a)(Ut)==="object"?Ut:{title:yn};Ct=Object(me.a)(Object(me.a)({},Ct),{className:Re()(Ct.className,Object(ee.a)({},"".concat(a,"-column-sort"),sr)),title:function(Un){var pa=I.createElement("div",{className:"".concat(a,"-column-sorters")},I.createElement("span",{className:"".concat(a,"-column-title")},md(X.title,Un)),I.createElement("span",{className:Re()("".concat(a,"-column-sorter"),Object(ee.a)({},"".concat(a,"-column-sorter-full"),!!(_r&&Qr)))},I.createElement("span",{className:"".concat(a,"-column-sorter-inner")},_r,Qr)));return Ut?I.createElement(Tc.a,xn,pa):pa},onHeaderCell:function(Un){var pa=X.onHeaderCell&&X.onHeaderCell(Un)||{},Zn=pa.onClick;return pa.onClick=function(ka){s({column:X,key:or,sortOrder:fr,multiplePriority:Id(X)}),Zn&&Zn(ka)},pa.className=Re()(pa.className,"".concat(a,"-column-has-sorters")),pa}})}return"children"in Ct&&(Ct=Object(me.a)(Object(me.a)({},Ct),{children:ch(a,Ct.children,n,s,h,_,Y,gt)})),Ct})}function Jf(a){var i=a.column,n=a.sortOrder;return{column:i,order:n,field:i.dataIndex,columnKey:i.key}}function Bd(a){var i=a.filter(function(n){var s=n.sortOrder;return s}).map(Jf);return i.length===0&&a.length?Object(me.a)(Object(me.a)({},Jf(a[a.length-1])),{column:void 0}):i.length<=1?i[0]||{}:i}function fh(a,i,n){var s=i.slice().sort(function(Y,$){return $.multiplePriority-Y.multiplePriority}),h=a.slice(),_=s.filter(function(Y){var $=Y.column.sorter,X=Y.sortOrder;return gp($)&&X});return _.length?h.sort(function(Y,$){for(var X=0;X<_.length;X+=1){var Ae=_[X],gt=Ae.column.sorter,Ct=Ae.sortOrder,Lt=gp(gt);if(Lt&&Ct){var Ut=Lt(Y,$,Ct);if(Ut!==0)return Ct===sf?Ut:-Ut}}return 0}).map(function(Y){var $=Y[n];return $?Object(me.a)(Object(me.a)({},Y),Object(ee.a)({},n,fh($,i,n))):Y}):h}function Th(a){var i=a.prefixCls,n=a.mergedColumns,s=a.onSorterChange,h=a.sortDirections,_=a.tableLocale,Y=a.showSorterTooltip,$=I.useState(Of(n,!0)),X=Object(Ie.a)($,2),Ae=X[0],gt=X[1],Ct=I.useMemo(function(){var sr=!0,fr=Of(n,!1);if(!fr.length)return Ae;var _r=[];function Qr(Vn){sr?_r.push(Vn):_r.push(Object(me.a)(Object(me.a)({},Vn),{sortOrder:null}))}var bn=null;return fr.forEach(function(Vn){bn===null?(Qr(Vn),Vn.sortOrder&&(Vn.multiplePriority===!1?sr=!1:bn=!0)):(bn&&Vn.multiplePriority!==!1||(sr=!1),Qr(Vn))}),_r},[n,Ae]),Lt=I.useMemo(function(){var sr=Ct.map(function(fr){var _r=fr.column,Qr=fr.sortOrder;return{column:_r,order:Qr}});return{sortColumns:sr,sortColumn:sr[0]&&sr[0].column,sortOrder:sr[0]&&sr[0].order}},[Ct]);function Ut(sr){var fr;sr.multiplePriority===!1||!Ct.length||Ct[0].multiplePriority===!1?fr=[sr]:fr=[].concat(Object(ht.a)(Ct.filter(function(_r){var Qr=_r.key;return Qr!==sr.key})),[sr]),gt(fr),s(Bd(fr),fr)}var or=function(fr){return ch(i,fr,Ct,Ut,h,_,Y)},Cr=function(){return Bd(Ct)};return[or,Ct,Lt,Cr]}var yp=r("Y+p1"),Rd=r.n(yp),qf={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M349 838c0 17.7 14.2 32 31.8 32h262.4c17.6 0 31.8-14.3 31.8-32V642H349v196zm531.1-684H143.9c-24.5 0-39.8 26.7-27.5 48l221.3 376h348.8l221.3-376c12.1-21.3-3.2-48-27.7-48z"}}]},name:"filter",theme:"filled"},bp=qf,Hp=function(i,n){return I.createElement(uc.a,Object(Pt.a)(Object(Pt.a)({},i),{},{ref:n,icon:bp}))};Hp.displayName="FilterFilled";var Ah=I.forwardRef(Hp),Mh=r("ECub"),Qh=function(i){return I.createElement("div",{className:i.className,onClick:function(s){return s.stopPropagation()}},i.children)},Wp=Qh,ed=r("hkKa");function vn(a){var i=I.useRef(a),n=Object(ed.a)();return[function(){return i.current},function(s){i.current=s,n()}]}var Oa=Gl.a.SubMenu,oa=Gl.a.Item;function to(a){return a.some(function(i){var n=i.children;return n})}function Ai(a){var i=a.filters,n=a.prefixCls,s=a.filteredKeys,h=a.filterMultiple,_=a.locale;return i.length===0?I.createElement(oa,{key:"empty"},I.createElement("div",{style:{margin:"16px 0"}},I.createElement(Mh.a,{image:Mh.a.PRESENTED_IMAGE_SIMPLE,description:_.filterEmptyText,imageStyle:{height:24}}))):i.map(function(Y,$){var X=String(Y.value);if(Y.children)return I.createElement(Oa,{key:X||$,title:Y.text,popupClassName:"".concat(n,"-dropdown-submenu")},Ai({filters:Y.children,prefixCls:n,filteredKeys:s,filterMultiple:h,locale:_}));var Ae=h?$h.a:Wc.a;return I.createElement(oa,{key:Y.value!==void 0?X:$},I.createElement(Ae,{checked:s.includes(X)}),I.createElement("span",null,Y.text))})}function Xo(a){var i,n=a.tablePrefixCls,s=a.prefixCls,h=a.column,_=a.dropdownPrefixCls,Y=a.columnKey,$=a.filterMultiple,X=a.filterState,Ae=a.triggerFilter,gt=a.locale,Ct=a.children,Lt=a.getPopupContainer,Ut=h.filterDropdownVisible,or=h.onFilterDropdownVisibleChange,Cr=I.useState(!1),sr=Object(Ie.a)(Cr,2),fr=sr[0],_r=sr[1],Qr=!!(X&&(((i=X.filteredKeys)===null||i===void 0?void 0:i.length)||X.forceFiltered)),bn=function(nl){_r(nl),or==null||or(nl)},Vn=typeof Ut=="boolean"?Ut:fr,Xn=X==null?void 0:X.filteredKeys,Hn=vn(Xn||[]),yn=Object(Ie.a)(Hn,2),xn=yn[0],Wn=yn[1],Un=function(nl){var Jl=nl.selectedKeys;Wn(Jl)};I.useEffect(function(){Un({selectedKeys:Xn||[]})},[Xn]);var pa=I.useState([]),Zn=Object(Ie.a)(pa,2),ka=Zn[0],Bi=Zn[1],Ki=I.useRef(),Po=function(nl){Ki.current=window.setTimeout(function(){Bi(nl)})},Zi=function(){window.clearTimeout(Ki.current)};I.useEffect(function(){return function(){window.clearTimeout(Ki.current)}},[]);var wo=function(nl){var Jl=nl&&nl.length?nl:null;if(Jl===null&&(!X||!X.filteredKeys)||Rd()(Jl,X==null?void 0:X.filteredKeys))return null;Ae({column:h,key:Y,filteredKeys:Jl})},io=function(){bn(!1),wo(xn())},qo=function(){Wn([]),bn(!1),wo([])},Js=function(){var nl=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{closeDropdown:!0},Jl=nl.closeDropdown;Jl&&bn(!1),wo(xn())},Yo=function(nl){nl&&Xn!==void 0&&Wn(Xn||[]),bn(nl),!nl&&!h.filterDropdown&&io()},ho=Re()(Object(ee.a)({},"".concat(_,"-menu-without-submenu"),!to(h.filters||[]))),Ni;if(typeof h.filterDropdown=="function")Ni=h.filterDropdown({prefixCls:"".concat(_,"-custom"),setSelectedKeys:function(nl){return Un({selectedKeys:nl})},selectedKeys:xn(),confirm:Js,clearFilters:qo,filters:h.filters,visible:Vn});else if(h.filterDropdown)Ni=h.filterDropdown;else{var po=xn()||[];Ni=I.createElement(I.Fragment,null,I.createElement(Gl.a,{multiple:$,prefixCls:"".concat(_,"-menu"),className:ho,onClick:Zi,onSelect:Un,onDeselect:Un,selectedKeys:po,getPopupContainer:Lt,openKeys:ka,onOpenChange:Po},Ai({filters:h.filters||[],prefixCls:s,filteredKeys:xn(),filterMultiple:$,locale:gt})),I.createElement("div",{className:"".concat(s,"-dropdown-btns")},I.createElement(u.a,{type:"link",size:"small",disabled:po.length===0,onClick:qo},gt.filterReset),I.createElement(u.a,{type:"primary",size:"small",onClick:io},gt.filterConfirm)))}var li=I.createElement(Wp,{className:"".concat(s,"-dropdown")},Ni),Sa;typeof h.filterIcon=="function"?Sa=h.filterIcon(Qr):h.filterIcon?Sa=h.filterIcon:Sa=I.createElement(Ah,null);var Xa=I.useContext(ys.b),oo=Xa.direction;return I.createElement("div",{className:"".concat(s,"-column")},I.createElement("span",{className:"".concat(n,"-column-title")},Ct),I.createElement(Sf.a,{overlay:li,trigger:["click"],visible:Vn,onVisibleChange:Yo,getPopupContainer:Lt,placement:oo==="rtl"?"bottomLeft":"bottomRight"},I.createElement("span",{role:"button",tabIndex:-1,className:Re()("".concat(s,"-trigger"),{active:Qr}),onClick:function(nl){nl.stopPropagation()}},Sa)))}var ol=Xo;function dl(a,i,n){var s=[];return(a||[]).forEach(function(h,_){var Y,$=kd(_,n);if(h.filters||"filterDropdown"in h||"onFilter"in h)if("filteredValue"in h){var X=h.filteredValue;"filterDropdown"in h||(X=(Y=X==null?void 0:X.map(String))!==null&&Y!==void 0?Y:X),s.push({column:h,key:Qf(h,$),filteredKeys:X,forceFiltered:h.filtered})}else s.push({column:h,key:Qf(h,$),filteredKeys:i&&h.defaultFilteredValue?h.defaultFilteredValue:void 0,forceFiltered:h.filtered});"children"in h&&(s=[].concat(Object(ht.a)(s),Object(ht.a)(dl(h.children,i,$))))}),s}function gd(a,i,n,s,h,_,Y,$){return n.map(function(X,Ae){var gt=kd(Ae,$),Ct=X.filterMultiple,Lt=Ct===void 0?!0:Ct,Ut=X;if(Ut.filters||Ut.filterDropdown){var or=Qf(Ut,gt),Cr=s.find(function(sr){var fr=sr.key;return or===fr});Ut=Object(me.a)(Object(me.a)({},Ut),{title:function(fr){return I.createElement(ol,{tablePrefixCls:a,prefixCls:"".concat(a,"-filter"),dropdownPrefixCls:i,column:Ut,columnKey:or,filterState:Cr,filterMultiple:Lt,triggerFilter:h,locale:Y,getPopupContainer:_},md(X.title,fr))}})}return"children"in Ut&&(Ut=Object(me.a)(Object(me.a)({},Ut),{children:gd(a,i,Ut.children,s,h,_,Y,gt)})),Ut})}function Ld(a){var i=[];return(a||[]).forEach(function(n){var s=n.value,h=n.children;i.push(s),h&&(i=[].concat(Object(ht.a)(i),Object(ht.a)(Ld(h))))}),i}function lf(a){var i={};return a.forEach(function(n){var s=n.key,h=n.filteredKeys,_=n.column,Y=_.filters,$=_.filterDropdown;if($)i[s]=h||null;else if(Array.isArray(h)){var X=Ld(Y);i[s]=X.filter(function(Ae){return h.includes(String(Ae))})}else i[s]=null}),i}function Jh(a,i){return i.reduce(function(n,s){var h=s.column,_=h.onFilter,Y=h.filters,$=s.filteredKeys;return _&&$&&$.length?n.filter(function(X){return $.some(function(Ae){var gt=Ld(Y),Ct=gt.findIndex(function(Ut){return String(Ut)===String(Ae)}),Lt=Ct!==-1?gt[Ct]:Ae;return _(Lt,X)})}):n},a)}function _h(a){var i=a.prefixCls,n=a.dropdownPrefixCls,s=a.mergedColumns,h=a.onFilterChange,_=a.getPopupContainer,Y=a.locale,$=I.useState(dl(s,!0)),X=Object(Ie.a)($,2),Ae=X[0],gt=X[1],Ct=I.useMemo(function(){var Cr=dl(s,!1),sr=Cr.every(function(_r){var Qr=_r.filteredKeys;return Qr===void 0});if(sr)return Ae;var fr=Cr.every(function(_r){var Qr=_r.filteredKeys;return Qr!==void 0});return Object(mc.a)(sr||fr,"Table","`FilteredKeys` should all be controlled or not controlled."),Cr},[s,Ae]),Lt=I.useCallback(function(){return lf(Ct)},[Ct]),Ut=function(sr){var fr=Ct.filter(function(_r){var Qr=_r.key;return Qr!==sr.key});fr.push(sr),gt(fr),h(lf(fr),fr)},or=function(sr){return gd(i,n,sr,Ct,Ut,_,Y)};return[or,Ct,Lt]}var uf=_h;function Pf(a,i){return a.map(function(n){var s=Object(me.a)({},n);return s.title=md(n.title,i),"children"in s&&(s.children=Pf(s.children,i)),s})}function ru(a){var i=I.useCallback(function(n){return Pf(n,a)},[a]);return[i]}function hl(a){return function(n){var s,h=n.prefixCls,_=n.onExpand,Y=n.record,$=n.expanded,X=n.expandable,Ae="".concat(h,"-row-expand-icon");return I.createElement("button",{type:"button",onClick:function(Ct){_(Y,Ct),Ct.stopPropagation()},className:Re()(Ae,(s={},Object(ee.a)(s,"".concat(Ae,"-spaced"),!X),Object(ee.a)(s,"".concat(Ae,"-expanded"),X&&$),Object(ee.a)(s,"".concat(Ae,"-collapsed"),X&&!$),s)),"aria-label":$?a.collapse:a.expand})}}var dh=hl,Al=r("wgJM");function bi(a){return a!=null&&a===a.window}function Kc(a,i){var n;if(typeof window=="undefined")return 0;var s=i?"scrollTop":"scrollLeft",h=0;return bi(a)?h=a[i?"pageYOffset":"pageXOffset"]:a instanceof Document?h=a.documentElement[s]:a&&(h=a[s]),a&&!bi(a)&&typeof h!="number"&&(h=(n=(a.ownerDocument||a).documentElement)===null||n===void 0?void 0:n[s]),h}function qh(a,i,n,s){var h=n-i;return a/=s/2,a<1?h/2*a*a*a+i:h/2*((a-=2)*a*a+2)+i}function Ih(a){var i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},n=i.getContainer,s=n===void 0?function(){return window}:n,h=i.callback,_=i.duration,Y=_===void 0?450:_,$=s(),X=Kc($,!0),Ae=Date.now(),gt=function Ct(){var Lt=Date.now(),Ut=Lt-Ae,or=qh(Ut>Y?Y:Ut,X,a,Y);bi($)?$.scrollTo(window.pageXOffset,or):$ instanceof HTMLDocument||$.constructor.name==="HTMLDocument"?$.documentElement.scrollTop=or:$.scrollTop=or,Ut<Y?Object(Al.a)(Ct):typeof h=="function"&&h()};Object(Al.a)(gt)}var cf=r("D7Yy"),Yu=r("3Nzz");function hh(a){return null}var gi=hh;function td(a){return null}var Uu=td,ep=r("5OYt"),tc=[];function gu(a){var i,n=a.prefixCls,s=a.className,h=a.style,_=a.size,Y=a.bordered,$=a.dropdownPrefixCls,X=a.dataSource,Ae=a.pagination,gt=a.rowSelection,Ct=a.rowKey,Lt=a.rowClassName,Ut=a.columns,or=a.children,Cr=a.childrenColumnName,sr=a.onChange,fr=a.getPopupContainer,_r=a.loading,Qr=a.expandIcon,bn=a.expandable,Vn=a.expandedRowRender,Xn=a.expandIconColumnIndex,Hn=a.indentSize,yn=a.scroll,xn=a.sortDirections,Wn=a.locale,Un=a.showSorterTooltip,pa=Un===void 0?!0:Un;Object(mc.a)(!(typeof Ct=="function"&&Ct.length>1),"Table","`index` parameter of `rowKey` function is deprecated. There is no guarantee that it will work as expected.");var Zn=Object(ep.a)(),ka=I.useMemo(function(){var dd=new Set(Object.keys(Zn).filter(function(qu){return Zn[qu]}));return(Ut||lr(or)).filter(function(qu){return!qu.responsive||qu.responsive.some(function(ov){return dd.has(ov)})})},[or,Ut,Zn]),Bi=Object(bt.a)(a,["className","style","columns"]),Ki=I.useContext(Yu.b),Po=I.useContext(ys.b),Zi=Po.locale,wo=Zi===void 0?cf.a:Zi,io=Po.renderEmpty,qo=Po.direction,Js=_||Ki,Yo=Object(me.a)(Object(me.a)({},wo.Table),Wn),ho=X||tc,Ni=I.useContext(ys.b),po=Ni.getPrefixCls,li=po("table",n),Sa=po("dropdown",$),Xa=Object(me.a)({childrenColumnName:Cr,expandIconColumnIndex:Xn},bn),oo=Xa.childrenColumnName,Cs=oo===void 0?"children":oo,nl=I.useMemo(function(){return ho.some(function(dd){var qu;return(qu=dd)===null||qu===void 0?void 0:qu[Cs]})?"nest":Vn||bn&&bn.expandedRowRender?"row":null},[ho]),Jl={body:I.useRef()},Ol=I.useMemo(function(){return typeof Ct=="function"?Ct:function(dd){var qu;return(qu=dd)===null||qu===void 0?void 0:qu[Ct]}},[Ct]),cu=vc(ho,Cs,Ol),Tl=Object(Ie.a)(cu,1),Nc=Tl[0],Bl={},zp=function(qu,ov){var bg=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1,Md=Object(me.a)(Object(me.a)({},Bl),qu);bg&&(Bl.resetPagination(),Md.pagination.current&&(Md.pagination.current=1),Ae&&Ae.onChange&&Ae.onChange(1,Md.pagination.pageSize)),yn&&yn.scrollToFirstRowOnChange!==!1&&Jl.body.current&&Ih(0,{getContainer:function(){return Jl.body.current}}),sr==null||sr(Md.pagination,Md.filters,Md.sorter,{currentDataSource:Jh(fh(ho,Md.sorterStates,Cs),Md.filterStates),action:ov})},is=function(qu,ov){zp({sorter:qu,sorterStates:ov},"sort",!1)},qs=Th({prefixCls:li,mergedColumns:ka,onSorterChange:is,sortDirections:xn||["ascend","descend"],tableLocale:Yo,showSorterTooltip:pa}),el=Object(Ie.a)(qs,4),Ts=el[0],nf=el[1],Zd=el[2],qv=el[3],Nd=I.useMemo(function(){return fh(ho,nf,Cs)},[ho,nf]);Bl.sorter=qv(),Bl.sorterStates=nf;var mm=function(qu,ov){zp({filters:qu,filterStates:ov},"filter",!0)},iv=uf({prefixCls:li,locale:Yo,dropdownPrefixCls:Sa,mergedColumns:ka,onFilterChange:mm,getPopupContainer:fr}),Oh=Object(Ie.a)(iv,3),yg=Oh[0],Py=Oh[1],wy=Oh[2],Uc=Jh(Nd,Py);Bl.filters=wy(),Bl.filterStates=Py;var oy=I.useMemo(function(){return Object(me.a)({},Zd)},[Zd]),Ty=ru(oy),Ay=Object(Ie.a)(Ty,1),Ph=Ay[0],Lg=function(qu,ov){zp({pagination:Object(me.a)(Object(me.a)({},Bl.pagination),{current:qu,pageSize:ov})},"paginate")},af=fu(Uc.length,Ae,Lg),jf=Object(Ie.a)(af,2),Zu=jf[0],Cf=jf[1];Bl.pagination=Ae===!1?{}:Es(Ae,Zu),Bl.resetPagination=Cf;var kf=I.useMemo(function(){if(Ae===!1||!Zu.pageSize)return Uc;var dd=Zu.current,qu=dd===void 0?1:dd,ov=Zu.total,bg=Zu.pageSize,Md=bg===void 0?gl:bg;return Object(mc.a)(qu>0,"Table","`current` should be positive number."),Uc.length<ov?Uc.length>Md?(Object(mc.a)(!1,"Table","`dataSource` length is less than `pagination.total` but large than `pagination.pageSize`. Please make sure your config correct data with async mode."),Uc.slice((qu-1)*Md,qu*Md)):Uc:Uc.slice((qu-1)*Md,qu*Md)},[!!Ae,Uc,Zu&&Zu.current,Zu&&Zu.pageSize,Zu&&Zu.total]),Oc=Yd(gt,{prefixCls:li,data:Uc,pageData:kf,getRowKey:Ol,getRecordByKey:Nc,expandType:nl,childrenColumnName:Cs,locale:Yo,expandIconColumnIndex:Xa.expandIconColumnIndex,getPopupContainer:fr}),$f=Object(Ie.a)(Oc,2),Vs=$f[0],bl=$f[1],Tu=function(qu,ov,bg){var Md;return typeof Lt=="function"?Md=Re()(Lt(qu,ov,bg)):Md=Re()(Lt),Re()(Object(ee.a)({},"".concat(li,"-row-selected"),bl.has(Ol(qu,ov))),Md)};Xa.__PARENT_RENDER_ICON__=Xa.expandIcon,Xa.expandIcon=Xa.expandIcon||Qr||dh(Yo),nl==="nest"&&Xa.expandIconColumnIndex===void 0?Xa.expandIconColumnIndex=gt?1:0:Xa.expandIconColumnIndex>0&&gt&&(Xa.expandIconColumnIndex-=1),typeof Xa.indentSize!="number"&&(Xa.indentSize=typeof Hn=="number"?Hn:15);var Au=I.useCallback(function(dd){return Ph(Vs(yg(Ts(dd))))},[Ts,yg,Vs]),vp,Kh;if(Ae!==!1&&(Zu==null?void 0:Zu.total)){var jm;Zu.size?jm=Zu.size:jm=Js==="small"||Js==="middle"?"small":void 0;var Dg=function(qu){return I.createElement(mi.a,Object(me.a)({className:"".concat(li,"-pagination ").concat(li,"-pagination-").concat(qu)},Zu,{size:jm}))},My=qo==="rtl"?"left":"right",em=Zu.position;if(em!==null&&Array.isArray(em)){var _y=em.find(function(dd){return dd.indexOf("top")!==-1}),Fg=em.find(function(dd){return dd.indexOf("bottom")!==-1}),Iy=em.every(function(dd){return"".concat(dd)==="none"});!_y&&!Fg&&!Iy&&(Kh=Dg(My)),_y&&(vp=Dg(_y.toLowerCase().replace("top",""))),Fg&&(Kh=Dg(Fg.toLowerCase().replace("bottom","")))}else Kh=Dg(My)}var Ng;typeof _r=="boolean"?Ng={spinning:_r}:Object(J.a)(_r)==="object"&&(Ng=Object(me.a)({spinning:!0},_r));var o1=Re()("".concat(li,"-wrapper"),Object(ee.a)({},"".concat(li,"-wrapper-rtl"),qo==="rtl"),s);return I.createElement("div",{className:o1,style:h},I.createElement(qa.a,Object(me.a)({spinning:!1},Ng),vp,I.createElement(va,Object(me.a)({},Bi,{columns:ka,direction:qo,expandable:Xa,prefixCls:li,className:Re()((i={},Object(ee.a)(i,"".concat(li,"-middle"),Js==="middle"),Object(ee.a)(i,"".concat(li,"-small"),Js==="small"),Object(ee.a)(i,"".concat(li,"-bordered"),Y),Object(ee.a)(i,"".concat(li,"-empty"),ho.length===0),i)),data:kf,rowKey:Ol,rowClassName:Tu,emptyText:Wn&&Wn.emptyText||io("Table"),internalHooks:mr,internalRefs:Jl,transformColumns:Au})),Kh))}gu.defaultProps={rowKey:"key"},gu.SELECTION_ALL=pd,gu.SELECTION_INVERT=Vf,gu.SELECTION_NONE=Gc,gu.Column=gi,gu.ColumnGroup=Uu,gu.Summary=Ui;var Zc=gu,wf=Zc,nu=r("LQCs"),Wf=r("AMKO"),Qd=r("PjWh"),Gf=r("9mHw"),Rh=r("Q9mQ"),Jd=r("sE09"),Tf=r("IMoZ"),gc=r("4IlW"),_s=r("zvFY"),yd=r("YMnH"),rd=r("ZvpZ"),sl=r("bogI"),Mu=r("0n0R"),ff=r("EXcs"),Af=void 0,jc=function(a,i){var n={};for(var s in a)Object.prototype.hasOwnProperty.call(a,s)&&i.indexOf(s)<0&&(n[s]=a[s]);if(a!=null&&typeof Object.getOwnPropertySymbols=="function")for(var h=0,s=Object.getOwnPropertySymbols(a);h<s.length;h++)i.indexOf(s[h])<0&&Object.prototype.propertyIsEnumerable.call(a,s[h])&&(n[s[h]]=a[s[h]]);return n},ph=I.forwardRef(function(a,i){var n=Object(We.a)(!1,{value:a.visible,defaultValue:a.defaultVisible}),s=Object(Ie.a)(n,2),h=s[0],_=s[1],Y=function(xn,Wn){var Un;_(xn),(Un=a.onVisibleChange)===null||Un===void 0||Un.call(a,xn,Wn)},$=function(xn){var Wn;Y(!1,xn),(Wn=a.onConfirm)===null||Wn===void 0||Wn.call(Af,xn)},X=function(xn){var Wn;Y(!1,xn),(Wn=a.onCancel)===null||Wn===void 0||Wn.call(Af,xn)},Ae=function(xn){xn.keyCode===gc.a.ESC&&h&&Y(!1,xn)},gt=function(xn){var Wn=a.disabled;Wn||Y(xn)},Ct=function(xn,Wn){var Un=a.okButtonProps,pa=a.cancelButtonProps,Zn=a.title,ka=a.cancelText,Bi=a.okText,Ki=a.okType,Po=a.icon;return I.createElement("div",{className:"".concat(xn,"-inner-content")},I.createElement("div",{className:"".concat(xn,"-message")},Po,I.createElement("div",{className:"".concat(xn,"-message-title")},Object(sl.a)(Zn))),I.createElement("div",{className:"".concat(xn,"-buttons")},I.createElement(u.a,Object(me.a)({onClick:X,size:"small"},pa),ka||Wn.cancelText),I.createElement(u.a,Object(me.a)({onClick:$},Object(_s.a)(Ki),{size:"small"},Un),Bi||Wn.okText)))},Lt=I.useContext(ys.b),Ut=Lt.getPrefixCls,or=a.prefixCls,Cr=a.placement,sr=a.children,fr=a.overlayClassName,_r=jc(a,["prefixCls","placement","children","overlayClassName"]),Qr=Ut("popover",or),bn=Ut("popconfirm",or),Vn=Re()(bn,fr),Xn=I.createElement(yd.a,{componentName:"Popconfirm",defaultLocale:rd.a.Popconfirm},function(yn){return Ct(Qr,yn)}),Hn=Ut();return I.createElement(Tc.a,Object(me.a)({},_r,{prefixCls:Qr,placement:Cr,onVisibleChange:gt,visible:h,overlay:Xn,overlayClassName:Vn,ref:i,transitionName:Object(ff.b)(Hn,"zoom-big",a.transitionName)}),Object(Mu.a)(sr,{onKeyDown:function(xn){var Wn,Un;I.isValidElement(sr)&&((Un=sr==null?void 0:(Wn=sr.props).onKeyDown)===null||Un===void 0||Un.call(Wn,xn)),Ae(xn)}}))});ph.defaultProps={placement:"top",trigger:"click",okType:"primary",icon:I.createElement(Tf.a,null),disabled:!1};var Io=ph,Mi=r("ye1Q"),df=r("i8i4"),_u=r.n(df),cc=r("2oH+"),$u=r.n(cc),Mf=r("bG1m"),Ac=r("wUu8"),qd=r("ft2k"),Dl=["map_row_parentKey","map_row_key"],yu=["map_row_key"];function eh(){return eh=Object.assign||function(a){for(var i=1;i<arguments.length;i++){var n=arguments[i];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(a[s]=n[s])}return a},eh.apply(this,arguments)}function _f(a,i,n,s,h,_,Y){try{var $=a[_](Y),X=$.value}catch(Ae){n(Ae);return}$.done?i(X):Promise.resolve(X).then(s,h)}function If(a){return function(){var i=this,n=arguments;return new Promise(function(s,h){var _=a.apply(i,n);function Y(X){_f(_,s,h,Y,$,"next",X)}function $(X){_f(_,s,h,Y,$,"throw",X)}Y(void 0)})}}function Mc(a,i){return Iu(a)||dr(a,i)||$s(a,i)||_c()}function _c(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function dr(a,i){var n=a==null?null:typeof Symbol!="undefined"&&a[Symbol.iterator]||a["@@iterator"];if(n!=null){var s=[],h=!0,_=!1,Y,$;try{for(n=n.call(a);!(h=(Y=n.next()).done)&&(s.push(Y.value),!(i&&s.length===i));h=!0);}catch(X){_=!0,$=X}finally{try{!h&&n.return!=null&&n.return()}finally{if(_)throw $}}return s}}function Iu(a){if(Array.isArray(a))return a}function nd(a){return tp(a)||xp(a)||$s(a)||rc()}function rc(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function $s(a,i){if(!!a){if(typeof a=="string")return th(a,i);var n=Object.prototype.toString.call(a).slice(8,-1);if(n==="Object"&&a.constructor&&(n=a.constructor.name),n==="Map"||n==="Set")return Array.from(a);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return th(a,i)}}function xp(a){if(typeof Symbol!="undefined"&&a[Symbol.iterator]!=null||a["@@iterator"]!=null)return Array.from(a)}function tp(a){if(Array.isArray(a))return th(a)}function th(a,i){(i==null||i>a.length)&&(i=a.length);for(var n=0,s=new Array(i);n<i;n++)s[n]=a[n];return s}function ad(a,i){if(a==null)return{};var n=zd(a,i),s,h;if(Object.getOwnPropertySymbols){var _=Object.getOwnPropertySymbols(a);for(h=0;h<_.length;h++)s=_[h],!(i.indexOf(s)>=0)&&(!Object.prototype.propertyIsEnumerable.call(a,s)||(n[s]=a[s]))}return n}function zd(a,i){if(a==null)return{};var n={},s=Object.keys(a),h,_;for(_=0;_<s.length;_++)h=s[_],!(i.indexOf(h)>=0)&&(n[h]=a[h]);return n}function bd(a,i){var n=Object.keys(a);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(a);i&&(s=s.filter(function(h){return Object.getOwnPropertyDescriptor(a,h).enumerable})),n.push.apply(n,s)}return n}function Yc(a){for(var i=1;i<arguments.length;i++){var n=arguments[i]!=null?arguments[i]:{};i%2?bd(Object(n),!0).forEach(function(s){Ud(a,s,n[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(a,Object.getOwnPropertyDescriptors(n)):bd(Object(n)).forEach(function(s){Object.defineProperty(a,s,Object.getOwnPropertyDescriptor(n,s))})}return a}function Ud(a,i,n){return i in a?Object.defineProperty(a,i,{value:n,enumerable:!0,configurable:!0,writable:!0}):a[i]=n,a}function Rf(a){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Rf=function(n){return typeof n}:Rf=function(n){return n&&typeof Symbol=="function"&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n},Rf(a)}var $c=function(i){return Array.isArray(i)?i.join(","):i};function id(a,i){var n,s=a.getRowKey,h=a.row,_=a.data,Y=a.childrenColumnName,$=(n=$c(a.key))===null||n===void 0?void 0:n.toString(),X=new Map;function Ae(Lt,Ut){Lt.forEach(function(or,Cr){var sr=s(or,Cr).toString();or&&Rf(or)==="object"&&Y in or&&Ae(or[Y]||[],sr);var fr=Yc(Yc({},or),{},{map_row_key:sr,children:void 0,map_row_parentKey:Ut});delete fr.children,Ut||delete fr.map_row_parentKey,X.set(sr,fr)})}Ae(_),i==="update"&&X.set($,Yc(Yc({},X.get($)),h)),i==="delete"&&X.delete($);var gt=function(Ut){var or=new Map,Cr=[];return Ut.forEach(function(sr){if(sr.map_row_parentKey){var fr=sr.map_row_parentKey,_r=sr.map_row_key,Qr=ad(sr,Dl);or.has(_r)&&(Qr[Y]=or.get(_r)),or.set(fr,[].concat(nd(or.get(fr)||[]),[Qr]))}}),Ut.forEach(function(sr){if(!sr.map_row_parentKey){var fr=sr.map_row_key,_r=ad(sr,yu);if(or.has(fr)){var Qr=Yc(Yc({},_r),{},Ud({},Y,or.get(fr)));Cr.push(Qr);return}Cr.push(_r)}}),Cr},Ct=gt(X);return Ct}function Vd(a){var i=a.recordKey,n=a.onSave,s=a.form,h=a.row,_=a.children,Y=a.newLineConfig,$=a.editorType,X=a.tableName,Ae=Object(I.useContext)(Ac.a),gt=Object(Gf.a)(!1),Ct=Mc(gt,2),Lt=Ct[0],Ut=Ct[1];return Ce.a.createElement("a",{key:"save",onClick:function(){var or=If(we.a.mark(function Cr(sr){var fr,_r,Qr,bn,Vn,Xn;return we.a.wrap(function(yn){for(;;)switch(yn.prev=yn.next){case 0:return sr.stopPropagation(),sr.preventDefault(),yn.prev=2,_r=$==="Map",Qr=[X,i].flat(1).filter(Boolean),Ut(!0),yn.next=8,s.validateFields(Qr,{recursive:!0});case 8:return bn=((fr=Ae.getFieldFormatValue)===null||fr===void 0?void 0:fr.call(Ae,Qr))||s.getFieldValue(Qr),Vn=_r?Object(Mf.a)({},Qr,bn,!0):bn,yn.next=12,n==null?void 0:n(i,$u()({},h,Vn),h,Y);case 12:return Xn=yn.sent,Ut(!1),yn.abrupt("return",Xn);case 17:return yn.prev=17,yn.t0=yn.catch(2),console.log(yn.t0),Ut(!1),yn.abrupt("return",null);case 22:case"end":return yn.stop()}},Cr,null,[[2,17]])}));return function(Cr){return or.apply(this,arguments)}}()},Lt?Ce.a.createElement(Mi.a,{style:{marginRight:8}}):null,_||"\u4FDD\u5B58")}var Cp=function(i){var n=i.recordKey,s=i.onDelete,h=i.row,_=i.children,Y=i.deletePopconfirmMessage,$=i.cancelEditable,X=Object(Gf.a)(!1),Ae=Mc(X,2),gt=Ae[0],Ct=Ae[1],Lt=function(){var Ut=If(we.a.mark(function or(){var Cr;return we.a.wrap(function(fr){for(;;)switch(fr.prev=fr.next){case 0:return fr.prev=0,Ct(!0),fr.next=4,s==null?void 0:s(n,h);case 4:return Cr=fr.sent,Ct(!1),setTimeout(function(){$(n)},0),fr.abrupt("return",Cr);case 10:return fr.prev=10,fr.t0=fr.catch(0),console.log(fr.t0),Ct(!1),fr.abrupt("return",null);case 15:case"end":return fr.stop()}},or,null,[[0,10]])}));return function(){return Ut.apply(this,arguments)}}();return _!==!1?Ce.a.createElement(Io,{key:"delete",title:Y,onConfirm:Lt},Ce.a.createElement("a",null,gt?Ce.a.createElement(Mi.a,{style:{marginRight:8}}):null,_||"\u5220\u9664")):null},v=function(i){var n=i.recordKey,s=i.tableName,h=i.newLineConfig,_=i.form,Y=i.editorType,$=i.onCancel,X=i.cancelEditable,Ae=i.row,gt=i.cancelText,Ct=Object(I.useContext)(Ac.a);return Ce.a.createElement("a",{key:"cancel",onClick:function(){var Lt=If(we.a.mark(function Ut(or){var Cr,sr,fr,_r,Qr,bn;return we.a.wrap(function(Xn){for(;;)switch(Xn.prev=Xn.next){case 0:return or.stopPropagation(),or.preventDefault(),sr=Y==="Map",fr=[s,n].flat(1).filter(Boolean),_r=((Cr=Ct.getFieldFormatValue)===null||Cr===void 0?void 0:Cr.call(Ct,fr))||_.getFieldValue(fr),Qr=sr?Object(Mf.a)({},fr,_r):_r,Xn.next=8,$==null?void 0:$(n,Qr,Ae,h);case 8:return bn=Xn.sent,X(n),_.setFieldsValue(Ae),Xn.abrupt("return",bn);case 12:case"end":return Xn.stop()}},Ut)}));return function(Ut){return Lt.apply(this,arguments)}}()},gt||"\u53D6\u6D88")};function c(a,i){var n=i.recordKey,s=i.newLineConfig,h=i.saveText,_=i.deleteText;return[Ce.a.createElement(Vd,eh({key:"save"},i,{row:a}),h),(s==null?void 0:s.options.recordKey)!==n?Ce.a.createElement(Cp,eh({key:"delete"},i,{row:a}),_):null,Ce.a.createElement(v,eh({key:"cancel"},i,{row:a}))]}function l(a){var i=Object(I.useState)(void 0),n=Mc(i,2),s=n[0],h=n[1],_=Object(I.useRef)(void 0);_.current=s;var Y=a.type||"single",$=vc(a.dataSource,"children",a.getRowKey),X=Mc($,1),Ae=X[0],gt=Object(We.a)([],{value:a.editableKeys,onChange:a.onChange?function(Wn){var Un;a==null||(Un=a.onChange)===null||Un===void 0||Un.call(a,Wn,Wn.map(function(pa){return Ae(pa)}))}:void 0}),Ct=Mc(gt,2),Lt=Ct[0],Ut=Ct[1],or=Object(I.useMemo)(function(){var Wn=Y==="single"?Lt==null?void 0:Lt.slice(0,1):Lt;return new Set(Wn)},[(Lt||[]).join(","),Y]),Cr=Object(qd.a)(Lt),sr=Object(I.useCallback)(function(Wn){var Un=a.getRowKey(Wn,Wn.index),pa=Cr==null?void 0:Cr.includes(Un);return{recordKey:Un,isEditable:Lt==null?void 0:Lt.includes(Un),preIsEditable:pa}},[(Lt||[]).join(",")]),fr=function(Un){return or.size>0&&Y==="single"?(oe.default.warn(a.onlyOneLineEditorAlertMessage||"\u53EA\u80FD\u540C\u65F6\u7F16\u8F91\u4E00\u884C"),!1):(or.add(Un),Ut(Array.from(or)),!0)},_r=function(Un){return _u.a.unstable_batchedUpdates(function(){s&&s.options.recordKey===Un&&h(void 0),or.delete($c(Un)),Ut(Array.from(or))}),!0},Qr=function(Un,pa){var Zn,ka;if(!!a.onValuesChange){var Bi=a.dataSource;Object.keys(pa).forEach(function(Zi){var wo=pa[Zi.toString()];Bi=id({data:Bi,getRowKey:a.getRowKey,row:wo,key:Zi,childrenColumnName:a.childrenColumnName||"children"},"update")});var Ki=(Zn=Object.keys(Un).pop())===null||Zn===void 0?void 0:Zn.toString();Ki.toString()===(s==null||(ka=s.options.recordKey)===null||ka===void 0?void 0:ka.toString())&&(_r(Ki),fr(Ki));var Po=Bi.find(function(Zi,wo){var io,qo=(io=a.getRowKey(Zi,wo))===null||io===void 0?void 0:io.toString();return qo===Ki})||Yc(Yc({},s==null?void 0:s.defaultValue),pa[Ki]);a.onValuesChange(Po,Bi)}},bn=function(Un,pa){return _.current?(oe.default.warn(a.onlyAddOneLineAlertMessage||"\u53EA\u80FD\u65B0\u589E\u4E00\u884C"),!1):or.size>0&&Y==="single"?(oe.default.warn(a.onlyOneLineEditorAlertMessage||"\u53EA\u80FD\u540C\u65F6\u7F16\u8F91\u4E00\u884C"),!1):(_u.a.unstable_batchedUpdates(function(){var Zn=a.getRowKey(Un,a.dataSource.length);if(or.add(Zn),Ut(Array.from(or)),(pa==null?void 0:pa.newRecordType)==="dataSource"){var ka,Bi={data:a.dataSource,getRowKey:a.getRowKey,row:Yc(Yc({},Un),{},{map_row_parentKey:(pa==null?void 0:pa.parentKey)?(ka=$c(pa==null?void 0:pa.parentKey))===null||ka===void 0?void 0:ka.toString():void 0}),key:Zn,childrenColumnName:a.childrenColumnName||"children"};a.setDataSource(id(Bi,"update"))}else h({defaultValue:Un,options:Yc(Yc({},pa),{},{recordKey:Zn})})}),!0)},Vn=Object(nu.d)(),Xn=(a==null?void 0:a.saveText)||Vn.getMessage("editableTable.action.save","\u4FDD\u5B58"),Hn=(a==null?void 0:a.deleteText)||Vn.getMessage("editableTable.action.delete","\u5220\u9664"),yn=(a==null?void 0:a.cancelText)||Vn.getMessage("editableTable.action.cancel","\u53D6\u6D88"),xn=function(Un,pa){var Zn=a.getRowKey(Un,Un.index),ka={saveText:Xn,cancelText:yn,deleteText:Hn,addEditRecord:bn,recordKey:Zn,cancelEditable:_r,index:Un.index,tableName:a.tableName,newLineConfig:s,onCancel:function(){var Ki=If(we.a.mark(function Zi(wo,io,qo,Js){var Yo,ho;return we.a.wrap(function(po){for(;;)switch(po.prev=po.next){case 0:return po.next=2,a==null||(Yo=a.onCancel)===null||Yo===void 0?void 0:Yo.call(a,wo,io,qo,Js);case 2:return ho=po.sent,po.abrupt("return",ho);case 4:case"end":return po.stop()}},Zi)}));function Po(Zi,wo,io,qo){return Ki.apply(this,arguments)}return Po}(),onDelete:function(){var Ki=If(we.a.mark(function Zi(wo,io){var qo,Js,Yo;return we.a.wrap(function(Ni){for(;;)switch(Ni.prev=Ni.next){case 0:return Js={data:a.dataSource,getRowKey:a.getRowKey,row:io,key:wo,childrenColumnName:a.childrenColumnName||"children"},Ni.next=3,a==null||(qo=a.onDelete)===null||qo===void 0?void 0:qo.call(a,wo,io);case 3:return Yo=Ni.sent,a.setDataSource(id(Js,"delete")),Ni.abrupt("return",Yo);case 6:case"end":return Ni.stop()}},Zi)}));function Po(Zi,wo){return Ki.apply(this,arguments)}return Po}(),onSave:function(){var Ki=If(we.a.mark(function Zi(wo,io,qo,Js){var Yo,ho,Ni,po,li;return we.a.wrap(function(Xa){for(;;)switch(Xa.prev=Xa.next){case 0:return ho=Js||{},Ni=ho.options,Xa.next=3,a==null||(Yo=a.onSave)===null||Yo===void 0?void 0:Yo.call(a,wo,io,qo,Js);case 3:if(po=Xa.sent,_r(wo),!(Js&&(Ni==null?void 0:Ni.recordKey)===wo)){Xa.next=8;break}return(Ni==null?void 0:Ni.position)==="top"?a.setDataSource([io].concat(nd(a.dataSource))):a.setDataSource([].concat(nd(a.dataSource),[io])),Xa.abrupt("return",po);case 8:return li={data:a.dataSource,getRowKey:a.getRowKey,row:io,key:wo,childrenColumnName:a.childrenColumnName||"children"},a.setDataSource(id(li,"update")),Xa.abrupt("return",po);case 11:case"end":return Xa.stop()}},Zi)}));function Po(Zi,wo,io,qo){return Ki.apply(this,arguments)}return Po}(),form:pa,editableKeys:Lt,setEditableRowKeys:Ut,deletePopconfirmMessage:a.deletePopconfirmMessage||"\u5220\u9664\u6B64\u884C\uFF1F"},Bi=c(Un,ka);return a.actionRender?a.actionRender(Un,ka,{save:Bi[0],delete:Bi[1],cancel:Bi[2]}):Bi};return{editableKeys:Lt,setEditableRowKeys:Ut,isEditable:sr,actionRender:xn,startEditable:fr,cancelEditable:_r,addEditRecord:bn,newLineRecord:s,preEditableKeys:Cr,onValuesChange:Qr}}var g=l,F=r("g5r2"),Q=r("3j9d");function se(a){return ir(a)||Rt(a)||mt(a)||_e()}function _e(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function mt(a,i){if(!!a){if(typeof a=="string")return rr(a,i);var n=Object.prototype.toString.call(a).slice(8,-1);if(n==="Object"&&a.constructor&&(n=a.constructor.name),n==="Map"||n==="Set")return Array.from(a);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return rr(a,i)}}function Rt(a){if(typeof Symbol!="undefined"&&a[Symbol.iterator]!=null||a["@@iterator"]!=null)return Array.from(a)}function ir(a){if(Array.isArray(a))return rr(a)}function rr(a,i){(i==null||i>a.length)&&(i=a.length);for(var n=0,s=new Array(i);n<i;n++)s[n]=a[n];return s}function ur(a,i,n,s,h,_,Y){try{var $=a[_](Y),X=$.value}catch(Ae){n(Ae);return}$.done?i(X):Promise.resolve(X).then(s,h)}function kr(a){return function(){var i=this,n=arguments;return new Promise(function(s,h){var _=a.apply(i,n);function Y(X){ur(_,s,h,Y,$,"next",X)}function $(X){ur(_,s,h,Y,$,"throw",X)}Y(void 0)})}}var Nr=function(i,n){var s=Object(I.useRef)(!1);Object(I.useEffect)(function(){if(!s.current)s.current=!0;else return i();return function(){}},n)};function Xr(a,i,n){var s=Array.isArray(i)?i:[],h=typeof i=="number"?i:n||0,_=Object(I.useRef)(),Y=Object(I.useRef)(a);Y.current=a;var $=Object(I.useCallback)(function(){_.current&&clearTimeout(_.current)},[]),X=Object(I.useCallback)(kr(we.a.mark(function Ae(){var gt,Ct,Lt,Ut=arguments;return we.a.wrap(function(Cr){for(;;)switch(Cr.prev=Cr.next){case 0:for(gt=Ut.length,Ct=new Array(gt),Lt=0;Lt<gt;Lt++)Ct[Lt]=Ut[Lt];return Cr.abrupt("return",new Promise(function(sr){$(),_.current=setTimeout(kr(we.a.mark(function fr(){return we.a.wrap(function(Qr){for(;;)switch(Qr.prev=Qr.next){case 0:return Qr.next=2,Y.current.apply(Y,Ct);case 2:sr();case 3:case"end":return Qr.stop()}},fr)})),h)}));case 2:case"end":return Cr.stop()}},Ae)})),[h,$]);return Nr(function(){return X(),$},[].concat(se(s),[X])),Object(I.useEffect)(function(){return $},[]),{run:X,cancel:$}}var Br=Xr;function Hr(a){return la(a)||pn(a)||sa(a)||hn()}function hn(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function pn(a){if(typeof Symbol!="undefined"&&a[Symbol.iterator]!=null||a["@@iterator"]!=null)return Array.from(a)}function la(a){if(Array.isArray(a))return Ya(a)}function Gn(a,i){return Di(a)||Ka(a,i)||sa(a,i)||aa()}function aa(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function sa(a,i){if(!!a){if(typeof a=="string")return Ya(a,i);var n=Object.prototype.toString.call(a).slice(8,-1);if(n==="Object"&&a.constructor&&(n=a.constructor.name),n==="Map"||n==="Set")return Array.from(a);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Ya(a,i)}}function Ya(a,i){(i==null||i>a.length)&&(i=a.length);for(var n=0,s=new Array(i);n<i;n++)s[n]=a[n];return s}function Ka(a,i){var n=a==null?null:typeof Symbol!="undefined"&&a[Symbol.iterator]||a["@@iterator"];if(n!=null){var s=[],h=!0,_=!1,Y,$;try{for(n=n.call(a);!(h=(Y=n.next()).done)&&(s.push(Y.value),!(i&&s.length===i));h=!0);}catch(X){_=!0,$=X}finally{try{!h&&n.return!=null&&n.return()}finally{if(_)throw $}}return s}}function Di(a){if(Array.isArray(a))return a}function di(a,i,n){var s=i<0?a.length+i:i;if(s>=0&&s<a.length){var h=n<0?a.length+n:n,_=a.splice(i,1),Y=Gn(_,1),$=Y[0];a.splice(h,0,$)}}function Eo(a,i,n){var s=Hr(a);return di(s,i,n),s}function Bo(a){return Qo(a)||_i(a)||ll(a)||Wo()}function Wo(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function ll(a,i){if(!!a){if(typeof a=="string")return os(a,i);var n=Object.prototype.toString.call(a).slice(8,-1);if(n==="Object"&&a.constructor&&(n=a.constructor.name),n==="Map"||n==="Set")return Array.from(a);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return os(a,i)}}function _i(a){if(typeof Symbol!="undefined"&&a[Symbol.iterator]!=null||a["@@iterator"]!=null)return Array.from(a)}function Qo(a){if(Array.isArray(a))return os(a)}function os(a,i){(i==null||i>a.length)&&(i=a.length);for(var n=0,s=new Array(i);n<i;n++)s[n]=a[n];return s}function qi(a,i,n,s,h,_,Y){try{var $=a[_](Y),X=$.value}catch(Ae){n(Ae);return}$.done?i(X):Promise.resolve(X).then(s,h)}function hs(a){return function(){var i=this,n=arguments;return new Promise(function(s,h){var _=a.apply(i,n);function Y(X){qi(_,s,h,Y,$,"next",X)}function $(X){qi(_,s,h,Y,$,"throw",X)}Y(void 0)})}}function zo(a,i){var n=Object.keys(a);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(a);i&&(s=s.filter(function(h){return Object.getOwnPropertyDescriptor(a,h).enumerable})),n.push.apply(n,s)}return n}function us(a){for(var i=1;i<arguments.length;i++){var n=arguments[i]!=null?arguments[i]:{};i%2?zo(Object(n),!0).forEach(function(s){Xs(a,s,n[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(a,Object.getOwnPropertyDescriptors(n)):zo(Object(n)).forEach(function(s){Object.defineProperty(a,s,Object.getOwnPropertyDescriptor(n,s))})}return a}function Xs(a,i,n){return i in a?Object.defineProperty(a,i,{value:n,enumerable:!0,configurable:!0,writable:!0}):a[i]=n,a}function au(a){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?au=function(n){return typeof n}:au=function(n){return n&&typeof Symbol=="function"&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n},au(a)}var zs=function(i){return i!=null};function pl(){var a=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},i=arguments.length>1?arguments[1]:void 0,n=arguments.length>2?arguments[2]:void 0;if(a===!1)return!1;var s=i.total,h=i.current,_=i.pageSize,Y=i.setPageInfo,$=au(a)==="object"?a:{};return us(us({showTotal:function(Ae,gt){return"".concat(n.getMessage("pagination.total.range","\u7B2C")," ").concat(gt[0],"-").concat(gt[1]," ").concat(n.getMessage("pagination.total.total","\u6761/\u603B\u5171")," ").concat(Ae," ").concat(n.getMessage("pagination.total.item","\u6761"))},showSizeChanger:!0,total:s},$),{},{current:h,pageSize:_,onChange:function(Ae,gt){var Ct=a.onChange;Ct==null||Ct(Ae,gt||20),(gt!==_||h!==Ae)&&Y({pageSize:gt,current:Ae})}})}function xl(a,i,n){var s=us(us({},n.editableUtils),{},{pageInfo:i.pageInfo,reload:function(){var h=hs(we.a.mark(function Y($){return we.a.wrap(function(Ae){for(;;)switch(Ae.prev=Ae.next){case 0:if(!$){Ae.next=3;break}return Ae.next=3,n.onCleanSelected();case 3:i==null||i.reload();case 4:case"end":return Ae.stop()}},Y)}));function _(Y){return h.apply(this,arguments)}return _}(),reloadAndRest:function(){var h=hs(we.a.mark(function Y(){return we.a.wrap(function(X){for(;;)switch(X.prev=X.next){case 0:return n.onCleanSelected(),X.next=3,i.setPageInfo({current:1});case 3:return X.next=5,i==null?void 0:i.reload();case 5:case"end":return X.stop()}},Y)}));function _(){return h.apply(this,arguments)}return _}(),reset:function(){var h=hs(we.a.mark(function Y(){var $;return we.a.wrap(function(Ae){for(;;)switch(Ae.prev=Ae.next){case 0:return Ae.next=2,n.resetAll();case 2:return Ae.next=4,i==null||($=i.reset)===null||$===void 0?void 0:$.call(i);case 4:return Ae.next=6,i==null?void 0:i.reload();case 6:case"end":return Ae.stop()}},Y)}));function _(){return h.apply(this,arguments)}return _}(),fullScreen:function(){return n.fullScreen()},clearSelected:function(){return n.onCleanSelected()},setPageInfo:function(_){return i.setPageInfo(_)}});a.current=s}function Ns(a,i){return i.filter(function(n){return n}).length<1?a:i.reduce(function(n,s){return s(n)},a)}var yc=function(i,n){return n===void 0?!1:typeof n=="boolean"?n:n[i]},nc=function(i){var n;return i&&au(i)==="object"&&(i==null||(n=i.props)===null||n===void 0?void 0:n.colSpan)},Ru=function(i,n){return i?Array.isArray(i)?i.join("-"):i.toString():"".concat(n)};function Hd(a){return Array.isArray(a)?a.join(","):a==null?void 0:a.toString()}function Ft(a){var i={},n={};return a.forEach(function(s){var h=Hd(s.dataIndex);if(!!h){if(s.filters){var _=s.defaultFilteredValue;_===void 0?i[h]=null:i[h]=s.defaultFilteredValue}s.sorter&&s.defaultSortOrder&&(n[h]=s.defaultSortOrder)}}),{sort:n,filter:i}}function Ht(a,i){var n=a.oldIndex,s=a.newIndex;if(n!==s){var h=Eo(Bo(i||[]),n,s).filter(function(_){return!!_});return Bo(h)}return null}var Ue=["data","success","total"];function He(a){return ln(a)||cr(a)||fs(a)||Zt()}function Zt(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function cr(a){if(typeof Symbol!="undefined"&&a[Symbol.iterator]!=null||a["@@iterator"]!=null)return Array.from(a)}function ln(a){if(Array.isArray(a))return vs(a)}function Mn(a,i){if(a==null)return{};var n=Cn(a,i),s,h;if(Object.getOwnPropertySymbols){var _=Object.getOwnPropertySymbols(a);for(h=0;h<_.length;h++)s=_[h],!(i.indexOf(s)>=0)&&(!Object.prototype.propertyIsEnumerable.call(a,s)||(n[s]=a[s]))}return n}function Cn(a,i){if(a==null)return{};var n={},s=Object.keys(a),h,_;for(_=0;_<s.length;_++)h=s[_],!(i.indexOf(h)>=0)&&(n[h]=a[h]);return n}function qn(a,i,n,s,h,_,Y){try{var $=a[_](Y),X=$.value}catch(Ae){n(Ae);return}$.done?i(X):Promise.resolve(X).then(s,h)}function Ea(a){return function(){var i=this,n=arguments;return new Promise(function(s,h){var _=a.apply(i,n);function Y(X){qn(_,s,h,Y,$,"next",X)}function $(X){qn(_,s,h,Y,$,"throw",X)}Y(void 0)})}}function ji(a,i){var n=Object.keys(a);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(a);i&&(s=s.filter(function(h){return Object.getOwnPropertyDescriptor(a,h).enumerable})),n.push.apply(n,s)}return n}function ro(a){for(var i=1;i<arguments.length;i++){var n=arguments[i]!=null?arguments[i]:{};i%2?ji(Object(n),!0).forEach(function(s){Ao(a,s,n[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(a,Object.getOwnPropertyDescriptors(n)):ji(Object(n)).forEach(function(s){Object.defineProperty(a,s,Object.getOwnPropertyDescriptor(n,s))})}return a}function Ao(a,i,n){return i in a?Object.defineProperty(a,i,{value:n,enumerable:!0,configurable:!0,writable:!0}):a[i]=n,a}function uo(a,i){return Yl(a)||bs(a,i)||fs(a,i)||So()}function So(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function fs(a,i){if(!!a){if(typeof a=="string")return vs(a,i);var n=Object.prototype.toString.call(a).slice(8,-1);if(n==="Object"&&a.constructor&&(n=a.constructor.name),n==="Map"||n==="Set")return Array.from(a);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return vs(a,i)}}function vs(a,i){(i==null||i>a.length)&&(i=a.length);for(var n=0,s=new Array(i);n<i;n++)s[n]=a[n];return s}function bs(a,i){var n=a==null?null:typeof Symbol!="undefined"&&a[Symbol.iterator]||a["@@iterator"];if(n!=null){var s=[],h=!0,_=!1,Y,$;try{for(n=n.call(a);!(h=(Y=n.next()).done)&&(s.push(Y.value),!(i&&s.length===i));h=!0);}catch(X){_=!0,$=X}finally{try{!h&&n.return!=null&&n.return()}finally{if(_)throw $}}return s}}function Yl(a){if(Array.isArray(a))return a}var Ml=function(i){var n=i.pageInfo;if(n){var s=n.current,h=n.defaultCurrent,_=n.pageSize,Y=n.defaultPageSize;return{current:s||h||1,total:0,pageSize:_||Y||20}}return{current:1,total:0,pageSize:20}},Xu=function(i,n,s){var h=Object(I.useRef)(),_=s||{},Y=_.onLoad,$=_.manual,X=_.polling,Ae=_.onRequestError,gt=_.debounceTime,Ct=gt===void 0?20:gt,Lt=Object(I.useRef)($),Ut=Object(I.useRef)(),or=Object(Gf.a)(n,{value:s==null?void 0:s.dataSource,onChange:s==null?void 0:s.onDataSourceChange}),Cr=uo(or,2),sr=Cr[0],fr=Cr[1],_r=Object(Gf.a)(!1,{value:s==null?void 0:s.loading,onChange:s==null?void 0:s.onLoadingChange}),Qr=uo(_r,2),bn=Qr[0],Vn=Qr[1],Xn=Object(I.useRef)(!1),Hn=Object(Gf.a)(function(){return Ml(s)},{onChange:s==null?void 0:s.onPageInfoChange}),yn=uo(Hn,2),xn=yn[0],Wn=yn[1],Un=Object(Gf.a)(!1),pa=uo(Un,2),Zn=pa[0],ka=pa[1],Bi=function(Ni,po){Object(df.unstable_batchedUpdates)(function(){fr(Ni),(xn==null?void 0:xn.total)!==po&&Wn(ro(ro({},xn),{},{total:po||Ni.length}))})},Ki=Object(qd.a)(xn==null?void 0:xn.current),Po=Object(qd.a)(xn==null?void 0:xn.pageSize),Zi=Object(qd.a)(X),wo=s||{},io=wo.effects,qo=io===void 0?[]:io,Js=function(){var ho=Ea(we.a.mark(function Ni(po){var li,Sa,Xa,oo,Cs,nl,Jl,Ol,cu,Tl,Nc,Bl;return we.a.wrap(function(is){for(;;)switch(is.prev=is.next){case 0:if(!(bn||Xn.current||!i)){is.next=2;break}return is.abrupt("return",[]);case 2:if(!Lt.current){is.next=5;break}return Lt.current=!1,is.abrupt("return",[]);case 5:return po?ka(!0):Vn(!0),Xn.current=!0,li=xn||{},Sa=li.pageSize,Xa=li.current,is.prev=8,oo=(s==null?void 0:s.pageInfo)!==!1?{current:Xa,pageSize:Sa}:void 0,is.next=12,i(oo);case 12:if(is.t0=is.sent,is.t0){is.next=15;break}is.t0={};case 15:if(Cs=is.t0,nl=Cs.data,Jl=nl===void 0?[]:nl,Ol=Cs.success,cu=Cs.total,Tl=cu===void 0?0:cu,Nc=Mn(Cs,Ue),Xn.current=!1,Ol!==!1){is.next=25;break}return is.abrupt("return",[]);case 25:return Bl=Ns(Jl,[s.postData].filter(function(qs){return qs})),Bi(Bl,Tl),Y==null||Y(Bl,Nc),is.abrupt("return",Bl);case 31:if(is.prev=31,is.t1=is.catch(8),Xn.current=!1,Ae!==void 0){is.next=36;break}throw new Error(is.t1);case 36:sr===void 0&&fr([]),Ae(is.t1);case 38:return is.prev=38,requestAnimationFrame(function(){Vn(!1),ka(!1)}),is.finish(38);case 41:return is.abrupt("return",[]);case 42:case"end":return is.stop()}},Ni,null,[[8,31,38,41]])}));return function(po){return ho.apply(this,arguments)}}(),Yo=Br(function(){var ho=Ea(we.a.mark(function Ni(po){var li,Sa;return we.a.wrap(function(oo){for(;;)switch(oo.prev=oo.next){case 0:return Ut.current&&clearTimeout(Ut.current),oo.next=3,Js(po);case 3:return li=oo.sent,Sa=Object(ce.a)(X,li),Sa&&!h.current&&(Ut.current=setTimeout(function(){Yo.run(Sa)},Math.max(Sa,2e3))),oo.abrupt("return",li);case 7:case"end":return oo.stop()}},Ni)}));return function(Ni){return ho.apply(this,arguments)}}(),[],Ct||10);return Object(I.useEffect)(function(){return X||clearTimeout(Ut.current),!Zi&&X&&Yo.run(!0),function(){clearTimeout(Ut.current)}},[X]),Object(I.useEffect)(function(){return function(){h.current=!0}},[]),Object(I.useEffect)(function(){var ho=xn||{},Ni=ho.current,po=ho.pageSize;(!Ki||Ki===Ni)&&(!Po||Po===po)||s.pageInfo&&sr&&(sr==null?void 0:sr.length)>po||Ni!==void 0&&sr&&sr.length<=po&&Yo.run(!1)},[xn==null?void 0:xn.current]),Object(I.useEffect)(function(){!Po||Yo.run(!1)},[xn==null?void 0:xn.pageSize]),Object(F.a)(function(){return Yo.run(!1),$||(Lt.current=!1),function(){Yo.cancel()}},[].concat(He(qo),[$])),{dataSource:sr,setDataSource:fr,loading:bn,reload:function(){var ho=Ea(we.a.mark(function po(){return we.a.wrap(function(Sa){for(;;)switch(Sa.prev=Sa.next){case 0:return Sa.next=2,Yo.run(!1);case 2:case"end":return Sa.stop()}},po)}));function Ni(){return ho.apply(this,arguments)}return Ni}(),pageInfo:xn,pollingLoading:Zn,reset:function(){var ho=Ea(we.a.mark(function po(){var li,Sa,Xa,oo,Cs,nl,Jl,Ol;return we.a.wrap(function(Tl){for(;;)switch(Tl.prev=Tl.next){case 0:li=s||{},Sa=li.pageInfo,Xa=Sa||{},oo=Xa.defaultCurrent,Cs=oo===void 0?1:oo,nl=Xa.defaultPageSize,Jl=nl===void 0?20:nl,Ol={current:Cs,total:0,pageSize:Jl},Wn(Ol);case 4:case"end":return Tl.stop()}},po)}));function Ni(){return ho.apply(this,arguments)}return Ni}(),setPageInfo:function(){var ho=Ea(we.a.mark(function po(li){return we.a.wrap(function(Xa){for(;;)switch(Xa.prev=Xa.next){case 0:Wn(ro(ro({},xn),li));case 1:case"end":return Xa.stop()}},po)}));function Ni(po){return ho.apply(this,arguments)}return Ni}()}},Ul=Xu,Ds=r("zP5H");function Qs(a,i){return pf(a)||hf(a,i)||Kl(a,i)||Vl()}function Vl(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Kl(a,i){if(!!a){if(typeof a=="string")return vl(a,i);var n=Object.prototype.toString.call(a).slice(8,-1);if(n==="Object"&&a.constructor&&(n=a.constructor.name),n==="Map"||n==="Set")return Array.from(a);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return vl(a,i)}}function vl(a,i){(i==null||i>a.length)&&(i=a.length);for(var n=0,s=new Array(i);n<i;n++)s[n]=a[n];return s}function hf(a,i){var n=a==null?null:typeof Symbol!="undefined"&&a[Symbol.iterator]||a["@@iterator"];if(n!=null){var s=[],h=!0,_=!1,Y,$;try{for(n=n.call(a);!(h=(Y=n.next()).done)&&(s.push(Y.value),!(i&&s.length===i));h=!0);}catch(X){_=!0,$=X}finally{try{!h&&n.return!=null&&n.return()}finally{if(_)throw $}}return s}}function pf(a){if(Array.isArray(a))return a}function Gp(){var a,i,n,s,h=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},_=Object(I.useRef)(),Y=Object(I.useRef)(),$=Object(I.useRef)(),X=Object(I.useState)(""),Ae=Qs(X,2),gt=Ae[0],Ct=Ae[1],Lt=Object(I.useRef)([]),Ut=Object(We.a)(function(){return h.size||h.defaultSize||"middle"},{value:h.size,onChange:h.onSizeChange}),or=Qs(Ut,2),Cr=or[0],sr=or[1],fr=Object(I.useMemo)(function(){var Hn,yn={};return(Hn=h.columns)===null||Hn===void 0||Hn.forEach(function(xn,Wn){var Un=xn.key,pa=xn.fixed,Zn=Ru(Un,Wn);Zn&&(yn[Zn]={show:!0,fixed:pa})}),yn},[h.columns]),_r=Object(We.a)(function(){var Hn,yn,xn=h.columnsState||{},Wn=xn.persistenceType,Un=xn.persistenceKey;if(Un&&Wn&&typeof window!="undefined"){var pa=window[Wn];try{var Zn=pa==null?void 0:pa.getItem(Un);if(Zn)return JSON.parse(Zn)}catch(ka){console.warn(ka)}}return h.columnsStateMap||((Hn=h.columnsState)===null||Hn===void 0?void 0:Hn.value)||((yn=h.columnsState)===null||yn===void 0?void 0:yn.defaultValue)||fr},{value:((a=h.columnsState)===null||a===void 0?void 0:a.value)||h.columnsStateMap,onChange:((i=h.columnsState)===null||i===void 0?void 0:i.onChange)||h.onColumnsStateChange}),Qr=Qs(_r,2),bn=Qr[0],Vn=Qr[1];Object(Ot.b)(!h.columnsStateMap,"columnsStateMap\u5DF2\u7ECF\u5E9F\u5F03\uFF0C\u8BF7\u4F7F\u7528 columnsState.value \u66FF\u6362"),Object(Ot.b)(!h.columnsStateMap,"COLUMNSSTATEMAP has been discarded, please use columnSstate.value replacement");var Xn=Object(I.useCallback)(function(){var Hn=h.columnsState||{},yn=Hn.persistenceType,xn=Hn.persistenceKey;if(!(!xn||!yn||typeof window=="undefined")){var Wn=window[yn];try{Wn==null||Wn.removeItem(xn)}catch(Un){console.warn(Un)}}},[h.columnsState]);return Object(I.useEffect)(function(){var Hn,yn;if(!(!((Hn=h.columnsState)===null||Hn===void 0?void 0:Hn.persistenceKey)||!((yn=h.columnsState)===null||yn===void 0?void 0:yn.persistenceType))&&typeof window!="undefined"){var xn=h.columnsState,Wn=xn.persistenceType,Un=xn.persistenceKey,pa=window[Wn];try{pa==null||pa.setItem(Un,JSON.stringify(bn))}catch(Zn){console.error(Zn)}}},[(n=h.columnsState)===null||n===void 0?void 0:n.persistenceKey,bn,(s=h.columnsState)===null||s===void 0?void 0:s.persistenceType]),{action:_,setAction:function(yn){_.current=yn},sortKeyColumns:Lt,setSortKeyColumns:function(yn){Lt.current=yn},propsRef:$,columnsMap:bn,keyWords:gt,setKeyWords:function(yn){return Ct(yn)},setTableSize:sr,tableSize:Cr,prefixName:Y.current,setPrefixName:function(yn){Y.current=yn},setColumnsMap:Vn,columns:h.columns,clearPersistenceStorage:Xn}}var vh=Object(Ds.a)(Gp),bc=vh,lv={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M909.1 209.3l-56.4 44.1C775.8 155.1 656.2 92 521.9 92 290 92 102.3 279.5 102 511.5 101.7 743.7 289.8 932 521.9 932c181.3 0 335.8-115 394.6-276.1 1.5-4.2-.7-8.9-4.9-10.3l-56.7-19.5a8 8 0 00-10.1 4.8c-1.8 5-3.8 10-5.9 14.9-17.3 41-42.1 77.8-73.7 109.4A344.77 344.77 0 01655.9 829c-42.3 17.9-87.4 27-133.8 27-46.5 0-91.5-9.1-133.8-27A341.5 341.5 0 01279 755.2a342.16 342.16 0 01-73.7-109.4c-17.9-42.4-27-87.4-27-133.9s9.1-91.5 27-133.9c17.3-41 42.1-77.8 73.7-109.4 31.6-31.6 68.4-56.4 109.3-73.8 42.3-17.9 87.4-27 133.8-27 46.5 0 91.5 9.1 133.8 27a341.5 341.5 0 01109.3 73.8c9.9 9.9 19.2 20.4 27.8 31.4l-60.2 47a8 8 0 003 14.1l175.6 43c5 1.2 9.9-2.6 9.9-7.7l.8-180.9c-.1-6.6-7.8-10.3-13-6.2z"}}]},name:"reload",theme:"outlined"},Tv=lv,Kp=function(i,n){return I.createElement(uc.a,Object(Pt.a)(Object(Pt.a)({},i),{},{ref:n,icon:Tv}))};Kp.displayName="ReloadOutlined";var tm=I.forwardRef(Kp),Ep=r("eFNv"),Gs=r("5NDa"),rh=r("5rEg"),rm=r("Znn+"),Zp=r("ZTPi"),tg=r("SE9/"),nm=r("YSkC"),gm=r("lUTK"),mh=r("Y79o"),rg=["label","key"];function rp(){return rp=Object.assign||function(a){for(var i=1;i<arguments.length;i++){var n=arguments[i];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(a[s]=n[s])}return a},rp.apply(this,arguments)}function ym(a,i){if(a==null)return{};var n=Ic(a,i),s,h;if(Object.getOwnPropertySymbols){var _=Object.getOwnPropertySymbols(a);for(h=0;h<_.length;h++)s=_[h],!(i.indexOf(s)>=0)&&(!Object.prototype.propertyIsEnumerable.call(a,s)||(n[s]=a[s]))}return n}function Ic(a,i){if(a==null)return{};var n={},s=Object.keys(a),h,_;for(_=0;_<s.length;_++)h=s[_],!(i.indexOf(h)>=0)&&(n[h]=a[h]);return n}function Av(a,i){return nh(a)||Lh(a,i)||gh(a,i)||Hl()}function Hl(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function gh(a,i){if(!!a){if(typeof a=="string")return am(a,i);var n=Object.prototype.toString.call(a).slice(8,-1);if(n==="Object"&&a.constructor&&(n=a.constructor.name),n==="Map"||n==="Set")return Array.from(a);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return am(a,i)}}function am(a,i){(i==null||i>a.length)&&(i=a.length);for(var n=0,s=new Array(i);n<i;n++)s[n]=a[n];return s}function Lh(a,i){var n=a==null?null:typeof Symbol!="undefined"&&a[Symbol.iterator]||a["@@iterator"];if(n!=null){var s=[],h=!0,_=!1,Y,$;try{for(n=n.call(a);!(h=(Y=n.next()).done)&&(s.push(Y.value),!(i&&s.length===i));h=!0);}catch(X){_=!0,$=X}finally{try{!h&&n.return!=null&&n.return()}finally{if(_)throw $}}return s}}function nh(a){if(Array.isArray(a))return a}var np=function(i){var n=i.items,s=n===void 0?[]:n,h=i.type,_=h===void 0?"inline":h,Y=i.prefixCls,$=i.activeKey,X=Object(We.a)($,{value:$,onChange:i.onChange}),Ae=Av(X,2),gt=Ae[0],Ct=Ae[1];if(s.length<1)return null;var Lt=s.find(function(Ut){return Ut.key===gt})||s[0];return _==="inline"?Ce.a.createElement("div",{className:Re()("".concat(Y,"-menu"),"".concat(Y,"-inline-menu"))},s.map(function(Ut,or){return Ce.a.createElement("div",{key:Ut.key||or,onClick:function(){Ct(Ut.key)},className:Re()("".concat(Y,"-inline-menu-item"),Lt.key===Ut.key?"".concat(Y,"-inline-menu-item-active"):void 0)},Ut.label)})):_==="tab"?Ce.a.createElement(Zp.a,{activeKey:Lt.key,onTabClick:function(or){return Ct(or)}},s.map(function(Ut,or){var Cr=Ut.label,sr=Ut.key,fr=ym(Ut,rg);return Ce.a.createElement(Zp.a.TabPane,rp({tab:Cr,key:sr||or},fr))})):Ce.a.createElement("div",{className:Re()("".concat(Y,"-menu"),"".concat(Y,"-dropdownmenu"))},Ce.a.createElement(Sf.a,{trigger:["click"],overlay:Ce.a.createElement(Gl.a,{selectedKeys:[Lt.key],onClick:function(or){Ct(or.key)}},s.map(function(Ut,or){return Ce.a.createElement(Gl.a.Item,{key:Ut.key||or,disabled:Ut.disabled},Ut.label)}))},Ce.a.createElement(y.b,{className:"".concat(Y,"-dropdownmenu-label")},Lt.label,Ce.a.createElement(ku.a,null))))},Mv=np;function Dh(a,i){var n=Object.keys(a);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(a);i&&(s=s.filter(function(h){return Object.getOwnPropertyDescriptor(a,h).enumerable})),n.push.apply(n,s)}return n}function Fh(a){for(var i=1;i<arguments.length;i++){var n=arguments[i]!=null?arguments[i]:{};i%2?Dh(Object(n),!0).forEach(function(s){Sp(a,s,n[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(a,Object.getOwnPropertyDescriptors(n)):Dh(Object(n)).forEach(function(s){Object.defineProperty(a,s,Object.getOwnPropertyDescriptor(n,s))})}return a}function Sp(a,i,n){return i in a?Object.defineProperty(a,i,{value:n,enumerable:!0,configurable:!0,writable:!0}):a[i]=n,a}function Rc(){return Rc=Object.assign||function(a){for(var i=1;i<arguments.length;i++){var n=arguments[i];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(a[s]=n[s])}return a},Rc.apply(this,arguments)}function Op(a){if(Ce.a.isValidElement(a))return a;if(a){var i=a,n=i.icon,s=i.tooltip,h=i.onClick,_=i.key;return n&&s?Ce.a.createElement(Tc.a,{title:s},Ce.a.createElement("span",{key:_,onClick:function(){h&&h(_)}},n)):n}return null}var vf=function(i){var n=i.prefixCls,s=i.tabs,h=s===void 0?{}:s,_=i.multipleLine,Y=i.filtersNode;return _?Ce.a.createElement("div",{className:"".concat(n,"-extra-line")},h.items&&h.items.length?Ce.a.createElement(Zp.a,{activeKey:h.activeKey,onChange:h.onChange,tabBarExtraContent:Y},h.items.map(function($,X){return Ce.a.createElement(Zp.a.TabPane,Rc({key:$.key||X},$))})):Y):null},_v=function(i){var n=i.prefixCls,s=i.title,h=i.subTitle,_=i.tooltip,Y=i.className,$=i.style,X=i.search,Ae=i.onSearch,gt=i.multipleLine,Ct=gt===void 0?!1:gt,Lt=i.filter,Ut=i.actions,or=Ut===void 0?[]:Ut,Cr=i.settings,sr=Cr===void 0?[]:Cr,fr=i.tabs,_r=fr===void 0?{}:fr,Qr=i.menu,bn=Object(nu.d)(),Vn=Object(tg.a)(),Xn=Vn==="sm"||Vn==="xs",Hn=bn.getMessage("tableForm.inputPlaceholder","\u8BF7\u8F93\u5165"),yn=Object(I.useMemo)(function(){return X?Ce.a.isValidElement(X)?X:Ce.a.createElement(rh.a.Search,Rc({style:{width:200},placeholder:Hn},X,{onSearch:function(){for(var qo,Js=arguments.length,Yo=new Array(Js),ho=0;ho<Js;ho++)Yo[ho]=arguments[ho];Ae==null||Ae(Yo==null?void 0:Yo[0]),(qo=X.onSearch)===null||qo===void 0||qo.call.apply(qo,[X].concat(Yo))}})):null},[Hn,Ae,X]),xn=Object(I.useContext)(Mt.b.ConfigContext),Wn=xn.getPrefixCls,Un=Wn("pro-table-list-toolbar",n),pa=Object(I.useMemo)(function(){return Lt?Ce.a.createElement("div",{className:"".concat(Un,"-filter")},Lt):null},[Lt,Un]),Zn=Object(I.useMemo)(function(){return Qr||s||h||_},[Qr,h,s,_]),ka=Object(I.useMemo)(function(){return Array.isArray(or)?or.length<1?null:Ce.a.createElement(y.b,{align:"center"},or.map(function(io,qo){return Ce.a.isValidElement(io)?Ce.a.cloneElement(io,Fh({key:qo},io==null?void 0:io.props)):Ce.a.createElement(Ce.a.Fragment,{key:qo},io)})):or},[or]),Bi=Object(I.useMemo)(function(){return Zn&&yn||!Ct&&pa||ka||(sr==null?void 0:sr.length)},[ka,pa,Zn,Ct,yn,sr==null?void 0:sr.length]),Ki=Object(I.useMemo)(function(){return _||s||h||Qr||!Zn&&yn},[Zn,Qr,yn,h,s,_]),Po=Object(I.useMemo)(function(){return!Ki&&Bi?Ce.a.createElement("div",{className:"".concat(Un,"-left")}):!Qr&&(Zn||!yn)?Ce.a.createElement("div",{className:"".concat(Un,"-left")},Ce.a.createElement("div",{className:"".concat(Un,"-title")},Ce.a.createElement(nm.a,{tooltip:_,label:s,subTitle:h}))):Ce.a.createElement(y.b,{className:"".concat(Un,"-left")},Ce.a.createElement("div",{className:"".concat(Un,"-title")},Ce.a.createElement(nm.a,{tooltip:_,label:s,subTitle:h})),Qr&&Ce.a.createElement(Mv,Rc({},Qr,{prefixCls:Un})),!Zn&&yn?Ce.a.createElement("div",{className:"".concat(Un,"-search")},yn):null)},[Ki,Bi,Zn,Qr,Un,yn,h,s,_]),Zi=Object(I.useMemo)(function(){return Bi?Ce.a.createElement(y.b,{className:"".concat(Un,"-right"),direction:Xn?"vertical":"horizontal",size:16,align:Xn?"end":"center"},Zn&&yn?Ce.a.createElement("div",{className:"".concat(Un,"-search")},yn):null,Ct?null:pa,ka,(sr==null?void 0:sr.length)?Ce.a.createElement(y.b,{size:12,align:"center",className:"".concat(Un,"-setting-items")},sr.map(function(io,qo){var Js=Op(io);return Ce.a.createElement("div",{key:qo,className:"".concat(Un,"-setting-item")},Js)})):null):null},[ka,Xn,pa,Bi,Zn,Ct,Un,yn,sr]),wo=Object(I.useMemo)(function(){if(!Bi&&!Ki)return null;var io=Re()("".concat(Un,"-container"),Sp({},"".concat(Un,"-container-mobile"),Xn));return Ce.a.createElement("div",{className:io},Po,Zi)},[Ki,Bi,Xn,Po,Un,Zi]);return Ce.a.createElement("div",{style:$,className:Re()("".concat(Un),Y)},wo,Ce.a.createElement(vf,{filtersNode:pa,prefixCls:Un,tabs:_r,multipleLine:Ct}))},uv=_v,Yp=r("diRs"),cv=r("KxFI"),$p=r("+nKL"),xd=r("8XRh"),fv=["className","style","motion","motionNodes","motionType","onMotionStart","onMotionEnd","active","treeNodeRequiredProps"],im=["key"],dv=function(i,n){var s=i.className,h=i.style,_=i.motion,Y=i.motionNodes,$=i.motionType,X=i.onMotionStart,Ae=i.onMotionEnd,gt=i.active,Ct=i.treeNodeRequiredProps,Lt=Object(S.a)(i,fv),Ut=I.useState(!0),or=Object(Ie.a)(Ut,2),Cr=or[0],sr=or[1],fr=I.useContext(Hc),_r=fr.prefixCls,Qr=I.useRef(!1),bn=function(){Qr.current||Ae(),Qr.current=!0};return Object(I.useEffect)(function(){Y&&$==="hide"&&Cr&&sr(!1)},[Y]),Object(I.useEffect)(function(){return Y&&X(),function(){Y&&bn()}},[]),Y?I.createElement(xd.b,Object(me.a)({ref:n,visible:Cr},_,{motionAppear:$==="show",onAppearEnd:bn,onLeaveEnd:bn}),function(Vn,Xn){var Hn=Vn.className,yn=Vn.style;return I.createElement("div",{ref:Xn,className:Re()("".concat(_r,"-treenode-motion"),Hn),style:yn},Y.map(function(xn){var Wn=xn.data,Un=Wn.key,pa=Object(S.a)(Wn,im),Zn=xn.isStart,ka=xn.isEnd;delete pa.children;var Bi=Bf(Un,Ct);return I.createElement(Jn,Object(me.a)({},pa,Bi,{active:gt,data:xn.data,key:Un,isStart:Zn,isEnd:ka}))}))}):I.createElement(Jn,Object(me.a)({domRef:n,className:s,style:h},Lt,{active:gt}))};dv.displayName="MotionTreeNode";var Pp=I.forwardRef(dv),om=Pp;function Lc(){var a=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],n=a.length,s=i.length;if(Math.abs(n-s)!==1)return{add:!1,key:null};function h(_,Y){var $=new Map;_.forEach(function(Ae){$.set(Ae,!0)});var X=Y.filter(function(Ae){return!$.has(Ae)});return X.length===1?X[0]:null}return n<s?{add:!0,key:h(a,i)}:{add:!1,key:h(i,a)}}function ah(a,i,n){var s=a.findIndex(function($){var X=$.data;return X.key===n}),h=a[s+1],_=i.findIndex(function($){var X=$.data;return X.key===n});if(h){var Y=i.findIndex(function($){var X=$.data;return X.key===h.data.key});return i.slice(_+1,Y)}return i.slice(_+1)}var km=["prefixCls","data","selectable","checkable","expandedKeys","selectedKeys","checkedKeys","loadedKeys","loadingKeys","halfCheckedKeys","keyEntities","disabled","dragging","dragOverNodeKey","dropPosition","motion","height","itemHeight","virtual","focusable","activeItem","focused","tabIndex","onKeyDown","onFocus","onBlur","onActiveChange","onListChangeStart","onListChangeEnd"],Bm=["key"],ih={width:0,height:0,display:"flex",overflow:"hidden",opacity:0,border:0,padding:0,margin:0},ap=function(){},hv="RC_TREE_MOTION_".concat(Math.random()),Cd={key:hv},ng={key:hv,level:0,index:0,pos:"0",node:Cd},pv={parent:null,children:[],pos:ng.pos,data:Cd,isStart:[],isEnd:[]};function Wd(a,i,n,s){return i===!1||!n?a:a.slice(0,Math.ceil(n/s)+1)}function Vo(a){var i=a.data.key,n=a.pos;return Ws(i,n)}function zm(a){for(var i=String(a.data.key),n=a;n.parent;)n=n.parent,i="".concat(n.data.key," > ").concat(i);return i}var wp=function(i,n){var s=i.prefixCls,h=i.data,_=i.selectable,Y=i.checkable,$=i.expandedKeys,X=i.selectedKeys,Ae=i.checkedKeys,gt=i.loadedKeys,Ct=i.loadingKeys,Lt=i.halfCheckedKeys,Ut=i.keyEntities,or=i.disabled,Cr=i.dragging,sr=i.dragOverNodeKey,fr=i.dropPosition,_r=i.motion,Qr=i.height,bn=i.itemHeight,Vn=i.virtual,Xn=i.focusable,Hn=i.activeItem,yn=i.focused,xn=i.tabIndex,Wn=i.onKeyDown,Un=i.onFocus,pa=i.onBlur,Zn=i.onActiveChange,ka=i.onListChangeStart,Bi=i.onListChangeEnd,Ki=Object(S.a)(i,km),Po=I.useRef(null),Zi=I.useRef(null);I.useImperativeHandle(n,function(){return{scrollTo:function(Ts){Po.current.scrollTo(Ts)},getIndentWidth:function(){return Zi.current.offsetWidth}}});var wo=I.useState($),io=Object(Ie.a)(wo,2),qo=io[0],Js=io[1],Yo=I.useState(h),ho=Object(Ie.a)(Yo,2),Ni=ho[0],po=ho[1],li=I.useState(h),Sa=Object(Ie.a)(li,2),Xa=Sa[0],oo=Sa[1],Cs=I.useState([]),nl=Object(Ie.a)(Cs,2),Jl=nl[0],Ol=nl[1],cu=I.useState(null),Tl=Object(Ie.a)(cu,2),Nc=Tl[0],Bl=Tl[1];function zp(){po(h),oo(h),Ol([]),Bl(null),Bi()}I.useEffect(function(){Js($);var el=Lc(qo,$);if(el.key!==null)if(el.add){var Ts=Ni.findIndex(function(iv){var Oh=iv.data.key;return Oh===el.key}),nf=Wd(ah(Ni,h,el.key),Vn,Qr,bn),Zd=Ni.slice();Zd.splice(Ts+1,0,pv),oo(Zd),Ol(nf),Bl("show")}else{var qv=h.findIndex(function(iv){var Oh=iv.data.key;return Oh===el.key}),Nd=Wd(ah(h,Ni,el.key),Vn,Qr,bn),mm=h.slice();mm.splice(qv+1,0,pv),oo(mm),Ol(Nd),Bl("hide")}else Ni!==h&&(po(h),oo(h))},[$,h]),I.useEffect(function(){Cr||zp()},[Cr]);var is=_r?Xa:h,qs={expandedKeys:$,selectedKeys:X,loadedKeys:gt,loadingKeys:Ct,checkedKeys:Ae,halfCheckedKeys:Lt,dragOverNodeKey:sr,dropPosition:fr,keyEntities:Ut};return I.createElement(I.Fragment,null,yn&&Hn&&I.createElement("span",{style:ih,"aria-live":"assertive"},zm(Hn)),I.createElement("div",{role:"tree"},I.createElement("input",{style:ih,disabled:Xn===!1||or,tabIndex:Xn!==!1?xn:null,onKeyDown:Wn,onFocus:Un,onBlur:pa,value:"",onChange:ap})),I.createElement("div",{className:"".concat(s,"-treenode"),"aria-hidden":!0,style:{position:"absolute",pointerEvents:"none",visibility:"hidden",height:0,overflow:"hidden"}},I.createElement("div",{className:"".concat(s,"-indent")},I.createElement("div",{ref:Zi,className:"".concat(s,"-indent-unit")}))),I.createElement($p.a,Object(me.a)({},Ki,{data:is,itemKey:Vo,height:Qr,fullHeight:!1,virtual:Vn,itemHeight:bn,prefixCls:"".concat(s,"-list"),ref:Po}),function(el){var Ts=el.pos,nf=el.data,Zd=nf.key,qv=Object(S.a)(nf,Bm),Nd=el.isStart,mm=el.isEnd,iv=Ws(Zd,Ts);delete qv.children;var Oh=Bf(iv,qs);return I.createElement(om,Object(me.a)({},qv,Oh,{active:!!Hn&&Zd===Hn.data.key,pos:Ts,data:el.data,isStart:Nd,isEnd:mm,motion:_r,motionNodes:Zd===hv?Jl:null,motionType:Nc,onMotionStart:ka,onMotionEnd:zp,treeNodeRequiredProps:qs,onMouseMove:function(){Zn(null)}}))}))},ip=I.forwardRef(wp);ip.displayName="NodeList";var Tp=ip;function Iv(a){var i=a.dropPosition,n=a.dropLevelOffset,s=a.indent,h={pointerEvents:"none",position:"absolute",right:0,backgroundColor:"red",height:2};switch(i){case-1:h.top=0,h.left=-n*s;break;case 1:h.bottom=0,h.left=-n*s;break;case 0:h.bottom=0,h.left=s;break}return I.createElement("div",{style:h})}var op=function(a){Object(du.a)(n,a);var i=Object(Bu.a)(n);function n(){var s;Object(Wl.a)(this,n);for(var h=arguments.length,_=new Array(h),Y=0;Y<h;Y++)_[Y]=arguments[Y];return s=i.call.apply(i,[this].concat(_)),s.destroyed=!1,s.delayedDragEnterLogic=void 0,s.state={keyEntities:{},indent:null,selectedKeys:[],checkedKeys:[],halfCheckedKeys:[],loadedKeys:[],loadingKeys:[],expandedKeys:[],dragging:!1,dragChildrenKeys:[],dropTargetKey:null,dropPosition:null,dropContainerKey:null,dropLevelOffset:null,dropTargetPos:null,dropAllowed:!0,dragOverNodeKey:null,treeData:[],flattenNodes:[],focused:!1,activeKey:null,listChanging:!1,prevProps:null},s.dragStartMousePosition=null,s.dragNode=void 0,s.listRef=I.createRef(),s.onNodeDragStart=function($,X){var Ae=s.state,gt=Ae.expandedKeys,Ct=Ae.keyEntities,Lt=s.props.onDragStart,Ut=X.props.eventKey;s.dragNode=X,s.dragStartMousePosition={x:$.clientX,y:$.clientY};var or=w(gt,Ut);s.setState({dragging:!0,dragChildrenKeys:br(Ut,Ct),indent:s.listRef.current.getIndentWidth()}),s.setExpandedKeys(or),window.addEventListener("dragend",s.onWindowDragEnd),Lt&&Lt({event:$,node:Ms(X.props)})},s.onNodeDragEnter=function($,X){var Ae=s.state,gt=Ae.expandedKeys,Ct=Ae.keyEntities,Lt=Ae.dragChildrenKeys,Ut=Ae.flattenNodes,or=Ae.indent,Cr=s.props,sr=Cr.onDragEnter,fr=Cr.onExpand,_r=Cr.allowDrop,Qr=Cr.direction,bn=X.props.pos,Vn=Object(al.a)(s),Xn=Vn.dragNode,Hn=En($,Xn,X,or,s.dragStartMousePosition,_r,Ut,Ct,gt,Qr),yn=Hn.dropPosition,xn=Hn.dropLevelOffset,Wn=Hn.dropTargetKey,Un=Hn.dropContainerKey,pa=Hn.dropTargetPos,Zn=Hn.dropAllowed,ka=Hn.dragOverNodeKey;if(!Xn||Lt.indexOf(Wn)!==-1||!Zn){s.setState({dragOverNodeKey:null,dropPosition:null,dropLevelOffset:null,dropTargetKey:null,dropContainerKey:null,dropTargetPos:null,dropAllowed:!1});return}if(s.delayedDragEnterLogic||(s.delayedDragEnterLogic={}),Object.keys(s.delayedDragEnterLogic).forEach(function(Bi){clearTimeout(s.delayedDragEnterLogic[Bi])}),Xn.props.eventKey!==X.props.eventKey&&($.persist(),s.delayedDragEnterLogic[bn]=window.setTimeout(function(){if(!!s.state.dragging){var Bi=Object(ht.a)(gt),Ki=Ct[X.props.eventKey];Ki&&(Ki.children||[]).length&&(Bi=re(gt,X.props.eventKey)),"expandedKeys"in s.props||s.setExpandedKeys(Bi),fr&&fr(Bi,{node:Ms(X.props),expanded:!0,nativeEvent:$.nativeEvent})}},800)),Xn.props.eventKey===Wn&&xn===0){s.setState({dragOverNodeKey:null,dropPosition:null,dropLevelOffset:null,dropTargetKey:null,dropContainerKey:null,dropTargetPos:null,dropAllowed:!1});return}s.setState({dragOverNodeKey:ka,dropPosition:yn,dropLevelOffset:xn,dropTargetKey:Wn,dropContainerKey:Un,dropTargetPos:pa,dropAllowed:Zn}),sr&&sr({event:$,node:Ms(X.props),expandedKeys:gt})},s.onNodeDragOver=function($,X){var Ae=s.state,gt=Ae.dragChildrenKeys,Ct=Ae.flattenNodes,Lt=Ae.keyEntities,Ut=Ae.expandedKeys,or=Ae.indent,Cr=s.props,sr=Cr.onDragOver,fr=Cr.allowDrop,_r=Cr.direction,Qr=Object(al.a)(s),bn=Qr.dragNode,Vn=En($,bn,X,or,s.dragStartMousePosition,fr,Ct,Lt,Ut,_r),Xn=Vn.dropPosition,Hn=Vn.dropLevelOffset,yn=Vn.dropTargetKey,xn=Vn.dropContainerKey,Wn=Vn.dropAllowed,Un=Vn.dropTargetPos,pa=Vn.dragOverNodeKey;!bn||gt.indexOf(yn)!==-1||!Wn||(bn.props.eventKey===yn&&Hn===0?s.state.dropPosition===null&&s.state.dropLevelOffset===null&&s.state.dropTargetKey===null&&s.state.dropContainerKey===null&&s.state.dropTargetPos===null&&s.state.dropAllowed===!1&&s.state.dragOverNodeKey===null||s.setState({dropPosition:null,dropLevelOffset:null,dropTargetKey:null,dropContainerKey:null,dropTargetPos:null,dropAllowed:!1,dragOverNodeKey:null}):Xn===s.state.dropPosition&&Hn===s.state.dropLevelOffset&&yn===s.state.dropTargetKey&&xn===s.state.dropContainerKey&&Un===s.state.dropTargetPos&&Wn===s.state.dropAllowed&&pa===s.state.dragOverNodeKey||s.setState({dropPosition:Xn,dropLevelOffset:Hn,dropTargetKey:yn,dropContainerKey:xn,dropTargetPos:Un,dropAllowed:Wn,dragOverNodeKey:pa}),sr&&sr({event:$,node:Ms(X.props)}))},s.onNodeDragLeave=function($,X){var Ae=s.props.onDragLeave;Ae&&Ae({event:$,node:Ms(X.props)})},s.onWindowDragEnd=function($){s.onNodeDragEnd($,null,!0),window.removeEventListener("dragend",s.onWindowDragEnd)},s.onNodeDragEnd=function($,X){var Ae=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1,gt=s.props.onDragEnd;s.setState({dragOverNodeKey:null}),s.cleanDragState(),gt&&!Ae&&gt({event:$,node:Ms(X.props)}),s.dragNode=null},s.onNodeDrop=function($,X){var Ae,gt=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1,Ct=s.state,Lt=Ct.dragChildrenKeys,Ut=Ct.dropPosition,or=Ct.dropTargetKey,Cr=Ct.dropTargetPos,sr=Ct.dropAllowed;if(!!sr){var fr=s.props.onDrop;if(s.setState({dragOverNodeKey:null}),s.cleanDragState(),or!==null){var _r=Object(Pt.a)(Object(Pt.a)({},Bf(or,s.getTreeNodeRequiredProps())),{},{active:((Ae=s.getActiveItem())===null||Ae===void 0?void 0:Ae.data.key)===or,data:s.state.keyEntities[or].node}),Qr=Lt.indexOf(or)!==-1;Object(Ot.a)(!Qr,"Can not drop to dragNode's children node. This is a bug of rc-tree. Please report an issue.");var bn=Qe(Cr),Vn={event:$,node:Ms(_r),dragNode:s.dragNode?Ms(s.dragNode.props):null,dragNodesKeys:[s.dragNode.props.eventKey].concat(Lt),dropToGap:Ut!==0,dropPosition:Ut+Number(bn[bn.length-1])};fr&&!gt&&fr(Vn),s.dragNode=null}}},s.cleanDragState=function(){var $=s.state.dragging;$&&s.setState({dragging:!1,dropPosition:null,dropContainerKey:null,dropTargetKey:null,dropLevelOffset:null,dropAllowed:!0,dragOverNodeKey:null}),s.dragStartMousePosition=null},s.onNodeClick=function($,X){var Ae=s.props.onClick;Ae&&Ae($,X)},s.onNodeDoubleClick=function($,X){var Ae=s.props.onDoubleClick;Ae&&Ae($,X)},s.onNodeSelect=function($,X){var Ae=s.state.selectedKeys,gt=s.state.keyEntities,Ct=s.props,Lt=Ct.onSelect,Ut=Ct.multiple,or=X.selected,Cr=X.key,sr=!or;sr?Ut?Ae=re(Ae,Cr):Ae=[Cr]:Ae=w(Ae,Cr);var fr=Ae.map(function(_r){var Qr=gt[_r];return Qr?Qr.node:null}).filter(function(_r){return _r});s.setUncontrolledState({selectedKeys:Ae}),Lt&&Lt(Ae,{event:"select",selected:sr,node:X,selectedNodes:fr,nativeEvent:$.nativeEvent})},s.onNodeCheck=function($,X,Ae){var gt=s.state,Ct=gt.keyEntities,Lt=gt.checkedKeys,Ut=gt.halfCheckedKeys,or=s.props,Cr=or.checkStrictly,sr=or.onCheck,fr=X.key,_r,Qr={event:"check",node:X,checked:Ae,nativeEvent:$.nativeEvent};if(Cr){var bn=Ae?re(Lt,fr):w(Lt,fr),Vn=w(Ut,fr);_r={checked:bn,halfChecked:Vn},Qr.checkedNodes=bn.map(function(Un){return Ct[Un]}).filter(function(Un){return Un}).map(function(Un){return Un.node}),s.setUncontrolledState({checkedKeys:bn})}else{var Xn=Uf([].concat(Object(ht.a)(Lt),[fr]),!0,Ct),Hn=Xn.checkedKeys,yn=Xn.halfCheckedKeys;if(!Ae){var xn=new Set(Hn);xn.delete(fr);var Wn=Uf(Array.from(xn),{checked:!1,halfCheckedKeys:yn},Ct);Hn=Wn.checkedKeys,yn=Wn.halfCheckedKeys}_r=Hn,Qr.checkedNodes=[],Qr.checkedNodesPositions=[],Qr.halfCheckedKeys=yn,Hn.forEach(function(Un){var pa=Ct[Un];if(!!pa){var Zn=pa.node,ka=pa.pos;Qr.checkedNodes.push(Zn),Qr.checkedNodesPositions.push({node:Zn,pos:ka})}}),s.setUncontrolledState({checkedKeys:Hn},!1,{halfCheckedKeys:yn})}sr&&sr(_r,Qr)},s.onNodeLoad=function($){return new Promise(function(X,Ae){s.setState(function(gt){var Ct=gt.loadedKeys,Lt=Ct===void 0?[]:Ct,Ut=gt.loadingKeys,or=Ut===void 0?[]:Ut,Cr=s.props,sr=Cr.loadData,fr=Cr.onLoad,_r=$.key;if(!sr||Lt.indexOf(_r)!==-1||or.indexOf(_r)!==-1)return null;var Qr=sr($);return Qr.then(function(){var bn=s.state,Vn=bn.loadedKeys,Xn=bn.loadingKeys,Hn=re(Vn,_r),yn=w(Xn,_r);fr&&fr(Hn,{event:"load",node:$}),s.setUncontrolledState({loadedKeys:Hn}),s.setState({loadingKeys:yn}),X()}).catch(function(bn){var Vn=s.state.loadingKeys,Xn=w(Vn,_r);s.setState({loadingKeys:Xn}),Ae(bn)}),{loadingKeys:re(or,_r)}})})},s.onNodeMouseEnter=function($,X){var Ae=s.props.onMouseEnter;Ae&&Ae({event:$,node:X})},s.onNodeMouseLeave=function($,X){var Ae=s.props.onMouseLeave;Ae&&Ae({event:$,node:X})},s.onNodeContextMenu=function($,X){var Ae=s.props.onRightClick;Ae&&($.preventDefault(),Ae({event:$,node:X}))},s.onFocus=function(){var $=s.props.onFocus;s.setState({focused:!0}),$&&$.apply(void 0,arguments)},s.onBlur=function(){var $=s.props.onBlur;s.setState({focused:!1}),s.onActiveChange(null),$&&$.apply(void 0,arguments)},s.getTreeNodeRequiredProps=function(){var $=s.state,X=$.expandedKeys,Ae=$.selectedKeys,gt=$.loadedKeys,Ct=$.loadingKeys,Lt=$.checkedKeys,Ut=$.halfCheckedKeys,or=$.dragOverNodeKey,Cr=$.dropPosition,sr=$.keyEntities;return{expandedKeys:X||[],selectedKeys:Ae||[],loadedKeys:gt||[],loadingKeys:Ct||[],checkedKeys:Lt||[],halfCheckedKeys:Ut||[],dragOverNodeKey:or,dropPosition:Cr,keyEntities:sr}},s.setExpandedKeys=function($){var X=s.state.treeData,Ae=Ys(X,$);s.setUncontrolledState({expandedKeys:$,flattenNodes:Ae},!0)},s.onNodeExpand=function($,X){var Ae=s.state.expandedKeys,gt=s.state.listChanging,Ct=s.props,Lt=Ct.onExpand,Ut=Ct.loadData,or=X.key,Cr=X.expanded;if(!gt){var sr=Ae.indexOf(or),fr=!Cr;if(Object(Ot.a)(Cr&&sr!==-1||!Cr&&sr===-1,"Expand state not sync with index check"),fr?Ae=re(Ae,or):Ae=w(Ae,or),s.setExpandedKeys(Ae),Lt&&Lt(Ae,{node:X,expanded:fr,nativeEvent:$.nativeEvent}),fr&&Ut){var _r=s.onNodeLoad(X);_r&&_r.then(function(){var Qr=Ys(s.state.treeData,Ae);s.setUncontrolledState({flattenNodes:Qr})}).catch(function(){var Qr=s.state.expandedKeys,bn=w(Qr,or);s.setExpandedKeys(bn)})}}},s.onListChangeStart=function(){s.setUncontrolledState({listChanging:!0})},s.onListChangeEnd=function(){setTimeout(function(){s.setUncontrolledState({listChanging:!1})})},s.onActiveChange=function($){var X=s.state.activeKey,Ae=s.props.onActiveChange;X!==$&&(s.setState({activeKey:$}),$!==null&&s.scrollTo({key:$}),Ae&&Ae($))},s.getActiveItem=function(){var $=s.state,X=$.activeKey,Ae=$.flattenNodes;return X===null?null:Ae.find(function(gt){var Ct=gt.data.key;return Ct===X})||null},s.offsetActiveKey=function($){var X=s.state,Ae=X.flattenNodes,gt=X.activeKey,Ct=Ae.findIndex(function(or){var Cr=or.data.key;return Cr===gt});Ct===-1&&$<0&&(Ct=Ae.length),Ct=(Ct+$+Ae.length)%Ae.length;var Lt=Ae[Ct];if(Lt){var Ut=Lt.data.key;s.onActiveChange(Ut)}else s.onActiveChange(null)},s.onKeyDown=function($){var X=s.state,Ae=X.activeKey,gt=X.expandedKeys,Ct=X.checkedKeys,Lt=s.props,Ut=Lt.onKeyDown,or=Lt.checkable,Cr=Lt.selectable;switch($.which){case gc.a.UP:{s.offsetActiveKey(-1),$.preventDefault();break}case gc.a.DOWN:{s.offsetActiveKey(1),$.preventDefault();break}}var sr=s.getActiveItem();if(sr&&sr.data){var fr=s.getTreeNodeRequiredProps(),_r=sr.data.isLeaf===!1||!!(sr.data.children||[]).length,Qr=Ms(Object(Pt.a)(Object(Pt.a)({},Bf(Ae,fr)),{},{data:sr.data,active:!0}));switch($.which){case gc.a.LEFT:{_r&&gt.includes(Ae)?s.onNodeExpand({},Qr):sr.parent&&s.onActiveChange(sr.parent.data.key),$.preventDefault();break}case gc.a.RIGHT:{_r&&!gt.includes(Ae)?s.onNodeExpand({},Qr):sr.children&&sr.children.length&&s.onActiveChange(sr.children[0].data.key),$.preventDefault();break}case gc.a.ENTER:case gc.a.SPACE:{or&&!Qr.disabled&&Qr.checkable!==!1&&!Qr.disableCheckbox?s.onNodeCheck({},Qr,!Ct.includes(Ae)):!or&&Cr&&!Qr.disabled&&Qr.selectable!==!1&&s.onNodeSelect({},Qr);break}}}Ut&&Ut($)},s.setUncontrolledState=function($){var X=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,Ae=arguments.length>2&&arguments[2]!==void 0?arguments[2]:null;if(!s.destroyed){var gt=!1,Ct=!0,Lt={};Object.keys($).forEach(function(Ut){if(Ut in s.props){Ct=!1;return}gt=!0,Lt[Ut]=$[Ut]}),gt&&(!X||Ct)&&s.setState(Object(Pt.a)(Object(Pt.a)({},Lt),Ae))}},s.scrollTo=function($){s.listRef.current.scrollTo($)},s}return Object(ql.a)(n,[{key:"componentWillUnmount",value:function(){window.removeEventListener("dragend",this.onWindowDragEnd),this.destroyed=!0}},{key:"render",value:function(){var h,_=this.state,Y=_.focused,$=_.flattenNodes,X=_.keyEntities,Ae=_.dragging,gt=_.activeKey,Ct=_.dropLevelOffset,Lt=_.dropContainerKey,Ut=_.dropTargetKey,or=_.dropPosition,Cr=_.dragOverNodeKey,sr=_.indent,fr=this.props,_r=fr.prefixCls,Qr=fr.className,bn=fr.style,Vn=fr.showLine,Xn=fr.focusable,Hn=fr.tabIndex,yn=Hn===void 0?0:Hn,xn=fr.selectable,Wn=fr.showIcon,Un=fr.icon,pa=fr.switcherIcon,Zn=fr.draggable,ka=fr.checkable,Bi=fr.checkStrictly,Ki=fr.disabled,Po=fr.motion,Zi=fr.loadData,wo=fr.filterTreeNode,io=fr.height,qo=fr.itemHeight,Js=fr.virtual,Yo=fr.titleRender,ho=fr.dropIndicatorRender,Ni=fr.onContextMenu,po=fr.direction,li=Hs(this.props);return I.createElement(Hc.Provider,{value:{prefixCls:_r,selectable:xn,showIcon:Wn,icon:Un,switcherIcon:pa,draggable:Zn,checkable:ka,checkStrictly:Bi,disabled:Ki,keyEntities:X,dropLevelOffset:Ct,dropContainerKey:Lt,dropTargetKey:Ut,dropPosition:or,dragOverNodeKey:Cr,indent:sr,direction:po,dropIndicatorRender:ho,loadData:Zi,filterTreeNode:wo,titleRender:Yo,onNodeClick:this.onNodeClick,onNodeDoubleClick:this.onNodeDoubleClick,onNodeExpand:this.onNodeExpand,onNodeSelect:this.onNodeSelect,onNodeCheck:this.onNodeCheck,onNodeLoad:this.onNodeLoad,onNodeMouseEnter:this.onNodeMouseEnter,onNodeMouseLeave:this.onNodeMouseLeave,onNodeContextMenu:this.onNodeContextMenu,onNodeDragStart:this.onNodeDragStart,onNodeDragEnter:this.onNodeDragEnter,onNodeDragOver:this.onNodeDragOver,onNodeDragLeave:this.onNodeDragLeave,onNodeDragEnd:this.onNodeDragEnd,onNodeDrop:this.onNodeDrop}},I.createElement("div",{className:Re()(_r,Qr,(h={},Object(ee.a)(h,"".concat(_r,"-show-line"),Vn),Object(ee.a)(h,"".concat(_r,"-focused"),Y),Object(ee.a)(h,"".concat(_r,"-active-focused"),gt!==null),h))},I.createElement(Tp,Object(me.a)({ref:this.listRef,prefixCls:_r,style:bn,data:$,disabled:Ki,selectable:xn,checkable:!!ka,motion:Po,dragging:Ae,height:io,itemHeight:qo,virtual:Js,focusable:Xn,focused:Y,tabIndex:yn,activeItem:this.getActiveItem(),onFocus:this.onFocus,onBlur:this.onBlur,onKeyDown:this.onKeyDown,onActiveChange:this.onActiveChange,onListChangeStart:this.onListChangeStart,onListChangeEnd:this.onListChangeEnd,onContextMenu:Ni},this.getTreeNodeRequiredProps(),li))))}}],[{key:"getDerivedStateFromProps",value:function(h,_){var Y=_.prevProps,$={prevProps:h};function X(Vn){return!Y&&Vn in h||Y&&Y[Vn]!==h[Vn]}var Ae;if(X("treeData")?Ae=h.treeData:X("children")&&(Object(Ot.a)(!1,"`children` of Tree is deprecated. Please use `treeData` instead."),Ae=Pc(h.children)),Ae){$.treeData=Ae;var gt=hd(Ae);$.keyEntities=Object(Pt.a)(Object(ee.a)({},hv,ng),gt.keyEntities)}var Ct=$.keyEntities||_.keyEntities;if(X("expandedKeys")||Y&&X("autoExpandParent"))$.expandedKeys=h.autoExpandParent||!Y&&h.defaultExpandParent?Zo(h.expandedKeys,Ct):h.expandedKeys;else if(!Y&&h.defaultExpandAll){var Lt=Object(Pt.a)({},Ct);delete Lt[hv],$.expandedKeys=Object.keys(Lt).map(function(Vn){return Lt[Vn].key})}else!Y&&h.defaultExpandedKeys&&($.expandedKeys=h.autoExpandParent||h.defaultExpandParent?Zo(h.defaultExpandedKeys,Ct):h.defaultExpandedKeys);if($.expandedKeys||delete $.expandedKeys,Ae||$.expandedKeys){var Ut=Ys(Ae||_.treeData,$.expandedKeys||_.expandedKeys);$.flattenNodes=Ut}if(h.selectable&&(X("selectedKeys")?$.selectedKeys=ma(h.selectedKeys,h):!Y&&h.defaultSelectedKeys&&($.selectedKeys=ma(h.defaultSelectedKeys,h))),h.checkable){var or;if(X("checkedKeys")?or=$o(h.checkedKeys)||{}:!Y&&h.defaultCheckedKeys?or=$o(h.defaultCheckedKeys)||{}:Ae&&(or=$o(h.checkedKeys)||{checkedKeys:_.checkedKeys,halfCheckedKeys:_.halfCheckedKeys}),or){var Cr=or,sr=Cr.checkedKeys,fr=sr===void 0?[]:sr,_r=Cr.halfCheckedKeys,Qr=_r===void 0?[]:_r;if(!h.checkStrictly){var bn=Uf(fr,!0,Ct);fr=bn.checkedKeys,Qr=bn.halfCheckedKeys}$.checkedKeys=fr,$.halfCheckedKeys=Qr}}return X("loadedKeys")&&($.loadedKeys=h.loadedKeys),$}}]),n}(I.Component);op.defaultProps={prefixCls:"rc-tree",showLine:!1,showIcon:!0,selectable:!0,multiple:!1,checkable:!1,disabled:!1,checkStrictly:!1,draggable:!1,defaultExpandParent:!0,autoExpandParent:!1,defaultExpandAll:!1,defaultExpandedKeys:[],defaultCheckedKeys:[],defaultSelectedKeys:[],dropIndicatorRender:Iv,allowDrop:function(){return!0}},op.TreeNode=Jn;var Ap=op,fc=Ap,Mp=r("sEfC"),dc=r.n(Mp),$l={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M854.6 288.6L639.4 73.4c-6-6-14.1-9.4-22.6-9.4H192c-17.7 0-32 14.3-32 32v832c0 17.7 14.3 32 32 32h640c17.7 0 32-14.3 32-32V311.3c0-8.5-3.4-16.7-9.4-22.7zM790.2 326H602V137.8L790.2 326zm1.8 562H232V136h302v216a42 42 0 0042 42h216v494z"}}]},name:"file",theme:"outlined"},sm=$l,lm=function(i,n){return I.createElement(uc.a,Object(Pt.a)(Object(Pt.a)({},i),{},{ref:n,icon:sm}))};lm.displayName="FileOutlined";var Rv=I.forwardRef(lm),ag={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M928 444H820V330.4c0-17.7-14.3-32-32-32H473L355.7 186.2a8.15 8.15 0 00-5.5-2.2H96c-17.7 0-32 14.3-32 32v592c0 17.7 14.3 32 32 32h698c13 0 24.8-7.9 29.7-20l134-332c1.5-3.8 2.3-7.9 2.3-12 0-17.7-14.3-32-32-32zM136 256h188.5l119.6 114.4H748V444H238c-13 0-24.8 7.9-29.7 20L136 643.2V256zm635.3 512H159l103.3-256h612.4L771.3 768z"}}]},name:"folder-open",theme:"outlined"},sp=ag,Lv=function(i,n){return I.createElement(uc.a,Object(Pt.a)(Object(Pt.a)({},i),{},{ref:n,icon:sp}))};Lv.displayName="FolderOpenOutlined";var bm=I.forwardRef(Lv),jg={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M880 298.4H521L403.7 186.2a8.15 8.15 0 00-5.5-2.2H144c-17.7 0-32 14.3-32 32v592c0 17.7 14.3 32 32 32h736c17.7 0 32-14.3 32-32V330.4c0-17.7-14.3-32-32-32zM840 768H184V256h188.5l119.6 114.4H840V768z"}}]},name:"folder",theme:"outlined"},xm=jg,Cm=function(i,n){return I.createElement(uc.a,Object(Pt.a)(Object(Pt.a)({},i),{},{ref:n,icon:xm}))};Cm.displayName="FolderOutlined";var ig=I.forwardRef(Cm),xc;(function(a){a[a.None=0]="None",a[a.Start=1]="Start",a[a.End=2]="End"})(xc||(xc={}));function _p(a,i){function n(s){var h=s.key,_=s.children;i(h,s)!==!1&&_p(_||[],i)}a.forEach(n)}function kc(a){var i=a.treeData,n=a.expandedKeys,s=a.startKey,h=a.endKey,_=[],Y=xc.None;if(s&&s===h)return[s];if(!s||!h)return[];function $(X){return X===s||X===h}return _p(i,function(X){if(Y===xc.End)return!1;if($(X)){if(_.push(X),Y===xc.None)Y=xc.Start;else if(Y===xc.Start)return Y=xc.End,!1}else Y===xc.Start&&_.push(X);return n.indexOf(X)!==-1}),_}function lp(a,i){var n=Object(ht.a)(i),s=[];return _p(a,function(h,_){var Y=n.indexOf(h);return Y!==-1&&(s.push(_),n.splice(Y,1)),!!n.length}),s}var Pl=function(a,i){var n={};for(var s in a)Object.prototype.hasOwnProperty.call(a,s)&&i.indexOf(s)<0&&(n[s]=a[s]);if(a!=null&&typeof Object.getOwnPropertySymbols=="function")for(var h=0,s=Object.getOwnPropertySymbols(a);h<s.length;h++)i.indexOf(s[h])<0&&Object.prototype.propertyIsEnumerable.call(a,s[h])&&(n[s[h]]=a[s[h]]);return n};function Cl(a){var i=a.isLeaf,n=a.expanded;return i?I.createElement(Rv,null):n?I.createElement(bm,null):I.createElement(ig,null)}function ss(a){var i=a.treeData,n=a.children;return i||Pc(n)}var _t=function(i,n){var s=i.defaultExpandAll,h=i.defaultExpandParent,_=i.defaultExpandedKeys,Y=Pl(i,["defaultExpandAll","defaultExpandParent","defaultExpandedKeys"]),$=I.useRef(),X=I.useRef(),Ae=I.createRef();I.useImperativeHandle(n,function(){return Ae.current});var gt=function(){var Zi=hd(ss(Y)),wo=Zi.keyEntities,io;return s?io=Object.keys(wo):h?io=Zo(Y.expandedKeys||_||[],wo):io=Y.expandedKeys||_,io},Ct=I.useState(Y.selectedKeys||Y.defaultSelectedKeys||[]),Lt=Object(Ie.a)(Ct,2),Ut=Lt[0],or=Lt[1],Cr=I.useState(gt()),sr=Object(Ie.a)(Cr,2),fr=sr[0],_r=sr[1];I.useEffect(function(){"selectedKeys"in Y&&or(Y.selectedKeys)},[Y.selectedKeys]),I.useEffect(function(){"expandedKeys"in Y&&_r(Y.expandedKeys)},[Y.expandedKeys]);var Qr=function(Zi,wo){var io=wo.isLeaf;io||Zi.shiftKey||Zi.metaKey||Zi.ctrlKey||Ae.current.onNodeExpand(Zi,wo)},bn=dc()(Qr,200,{leading:!0}),Vn=function(Zi,wo){var io;return"expandedKeys"in Y||_r(Zi),(io=Y.onExpand)===null||io===void 0?void 0:io.call(Y,Zi,wo)},Xn=function(Zi,wo){var io,qo=Y.expandAction;qo==="click"&&bn(Zi,wo),(io=Y.onClick)===null||io===void 0||io.call(Y,Zi,wo)},Hn=function(Zi,wo){var io,qo=Y.expandAction;qo==="doubleClick"&&bn(Zi,wo),(io=Y.onDoubleClick)===null||io===void 0||io.call(Y,Zi,wo)},yn=function(Zi,wo){var io,qo=Y.multiple,Js=wo.node,Yo=wo.nativeEvent,ho=Js.key,Ni=ho===void 0?"":ho,po=ss(Y),li=Object(me.a)(Object(me.a)({},wo),{selected:!0}),Sa=Yo.ctrlKey||Yo.metaKey,Xa=Yo.shiftKey,oo;qo&&Sa?(oo=Zi,$.current=Ni,X.current=oo,li.selectedNodes=lp(po,oo)):qo&&Xa?(oo=Array.from(new Set([].concat(Object(ht.a)(X.current||[]),Object(ht.a)(kc({treeData:po,expandedKeys:fr,startKey:Ni,endKey:$.current}))))),li.selectedNodes=lp(po,oo)):(oo=[Ni],$.current=Ni,X.current=oo,li.selectedNodes=lp(po,oo)),(io=Y.onSelect)===null||io===void 0||io.call(Y,oo,li),"selectedKeys"in Y||or(oo)},xn=I.useContext(ys.b),Wn=xn.getPrefixCls,Un=xn.direction,pa=Y.prefixCls,Zn=Y.className,ka=Pl(Y,["prefixCls","className"]),Bi=Wn("tree",pa),Ki=Re()("".concat(Bi,"-directory"),Object(ee.a)({},"".concat(Bi,"-directory-rtl"),Un==="rtl"),Zn);return I.createElement(ua,Object(me.a)({icon:Cl,ref:Ae,blockNode:!0},ka,{prefixCls:Bi,className:Ki,expandedKeys:fr,selectedKeys:Ut,onSelect:yn,onClick:Xn,onDoubleClick:Hn,onExpand:Vn}))},qt=I.forwardRef(_t);qt.displayName="DirectoryTree",qt.defaultProps={showIcon:!0,expandAction:"click"};var Ur=qt,jn={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M328 544h368c4.4 0 8-3.6 8-8v-48c0-4.4-3.6-8-8-8H328c-4.4 0-8 3.6-8 8v48c0 4.4 3.6 8 8 8z"}},{tag:"path",attrs:{d:"M880 112H144c-17.7 0-32 14.3-32 32v736c0 17.7 14.3 32 32 32h736c17.7 0 32-14.3 32-32V144c0-17.7-14.3-32-32-32zm-40 728H184V184h656v656z"}}]},name:"minus-square",theme:"outlined"},fa=jn,ea=function(i,n){return I.createElement(uc.a,Object(Pt.a)(Object(Pt.a)({},i),{},{ref:n,icon:fa}))};ea.displayName="MinusSquareOutlined";var Nn=I.forwardRef(ea),mn={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M328 544h152v152c0 4.4 3.6 8 8 8h48c4.4 0 8-3.6 8-8V544h152c4.4 0 8-3.6 8-8v-48c0-4.4-3.6-8-8-8H544V328c0-4.4-3.6-8-8-8h-48c-4.4 0-8 3.6-8 8v152H328c-4.4 0-8 3.6-8 8v48c0 4.4 3.6 8 8 8z"}},{tag:"path",attrs:{d:"M880 112H144c-17.7 0-32 14.3-32 32v736c0 17.7 14.3 32 32 32h736c17.7 0 32-14.3 32-32V144c0-17.7-14.3-32-32-32zm-40 728H184V184h656v656z"}}]},name:"plus-square",theme:"outlined"},Ua=mn,ja=function(i,n){return I.createElement(uc.a,Object(Pt.a)(Object(Pt.a)({},i),{},{ref:n,icon:Ua}))};ja.displayName="PlusSquareOutlined";var ei=I.forwardRef(ja),Va={icon:{tag:"svg",attrs:{viewBox:"0 0 1024 1024",focusable:"false"},children:[{tag:"path",attrs:{d:"M840.4 300H183.6c-19.7 0-30.7 20.8-18.5 35l328.4 380.8c9.4 10.9 27.5 10.9 37 0L858.9 335c12.2-14.2 1.2-35-18.5-35z"}}]},name:"caret-down",theme:"filled"},si=Va,ai=function(i,n){return I.createElement(uc.a,Object(Pt.a)(Object(Pt.a)({},i),{},{ref:n,icon:si}))};ai.displayName="CaretDownFilled";var Ha=I.forwardRef(ai);function Fn(a,i,n,s){var h=s.isLeaf,_=s.expanded,Y=s.loading;if(Y)return I.createElement(Mi.a,{className:"".concat(a,"-switcher-loading-icon")});var $;if(n&&Object(J.a)(n)==="object"&&($=n.showLeafIcon),h)return n?Object(J.a)(n)==="object"&&!$?I.createElement("span",{className:"".concat(a,"-switcher-leaf-line")}):I.createElement(Rv,{className:"".concat(a,"-switcher-line-icon")}):null;var X="".concat(a,"-switcher-icon");return Object(Mu.b)(i)?Object(Mu.a)(i,{className:Re()(i.props.className||"",X)}):i||(n?_?I.createElement(Nn,{className:"".concat(a,"-switcher-line-icon")}):I.createElement(ei,{className:"".concat(a,"-switcher-line-icon")}):I.createElement(Ha,{className:X}))}var In=4;function Wa(a){var i,n=a.dropPosition,s=a.dropLevelOffset,h=a.prefixCls,_=a.indent,Y=a.direction,$=Y===void 0?"ltr":Y,X=$==="ltr"?"left":"right",Ae=$==="ltr"?"right":"left",gt=(i={},Object(ee.a)(i,X,-s*_+In),Object(ee.a)(i,Ae,0),i);switch(n){case-1:gt.top=-3;break;case 1:gt.bottom=-3;break;default:gt.bottom=-3,gt[X]=_+In;break}return Ce.a.createElement("div",{style:gt,className:"".concat(h,"-drop-indicator")})}var ki=I.forwardRef(function(a,i){var n,s=I.useContext(ys.b),h=s.getPrefixCls,_=s.direction,Y=s.virtual,$=a.prefixCls,X=a.className,Ae=a.showIcon,gt=a.showLine,Ct=a.switcherIcon,Lt=a.blockNode,Ut=a.children,or=a.checkable,Cr=a.selectable,sr=h("tree",$),fr=Object(me.a)(Object(me.a)({},a),{showLine:Boolean(gt),dropIndicatorRender:Wa});return I.createElement(fc,Object(me.a)({itemHeight:20,ref:i,virtual:Y},fr,{prefixCls:sr,className:Re()((n={},Object(ee.a)(n,"".concat(sr,"-icon-hide"),!Ae),Object(ee.a)(n,"".concat(sr,"-block-node"),Lt),Object(ee.a)(n,"".concat(sr,"-unselectable"),!Cr),Object(ee.a)(n,"".concat(sr,"-rtl"),_==="rtl"),n),X),direction:_,checkable:or&&I.createElement("span",{className:"".concat(sr,"-checkbox-inner")}),selectable:Cr,switcherIcon:function(Qr){return Fn(sr,Ct,gt,Qr)}}),Ut)});ki.TreeNode=Jn,ki.DirectoryTree=Ur,ki.defaultProps={checkable:!1,selectable:!0,showIcon:!1,motion:Object(me.a)(Object(me.a)({},ff.a),{motionAppear:!1}),blockNode:!1};var ua=ki,vo=ua,Pi={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M859.9 168H164.1c-4.5 0-8.1 3.6-8.1 8v60c0 4.4 3.6 8 8.1 8h695.8c4.5 0 8.1-3.6 8.1-8v-60c0-4.4-3.6-8-8.1-8zM518.3 355a8 8 0 00-12.6 0l-112 141.7a7.98 7.98 0 006.3 12.9h73.9V848c0 4.4 3.6 8 8 8h60c4.4 0 8-3.6 8-8V509.7H624c6.7 0 10.4-7.7 6.3-12.9L518.3 355z"}}]},name:"vertical-align-top",theme:"outlined"},yi=Pi,ta=function(i,n){return I.createElement(uc.a,Object(Pt.a)(Object(Pt.a)({},i),{},{ref:n,icon:yi}))};ta.displayName="VerticalAlignTopOutlined";var na=I.forwardRef(ta),Ii={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M859.9 474H164.1c-4.5 0-8.1 3.6-8.1 8v60c0 4.4 3.6 8 8.1 8h695.8c4.5 0 8.1-3.6 8.1-8v-60c0-4.4-3.6-8-8.1-8zm-353.6-74.7c2.9 3.7 8.5 3.7 11.3 0l100.8-127.5c3.7-4.7.4-11.7-5.7-11.7H550V104c0-4.4-3.6-8-8-8h-60c-4.4 0-8 3.6-8 8v156h-62.8c-6 0-9.4 7-5.7 11.7l100.8 127.6zm11.4 225.4a7.14 7.14 0 00-11.3 0L405.6 752.3a7.23 7.23 0 005.7 11.7H474v156c0 4.4 3.6 8 8 8h60c4.4 0 8-3.6 8-8V764h62.8c6 0 9.4-7 5.7-11.7L517.7 624.7z"}}]},name:"vertical-align-middle",theme:"outlined"},Qa=Ii,Za=function(i,n){return I.createElement(uc.a,Object(Pt.a)(Object(Pt.a)({},i),{},{ref:n,icon:Qa}))};Za.displayName="VerticalAlignMiddleOutlined";var Ei=I.forwardRef(Za),Si={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M859.9 780H164.1c-4.5 0-8.1 3.6-8.1 8v60c0 4.4 3.6 8 8.1 8h695.8c4.5 0 8.1-3.6 8.1-8v-60c0-4.4-3.6-8-8.1-8zM505.7 669a8 8 0 0012.6 0l112-141.7c4.1-5.2.4-12.9-6.3-12.9h-74.1V176c0-4.4-3.6-8-8-8h-60c-4.4 0-8 3.6-8 8v338.3H400c-6.7 0-10.4 7.7-6.3 12.9l112 141.8z"}}]},name:"vertical-align-bottom",theme:"outlined"},Ss=Si,ls=function(i,n){return I.createElement(uc.a,Object(Pt.a)(Object(Pt.a)({},i),{},{ref:n,icon:Ss}))};ls.displayName="VerticalAlignBottomOutlined";var xi=I.forwardRef(ls),wi=r("BGR+"),Fo=r("K5yz"),es=["key","dataIndex","children"];function cs(){return cs=Object.assign||function(a){for(var i=1;i<arguments.length;i++){var n=arguments[i];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(a[s]=n[s])}return a},cs.apply(this,arguments)}function eu(a){return Zl(a)||Lu(a)||js(a)||bu()}function bu(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function js(a,i){if(!!a){if(typeof a=="string")return xu(a,i);var n=Object.prototype.toString.call(a).slice(8,-1);if(n==="Object"&&a.constructor&&(n=a.constructor.name),n==="Map"||n==="Set")return Array.from(a);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return xu(a,i)}}function Lu(a){if(typeof Symbol!="undefined"&&a[Symbol.iterator]!=null||a["@@iterator"]!=null)return Array.from(a)}function Zl(a){if(Array.isArray(a))return xu(a)}function xu(a,i){(i==null||i>a.length)&&(i=a.length);for(var n=0,s=new Array(i);n<i;n++)s[n]=a[n];return s}function hu(a,i){if(a==null)return{};var n=mf(a,i),s,h;if(Object.getOwnPropertySymbols){var _=Object.getOwnPropertySymbols(a);for(h=0;h<_.length;h++)s=_[h],!(i.indexOf(s)>=0)&&(!Object.prototype.propertyIsEnumerable.call(a,s)||(n[s]=a[s]))}return n}function mf(a,i){if(a==null)return{};var n={},s=Object.keys(a),h,_;for(_=0;_<s.length;_++)h=s[_],!(i.indexOf(h)>=0)&&(n[h]=a[h]);return n}function Xc(a,i){var n=Object.keys(a);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(a);i&&(s=s.filter(function(h){return Object.getOwnPropertyDescriptor(a,h).enumerable})),n.push.apply(n,s)}return n}function Su(a){for(var i=1;i<arguments.length;i++){var n=arguments[i]!=null?arguments[i]:{};i%2?Xc(Object(n),!0).forEach(function(s){ac(a,s,n[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(a,Object.getOwnPropertyDescriptors(n)):Xc(Object(n)).forEach(function(s){Object.defineProperty(a,s,Object.getOwnPropertyDescriptor(n,s))})}return a}function ac(a,i,n){return i in a?Object.defineProperty(a,i,{value:n,enumerable:!0,configurable:!0,writable:!0}):a[i]=n,a}var Os=function(i){var n=i.title,s=i.show,h=i.children,_=i.columnKey,Y=i.fixed,$=bc.useContainer(),X=$.columnsMap,Ae=$.setColumnsMap;return s?Ce.a.createElement(Tc.a,{title:n},Ce.a.createElement("span",{onClick:function(Ct){Ct.stopPropagation(),Ct.preventDefault();var Lt=X[_]||{},Ut=Su(Su({},X),{},ac({},_,Su(Su({},Lt),{},{fixed:Y})));Ae(Ut)}},h)):null},Lf=function(i){var n=i.columnKey,s=i.isLeaf,h=i.title,_=i.className,Y=i.fixed,$=Object(nu.d)(),X=Ce.a.createElement("span",{className:"".concat(_,"-list-item-option")},Ce.a.createElement(Os,{columnKey:n,fixed:"left",title:$.getMessage("tableToolBar.leftPin","\u56FA\u5B9A\u5728\u5217\u9996"),show:Y!=="left"},Ce.a.createElement(na,null)),Ce.a.createElement(Os,{columnKey:n,fixed:void 0,title:$.getMessage("tableToolBar.noPin","\u4E0D\u56FA\u5B9A"),show:!!Y},Ce.a.createElement(Ei,null)),Ce.a.createElement(Os,{columnKey:n,fixed:"right",title:$.getMessage("tableToolBar.rightPin","\u56FA\u5B9A\u5728\u5217\u5C3E"),show:Y!=="right"},Ce.a.createElement(xi,null)));return Ce.a.createElement("span",{className:"".concat(_,"-list-item"),key:n},Ce.a.createElement("div",{className:"".concat(_,"-list-item-title")},h),s?null:X)},_l=function(i){var n=i.list,s=i.draggable,h=i.checkable,_=i.className,Y=i.showTitle,$=Y===void 0?!0:Y,X=i.title,Ae=bc.useContainer(),gt=Ae.columnsMap,Ct=Ae.setColumnsMap,Lt=Ae.sortKeyColumns,Ut=Ae.setSortKeyColumns,or=n&&n.length>0,Cr=Object(I.useMemo)(function(){if(!or)return{};var _r=[],Qr=function bn(Vn,Xn){return Vn.map(function(Hn){var yn=Hn.key,xn=Hn.dataIndex,Wn=Hn.children,Un=hu(Hn,es),pa=Ru(yn,Un.index),Zn=gt[pa||"null"]||{show:!0};Zn.show!==!1&&(Xn==null?void 0:Xn.show)!==!1&&!Wn&&_r.push(pa);var ka=Su(Su({key:pa},Object(wi.a)(Un,["className"])),{},{selectable:!1,isLeaf:Xn?!0:void 0});return Wn&&(ka.children=bn(Wn,Zn)),ka})};return{list:Qr(n),keys:_r}},[gt,n,or]);if(!or)return null;var sr=function(Qr,bn,Vn){var Xn=Su({},gt),Hn=eu(Lt.current),yn=Hn.findIndex(function(pa){return pa===Qr}),xn=Hn.findIndex(function(pa){return pa===bn}),Wn=Vn>yn;if(!(yn<0)){var Un=Hn[yn];Hn.splice(yn,1),Vn===0?Hn.unshift(Un):Hn.splice(Wn?xn:xn+1,0,Un),Hn.forEach(function(pa,Zn){Xn[pa]=Su(Su({},Xn[pa]||{}),{},{order:Zn})}),Ct(Xn),Ut(Hn)}},fr=Ce.a.createElement(vo,{itemHeight:24,draggable:s,checkable:h,onDrop:function(Qr){var bn=Qr.node.key,Vn=Qr.dragNode.key,Xn=Qr.dropPosition,Hn=Qr.dropToGap,yn=Xn===-1||!Hn?Xn+1:Xn;sr(Vn,bn,yn)},blockNode:!0,onCheck:function(Qr,bn){var Vn=bn.node.key,Xn=gt[Vn]||{},Hn=Su({},Xn);bn.checked?delete Hn.show:Hn.show=!1;var yn=Su(Su({},gt),{},ac({},Vn,Hn));Object.keys(Hn).length===0&&delete yn[Vn],Ct(yn)},checkedKeys:Cr.keys,showLine:!1,titleRender:function(Qr){return Ce.a.createElement(Lf,cs({className:_},Qr,{children:void 0,columnKey:Qr.key}))},height:280,treeData:Cr.list});return Ce.a.createElement(Ce.a.Fragment,null,$&&Ce.a.createElement("span",{className:"".concat(_,"-list-title")},X),fr)},Bc=function(i){var n=i.localColumns,s=i.className,h=i.draggable,_=i.checkable,Y=[],$=[],X=[],Ae=Object(nu.d)();n.forEach(function(Lt){if(!Lt.hideInSetting){var Ut=Lt.fixed;if(Ut==="left"){$.push(Lt);return}if(Ut==="right"){Y.push(Lt);return}X.push(Lt)}});var gt=Y&&Y.length>0,Ct=$&&$.length>0;return Ce.a.createElement("div",{className:Re()("".concat(s,"-list"),ac({},"".concat(s,"-list-group"),gt||Ct))},Ce.a.createElement(_l,{title:Ae.getMessage("tableToolBar.leftFixedTitle","\u56FA\u5B9A\u5728\u5DE6\u4FA7"),list:$,draggable:h,checkable:_,className:s}),Ce.a.createElement(_l,{list:X,draggable:h,checkable:_,title:Ae.getMessage("tableToolBar.noFixedTitle","\u4E0D\u56FA\u5B9A"),showTitle:Ct||gt,className:s}),Ce.a.createElement(_l,{title:Ae.getMessage("tableToolBar.rightFixedTitle","\u56FA\u5B9A\u5728\u53F3\u4FA7"),list:Y,draggable:h,checkable:_,className:s}))};function Go(a){var i,n,s=Object(I.useRef)({}),h=bc.useContainer(),_=a.columns,Y=a.checkedReset,$=Y===void 0?!0:Y,X=h.columnsMap,Ae=h.setColumnsMap,gt=h.clearPersistenceStorage;Object(I.useEffect)(function(){X&&(s.current=JSON.parse(JSON.stringify(X)))},[]);var Ct=function(){var Qr=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0,bn={},Vn=function Xn(Hn){Hn.forEach(function(yn){var xn=yn.key,Wn=yn.fixed,Un=yn.index,pa=yn.children,Zn=Ru(xn,Un);Zn&&(bn[Zn]={show:Qr,fixed:Wn}),pa&&Xn(pa)})};Vn(_),Ae(bn)},Lt=Object.values(X).filter(function(_r){return!_r||_r.show===!1}),Ut=Lt.length>0&&Lt.length!==_.length,or=Object(nu.d)(),Cr=Object(I.useContext)(Mt.b.ConfigContext),sr=Cr.getPrefixCls,fr=sr("pro-table-column-setting");return Ce.a.createElement(Yp.a,{arrowPointAtCenter:!0,title:Ce.a.createElement("div",{className:"".concat(fr,"-title")},Ce.a.createElement($h.a,{indeterminate:Ut,checked:Lt.length===0&&Lt.length!==_.length,onChange:function(Qr){Qr.target.checked?Ct():Ct(!1)}},or.getMessage("tableToolBar.columnDisplay","\u5217\u5C55\u793A")),$?Ce.a.createElement("a",{onClick:function(){Ae(s.current),gt==null||gt()},className:"".concat(fr,"-ation-rest-button")},or.getMessage("tableToolBar.reset","\u91CD\u7F6E")):null,(a==null?void 0:a.extra)?Ce.a.createElement(y.b,{size:12,align:"center"},a.extra):null),overlayClassName:"".concat(fr,"-overlay"),trigger:"click",placement:"bottomRight",content:Ce.a.createElement(Bc,{checkable:(i=a.checkable)!==null&&i!==void 0?i:!0,draggable:(n=a.draggable)!==null&&n!==void 0?n:!0,className:fr,localColumns:_})},Ce.a.createElement(Tc.a,{title:or.getMessage("tableToolBar.columnSetting","\u5217\u8BBE\u7F6E")},Ce.a.createElement(Ep.a,null)))}var ds=Go,Ou=r("XQL4"),Qc={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M391 240.9c-.8-6.6-8.9-9.4-13.6-4.7l-43.7 43.7L200 146.3a8.03 8.03 0 00-11.3 0l-42.4 42.3a8.03 8.03 0 000 11.3L280 333.6l-43.9 43.9a8.01 8.01 0 004.7 13.6L401 410c5.1.6 9.5-3.7 8.9-8.9L391 240.9zm10.1 373.2L240.8 633c-6.6.8-9.4 8.9-4.7 13.6l43.9 43.9L146.3 824a8.03 8.03 0 000 11.3l42.4 42.3c3.1 3.1 8.2 3.1 11.3 0L333.7 744l43.7 43.7A8.01 8.01 0 00391 783l18.9-160.1c.6-5.1-3.7-9.4-8.8-8.8zm221.8-204.2L783.2 391c6.6-.8 9.4-8.9 4.7-13.6L744 333.6 877.7 200c3.1-3.1 3.1-8.2 0-11.3l-42.4-42.3a8.03 8.03 0 00-11.3 0L690.3 279.9l-43.7-43.7a8.01 8.01 0 00-13.6 4.7L614.1 401c-.6 5.2 3.7 9.5 8.8 8.9zM744 690.4l43.9-43.9a8.01 8.01 0 00-4.7-13.6L623 614c-5.1-.6-9.5 3.7-8.9 8.9L633 783.1c.8 6.6 8.9 9.4 13.6 4.7l43.7-43.7L824 877.7c3.1 3.1 8.2 3.1 11.3 0l42.4-42.3c3.1-3.1 3.1-8.2 0-11.3L744 690.4z"}}]},name:"fullscreen-exit",theme:"outlined"},gf=Qc,Rr=function(i,n){return I.createElement(uc.a,Object(Pt.a)(Object(Pt.a)({},i),{},{ref:n,icon:gf}))};Rr.displayName="FullscreenExitOutlined";var $n=I.forwardRef(Rr),kn={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M290 236.4l43.9-43.9a8.01 8.01 0 00-4.7-13.6L169 160c-5.1-.6-9.5 3.7-8.9 8.9L179 329.1c.8 6.6 8.9 9.4 13.6 4.7l43.7-43.7L370 423.7c3.1 3.1 8.2 3.1 11.3 0l42.4-42.3c3.1-3.1 3.1-8.2 0-11.3L290 236.4zm352.7 187.3c3.1 3.1 8.2 3.1 11.3 0l133.7-133.6 43.7 43.7a8.01 8.01 0 0013.6-4.7L863.9 169c.6-5.1-3.7-9.5-8.9-8.9L694.8 179c-6.6.8-9.4 8.9-4.7 13.6l43.9 43.9L600.3 370a8.03 8.03 0 000 11.3l42.4 42.4zM845 694.9c-.8-6.6-8.9-9.4-13.6-4.7l-43.7 43.7L654 600.3a8.03 8.03 0 00-11.3 0l-42.4 42.3a8.03 8.03 0 000 11.3L734 787.6l-43.9 43.9a8.01 8.01 0 004.7 13.6L855 864c5.1.6 9.5-3.7 8.9-8.9L845 694.9zm-463.7-94.6a8.03 8.03 0 00-11.3 0L236.3 733.9l-43.7-43.7a8.01 8.01 0 00-13.6 4.7L160.1 855c-.6 5.1 3.7 9.5 8.9 8.9L329.2 845c6.6-.8 9.4-8.9 4.7-13.6L290 787.6 423.7 654c3.1-3.1 3.1-8.2 0-11.3l-42.4-42.4z"}}]},name:"fullscreen",theme:"outlined"},Ri=kn,As=function(i,n){return I.createElement(uc.a,Object(Pt.a)(Object(Pt.a)({},i),{},{ref:n,icon:Ri}))};As.displayName="FullscreenOutlined";var wr=I.forwardRef(As),tr=r("7z/i");function en(a,i){return sn(a)||Jr(a,i)||wn(a,i)||Pn()}function Pn(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function wn(a,i){if(!!a){if(typeof a=="string")return rn(a,i);var n=Object.prototype.toString.call(a).slice(8,-1);if(n==="Object"&&a.constructor&&(n=a.constructor.name),n==="Map"||n==="Set")return Array.from(a);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return rn(a,i)}}function rn(a,i){(i==null||i>a.length)&&(i=a.length);for(var n=0,s=new Array(i);n<i;n++)s[n]=a[n];return s}function Jr(a,i){var n=a==null?null:typeof Symbol!="undefined"&&a[Symbol.iterator]||a["@@iterator"];if(n!=null){var s=[],h=!0,_=!1,Y,$;try{for(n=n.call(a);!(h=(Y=n.next()).done)&&(s.push(Y.value),!(i&&s.length===i));h=!0);}catch(X){_=!0,$=X}finally{try{!h&&n.return!=null&&n.return()}finally{if(_)throw $}}return s}}function sn(a){if(Array.isArray(a))return a}var xr=function(){var i=Object(nu.d)(),n=Object(I.useState)(!1),s=en(n,2),h=s[0],_=s[1];return Object(I.useEffect)(function(){!Object(tr.a)()||(document.onfullscreenchange=function(){_(!!document.fullscreenElement)})},[]),h?Ce.a.createElement(Tc.a,{title:i.getMessage("tableToolBar.exitFullScreen","\u5168\u5C4F")},Ce.a.createElement($n,null)):Ce.a.createElement(Tc.a,{title:i.getMessage("tableToolBar.fullScreen","\u5168\u5C4F")},Ce.a.createElement(wr,null))},jr=Ce.a.memo(xr),Mr={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M840 836H184c-4.4 0-8 3.6-8 8v60c0 4.4 3.6 8 8 8h656c4.4 0 8-3.6 8-8v-60c0-4.4-3.6-8-8-8zm0-724H184c-4.4 0-8 3.6-8 8v60c0 4.4 3.6 8 8 8h656c4.4 0 8-3.6 8-8v-60c0-4.4-3.6-8-8-8zM610.8 378c6 0 9.4-7 5.7-11.7L515.7 238.7a7.14 7.14 0 00-11.3 0L403.6 366.3a7.23 7.23 0 005.7 11.7H476v268h-62.8c-6 0-9.4 7-5.7 11.7l100.8 127.5c2.9 3.7 8.5 3.7 11.3 0l100.8-127.5c3.7-4.7.4-11.7-5.7-11.7H548V378h62.8z"}}]},name:"column-height",theme:"outlined"},An=Mr,Ln=function(i,n){return I.createElement(uc.a,Object(Pt.a)(Object(Pt.a)({},i),{},{ref:n,icon:An}))};Ln.displayName="ColumnHeightOutlined";var Aa=I.forwardRef(Ln),fi=function(){var i=bc.useContainer(),n=Object(nu.d)();return Ce.a.createElement(Sf.a,{overlay:Ce.a.createElement(Gl.a,{selectedKeys:[i.tableSize],onClick:function(h){var _,Y=h.key;(_=i.setTableSize)===null||_===void 0||_.call(i,Y)},style:{width:80}},Ce.a.createElement(Gl.a.Item,{key:"large"},n.getMessage("tableToolBar.densityLarger","\u9ED8\u8BA4")),Ce.a.createElement(Gl.a.Item,{key:"middle"},n.getMessage("tableToolBar.densityMiddle","\u4E2D\u7B49")),Ce.a.createElement(Gl.a.Item,{key:"small"},n.getMessage("tableToolBar.densitySmall","\u7D27\u51D1"))),trigger:["click"]},Ce.a.createElement(Tc.a,{title:n.getMessage("tableToolBar.density","\u8868\u683C\u5BC6\u5EA6")},Ce.a.createElement(Aa,null)))},ui=Ce.a.memo(fi),Ti=r("ipCM");function ii(a){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?ii=function(n){return typeof n}:ii=function(n){return n&&typeof Symbol=="function"&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n},ii(a)}var no=["headerTitle","tooltip","toolBarRender","action","options","selectedRowKeys","selectedRows","toolbar","onSearch","columns"];function Vi(a,i){if(!(a instanceof i))throw new TypeError("Cannot call a class as a function")}function Xi(a,i){if(typeof i!="function"&&i!==null)throw new TypeError("Super expression must either be null or a function");a.prototype=Object.create(i&&i.prototype,{constructor:{value:a,writable:!0,configurable:!0}}),i&&Qi(a,i)}function Qi(a,i){return Qi=Object.setPrototypeOf||function(s,h){return s.__proto__=h,s},Qi(a,i)}function ao(a){var i=ic();return function(){var s=Gd(a),h;if(i){var _=Gd(this).constructor;h=Reflect.construct(s,arguments,_)}else h=s.apply(this,arguments);return ts(this,h)}}function ts(a,i){if(i&&(ii(i)==="object"||typeof i=="function"))return i;if(i!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Fl(a)}function Fl(a){if(a===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return a}function ic(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(a){return!1}}function Gd(a){return Gd=Object.setPrototypeOf?Object.getPrototypeOf:function(n){return n.__proto__||Object.getPrototypeOf(n)},Gd(a)}function Dd(a,i){var n=Object.keys(a);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(a);i&&(s=s.filter(function(h){return Object.getOwnPropertyDescriptor(a,h).enumerable})),n.push.apply(n,s)}return n}function od(a){for(var i=1;i<arguments.length;i++){var n=arguments[i]!=null?arguments[i]:{};i%2?Dd(Object(n),!0).forEach(function(s){Il(a,s,n[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(a,Object.getOwnPropertyDescriptors(n)):Dd(Object(n)).forEach(function(s){Object.defineProperty(a,s,Object.getOwnPropertyDescriptor(n,s))})}return a}function Il(a,i,n){return i in a?Object.defineProperty(a,i,{value:n,enumerable:!0,configurable:!0,writable:!0}):a[i]=n,a}function Nl(a,i){if(a==null)return{};var n=Ed(a,i),s,h;if(Object.getOwnPropertySymbols){var _=Object.getOwnPropertySymbols(a);for(h=0;h<_.length;h++)s=_[h],!(i.indexOf(s)>=0)&&(!Object.prototype.propertyIsEnumerable.call(a,s)||(n[s]=a[s]))}return n}function Ed(a,i){if(a==null)return{};var n={},s=Object.keys(a),h,_;for(_=0;_<s.length;_++)h=s[_],!(i.indexOf(h)>=0)&&(n[h]=a[h]);return n}function vv(){return vv=Object.assign||function(a){for(var i=1;i<arguments.length;i++){var n=arguments[i];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(a[s]=n[s])}return a},vv.apply(this,arguments)}function yh(a){var i=a.intl;return{reload:{text:i.getMessage("tableToolBar.reload","\u5237\u65B0"),icon:Ce.a.createElement(tm,null)},density:{text:i.getMessage("tableToolBar.density","\u8868\u683C\u5BC6\u5EA6"),icon:Ce.a.createElement(ui,null)},setting:{text:i.getMessage("tableToolBar.columnSetting","\u5217\u8BBE\u7F6E"),icon:Ce.a.createElement(Ep.a,null)},fullScreen:{text:i.getMessage("tableToolBar.fullScreen","\u5168\u5C4F"),icon:Ce.a.createElement(jr,null)}}}function Um(a,i,n){return Object.keys(a).filter(function(s){return s}).map(function(s){var h=a[s];if(!h)return null;if(s==="setting")return Ce.a.createElement(ds,vv({},a[s],{columns:n,key:s}));if(s==="fullScreen")return Ce.a.createElement("span",{key:s,onClick:h===!0?i[s]:h},Ce.a.createElement(jr,null));var _=yh(i)[s];return _?Ce.a.createElement("span",{key:s,onClick:function(){if(h&&i[s]!==!0){if(h!==!0){h();return}i[s]()}}},Ce.a.createElement(Tc.a,{title:_.text},_.icon)):null}).filter(function(s){return s})}function kg(a){var i=a.headerTitle,n=a.tooltip,s=a.toolBarRender,h=a.action,_=a.options,Y=a.selectedRowKeys,$=a.selectedRows,X=a.toolbar,Ae=a.onSearch,gt=a.columns,Ct=Nl(a,no),Lt=bc.useContainer(),Ut=Object(nu.d)(),or=Object(I.useMemo)(function(){var fr={reload:function(){var bn;return h==null||(bn=h.current)===null||bn===void 0?void 0:bn.reload()},density:!0,setting:!0,search:!1,fullScreen:function(){var bn,Vn;return h==null||(bn=h.current)===null||bn===void 0||(Vn=bn.fullScreen)===null||Vn===void 0?void 0:Vn.call(bn)}};if(_===!1)return[];var _r=od(od({},fr),{},{fullScreen:!1},_);return Um(_r,od(od({},fr),{},{intl:Ut}),gt)},[h,gt,Ut,_]),Cr=s?s(h==null?void 0:h.current,{selectedRowKeys:Y,selectedRows:$}):[],sr=Object(I.useMemo)(function(){if(!_||!_.search)return!1;var fr={value:Lt.keyWords,onChange:function(Qr){return Lt.setKeyWords(Qr.target.value)}};return _.search===!0?fr:od(od({},fr),_.search)},[Lt,_]);return Object(I.useEffect)(function(){Lt.keyWords===void 0&&(Ae==null||Ae(""))},[Lt.keyWords,Ae]),Ce.a.createElement(uv,vv({title:i,tooltip:n||Ct.tip,search:sr,onSearch:Ae,actions:Cr,settings:or},X))}var Vm=function(a){Xi(n,a);var i=ao(n);function n(){var s;Vi(this,n);for(var h=arguments.length,_=new Array(h),Y=0;Y<h;Y++)_[Y]=arguments[Y];return s=i.call.apply(i,[this].concat(_)),s.onSearch=function($){var X,Ae,gt,Ct,Lt=s.props,Ut=Lt.options,or=Lt.onFormSearchSubmit,Cr=Lt.actionRef;if(!(!Ut||!Ut.search)){var sr=Ut.search===!0?{}:Ut.search,fr=sr.name,_r=fr===void 0?"keyword":fr,Qr=(X=Ut.search)===null||X===void 0||(Ae=X.onSearch)===null||Ae===void 0?void 0:Ae.call(X,$);Qr!==!1&&(Cr==null||(gt=Cr.current)===null||gt===void 0||(Ct=gt.setPageInfo)===null||Ct===void 0||Ct.call(gt,{current:1}),or(Object(Qd.a)(Il({_timestamp:Date.now()},_r,$))))}},s.isEquals=function($){var X=s.props,Ae=X.hideToolbar,gt=X.tableColumn,Ct=X.options,Lt=X.tooltip,Ut=X.toolbar,or=X.selectedRows,Cr=X.selectedRowKeys,sr=X.headerTitle,fr=X.actionRef,_r=X.toolBarRender;return Object(Ti.a)({hideToolbar:Ae,tableColumn:gt,options:Ct,tooltip:Lt,toolbar:Ut,selectedRows:or,selectedRowKeys:Cr,headerTitle:sr,actionRef:fr,toolBarRender:_r},{hideToolbar:$.hideToolbar,tableColumn:$.tableColumn,options:$.options,tooltip:$.tooltip,toolbar:$.toolbar,selectedRows:$.selectedRows,selectedRowKeys:$.selectedRowKeys,headerTitle:$.headerTitle,actionRef:$.actionRef,toolBarRender:$.toolBarRender})},s.shouldComponentUpdate=function($){return $.searchNode?!0:!s.isEquals($)},s.render=function(){var $=s.props,X=$.hideToolbar,Ae=$.tableColumn,gt=$.options,Ct=$.searchNode,Lt=$.tooltip,Ut=$.toolbar,or=$.selectedRows,Cr=$.selectedRowKeys,sr=$.headerTitle,fr=$.actionRef,_r=$.toolBarRender;return X?null:Ce.a.createElement(kg,{tooltip:Lt,columns:Ae,options:gt,headerTitle:sr,action:fr,onSearch:s.onSearch,selectedRows:or,selectedRowKeys:Cr,toolBarRender:_r,toolbar:od({filter:Ct},Ut)})},s}return n}(Ce.a.Component),Dv=Vm,Em=r("fOrg"),Cg=r("+KLJ"),hc=r("wFNa"),Fv=function(i){var n=i.intl,s=i.onCleanSelected;return[Ce.a.createElement("a",{onClick:s,key:"0"},n.getMessage("alert.clear","\u6E05\u7A7A"))]};function mv(a){var i=a.selectedRowKeys,n=a.onCleanSelected,s=a.alwaysShowAlert,h=a.selectedRows,_=a.alertInfoRender,Y=_===void 0?function(Cr){var sr=Cr.intl;return Ce.a.createElement(y.b,null,sr.getMessage("alert.selected","\u5DF2\u9009\u62E9"),i.length,sr.getMessage("alert.item","\u9879"),"\xA0\xA0")}:_,$=a.alertOptionRender,X=$===void 0?Fv:$,Ae=Object(nu.d)(),gt=X&&X({onCleanSelected:n,selectedRowKeys:i,selectedRows:h,intl:Ae}),Ct=Object(I.useContext)(Mt.b.ConfigContext),Lt=Ct.getPrefixCls,Ut=Lt("pro-table-alert");if(Y===!1)return null;var or=Y({intl:Ae,selectedRowKeys:i,selectedRows:h,onCleanSelected:n});return or===!1||i.length<1&&!s?null:Ce.a.createElement("div",{className:Ut},Ce.a.createElement(Cg.a,{message:Ce.a.createElement("div",{className:"".concat(Ut,"-info")},Ce.a.createElement("div",{className:"".concat(Ut,"-info-content")},or),gt?Ce.a.createElement("div",{className:"".concat(Ut,"-info-option")},gt):null),type:"info"}))}var og=mv,Eg=r("W38Z"),Nv=r("0byF");function Nh(){return Nh=Object.assign||function(a){for(var i=1;i<arguments.length;i++){var n=arguments[i];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(a[s]=n[s])}return a},Nh.apply(this,arguments)}function Xp(a,i,n,s,h,_,Y){try{var $=a[_](Y),X=$.value}catch(Ae){n(Ae);return}$.done?i(X):Promise.resolve(X).then(s,h)}function gv(a){return function(){var i=this,n=arguments;return new Promise(function(s,h){var _=a.apply(i,n);function Y(X){Xp(_,s,h,Y,$,"next",X)}function $(X){Xp(_,s,h,Y,$,"throw",X)}Y(void 0)})}}function Sg(a,i){var n=Object.keys(a);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(a);i&&(s=s.filter(function(h){return Object.getOwnPropertyDescriptor(a,h).enumerable})),n.push.apply(n,s)}return n}function Qp(a){for(var i=1;i<arguments.length;i++){var n=arguments[i]!=null?arguments[i]:{};i%2?Sg(Object(n),!0).forEach(function(s){Dc(a,s,n[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(a,Object.getOwnPropertyDescriptors(n)):Sg(Object(n)).forEach(function(s){Object.defineProperty(a,s,Object.getOwnPropertyDescriptor(n,s))})}return a}function Dc(a,i,n){return i in a?Object.defineProperty(a,i,{value:n,enumerable:!0,configurable:!0,writable:!0}):a[i]=n,a}function Ip(a){var i=a.replace(/[A-Z]/g,function(n){return"-".concat(n.toLowerCase())});return i.startsWith("-")&&(i=i.slice(1)),i}var Bg=function(i,n){return!i&&n!==!1?(n==null?void 0:n.filterType)==="light"?"LightFilter":"QueryFilter":"Form"},e=function(i,n,s){return!i&&s==="LightFilter"?Object(wi.a)(Qp({},n),["labelWidth","defaultCollapsed","filterType"]):i?{}:Object(wi.a)(Qp({labelWidth:n?n==null?void 0:n.labelWidth:void 0,defaultCollapsed:!0},n),["filterType"])},t=function(i,n){return i?Object(wi.a)(n,["ignoreRules"]):Qp({ignoreRules:!0},n)},o=function(i){var n,s=i.onSubmit,h=i.formRef,_=i.dateFormatter,Y=_===void 0?"string":_,$=i.type,X=i.columns,Ae=i.action,gt=i.manualRequest,Ct=i.onReset,Lt=i.submitButtonLoading,Ut=i.search,or=i.form,Cr=i.bordered,sr=$==="form",fr=function(){var xn=gv(we.a.mark(function Wn(Un,pa){return we.a.wrap(function(ka){for(;;)switch(ka.prev=ka.next){case 0:s&&s(Un,pa);case 1:case"end":return ka.stop()}},Wn)}));return function(Un,pa){return xn.apply(this,arguments)}}(),_r=Object(I.useContext)(Mt.b.ConfigContext),Qr=_r.getPrefixCls,bn=Object(I.useMemo)(function(){return X.filter(function(xn){return!((xn.hideInSearch||xn.search===!1)&&$!=="form"||$==="form"&&xn.hideInForm)}).map(function(xn){var Wn=!xn.valueType||["textarea","jsonCode","code"].includes(xn==null?void 0:xn.valueType)&&$==="table"?"text":xn==null?void 0:xn.valueType;return Qp(Qp(Qp({},xn),{},{width:void 0},xn.search?xn.search:{}),{},{valueType:Wn})})},[X,$]),Vn=Qr("pro-table-search"),Xn=Qr("pro-table-form"),Hn=Object(I.useMemo)(function(){return Bg(sr,Ut)},[Ut,sr]),yn=Object(I.useMemo)(function(){return{submitter:{submitButtonProps:{loading:Lt}}}},[Lt]);return Ce.a.createElement("div",{className:Re()(Vn,(n={},Dc(n,Xn,sr),Dc(n,Qr("pro-table-search-".concat(Ip(Hn))),!0),Dc(n,"".concat(Qr("card"),"-bordered"),!!Cr),Dc(n,Ut==null?void 0:Ut.className,Ut!==!1&&(Ut==null?void 0:Ut.className)),n))},Ce.a.createElement(Nv.a,Nh({layoutType:Hn,columns:bn,type:$},yn,e(sr,Ut,Hn),t(sr,or||{}),{formRef:h,action:Ae,dateFormatter:Y,onInit:function(Wn){if($!=="form"){var Un,pa,Zn,ka=(Un=Ae.current)===null||Un===void 0?void 0:Un.pageInfo,Bi=Wn.current,Ki=Bi===void 0?ka==null?void 0:ka.current:Bi,Po=Wn.pageSize,Zi=Po===void 0?ka==null?void 0:ka.pageSize:Po;if((pa=Ae.current)===null||pa===void 0||(Zn=pa.setPageInfo)===null||Zn===void 0||Zn.call(pa,Qp(Qp({},ka),{},{current:parseInt(Ki,10),pageSize:parseInt(Zi,10)})),gt)return;fr(Wn,!0)}},onReset:function(Wn){Ct==null||Ct(Wn)},onFinish:function(Wn){fr(Wn,!1)},initialValues:or==null?void 0:or.initialValues})))},m=o;function E(a){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?E=function(n){return typeof n}:E=function(n){return n&&typeof Symbol=="function"&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n},E(a)}function D(a,i){var n=Object.keys(a);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(a);i&&(s=s.filter(function(h){return Object.getOwnPropertyDescriptor(a,h).enumerable})),n.push.apply(n,s)}return n}function V(a){for(var i=1;i<arguments.length;i++){var n=arguments[i]!=null?arguments[i]:{};i%2?D(Object(n),!0).forEach(function(s){ae(a,s,n[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(a,Object.getOwnPropertyDescriptors(n)):D(Object(n)).forEach(function(s){Object.defineProperty(a,s,Object.getOwnPropertyDescriptor(n,s))})}return a}function ae(a,i,n){return i in a?Object.defineProperty(a,i,{value:n,enumerable:!0,configurable:!0,writable:!0}):a[i]=n,a}function je(a,i){if(!(a instanceof i))throw new TypeError("Cannot call a class as a function")}function tt(a,i){if(typeof i!="function"&&i!==null)throw new TypeError("Super expression must either be null or a function");a.prototype=Object.create(i&&i.prototype,{constructor:{value:a,writable:!0,configurable:!0}}),i&&wt(a,i)}function wt(a,i){return wt=Object.setPrototypeOf||function(s,h){return s.__proto__=h,s},wt(a,i)}function Bt(a){var i=Ir();return function(){var s=Ar(a),h;if(i){var _=Ar(this).constructor;h=Reflect.construct(s,arguments,_)}else h=s.apply(this,arguments);return Kt(this,h)}}function Kt(a,i){if(i&&(E(i)==="object"||typeof i=="function"))return i;if(i!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return pr(a)}function pr(a){if(a===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return a}function Ir(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(a){return!1}}function Ar(a){return Ar=Object.setPrototypeOf?Object.getPrototypeOf:function(n){return n.__proto__||Object.getPrototypeOf(n)},Ar(a)}var $r=function(a){tt(n,a);var i=Bt(n);function n(){var s;je(this,n);for(var h=arguments.length,_=new Array(h),Y=0;Y<h;Y++)_[Y]=arguments[Y];return s=i.call.apply(i,[this].concat(_)),s.onSubmit=function($,X){var Ae=s.props,gt=Ae.pagination,Ct=Ae.beforeSearchSubmit,Lt=Ct===void 0?function(Vn){return Vn}:Ct,Ut=Ae.action,or=Ae.onSubmit,Cr=Ae.onFormSearchSubmit,sr=gt?Object(Qd.a)({current:gt.current,pageSize:gt.pageSize}):{},fr=V(V({},$),{},{_timestamp:Date.now()},sr),_r=Object(wi.a)(Lt(fr),Object.keys(sr));if(Cr(_r),!X){var Qr,bn;(Qr=Ut.current)===null||Qr===void 0||(bn=Qr.setPageInfo)===null||bn===void 0||bn.call(Qr,{current:1})}or&&!X&&(or==null||or($))},s.onReset=function($){var X,Ae,gt=s.props,Ct=gt.pagination,Lt=gt.beforeSearchSubmit,Ut=Lt===void 0?function(Qr){return Qr}:Lt,or=gt.action,Cr=gt.onFormSearchSubmit,sr=gt.onReset,fr=Ct?Object(Qd.a)({current:Ct.current,pageSize:Ct.pageSize}):{},_r=Object(wi.a)(Ut(V(V({},$),fr)),Object.keys(fr));Cr(_r),(X=or.current)===null||X===void 0||(Ae=X.setPageInfo)===null||Ae===void 0||Ae.call(X,{current:1}),sr==null||sr()},s.isEqual=function($){var X=s.props,Ae=X.columns,gt=X.loading,Ct=X.formRef,Lt=X.type,Ut=X.cardBordered,or=X.dateFormatter,Cr=X.form,sr=X.search,fr=X.manualRequest,_r={columns:Ae,loading:gt,formRef:Ct,type:Lt,cardBordered:Ut,dateFormatter:or,form:Cr,search:sr,manualRequest:fr};return!Object(Ti.a)(_r,{columns:$.columns,formRef:$.formRef,loading:$.loading,type:$.type,cardBordered:$.cardBordered,dateFormatter:$.dateFormatter,form:$.form,search:$.search,manualRequest:$.manualRequest})},s.shouldComponentUpdate=function($){return s.isEqual($)},s.render=function(){var $=s.props,X=$.columns,Ae=$.loading,gt=$.formRef,Ct=$.type,Lt=$.action,Ut=$.cardBordered,or=$.dateFormatter,Cr=$.form,sr=$.search,fr=$.pagination,_r=$.manualRequest,Qr=fr?Object(Qd.a)({current:fr.current,pageSize:fr.pageSize}):{};return Ce.a.createElement(m,{submitButtonLoading:Ae,columns:X,type:Ct,formRef:gt,onSubmit:s.onSubmit,manualRequest:_r,onReset:s.onReset,dateFormatter:or,search:sr,form:V(V({},Cr),{},{extraUrlParams:V(V({},Qr),Cr==null?void 0:Cr.extraUrlParams)}),action:Lt,bordered:yc("search",Ut)})},s}return n}(Ce.a.Component),Gr=$r,gn=r("BY2G"),Dn=function(i){var n={};return Object.keys(i||{}).forEach(function(s){var h;Array.isArray(i[s])&&((h=i[s])===null||h===void 0?void 0:h.length)===0||i[s]!==void 0&&(n[s]=i[s])}),n},Kn=Dn,ha=r("yeZT"),da=r("tU7J"),Ja=r("wFql"),ti=r("POPG"),Hi=r("adzw"),co=r("VMEa"),mo=function(i,n,s){return n===void 0?i:Object(ce.a)(i,n,s)},Wi=mo,Jo=r("MXD1"),Ko=r("CFYs"),Yi=r("jN4g"),Ks=r("jO45"),Ps=r("hGVw"),Rl=["label","rules","name","children","popoverProps","progressProps","form"],rs=["errorType","rules","name","popoverProps","children","progressProps"];function Us(a,i){var n=Object.keys(a);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(a);i&&(s=s.filter(function(h){return Object.getOwnPropertyDescriptor(a,h).enumerable})),n.push.apply(n,s)}return n}function Cu(a){for(var i=1;i<arguments.length;i++){var n=arguments[i]!=null?arguments[i]:{};i%2?Us(Object(n),!0).forEach(function(s){qc(a,s,n[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(a,Object.getOwnPropertyDescriptors(n)):Us(Object(n)).forEach(function(s){Object.defineProperty(a,s,Object.getOwnPropertyDescriptor(n,s))})}return a}function Du(a,i){return Jc(a)||yf(a,i)||Qu(a,i)||Vu()}function Vu(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Qu(a,i){if(!!a){if(typeof a=="string")return Hu(a,i);var n=Object.prototype.toString.call(a).slice(8,-1);if(n==="Object"&&a.constructor&&(n=a.constructor.name),n==="Map"||n==="Set")return Array.from(a);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Hu(a,i)}}function Hu(a,i){(i==null||i>a.length)&&(i=a.length);for(var n=0,s=new Array(i);n<i;n++)s[n]=a[n];return s}function yf(a,i){var n=a==null?null:typeof Symbol!="undefined"&&a[Symbol.iterator]||a["@@iterator"];if(n!=null){var s=[],h=!0,_=!1,Y,$;try{for(n=n.call(a);!(h=(Y=n.next()).done)&&(s.push(Y.value),!(i&&s.length===i));h=!0);}catch(X){_=!0,$=X}finally{try{!h&&n.return!=null&&n.return()}finally{if(_)throw $}}return s}}function Jc(a){if(Array.isArray(a))return a}function bf(a,i){if(a==null)return{};var n=Wu(a,i),s,h;if(Object.getOwnPropertySymbols){var _=Object.getOwnPropertySymbols(a);for(h=0;h<_.length;h++)s=_[h],!(i.indexOf(s)>=0)&&(!Object.prototype.propertyIsEnumerable.call(a,s)||(n[s]=a[s]))}return n}function Wu(a,i){if(a==null)return{};var n={},s=Object.keys(a),h,_;for(_=0;_<s.length;_++)h=s[_],!(i.indexOf(h)>=0)&&(n[h]=a[h]);return n}function Fc(){return Fc=Object.assign||function(a){for(var i=1;i<arguments.length;i++){var n=arguments[i];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(a[s]=n[s])}return a},Fc.apply(this,arguments)}function qc(a,i,n){return i in a?Object.defineProperty(a,i,{value:n,enumerable:!0,configurable:!0,writable:!0}):a[i]=n,a}var ef=function(i){return i<50?"error":i<100?"warning":"success"},tf=function(i){var n=i.prefixCls;return Ce.a.createElement("div",{className:"".concat(n,"-rule-content-icon-default")},Ce.a.createElement("div",{className:"".concat(n,"-rule-content-icon-default-circle")}))},jl=function(i,n,s,h,_,Y){return _?Ce.a.createElement(Mi.a,{className:"".concat(Y,"-rule-content-icon-loading")}):s?!h||i.includes(n.message)?Ce.a.createElement(Yi.a,{className:"".concat(Y,"-rule-content-icon-error")}):Ce.a.createElement(Ks.a,{className:"".concat(Y,"-rule-content-icon-success")}):Ce.a.createElement(tf,{prefixCls:Y})},yl=function(i){var n=i.rules,s=n===void 0?[]:n,h=i.isTouched,_=i.isValidating,Y=i.value,$=i.fieldError,X=i.progressProps,Ae=i.form,gt=Math.max(0,Math.min(100,(s.length-$.length)/s.length*100)),Ct=s.length>1,Lt=s.find(function(_r){return _r.required}),Ut=!!Lt,or=Ut&&!$.includes(Lt==null?void 0:Lt.message),Cr=Object(I.useContext)(Mt.b.ConfigContext),sr=Cr.getPrefixCls,fr=sr("pro-inline-error-form-item");return Ce.a.createElement("div",{className:Re()(fr,qc({},"".concat(fr,"-multiple"),Ct))},Ce.a.createElement(y.b,{direction:"vertical"},(X===void 0||X)&&Ce.a.createElement(Ko.a,Fc({className:"".concat(fr,"-progress-").concat(ef(gt)),percent:Y&&h?gt:0,showInfo:!1,size:"small",strokeLinecap:"butt"},X)),Ce.a.createElement("ul",{className:"".concat(fr,"-rule")},s==null?void 0:s.map(function(_r,Qr){var bn=typeof _r=="function"?_r(Ae):_r;return Ce.a.createElement("li",{key:Qr,className:"".concat(fr,"-rule-content")},Ce.a.createElement(y.b,null,jl($,bn,h,Ut?or:!0,_,fr),Ce.a.createElement("span",{className:"".concat(fr,"-rule-content-text")},bn.message)))}))))},Xl={marginTop:-5,marginBottom:-5,marginLeft:0,marginRight:0},Fu=function(i){var n=i.label,s=i.rules,h=i.name,_=i.children,Y=i.popoverProps,$=i.progressProps,X=i.form,Ae=bf(i,Rl),gt=X.getFieldError(h),Ct=X.getFieldValue(h),Lt=X.isFieldValidating(h),Ut=X.isFieldTouched(h),or=Object(I.useState)(void 0),Cr=Du(or,2),sr=Cr[0],fr=Cr[1];return Ce.a.createElement(Et.a.Item,Fc({style:Xl,preserve:!1,name:h,validateFirst:!1,rules:s,_internalItemRender:{mark:"pro_table_render",render:function(Qr,bn){var Vn=bn.input,Xn=bn.extra;return Ce.a.createElement(Yp.a,{trigger:(Y==null?void 0:Y.trigger)||"focus",placement:Y==null?void 0:Y.placement,visible:sr,onVisibleChange:fr,content:Ce.a.createElement(yl,{fieldError:gt,value:Ct,isValidating:Lt,isTouched:Ut,rules:s,progressProps:$,form:X})},Ce.a.createElement("div",null,Vn,Xn))}}},Ae),_)},Sd=function(i){return Ce.a.createElement(Et.a.Item,{shouldUpdate:!0,noStyle:!0},function(n){return Ce.a.createElement(Fu,Fc({},i,{form:n}))})},Pu=function(a){var i=a.errorType,n=a.rules,s=a.name,h=a.popoverProps,_=a.children,Y=a.progressProps,$=bf(a,rs);return s&&(n==null?void 0:n.length)&&i==="popover"?Ce.a.createElement(Sd,Fc({name:s,rules:n,popoverProps:h,progressProps:n.length>1?Y:!1},$),_):Ce.a.createElement(Et.a.Item,Fc({rules:n},$,{style:Cu(Cu({},Xl),$.style),name:s}),_)},iu=r("ub+h");function zc(){return zc=Object.assign||function(a){for(var i=1;i<arguments.length;i++){var n=arguments[i];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(a[s]=n[s])}return a},zc.apply(this,arguments)}function Is(a,i){var n=Object.keys(a);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(a);i&&(s=s.filter(function(h){return Object.getOwnPropertyDescriptor(a,h).enumerable})),n.push.apply(n,s)}return n}function oc(a){for(var i=1;i<arguments.length;i++){var n=arguments[i]!=null?arguments[i]:{};i%2?Is(Object(n),!0).forEach(function(s){bh(a,s,n[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(a,Object.getOwnPropertyDescriptors(n)):Is(Object(n)).forEach(function(s){Object.defineProperty(a,s,Object.getOwnPropertyDescriptor(n,s))})}return a}function bh(a,i,n){return i in a?Object.defineProperty(a,i,{value:n,enumerable:!0,configurable:!0,writable:!0}):a[i]=n,a}var up=["",null,void 0],rf=function(){for(var i=arguments.length,n=new Array(i),s=0;s<i;s++)n[s]=arguments[s];return n.filter(Boolean).flat(1)};function ns(a){var i,n=a.text,s=a.valueType,h=a.rowData,_=a.columnProps,Y=a.prefixName;if((!s||["textarea","text"].includes(s.toString()))&&!(_==null?void 0:_.valueEnum)&&a.mode==="read")return up.includes(n)?a.columnEmptyText:n;if(typeof s=="function"&&h)return ns(oc(oc({},a),{},{valueType:s(h,a.type)||"text"}));var $=(_==null?void 0:_.key)||(_==null||(i=_.dataIndex)===null||i===void 0?void 0:i.toString()),X={valueEnum:Object(ce.a)(_==null?void 0:_.valueEnum,h),request:_==null?void 0:_.request,params:_==null?void 0:_.params,text:s==="index"||s==="indexBorder"?a.index:n,mode:a.mode,renderFormItem:void 0,valueType:s,proFieldProps:{emptyText:a.columnEmptyText,proFieldKey:$?"table-field-".concat($):void 0}};return a.mode!=="edit"?Ce.a.createElement(Hi.a,zc({mode:"read",ignoreFormItem:!0,fieldProps:Wi(_==null?void 0:_.fieldProps,null,_)},X)):Ce.a.createElement(co.b.Item,{shouldUpdate:function(gt,Ct){if(!(_==null?void 0:_.fieldProps)&&!(_==null?void 0:_.formItemProps)&&!(_==null?void 0:_.renderFormItem))return!1;var Lt=[a.recordKey].flat(1);return!Object(Ti.a)(Object(iu.a)(gt,Lt),Object(iu.a)(Ct,Lt))},noStyle:!0},function(Ae){var gt,Ct=function(_r,Qr){var bn=[a.recordKey].flat(1);return!Object(Ti.a)(Object(iu.a)(_r,bn),Object(iu.a)(Qr,bn))},Lt=rf(Y,a.recordKey||a.index,(_==null?void 0:_.key)||(_==null?void 0:_.dataIndex)||a.index),Ut=Wi(_==null?void 0:_.formItemProps,Ae,oc(oc({rowKey:a.recordKey||a.index,rowIndex:a.index},_),{},{isEditable:!0})),or=oc({label:(_==null?void 0:_.title)||"\u6B64\u9879",type:(_==null?void 0:_.valueType)||"\u6587\u672C"},Ut==null?void 0:Ut.messageVariables),Cr=Ce.a.createElement(Hi.a,zc({name:Lt,ignoreFormItem:!0,fieldProps:Wi(_==null?void 0:_.fieldProps,Ae,oc(oc({},_),{},{rowKey:a.recordKey||a.index,rowIndex:a.index,isEditable:!0}))},X));if(!(_==null?void 0:_.renderFormItem))return Ce.a.createElement(Pu,zc({shouldUpdate:Ct,errorType:"popover",name:Lt},Ut,{messageVariables:or,initialValue:n!=null?n:Ut==null?void 0:Ut.initialValue}),Cr);var sr=(gt=_.renderFormItem)===null||gt===void 0?void 0:gt.call(_,oc(oc({},_),{},{index:a.index,isEditable:!0,type:"table"}),{defaultRender:function(){return Ce.a.createElement(Pu,zc({shouldUpdate:Ct,errorType:"popover",name:Lt},Ut,{messageVariables:or,initialValue:n!=null?n:Ut==null?void 0:Ut.initialValue}),Cr)},type:"form",recordKey:a.recordKey,record:Ae.getFieldValue([a.recordKey||a.index]),isEditable:!0},Ae);return Ce.a.createElement(Pu,zc({errorType:"popover",shouldUpdate:Ct,name:rf(a.recordKey||a.index,(_==null?void 0:_.key)||(_==null?void 0:_.dataIndex)||a.index)},Ut,{initialValue:n!=null?n:Ut==null?void 0:Ut.initialValue,messageVariables:or}),sr)})}var yv=ns;function Zs(a){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Zs=function(n){return typeof n}:Zs=function(n){return n&&typeof Symbol=="function"&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n},Zs(a)}function Gu(a,i){var n=Object.keys(a);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(a);i&&(s=s.filter(function(h){return Object.getOwnPropertyDescriptor(a,h).enumerable})),n.push.apply(n,s)}return n}function oh(a){for(var i=1;i<arguments.length;i++){var n=arguments[i]!=null?arguments[i]:{};i%2?Gu(Object(n),!0).forEach(function(s){Od(a,s,n[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(a,Object.getOwnPropertyDescriptors(n)):Gu(Object(n)).forEach(function(s){Object.defineProperty(a,s,Object.getOwnPropertyDescriptor(n,s))})}return a}function Od(a,i,n){return i in a?Object.defineProperty(a,i,{value:n,enumerable:!0,configurable:!0,writable:!0}):a[i]=n,a}var Sm=function(i){var n=i.title;return n&&typeof n=="function"?n(i,"table",Ce.a.createElement(nm.a,{label:n,tooltip:i.tooltip||i.tip})):Ce.a.createElement(nm.a,{label:n,tooltip:i.tooltip||i.tip})};function um(a,i,n,s){return typeof s=="boolean"?s===!1:(s==null?void 0:s(a,i,n))===!1}var Jp=function(i){var n;return!!((i==null||(n=i.valueType)===null||n===void 0?void 0:n.toString().startsWith("date"))||(i==null?void 0:i.valueType)==="select"||(i==null?void 0:i.valueEnum))},Hm=function(i,n,s){if(n.copyable||n.ellipsis){var h=n.copyable&&s?{text:s,tooltips:["",""]}:void 0,_=Jp(n),Y=n.ellipsis&&s?{tooltip:_?Ce.a.createElement("div",{className:"pro-table-tooltip-text"},i):s}:!1;return Ce.a.createElement(Ja.a.Text,{style:{width:"100%",margin:0,padding:0},title:"",copyable:h,ellipsis:Y},i)}return i},jv=function(i,n,s){var h=Array.isArray(s)?Object(iu.a)(n,s):n[s],_=String(h);return String(_)===String(i)};function cm(a){var i=a.columnProps,n=a.text,s=a.rowData,h=a.index,_=a.columnEmptyText,Y=a.counter,$=a.type,X=a.editableUtils,Ae=Y.action,gt=Y.prefixName,Ct=X.isEditable(oh(oh({},s),{},{index:h})),Lt=Ct.isEditable,Ut=Ct.recordKey,or=i.renderText,Cr=or===void 0?function(Xn){return Xn}:or,sr=Cr(n,s,h,Ae.current),fr=Lt&&!um(n,s,h,i==null?void 0:i.editable)?"edit":"read",_r=yv({text:sr,valueType:i.valueType||"text",index:h,rowData:s,columnProps:oh(oh({},i),{},{entry:s,entity:s}),columnEmptyText:_,type:$,recordKey:Ut,mode:fr,prefixName:gt}),Qr=fr==="edit"?_r:Hm(_r,i,sr);if(fr==="edit")return i.valueType==="option"?Ce.a.createElement(Et.a.Item,{shouldUpdate:function(Hn,yn){return!Object(Ti.a)(Object(iu.a)(Hn,[Ut]),Object(iu.a)(yn,[Ut]))},noStyle:!0},function(Xn){return Ce.a.createElement(y.b,{size:16},X.actionRender(oh(oh({},s),{},{index:i.index||h}),Xn))}):Qr;if(!i.render){var bn=Ce.a.isValidElement(Qr)||["string","number"].includes(Zs(Qr));return!Object(ti.a)(Qr)&&bn?Qr:null}var Vn=i.render(Qr,s,h,oh(oh({},Ae.current),X),oh(oh({},i),{},{isEditable:Lt,type:"table"}));return nc(Vn)?Vn:Vn&&i.valueType==="option"&&Array.isArray(Vn)?Ce.a.createElement(y.b,{size:16},Vn):Vn}function Rp(a,i){var n=Object.keys(a);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(a);i&&(s=s.filter(function(h){return Object.getOwnPropertyDescriptor(a,h).enumerable})),n.push.apply(n,s)}return n}function Pd(a){for(var i=1;i<arguments.length;i++){var n=arguments[i]!=null?arguments[i]:{};i%2?Rp(Object(n),!0).forEach(function(s){Om(a,s,n[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(a,Object.getOwnPropertyDescriptors(n)):Rp(Object(n)).forEach(function(s){Object.defineProperty(a,s,Object.getOwnPropertyDescriptor(n,s))})}return a}function Om(a,i,n){return i in a?Object.defineProperty(a,i,{value:n,enumerable:!0,configurable:!0,writable:!0}):a[i]=n,a}function Lp(a){var i=a.columns,n=a.counter,s=a.columnEmptyText,h=a.type,_=a.editableUtils;return i.map(function(Y,$){var X=Y.key,Ae=Y.dataIndex,gt=Y.valueEnum,Ct=Y.valueType,Lt=Ct===void 0?"text":Ct,Ut=Y.children,or=Y.onFilter,Cr=Y.filters,sr=Cr===void 0?[]:Cr,fr=Ru(X||(Ae==null?void 0:Ae.toString()),$),_r=!gt&&!Lt&&!Ut;if(_r)return Pd({index:$},Y);var Qr=n.columnsMap[fr]||{fixed:Y.fixed},bn=function(){return or===!0?function(Hn,yn){return jv(Hn,yn,Ae)}:Object(gn.a)(or)},Vn=Pd(Pd({index:$,key:fr},Y),{},{title:Sm(Y),valueEnum:gt,filters:sr===!0?Object(ha.d)(Object(ce.a)(gt,void 0)).filter(function(Xn){return Xn&&Xn.value!=="all"}):sr,onFilter:bn(),ellipsis:!1,fixed:Qr.fixed,width:Y.width||(Y.fixed?200:void 0),children:Y.children?Lp(Pd(Pd({},a),{},{columns:Y==null?void 0:Y.children})):void 0,render:function(Hn,yn,xn){var Wn={columnProps:Y,text:Hn,rowData:yn,index:xn,columnEmptyText:s,counter:n,type:h,editableUtils:_};return cm(Wn)}});return Kn(Vn)}).filter(function(Y){return!Y.hideInTable})}var Ju=r("tkDr"),pc=function(i){return function(n,s){var h,_,Y=n.fixed,$=n.index,X=s.fixed,Ae=s.index;if(Y==="left"&&X!=="left"||X==="right"&&Y!=="right")return-2;if(X==="left"&&Y!=="left"||Y==="right"&&X!=="right")return 2;var gt=n.key||"".concat($),Ct=s.key||"".concat(Ae);if(((h=i[gt])===null||h===void 0?void 0:h.order)||((_=i[Ct])===null||_===void 0?void 0:_.order)){var Lt,Ut;return(((Lt=i[gt])===null||Lt===void 0?void 0:Lt.order)||0)-(((Ut=i[Ct])===null||Ut===void 0?void 0:Ut.order)||0)}return(n.index||0)-(s.index||0)}},Pm=["rowKey","tableClassName","action","tableColumn","type","pagination","rowSelection","size","defaultSize","tableStyle","toolbarDom","searchNode","style","cardProps","alertDom","name","onSortChange","onFilterChange","options","isLightFilter","className","cardBordered","editableUtils","rootRef"],sg=["cardBordered","request","className","params","defaultData","headerTitle","postData","pagination","actionRef","columns","toolBarRender","onLoad","onRequestError","style","cardProps","tableStyle","tableClassName","columnsStateMap","onColumnsStateChange","options","search","name","onLoadingChange","rowSelection","beforeSearchSubmit","tableAlertRender","defaultClassName","formRef","type","columnEmptyText","toolbar","rowKey","manualRequest","polling","tooltip"];function kv(a,i,n,s,h,_,Y){try{var $=a[_](Y),X=$.value}catch(Ae){n(Ae);return}$.done?i(X):Promise.resolve(X).then(s,h)}function Wm(a){return function(){var i=this,n=arguments;return new Promise(function(s,h){var _=a.apply(i,n);function Y(X){kv(_,s,h,Y,$,"next",X)}function $(X){kv(_,s,h,Y,$,"throw",X)}Y(void 0)})}}function Bv(a){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Bv=function(n){return typeof n}:Bv=function(n){return n&&typeof Symbol=="function"&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n},Bv(a)}function jh(a,i){return bv(a)||wm(a,i)||qp(a,i)||fm()}function fm(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function wm(a,i){var n=a==null?null:typeof Symbol!="undefined"&&a[Symbol.iterator]||a["@@iterator"];if(n!=null){var s=[],h=!0,_=!1,Y,$;try{for(n=n.call(a);!(h=(Y=n.next()).done)&&(s.push(Y.value),!(i&&s.length===i));h=!0);}catch(X){_=!0,$=X}finally{try{!h&&n.return!=null&&n.return()}finally{if(_)throw $}}return s}}function bv(a){if(Array.isArray(a))return a}function kh(){return kh=Object.assign||function(a){for(var i=1;i<arguments.length;i++){var n=arguments[i];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(a[s]=n[s])}return a},kh.apply(this,arguments)}function zv(a){return Dp(a)||sd(a)||qp(a)||Tm()}function Tm(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function qp(a,i){if(!!a){if(typeof a=="string")return Uv(a,i);var n=Object.prototype.toString.call(a).slice(8,-1);if(n==="Object"&&a.constructor&&(n=a.constructor.name),n==="Map"||n==="Set")return Array.from(a);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Uv(a,i)}}function sd(a){if(typeof Symbol!="undefined"&&a[Symbol.iterator]!=null||a["@@iterator"]!=null)return Array.from(a)}function Dp(a){if(Array.isArray(a))return Uv(a)}function Uv(a,i){(i==null||i>a.length)&&(i=a.length);for(var n=0,s=new Array(i);n<i;n++)s[n]=a[n];return s}function lg(a,i){var n=Object.keys(a);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(a);i&&(s=s.filter(function(h){return Object.getOwnPropertyDescriptor(a,h).enumerable})),n.push.apply(n,s)}return n}function ld(a){for(var i=1;i<arguments.length;i++){var n=arguments[i]!=null?arguments[i]:{};i%2?lg(Object(n),!0).forEach(function(s){Vv(a,s,n[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(a,Object.getOwnPropertyDescriptors(n)):lg(Object(n)).forEach(function(s){Object.defineProperty(a,s,Object.getOwnPropertyDescriptor(n,s))})}return a}function Vv(a,i,n){return i in a?Object.defineProperty(a,i,{value:n,enumerable:!0,configurable:!0,writable:!0}):a[i]=n,a}function Og(a,i){if(a==null)return{};var n=Gm(a,i),s,h;if(Object.getOwnPropertySymbols){var _=Object.getOwnPropertySymbols(a);for(h=0;h<_.length;h++)s=_[h],!(i.indexOf(s)>=0)&&(!Object.prototype.propertyIsEnumerable.call(a,s)||(n[s]=a[s]))}return n}function Gm(a,i){if(a==null)return{};var n={},s=Object.keys(a),h,_;for(_=0;_<s.length;_++)h=s[_],!(i.indexOf(h)>=0)&&(n[h]=a[h]);return n}function xv(a){var i,n,s=a.rowKey,h=a.tableClassName,_=a.action,Y=a.tableColumn,$=a.type,X=a.pagination,Ae=a.rowSelection,gt=a.size,Ct=a.defaultSize,Lt=a.tableStyle,Ut=a.toolbarDom,or=a.searchNode,Cr=a.style,sr=a.cardProps,fr=a.alertDom,_r=a.name,Qr=a.onSortChange,bn=a.onFilterChange,Vn=a.options,Xn=a.isLightFilter,Hn=a.className,yn=a.cardBordered,xn=a.editableUtils,Wn=a.rootRef,Un=Og(a,Pm),pa=bc.useContainer(),Zn=Object(I.useMemo)(function(){var ho=function Ni(po){return po.map(function(li){var Sa=Ru(li.key,li.index),Xa=pa.columnsMap[Sa];return Xa&&Xa.show===!1?!1:li.children?ld(ld({},li),{},{children:Ni(li.children)}):li}).filter(Boolean)};return ho(Y)},[pa.columnsMap,Y]),ka=Object(I.useMemo)(function(){return Zn==null?void 0:Zn.every(function(ho){return ho.filters===!0&&ho.onFilter===!0||ho.filters===void 0&&ho.onFilter===void 0})},[Zn]),Bi=function(){var Ni=xn.newLineRecord||{},po=Ni.options,li=Ni.defaultValue;if((po==null?void 0:po.position)==="top")return[li].concat(zv(_.dataSource));if(X&&(X==null?void 0:X.current)&&(X==null?void 0:X.pageSize)){var Sa=zv(_.dataSource);return(X==null?void 0:X.pageSize)>Sa.length?(Sa.push(li),Sa):(Sa.splice((X==null?void 0:X.current)*(X==null?void 0:X.pageSize)-1,0,li),Sa)}return[].concat(zv(_.dataSource),[li])},Ki=function(){return ld(ld({},Un),{},{size:gt,rowSelection:Ae===!1?void 0:Ae,className:h,style:Lt,columns:Zn,loading:_.loading,dataSource:xn.newLineRecord?Bi():_.dataSource,pagination:X,onChange:function(po,li,Sa,Xa){var oo;if((oo=Un.onChange)===null||oo===void 0||oo.call(Un,po,li,Sa,Xa),ka||bn(Object(Qd.a)(li)),Array.isArray(Sa)){var Cs=Sa.reduce(function(cu,Tl){return ld(ld({},cu),{},Vv({},"".concat(Tl.field),Tl.order))},{});Qr(Object(Qd.a)(Cs))}else{var nl,Jl=(nl=Sa.column)===null||nl===void 0?void 0:nl.sorter,Ol=(Jl==null?void 0:Jl.toString())===Jl;Qr(Object(Qd.a)(Vv({},"".concat(Ol?Jl:Sa.field),Sa.order))||{})}}})},Po=((i=a.tableLayout)!==null&&i!==void 0?i:(n=a.columns)===null||n===void 0?void 0:n.some(function(ho){return ho.ellipsis}))?"fixed":"auto",Zi=Ce.a.createElement(wf,kh({},Ki(),{rowKey:s,tableLayout:Po})),wo=a.tableViewRender?a.tableViewRender(ld(ld({},Ki()),{},{rowSelection:Ae!==!1?Ae:void 0}),Zi):Zi;Object(I.useEffect)(function(){pa.setPrefixName(_r)},[_r]);var io=Object(I.useMemo)(function(){if(a.editable){var ho,Ni;return Ce.a.createElement(Ce.a.Fragment,null,Ut,fr,Ce.a.createElement(co.b,kh({},(ho=a.editable)===null||ho===void 0?void 0:ho.formProps,{component:!1,form:(Ni=a.editable)===null||Ni===void 0?void 0:Ni.form,onValuesChange:xn.onValuesChange,key:"table",submitter:!1,omitNil:!1}),wo))}return Ce.a.createElement(Ce.a.Fragment,null,Ut,fr,wo)},[fr,!!a.editable,wo,Ut]),qo=sr===!1?io:Ce.a.createElement(k.a,kh({bordered:yc("table",yn),bodyStyle:Ut?{paddingTop:0}:{padding:0}},sr),io),Js=function(){return a.tableRender?a.tableRender(a,qo,{toolbar:Ut||void 0,alert:fr||void 0,table:wo||void 0}):qo},Yo=Ce.a.createElement("div",{className:Re()(Hn,Vv({},"".concat(Hn,"-polling"),_.pollingLoading)),style:Cr,ref:Wn},Xn?null:or,$!=="form"&&a.tableExtraRender&&_.dataSource&&Ce.a.createElement("div",{className:"".concat(Hn,"-extra")},a.tableExtraRender(a,_.dataSource)),$!=="form"&&Js());return!Vn||!(Vn==null?void 0:Vn.fullScreen)?Yo:Ce.a.createElement(Mt.b,{getPopupContainer:function(){return Wn.current||document.body}},Yo)}var wl=function(i){var n,s=i.cardBordered,h=i.request,_=i.className,Y=i.params,$=Y===void 0?{}:Y,X=i.defaultData,Ae=i.headerTitle,gt=i.postData,Ct=i.pagination,Lt=i.actionRef,Ut=i.columns,or=Ut===void 0?[]:Ut,Cr=i.toolBarRender,sr=i.onLoad,fr=i.onRequestError,_r=i.style,Qr=i.cardProps,bn=i.tableStyle,Vn=i.tableClassName,Xn=i.columnsStateMap,Hn=i.onColumnsStateChange,yn=i.options,xn=i.search,Wn=i.name,Un=i.onLoadingChange,pa=i.rowSelection,Zn=pa===void 0?!1:pa,ka=i.beforeSearchSubmit,Bi=i.tableAlertRender,Ki=i.defaultClassName,Po=i.formRef,Zi=i.type,wo=Zi===void 0?"table":Zi,io=i.columnEmptyText,qo=io===void 0?"-":io,Js=i.toolbar,Yo=i.rowKey,ho=i.manualRequest,Ni=i.polling,po=i.tooltip,li=Og(i,sg),Sa=Re()(Ki,_),Xa=Object(I.useRef)(),oo=Object(I.useRef)(),Cs=Po||oo;Object(I.useEffect)(function(){typeof Lt=="function"&&Xa.current&&Lt(Xa.current)},[Lt]);var nl=Object(Gf.a)([],{value:Zn?Zn.selectedRowKeys:void 0}),Jl=jh(nl,2),Ol=Jl[0],cu=Jl[1],Tl=Object(I.useRef)([]),Nc=Object(I.useCallback)(function(Vs,bl){cu(Vs),(!Zn||!(Zn==null?void 0:Zn.selectedRowKeys))&&(Tl.current=bl)},[cu]),Bl=Object(Gf.a)(function(){if(!(ho||xn!==!1))return{}}),zp=jh(Bl,2),is=zp[0],qs=zp[1],el=Object(Gf.a)({}),Ts=jh(el,2),nf=Ts[0],Zd=Ts[1],qv=Object(Gf.a)({}),Nd=jh(qv,2),mm=Nd[0],iv=Nd[1];Object(I.useEffect)(function(){var Vs=Ft(or),bl=Vs.sort,Tu=Vs.filter;Zd(Tu),iv(bl)},[]);var Oh=Object(I.useRef)(null),yg=Object(nu.d)(),Py=Bv(Ct)==="object"?Ct:{defaultCurrent:1,defaultPageSize:20,pageSize:20,current:1},wy=Object(I.useMemo)(function(){if(!!h)return function(){var Vs=Wm(we.a.mark(function bl(Tu){var Au,vp;return we.a.wrap(function(jm){for(;;)switch(jm.prev=jm.next){case 0:return Au=ld(ld(ld({},Tu||{}),is),$),delete Au._timestamp,jm.next=4,h(Au,mm,nf);case 4:return vp=jm.sent,jm.abrupt("return",vp);case 6:case"end":return jm.stop()}},bl)}));return function(bl){return Vs.apply(this,arguments)}}()},[is,$,nf,mm,h]),Uc=Ul(wy,X,{pageInfo:Ct===!1?!1:Py,loading:i.loading,dataSource:i.dataSource,onDataSourceChange:i.onDataSourceChange,onLoad:sr,onLoadingChange:Un,onRequestError:fr,postData:gt,manual:is===void 0,polling:Ni,effects:[Object(Wf.a)($),Object(Wf.a)(is),Object(Wf.a)(nf),Object(Wf.a)(mm)],debounceTime:i.debounceTime,onPageInfoChange:function(bl){if(Ct&&wo!=="list"){var Tu,Au;Ct==null||(Tu=Ct.onChange)===null||Tu===void 0||Tu.call(Ct,bl.current,bl.pageSize),Ct==null||(Au=Ct.onShowSizeChange)===null||Au===void 0||Au.call(Ct,bl.current,bl.pageSize)}}}),oy=Ce.a.useRef(new Map),Ty=Ce.a.useMemo(function(){return typeof Yo=="function"?Yo:function(Vs,bl){var Tu;return(Tu=Vs==null?void 0:Vs[Yo])!==null&&Tu!==void 0?Tu:bl}},[Yo]);Object(I.useMemo)(function(){var Vs;if((Vs=Uc.dataSource)===null||Vs===void 0?void 0:Vs.length){var bl=new Map,Tu=Uc.dataSource.map(function(Au){var vp,Kh=(vp=Au==null?void 0:Au[Yo])!==null&&vp!==void 0?vp:Au==null?void 0:Au.key;return bl.set(Kh,Au),Kh});return oy.current=bl,Tu}return[]},[Uc.dataSource,Yo]),Object(I.useEffect)(function(){Tl.current=Ol==null?void 0:Ol.map(function(Vs){var bl;return(bl=oy.current)===null||bl===void 0?void 0:bl.get(Vs)})},[Ol]);var Ay=Object(I.useMemo)(function(){var Vs=ld(ld({},Uc.pageInfo),{},{setPageInfo:function(Tu){var Au=Tu.pageSize,vp=Tu.current,Kh=Uc.pageInfo;if(Au===Kh.pageSize||Kh.current===1){Uc.setPageInfo({pageSize:Au,current:vp});return}h&&Uc.setDataSource([]),requestAnimationFrame(function(){Uc.setPageInfo({pageSize:Au,current:1})})}});return pl(Ct,Vs,yg)},[Ct,Uc,yg]),Ph=bc.useContainer(),Lg=Object(I.useCallback)(function(){Zn&&Zn.onChange&&Zn.onChange([],[]),Nc([],[])},[Zn,Nc]);Ph.setAction(Xa.current),Ph.propsRef.current=i;var af=g(ld(ld({},i.editable),{},{tableName:i.name,getRowKey:Ty,childrenColumnName:(n=i.expandable)===null||n===void 0?void 0:n.childrenColumnName,dataSource:Uc.dataSource||[],setDataSource:function(bl){var Tu,Au;(Tu=i.editable)===null||Tu===void 0||(Au=Tu.onValuesChange)===null||Au===void 0||Au.call(Tu,void 0,bl),Uc.setDataSource(bl)}}));xl(Xa,Uc,{fullScreen:function(){!Oh.current||!document.fullscreenEnabled||(document.fullscreenElement?document.exitFullscreen():Oh.current.requestFullscreen())},onCleanSelected:function(){Lg()},resetAll:function(){var bl;Lg(),Zd({}),iv({}),Ph.setKeyWords(void 0),Uc.setPageInfo({current:1}),Cs==null||(bl=Cs.current)===null||bl===void 0||bl.resetFields(),qs({})},editableUtils:af}),Lt&&(Lt.current=Xa.current);var jf=Object(I.useMemo)(function(){return Lp({columns:or,counter:Ph,columnEmptyText:qo,type:wo,editableUtils:af}).sort(pc(Ph.columnsMap))},[or,Ph==null?void 0:Ph.sortKeyColumns,Ph==null?void 0:Ph.columnsMap,qo,wo,af.editableKeys&&af.editableKeys.join(",")]);Object(F.a)(function(){if(jf&&jf.length>0){var Vs=jf.map(function(bl){return Ru(bl.key,bl.index)});Ph.setSortKeyColumns(Vs)}},[jf]),Object(F.a)(function(){var Vs=Uc.pageInfo,bl=Ct||{},Tu=bl.current,Au=Tu===void 0?Vs==null?void 0:Vs.current:Tu,vp=bl.pageSize,Kh=vp===void 0?Vs==null?void 0:Vs.pageSize:vp;Ct&&(Au||Kh)&&(Kh!==(Vs==null?void 0:Vs.pageSize)||Au!==(Vs==null?void 0:Vs.current))&&Uc.setPageInfo({pageSize:Kh||Vs.pageSize,current:Au||Vs.current})},[Ct&&Ct.pageSize,Ct&&Ct.current]);var Zu=ld(ld({selectedRowKeys:Ol},Zn),{},{onChange:function(bl,Tu){Zn&&Zn.onChange&&Zn.onChange(bl,Tu),Nc(bl,Tu)}}),Cf=xn!==!1&&(xn==null?void 0:xn.filterType)==="light",kf=xn===!1&&wo!=="form"?null:Ce.a.createElement(Gr,{pagination:Ay,beforeSearchSubmit:ka,action:Xa,columns:or,onFormSearchSubmit:function(bl){qs(bl)},onReset:i.onReset,onSubmit:i.onSubmit,loading:!!Uc.loading,manualRequest:ho,search:xn,form:i.form,formRef:Cs,type:i.type||"table",cardBordered:i.cardBordered,dateFormatter:i.dateFormatter}),Oc=Cr===!1?null:Ce.a.createElement(Dv,{headerTitle:Ae,hideToolbar:yn===!1&&!Ae&&!Cr&&!Js&&!Cf,selectedRows:Tl.current,selectedRowKeys:Ol,tableColumn:jf,tooltip:po,toolbar:Js,onFormSearchSubmit:qs,searchNode:Cf?kf:null,options:yn,actionRef:Xa,toolBarRender:Cr}),$f=Zn!==!1?Ce.a.createElement(og,{selectedRowKeys:Ol,selectedRows:Tl.current,onCleanSelected:Lg,alertOptionRender:li.tableAlertOptionRender,alertInfoRender:Bi,alwaysShowAlert:Zn==null?void 0:Zn.alwaysShowAlert}):null;return Ce.a.createElement(xv,kh({},i,{name:Wn,rootRef:Oh,size:Ph.tableSize,onSizeChange:Ph.setTableSize,pagination:Ay,searchNode:kf,rowSelection:Zn!==!1?Zu:void 0,className:Sa,tableColumn:jf,isLightFilter:Cf,action:Uc,alertDom:$f,toolbarDom:Oc,onSortChange:iv,onFilterChange:Zd,editableUtils:af}))},Cv=function(i){var n=Object(I.useContext)(Mt.b.ConfigContext),s=n.getPrefixCls;return Ce.a.createElement(bc.Provider,{initialState:i},Ce.a.createElement(nu.a,null,Ce.a.createElement(Q.a,null,Ce.a.createElement(wl,kh({defaultClassName:s("pro-table")},i)))))};Cv.Summary=wf.Summary;var Ql=Cv,Bh=["onTableChange","maxLength","formItemProps","recordCreatorProps","rowKey","controlled"],Ev=["record","position","creatorButtonText","newRecordType","parentKey"];function El(){return El=Object.assign||function(a){for(var i=1;i<arguments.length;i++){var n=arguments[i];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(a[s]=n[s])}return a},El.apply(this,arguments)}function Km(a,i){return Am(a)||Ym(a,i)||Hv(a,i)||Zm()}function Zm(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Hv(a,i){if(!!a){if(typeof a=="string")return Fp(a,i);var n=Object.prototype.toString.call(a).slice(8,-1);if(n==="Object"&&a.constructor&&(n=a.constructor.name),n==="Map"||n==="Set")return Array.from(a);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Fp(a,i)}}function Fp(a,i){(i==null||i>a.length)&&(i=a.length);for(var n=0,s=new Array(i);n<i;n++)s[n]=a[n];return s}function Ym(a,i){var n=a==null?null:typeof Symbol!="undefined"&&a[Symbol.iterator]||a["@@iterator"];if(n!=null){var s=[],h=!0,_=!1,Y,$;try{for(n=n.call(a);!(h=(Y=n.next()).done)&&(s.push(Y.value),!(i&&s.length===i));h=!0);}catch(X){_=!0,$=X}finally{try{!h&&n.return!=null&&n.return()}finally{if(_)throw $}}return s}}function Am(a){if(Array.isArray(a))return a}function $m(a,i){if(a==null)return{};var n=Xm(a,i),s,h;if(Object.getOwnPropertySymbols){var _=Object.getOwnPropertySymbols(a);for(h=0;h<_.length;h++)s=_[h],!(i.indexOf(s)>=0)&&(!Object.prototype.propertyIsEnumerable.call(a,s)||(n[s]=a[s]))}return n}function Xm(a,i){if(a==null)return{};var n={},s=Object.keys(a),h,_;for(_=0;_<s.length;_++)h=s[_],!(i.indexOf(h)>=0)&&(n[h]=a[h]);return n}function Qm(a,i,n,s,h,_,Y){try{var $=a[_](Y),X=$.value}catch(Ae){n(Ae);return}$.done?i(X):Promise.resolve(X).then(s,h)}function zg(a){return function(){var i=this,n=arguments;return new Promise(function(s,h){var _=a.apply(i,n);function Y(X){Qm(_,s,h,Y,$,"next",X)}function $(X){Qm(_,s,h,Y,$,"throw",X)}Y(void 0)})}}function x(a,i){var n=Object.keys(a);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(a);i&&(s=s.filter(function(h){return Object.getOwnPropertyDescriptor(a,h).enumerable})),n.push.apply(n,s)}return n}function j(a){for(var i=1;i<arguments.length;i++){var n=arguments[i]!=null?arguments[i]:{};i%2?x(Object(n),!0).forEach(function(s){L(a,s,n[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(a,Object.getOwnPropertyDescriptors(n)):x(Object(n)).forEach(function(s){Object.defineProperty(a,s,Object.getOwnPropertyDescriptor(n,s))})}return a}function L(a,i,n){return i in a?Object.defineProperty(a,i,{value:n,enumerable:!0,configurable:!0,writable:!0}):a[i]=n,a}var R=Ce.a.createContext(void 0);function N(a){var i=a.children,n=a.record,s=a.position,h=a.newRecordType,_=a.parentKey,Y=Object(I.useContext)(R);return Ce.a.cloneElement(i,j(j({},i.props),{},{onClick:function(){var $=zg(we.a.mark(function Ae(gt){var Ct,Lt,Ut,or;return we.a.wrap(function(sr){for(;;)switch(sr.prev=sr.next){case 0:return sr.next=2,(Ct=(Lt=i.props).onClick)===null||Ct===void 0?void 0:Ct.call(Lt,gt);case 2:if(or=sr.sent,or!==!1){sr.next=5;break}return sr.abrupt("return");case 5:Y==null||(Ut=Y.current)===null||Ut===void 0||Ut.addEditRecord(n,{position:s,newRecordType:h,parentKey:_});case 6:case"end":return sr.stop()}},Ae)}));function X(Ae){return $.apply(this,arguments)}return X}()}))}function W(a){var i,n=a.onTableChange,s=a.maxLength,h=a.formItemProps,_=a.recordCreatorProps,Y=a.rowKey,$=a.controlled,X=$m(a,Bh),Ae=Object(I.useRef)(),gt=Et.a.useForm(),Ct=Km(gt,1),Lt=Ct[0];Object(I.useImperativeHandle)(X.actionRef,function(){return Ae.current});var Ut=Object(We.a)(function(){return a.value||[]},{value:a.value,onChange:a.onChange}),or=Km(Ut,2),Cr=or[0],sr=or[1],fr=Ce.a.useMemo(function(){return typeof Y=="function"&&Y?Y:function(Zn,ka){return Zn[Y]||ka}},[Y]);Object(I.useEffect)(function(){!a.controlled||Cr.forEach(function(Zn,ka){Lt.setFieldsValue(L({},fr(Zn,ka),Zn))},{})},[Cr,a.controlled]);var _r=_||{},Qr=_r.record,bn=_r.position,Vn=_r.creatorButtonText,Xn=_r.newRecordType,Hn=_r.parentKey,yn=$m(_r,Ev),xn=bn==="top",Wn=Object(I.useMemo)(function(){return s&&s<=(Cr==null?void 0:Cr.length)?!1:_!==!1&&Ce.a.createElement(N,{record:Object(ce.a)(Qr,Cr.length,Cr)||{},position:bn,parentKey:Object(ce.a)(Hn,Cr.length,Cr),newRecordType:Xn},Ce.a.createElement(u.a,El({type:"dashed",style:{display:"block",margin:"10px 0",width:"100%"},icon:Ce.a.createElement(ct.a,null)},yn),Vn||"\u6DFB\u52A0\u4E00\u884C\u6570\u636E"))},[_,s,Cr.length]),Un=Object(I.useMemo)(function(){return Wn?xn?{components:{header:{wrapper:function(ka){var Bi,Ki=ka.className,Po=ka.children;return Ce.a.createElement("thead",{className:Ki},Po,Ce.a.createElement("tr",{style:{position:"relative"}},Ce.a.createElement("td",{colSpan:0,style:{visibility:"hidden"}},Wn),Ce.a.createElement("td",{style:{position:"absolute",left:0,width:"100%"},colSpan:(Bi=X.columns)===null||Bi===void 0?void 0:Bi.length},Wn)))}}}}:{tableViewRender:function(ka,Bi){var Ki,Po;return Ce.a.createElement(Ce.a.Fragment,null,(Ki=(Po=a.tableViewRender)===null||Po===void 0?void 0:Po.call(a,ka,Bi))!==null&&Ki!==void 0?Ki:Bi,Wn)}}:{}},[xn,Wn]),pa=j({form:Lt},a.editable);return((a==null?void 0:a.onValuesChange)||((i=a.editable)===null||i===void 0?void 0:i.onValuesChange)||a.controlled&&(a==null?void 0:a.onChange))&&(pa.onValuesChange=function(Zn,ka){var Bi,Ki,Po;if((Bi=a.editable)===null||Bi===void 0||(Ki=Bi.onValuesChange)===null||Ki===void 0||Ki.call(Bi,Zn,ka),(Po=a.onValuesChange)===null||Po===void 0||Po.call(a,ka,Zn),a.controlled){var Zi;a==null||(Zi=a.onChange)===null||Zi===void 0||Zi.call(a,ka)}}),Ce.a.createElement(R.Provider,{value:Ae},Ce.a.createElement(Ql,El({search:!1,options:!1,pagination:!1,rowKey:Y},X,Un,{tableLayout:"fixed",actionRef:Ae,onChange:n,dataSource:Cr,editable:pa,onDataSourceChange:sr})))}function he(a){var i=a.name,n=a.formItemProps;return i?Ce.a.createElement(Vt.a,El({shouldUpdate:!0,name:a.name},n,{isList:!0}),function(s){return Ce.a.createElement(W,El({},a,{value:s.value,onChange:s.onChange}))}):Ce.a.createElement(W,a)}he.RecordCreator=N;var $e=he,st=r("k1fw"),Yt=r("ZqBY");function hr(){return yr.apply(this,arguments)}function yr(){return yr=Object(T.a)(we.a.mark(function a(){return we.a.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.abrupt("return",Object(Yt.a)("/query/clients"));case 1:case"end":return n.stop()}},a)})),yr.apply(this,arguments)}function Zr(a){return on.apply(this,arguments)}function on(){return on=Object(T.a)(we.a.mark(function a(i){return we.a.wrap(function(s){for(;;)switch(s.prev=s.next){case 0:return s.abrupt("return",Object(Yt.a)("/query/clients/delete",{method:"POST",data:Object(st.a)({},i)}));case 1:case"end":return s.stop()}},a)})),on.apply(this,arguments)}function ca(a,i,n){return Ra.apply(this,arguments)}function Ra(){return Ra=Object(T.a)(we.a.mark(function a(i,n,s){return we.a.wrap(function(_){for(;;)switch(_.prev=_.next){case 0:return _.abrupt("return",Object(Yt.a)("/query/clients/update",{method:"POST",data:Object(st.a)({},n)}));case 1:case"end":return _.stop()}},a)})),Ra.apply(this,arguments)}function Ga(a){return Ji.apply(this,arguments)}function Ji(){return Ji=Object(T.a)(we.a.mark(function a(i){return we.a.wrap(function(s){for(;;)switch(s.prev=s.next){case 0:return s.abrupt("return",Object(Yt.a)("/query/clients/update",{method:"POST",data:Object(st.a)(Object(st.a)({},i),{},{method:"update"})}));case 1:case"end":return s.stop()}},a)})),Ji.apply(this,arguments)}var go=r("tMyG"),jo=Object(I.createContext)({});function Mo(){return Object(I.useContext)(jo)}var $i=r("8ml+"),Ho=r("lwsE"),Ta=r.n(Ho),Rs=r("W8MJ"),hi=r.n(Rs),Sl=r("7W2i"),fo=r.n(Sl),ou=r("a1gu"),Fs=r.n(ou),xh=r("Nsbk"),ks=r.n(xh),Wv=r("yG8O"),Cc=r.n(Wv),dm=r("lSNA"),Er=r.n(dm),sy=r("U+yc"),Kf=r.n(sy),ly=r("1ABj"),pu=r("h1nZ"),Ug,Pg,Vg;function Hg(a,i){var n=Object.keys(a);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(a);i&&(s=s.filter(function(h){return Object.getOwnPropertyDescriptor(a,h).enumerable})),n.push.apply(n,s)}return n}function Wg(a){for(var i=1;i<arguments.length;i++){var n=arguments[i]!=null?arguments[i]:{};i%2?Hg(Object(n),!0).forEach(function(s){Er()(a,s,n[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(a,Object.getOwnPropertyDescriptors(n)):Hg(Object(n)).forEach(function(s){Object.defineProperty(a,s,Object.getOwnPropertyDescriptor(n,s))})}return a}var xs=(Ug=Object(pu.lazyInject)(pu.TYPES.IGlobalConfigService),Pg=function(){function a(i){Ta()(this,a),Cc()(this,"configService",Vg,this),Er()(this,"config",void 0),this.config=i}return hi()(a,[{key:"setContainer",value:function(n,s){n.bind(pu.TYPES.MapConfig).toConstantValue(Wg(Wg({},this.config),{},{id:s})),n.bind(pu.TYPES.IMapService).to(this.getServiceConstructor()).inSingletonScope()}},{key:"getServiceConstructor",value:function(){throw new Error("Method not implemented.")}}]),a}(),Vg=Kf()(Pg.prototype,"configService",[Ug],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Pg),ml=r("QILm"),Ls=r.n(ml),Gi=r("yXPU"),wd=r.n(Gi),sc=r("J4zp"),xf=r.n(sc),Np=r("o0o1"),cp=r.n(Np),Ry=r("hi0z"),C0=r.n(Ry),ug=r("Hel2"),eo=r("IOcx"),Td=r("4cb6"),lb=r("mNvP");function E0(a,i){var n=Object.keys(a);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(a);i&&(s=s.filter(function(h){return Object.getOwnPropertyDescriptor(a,h).enumerable})),n.push.apply(n,s)}return n}function S0(a){for(var i=1;i<arguments.length;i++){var n=arguments[i]!=null?arguments[i]:{};i%2?E0(Object(n),!0).forEach(function(s){Er()(a,s,n[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(a,Object.getOwnPropertyDescriptors(n)):E0(Object(n)).forEach(function(s){Object.defineProperty(a,s,Object.getOwnPropertyDescriptor(n,s))})}return a}function Ly(){var a=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},i={top:0,right:0,bottom:0,left:0};if(typeof a=="number")return{top:a,right:a,bottom:a,left:a};if(Array.isArray(a)){if(a.length===4)return{top:a[0],right:a[1],bottom:a[2],left:a[3]};if(a.length===2)return{top:a[0],right:a[1],bottom:a[0],left:a[1]}}return S0(S0({},i),a)}var Gg;(function(a){a["GAODE1.x"]="GAODE1.x",a["GAODE2.x"]="GAODE2.x",a.MAPBOX="MAPBOX",a.L7MAP="L7MAP",a.GLOBEL="GLOBEL"})(Gg||(Gg={}));var uy={dark:"amap://styles/2a09079c3daac9420ee53b67307a8006?isPublic=true",light:"amap://styles/1fd9f8ef9751298f11f5c56968312c70?isPublic=true",normal:"amap://styles/normal",blank:"amap://styles/07c17002b38775b32a7a76c66cf90e99?isPublic=true"},t0=Math.PI/180,O0=function(){function a(){Ta()(this,a),Er()(this,"projectionMatrix",eo.b.create()),Er()(this,"viewMatrix",eo.b.create()),Er()(this,"viewProjectionMatrix",eo.b.create()),Er()(this,"ViewProjectionMatrixUncentered",eo.b.create()),Er()(this,"viewUncenteredMatrix",eo.b.create()),Er()(this,"zoom",void 0),Er()(this,"center",void 0)}return hi()(a,[{key:"syncWithMapCamera",value:function(n){var s=n.zoom,h=s===void 0?1:s,_=n.pitch,Y=_===void 0?0:_,$=n.bearing,X=$===void 0?0:$,Ae=n.center,gt=Ae===void 0?[0,0]:Ae,Ct=n.offsetOrigin,Lt=Ct===void 0?[0,0]:Ct,Ut=n.cameraHeight,or=Ut===void 0?1:Ut,Cr=n.aspect,sr=Cr===void 0?1:Cr,fr=n.near,_r=fr===void 0?.1:fr,Qr=n.far,bn=Qr===void 0?1e3:Qr,Vn=n.fov,Xn=Vn===void 0?0:Vn;this.zoom=h,this.center=gt;var Hn=Y*t0,yn=(360-X)*t0;eo.b.perspective(this.projectionMatrix,Xn,sr,_r,bn);var xn=eo.d.fromValues(or*Math.sin(Hn)*Math.sin(yn),-or*Math.sin(Hn)*Math.cos(yn),or*Math.cos(Hn)),Wn=eo.d.fromValues(-Math.cos(Hn)*Math.sin(yn),Math.cos(Hn)*Math.cos(yn),Math.sin(Hn));eo.b.lookAt(this.viewMatrix,xn,eo.d.fromValues(0,0,0),Wn),this.viewUncenteredMatrix=eo.b.clone(this.viewMatrix),eo.b.translate(this.viewMatrix,this.viewMatrix,eo.d.fromValues(-Lt[0],Lt[1],0)),eo.b.multiply(this.viewProjectionMatrix,this.projectionMatrix,this.viewMatrix),eo.b.multiply(this.ViewProjectionMatrixUncentered,this.projectionMatrix,this.viewMatrix)}},{key:"getZoom",value:function(){return this.zoom}},{key:"getZoomScale",value:function(){return 524288}},{key:"getCenter",value:function(){var n=xf()(this.center,2),s=n[0],h=n[1];return[s,h]}},{key:"getProjectionMatrix",value:function(){return this.projectionMatrix}},{key:"getModelMatrix",value:function(){return[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1]}},{key:"getViewMatrix",value:function(){return this.viewMatrix}},{key:"getViewMatrixUncentered",value:function(){return this.viewUncenteredMatrix}},{key:"getViewProjectionMatrix",value:function(){return this.viewProjectionMatrix}},{key:"getViewProjectionMatrixUncentered",value:function(){return this.ViewProjectionMatrixUncentered}},{key:"getFocalDistance",value:function(){return 1}},{key:"projectFlat",value:function(n,s){var h=85.0511287798,_=Math.max(Math.min(h,n[1]),-h),Y=256<<20,$=Math.PI/180,X=n[0]*$,Ae=_*$;Ae=Math.log(Math.tan(Math.PI/4+Ae/2));var gt=.5/Math.PI,Ct=.5,Lt=-.5/Math.PI;return $=.5,X=Y*(gt*X+Ct)-215440491,Ae=-(Y*(Lt*Ae+$)-106744817),[X,Ae]}}]),a}(),P0,w0,T0,wg,r0,Kg,Sv,zh,n0,Dy,Zg;function A0(a,i){var n=Object.keys(a);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(a);i&&(s=s.filter(function(h){return Object.getOwnPropertyDescriptor(a,h).enumerable})),n.push.apply(n,s)}return n}function l1(a){for(var i=1;i<arguments.length;i++){var n=arguments[i]!=null?arguments[i]:{};i%2?A0(Object(n),!0).forEach(function(s){Er()(a,s,n[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(a,Object.getOwnPropertyDescriptors(n)):A0(Object(n)).forEach(function(s){Object.defineProperty(a,s,Object.getOwnPropertyDescriptor(n,s))})}return a}function a0(a,i){if(i||(i=document),!!i){var n=i.head||i.getElementsByTagName("head")[0];if(!n){n=i.createElement("head");var s=i.body||i.getElementsByTagName("body")[0];s?s.parentNode.insertBefore(n,s):i.documentElement.appendChild(n)}var h=i.createElement("style");return h.type="text/css",h.styleSheet?h.styleSheet.cssText=a:h.appendChild(i.createTextNode(a)),n.appendChild(h),h}}a0(`.amap-logo{
 display: none !important;
}
`);var u1=0;window.forceWebGL=!0;var Fy="15cd8a57710d40c9b7c0e3cc120f1200",ev="1.4.15",c1="amap-script",i0=!1,Ny=[],o0=12,f1=(P0=Object(Td.injectable)(),w0=Object(Td.inject)(pu.TYPES.IGlobalConfigService),T0=Object(Td.inject)(pu.TYPES.MapConfig),wg=Object(Td.inject)(pu.TYPES.ICoordinateSystemService),r0=Object(Td.inject)(pu.TYPES.IEventEmitter),P0(Kg=(Sv=function(){function a(){var i=this;Ta()(this,a),Er()(this,"version",Gg["GAODE1.x"]),Er()(this,"map",void 0),Er()(this,"bgColor","rgba(0, 0, 0, 0)"),Cc()(this,"configService",zh,this),Cc()(this,"config",n0,this),Cc()(this,"coordinateSystemService",Dy,this),Cc()(this,"eventEmitter",Zg,this),Er()(this,"markerContainer",void 0),Er()(this,"$mapContainer",void 0),Er()(this,"viewport",void 0),Er()(this,"cameraChangedCallback",void 0),Er()(this,"handleCameraChanged",function(n){var s=n.camera,h=s.fov,_=s.near,Y=s.far,$=s.height,X=s.pitch,Ae=s.rotation,gt=s.aspect,Ct=s.position,Lt=i.getCenter(),Ut=Lt.lng,or=Lt.lat;if(i.cameraChangedCallback){i.viewport.syncWithMapCamera({aspect:gt,bearing:360-Ae,far:Y,fov:h,cameraHeight:$,near:_,pitch:X,zoom:i.map.getZoom()-1,center:[Ut,or],offsetOrigin:[Ct.x,Ct.y]});var Cr=i.config.offsetZoom,sr=Cr===void 0?o0:Cr;i.viewport.getZoom()>sr?i.coordinateSystemService.setCoordinateSystem(pu.CoordinateSystem.P20_OFFSET):i.coordinateSystemService.setCoordinateSystem(pu.CoordinateSystem.P20),i.cameraChangedCallback(i.viewport)}})}return hi()(a,[{key:"setBgColor",value:function(n){this.bgColor=n}},{key:"addMarkerContainer",value:function(){var n=this.map.getContainer();if(n!==null){var s=n.getElementsByClassName("amap-maps")[0];this.markerContainer=ug.a.create("div","l7-marker-container",s)}}},{key:"getMarkerContainer",value:function(){return this.markerContainer}},{key:"on",value:function(n,s){pu.MapServiceEvent.indexOf(n)!==-1?this.eventEmitter.on(n,s):this.map.on(n,s)}},{key:"off",value:function(n,s){pu.MapServiceEvent.indexOf(n)!==-1?this.eventEmitter.off(n,s):this.map.off(n,s)}},{key:"getContainer",value:function(){return this.map.getContainer()}},{key:"getMapCanvasContainer",value:function(){var n;return(n=this.map.getContainer())===null||n===void 0?void 0:n.getElementsByClassName("amap-maps")[0]}},{key:"getSize",value:function(){var n=this.map.getSize();return[n.getWidth(),n.getHeight()]}},{key:"getType",value:function(){return"amap"}},{key:"getZoom",value:function(){return this.map.getZoom()-1}},{key:"setZoom",value:function(n){return this.map.setZoom(n)}},{key:"getCenter",value:function(n){if(n!=null&&n.padding){var s=this.getCenter(),h=this.getSize(),_=xf()(h,2),Y=_[0],$=_[1],X=Ly(n.padding),Ae=this.lngLatToPixel([s.lng,s.lat]),gt=[(X.right-X.left)/2,(X.bottom-X.top)/2],Ct=this.pixelToLngLat([Ae.x-gt[0],Ae.y-gt[1]]);return Ct}var Lt=this.map.getCenter();return{lng:Lt.getLng(),lat:Lt.getLat()}}},{key:"setCenter",value:function(n,s){if(s!=null&&s.padding){var h=Ly(s.padding),_=this.lngLatToPixel(n),Y=[(h.right-h.left)/2,(h.bottom-h.top)/2],$=this.pixelToLngLat([_.x+Y[0],_.y+Y[1]]);this.map.setCenter([$.lng,$.lat])}else this.map.setCenter(n)}},{key:"getPitch",value:function(){return this.map.getPitch()}},{key:"getRotation",value:function(){return 360-this.map.getRotation()}},{key:"getBounds",value:function(){var n=this.map.getBounds().toBounds(),s=n.getNorthEast(),h=n.getSouthWest(),_=this.getCenter(),Y=_.lng>s.getLng()||_.lng<h.getLng()?180-s.getLng():s.getLng(),$=_.lng<h.getLng()?h.getLng()-180:h.getLng();return[[$,h.getLat()],[Y,s.getLat()]]}},{key:"getMinZoom",value:function(){var n=this.map.get("zooms");return n[0]-1}},{key:"getMaxZoom",value:function(){var n=this.map.get("zooms");return n[1]-1}},{key:"setRotation",value:function(n){return this.map.setRotation(n)}},{key:"setPitch",value:function(n){return this.map.setPitch(n)}},{key:"zoomIn",value:function(){this.map.zoomIn()}},{key:"zoomOut",value:function(){this.map.zoomOut()}},{key:"panTo",value:function(n){this.map.panTo(n)}},{key:"panBy",value:function(){var n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;this.map.panBy(n,s)}},{key:"fitBounds",value:function(n){this.map.setBounds(new AMap.Bounds([n[0][0],n[0][1],n[1][0],n[1][1]]))}},{key:"setZoomAndCenter",value:function(n,s){this.map.setZoomAndCenter(n,s)}},{key:"setMapStyle",value:function(n){this.map.setMapStyle(this.getMapStyle(n))}},{key:"setMapStatus",value:function(n){this.map.setStatus(n)}},{key:"pixelToLngLat",value:function(n){var s=this.map.pixelToLngLat(new AMap.Pixel(n[0],n[1]));return{lng:s.getLng(),lat:s.getLat()}}},{key:"lngLatToPixel",value:function(n){var s=this.map.lnglatToPixel(new AMap.LngLat(n[0],n[1]));return{x:s.getX(),y:s.getY()}}},{key:"containerToLngLat",value:function(n){var s=new AMap.Pixel(n[0],n[1]),h=this.map.containerToLngLat(s);return{lng:h==null?void 0:h.getLng(),lat:h==null?void 0:h.getLat()}}},{key:"lngLatToContainer",value:function(n){var s=new AMap.LngLat(n[0],n[1]),h=this.map.lngLatToContainer(s);return{x:h.getX(),y:h.getY()}}},{key:"lngLatToCoord",value:function(n){var s=this.map.lngLatToGeodeticCoord(n),h=s.x,_=s.y;return[h,-_]}},{key:"lngLatToMercator",value:function(n,s){return{x:0,y:0,z:0}}},{key:"getModelMatrix",value:function(n,s,h){var _=arguments.length>3&&arguments[3]!==void 0?arguments[3]:[1,1,1],Y=arguments.length>4&&arguments[4]!==void 0?arguments[4]:{x:0,y:0,z:0},$=this.viewport.projectFlat(n),X=eo.b.create();return eo.b.translate(X,X,eo.d.fromValues($[0],$[1],s)),eo.b.scale(X,X,eo.d.fromValues(_[0],_[1],_[2])),eo.b.rotateX(X,X,h[0]),eo.b.rotateY(X,X,h[1]),eo.b.rotateZ(X,X,h[2]),X}},{key:"init",value:function(){var i=wd()(cp.a.mark(function s(){var h=this,_,Y,$,X,Ae,gt,Ct,Lt,Ut,or,Cr,sr,fr,_r;return cp.a.wrap(function(bn){for(;;)switch(bn.prev=bn.next){case 0:return _=this.config,Y=_.id,$=_.style,X=$===void 0?"light":$,Ae=_.minZoom,gt=Ae===void 0?0:Ae,Ct=_.maxZoom,Lt=Ct===void 0?18:Ct,Ut=_.token,or=Ut===void 0?Fy:Ut,Cr=_.mapInstance,sr=_.plugin,fr=sr===void 0?[]:sr,_r=Ls()(_,["id","style","minZoom","maxZoom","token","mapInstance","plugin"]),bn.next=3,new Promise(function(Vn){var Xn=function(){if(Cr)h.map=Cr,h.$mapContainer=h.map.getContainer(),setTimeout(function(){h.map.on("camerachange",h.handleCameraChanged),Vn()},30);else{h.$mapContainer=h.creatAmapContainer(Y);var yn=new AMap.Map(h.$mapContainer,l1({mapStyle:h.getMapStyle(X),zooms:[gt,Lt],viewMode:"3D"},_r));yn.on("camerachange",h.handleCameraChanged),h.map=yn,setTimeout(function(){Vn()},10)}};!i0&&!Cr?(or===Fy&&console.warn(h.configService.getSceneWarninfo("MapToken")),i0=!0,fr.push("Map3D"),C0.a.load({key:or,version:ev,plugins:fr}).then(function(Hn){Xn(),Ny.length&&(Ny.forEach(function(yn){return yn()}),Ny=[])}).catch(function(Hn){throw new Error(Hn)})):i0&&window.AMap||Cr?Xn():Ny.push(Xn)});case 3:this.viewport=new O0;case 4:case"end":return bn.stop()}},s,this)}));function n(){return i.apply(this,arguments)}return n}()},{key:"exportMap",value:function(n){var s,h=(s=this.getContainer())===null||s===void 0?void 0:s.getElementsByClassName("amap-layer")[0],_=n==="jpg"?h==null?void 0:h.toDataURL("image/jpeg"):h==null?void 0:h.toDataURL("image/png");return _}},{key:"emit",value:function(n){for(var s,h=arguments.length,_=new Array(h>1?h-1:0),Y=1;Y<h;Y++)_[Y-1]=arguments[Y];(s=this.eventEmitter).emit.apply(s,[n].concat(_))}},{key:"once",value:function(n){for(var s,h=arguments.length,_=new Array(h>1?h-1:0),Y=1;Y<h;Y++)_[Y-1]=arguments[Y];(s=this.eventEmitter).once.apply(s,[n].concat(_))}},{key:"destroy",value:function(){var n,s;this.map.destroy(),(n=this.$mapContainer)===null||n===void 0||(s=n.parentNode)===null||s===void 0||s.removeChild(this.$mapContainer),delete window.initAMap;var h=document.getElementById(c1);h&&document.head.removeChild(h)}},{key:"getMapContainer",value:function(){return this.$mapContainer}},{key:"onCameraChanged",value:function(n){this.cameraChangedCallback=n}},{key:"getMapStyle",value:function(n){return uy[n]?uy[n]:n}},{key:"creatAmapContainer",value:function(n){var s=n;typeof n=="string"&&(s=document.getElementById(n));var h=document.createElement("div");return h.style.cssText+=`
      position: absolute;
      top: 0;
      height: 100%;
      width: 100%;
    `,h.id="l7_amap_div"+u1++,s.appendChild(h),h}}]),a}(),zh=Kf()(Sv.prototype,"configService",[w0],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),n0=Kf()(Sv.prototype,"config",[T0],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Dy=Kf()(Sv.prototype,"coordinateSystemService",[wg],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Zg=Kf()(Sv.prototype,"eventEmitter",[r0],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Sv))||Kg);function d1(a){var i=M0();return function(){var s=ks()(a),h;if(i){var _=ks()(this).constructor;h=Reflect.construct(s,arguments,_)}else h=s.apply(this,arguments);return Fs()(this,h)}}function M0(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(a){return!1}}var s0=function(a){fo()(n,a);var i=d1(n);function n(){return Ta()(this,n),i.apply(this,arguments)}return hi()(n,[{key:"getServiceConstructor",value:function(){return f1}}]),n}(xs);function jy(a,i){var n=Object.keys(a);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(a);i&&(s=s.filter(function(h){return Object.getOwnPropertyDescriptor(a,h).enumerable})),n.push.apply(n,s)}return n}function cg(a){for(var i=1;i<arguments.length;i++){var n=arguments[i]!=null?arguments[i]:{};i%2?jy(Object(n),!0).forEach(function(s){h1(a,s,n[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(a,Object.getOwnPropertyDescriptors(n)):jy(Object(n)).forEach(function(s){Object.defineProperty(a,s,Object.getOwnPropertyDescriptor(n,s))})}return a}function h1(a,i,n){return i in a?Object.defineProperty(a,i,{value:n,enumerable:!0,configurable:!0,writable:!0}):a[i]=n,a}function p1(a,i){return I0(a)||g1(a,i)||_0(a,i)||v1()}function v1(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function _0(a,i){if(!!a){if(typeof a=="string")return m1(a,i);var n=Object.prototype.toString.call(a).slice(8,-1);if(n==="Object"&&a.constructor&&(n=a.constructor.name),n==="Map"||n==="Set")return Array.from(a);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return m1(a,i)}}function m1(a,i){(i==null||i>a.length)&&(i=a.length);for(var n=0,s=new Array(i);n<i;n++)s[n]=a[n];return s}function g1(a,i){var n=a==null?null:typeof Symbol!="undefined"&&a[Symbol.iterator]||a["@@iterator"];if(n!=null){var s=[],h=!0,_=!1,Y,$;try{for(n=n.call(a);!(h=(Y=n.next()).done)&&(s.push(Y.value),!(i&&s.length===i));h=!0);}catch(X){_=!0,$=X}finally{try{!h&&n.return!=null&&n.return()}finally{if(_)throw $}}return s}}function I0(a){if(Array.isArray(a))return a}var y1=Ce.a.memo(function(a){var i=a.style,n=a.className,s=a.map,h=a.option,_=a.onSceneLoaded,Y=a.children,$=Object(I.useRef)(null),X=Object(I.useState)(),Ae=p1(X,2),gt=Ae[0],Ct=Ae[1];return Object(I.useEffect)(function(){var Lt=new $i.Scene(cg(cg({id:$.current},h),{},{map:new s0(s)}));return Lt.on("loaded",function(){Ct(Lt),_&&_(Lt)}),function(){Lt.destroy()}},[]),Object(I.useEffect)(function(){gt&&s.style&&gt.setMapStyle(s.style)},[JSON.stringify(s.style)]),Object(I.useEffect)(function(){gt&&s.zoom&&gt.setZoom(s.zoom)},[s.zoom]),Object(I.useEffect)(function(){gt&&s.center&&gt.setCenter(s.center)},[JSON.stringify(s.center)]),Object(I.useEffect)(function(){gt&&s.pitch&&gt.setPitch(s.pitch)},[s.pitch]),Object(I.useEffect)(function(){gt&&s.rotation&&gt.setRotation(s.rotation)},[s.rotation]),Ce.a.createElement(jo.Provider,{value:gt},Ce.a.createElement("div",{ref:$,className:n,style:i},gt&&Y))}),b1=y1,x1=r("4ZJM"),C1=r.n(x1),E1=r("md7G"),ky=r("foSv"),R0=r("bl9R");function cy(){return[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1]}function By(a,i){var n=R0.transformMat4([],i,a);return R0.scale(n,n,1/n[3]),n}function ub(a,i){var n=a%i;return n<0?i+n:n}function cb(a,i,n){return n*i+(1-n)*a}var jp=r("ZaHm"),zy=r("ZxFD"),p=r("n+fv");function O(a,i){if(!a)throw new Error(i||"viewport-mercator-project: assertion failed.")}var te=Math.PI,Je=te/4,Xt=te/180,Sr=180/te,nn=512,On=4003e4,Yn=1.5;function ri(a){return Math.pow(2,a)}function oi(a){return Math.log2(a)}function Ci(a,i){var n=Object(Ie.a)(a,2),s=n[0],h=n[1];O(Number.isFinite(s)&&Number.isFinite(i)),O(Number.isFinite(h)&&h>=-90&&h<=90,"invalid latitude"),i*=nn;var _=s*Xt,Y=h*Xt,$=i*(_+te)/(2*te),X=i*(te-Math.log(Math.tan(Je+Y*.5)))/(2*te);return[$,X]}function Uo(a,i){var n=Object(Ie.a)(a,2),s=n[0],h=n[1];i*=nn;var _=s/i*(2*te)-te,Y=2*(Math.atan(Math.exp(te-h/i*(2*te)))-Je);return[_*Sr,Y*Sr]}function ws(a){var i=a.latitude;O(Number.isFinite(i));var n=Math.cos(i*Xt);return oi(On*n)-9}function rl(a){var i=a.latitude,n=a.longitude,s=a.zoom,h=a.scale,_=a.highPrecision,Y=_===void 0?!1:_;h=h!==void 0?h:ri(s),O(Number.isFinite(i)&&Number.isFinite(n)&&Number.isFinite(h));var $={},X=nn*h,Ae=Math.cos(i*Xt),gt=X/360,Ct=gt/Ae,Lt=X/On/Ae;if($.pixelsPerMeter=[Lt,-Lt,Lt],$.metersPerPixel=[1/Lt,-1/Lt,1/Lt],$.pixelsPerDegree=[gt,-Ct,Lt],$.degreesPerPixel=[1/gt,-1/Ct,1/Lt],Y){var Ut=Xt*Math.tan(i*Xt)/Ae,or=gt*Ut/2,Cr=X/On*Ut,sr=Cr/Ct*Lt;$.pixelsPerDegree2=[0,-or,Cr],$.pixelsPerMeter2=[sr,0,sr]}return $}function su(a,i){var n=Object(Ie.a)(a,3),s=n[0],h=n[1],_=n[2],Y=Object(Ie.a)(i,3),$=Y[0],X=Y[1],Ae=Y[2],gt=1,Ct=rl({longitude:s,latitude:h,scale:gt,highPrecision:!0}),Lt=Ct.pixelsPerMeter,Ut=Ct.pixelsPerMeter2,or=Ci(a,gt);or[0]+=$*(Lt[0]+Ut[0]*X),or[1]+=X*(Lt[1]+Ut[1]*X);var Cr=Uo(or,gt),sr=(_||0)+(Ae||0);return Number.isFinite(_)||Number.isFinite(Ae)?[Cr[0],Cr[1],sr]:Cr}function ul(a){var i=a.height,n=a.pitch,s=a.bearing,h=a.altitude,_=a.center,Y=_===void 0?null:_,$=a.flipY,X=$===void 0?!1:$,Ae=cy();return jp.translate(Ae,Ae,[0,0,-h]),jp.scale(Ae,Ae,[1,1,1/i]),jp.rotateX(Ae,Ae,-n*Xt),jp.rotateZ(Ae,Ae,s*Xt),X&&jp.scale(Ae,Ae,[1,-1,1]),Y&&jp.translate(Ae,Ae,p.negate([],Y)),Ae}function Eu(a){var i=a.width,n=a.height,s=a.altitude,h=s===void 0?Yn:s,_=a.pitch,Y=_===void 0?0:_,$=a.nearZMultiplier,X=$===void 0?1:$,Ae=a.farZMultiplier,gt=Ae===void 0?1:Ae,Ct=Y*Xt,Lt=Math.atan(.5/h),Ut=Math.sin(Lt)*h/Math.sin(Math.PI/2-Ct-Lt),or=Math.cos(Math.PI/2-Ct)*Ut+h;return{fov:2*Math.atan(n/2/h),aspect:i/n,focalDistance:h,near:X,far:or*gt}}function Nu(a){var i=a.width,n=a.height,s=a.pitch,h=a.altitude,_=a.nearZMultiplier,Y=a.farZMultiplier,$=Eu({width:i,height:n,altitude:h,pitch:s,nearZMultiplier:_,farZMultiplier:Y}),X=$.fov,Ae=$.aspect,gt=$.near,Ct=$.far,Lt=jp.perspective([],X,Ae,gt,Ct);return Lt}function Ov(a,i){var n=Object(Ie.a)(a,3),s=n[0],h=n[1],_=n[2],Y=_===void 0?0:_;return O(Number.isFinite(s)&&Number.isFinite(h)&&Number.isFinite(Y)),By(i,[s,h,Y,1])}function Uh(a,i){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,s=Object(Ie.a)(a,3),h=s[0],_=s[1],Y=s[2];if(O(Number.isFinite(h)&&Number.isFinite(_),"invalid pixel coordinate"),Number.isFinite(Y)){var $=By(i,[h,_,Y,1]);return $}var X=By(i,[h,_,0,1]),Ae=By(i,[h,_,1,1]),gt=X[2],Ct=Ae[2],Lt=gt===Ct?0:((n||0)-gt)/(Ct-gt);return zy.lerp([],X,Ae,Lt)}var fp=cy(),Fd=function(){function a(){var i=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},n=i.width,s=i.height,h=i.viewMatrix,_=h===void 0?fp:h,Y=i.projectionMatrix,$=Y===void 0?fp:Y;Object(Wl.a)(this,a),this.width=n||1,this.height=s||1,this.scale=1,this.pixelsPerMeter=1,this.viewMatrix=_,this.projectionMatrix=$;var X=cy();jp.multiply(X,X,this.projectionMatrix),jp.multiply(X,X,this.viewMatrix),this.viewProjectionMatrix=X;var Ae=cy();jp.scale(Ae,Ae,[this.width/2,-this.height/2,1]),jp.translate(Ae,Ae,[1,-1,0]),jp.multiply(Ae,Ae,this.viewProjectionMatrix);var gt=jp.invert(cy(),Ae);if(!gt)throw new Error("Pixel project matrix not invertible");this.pixelProjectionMatrix=Ae,this.pixelUnprojectionMatrix=gt,this.equals=this.equals.bind(this),this.project=this.project.bind(this),this.unproject=this.unproject.bind(this),this.projectPosition=this.projectPosition.bind(this),this.unprojectPosition=this.unprojectPosition.bind(this),this.projectFlat=this.projectFlat.bind(this),this.unprojectFlat=this.unprojectFlat.bind(this)}return Object(ql.a)(a,[{key:"equals",value:function(n){return n instanceof a?n.width===this.width&&n.height===this.height&&jp.equals(n.projectionMatrix,this.projectionMatrix)&&jp.equals(n.viewMatrix,this.viewMatrix):!1}},{key:"project",value:function(n){var s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},h=s.topLeft,_=h===void 0?!0:h,Y=this.projectPosition(n),$=Ov(Y,this.pixelProjectionMatrix),X=Object(Ie.a)($,2),Ae=X[0],gt=X[1],Ct=_?gt:this.height-gt;return n.length===2?[Ae,Ct]:[Ae,Ct,$[2]]}},{key:"unproject",value:function(n){var s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},h=s.topLeft,_=h===void 0?!0:h,Y=s.targetZ,$=Object(Ie.a)(n,3),X=$[0],Ae=$[1],gt=$[2],Ct=_?Ae:this.height-Ae,Lt=Y&&Y*this.pixelsPerMeter,Ut=Uh([X,Ct,gt],this.pixelUnprojectionMatrix,Lt),or=this.unprojectPosition(Ut),Cr=Object(Ie.a)(or,3),sr=Cr[0],fr=Cr[1],_r=Cr[2];return Number.isFinite(gt)?[sr,fr,_r]:Number.isFinite(Y)?[sr,fr,Y]:[sr,fr]}},{key:"projectPosition",value:function(n){var s=this.projectFlat(n),h=Object(Ie.a)(s,2),_=h[0],Y=h[1],$=(n[2]||0)*this.pixelsPerMeter;return[_,Y,$]}},{key:"unprojectPosition",value:function(n){var s=this.unprojectFlat(n),h=Object(Ie.a)(s,2),_=h[0],Y=h[1],$=(n[2]||0)/this.pixelsPerMeter;return[_,Y,$]}},{key:"projectFlat",value:function(n){var s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.scale;return n}},{key:"unprojectFlat",value:function(n){var s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.scale;return n}}]),a}();function hm(a){var i=a.width,n=a.height,s=a.bounds,h=a.minExtent,_=h===void 0?0:h,Y=a.maxZoom,$=Y===void 0?24:Y,X=a.padding,Ae=X===void 0?0:X,gt=a.offset,Ct=gt===void 0?[0,0]:gt,Lt=Object(Ie.a)(s,2),Ut=Object(Ie.a)(Lt[0],2),or=Ut[0],Cr=Ut[1],sr=Object(Ie.a)(Lt[1],2),fr=sr[0],_r=sr[1];if(Number.isFinite(Ae)){var Qr=Ae;Ae={top:Qr,bottom:Qr,left:Qr,right:Qr}}else O(Number.isFinite(Ae.top)&&Number.isFinite(Ae.bottom)&&Number.isFinite(Ae.left)&&Number.isFinite(Ae.right));var bn=new pm({width:i,height:n,longitude:0,latitude:0,zoom:0}),Vn=bn.project([or,_r]),Xn=bn.project([fr,Cr]),Hn=[Math.max(Math.abs(Xn[0]-Vn[0]),_),Math.max(Math.abs(Xn[1]-Vn[1]),_)],yn=[i-Ae.left-Ae.right-Math.abs(Ct[0])*2,n-Ae.top-Ae.bottom-Math.abs(Ct[1])*2];O(yn[0]>0&&yn[1]>0);var xn=yn[0]/Hn[0],Wn=yn[1]/Hn[1],Un=(Ae.right-Ae.left)/2/xn,pa=(Ae.bottom-Ae.top)/2/Wn,Zn=[(Xn[0]+Vn[0])/2+Un,(Xn[1]+Vn[1])/2+pa],ka=bn.unproject(Zn),Bi=bn.zoom+Math.log2(Math.abs(Math.min(xn,Wn)));return{longitude:ka[0],latitude:ka[1],zoom:Math.min(Bi,$)}}var pm=function(a){Object(du.a)(i,a);function i(){var n,s=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},h=s.width,_=s.height,Y=s.latitude,$=Y===void 0?0:Y,X=s.longitude,Ae=X===void 0?0:X,gt=s.zoom,Ct=gt===void 0?0:gt,Lt=s.pitch,Ut=Lt===void 0?0:Lt,or=s.bearing,Cr=or===void 0?0:or,sr=s.altitude,fr=sr===void 0?1.5:sr,_r=s.nearZMultiplier,Qr=s.farZMultiplier;Object(Wl.a)(this,i),h=h||1,_=_||1;var bn=ri(Ct);fr=Math.max(.75,fr);var Vn=Ci([Ae,$],bn);Vn[2]=0;var Xn=Nu({width:h,height:_,pitch:Ut,bearing:Cr,altitude:fr,nearZMultiplier:_r||1/_,farZMultiplier:Qr||1.01}),Hn=ul({height:_,center:Vn,pitch:Ut,bearing:Cr,altitude:fr,flipY:!0});return n=Object(E1.a)(this,Object(ky.a)(i).call(this,{width:h,height:_,viewMatrix:Hn,projectionMatrix:Xn})),n.latitude=$,n.longitude=Ae,n.zoom=Ct,n.pitch=Ut,n.bearing=Cr,n.altitude=fr,n.scale=bn,n.center=Vn,n.pixelsPerMeter=rl(Object(al.a)(Object(al.a)(n))).pixelsPerMeter[2],Object.freeze(Object(al.a)(Object(al.a)(n))),n}return Object(ql.a)(i,[{key:"projectFlat",value:function(s){var h=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.scale;return Ci(s,h)}},{key:"unprojectFlat",value:function(s){var h=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.scale;return Uo(s,h)}},{key:"getMapCenterByLngLatPosition",value:function(s){var h=s.lngLat,_=s.pos,Y=Uh(_,this.pixelUnprojectionMatrix),$=Ci(h,this.scale),X=zy.add([],$,zy.negate([],Y)),Ae=zy.add([],this.center,X);return Uo(Ae,this.scale)}},{key:"getLocationAtPoint",value:function(s){var h=s.lngLat,_=s.pos;return this.getMapCenterByLngLatPosition({lngLat:h,pos:_})}},{key:"fitBounds",value:function(s){var h=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},_=this.width,Y=this.height,$=hm(Object.assign({width:_,height:Y,bounds:s},h)),X=$.longitude,Ae=$.latitude,gt=$.zoom;return new i({width:_,height:Y,longitude:X,latitude:Ae,zoom:gt})}}]),i}(Fd),L0=function(){function a(){Ta()(this,a),Er()(this,"viewport",void 0)}return hi()(a,[{key:"syncWithMapCamera",value:function(n){var s=n.center,h=n.zoom,_=n.pitch,Y=n.bearing,$=n.viewportHeight,X=n.viewportWidth;this.viewport=new pm({width:X,height:$,longitude:s&&s[0],latitude:s&&s[1],zoom:h,pitch:_,bearing:Y})}},{key:"getZoom",value:function(){return this.viewport.zoom}},{key:"getZoomScale",value:function(){return Math.pow(2,this.getZoom())}},{key:"getCenter",value:function(){return[this.viewport.longitude,this.viewport.latitude]}},{key:"getProjectionMatrix",value:function(){return this.viewport.projectionMatrix}},{key:"getModelMatrix",value:function(){return[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1]}},{key:"getViewMatrix",value:function(){return this.viewport.viewMatrix}},{key:"getViewMatrixUncentered",value:function(){return this.viewport.viewMatrixUncentered}},{key:"getViewProjectionMatrix",value:function(){return this.viewport.viewProjectionMatrix}},{key:"getViewProjectionMatrixUncentered",value:function(){return this.viewport.viewProjectionMatrix}},{key:"getFocalDistance",value:function(){return 1}},{key:"projectFlat",value:function(n,s){return this.viewport.projectFlat(n,s)}}]),a}(),fb={light:"mapbox://styles/zcxduo/ck2ypyb1r3q9o1co1766dex29",dark:"mapbox://styles/zcxduo/ck241p6413s0b1cpayzldv7x7",normal:"mapbox://styles/mapbox/streets-v11",blank:{version:8,sources:{},layers:[{id:"background",type:"background",layout:{visibility:"none"}}]}},db,hb,pb,vb,mb,gb,Uy,S1,yb,bb,xb;function O1(a,i){var n=Object.keys(a);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(a);i&&(s=s.filter(function(h){return Object.getOwnPropertyDescriptor(a,h).enumerable})),n.push.apply(n,s)}return n}function yx(a){for(var i=1;i<arguments.length;i++){var n=arguments[i]!=null?arguments[i]:{};i%2?O1(Object(n),!0).forEach(function(s){Er()(a,s,n[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(a,Object.getOwnPropertyDescriptors(n)):O1(Object(n)).forEach(function(s){Object.defineProperty(a,s,Object.getOwnPropertyDescriptor(n,s))})}return a}function bx(a,i){if(i||(i=document),!!i){var n=i.head||i.getElementsByTagName("head")[0];if(!n){n=i.createElement("head");var s=i.body||i.getElementsByTagName("body")[0];s?s.parentNode.insertBefore(n,s):i.documentElement.appendChild(n)}var h=i.createElement("style");return h.type="text/css",h.styleSheet?h.styleSheet.cssText=a:h.appendChild(i.createTextNode(a)),n.appendChild(h),h}}bx(`.mapboxgl-map{font:12px/20px Helvetica Neue,Arial,Helvetica,sans-serif;overflow:hidden;position:relative;-webkit-tap-highlight-color:rgba(0,0,0,0)}.mapboxgl-canvas{position:absolute;left:0;top:0}.mapboxgl-map:-webkit-full-screen{width:100%;height:100%}.mapboxgl-canary{background-color:salmon}.mapboxgl-canvas-container.mapboxgl-interactive,.mapboxgl-ctrl-group button.mapboxgl-ctrl-compass{cursor:-webkit-grab;cursor:grab;-moz-user-select:none;-webkit-user-select:none;-ms-user-select:none;user-select:none}.mapboxgl-canvas-container.mapboxgl-interactive.mapboxgl-track-pointer{cursor:pointer}.mapboxgl-canvas-container.mapboxgl-interactive:active,.mapboxgl-ctrl-group button.mapboxgl-ctrl-compass:active{cursor:-webkit-grabbing;cursor:grabbing}.mapboxgl-canvas-container.mapboxgl-touch-zoom-rotate,.mapboxgl-canvas-container.mapboxgl-touch-zoom-rotate .mapboxgl-canvas{-ms-touch-action:pan-x pan-y;touch-action:pan-x pan-y}.mapboxgl-canvas-container.mapboxgl-touch-drag-pan,.mapboxgl-canvas-container.mapboxgl-touch-drag-pan .mapboxgl-canvas{-ms-touch-action:pinch-zoom;touch-action:pinch-zoom}.mapboxgl-canvas-container.mapboxgl-touch-zoom-rotate.mapboxgl-touch-drag-pan,.mapboxgl-canvas-container.mapboxgl-touch-zoom-rotate.mapboxgl-touch-drag-pan .mapboxgl-canvas{-ms-touch-action:none;touch-action:none}.mapboxgl-ctrl-bottom-left,.mapboxgl-ctrl-bottom-right,.mapboxgl-ctrl-top-left,.mapboxgl-ctrl-top-right{position:absolute;pointer-events:none;z-index:2}.mapboxgl-ctrl-top-left{top:0;left:0}.mapboxgl-ctrl-top-right{top:0;right:0}.mapboxgl-ctrl-bottom-left{bottom:0;left:0}.mapboxgl-ctrl-bottom-right{right:0;bottom:0}.mapboxgl-ctrl{clear:both;pointer-events:auto;-webkit-transform:translate(0);transform:translate(0)}.mapboxgl-ctrl-top-left .mapboxgl-ctrl{margin:10px 0 0 10px;float:left}.mapboxgl-ctrl-top-right .mapboxgl-ctrl{margin:10px 10px 0 0;float:right}.mapboxgl-ctrl-bottom-left .mapboxgl-ctrl{margin:0 0 10px 10px;float:left}.mapboxgl-ctrl-bottom-right .mapboxgl-ctrl{margin:0 10px 10px 0;float:right}.mapboxgl-ctrl-group{border-radius:4px;background:#fff}.mapboxgl-ctrl-group:not(:empty){-webkit-box-shadow:0 0 2px rgba(0,0,0,.1);box-shadow:0 0 0 2px rgba(0,0,0,.1)}@media (-ms-high-contrast:active){.mapboxgl-ctrl-group:not(:empty){-webkit-box-shadow:0 0 0 2px ButtonText;box-shadow:0 0 0 2px ButtonText}}.mapboxgl-ctrl-group button{width:29px;height:29px;display:block;padding:0;outline:none;border:0;-webkit-box-sizing:border-box;box-sizing:border-box;background-color:transparent;cursor:pointer}.mapboxgl-ctrl-group button+button{border-top:1px solid #ddd}.mapboxgl-ctrl button .mapboxgl-ctrl-icon{display:block;width:100%;height:100%;background-repeat:no-repeat;background-position:50%}@media (-ms-high-contrast:active){.mapboxgl-ctrl-icon{background-color:transparent}.mapboxgl-ctrl-group button+button{border-top:1px solid ButtonText}}.mapboxgl-ctrl button::-moz-focus-inner{border:0;padding:0}.mapboxgl-ctrl-attrib-button:focus,.mapboxgl-ctrl-group button:focus{-webkit-box-shadow:0 0 2px 2px #0096ff;box-shadow:0 0 2px 2px #0096ff}.mapboxgl-ctrl button:disabled{cursor:not-allowed}.mapboxgl-ctrl button:disabled .mapboxgl-ctrl-icon{opacity:.25}.mapboxgl-ctrl button:not(:disabled):hover{background-color:rgba(0,0,0,.05)}.mapboxgl-ctrl-group button:focus:focus-visible{-webkit-box-shadow:0 0 2px 2px #0096ff;box-shadow:0 0 2px 2px #0096ff}.mapboxgl-ctrl-group button:focus:not(:focus-visible){-webkit-box-shadow:none;box-shadow:none}.mapboxgl-ctrl-group button:focus:first-child{border-radius:4px 4px 0 0}.mapboxgl-ctrl-group button:focus:last-child{border-radius:0 0 4px 4px}.mapboxgl-ctrl-group button:focus:only-child{border-radius:inherit}.mapboxgl-ctrl button.mapboxgl-ctrl-zoom-out .mapboxgl-ctrl-icon{background-image:url("data:image/svg+xml;charset=utf-8,%3Csvg width='29' height='29' viewBox='0 0 29 29' xmlns='http://www.w3.org/2000/svg' fill='%23333'%3E%3Cpath d='M10 13c-.75 0-1.5.75-1.5 1.5S9.25 16 10 16h9c.75 0 1.5-.75 1.5-1.5S19.75 13 19 13h-9z'/%3E%3C/svg%3E")}.mapboxgl-ctrl button.mapboxgl-ctrl-zoom-in .mapboxgl-ctrl-icon{background-image:url("data:image/svg+xml;charset=utf-8,%3Csvg width='29' height='29' viewBox='0 0 29 29' xmlns='http://www.w3.org/2000/svg' fill='%23333'%3E%3Cpath d='M14.5 8.5c-.75 0-1.5.75-1.5 1.5v3h-3c-.75 0-1.5.75-1.5 1.5S9.25 16 10 16h3v3c0 .75.75 1.5 1.5 1.5S16 19.75 16 19v-3h3c.75 0 1.5-.75 1.5-1.5S19.75 13 19 13h-3v-3c0-.75-.75-1.5-1.5-1.5z'/%3E%3C/svg%3E")}@media (-ms-high-contrast:active){.mapboxgl-ctrl button.mapboxgl-ctrl-zoom-out .mapboxgl-ctrl-icon{background-image:url("data:image/svg+xml;charset=utf-8,%3Csvg width='29' height='29' viewBox='0 0 29 29' xmlns='http://www.w3.org/2000/svg' fill='%23fff'%3E%3Cpath d='M10 13c-.75 0-1.5.75-1.5 1.5S9.25 16 10 16h9c.75 0 1.5-.75 1.5-1.5S19.75 13 19 13h-9z'/%3E%3C/svg%3E")}.mapboxgl-ctrl button.mapboxgl-ctrl-zoom-in .mapboxgl-ctrl-icon{background-image:url("data:image/svg+xml;charset=utf-8,%3Csvg width='29' height='29' viewBox='0 0 29 29' xmlns='http://www.w3.org/2000/svg' fill='%23fff'%3E%3Cpath d='M14.5 8.5c-.75 0-1.5.75-1.5 1.5v3h-3c-.75 0-1.5.75-1.5 1.5S9.25 16 10 16h3v3c0 .75.75 1.5 1.5 1.5S16 19.75 16 19v-3h3c.75 0 1.5-.75 1.5-1.5S19.75 13 19 13h-3v-3c0-.75-.75-1.5-1.5-1.5z'/%3E%3C/svg%3E")}}@media (-ms-high-contrast:black-on-white){.mapboxgl-ctrl button.mapboxgl-ctrl-zoom-out .mapboxgl-ctrl-icon{background-image:url("data:image/svg+xml;charset=utf-8,%3Csvg width='29' height='29' viewBox='0 0 29 29' xmlns='http://www.w3.org/2000/svg'%3E%3Cpath d='M10 13c-.75 0-1.5.75-1.5 1.5S9.25 16 10 16h9c.75 0 1.5-.75 1.5-1.5S19.75 13 19 13h-9z'/%3E%3C/svg%3E")}.mapboxgl-ctrl button.mapboxgl-ctrl-zoom-in .mapboxgl-ctrl-icon{background-image:url("data:image/svg+xml;charset=utf-8,%3Csvg width='29' height='29' viewBox='0 0 29 29' xmlns='http://www.w3.org/2000/svg'%3E%3Cpath d='M14.5 8.5c-.75 0-1.5.75-1.5 1.5v3h-3c-.75 0-1.5.75-1.5 1.5S9.25 16 10 16h3v3c0 .75.75 1.5 1.5 1.5S16 19.75 16 19v-3h3c.75 0 1.5-.75 1.5-1.5S19.75 13 19 13h-3v-3c0-.75-.75-1.5-1.5-1.5z'/%3E%3C/svg%3E")}}.mapboxgl-ctrl button.mapboxgl-ctrl-fullscreen .mapboxgl-ctrl-icon{background-image:url("data:image/svg+xml;charset=utf-8,%3Csvg width='29' height='29' viewBox='0 0 29 29' xmlns='http://www.w3.org/2000/svg' fill='%23333'%3E%3Cpath d='M24 16v5.5c0 1.75-.75 2.5-2.5 2.5H16v-1l3-1.5-4-5.5 1-1 5.5 4 1.5-3h1zM6 16l1.5 3 5.5-4 1 1-4 5.5 3 1.5v1H7.5C5.75 24 5 23.25 5 21.5V16h1zm7-11v1l-3 1.5 4 5.5-1 1-5.5-4L6 13H5V7.5C5 5.75 5.75 5 7.5 5H13zm11 2.5c0-1.75-.75-2.5-2.5-2.5H16v1l3 1.5-4 5.5 1 1 5.5-4 1.5 3h1V7.5z'/%3E%3C/svg%3E")}.mapboxgl-ctrl button.mapboxgl-ctrl-shrink .mapboxgl-ctrl-icon{background-image:url("data:image/svg+xml;charset=utf-8,%3Csvg width='29' height='29' viewBox='0 0 29 29' xmlns='http://www.w3.org/2000/svg'%3E%3Cpath d='M18.5 16c-1.75 0-2.5.75-2.5 2.5V24h1l1.5-3 5.5 4 1-1-4-5.5 3-1.5v-1h-5.5zM13 18.5c0-1.75-.75-2.5-2.5-2.5H5v1l3 1.5L4 24l1 1 5.5-4 1.5 3h1v-5.5zm3-8c0 1.75.75 2.5 2.5 2.5H24v-1l-3-1.5L25 5l-1-1-5.5 4L17 5h-1v5.5zM10.5 13c1.75 0 2.5-.75 2.5-2.5V5h-1l-1.5 3L5 4 4 5l4 5.5L5 12v1h5.5z'/%3E%3C/svg%3E")}@media (-ms-high-contrast:active){.mapboxgl-ctrl button.mapboxgl-ctrl-fullscreen .mapboxgl-ctrl-icon{background-image:url("data:image/svg+xml;charset=utf-8,%3Csvg width='29' height='29' viewBox='0 0 29 29' xmlns='http://www.w3.org/2000/svg' fill='%23fff'%3E%3Cpath d='M24 16v5.5c0 1.75-.75 2.5-2.5 2.5H16v-1l3-1.5-4-5.5 1-1 5.5 4 1.5-3h1zM6 16l1.5 3 5.5-4 1 1-4 5.5 3 1.5v1H7.5C5.75 24 5 23.25 5 21.5V16h1zm7-11v1l-3 1.5 4 5.5-1 1-5.5-4L6 13H5V7.5C5 5.75 5.75 5 7.5 5H13zm11 2.5c0-1.75-.75-2.5-2.5-2.5H16v1l3 1.5-4 5.5 1 1 5.5-4 1.5 3h1V7.5z'/%3E%3C/svg%3E")}.mapboxgl-ctrl button.mapboxgl-ctrl-shrink .mapboxgl-ctrl-icon{background-image:url("data:image/svg+xml;charset=utf-8,%3Csvg width='29' height='29' viewBox='0 0 29 29' xmlns='http://www.w3.org/2000/svg' fill='%23fff'%3E%3Cpath d='M18.5 16c-1.75 0-2.5.75-2.5 2.5V24h1l1.5-3 5.5 4 1-1-4-5.5 3-1.5v-1h-5.5zM13 18.5c0-1.75-.75-2.5-2.5-2.5H5v1l3 1.5L4 24l1 1 5.5-4 1.5 3h1v-5.5zm3-8c0 1.75.75 2.5 2.5 2.5H24v-1l-3-1.5L25 5l-1-1-5.5 4L17 5h-1v5.5zM10.5 13c1.75 0 2.5-.75 2.5-2.5V5h-1l-1.5 3L5 4 4 5l4 5.5L5 12v1h5.5z'/%3E%3C/svg%3E")}}@media (-ms-high-contrast:black-on-white){.mapboxgl-ctrl button.mapboxgl-ctrl-fullscreen .mapboxgl-ctrl-icon{background-image:url("data:image/svg+xml;charset=utf-8,%3Csvg width='29' height='29' viewBox='0 0 29 29' xmlns='http://www.w3.org/2000/svg'%3E%3Cpath d='M24 16v5.5c0 1.75-.75 2.5-2.5 2.5H16v-1l3-1.5-4-5.5 1-1 5.5 4 1.5-3h1zM6 16l1.5 3 5.5-4 1 1-4 5.5 3 1.5v1H7.5C5.75 24 5 23.25 5 21.5V16h1zm7-11v1l-3 1.5 4 5.5-1 1-5.5-4L6 13H5V7.5C5 5.75 5.75 5 7.5 5H13zm11 2.5c0-1.75-.75-2.5-2.5-2.5H16v1l3 1.5-4 5.5 1 1 5.5-4 1.5 3h1V7.5z'/%3E%3C/svg%3E")}.mapboxgl-ctrl button.mapboxgl-ctrl-shrink .mapboxgl-ctrl-icon{background-image:url("data:image/svg+xml;charset=utf-8,%3Csvg width='29' height='29' viewBox='0 0 29 29' xmlns='http://www.w3.org/2000/svg'%3E%3Cpath d='M18.5 16c-1.75 0-2.5.75-2.5 2.5V24h1l1.5-3 5.5 4 1-1-4-5.5 3-1.5v-1h-5.5zM13 18.5c0-1.75-.75-2.5-2.5-2.5H5v1l3 1.5L4 24l1 1 5.5-4 1.5 3h1v-5.5zm3-8c0 1.75.75 2.5 2.5 2.5H24v-1l-3-1.5L25 5l-1-1-5.5 4L17 5h-1v5.5zM10.5 13c1.75 0 2.5-.75 2.5-2.5V5h-1l-1.5 3L5 4 4 5l4 5.5L5 12v1h5.5z'/%3E%3C/svg%3E")}}.mapboxgl-ctrl button.mapboxgl-ctrl-compass .mapboxgl-ctrl-icon{background-image:url("data:image/svg+xml;charset=utf-8,%3Csvg width='29' height='29' viewBox='0 0 29 29' xmlns='http://www.w3.org/2000/svg' fill='%23333'%3E%3Cpath d='M10.5 14l4-8 4 8h-8z'/%3E%3Cpath d='M10.5 16l4 8 4-8h-8z' fill='%23ccc'/%3E%3C/svg%3E")}@media (-ms-high-contrast:active){.mapboxgl-ctrl button.mapboxgl-ctrl-compass .mapboxgl-ctrl-icon{background-image:url("data:image/svg+xml;charset=utf-8,%3Csvg width='29' height='29' viewBox='0 0 29 29' xmlns='http://www.w3.org/2000/svg' fill='%23fff'%3E%3Cpath d='M10.5 14l4-8 4 8h-8z'/%3E%3Cpath d='M10.5 16l4 8 4-8h-8z' fill='%23999'/%3E%3C/svg%3E")}}@media (-ms-high-contrast:black-on-white){.mapboxgl-ctrl button.mapboxgl-ctrl-compass .mapboxgl-ctrl-icon{background-image:url("data:image/svg+xml;charset=utf-8,%3Csvg width='29' height='29' viewBox='0 0 29 29' xmlns='http://www.w3.org/2000/svg'%3E%3Cpath d='M10.5 14l4-8 4 8h-8z'/%3E%3Cpath d='M10.5 16l4 8 4-8h-8z' fill='%23ccc'/%3E%3C/svg%3E")}}.mapboxgl-ctrl button.mapboxgl-ctrl-geolocate .mapboxgl-ctrl-icon{background-image:url("data:image/svg+xml;charset=utf-8,%3Csvg width='29' height='29' viewBox='0 0 20 20' xmlns='http://www.w3.org/2000/svg' fill='%23333'%3E%3Cpath d='M10 4C9 4 9 5 9 5v.1A5 5 0 005.1 9H5s-1 0-1 1 1 1 1 1h.1A5 5 0 009 14.9v.1s0 1 1 1 1-1 1-1v-.1a5 5 0 003.9-3.9h.1s1 0 1-1-1-1-1-1h-.1A5 5 0 0011 5.1V5s0-1-1-1zm0 2.5a3.5 3.5 0 110 7 3.5 3.5 0 110-7z'/%3E%3Ccircle cx='10' cy='10' r='2'/%3E%3C/svg%3E")}.mapboxgl-ctrl button.mapboxgl-ctrl-geolocate:disabled .mapboxgl-ctrl-icon{background-image:url("data:image/svg+xml;charset=utf-8,%3Csvg width='29' height='29' viewBox='0 0 20 20' xmlns='http://www.w3.org/2000/svg' fill='%23aaa'%3E%3Cpath d='M10 4C9 4 9 5 9 5v.1A5 5 0 005.1 9H5s-1 0-1 1 1 1 1 1h.1A5 5 0 009 14.9v.1s0 1 1 1 1-1 1-1v-.1a5 5 0 003.9-3.9h.1s1 0 1-1-1-1-1-1h-.1A5 5 0 0011 5.1V5s0-1-1-1zm0 2.5a3.5 3.5 0 110 7 3.5 3.5 0 110-7z'/%3E%3Ccircle cx='10' cy='10' r='2'/%3E%3Cpath d='M14 5l1 1-9 9-1-1 9-9z' fill='red'/%3E%3C/svg%3E")}.mapboxgl-ctrl button.mapboxgl-ctrl-geolocate.mapboxgl-ctrl-geolocate-active .mapboxgl-ctrl-icon{background-image:url("data:image/svg+xml;charset=utf-8,%3Csvg width='29' height='29' viewBox='0 0 20 20' xmlns='http://www.w3.org/2000/svg' fill='%2333b5e5'%3E%3Cpath d='M10 4C9 4 9 5 9 5v.1A5 5 0 005.1 9H5s-1 0-1 1 1 1 1 1h.1A5 5 0 009 14.9v.1s0 1 1 1 1-1 1-1v-.1a5 5 0 003.9-3.9h.1s1 0 1-1-1-1-1-1h-.1A5 5 0 0011 5.1V5s0-1-1-1zm0 2.5a3.5 3.5 0 110 7 3.5 3.5 0 110-7z'/%3E%3Ccircle cx='10' cy='10' r='2'/%3E%3C/svg%3E")}.mapboxgl-ctrl button.mapboxgl-ctrl-geolocate.mapboxgl-ctrl-geolocate-active-error .mapboxgl-ctrl-icon{background-image:url("data:image/svg+xml;charset=utf-8,%3Csvg width='29' height='29' viewBox='0 0 20 20' xmlns='http://www.w3.org/2000/svg' fill='%23e58978'%3E%3Cpath d='M10 4C9 4 9 5 9 5v.1A5 5 0 005.1 9H5s-1 0-1 1 1 1 1 1h.1A5 5 0 009 14.9v.1s0 1 1 1 1-1 1-1v-.1a5 5 0 003.9-3.9h.1s1 0 1-1-1-1-1-1h-.1A5 5 0 0011 5.1V5s0-1-1-1zm0 2.5a3.5 3.5 0 110 7 3.5 3.5 0 110-7z'/%3E%3Ccircle cx='10' cy='10' r='2'/%3E%3C/svg%3E")}.mapboxgl-ctrl button.mapboxgl-ctrl-geolocate.mapboxgl-ctrl-geolocate-background .mapboxgl-ctrl-icon{background-image:url("data:image/svg+xml;charset=utf-8,%3Csvg width='29' height='29' viewBox='0 0 20 20' xmlns='http://www.w3.org/2000/svg' fill='%2333b5e5'%3E%3Cpath d='M10 4C9 4 9 5 9 5v.1A5 5 0 005.1 9H5s-1 0-1 1 1 1 1 1h.1A5 5 0 009 14.9v.1s0 1 1 1 1-1 1-1v-.1a5 5 0 003.9-3.9h.1s1 0 1-1-1-1-1-1h-.1A5 5 0 0011 5.1V5s0-1-1-1zm0 2.5a3.5 3.5 0 110 7 3.5 3.5 0 110-7z'/%3E%3C/svg%3E")}.mapboxgl-ctrl button.mapboxgl-ctrl-geolocate.mapboxgl-ctrl-geolocate-background-error .mapboxgl-ctrl-icon{background-image:url("data:image/svg+xml;charset=utf-8,%3Csvg width='29' height='29' viewBox='0 0 20 20' xmlns='http://www.w3.org/2000/svg' fill='%23e54e33'%3E%3Cpath d='M10 4C9 4 9 5 9 5v.1A5 5 0 005.1 9H5s-1 0-1 1 1 1 1 1h.1A5 5 0 009 14.9v.1s0 1 1 1 1-1 1-1v-.1a5 5 0 003.9-3.9h.1s1 0 1-1-1-1-1-1h-.1A5 5 0 0011 5.1V5s0-1-1-1zm0 2.5a3.5 3.5 0 110 7 3.5 3.5 0 110-7z'/%3E%3C/svg%3E")}.mapboxgl-ctrl button.mapboxgl-ctrl-geolocate.mapboxgl-ctrl-geolocate-waiting .mapboxgl-ctrl-icon{-webkit-animation:mapboxgl-spin 2s linear infinite;animation:mapboxgl-spin 2s linear infinite}@media (-ms-high-contrast:active){.mapboxgl-ctrl button.mapboxgl-ctrl-geolocate .mapboxgl-ctrl-icon{background-image:url("data:image/svg+xml;charset=utf-8,%3Csvg width='29' height='29' viewBox='0 0 20 20' xmlns='http://www.w3.org/2000/svg' fill='%23fff'%3E%3Cpath d='M10 4C9 4 9 5 9 5v.1A5 5 0 005.1 9H5s-1 0-1 1 1 1 1 1h.1A5 5 0 009 14.9v.1s0 1 1 1 1-1 1-1v-.1a5 5 0 003.9-3.9h.1s1 0 1-1-1-1-1-1h-.1A5 5 0 0011 5.1V5s0-1-1-1zm0 2.5a3.5 3.5 0 110 7 3.5 3.5 0 110-7z'/%3E%3Ccircle cx='10' cy='10' r='2'/%3E%3C/svg%3E")}.mapboxgl-ctrl button.mapboxgl-ctrl-geolocate:disabled .mapboxgl-ctrl-icon{background-image:url("data:image/svg+xml;charset=utf-8,%3Csvg width='29' height='29' viewBox='0 0 20 20' xmlns='http://www.w3.org/2000/svg' fill='%23999'%3E%3Cpath d='M10 4C9 4 9 5 9 5v.1A5 5 0 005.1 9H5s-1 0-1 1 1 1 1 1h.1A5 5 0 009 14.9v.1s0 1 1 1 1-1 1-1v-.1a5 5 0 003.9-3.9h.1s1 0 1-1-1-1-1-1h-.1A5 5 0 0011 5.1V5s0-1-1-1zm0 2.5a3.5 3.5 0 110 7 3.5 3.5 0 110-7z'/%3E%3Ccircle cx='10' cy='10' r='2'/%3E%3Cpath d='M14 5l1 1-9 9-1-1 9-9z' fill='red'/%3E%3C/svg%3E")}.mapboxgl-ctrl button.mapboxgl-ctrl-geolocate.mapboxgl-ctrl-geolocate-active .mapboxgl-ctrl-icon{background-image:url("data:image/svg+xml;charset=utf-8,%3Csvg width='29' height='29' viewBox='0 0 20 20' xmlns='http://www.w3.org/2000/svg' fill='%2333b5e5'%3E%3Cpath d='M10 4C9 4 9 5 9 5v.1A5 5 0 005.1 9H5s-1 0-1 1 1 1 1 1h.1A5 5 0 009 14.9v.1s0 1 1 1 1-1 1-1v-.1a5 5 0 003.9-3.9h.1s1 0 1-1-1-1-1-1h-.1A5 5 0 0011 5.1V5s0-1-1-1zm0 2.5a3.5 3.5 0 110 7 3.5 3.5 0 110-7z'/%3E%3Ccircle cx='10' cy='10' r='2'/%3E%3C/svg%3E")}.mapboxgl-ctrl button.mapboxgl-ctrl-geolocate.mapboxgl-ctrl-geolocate-active-error .mapboxgl-ctrl-icon{background-image:url("data:image/svg+xml;charset=utf-8,%3Csvg width='29' height='29' viewBox='0 0 20 20' xmlns='http://www.w3.org/2000/svg' fill='%23e58978'%3E%3Cpath d='M10 4C9 4 9 5 9 5v.1A5 5 0 005.1 9H5s-1 0-1 1 1 1 1 1h.1A5 5 0 009 14.9v.1s0 1 1 1 1-1 1-1v-.1a5 5 0 003.9-3.9h.1s1 0 1-1-1-1-1-1h-.1A5 5 0 0011 5.1V5s0-1-1-1zm0 2.5a3.5 3.5 0 110 7 3.5 3.5 0 110-7z'/%3E%3Ccircle cx='10' cy='10' r='2'/%3E%3C/svg%3E")}.mapboxgl-ctrl button.mapboxgl-ctrl-geolocate.mapboxgl-ctrl-geolocate-background .mapboxgl-ctrl-icon{background-image:url("data:image/svg+xml;charset=utf-8,%3Csvg width='29' height='29' viewBox='0 0 20 20' xmlns='http://www.w3.org/2000/svg' fill='%2333b5e5'%3E%3Cpath d='M10 4C9 4 9 5 9 5v.1A5 5 0 005.1 9H5s-1 0-1 1 1 1 1 1h.1A5 5 0 009 14.9v.1s0 1 1 1 1-1 1-1v-.1a5 5 0 003.9-3.9h.1s1 0 1-1-1-1-1-1h-.1A5 5 0 0011 5.1V5s0-1-1-1zm0 2.5a3.5 3.5 0 110 7 3.5 3.5 0 110-7z'/%3E%3C/svg%3E")}.mapboxgl-ctrl button.mapboxgl-ctrl-geolocate.mapboxgl-ctrl-geolocate-background-error .mapboxgl-ctrl-icon{background-image:url("data:image/svg+xml;charset=utf-8,%3Csvg width='29' height='29' viewBox='0 0 20 20' xmlns='http://www.w3.org/2000/svg' fill='%23e54e33'%3E%3Cpath d='M10 4C9 4 9 5 9 5v.1A5 5 0 005.1 9H5s-1 0-1 1 1 1 1 1h.1A5 5 0 009 14.9v.1s0 1 1 1 1-1 1-1v-.1a5 5 0 003.9-3.9h.1s1 0 1-1-1-1-1-1h-.1A5 5 0 0011 5.1V5s0-1-1-1zm0 2.5a3.5 3.5 0 110 7 3.5 3.5 0 110-7z'/%3E%3C/svg%3E")}}@media (-ms-high-contrast:black-on-white){.mapboxgl-ctrl button.mapboxgl-ctrl-geolocate .mapboxgl-ctrl-icon{background-image:url("data:image/svg+xml;charset=utf-8,%3Csvg width='29' height='29' viewBox='0 0 20 20' xmlns='http://www.w3.org/2000/svg'%3E%3Cpath d='M10 4C9 4 9 5 9 5v.1A5 5 0 005.1 9H5s-1 0-1 1 1 1 1 1h.1A5 5 0 009 14.9v.1s0 1 1 1 1-1 1-1v-.1a5 5 0 003.9-3.9h.1s1 0 1-1-1-1-1-1h-.1A5 5 0 0011 5.1V5s0-1-1-1zm0 2.5a3.5 3.5 0 110 7 3.5 3.5 0 110-7z'/%3E%3Ccircle cx='10' cy='10' r='2'/%3E%3C/svg%3E")}.mapboxgl-ctrl button.mapboxgl-ctrl-geolocate:disabled .mapboxgl-ctrl-icon{background-image:url("data:image/svg+xml;charset=utf-8,%3Csvg width='29' height='29' viewBox='0 0 20 20' xmlns='http://www.w3.org/2000/svg' fill='%23666'%3E%3Cpath d='M10 4C9 4 9 5 9 5v.1A5 5 0 005.1 9H5s-1 0-1 1 1 1 1 1h.1A5 5 0 009 14.9v.1s0 1 1 1 1-1 1-1v-.1a5 5 0 003.9-3.9h.1s1 0 1-1-1-1-1-1h-.1A5 5 0 0011 5.1V5s0-1-1-1zm0 2.5a3.5 3.5 0 110 7 3.5 3.5 0 110-7z'/%3E%3Ccircle cx='10' cy='10' r='2'/%3E%3Cpath d='M14 5l1 1-9 9-1-1 9-9z' fill='red'/%3E%3C/svg%3E")}}@-webkit-keyframes mapboxgl-spin{0%{-webkit-transform:rotate(0deg)}to{-webkit-transform:rotate(1turn)}}@keyframes mapboxgl-spin{0%{-webkit-transform:rotate(0deg);transform:rotate(0deg)}to{-webkit-transform:rotate(1turn);transform:rotate(1turn)}}a.mapboxgl-ctrl-logo{width:88px;height:23px;margin:0 0 -4px -4px;display:block;background-repeat:no-repeat;cursor:pointer;overflow:hidden;background-image:url("data:image/svg+xml;charset=utf-8,%3Csvg width='88' height='23' viewBox='0 0 88 23' xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink' fill-rule='evenodd'%3E%3Cdefs%3E%3Cpath id='a' d='M11.5 2.25c5.105 0 9.25 4.145 9.25 9.25s-4.145 9.25-9.25 9.25-9.25-4.145-9.25-9.25 4.145-9.25 9.25-9.25zM6.997 15.983c-.051-.338-.828-5.802 2.233-8.873a4.395 4.395 0 013.13-1.28c1.27 0 2.49.51 3.39 1.42.91.9 1.42 2.12 1.42 3.39 0 1.18-.449 2.301-1.28 3.13C12.72 16.93 7 16 7 16l-.003-.017zM15.3 10.5l-2 .8-.8 2-.8-2-2-.8 2-.8.8-2 .8 2 2 .8z'/%3E%3Cpath id='b' d='M50.63 8c.13 0 .23.1.23.23V9c.7-.76 1.7-1.18 2.73-1.18 2.17 0 3.95 1.85 3.95 4.17s-1.77 4.19-3.94 4.19c-1.04 0-2.03-.43-2.74-1.18v3.77c0 .13-.1.23-.23.23h-1.4c-.13 0-.23-.1-.23-.23V8.23c0-.12.1-.23.23-.23h1.4zm-3.86.01c.01 0 .01 0 .01-.01.13 0 .22.1.22.22v7.55c0 .12-.1.23-.23.23h-1.4c-.13 0-.23-.1-.23-.23V15c-.7.76-1.69 1.19-2.73 1.19-2.17 0-3.94-1.87-3.94-4.19 0-2.32 1.77-4.19 3.94-4.19 1.03 0 2.02.43 2.73 1.18v-.75c0-.12.1-.23.23-.23h1.4zm26.375-.19a4.24 4.24 0 00-4.16 3.29c-.13.59-.13 1.19 0 1.77a4.233 4.233 0 004.17 3.3c2.35 0 4.26-1.87 4.26-4.19 0-2.32-1.9-4.17-4.27-4.17zM60.63 5c.13 0 .23.1.23.23v3.76c.7-.76 1.7-1.18 2.73-1.18 1.88 0 3.45 1.4 3.84 3.28.13.59.13 1.2 0 1.8-.39 1.88-1.96 3.29-3.84 3.29-1.03 0-2.02-.43-2.73-1.18v.77c0 .12-.1.23-.23.23h-1.4c-.13 0-.23-.1-.23-.23V5.23c0-.12.1-.23.23-.23h1.4zm-34 11h-1.4c-.13 0-.23-.11-.23-.23V8.22c.01-.13.1-.22.23-.22h1.4c.13 0 .22.11.23.22v.68c.5-.68 1.3-1.09 2.16-1.1h.03c1.09 0 2.09.6 2.6 1.55.45-.95 1.4-1.55 2.44-1.56 1.62 0 2.93 1.25 2.9 2.78l.03 5.2c0 .13-.1.23-.23.23h-1.41c-.13 0-.23-.11-.23-.23v-4.59c0-.98-.74-1.71-1.62-1.71-.8 0-1.46.7-1.59 1.62l.01 4.68c0 .13-.11.23-.23.23h-1.41c-.13 0-.23-.11-.23-.23v-4.59c0-.98-.74-1.71-1.62-1.71-.85 0-1.54.79-1.6 1.8v4.5c0 .13-.1.23-.23.23zm53.615 0h-1.61c-.04 0-.08-.01-.12-.03-.09-.06-.13-.19-.06-.28l2.43-3.71-2.39-3.65a.213.213 0 01-.03-.12c0-.12.09-.21.21-.21h1.61c.13 0 .24.06.3.17l1.41 2.37 1.4-2.37a.34.34 0 01.3-.17h1.6c.04 0 .08.01.12.03.09.06.13.19.06.28l-2.37 3.65 2.43 3.7c0 .05.01.09.01.13 0 .12-.09.21-.21.21h-1.61c-.13 0-.24-.06-.3-.17l-1.44-2.42-1.44 2.42a.34.34 0 01-.3.17zm-7.12-1.49c-1.33 0-2.42-1.12-2.42-2.51 0-1.39 1.08-2.52 2.42-2.52 1.33 0 2.42 1.12 2.42 2.51 0 1.39-1.08 2.51-2.42 2.52zm-19.865 0c-1.32 0-2.39-1.11-2.42-2.48v-.07c.02-1.38 1.09-2.49 2.4-2.49 1.32 0 2.41 1.12 2.41 2.51 0 1.39-1.07 2.52-2.39 2.53zm-8.11-2.48c-.01 1.37-1.09 2.47-2.41 2.47s-2.42-1.12-2.42-2.51c0-1.39 1.08-2.52 2.4-2.52 1.33 0 2.39 1.11 2.41 2.48l.02.08zm18.12 2.47c-1.32 0-2.39-1.11-2.41-2.48v-.06c.02-1.38 1.09-2.48 2.41-2.48s2.42 1.12 2.42 2.51c0 1.39-1.09 2.51-2.42 2.51z'/%3E%3C/defs%3E%3Cmask id='c'%3E%3Crect width='100%25' height='100%25' fill='%23fff'/%3E%3Cuse xlink:href='%23a'/%3E%3Cuse xlink:href='%23b'/%3E%3C/mask%3E%3Cg opacity='.3' stroke='%23000' stroke-width='3'%3E%3Ccircle mask='url(%23c)' cx='11.5' cy='11.5' r='9.25'/%3E%3Cuse xlink:href='%23b' mask='url(%23c)'/%3E%3C/g%3E%3Cg opacity='.9' fill='%23fff'%3E%3Cuse xlink:href='%23a'/%3E%3Cuse xlink:href='%23b'/%3E%3C/g%3E%3C/svg%3E")}a.mapboxgl-ctrl-logo.mapboxgl-compact{width:23px}@media (-ms-high-contrast:active){a.mapboxgl-ctrl-logo{background-color:transparent;background-image:url("data:image/svg+xml;charset=utf-8,%3Csvg width='88' height='23' viewBox='0 0 88 23' xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink' fill-rule='evenodd'%3E%3Cdefs%3E%3Cpath id='a' d='M11.5 2.25c5.105 0 9.25 4.145 9.25 9.25s-4.145 9.25-9.25 9.25-9.25-4.145-9.25-9.25 4.145-9.25 9.25-9.25zM6.997 15.983c-.051-.338-.828-5.802 2.233-8.873a4.395 4.395 0 013.13-1.28c1.27 0 2.49.51 3.39 1.42.91.9 1.42 2.12 1.42 3.39 0 1.18-.449 2.301-1.28 3.13C12.72 16.93 7 16 7 16l-.003-.017zM15.3 10.5l-2 .8-.8 2-.8-2-2-.8 2-.8.8-2 .8 2 2 .8z'/%3E%3Cpath id='b' d='M50.63 8c.13 0 .23.1.23.23V9c.7-.76 1.7-1.18 2.73-1.18 2.17 0 3.95 1.85 3.95 4.17s-1.77 4.19-3.94 4.19c-1.04 0-2.03-.43-2.74-1.18v3.77c0 .13-.1.23-.23.23h-1.4c-.13 0-.23-.1-.23-.23V8.23c0-.12.1-.23.23-.23h1.4zm-3.86.01c.01 0 .01 0 .01-.01.13 0 .22.1.22.22v7.55c0 .12-.1.23-.23.23h-1.4c-.13 0-.23-.1-.23-.23V15c-.7.76-1.69 1.19-2.73 1.19-2.17 0-3.94-1.87-3.94-4.19 0-2.32 1.77-4.19 3.94-4.19 1.03 0 2.02.43 2.73 1.18v-.75c0-.12.1-.23.23-.23h1.4zm26.375-.19a4.24 4.24 0 00-4.16 3.29c-.13.59-.13 1.19 0 1.77a4.233 4.233 0 004.17 3.3c2.35 0 4.26-1.87 4.26-4.19 0-2.32-1.9-4.17-4.27-4.17zM60.63 5c.13 0 .23.1.23.23v3.76c.7-.76 1.7-1.18 2.73-1.18 1.88 0 3.45 1.4 3.84 3.28.13.59.13 1.2 0 1.8-.39 1.88-1.96 3.29-3.84 3.29-1.03 0-2.02-.43-2.73-1.18v.77c0 .12-.1.23-.23.23h-1.4c-.13 0-.23-.1-.23-.23V5.23c0-.12.1-.23.23-.23h1.4zm-34 11h-1.4c-.13 0-.23-.11-.23-.23V8.22c.01-.13.1-.22.23-.22h1.4c.13 0 .22.11.23.22v.68c.5-.68 1.3-1.09 2.16-1.1h.03c1.09 0 2.09.6 2.6 1.55.45-.95 1.4-1.55 2.44-1.56 1.62 0 2.93 1.25 2.9 2.78l.03 5.2c0 .13-.1.23-.23.23h-1.41c-.13 0-.23-.11-.23-.23v-4.59c0-.98-.74-1.71-1.62-1.71-.8 0-1.46.7-1.59 1.62l.01 4.68c0 .13-.11.23-.23.23h-1.41c-.13 0-.23-.11-.23-.23v-4.59c0-.98-.74-1.71-1.62-1.71-.85 0-1.54.79-1.6 1.8v4.5c0 .13-.1.23-.23.23zm53.615 0h-1.61c-.04 0-.08-.01-.12-.03-.09-.06-.13-.19-.06-.28l2.43-3.71-2.39-3.65a.213.213 0 01-.03-.12c0-.12.09-.21.21-.21h1.61c.13 0 .24.06.3.17l1.41 2.37 1.4-2.37a.34.34 0 01.3-.17h1.6c.04 0 .08.01.12.03.09.06.13.19.06.28l-2.37 3.65 2.43 3.7c0 .05.01.09.01.13 0 .12-.09.21-.21.21h-1.61c-.13 0-.24-.06-.3-.17l-1.44-2.42-1.44 2.42a.34.34 0 01-.3.17zm-7.12-1.49c-1.33 0-2.42-1.12-2.42-2.51 0-1.39 1.08-2.52 2.42-2.52 1.33 0 2.42 1.12 2.42 2.51 0 1.39-1.08 2.51-2.42 2.52zm-19.865 0c-1.32 0-2.39-1.11-2.42-2.48v-.07c.02-1.38 1.09-2.49 2.4-2.49 1.32 0 2.41 1.12 2.41 2.51 0 1.39-1.07 2.52-2.39 2.53zm-8.11-2.48c-.01 1.37-1.09 2.47-2.41 2.47s-2.42-1.12-2.42-2.51c0-1.39 1.08-2.52 2.4-2.52 1.33 0 2.39 1.11 2.41 2.48l.02.08zm18.12 2.47c-1.32 0-2.39-1.11-2.41-2.48v-.06c.02-1.38 1.09-2.48 2.41-2.48s2.42 1.12 2.42 2.51c0 1.39-1.09 2.51-2.42 2.51z'/%3E%3C/defs%3E%3Cmask id='c'%3E%3Crect width='100%25' height='100%25' fill='%23fff'/%3E%3Cuse xlink:href='%23a'/%3E%3Cuse xlink:href='%23b'/%3E%3C/mask%3E%3Cg stroke='%23000' stroke-width='3'%3E%3Ccircle mask='url(%23c)' cx='11.5' cy='11.5' r='9.25'/%3E%3Cuse xlink:href='%23b' mask='url(%23c)'/%3E%3C/g%3E%3Cg fill='%23fff'%3E%3Cuse xlink:href='%23a'/%3E%3Cuse xlink:href='%23b'/%3E%3C/g%3E%3C/svg%3E")}}@media (-ms-high-contrast:black-on-white){a.mapboxgl-ctrl-logo{background-image:url("data:image/svg+xml;charset=utf-8,%3Csvg width='88' height='23' viewBox='0 0 88 23' xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink' fill-rule='evenodd'%3E%3Cdefs%3E%3Cpath id='a' d='M11.5 2.25c5.105 0 9.25 4.145 9.25 9.25s-4.145 9.25-9.25 9.25-9.25-4.145-9.25-9.25 4.145-9.25 9.25-9.25zM6.997 15.983c-.051-.338-.828-5.802 2.233-8.873a4.395 4.395 0 013.13-1.28c1.27 0 2.49.51 3.39 1.42.91.9 1.42 2.12 1.42 3.39 0 1.18-.449 2.301-1.28 3.13C12.72 16.93 7 16 7 16l-.003-.017zM15.3 10.5l-2 .8-.8 2-.8-2-2-.8 2-.8.8-2 .8 2 2 .8z'/%3E%3Cpath id='b' d='M50.63 8c.13 0 .23.1.23.23V9c.7-.76 1.7-1.18 2.73-1.18 2.17 0 3.95 1.85 3.95 4.17s-1.77 4.19-3.94 4.19c-1.04 0-2.03-.43-2.74-1.18v3.77c0 .13-.1.23-.23.23h-1.4c-.13 0-.23-.1-.23-.23V8.23c0-.12.1-.23.23-.23h1.4zm-3.86.01c.01 0 .01 0 .01-.01.13 0 .22.1.22.22v7.55c0 .12-.1.23-.23.23h-1.4c-.13 0-.23-.1-.23-.23V15c-.7.76-1.69 1.19-2.73 1.19-2.17 0-3.94-1.87-3.94-4.19 0-2.32 1.77-4.19 3.94-4.19 1.03 0 2.02.43 2.73 1.18v-.75c0-.12.1-.23.23-.23h1.4zm26.375-.19a4.24 4.24 0 00-4.16 3.29c-.13.59-.13 1.19 0 1.77a4.233 4.233 0 004.17 3.3c2.35 0 4.26-1.87 4.26-4.19 0-2.32-1.9-4.17-4.27-4.17zM60.63 5c.13 0 .23.1.23.23v3.76c.7-.76 1.7-1.18 2.73-1.18 1.88 0 3.45 1.4 3.84 3.28.13.59.13 1.2 0 1.8-.39 1.88-1.96 3.29-3.84 3.29-1.03 0-2.02-.43-2.73-1.18v.77c0 .12-.1.23-.23.23h-1.4c-.13 0-.23-.1-.23-.23V5.23c0-.12.1-.23.23-.23h1.4zm-34 11h-1.4c-.13 0-.23-.11-.23-.23V8.22c.01-.13.1-.22.23-.22h1.4c.13 0 .22.11.23.22v.68c.5-.68 1.3-1.09 2.16-1.1h.03c1.09 0 2.09.6 2.6 1.55.45-.95 1.4-1.55 2.44-1.56 1.62 0 2.93 1.25 2.9 2.78l.03 5.2c0 .13-.1.23-.23.23h-1.41c-.13 0-.23-.11-.23-.23v-4.59c0-.98-.74-1.71-1.62-1.71-.8 0-1.46.7-1.59 1.62l.01 4.68c0 .13-.11.23-.23.23h-1.41c-.13 0-.23-.11-.23-.23v-4.59c0-.98-.74-1.71-1.62-1.71-.85 0-1.54.79-1.6 1.8v4.5c0 .13-.1.23-.23.23zm53.615 0h-1.61c-.04 0-.08-.01-.12-.03-.09-.06-.13-.19-.06-.28l2.43-3.71-2.39-3.65a.213.213 0 01-.03-.12c0-.12.09-.21.21-.21h1.61c.13 0 .24.06.3.17l1.41 2.37 1.4-2.37a.34.34 0 01.3-.17h1.6c.04 0 .08.01.12.03.09.06.13.19.06.28l-2.37 3.65 2.43 3.7c0 .05.01.09.01.13 0 .12-.09.21-.21.21h-1.61c-.13 0-.24-.06-.3-.17l-1.44-2.42-1.44 2.42a.34.34 0 01-.3.17zm-7.12-1.49c-1.33 0-2.42-1.12-2.42-2.51 0-1.39 1.08-2.52 2.42-2.52 1.33 0 2.42 1.12 2.42 2.51 0 1.39-1.08 2.51-2.42 2.52zm-19.865 0c-1.32 0-2.39-1.11-2.42-2.48v-.07c.02-1.38 1.09-2.49 2.4-2.49 1.32 0 2.41 1.12 2.41 2.51 0 1.39-1.07 2.52-2.39 2.53zm-8.11-2.48c-.01 1.37-1.09 2.47-2.41 2.47s-2.42-1.12-2.42-2.51c0-1.39 1.08-2.52 2.4-2.52 1.33 0 2.39 1.11 2.41 2.48l.02.08zm18.12 2.47c-1.32 0-2.39-1.11-2.41-2.48v-.06c.02-1.38 1.09-2.48 2.41-2.48s2.42 1.12 2.42 2.51c0 1.39-1.09 2.51-2.42 2.51z'/%3E%3C/defs%3E%3Cmask id='c'%3E%3Crect width='100%25' height='100%25' fill='%23fff'/%3E%3Cuse xlink:href='%23a'/%3E%3Cuse xlink:href='%23b'/%3E%3C/mask%3E%3Cg stroke='%23fff' stroke-width='3' fill='%23fff'%3E%3Ccircle mask='url(%23c)' cx='11.5' cy='11.5' r='9.25'/%3E%3Cuse xlink:href='%23b' mask='url(%23c)'/%3E%3C/g%3E%3Cuse xlink:href='%23a'/%3E%3Cuse xlink:href='%23b'/%3E%3C/svg%3E")}}.mapboxgl-ctrl.mapboxgl-ctrl-attrib{padding:0 5px;background-color:hsla(0,0%,100%,.5);margin:0}@media screen{.mapboxgl-ctrl-attrib.mapboxgl-compact{min-height:20px;padding:2px 24px 2px 0;margin:10px;position:relative;background-color:#fff;border-radius:12px}.mapboxgl-ctrl-attrib.mapboxgl-compact-show{padding:2px 28px 2px 8px;visibility:visible}.mapboxgl-ctrl-bottom-left>.mapboxgl-ctrl-attrib.mapboxgl-compact-show,.mapboxgl-ctrl-top-left>.mapboxgl-ctrl-attrib.mapboxgl-compact-show{padding:2px 8px 2px 28px;border-radius:12px}.mapboxgl-ctrl-attrib.mapboxgl-compact .mapboxgl-ctrl-attrib-inner{display:none}.mapboxgl-ctrl-attrib-button{display:none;cursor:pointer;position:absolute;background-image:url("data:image/svg+xml;charset=utf-8,%3Csvg width='24' height='24' viewBox='0 0 20 20' xmlns='http://www.w3.org/2000/svg' fill-rule='evenodd'%3E%3Cpath d='M4 10a6 6 0 1012 0 6 6 0 10-12 0m5-3a1 1 0 102 0 1 1 0 10-2 0m0 3a1 1 0 112 0v3a1 1 0 11-2 0'/%3E%3C/svg%3E");background-color:hsla(0,0%,100%,.5);width:24px;height:24px;-webkit-box-sizing:border-box;box-sizing:border-box;border-radius:12px;outline:none;top:0;right:0;border:0}.mapboxgl-ctrl-bottom-left .mapboxgl-ctrl-attrib-button,.mapboxgl-ctrl-top-left .mapboxgl-ctrl-attrib-button{left:0}.mapboxgl-ctrl-attrib.mapboxgl-compact-show .mapboxgl-ctrl-attrib-inner,.mapboxgl-ctrl-attrib.mapboxgl-compact .mapboxgl-ctrl-attrib-button{display:block}.mapboxgl-ctrl-attrib.mapboxgl-compact-show .mapboxgl-ctrl-attrib-button{background-color:rgba(0,0,0,.05)}.mapboxgl-ctrl-bottom-right>.mapboxgl-ctrl-attrib.mapboxgl-compact:after{bottom:0;right:0}.mapboxgl-ctrl-top-right>.mapboxgl-ctrl-attrib.mapboxgl-compact:after{top:0;right:0}.mapboxgl-ctrl-top-left>.mapboxgl-ctrl-attrib.mapboxgl-compact:after{top:0;left:0}.mapboxgl-ctrl-bottom-left>.mapboxgl-ctrl-attrib.mapboxgl-compact:after{bottom:0;left:0}}@media screen and (-ms-high-contrast:active){.mapboxgl-ctrl-attrib.mapboxgl-compact:after{background-image:url("data:image/svg+xml;charset=utf-8,%3Csvg width='24' height='24' viewBox='0 0 20 20' xmlns='http://www.w3.org/2000/svg' fill-rule='evenodd' fill='%23fff'%3E%3Cpath d='M4 10a6 6 0 1012 0 6 6 0 10-12 0m5-3a1 1 0 102 0 1 1 0 10-2 0m0 3a1 1 0 112 0v3a1 1 0 11-2 0'/%3E%3C/svg%3E")}}@media screen and (-ms-high-contrast:black-on-white){.mapboxgl-ctrl-attrib.mapboxgl-compact:after{background-image:url("data:image/svg+xml;charset=utf-8,%3Csvg width='24' height='24' viewBox='0 0 20 20' xmlns='http://www.w3.org/2000/svg' fill-rule='evenodd'%3E%3Cpath d='M4 10a6 6 0 1012 0 6 6 0 10-12 0m5-3a1 1 0 102 0 1 1 0 10-2 0m0 3a1 1 0 112 0v3a1 1 0 11-2 0'/%3E%3C/svg%3E")}}.mapboxgl-ctrl-attrib a{color:rgba(0,0,0,.75);text-decoration:none}.mapboxgl-ctrl-attrib a:hover{color:inherit;text-decoration:underline}.mapboxgl-ctrl-attrib .mapbox-improve-map{font-weight:700;margin-left:2px}.mapboxgl-attrib-empty{display:none}.mapboxgl-ctrl-scale{background-color:hsla(0,0%,100%,.75);font-size:10px;border:2px solid #333;border-top:#333;padding:0 5px;color:#333;-webkit-box-sizing:border-box;box-sizing:border-box}.mapboxgl-popup{position:absolute;top:0;left:0;display:-webkit-box;display:-ms-flexbox;display:flex;will-change:transform;pointer-events:none}.mapboxgl-popup-anchor-top,.mapboxgl-popup-anchor-top-left,.mapboxgl-popup-anchor-top-right{-webkit-box-orient:vertical;-webkit-box-direction:normal;-ms-flex-direction:column;flex-direction:column}.mapboxgl-popup-anchor-bottom,.mapboxgl-popup-anchor-bottom-left,.mapboxgl-popup-anchor-bottom-right{-webkit-box-orient:vertical;-webkit-box-direction:reverse;-ms-flex-direction:column-reverse;flex-direction:column-reverse}.mapboxgl-popup-anchor-left{-webkit-box-orient:horizontal;-webkit-box-direction:normal;-ms-flex-direction:row;flex-direction:row}.mapboxgl-popup-anchor-right{-webkit-box-orient:horizontal;-webkit-box-direction:reverse;-ms-flex-direction:row-reverse;flex-direction:row-reverse}.mapboxgl-popup-tip{width:0;height:0;border:10px solid transparent;z-index:1}.mapboxgl-popup-anchor-top .mapboxgl-popup-tip{-webkit-align-self:center;-ms-flex-item-align:center;align-self:center;border-top:none;border-bottom-color:#fff}.mapboxgl-popup-anchor-top-left .mapboxgl-popup-tip{-webkit-align-self:flex-start;-ms-flex-item-align:start;align-self:flex-start;border-top:none;border-left:none;border-bottom-color:#fff}.mapboxgl-popup-anchor-top-right .mapboxgl-popup-tip{-webkit-align-self:flex-end;-ms-flex-item-align:end;align-self:flex-end;border-top:none;border-right:none;border-bottom-color:#fff}.mapboxgl-popup-anchor-bottom .mapboxgl-popup-tip{-webkit-align-self:center;-ms-flex-item-align:center;align-self:center;border-bottom:none;border-top-color:#fff}.mapboxgl-popup-anchor-bottom-left .mapboxgl-popup-tip{-webkit-align-self:flex-start;-ms-flex-item-align:start;align-self:flex-start;border-bottom:none;border-left:none;border-top-color:#fff}.mapboxgl-popup-anchor-bottom-right .mapboxgl-popup-tip{-webkit-align-self:flex-end;-ms-flex-item-align:end;align-self:flex-end;border-bottom:none;border-right:none;border-top-color:#fff}.mapboxgl-popup-anchor-left .mapboxgl-popup-tip{-webkit-align-self:center;-ms-flex-item-align:center;align-self:center;border-left:none;border-right-color:#fff}.mapboxgl-popup-anchor-right .mapboxgl-popup-tip{-webkit-align-self:center;-ms-flex-item-align:center;align-self:center;border-right:none;border-left-color:#fff}.mapboxgl-popup-close-button{position:absolute;right:0;top:0;border:0;border-radius:0 3px 0 0;cursor:pointer;background-color:transparent}.mapboxgl-popup-close-button:hover{background-color:rgba(0,0,0,.05)}.mapboxgl-popup-content{position:relative;background:#fff;border-radius:3px;-webkit-box-shadow:0 1px 2px rgba(0,0,0,.1);box-shadow:0 1px 2px rgba(0,0,0,.1);padding:10px 10px 15px;pointer-events:auto}.mapboxgl-popup-anchor-top-left .mapboxgl-popup-content{border-top-left-radius:0}.mapboxgl-popup-anchor-top-right .mapboxgl-popup-content{border-top-right-radius:0}.mapboxgl-popup-anchor-bottom-left .mapboxgl-popup-content{border-bottom-left-radius:0}.mapboxgl-popup-anchor-bottom-right .mapboxgl-popup-content{border-bottom-right-radius:0}.mapboxgl-popup-track-pointer{display:none}.mapboxgl-popup-track-pointer *{pointer-events:none;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}.mapboxgl-map:hover .mapboxgl-popup-track-pointer{display:-webkit-box;display:-ms-flexbox;display:flex}.mapboxgl-map:active .mapboxgl-popup-track-pointer{display:none}.mapboxgl-marker{position:absolute;top:0;left:0;will-change:transform}.mapboxgl-user-location-dot,.mapboxgl-user-location-dot:before{background-color:#1da1f2;width:15px;height:15px;border-radius:50%}.mapboxgl-user-location-dot:before{content:"";position:absolute;-webkit-animation:mapboxgl-user-location-dot-pulse 2s infinite;animation:mapboxgl-user-location-dot-pulse 2s infinite}.mapboxgl-user-location-dot:after{border-radius:50%;border:2px solid #fff;content:"";height:19px;left:-2px;position:absolute;top:-2px;width:19px;-webkit-box-sizing:border-box;box-sizing:border-box;-webkit-box-shadow:0 0 3px rgba(0,0,0,.35);box-shadow:0 0 3px rgba(0,0,0,.35)}@-webkit-keyframes mapboxgl-user-location-dot-pulse{0%{-webkit-transform:scale(1);opacity:1}70%{-webkit-transform:scale(3);opacity:0}to{-webkit-transform:scale(1);opacity:0}}@keyframes mapboxgl-user-location-dot-pulse{0%{-webkit-transform:scale(1);transform:scale(1);opacity:1}70%{-webkit-transform:scale(3);transform:scale(3);opacity:0}to{-webkit-transform:scale(1);transform:scale(1);opacity:0}}.mapboxgl-user-location-dot-stale{background-color:#aaa}.mapboxgl-user-location-dot-stale:after{display:none}.mapboxgl-user-location-accuracy-circle{background-color:rgba(29,161,242,.2);width:1px;height:1px;border-radius:100%}.mapboxgl-crosshair,.mapboxgl-crosshair .mapboxgl-interactive,.mapboxgl-crosshair .mapboxgl-interactive:active{cursor:crosshair}.mapboxgl-boxzoom{position:absolute;top:0;left:0;width:0;height:0;background:#fff;border:2px dotted #202020;opacity:.5}@media print{.mapbox-improve-map{display:none}}`),window.mapboxgl=C1.a;var Cb={mapmove:"move",camerachange:"move",zoomchange:"zoom",dragging:"drag"},xx=0,Cx=12,Eb="pk.eyJ1IjoibHp4dWUiLCJhIjoiY2tvaWZuM2s4MWZuYjJ1dHI5ZGduYTlrdiJ9.DQCfMRbZzx0VSwecQ69McA",P1=(db=Object(Td.injectable)(),hb=Object(Td.inject)(pu.TYPES.MapConfig),pb=Object(Td.inject)(pu.TYPES.IGlobalConfigService),vb=Object(Td.inject)(pu.TYPES.ICoordinateSystemService),mb=Object(Td.inject)(pu.TYPES.IEventEmitter),db(gb=(Uy=function(){function a(){var i=this;Ta()(this,a),Er()(this,"version",Gg.MAPBOX),Er()(this,"map",void 0),Er()(this,"bgColor","rgba(0.0, 0.0, 0.0, 0.0)"),Cc()(this,"config",S1,this),Cc()(this,"configService",yb,this),Cc()(this,"coordinateSystemService",bb,this),Cc()(this,"eventEmitter",xb,this),Er()(this,"viewport",void 0),Er()(this,"markerContainer",void 0),Er()(this,"cameraChangedCallback",void 0),Er()(this,"$mapContainer",void 0),Er()(this,"handleCameraChanged",function(){var n=i.map.getCenter().wrap(),s=n.lat,h=n.lng;i.viewport.syncWithMapCamera({bearing:i.map.getBearing(),center:[h,s],viewportHeight:i.map.transform.height,pitch:i.map.getPitch(),viewportWidth:i.map.transform.width,zoom:i.map.getZoom(),cameraHeight:0});var _=i.config.offsetZoom,Y=_===void 0?Cx:_;i.viewport.getZoom()>Y?i.coordinateSystemService.setCoordinateSystem(pu.CoordinateSystem.LNGLAT_OFFSET):i.coordinateSystemService.setCoordinateSystem(pu.CoordinateSystem.LNGLAT),i.cameraChangedCallback(i.viewport)})}return hi()(a,[{key:"setBgColor",value:function(n){this.bgColor=n}},{key:"addMarkerContainer",value:function(){var n=this.map.getCanvasContainer();this.markerContainer=ug.a.create("div","l7-marker-container",n),this.markerContainer.setAttribute("tabindex","-1")}},{key:"getMarkerContainer",value:function(){return this.markerContainer}},{key:"on",value:function(n,s){pu.MapServiceEvent.indexOf(n)!==-1?this.eventEmitter.on(n,s):this.map.on(Cb[n]||n,s)}},{key:"off",value:function(n,s){this.map.off(Cb[n]||n,s)}},{key:"getContainer",value:function(){return this.map.getContainer()}},{key:"getMapCanvasContainer",value:function(){return this.map.getCanvasContainer()}},{key:"getSize",value:function(){var n=this.map.transform;return[n.width,n.height]}},{key:"getType",value:function(){return"mapbox"}},{key:"getZoom",value:function(){return this.map.getZoom()}},{key:"setZoom",value:function(n){return this.map.setZoom(n)}},{key:"getCenter",value:function(){return this.map.getCenter()}},{key:"setCenter",value:function(n){this.map.setCenter(n)}},{key:"getPitch",value:function(){return this.map.getPitch()}},{key:"getRotation",value:function(){return this.map.getBearing()}},{key:"getBounds",value:function(){return this.map.getBounds().toArray()}},{key:"getMinZoom",value:function(){return this.map.getMinZoom()}},{key:"getMaxZoom",value:function(){return this.map.getMaxZoom()}},{key:"setRotation",value:function(n){this.map.setBearing(n)}},{key:"zoomIn",value:function(n,s){this.map.zoomIn(n,s)}},{key:"zoomOut",value:function(n,s){this.map.zoomOut(n,s)}},{key:"setPitch",value:function(n){return this.map.setPitch(n)}},{key:"panTo",value:function(n){this.map.panTo(n)}},{key:"panBy",value:function(n,s){this.panTo([n,s])}},{key:"fitBounds",value:function(n,s){this.map.fitBounds(n,s)}},{key:"setMaxZoom",value:function(n){this.map.setMaxZoom(n)}},{key:"setMinZoom",value:function(n){this.map.setMinZoom(n)}},{key:"setMapStatus",value:function(n){n.doubleClickZoom===!0&&this.map.doubleClickZoom.enable(),n.doubleClickZoom===!1&&this.map.doubleClickZoom.disable(),n.dragEnable===!1&&this.map.dragPan.disable(),n.dragEnable===!0&&this.map.dragPan.enable(),n.rotateEnable===!1&&this.map.dragRotate.disable(),n.rotateEnable===!0&&this.map.dragRotate.enable(),n.keyboardEnable===!1&&this.map.keyboard.disable(),n.keyboardEnable===!0&&this.map.keyboard.enable(),n.zoomEnable===!1&&this.map.scrollZoom.disable(),n.zoomEnable===!0&&this.map.scrollZoom.enable()}},{key:"setZoomAndCenter",value:function(n,s){this.map.flyTo({zoom:n,center:s})}},{key:"setMapStyle",value:function(n){this.map.setStyle(this.getMapStyle(n))}},{key:"pixelToLngLat",value:function(n){return this.map.unproject(n)}},{key:"lngLatToPixel",value:function(n){return this.map.project(n)}},{key:"containerToLngLat",value:function(n){return this.map.unproject(n)}},{key:"lngLatToContainer",value:function(n){return this.map.project(n)}},{key:"lngLatToCoord",value:function(n){var s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{x:0,y:0,z:0},h=this.lngLatToMercator(n,0),_=h.x,Y=h.y;return[_-s.x,Y-s.y]}},{key:"lngLatToMercator",value:function(n,s){var h=window.mapboxgl.MercatorCoordinate.fromLngLat(n,s),_=h.x,Y=_===void 0?0:_,$=h.y,X=$===void 0?0:$,Ae=h.z,gt=Ae===void 0?0:Ae;return{x:Y,y:X,z:gt}}},{key:"getModelMatrix",value:function(n,s,h){var _=arguments.length>3&&arguments[3]!==void 0?arguments[3]:[1,1,1],Y=arguments.length>4&&arguments[4]!==void 0?arguments[4]:{x:0,y:0,z:0},$=window.mapboxgl.MercatorCoordinate.fromLngLat(n,s),X=$.meterInMercatorCoordinateUnits(),Ae=eo.b.create();return eo.b.translate(Ae,Ae,eo.d.fromValues($.x-Y.x,$.y-Y.y,$.z||0-Y.z)),eo.b.scale(Ae,Ae,eo.d.fromValues(X*_[0],-X*_[1],X*_[2])),eo.b.rotateX(Ae,Ae,h[0]),eo.b.rotateY(Ae,Ae,h[1]),eo.b.rotateZ(Ae,Ae,h[2]),Ae}},{key:"init",value:function(){var i=wd()(cp.a.mark(function s(){var h,_,Y,$,X,Ae,gt,Ct,Lt,Ut,or,Cr,sr;return cp.a.wrap(function(_r){for(;;)switch(_r.prev=_r.next){case 0:h=this.config,_=h.id,Y=_===void 0?"map":_,$=h.attributionControl,X=$===void 0?!1:$,Ae=h.style,gt=Ae===void 0?"light":Ae,Ct=h.token,Lt=Ct===void 0?Eb:Ct,Ut=h.rotation,or=Ut===void 0?0:Ut,Cr=h.mapInstance,sr=Ls()(h,["id","attributionControl","style","token","rotation","mapInstance"]),this.viewport=new L0,!Cr&&!window.mapboxgl&&console.error(this.configService.getSceneWarninfo("SDK")),Lt===Eb&&gt!=="blank"&&!window.mapboxgl.accessToken&&!Cr&&console.warn(this.configService.getSceneWarninfo("MapToken")),!Cr&&!window.mapboxgl.accessToken&&(window.mapboxgl.accessToken=Lt),Cr?(this.map=Cr,this.$mapContainer=this.map.getContainer()):(this.$mapContainer=this.creatAmapContainer(Y),this.map=new window.mapboxgl.Map(yx({container:this.$mapContainer,style:this.getMapStyle(gt),attributionControl:X,bearing:or},sr))),this.map.on("load",this.handleCameraChanged),this.map.on("move",this.handleCameraChanged),this.handleCameraChanged();case 9:case"end":return _r.stop()}},s,this)}));function n(){return i.apply(this,arguments)}return n}()},{key:"destroy",value:function(){var n,s;(n=this.$mapContainer)===null||n===void 0||(s=n.parentNode)===null||s===void 0||s.removeChild(this.$mapContainer),this.eventEmitter.removeAllListeners(),this.map&&(this.map.remove(),this.$mapContainer=null)}},{key:"emit",value:function(n){for(var s,h=arguments.length,_=new Array(h>1?h-1:0),Y=1;Y<h;Y++)_[Y-1]=arguments[Y];(s=this.eventEmitter).emit.apply(s,[n].concat(_))}},{key:"once",value:function(n){for(var s,h=arguments.length,_=new Array(h>1?h-1:0),Y=1;Y<h;Y++)_[Y-1]=arguments[Y];(s=this.eventEmitter).once.apply(s,[n].concat(_))}},{key:"getMapContainer",value:function(){return this.$mapContainer}},{key:"exportMap",value:function(n){var s=this.map.getCanvas(),h=n==="jpg"?s==null?void 0:s.toDataURL("image/jpeg"):s==null?void 0:s.toDataURL("image/png");return h}},{key:"onCameraChanged",value:function(n){this.cameraChangedCallback=n}},{key:"creatAmapContainer",value:function(n){var s=n;typeof n=="string"&&(s=document.getElementById(n));var h=document.createElement("div");return h.style.cssText+=`
      position: absolute;
      top: 0;
      height: 100%;
      width: 100%;
    `,h.id="l7_mapbox_div"+xx++,s.appendChild(h),h}},{key:"getMapStyle",value:function(n){return typeof n!="string"?n:fb[n]?fb[n]:n}}]),a}(),S1=Kf()(Uy.prototype,"config",[hb],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),yb=Kf()(Uy.prototype,"configService",[pb],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),bb=Kf()(Uy.prototype,"coordinateSystemService",[vb],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),xb=Kf()(Uy.prototype,"eventEmitter",[mb],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Uy))||gb);function Ex(a){var i=w1();return function(){var s=ks()(a),h;if(i){var _=ks()(this).constructor;h=Reflect.construct(s,arguments,_)}else h=s.apply(this,arguments);return Fs()(this,h)}}function w1(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(a){return!1}}function Sx(a,i){if(i||(i=document),!!i){var n=i.head||i.getElementsByTagName("head")[0];if(!n){n=i.createElement("head");var s=i.body||i.getElementsByTagName("body")[0];s?s.parentNode.insertBefore(n,s):i.documentElement.appendChild(n)}var h=i.createElement("style");return h.type="text/css",h.styleSheet?h.styleSheet.cssText=a:h.appendChild(i.createTextNode(a)),n.appendChild(h),h}}Sx(`.mapboxgl-ctrl-logo {
 display: none !important;
}
`);var T1=function(a){fo()(n,a);var i=Ex(n);function n(){return Ta()(this,n),i.apply(this,arguments)}return hi()(n,[{key:"getServiceConstructor",value:function(){return P1}}]),n}(xs);function Sb(a,i){var n=Object.keys(a);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(a);i&&(s=s.filter(function(h){return Object.getOwnPropertyDescriptor(a,h).enumerable})),n.push.apply(n,s)}return n}function D0(a){for(var i=1;i<arguments.length;i++){var n=arguments[i]!=null?arguments[i]:{};i%2?Sb(Object(n),!0).forEach(function(s){Ob(a,s,n[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(a,Object.getOwnPropertyDescriptors(n)):Sb(Object(n)).forEach(function(s){Object.defineProperty(a,s,Object.getOwnPropertyDescriptor(n,s))})}return a}function Ob(a,i,n){return i in a?Object.defineProperty(a,i,{value:n,enumerable:!0,configurable:!0,writable:!0}):a[i]=n,a}function Ox(a,i){return Px(a)||Tb(a,i)||wb(a,i)||Pb()}function Pb(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function wb(a,i){if(!!a){if(typeof a=="string")return A1(a,i);var n=Object.prototype.toString.call(a).slice(8,-1);if(n==="Object"&&a.constructor&&(n=a.constructor.name),n==="Map"||n==="Set")return Array.from(a);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return A1(a,i)}}function A1(a,i){(i==null||i>a.length)&&(i=a.length);for(var n=0,s=new Array(i);n<i;n++)s[n]=a[n];return s}function Tb(a,i){var n=a==null?null:typeof Symbol!="undefined"&&a[Symbol.iterator]||a["@@iterator"];if(n!=null){var s=[],h=!0,_=!1,Y,$;try{for(n=n.call(a);!(h=(Y=n.next()).done)&&(s.push(Y.value),!(i&&s.length===i));h=!0);}catch(X){_=!0,$=X}finally{try{!h&&n.return!=null&&n.return()}finally{if(_)throw $}}return s}}function Px(a){if(Array.isArray(a))return a}var wx=Ce.a.memo(function(a){var i=a.style,n=a.className,s=a.map,h=a.option,_=a.onSceneLoaded,Y=Object(I.createRef)(),$=Object(I.useState)(),X=Ox($,2),Ae=X[0],gt=X[1];return Object(I.useEffect)(function(){var Ct=new $i.Scene(D0(D0({id:Y.current},h),{},{map:new T1(s)}));return Ct.on("loaded",function(){gt(Ct),_&&_(Ct)}),function(){Ct.destroy()}},[]),Object(I.useEffect)(function(){Ae&&s.style&&Ae.setMapStyle(s.style)},[JSON.stringify(s.style)]),Object(I.useEffect)(function(){Ae&&s.zoom&&Ae.setZoom(s.zoom)},[s.zoom]),Object(I.useEffect)(function(){Ae&&s.center&&Ae.setCenter(s.center)},[JSON.stringify(s.center)]),Object(I.useEffect)(function(){Ae&&s.pitch!==void 0&&Ae.setPitch(s.pitch||0)},[s.pitch]),Object(I.useEffect)(function(){Ae&&s.rotation&&Ae.setRotation(s.rotation)},[s.rotation]),Ce.a.createElement(jo.Provider,{value:Ae},Object(I.createElement)("div",{ref:Y,style:i,className:n},Ae&&a.children))}),OC=wx,Tx=r("RIqP"),F0=r.n(Tx),Yg={dark:"amap://styles/dark",light:"amap://styles/light",normal:"amap://styles/normal",blank:"amap://styles/1a91e7ec761981d85b35f3099ff781a3"},Ab=function(){function a(){Ta()(this,a),Er()(this,"projectionMatrix",eo.b.create()),Er()(this,"viewMatrix",eo.b.create()),Er()(this,"viewProjectionMatrix",eo.b.create()),Er()(this,"ViewProjectionMatrixUncentered",eo.b.create()),Er()(this,"viewUncenteredMatrix",eo.b.create()),Er()(this,"zoom",void 0),Er()(this,"center",void 0)}return hi()(a,[{key:"syncWithMapCamera",value:function(n){var s=n.zoom,h=s===void 0?1:s,_=n.center,Y=_===void 0?[0,0]:_,$=n.offsetOrigin,X=$===void 0?[0,0]:$,Ae=n.cameraPosition,gt=Ae===void 0?[0,0,0]:Ae,Ct=n.up,Lt=Ct===void 0?[0,1,0]:Ct,Ut=n.lookAt,or=Ut===void 0?[0,0,0]:Ut,Cr=n.aspect,sr=Cr===void 0?1:Cr,fr=n.near,_r=fr===void 0?.1:fr,Qr=n.far,bn=Qr===void 0?1e3:Qr,Vn=n.fov,Xn=Vn===void 0?45:Vn;this.zoom=h,this.center=Y,eo.b.perspective(this.projectionMatrix,Xn/180*Math.PI,sr,_r,bn);var Hn=eo.d.fromValues.apply(eo.d,F0()(gt)),yn=eo.d.fromValues.apply(eo.d,F0()(or)),xn=eo.d.fromValues.apply(eo.d,F0()(Lt));eo.b.lookAt(this.viewMatrix,Hn,yn,xn),this.viewUncenteredMatrix=eo.b.clone(this.viewMatrix),eo.b.translate(this.viewMatrix,this.viewMatrix,eo.d.fromValues(-X[0],X[1],0)),eo.b.multiply(this.viewProjectionMatrix,this.projectionMatrix,this.viewMatrix),eo.b.multiply(this.ViewProjectionMatrixUncentered,this.projectionMatrix,this.viewMatrix)}},{key:"getZoom",value:function(){return this.zoom}},{key:"getZoomScale",value:function(){return 1048576}},{key:"getCenter",value:function(){var n=xf()(this.center,2),s=n[0],h=n[1];return[s,h]}},{key:"getProjectionMatrix",value:function(){return this.projectionMatrix}},{key:"getModelMatrix",value:function(){return[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1]}},{key:"getViewMatrix",value:function(){return this.viewMatrix}},{key:"getViewMatrixUncentered",value:function(){return this.viewUncenteredMatrix}},{key:"getViewProjectionMatrix",value:function(){return this.viewProjectionMatrix}},{key:"getViewProjectionMatrixUncentered",value:function(){return this.ViewProjectionMatrixUncentered}},{key:"getFocalDistance",value:function(){return 1}},{key:"projectFlat",value:function(n,s){var h=85.0511287798,_=Math.max(Math.min(h,n[1]),-h),Y=256<<20,$=Math.PI/180,X=n[0]*$,Ae=_*$;Ae=Math.log(Math.tan(Math.PI/4+Ae/2));var gt=.5/Math.PI,Ct=.5,Lt=-.5/Math.PI;return $=.5,X=Y*(gt*X+Ct)-215440491,Ae=-(Y*(Lt*Ae+$)-106744817),[X,Ae]}}]),a}(),Mb,M1,_1,l0,_b,I1,Vy,Ib,R1,L1,Rb;function Lb(a,i){var n=Object.keys(a);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(a);i&&(s=s.filter(function(h){return Object.getOwnPropertyDescriptor(a,h).enumerable})),n.push.apply(n,s)}return n}function Ax(a){for(var i=1;i<arguments.length;i++){var n=arguments[i]!=null?arguments[i]:{};i%2?Lb(Object(n),!0).forEach(function(s){Er()(a,s,n[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(a,Object.getOwnPropertyDescriptors(n)):Lb(Object(n)).forEach(function(s){Object.defineProperty(a,s,Object.getOwnPropertyDescriptor(n,s))})}return a}function Mx(a,i){if(i||(i=document),!!i){var n=i.head||i.getElementsByTagName("head")[0];if(!n){n=i.createElement("head");var s=i.body||i.getElementsByTagName("body")[0];s?s.parentNode.insertBefore(n,s):i.documentElement.appendChild(n)}var h=i.createElement("style");return h.type="text/css",h.styleSheet?h.styleSheet.cssText=a:h.appendChild(i.createTextNode(a)),n.appendChild(h),h}}Mx(`.amap-logo{
 display: none !important;
}
`);var _x=0;window.forceWebGL=!0;var D1="ff533602d57df6f8ab3b0fea226ae52f",Ix="2.0",Rx="amap-script",F1=!1,u0=[],Lx=(Mb=Object(Td.injectable)(),M1=Object(Td.inject)(pu.TYPES.IGlobalConfigService),_1=Object(Td.inject)(pu.TYPES.MapConfig),l0=Object(Td.inject)(pu.TYPES.ICoordinateSystemService),_b=Object(Td.inject)(pu.TYPES.IEventEmitter),Mb(I1=(Vy=function(){function a(){var i=this;Ta()(this,a),Er()(this,"version",Gg["GAODE2.x"]),Er()(this,"map",void 0),Er()(this,"sceneCenter",void 0),Er()(this,"sceneCenterMKT",void 0),Er()(this,"bgColor","rgba(0, 0, 0, 0)"),Cc()(this,"configService",Ib,this),Cc()(this,"config",R1,this),Cc()(this,"coordinateSystemService",L1,this),Cc()(this,"eventEmitter",Rb,this),Er()(this,"markerContainer",void 0),Er()(this,"$mapContainer",void 0),Er()(this,"viewport",void 0),Er()(this,"cameraChangedCallback",void 0),Er()(this,"handleViewChanged",function(n){var s=i.map.customCoords.getCameraParams(),h=s.fov,_=s.near,Y=s.far,$=s.aspect,X=s.position,Ae=s.lookAt,gt=s.up,Ct=n.zoom,Lt=i.map.customCoords.getCenter();i.cameraChangedCallback&&(i.viewport.syncWithMapCamera({aspect:$,far:Y,fov:h,cameraPosition:X,lookAt:Ae,up:gt,near:_,zoom:Ct-1,center:Lt,offsetOrigin:[X[0],X[1]]}),i.coordinateSystemService.setCoordinateSystem(pu.CoordinateSystem.P20_2),i.cameraChangedCallback(i.viewport))})}return hi()(a,[{key:"setBgColor",value:function(n){this.bgColor=n}},{key:"setCustomCoordCenter",value:function(n){var s;this.sceneCenter=n,this.sceneCenterMKT=(s=this.map.getProjection()).project.apply(s,F0()(this.sceneCenter))}},{key:"getCustomCoordCenter",value:function(){return this.sceneCenterMKT}},{key:"lngLatToCoord",value:function(n){var s=this.map.getProjection(),h=s.project;return this.sceneCenter||(this.map.customCoords.setCenter(n),this.setCustomCoordCenter(n)),this._sub(h(n[0],n[1]),this.sceneCenterMKT)}},{key:"lngLatToCoords",value:function(n){var s=this;return n.map(function(h){return typeof h[0]=="number"?s.lngLatToCoord(h):h.map(function(_){return s.lngLatToCoord(_)})})}},{key:"addMarkerContainer",value:function(){if(!!this.map){var n=this.map.getContainer();n!==null&&(this.markerContainer=ug.a.create("div","l7-marker-container2",n))}}},{key:"getMarkerContainer",value:function(){return this.markerContainer}},{key:"on",value:function(n,s){pu.MapServiceEvent.indexOf(n)!==-1?this.eventEmitter.on(n,s):this.map.on(n,s)}},{key:"off",value:function(n,s){pu.MapServiceEvent.indexOf(n)!==-1?this.eventEmitter.off(n,s):this.map.off(n,s)}},{key:"getContainer",value:function(){return this.map.getContainer()}},{key:"getMapCanvasContainer",value:function(){var n;return(n=this.map.getContainer())===null||n===void 0?void 0:n.getElementsByClassName("amap-maps")[0]}},{key:"getSize",value:function(){var n=this.map.getSize();return[n.getWidth(),n.getHeight()]}},{key:"getType",value:function(){return"amap2"}},{key:"getZoom",value:function(){return this.map.getZoom()}},{key:"setZoom",value:function(n){return this.map.setZoom(n)}},{key:"getCenter",value:function(n){if(n!=null&&n.padding){var s=this.getCenter(),h=this.getSize(),_=xf()(h,2),Y=_[0],$=_[1],X=Ly(n.padding),Ae=this.lngLatToPixel([s.lng,s.lat]),gt=[(X.right-X.left)/2,(X.bottom-X.top)/2],Ct=this.pixelToLngLat([Ae.x-gt[0],Ae.y-gt[1]]);return Ct}var Lt=this.map.getCenter();return{lng:Lt.getLng(),lat:Lt.getLat()}}},{key:"setCenter",value:function(n,s){if(s!=null&&s.padding){var h=Ly(s.padding),_=this.lngLatToPixel(n),Y=[(h.right-h.left)/2,(h.bottom-h.top)/2],$=this.pixelToLngLat([_.x+Y[0],_.y+Y[1]]);this.map.setCenter([$.lng,$.lat])}else this.map.setCenter(n)}},{key:"getPitch",value:function(){return this.map.getPitch()}},{key:"getRotation",value:function(){return 360-this.map.getRotation()}},{key:"getBounds",value:function(){var n=this.map.getBounds(),s=n.getNorthEast(),h=n.getSouthWest(),_=this.getCenter(),Y=_.lng>s.getLng()||_.lng<h.getLng()?180-s.getLng():s.getLng(),$=_.lng<h.getLng()?h.getLng()-180:h.getLng();return[[$,h.getLat()],[Y,s.getLat()]]}},{key:"getMinZoom",value:function(){var n=this.map.getZooms();return n[0]-1}},{key:"getMaxZoom",value:function(){var n=this.map.getZooms();return n[1]-1}},{key:"setRotation",value:function(n){return this.map.setRotation(n)}},{key:"setPitch",value:function(n){return this.map.setPitch(n)}},{key:"zoomIn",value:function(){this.map.zoomIn()}},{key:"zoomOut",value:function(){this.map.zoomOut()}},{key:"panTo",value:function(n){this.map.panTo(n)}},{key:"panBy",value:function(){var n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;this.map.panBy(n,s)}},{key:"fitBounds",value:function(n){this.map.setBounds(new AMap.Bounds([n[0][0],n[0][1],n[1][0],n[1][1]]))}},{key:"setZoomAndCenter",value:function(n,s){this.map.setZoomAndCenter(n,s)}},{key:"setMapStyle",value:function(n){this.map.setMapStyle(this.getMapStyle(n))}},{key:"setMapStatus",value:function(n){this.map.setStatus(n)}},{key:"pixelToLngLat",value:function(n){var s=this.map.pixelToLngLat(new AMap.Pixel(n[0],n[1]));return{lng:s.getLng(),lat:s.getLat()}}},{key:"lngLatToPixel",value:function(n){var s=this.map.lnglatToPixel(new AMap.LngLat(n[0],n[1]));return{x:s.getX(),y:s.getY()}}},{key:"containerToLngLat",value:function(n){var s=new AMap.Pixel(n[0],n[1]),h=this.map.containerToLngLat(s);return{lng:h==null?void 0:h.getLng(),lat:h==null?void 0:h.getLat()}}},{key:"lngLatToContainer",value:function(n){var s=new AMap.LngLat(n[0],n[1]),h=this.map.lngLatToContainer(s);return{x:h.getX(),y:h.getY()}}},{key:"lngLatToMercator",value:function(n,s){return{x:0,y:0,z:0}}},{key:"getModelMatrix",value:function(n,s,h){var _=arguments.length>3&&arguments[3]!==void 0?arguments[3]:[1,1,1],Y=arguments.length>4&&arguments[4]!==void 0?arguments[4]:{x:0,y:0,z:0},$=this.map.customCoords.lngLatToCoord(n),X=eo.b.create();return eo.b.translate(X,X,eo.d.fromValues($[0],$[1],s)),eo.b.scale(X,X,eo.d.fromValues(_[0],_[1],_[2])),eo.b.rotateX(X,X,h[0]),eo.b.rotateY(X,X,h[1]),eo.b.rotateZ(X,X,h[2]),X}},{key:"init",value:function(){var i=wd()(cp.a.mark(function s(){var h=this,_,Y,$,X,Ae,gt,Ct,Lt,Ut,or,Cr,sr,fr,_r,Qr,bn;return cp.a.wrap(function(Xn){for(;;)switch(Xn.prev=Xn.next){case 0:return _=this.config,Y=_.id,$=_.style,X=$===void 0?"light":$,Ae=_.minZoom,gt=Ae===void 0?0:Ae,Ct=_.maxZoom,Lt=Ct===void 0?18:Ct,Ut=_.token,or=Ut===void 0?D1:Ut,Cr=_.mapInstance,sr=_.plugin,fr=sr===void 0?[]:sr,_r=_.version,Qr=_r===void 0?Ix:_r,bn=Ls()(_,["id","style","minZoom","maxZoom","token","mapInstance","plugin","version"]),Xn.next=3,new Promise(function(Hn){var yn=function(){if(Cr){var Wn;h.map=Cr,h.$mapContainer=h.map.getContainer();var Un=h.map.getCenter();(Wn=h.map.customCoords)===null||Wn===void 0||Wn.setCenter([Un.lng,Un.lat]),h.setCustomCoordCenter([Un.lng,Un.lat]),setTimeout(function(){h.map.on("viewchange",h.handleViewChanged),Hn()},30)}else{h.$mapContainer=h.creatAmapContainer(Y);var pa=new AMap.Map(h.$mapContainer,Ax({mapStyle:h.getMapStyle(X),zooms:[gt,Lt],viewMode:"3D"},bn));h.map=pa;var Zn=pa.getCenter();pa.customCoords.setCenter([Zn.lng,Zn.lat]),h.setCustomCoordCenter([Zn.lng,Zn.lat]),pa.on("viewchange",h.handleViewChanged),setTimeout(function(){Hn()},10)}};h.viewport=new Ab,!F1&&!Cr?(or===D1&&console.warn(h.configService.getSceneWarninfo("MapToken")),F1=!0,fr.push("Map3D"),C0.a.load({key:or,version:Qr,plugins:fr}).then(function(xn){yn(),u0.length&&(u0.forEach(function(Wn){return Wn()}),u0=[])}).catch(function(xn){throw new Error(xn)})):F1&&window.AMap||Cr?yn():u0.push(yn)});case 3:case"end":return Xn.stop()}},s,this)}));function n(){return i.apply(this,arguments)}return n}()},{key:"exportMap",value:function(n){var s,h=(s=this.getContainer())===null||s===void 0?void 0:s.getElementsByClassName("amap-layer")[0],_=n==="jpg"?h==null?void 0:h.toDataURL("image/jpeg"):h==null?void 0:h.toDataURL("image/png");return _}},{key:"emit",value:function(n){for(var s,h=arguments.length,_=new Array(h>1?h-1:0),Y=1;Y<h;Y++)_[Y-1]=arguments[Y];(s=this.eventEmitter).emit.apply(s,[n].concat(_))}},{key:"once",value:function(n){for(var s,h=arguments.length,_=new Array(h>1?h-1:0),Y=1;Y<h;Y++)_[Y-1]=arguments[Y];(s=this.eventEmitter).once.apply(s,[n].concat(_))}},{key:"destroy",value:function(){var n,s;this.map.destroy(),(n=this.$mapContainer)===null||n===void 0||(s=n.parentNode)===null||s===void 0||s.removeChild(this.$mapContainer),delete window.initAMap;var h=document.getElementById(Rx);h&&document.head.removeChild(h)}},{key:"getMapContainer",value:function(){return this.$mapContainer}},{key:"onCameraChanged",value:function(n){this.cameraChangedCallback=n}},{key:"initViewPort",value:function(){var n,s=(n=this.map.customCoords)===null||n===void 0?void 0:n.getCameraParams(),h=s.fov,_=s.near,Y=s.far,$=s.aspect,X=s.position,Ae=s.lookAt,gt=s.up,Ct=this.map.customCoords.getCenter(),Lt=this.map.getZoom();this.cameraChangedCallback&&(this.viewport.syncWithMapCamera({aspect:$,far:Y,fov:h,cameraPosition:X,lookAt:Ae,near:_,up:gt,zoom:Lt-1,center:Ct,offsetOrigin:[X[0],X[1]]}),this.coordinateSystemService.setCoordinateSystem(pu.CoordinateSystem.P20_2),this.cameraChangedCallback(this.viewport))}},{key:"_sub",value:function(n,s){var h=[0,0];return h[0]=n[0]-s[0],h[1]=n[1]-s[1],h}},{key:"getMapStyle",value:function(n){return Yg[n]?Yg[n]:n}},{key:"creatAmapContainer",value:function(n){var s=n;typeof n=="string"&&(s=document.getElementById(n));var h=document.createElement("div");return h.style.cssText+=`
      position: absolute;
      top: 0;
      height: 100%;
      width: 100%;
    `,h.id="l7_amap_div"+_x++,s.appendChild(h),h}}]),a}(),Ib=Kf()(Vy.prototype,"configService",[M1],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),R1=Kf()(Vy.prototype,"config",[_1],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),L1=Kf()(Vy.prototype,"coordinateSystemService",[l0],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Rb=Kf()(Vy.prototype,"eventEmitter",[_b],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Vy))||I1);function Dx(a){var i=Fx();return function(){var s=ks()(a),h;if(i){var _=ks()(this).constructor;h=Reflect.construct(s,arguments,_)}else h=s.apply(this,arguments);return Fs()(this,h)}}function Fx(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(a){return!1}}var Nx=function(a){fo()(n,a);var i=Dx(n);function n(){return Ta()(this,n),i.apply(this,arguments)}return hi()(n,[{key:"getServiceConstructor",value:function(){return Lx}}]),n}(xs);function Db(a,i){var n=Object.keys(a);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(a);i&&(s=s.filter(function(h){return Object.getOwnPropertyDescriptor(a,h).enumerable})),n.push.apply(n,s)}return n}function N0(a){for(var i=1;i<arguments.length;i++){var n=arguments[i]!=null?arguments[i]:{};i%2?Db(Object(n),!0).forEach(function(s){jx(a,s,n[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(a,Object.getOwnPropertyDescriptors(n)):Db(Object(n)).forEach(function(s){Object.defineProperty(a,s,Object.getOwnPropertyDescriptor(n,s))})}return a}function jx(a,i,n){return i in a?Object.defineProperty(a,i,{value:n,enumerable:!0,configurable:!0,writable:!0}):a[i]=n,a}function N1(a,i){return Ux(a)||zx(a,i)||Bx(a,i)||kx()}function kx(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Bx(a,i){if(!!a){if(typeof a=="string")return Fb(a,i);var n=Object.prototype.toString.call(a).slice(8,-1);if(n==="Object"&&a.constructor&&(n=a.constructor.name),n==="Map"||n==="Set")return Array.from(a);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Fb(a,i)}}function Fb(a,i){(i==null||i>a.length)&&(i=a.length);for(var n=0,s=new Array(i);n<i;n++)s[n]=a[n];return s}function zx(a,i){var n=a==null?null:typeof Symbol!="undefined"&&a[Symbol.iterator]||a["@@iterator"];if(n!=null){var s=[],h=!0,_=!1,Y,$;try{for(n=n.call(a);!(h=(Y=n.next()).done)&&(s.push(Y.value),!(i&&s.length===i));h=!0);}catch(X){_=!0,$=X}finally{try{!h&&n.return!=null&&n.return()}finally{if(_)throw $}}return s}}function Ux(a){if(Array.isArray(a))return a}var Vx=Ce.a.memo(function(a){var i=a.style,n=a.className,s=a.map,h=a.option,_=a.onSceneLoaded,Y=a.children,$=Object(I.useRef)(null),X=Object(I.useState)(),Ae=N1(X,2),gt=Ae[0],Ct=Ae[1];return Object(I.useEffect)(function(){var Lt=new $i.Scene(N0(N0({id:$.current},h),{},{map:new Nx(s)}));return Lt.on("loaded",function(){Ct(Lt),_&&_(Lt)}),function(){Lt.destroy()}},[]),Object(I.useEffect)(function(){gt&&s.style&&gt.setMapStyle(s.style)},[JSON.stringify(s.style)]),Object(I.useEffect)(function(){gt&&s.zoom&&gt.setZoom(s.zoom)},[s.zoom]),Object(I.useEffect)(function(){gt&&s.center&&gt.setCenter(s.center)},[JSON.stringify(s.center)]),Object(I.useEffect)(function(){gt&&s.pitch&&gt.setPitch(s.pitch)},[s.pitch]),Object(I.useEffect)(function(){gt&&s.rotation&&gt.setRotation(s.rotation)},[s.rotation]),Ce.a.createElement(jo.Provider,{value:gt},Ce.a.createElement("div",{ref:$,className:n,style:i},gt&&Y))}),PC=Vx,Hx=r("PJYZ"),Lo=r.n(Hx),Nb=r("QkVN"),Zf=r.n(Nb),jb=r("uhBA"),Wx=r("cDf5"),Gx=r.n(Wx),Kx=r("zvhG"),Zx=r.n(Kx);function kb(a,i){var n=typeof Symbol!="undefined"&&a[Symbol.iterator]||a["@@iterator"];if(!n){if(Array.isArray(a)||(n=Yx(a))||i&&a&&typeof a.length=="number"){n&&(a=n);var s=0,h=function(){};return{s:h,n:function(){return s>=a.length?{done:!0}:{done:!1,value:a[s++]}},e:function(Ae){throw Ae},f:h}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var _=!0,Y=!1,$;return{s:function(){n=n.call(a)},n:function(){var Ae=n.next();return _=Ae.done,Ae},e:function(Ae){Y=!0,$=Ae},f:function(){try{!_&&n.return!=null&&n.return()}finally{if(Y)throw $}}}}function Yx(a,i){if(!!a){if(typeof a=="string")return Bb(a,i);var n=Object.prototype.toString.call(a).slice(8,-1);if(n==="Object"&&a.constructor&&(n=a.constructor.name),n==="Map"||n==="Set")return Array.from(a);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Bb(a,i)}}function Bb(a,i){(i==null||i>a.length)&&(i=a.length);for(var n=0,s=new Array(i);n<i;n++)s[n]=a[n];return s}var Hy;function j1(a,i,n){var s=n-i,h=((a-i)%s+s)%s+i;return h===i?n:h}function fg(a,i,n){return Math.min(n,Math.max(i,a))}function Mm(a,i,n){return a*(1-n)+i*n}function k1(a,i,n,s){var h=new Zx.a(a,i,n,s);return function(_){return h.solve(_)}}var B1=k1(.25,.1,.25,1);function zb(){return window.matchMedia?(Hy==null&&(Hy=window.matchMedia("(prefers-reduced-motion: reduce)")),Hy.matches):!1}function $x(a,i){var n={},s=kb(i),h;try{for(s.s();!(h=s.n()).done;){var _=h.value;_ in a&&(n[_]=a[_])}}catch(Y){s.e(Y)}finally{s.f()}return n}var $g=window.performance&&window.performance.now?window.performance.now.bind(window.performance):Date.now.bind(Date),Xx=window.requestAnimationFrame||window.mozRequestAnimationFrame||window.webkitRequestAnimationFrame||window.msRequestAnimationFrame,Qx=window.cancelAnimationFrame||window.mozCancelAnimationFrame||window.webkitCancelAnimationFrame||window.msCancelAnimationFrame;function j0(a){var i=Xx(a);return{cancel:function(){return Qx(i)}}}var Ub=63710088e-1,Df=function(){function a(i,n){if(Ta()(this,a),Er()(this,"lng",void 0),Er()(this,"lat",void 0),isNaN(i)||isNaN(n))throw new Error("Invalid LngLat object: (".concat(i,", ").concat(n,")"));if(this.lng=+i,this.lat=+n,this.lat>90||this.lat<-90)throw new Error("Invalid LngLat latitude value: must be between -90 and 90")}return hi()(a,[{key:"wrap",value:function(){return new a(j1(this.lng,-180,180),this.lat)}},{key:"toArray",value:function(){return[this.lng,this.lat]}},{key:"toString",value:function(){return"LngLat(".concat(this.lng,", ").concat(this.lat,")")}},{key:"distanceTo",value:function(n){var s=Math.PI/180,h=this.lat*s,_=n.lat*s,Y=Math.sin(h)*Math.sin(_)+Math.cos(h)*Math.cos(_)*Math.cos((n.lng-this.lng)*s),$=Ub*Math.acos(Math.min(Y,1));return $}}],[{key:"convert",value:function(n){if(n instanceof a)return n;if(Array.isArray(n)&&(n.length===2||n.length===3))return new a(Number(n[0]),Number(n[1]));if(!Array.isArray(n)&&Gx()(n)==="object"&&n!==null){var s="lng"in n?n.lng:n.lon;return new a(Number(s),Number(n.lat))}throw new Error("`LngLatLike` argument must be specified as a LngLat instance, an object {lng: <lng>, lat: <lat>}, an object {lon: <lng>, lat: <lat>}, or an array of [<lng>, <lat>]")}}]),a}(),c0=function(){function a(i,n){Ta()(this,a),Er()(this,"ne",void 0),Er()(this,"sw",void 0),i&&(n?this.setSouthWest(i).setNorthEast(n):i.length===4?this.setSouthWest([i[0],i[1]]).setNorthEast([i[2],i[3]]):this.setSouthWest(i[0]).setNorthEast(i[1]))}return hi()(a,[{key:"setNorthEast",value:function(n){return this.ne=n instanceof Df?new Df(n.lng,n.lat):Df.convert(n),this}},{key:"setSouthWest",value:function(n){return this.sw=n instanceof Df?new Df(n.lng,n.lat):Df.convert(n),this}},{key:"extend",value:function(n){var s=this.sw,h=this.ne,_,Y;if(n instanceof Df)_=n,Y=n;else if(n instanceof a){if(_=n.sw,Y=n.ne,!_||!Y)return this}else{if(Array.isArray(n))if(n.length===4||n.every(Array.isArray)){var $=n;return this.extend(a.convert($))}else{var X=n;return this.extend(Df.convert(X))}return this}return!s&&!h?(this.sw=new Df(_.lng,_.lat),this.ne=new Df(Y.lng,Y.lat)):(s.lng=Math.min(_.lng,s.lng),s.lat=Math.min(_.lat,s.lat),h.lng=Math.max(Y.lng,h.lng),h.lat=Math.max(Y.lat,h.lat)),this}},{key:"getCenter",value:function(){return new Df((this.sw.lng+this.ne.lng)/2,(this.sw.lat+this.ne.lat)/2)}},{key:"getSouthWest",value:function(){return this.sw}},{key:"getNorthEast",value:function(){return this.ne}},{key:"getNorthWest",value:function(){return new Df(this.getWest(),this.getNorth())}},{key:"getSouthEast",value:function(){return new Df(this.getEast(),this.getSouth())}},{key:"getWest",value:function(){return this.sw.lng}},{key:"getSouth",value:function(){return this.sw.lat}},{key:"getEast",value:function(){return this.ne.lng}},{key:"getNorth",value:function(){return this.ne.lat}},{key:"toArray",value:function(){return[this.sw.toArray(),this.ne.toArray()]}},{key:"toString",value:function(){return"LngLatBounds(".concat(this.sw.toString(),", ").concat(this.ne.toString(),")")}},{key:"isEmpty",value:function(){return!(this.sw&&this.ne)}},{key:"contains",value:function(n){var s=Df.convert(n),h=s.lng,_=s.lat,Y=this.sw.lat<=_&&_<=this.ne.lat,$=this.sw.lng<=h&&h<=this.ne.lng;return this.sw.lng>this.ne.lng&&($=this.sw.lng>=h&&h>=this.ne.lng),Y&&$}}],[{key:"convert",value:function(n){return n instanceof a?n:new a(n)}}]),a}(),Ku=function(){function a(i,n){Ta()(this,a),Er()(this,"x",void 0),Er()(this,"y",void 0),this.x=i,this.y=n}return hi()(a,[{key:"clone",value:function(){return new a(this.x,this.y)}},{key:"_add",value:function(n){return this.x+=n.x,this.y+=n.y,this}},{key:"add",value:function(n){return this.clone()._add(n)}},{key:"_sub",value:function(n){return this.x-=n.x,this.y-=n.y,this}},{key:"sub",value:function(n){return this.clone()._sub(n)}},{key:"_multByPoint",value:function(n){return this.x*=n.x,this.y*=n.y,this}},{key:"multByPoint",value:function(n){return this.clone()._multByPoint(n)}},{key:"_divByPoint",value:function(n){return this.x/=n.x,this.y/=n.y,this}},{key:"divByPoint",value:function(n){return this.clone()._divByPoint(n)}},{key:"_mult",value:function(n){return this.x*=n,this.y*=n,this}},{key:"mult",value:function(n){return this.clone()._mult(n)}},{key:"_div",value:function(n){return this.x/=n,this.y/=n,this}},{key:"div",value:function(n){return this.clone()._div(n)}},{key:"_rotate",value:function(n){var s=Math.cos(n),h=Math.sin(n),_=s*this.x-h*this.y,Y=h*this.x+s*this.y;return this.x=_,this.y=Y,this}},{key:"rotate",value:function(n){return this.clone()._rotate(n)}},{key:"_rotateAround",value:function(n,s){var h=Math.cos(n),_=Math.sin(n),Y=s.x+h*(this.x-s.x)-_*(this.y-s.y),$=s.y+_*(this.x-s.x)+h*(this.y-s.y);return this.x=Y,this.y=$,this}},{key:"roateAround",value:function(n,s){return this.clone()._rotateAround(n,s)}},{key:"_matMult",value:function(n){var s=n[0]*this.x+n[1]*this.y,h=n[2]*this.x+n[3]*this.y;return this.x=s,this.y=h,this}},{key:"matMult",value:function(n){return this.clone()._matMult(n)}},{key:"_unit",value:function(){return this.div(this.mag()),this}},{key:"unit",value:function(){return this.clone()._unit()}},{key:"_perp",value:function(){var n=this.y;return this.y=this.x,this.x=-n,this}},{key:"perp",value:function(){return this.clone()._perp()}},{key:"_round",value:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this}},{key:"round",value:function(){return this.clone()._round()}},{key:"mag",value:function(){return Math.sqrt(this.x*this.x+this.y*this.y)}},{key:"equals",value:function(n){return this.x===n.x&&this.y===n.y}},{key:"dist",value:function(n){return Math.sqrt(this.distSqr(n))}},{key:"distSqr",value:function(n){var s=n.x-this.x,h=n.y-this.y;return s*s+h*h}},{key:"angle",value:function(){return Math.atan2(this.y,this.x)}},{key:"angleTo",value:function(n){return Math.atan2(this.y-n.y,this.x-n.x)}},{key:"angleWith",value:function(n){return this.angleWithSep(n.x,n.y)}},{key:"angleWithSep",value:function(n,s){return Math.atan2(this.x*s-this.y*n,this.x*n+this.y*s)}}],[{key:"convert",value:function(n){return n instanceof a?n:Array.isArray(n)?new a(n[0],n[1]):n}}]),a}(),Jx=function(){function a(){var i=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,h=arguments.length>3&&arguments[3]!==void 0?arguments[3]:0;if(Ta()(this,a),Er()(this,"top",void 0),Er()(this,"bottom",void 0),Er()(this,"left",void 0),Er()(this,"right",void 0),isNaN(i)||i<0||isNaN(n)||n<0||isNaN(s)||s<0||isNaN(h)||h<0)throw new Error("Invalid value for edge-insets, top, bottom, left and right must all be numbers");this.top=i,this.bottom=n,this.left=s,this.right=h}return hi()(a,[{key:"interpolate",value:function(n,s,h){return s.top!=null&&n.top!=null&&(this.top=Mm(n.top,s.top,h)),s.bottom!=null&&n.bottom!=null&&(this.bottom=Mm(n.bottom,s.bottom,h)),s.left!=null&&n.left!=null&&(this.left=Mm(n.left,s.left,h)),s.right!=null&&n.right!=null&&(this.right=Mm(n.right,s.right,h)),this}},{key:"getCenter",value:function(n,s){var h=fg((this.left+n-this.right)/2,0,n),_=fg((this.top+s-this.bottom)/2,0,s);return new Ku(h,_)}},{key:"equals",value:function(n){return this.top===n.top&&this.bottom===n.bottom&&this.left===n.left&&this.right===n.right}},{key:"clone",value:function(){return new a(this.top,this.bottom,this.left,this.right)}},{key:"toJSON",value:function(){return{top:this.top,bottom:this.bottom,left:this.left,right:this.right}}}]),a}(),Vb=2*Math.PI*Ub;function Hb(a){return Vb*Math.cos(a*Math.PI/180)}function k0(a){return(180+a)/360}function B0(a){return(180-180/Math.PI*Math.log(Math.tan(Math.PI/4+a*Math.PI/360)))/360}function Wb(a,i){return a/Hb(i)}function qx(a){return a*360-180}function z1(a){var i=180-a*360;return 360/Math.PI*Math.atan(Math.exp(i*Math.PI/180))-90}function e2(a,i){return a*Hb(z1(i))}function t2(a){return 1/Math.cos(a*Math.PI/180)}var dg=function(){function a(i,n){var s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0;Ta()(this,a),Er()(this,"x",void 0),Er()(this,"y",void 0),Er()(this,"z",void 0),this.x=+i,this.y=+n,this.z=+s}return hi()(a,[{key:"toLngLat",value:function(){return new Df(qx(this.x),z1(this.y))}},{key:"toAltitude",value:function(){return e2(this.z,this.y)}},{key:"meterInMercatorCoordinateUnits",value:function(){return 1/Vb*t2(z1(this.y))}}],[{key:"fromLngLat",value:function(n){var s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,h=Df.convert(n);return new a(k0(h.lng),B0(h.lat),Wb(s,h.lat))}}]),a}();function r2(a,i){var n=typeof Symbol!="undefined"&&a[Symbol.iterator]||a["@@iterator"];if(!n){if(Array.isArray(a)||(n=n2(a))||i&&a&&typeof a.length=="number"){n&&(a=n);var s=0,h=function(){};return{s:h,n:function(){return s>=a.length?{done:!0}:{done:!1,value:a[s++]}},e:function(Ae){throw Ae},f:h}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var _=!0,Y=!1,$;return{s:function(){n=n.call(a)},n:function(){var Ae=n.next();return _=Ae.done,Ae},e:function(Ae){Y=!0,$=Ae},f:function(){try{!_&&n.return!=null&&n.return()}finally{if(Y)throw $}}}}function n2(a,i){if(!!a){if(typeof a=="string")return z0(a,i);var n=Object.prototype.toString.call(a).slice(8,-1);if(n==="Object"&&a.constructor&&(n=a.constructor.name),n==="Map"||n==="Set")return Array.from(a);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return z0(a,i)}}function z0(a,i){(i==null||i>a.length)&&(i=a.length);for(var n=0,s=new Array(i);n<i;n++)s[n]=a[n];return s}var KC=8192,fy=function(){function a(i,n,s,h,_){Ta()(this,a),Er()(this,"tileSize",void 0),Er()(this,"tileZoom",void 0),Er()(this,"lngRange",void 0),Er()(this,"latRange",void 0),Er()(this,"maxValidLatitude",void 0),Er()(this,"scale",void 0),Er()(this,"width",void 0),Er()(this,"height",void 0),Er()(this,"angle",void 0),Er()(this,"rotationMatrix",void 0),Er()(this,"pixelsToGLUnits",void 0),Er()(this,"cameraToCenterDistance",void 0),Er()(this,"mercatorMatrix",void 0),Er()(this,"projMatrix",void 0),Er()(this,"invProjMatrix",void 0),Er()(this,"alignedProjMatrix",void 0),Er()(this,"pixelMatrix",void 0),Er()(this,"pixelMatrixInverse",void 0),Er()(this,"glCoordMatrix",void 0),Er()(this,"labelPlaneMatrix",void 0),Er()(this,"_fov",void 0),Er()(this,"_pitch",void 0),Er()(this,"_zoom",void 0),Er()(this,"_renderWorldCopies",void 0),Er()(this,"_minZoom",void 0),Er()(this,"_maxZoom",void 0),Er()(this,"_minPitch",void 0),Er()(this,"_maxPitch",void 0),Er()(this,"_center",void 0),Er()(this,"zoomFraction",void 0),Er()(this,"unmodified",void 0),Er()(this,"edgeInsets",void 0),Er()(this,"constraining",void 0),Er()(this,"posMatrixCache",void 0),Er()(this,"alignedPosMatrixCache",void 0),this.tileSize=512,this.maxValidLatitude=85.051129,this._renderWorldCopies=_===void 0?!0:_,this._minZoom=i||0,this._maxZoom=n||22,this._minPitch=s==null?0:s,this._maxPitch=h==null?60:h,this.setMaxBounds(),this.width=0,this.height=0,this._center=new Df(0,0),this.zoom=0,this.angle=0,this._fov=.6435011087932844,this._pitch=0,this.unmodified=!0,this.edgeInsets=new Jx,this.posMatrixCache={},this.alignedPosMatrixCache={}}return hi()(a,[{key:"minZoom",get:function(){return this._minZoom},set:function(n){this._minZoom!==n&&(this._minZoom=n,this.zoom=Math.max(this.zoom,n))}},{key:"maxZoom",get:function(){return this._maxZoom},set:function(n){this._maxZoom!==n&&(this._maxZoom=n,this.zoom=Math.min(this.zoom,n))}},{key:"minPitch",get:function(){return this._minPitch},set:function(n){this._minPitch!==n&&(this._minPitch=n,this._pitch=Math.max(this._pitch,n))}},{key:"maxPitch",get:function(){return this._maxPitch},set:function(n){this._maxPitch!==n&&(this._maxPitch=n,this._pitch=Math.min(this._pitch,n))}},{key:"renderWorldCopies",get:function(){return this._renderWorldCopies},set:function(n){n===void 0?n=!0:n===null&&(n=!1),this._renderWorldCopies=n}},{key:"worldSize",get:function(){return this.tileSize*this.scale}},{key:"centerOffset",get:function(){return this.centerPoint._sub(this.size._div(2))}},{key:"size",get:function(){return new Ku(this.width,this.height)}},{key:"bearing",get:function(){return-this.angle/Math.PI*180},set:function(n){var s=-j1(n,-180,180)*Math.PI/180;this.angle!==s&&(this.unmodified=!1,this.angle=s,this.calcMatrices(),this.rotationMatrix=eo.a.create(),eo.a.rotate(this.rotationMatrix,this.rotationMatrix,this.angle))}},{key:"pitch",get:function(){return this._pitch/Math.PI*180},set:function(n){var s=fg(n,this._minPitch,this._maxPitch)/180*Math.PI;this._pitch!==s&&(this.unmodified=!1,this._pitch=s,this.calcMatrices())}},{key:"fov",get:function(){return this._fov/Math.PI*180},set:function(n){n=Math.max(.01,Math.min(60,n)),this._fov!==n&&(this.unmodified=!1,this._fov=n/180*Math.PI,this.calcMatrices())}},{key:"zoom",get:function(){return this._zoom},set:function(n){var s=Math.min(Math.max(n,this._minZoom),this._maxZoom);this._zoom!==s&&(this.unmodified=!1,this._zoom=s,this.scale=this.zoomScale(s),this.tileZoom=Math.floor(s),this.zoomFraction=s-this.tileZoom,this.constrain(),this.calcMatrices())}},{key:"center",get:function(){return this._center},set:function(n){n.lat===this._center.lat&&n.lng===this._center.lng||(this.unmodified=!1,this._center=n,this.constrain(),this.calcMatrices())}},{key:"padding",get:function(){return this.edgeInsets.toJSON()},set:function(n){this.edgeInsets.equals(n)||(this.unmodified=!1,this.edgeInsets.interpolate(this.edgeInsets,n,1),this.calcMatrices())}},{key:"centerPoint",get:function(){return this.edgeInsets.getCenter(this.width,this.height)}},{key:"point",get:function(){return this.project(this.center)}},{key:"clone",value:function(){var n=new a(this._minZoom,this._maxZoom,this._minPitch,this._maxPitch,this._renderWorldCopies);return n.tileSize=this.tileSize,n.latRange=this.latRange,n.width=this.width,n.height=this.height,n.center=this._center,n.zoom=this.zoom,n.angle=this.angle,n.fov=this._fov,n.pitch=this._pitch,n.unmodified=this.unmodified,n.edgeInsets=this.edgeInsets.clone(),n.calcMatrices(),n}},{key:"isPaddingEqual",value:function(n){return this.edgeInsets.equals(n)}},{key:"interpolatePadding",value:function(n,s,h){this.unmodified=!1,this.edgeInsets.interpolate(n,s,h),this.constrain(),this.calcMatrices()}},{key:"coveringZoomLevel",value:function(n){var s=(n.roundZoom?Math.round:Math.floor)(this.zoom+this.scaleZoom(this.tileSize/n.tileSize));return Math.max(0,s)}},{key:"resize",value:function(n,s){this.width=n,this.height=s,this.pixelsToGLUnits=[2/n,-2/s],this.constrain(),this.calcMatrices()}},{key:"zoomScale",value:function(n){return Math.pow(2,n)}},{key:"scaleZoom",value:function(n){return Math.log(n)/Math.LN2}},{key:"project",value:function(n){var s=fg(n.lat,-this.maxValidLatitude,this.maxValidLatitude);return new Ku(k0(n.lng)*this.worldSize,B0(s)*this.worldSize)}},{key:"unproject",value:function(n){return new dg(n.x/this.worldSize,n.y/this.worldSize).toLngLat()}},{key:"setLocationAtPoint",value:function(n,s){var h=this.pointCoordinate(s),_=this.pointCoordinate(this.centerPoint),Y=this.locationCoordinate(n),$=new dg(Y.x-(h.x-_.x),Y.y-(h.y-_.y));this.center=this.coordinateLocation($),this._renderWorldCopies&&(this.center=this.center.wrap())}},{key:"pointCoordinate",value:function(n){var s=0,h=new Float32Array([n.x,n.y,0,1]),_=new Float32Array([n.x,n.y,1,1]);eo.e.transformMat4(h,h,this.pixelMatrixInverse),eo.e.transformMat4(_,_,this.pixelMatrixInverse);var Y=h[3],$=_[3],X=h[0]/Y,Ae=_[0]/$,gt=h[1]/Y,Ct=_[1]/$,Lt=h[2]/Y,Ut=_[2]/$,or=Lt===Ut?0:(s-Lt)/(Ut-Lt);return new dg(Mm(X,Ae,or)/this.worldSize,Mm(gt,Ct,or)/this.worldSize)}},{key:"getBounds",value:function(){return new c0().extend(this.pointLocation(new Ku(0,0))).extend(this.pointLocation(new Ku(this.width,0))).extend(this.pointLocation(new Ku(this.width,this.height))).extend(this.pointLocation(new Ku(0,this.height)))}},{key:"getMaxBounds",value:function(){return!this.latRange||this.latRange.length!==2||!this.lngRange||this.lngRange.length!==2?null:new c0([this.lngRange[0],this.latRange[0]],[this.lngRange[1],this.latRange[1]])}},{key:"setMaxBounds",value:function(n){n?(this.lngRange=[n.getWest(),n.getEast()],this.latRange=[n.getSouth(),n.getNorth()],this.constrain()):(this.lngRange=void 0,this.latRange=[-this.maxValidLatitude,this.maxValidLatitude])}},{key:"customLayerMatrix",value:function(){return this.mercatorMatrix.slice()}},{key:"maxPitchScaleFactor",value:function(){if(!this.pixelMatrixInverse)return 1;var n=this.pointCoordinate(new Ku(0,0)),s=new Float32Array([n.x*this.worldSize,n.y*this.worldSize,0,1]),h=eo.e.transformMat4(s,s,this.pixelMatrix);return h[3]/this.cameraToCenterDistance}},{key:"getCameraPoint",value:function(){var n=this._pitch,s=Math.tan(n)*(this.cameraToCenterDistance||1);return this.centerPoint.add(new Ku(0,s))}},{key:"getCameraQueryGeometry",value:function(n){var s=this.getCameraPoint();if(n.length===1)return[n[0],s];var h=s.x,_=s.y,Y=s.x,$=s.y,X=r2(n),Ae;try{for(X.s();!(Ae=X.n()).done;){var gt=Ae.value;h=Math.min(h,gt.x),_=Math.min(_,gt.y),Y=Math.max(Y,gt.x),$=Math.max($,gt.y)}}catch(Ct){X.e(Ct)}finally{X.f()}return[new Ku(h,_),new Ku(Y,_),new Ku(Y,$),new Ku(h,$),new Ku(h,_)]}},{key:"coordinatePoint",value:function(n){var s=eo.e.fromValues(n.x*this.worldSize,n.y*this.worldSize,0,1);return eo.e.transformMat4(s,s,this.pixelMatrix),new Ku(s[0]/s[3],s[1]/s[3])}},{key:"locationPoint",value:function(n){return this.coordinatePoint(this.locationCoordinate(n))}},{key:"pointLocation",value:function(n){return this.coordinateLocation(this.pointCoordinate(n))}},{key:"locationCoordinate",value:function(n){return dg.fromLngLat(n)}},{key:"coordinateLocation",value:function(n){return n.toLngLat()}},{key:"getProjectionMatrix",value:function(){return this.projMatrix}},{key:"constrain",value:function(){if(!(!this.center||!this.width||!this.height||this.constraining)){this.constraining=!0;var n=-90,s=90,h=-180,_=180,Y,$,X,Ae,gt=this.size,Ct=this.unmodified;if(this.latRange){var Lt=this.latRange;n=B0(Lt[1])*this.worldSize,s=B0(Lt[0])*this.worldSize,Y=s-n<gt.y?gt.y/(s-n):0}if(this.lngRange){var Ut=this.lngRange;h=k0(Ut[0])*this.worldSize,_=k0(Ut[1])*this.worldSize,$=_-h<gt.x?gt.x/(_-h):0}var or=this.point,Cr=Math.max($||0,Y||0);if(Cr){this.center=this.unproject(new Ku($?(_+h)/2:or.x,Y?(s+n)/2:or.y)),this.zoom+=this.scaleZoom(Cr),this.unmodified=Ct,this.constraining=!1;return}if(this.latRange){var sr=or.y,fr=gt.y/2;sr-fr<n&&(Ae=n+fr),sr+fr>s&&(Ae=s-fr)}if(this.lngRange){var _r=or.x,Qr=gt.x/2;_r-Qr<h&&(X=h+Qr),_r+Qr>_&&(X=_-Qr)}(X!==void 0||Ae!==void 0)&&(this.center=this.unproject(new Ku(X!==void 0?X:or.x,Ae!==void 0?Ae:or.y))),this.unmodified=Ct,this.constraining=!1}}},{key:"calcMatrices",value:function(){if(!!this.height){var n=this._fov/2,s=this.centerOffset;this.cameraToCenterDistance=.5/Math.tan(n)*this.height;var h=Math.PI/2+this._pitch,_=this._fov*(.5+s.y/this.height),Y=Math.sin(_)*this.cameraToCenterDistance/Math.sin(fg(Math.PI-h-_,.01,Math.PI-.01)),$=this.point,X=$.x,Ae=$.y,gt=Math.cos(Math.PI/2-this._pitch)*Y+this.cameraToCenterDistance,Ct=gt*1.01,Lt=this.height/50,Ut=eo.b.create();eo.b.perspective(Ut,this._fov,this.width/this.height,Lt,Ct),Ut[8]=-s.x*2/this.width,Ut[9]=s.y*2/this.height,eo.b.scale(Ut,Ut,[1,-1,1]),eo.b.translate(Ut,Ut,[0,0,-this.cameraToCenterDistance]),eo.b.rotateX(Ut,Ut,this._pitch),eo.b.rotateZ(Ut,Ut,this.angle),eo.b.translate(Ut,Ut,[-X,-Ae,0]),this.mercatorMatrix=eo.b.scale(eo.b.create(),Ut,[this.worldSize,this.worldSize,this.worldSize]),eo.b.scale(Ut,Ut,eo.d.fromValues(1,1,Wb(1,this.center.lat)*this.worldSize)),this.projMatrix=Ut,this.invProjMatrix=eo.b.invert(eo.b.create(),this.projMatrix);var or=this.width%2/2,Cr=this.height%2/2,sr=Math.cos(this.angle),fr=Math.sin(this.angle),_r=X-Math.round(X)+sr*or+fr*Cr,Qr=Ae-Math.round(Ae)+sr*Cr+fr*or,bn=eo.b.clone(Ut);if(eo.b.translate(bn,bn,[_r>.5?_r-1:_r,Qr>.5?Qr-1:Qr,0]),this.alignedProjMatrix=bn,Ut=eo.b.create(),eo.b.scale(Ut,Ut,[this.width/2,-this.height/2,1]),eo.b.translate(Ut,Ut,[1,-1,0]),this.labelPlaneMatrix=Ut,Ut=eo.b.create(),eo.b.scale(Ut,Ut,[1,-1,1]),eo.b.translate(Ut,Ut,[-1,-1,0]),eo.b.scale(Ut,Ut,[2/this.width,2/this.height,1]),this.glCoordMatrix=Ut,this.pixelMatrix=eo.b.multiply(eo.b.create(),this.labelPlaneMatrix,this.projMatrix),Ut=eo.b.invert(eo.b.create(),this.pixelMatrix),!Ut)throw new Error("failed to invert matrix");this.pixelMatrixInverse=Ut,this.posMatrixCache={},this.alignedPosMatrixCache={}}}}]),a}(),wu=function a(i){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};Ta()(this,a),Er()(this,"type",void 0),Zf()(this,n),this.type=i};function dy(a){var i=hy();return function(){var s=ks()(a),h;if(i){var _=ks()(this).constructor;h=Reflect.construct(s,arguments,_)}else h=s.apply(this,arguments);return Fs()(this,h)}}function hy(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(a){return!1}}var Xg=function(a){fo()(n,a);var i=dy(n);function n(s){var h;Ta()(this,n),h=i.call(this),Er()(Lo()(h),"transform",void 0),Er()(Lo()(h),"options",void 0),Er()(Lo()(h),"moving",void 0),Er()(Lo()(h),"zooming",void 0),Er()(Lo()(h),"rotating",void 0),Er()(Lo()(h),"pitching",void 0),Er()(Lo()(h),"padding",void 0),Er()(Lo()(h),"bearingSnap",void 0),Er()(Lo()(h),"easeEndTimeoutID",void 0),Er()(Lo()(h),"easeStart",void 0),Er()(Lo()(h),"easeOptions",void 0),Er()(Lo()(h),"easeId",void 0),Er()(Lo()(h),"onEaseFrame",void 0),Er()(Lo()(h),"onEaseEnd",void 0),Er()(Lo()(h),"easeFrameId",void 0),Er()(Lo()(h),"renderFrameCallback",function(){var gt=Math.min(($g()-h.easeStart)/h.easeOptions.duration,1);h.onEaseFrame(h.easeOptions.easing(gt)),gt<1?h.easeFrameId=h.requestRenderFrame(h.renderFrameCallback):h.stop()}),h.options=s;var _=s.minZoom,Y=s.maxZoom,$=s.minPitch,X=s.maxPitch,Ae=s.renderWorldCopies;return h.moving=!1,h.zooming=!1,h.bearingSnap=s.bearingSnap,h.transform=new fy(_,Y,$,X,Ae),h}return hi()(n,[{key:"requestRenderFrame",value:function(h){return 0}},{key:"cancelRenderFrame",value:function(h){}},{key:"getCenter",value:function(){var h=this.transform.center,_=h.lng,Y=h.lat;return new Df(_,Y)}},{key:"getZoom",value:function(){return this.transform.zoom}},{key:"getPitch",value:function(){return this.transform.pitch}},{key:"setCenter",value:function(h,_){return this.jumpTo({center:h},_)}},{key:"setPitch",value:function(h,_){return this.jumpTo({pitch:h},_),this}},{key:"getBearing",value:function(){return this.transform.bearing}},{key:"panTo",value:function(h,_,Y){return this.easeTo(Zf()({center:h},_),Y)}},{key:"zoomOut",value:function(h,_){return this.zoomTo(this.getZoom()-1,h,_),this}},{key:"setBearing",value:function(h,_){return this.jumpTo({bearing:h},_),this}},{key:"setZoom",value:function(h,_){return this.jumpTo({zoom:h},_),this}},{key:"zoomIn",value:function(h,_){return this.zoomTo(this.getZoom()+1,h,_),this}},{key:"zoomTo",value:function(h,_,Y){return this.easeTo(Zf()({zoom:h},_),Y)}},{key:"getPadding",value:function(){return this.transform.padding}},{key:"setPadding",value:function(h,_){return this.jumpTo({padding:h},_),this}},{key:"rotateTo",value:function(h,_,Y){return this.easeTo(Zf()({bearing:h},_),Y)}},{key:"resetNorth",value:function(h,_){return this.rotateTo(0,Zf()({duration:1e3},h),_),this}},{key:"resetNorthPitch",value:function(h,_){return this.easeTo(Zf()({bearing:0,pitch:0,duration:1e3},h),_),this}},{key:"fitBounds",value:function(h,_,Y){return this.fitInternal(this.cameraForBounds(h,_),_,Y)}},{key:"cameraForBounds",value:function(h,_){return h=c0.convert(h),this.cameraForBoxAndBearing(h.getNorthWest(),h.getSouthEast(),0,_)}},{key:"snapToNorth",value:function(h,_){return Math.abs(this.getBearing())<this.bearingSnap?this.resetNorth(h,_):this}},{key:"jumpTo",value:function(){var h=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},_=arguments.length>1?arguments[1]:void 0;this.stop();var Y=this.transform,$=!1,X=!1,Ae=!1;return h.zoom&&Y.zoom!==+h.zoom&&($=!0,Y.zoom=+h.zoom),h.center!==void 0&&(Y.center=Df.convert(h.center)),h.bearing&&Y.bearing!==+h.bearing&&(X=!0,Y.bearing=+h.bearing),h.pitch&&Y.pitch!==+h.pitch&&(Ae=!0,Y.pitch=+h.pitch),h.padding!=null&&!Y.isPaddingEqual(h.padding)&&(Y.padding=h.padding),this.emit("movestart",new wu("movestart",_)),this.emit("move",new wu("move",_)),$&&(this.emit("zoomstart",new wu("zoomstart",_)),this.emit("zoom",new wu("zoom",_)),this.emit("zoomend",new wu("zoomend",_))),X&&(this.emit("rotatestart",new wu("rotatestart",_)),this.emit("rotate",new wu("rotate",_)),this.emit("rotateend",new wu("rotateend",_))),Ae&&(this.emit("pitchstart",new wu("pitchstart",_)),this.emit("pitch",new wu("pitch",_)),this.emit("pitchend",new wu("pitchend",_))),this.emit("moveend",new wu("moveend",_))}},{key:"easeTo",value:function(){var h=this,_=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},Y=arguments.length>1?arguments[1]:void 0;_=Zf()({offset:[0,0],duration:500,easing:B1},_),(_.animate===!1||!_.essential&&zb())&&(_.duration=0);var $=this.transform,X=this.getZoom(),Ae=this.getBearing(),gt=this.getPitch(),Ct=this.getPadding(),Lt=_.zoom?+_.zoom:X,Ut=_.bearing?this.normalizeBearing(_.bearing,Ae):Ae,or=_.pitch?+_.pitch:gt,Cr=_.padding?_.padding:$.padding,sr=Ku.convert(_.offset),fr=$.centerPoint.add(sr),_r=$.pointLocation(fr),Qr=Df.convert(_.center||_r);this.normalizeCenter(Qr);var bn=$.project(_r),Vn=$.project(Qr).sub(bn),Xn=$.zoomScale(Lt-X),Hn,yn;_.around&&(Hn=Df.convert(_.around),yn=$.locationPoint(Hn));var xn={moving:this.moving,zooming:this.zooming,rotating:this.rotating,pitching:this.pitching};return this.zooming=this.zooming||Lt!==X,this.rotating=this.rotating||Ae!==Ut,this.pitching=this.pitching||or!==gt,this.padding=!$.isPaddingEqual(Cr),this.easeId=_.easeId,this.prepareEase(Y,_.noMoveStart,xn),clearTimeout(this.easeEndTimeoutID),this.ease(function(Wn){if(h.zooming&&($.zoom=Mm(X,Lt,Wn)),h.rotating&&($.bearing=Mm(Ae,Ut,Wn)),h.pitching&&($.pitch=Mm(gt,or,Wn)),h.padding&&($.interpolatePadding(Ct,Cr,Wn),fr=$.centerPoint.add(sr)),Hn)$.setLocationAtPoint(Hn,yn);else{var Un=$.zoomScale($.zoom-X),pa=Lt>X?Math.min(2,Xn):Math.max(.5,Xn),Zn=Math.pow(pa,1-Wn),ka=$.unproject(bn.add(Vn.mult(Wn*Zn)).mult(Un));$.setLocationAtPoint($.renderWorldCopies?ka.wrap():ka,fr)}h.fireMoveEvents(Y)},function(Wn){h.afterEase(Y,Wn)},_),this}},{key:"flyTo",value:function(){var h=this,_=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},Y=arguments.length>1?arguments[1]:void 0;if(!_.essential&&zb()){var $=$x(_,["center","zoom","bearing","pitch","around"]);return this.jumpTo($,Y)}this.stop(),_=Zf()({offset:[0,0],speed:1.2,curve:1.42,easing:B1},_);var X=this.transform,Ae=this.getZoom(),gt=this.getBearing(),Ct=this.getPitch(),Lt=this.getPadding(),Ut=_.zoom?fg(+_.zoom,X.minZoom,X.maxZoom):Ae,or=_.bearing?this.normalizeBearing(_.bearing,gt):gt,Cr=_.pitch?+_.pitch:Ct,sr="padding"in _?_.padding:X.padding,fr=X.zoomScale(Ut-Ae),_r=Ku.convert(_.offset),Qr=X.centerPoint.add(_r),bn=X.pointLocation(Qr),Vn=Df.convert(_.center||bn);this.normalizeCenter(Vn);var Xn=X.project(bn),Hn=X.project(Vn).sub(Xn),yn=_.curve,xn=Math.max(X.width,X.height),Wn=xn/fr,Un=Hn.mag();if("minZoom"in _){var pa=fg(Math.min(_.minZoom,Ae,Ut),X.minZoom,X.maxZoom),Zn=xn/X.zoomScale(pa-Ae);yn=Math.sqrt(Zn/Un*2)}var ka=yn*yn;function Bi(Ni){var po=(Wn*Wn-xn*xn+(Ni?-1:1)*ka*ka*Un*Un)/(2*(Ni?Wn:xn)*ka*Un);return Math.log(Math.sqrt(po*po+1)-po)}function Ki(Ni){return(Math.exp(Ni)-Math.exp(-Ni))/2}function Po(Ni){return(Math.exp(Ni)+Math.exp(-Ni))/2}function Zi(Ni){return Ki(Ni)/Po(Ni)}var wo=Bi(0),io=function(po){return Po(wo)/Po(wo+yn*po)},qo=function(po){return xn*((Po(wo)*Zi(wo+yn*po)-Ki(wo))/ka)/Un},Js=(Bi(1)-wo)/yn;if(Math.abs(Un)<1e-6||!isFinite(Js)){if(Math.abs(xn-Wn)<1e-6)return this.easeTo(_,Y);var Yo=Wn<xn?-1:1;Js=Math.abs(Math.log(Wn/xn))/yn,qo=function(){return 0},io=function(po){return Math.exp(Yo*yn*po)}}if("duration"in _)_.duration=+_.duration;else{var ho="screenSpeed"in _?+_.screenSpeed/yn:+_.speed;_.duration=1e3*Js/ho}return _.maxDuration&&_.duration>_.maxDuration&&(_.duration=0),this.zooming=!0,this.rotating=gt!==or,this.pitching=Cr!==Ct,this.padding=!X.isPaddingEqual(sr),this.prepareEase(Y,!1),this.ease(function(Ni){var po=Ni*Js,li=1/io(po);X.zoom=Ni===1?Ut:Ae+X.scaleZoom(li),h.rotating&&(X.bearing=Mm(gt,or,Ni)),h.pitching&&(X.pitch=Mm(Ct,Cr,Ni)),h.padding&&(X.interpolatePadding(Lt,sr,Ni),Qr=X.centerPoint.add(_r));var Sa=Ni===1?Vn:X.unproject(Xn.add(Hn.mult(qo(po))).mult(li));X.setLocationAtPoint(X.renderWorldCopies?Sa.wrap():Sa,Qr),h.fireMoveEvents(Y)},function(){return h.afterEase(Y)},_),this}},{key:"fitScreenCoordinates",value:function(h,_,Y,$,X){return this.fitInternal(this.cameraForBoxAndBearing(this.transform.pointLocation(Ku.convert(h)),this.transform.pointLocation(Ku.convert(_)),Y,$),$,X)}},{key:"stop",value:function(h,_){if(this.easeFrameId&&(this.cancelRenderFrame(this.easeFrameId),delete this.easeFrameId,delete this.onEaseFrame),this.onEaseEnd){var Y=this.onEaseEnd;delete this.onEaseEnd,Y.call(this,_)}return this}},{key:"normalizeBearing",value:function(h,_){h=j1(h,-180,180);var Y=Math.abs(h-_);return Math.abs(h-360-_)<Y&&(h-=360),Math.abs(h+360-_)<Y&&(h+=360),h}},{key:"normalizeCenter",value:function(h){var _=this.transform;if(!(!_.renderWorldCopies||_.lngRange)){var Y=h.lng-_.center.lng;h.lng+=Y>180?-360:Y<-180?360:0}}},{key:"fireMoveEvents",value:function(h){this.emit("move",new wu("move",h)),this.zooming&&this.emit("zoom",new wu("zoom",h)),this.rotating&&this.emit("rotate",new wu("rotate",h)),this.pitching&&this.emit("rotate",new wu("pitch",h))}},{key:"prepareEase",value:function(h){var _=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,Y=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};this.moving=!0,!_&&!Y.moving&&this.emit("movestart",new wu("movestart",h)),this.zooming&&!Y.zooming&&this.emit("zoomstart",new wu("zoomstart",h)),this.rotating&&!Y.rotating&&this.emit("rotatestart",new wu("rotatestart",h)),this.pitching&&!Y.pitching&&this.emit("pitchstart",new wu("pitchstart",h))}},{key:"afterEase",value:function(h,_){if(!(this.easeId&&_&&this.easeId===_)){delete this.easeId;var Y=this.zooming,$=this.rotating,X=this.pitching;this.moving=!1,this.zooming=!1,this.rotating=!1,this.pitching=!1,this.padding=!1,Y&&this.emit("zoomend",new wu("zoomend",h)),$&&this.emit("rotateend",new wu("rotateend",h)),X&&this.emit("pitchend",new wu("pitchend",h)),this.emit("moveend",new wu("moveend",h))}}},{key:"ease",value:function(h,_,Y){Y.animate===!1||Y.duration===0?(h(1),_()):(this.easeStart=$g(),this.easeOptions=Y,this.onEaseFrame=h,this.onEaseEnd=_,this.easeFrameId=this.requestRenderFrame(this.renderFrameCallback))}},{key:"cameraForBoxAndBearing",value:function(h,_,Y,$){var X={top:0,bottom:0,right:0,left:0};if($=Zf()({padding:X,offset:[0,0],maxZoom:this.transform.maxZoom},$),typeof $.padding=="number"){var Ae=$.padding;$.padding={top:Ae,bottom:Ae,right:Ae,left:Ae}}$.padding=Zf()(X,$.padding);var gt=this.transform,Ct=gt.padding,Lt=gt.project(Df.convert(h)),Ut=gt.project(Df.convert(_)),or=Lt.rotate(-Y*Math.PI/180),Cr=Ut.rotate(-Y*Math.PI/180),sr=new Ku(Math.max(or.x,Cr.x),Math.max(or.y,Cr.y)),fr=new Ku(Math.min(or.x,Cr.x),Math.min(or.y,Cr.y)),_r=sr.sub(fr),Qr=(gt.width-(Ct.left+Ct.right+$.padding.left+$.padding.right))/_r.x,bn=(gt.height-(Ct.top+Ct.bottom+$.padding.top+$.padding.bottom))/_r.y;if(!(bn<0||Qr<0)){var Vn=Math.min(gt.scaleZoom(gt.scale*Math.min(Qr,bn)),$.maxZoom),Xn=Ku.convert($.offset),Hn=($.padding.left-$.padding.right)/2,yn=($.padding.top-$.padding.bottom)/2,xn=new Ku(Xn.x+Hn,Xn.y+yn),Wn=xn.mult(gt.scale/gt.zoomScale(Vn)),Un=gt.unproject(Lt.add(Ut).div(2).sub(Wn));return{center:Un,zoom:Vn,bearing:Y}}}},{key:"fitInternal",value:function(h,_,Y){return h?(_=Zf()(h,_),delete _.padding,_.linear?this.easeTo(_,Y):this.flyTo(_,Y)):this}}]),n}(jb.EventEmitter);function Qg(a,i){var n=typeof Symbol!="undefined"&&a[Symbol.iterator]||a["@@iterator"];if(!n){if(Array.isArray(a)||(n=py(a))||i&&a&&typeof a.length=="number"){n&&(a=n);var s=0,h=function(){};return{s:h,n:function(){return s>=a.length?{done:!0}:{done:!1,value:a[s++]}},e:function(Ae){throw Ae},f:h}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var _=!0,Y=!1,$;return{s:function(){n=n.call(a)},n:function(){var Ae=n.next();return _=Ae.done,Ae},e:function(Ae){Y=!0,$=Ae},f:function(){try{!_&&n.return!=null&&n.return()}finally{if(Y)throw $}}}}function py(a,i){if(!!a){if(typeof a=="string")return Jg(a,i);var n=Object.prototype.toString.call(a).slice(8,-1);if(n==="Object"&&a.constructor&&(n=a.constructor.name),n==="Map"||n==="Set")return Array.from(a);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Jg(a,i)}}function Jg(a,i){(i==null||i>a.length)&&(i=a.length);for(var n=0,s=new Array(i);n<i;n++)s[n]=a[n];return s}var Vh={},Kd=Vh;Vh.create=function(a,i,n){var s=window.document.createElement(a);return i!==void 0&&(s.className=i),n&&n.appendChild(s),s},Vh.createNS=function(a,i){var n=window.document.createElementNS(a,i);return n};var vm=window.document&&window.document.documentElement.style;function qg(a){if(!vm)return a[0];var i=Qg(a),n;try{for(i.s();!(n=i.n()).done;){var s=n.value;if(s in vm)return s}}catch(h){i.e(h)}finally{i.f()}return a[0]}var Jm=qg(["userSelect","MozUserSelect","WebkitUserSelect","msUserSelect"]),ey;Vh.disableDrag=function(){vm&&Jm&&(ey=vm[Jm],vm[Jm]="none")},Vh.enableDrag=function(){vm&&Jm&&(vm[Jm]=ey)};var vy=qg(["transform","WebkitTransform"]);Vh.setTransform=function(a,i){a.style[vy]=i};var hg=!1;try{var pg=Object.defineProperty({},"passive",{get:function(){hg=!0}});window.addEventListener("test",pg,pg),window.removeEventListener("test",pg,pg)}catch(a){hg=!1}Vh.addEventListener=function(a,i,n){var s=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{};"passive"in s&&hg?a.addEventListener(i,n,s):a.addEventListener(i,n,s.capture)},Vh.removeEventListener=function(a,i,n){var s=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{};"passive"in s&&hg?a.removeEventListener(i,n,s):a.removeEventListener(i,n,s.capture)};var Gb=function a(i){i.preventDefault(),i.stopPropagation(),window.removeEventListener("click",a,!0)};Vh.suppressClick=function(){window.addEventListener("click",Gb,!0),window.setTimeout(function(){window.removeEventListener("click",Gb,!0)},0)},Vh.mousePos=function(a,i){var n=a.getBoundingClientRect();return new Ku(i.clientX-n.left-a.clientLeft,i.clientY-n.top-a.clientTop)},Vh.touchPos=function(a,i){var n=a.getBoundingClientRect(),s=[],h=Qg(i),_;try{for(h.s();!(_=h.n()).done;){var Y=_.value;s.push(new Ku(Y.clientX-n.left-a.clientLeft,Y.clientY-n.top-a.clientTop))}}catch($){h.e($)}finally{h.f()}return s},Vh.mouseButton=function(a){return typeof window.InstallTrigger!="undefined"&&a.button===2&&a.ctrlKey&&window.navigator.platform.toUpperCase().indexOf("MAC")>=0?0:a.button},Vh.remove=function(a){a.parentNode&&a.parentNode.removeChild(a)};function gy(a){var i=a2();return function(){var s=ks()(a),h;if(i){var _=ks()(this).constructor;h=Reflect.construct(s,arguments,_)}else h=s.apply(this,arguments);return Fs()(this,h)}}function a2(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(a){return!1}}var Tg=function(a){fo()(n,a);var i=gy(n);function n(s,h,_){var Y,$=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{};Ta()(this,n);var X=Kd.mousePos(h.getCanvasContainer(),_),Ae=h.unproject(X);return Y=i.call(this,s,Zf()({point:X,lngLat:Ae,originalEvent:_},$)),Er()(Lo()(Y),"type",void 0),Er()(Lo()(Y),"target",void 0),Er()(Lo()(Y),"originalEvent",void 0),Er()(Lo()(Y),"point",void 0),Er()(Lo()(Y),"lngLat",void 0),Er()(Lo()(Y),"defaultPrevented",void 0),Y.defaultPrevented=!1,Y.target=h,Y}return hi()(n,[{key:"preventDefault",value:function(){this.defaultPrevented=!0}}]),n}(wu);function i2(a){var i=o2();return function(){var s=ks()(a),h;if(i){var _=ks()(this).constructor;h=Reflect.construct(s,arguments,_)}else h=s.apply(this,arguments);return Fs()(this,h)}}function o2(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(a){return!1}}var U0=function(a){fo()(n,a);var i=i2(n);function n(s,h,_){var Y;Ta()(this,n);var $=s==="touchend"?_.changedTouches:_.touches,X=Kd.touchPos(h.getCanvasContainer(),$),Ae=X.map(function(Lt){return h.unproject(Lt)}),gt=X.reduce(function(Lt,Ut,or,Cr){return Lt.add(Ut.div(Cr.length))},new Ku(0,0)),Ct=h.unproject(gt);return Y=i.call(this,s,{points:X,point:gt,lngLats:Ae,lngLat:Ct,originalEvent:_}),Er()(Lo()(Y),"type",void 0),Er()(Lo()(Y),"target",void 0),Er()(Lo()(Y),"originalEvent",void 0),Er()(Lo()(Y),"lngLat",void 0),Er()(Lo()(Y),"point",void 0),Er()(Lo()(Y),"points",void 0),Er()(Lo()(Y),"lngLats",void 0),Er()(Lo()(Y),"defaultPrevented",void 0),Y.defaultPrevented=!1,Y}return hi()(n,[{key:"preventDefault",value:function(){this.defaultPrevented=!0}}]),n}(wu);function s2(a){var i=wC();return function(){var s=ks()(a),h;if(i){var _=ks()(this).constructor;h=Reflect.construct(s,arguments,_)}else h=s.apply(this,arguments);return Fs()(this,h)}}function wC(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(a){return!1}}var Kb=function(a){fo()(n,a);var i=s2(n);function n(s,h,_){var Y;return Ta()(this,n),Y=i.call(this,s,{originalEvent:_}),Er()(Lo()(Y),"type",void 0),Er()(Lo()(Y),"originalEvent",void 0),Er()(Lo()(Y),"defaultPrevented",void 0),Er()(Lo()(Y),"target",void 0),Y.defaultPrevented=!1,Y}return hi()(n,[{key:"preventDefault",value:function(){this.defaultPrevented=!0}}]),n}(wu),l2=function(){function a(i){Ta()(this,a),Er()(this,"map",void 0),Er()(this,"delayContextMenu",void 0),Er()(this,"contextMenuEvent",void 0),this.map=i}return hi()(a,[{key:"reset",value:function(){this.delayContextMenu=!1,delete this.contextMenuEvent}},{key:"mousemove",value:function(n){this.map.emit(n.type,new Tg(n.type,this.map,n))}},{key:"mousedown",value:function(){this.delayContextMenu=!0}},{key:"mouseup",value:function(){this.delayContextMenu=!1,this.contextMenuEvent&&(this.map.emit("contextmenu",new Tg("contextmenu",this.map,this.contextMenuEvent)),delete this.contextMenuEvent)}},{key:"contextmenu",value:function(n){this.delayContextMenu?this.contextMenuEvent=n:this.map.emit(n.type,new Tg(n.type,this.map,n)),this.map.listeners("contextmenu")&&n.preventDefault()}},{key:"isEnabled",value:function(){return!0}},{key:"isActive",value:function(){return!1}},{key:"enable",value:function(){return!0}},{key:"disable",value:function(){return!1}}]),a}(),U1=function(){function a(i,n){Ta()(this,a),Er()(this,"map",void 0),Er()(this,"el",void 0),Er()(this,"container",void 0),Er()(this,"enabled",void 0),Er()(this,"active",void 0),Er()(this,"startPos",void 0),Er()(this,"lastPos",void 0),Er()(this,"box",void 0),Er()(this,"clickTolerance",void 0),this.map=i,this.el=i.getCanvasContainer(),this.container=i.getContainer(),this.clickTolerance=n.clickTolerance||1}return hi()(a,[{key:"isEnabled",value:function(){return!!this.enabled}},{key:"isActive",value:function(){return!!this.active}},{key:"enable",value:function(){this.isEnabled()||(this.enabled=!0)}},{key:"disable",value:function(){!this.isEnabled()||(this.enabled=!1)}},{key:"mousedown",value:function(n,s){!this.isEnabled()||!(n.shiftKey&&n.button===0)||(Kd.disableDrag(),this.startPos=this.lastPos=s,this.active=!0)}},{key:"mousemoveWindow",value:function(n,s){if(!!this.active){var h=s;if(!(this.lastPos.equals(h)||!this.box&&h.dist(this.startPos)<this.clickTolerance)){var _=this.startPos;this.lastPos=h,this.box||(this.box=Kd.create("div","l7-boxzoom",this.container),this.container.classList.add("l7-crosshair"),this.fireEvent("boxzoomstart",n));var Y=Math.min(_.x,h.x),$=Math.max(_.x,h.x),X=Math.min(_.y,h.y),Ae=Math.max(_.y,h.y);Kd.setTransform(this.box,"translate(".concat(Y,"px,").concat(X,"px)")),this.box&&(this.box.style.width="".concat($-Y,"px"),this.box.style.height="".concat(Ae-X,"px"))}}}},{key:"mouseupWindow",value:function(n,s){var h=this;if(!!this.active&&n.button===0){var _=this.startPos,Y=s;if(this.reset(),Kd.suppressClick(),_.x===Y.x&&_.y===Y.y)this.fireEvent("boxzoomcancel",n);else return this.map.emit("boxzoomend",new wu("boxzoomend",{originalEvent:n})),{cameraAnimation:function(X){return X.fitScreenCoordinates(_,Y,h.map.getBearing(),{linear:!0})}}}}},{key:"keydown",value:function(n){!this.active||n.keyCode===27&&(this.reset(),this.fireEvent("boxzoomcancel",n))}},{key:"reset",value:function(){this.active=!1,this.container.classList.remove("l7-crosshair"),this.box&&(Kd.remove(this.box),this.box=null),Kd.enableDrag(),delete this.startPos,delete this.lastPos}},{key:"fireEvent",value:function(n,s){return this.map.emit(n,new wu(n,{originalEvent:s}))}}]),a}(),TC=U1,u2=function(){function a(){Ta()(this,a),Er()(this,"enabled",void 0),Er()(this,"active",void 0),this.reset()}return hi()(a,[{key:"reset",value:function(){this.active=!1}},{key:"dblclick",value:function(n,s){return n.preventDefault(),{cameraAnimation:function(_){_.easeTo({duration:300,zoom:_.getZoom()+(n.shiftKey?-1:1),around:_.unproject(s)},{originalEvent:n})}}}},{key:"enable",value:function(){this.enabled=!0}},{key:"disable",value:function(){this.enabled=!1,this.reset()}},{key:"isEnabled",value:function(){return this.enabled}},{key:"isActive",value:function(){return this.active}}]),a}();function Zb(a){var i=c2();return function(){var s=ks()(a),h;if(i){var _=ks()(this).constructor;h=Reflect.construct(s,arguments,_)}else h=s.apply(this,arguments);return Fs()(this,h)}}function c2(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(a){return!1}}var f2=function(a){fo()(n,a);var i=Zb(n);function n(){var s;Ta()(this,n);for(var h=arguments.length,_=new Array(h),Y=0;Y<h;Y++)_[Y]=arguments[Y];return s=i.call.apply(i,[this].concat(_)),Er()(Lo()(s),"type","renderFrame"),Er()(Lo()(s),"timeStamp",void 0),s}return n}(wu);function d2(a,i){var n=typeof Symbol!="undefined"&&a[Symbol.iterator]||a["@@iterator"];if(!n){if(Array.isArray(a)||(n=h2(a))||i&&a&&typeof a.length=="number"){n&&(a=n);var s=0,h=function(){};return{s:h,n:function(){return s>=a.length?{done:!0}:{done:!1,value:a[s++]}},e:function(Ae){throw Ae},f:h}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var _=!0,Y=!1,$;return{s:function(){n=n.call(a)},n:function(){var Ae=n.next();return _=Ae.done,Ae},e:function(Ae){Y=!0,$=Ae},f:function(){try{!_&&n.return!=null&&n.return()}finally{if(Y)throw $}}}}function h2(a,i){if(!!a){if(typeof a=="string")return Yb(a,i);var n=Object.prototype.toString.call(a).slice(8,-1);if(n==="Object"&&a.constructor&&(n=a.constructor.name),n==="Map"||n==="Set")return Array.from(a);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Yb(a,i)}}function Yb(a,i){(i==null||i>a.length)&&(i=a.length);for(var n=0,s=new Array(i);n<i;n++)s[n]=a[n];return s}var V0={linearity:.3,easing:k1(0,0,.3,1)},$b=Zf()({deceleration:2500,maxSpeed:1400},V0),p2=Zf()({deceleration:20,maxSpeed:1400},V0),v2=Zf()({deceleration:1e3,maxSpeed:360},V0),Xb=Zf()({deceleration:1e3,maxSpeed:90},V0),m2=function(){function a(i){Ta()(this,a),Er()(this,"map",void 0),Er()(this,"inertiaBuffer",void 0),this.map=i,this.clear()}return hi()(a,[{key:"clear",value:function(){this.inertiaBuffer=[]}},{key:"record",value:function(n){this.drainInertiaBuffer(),this.inertiaBuffer.push({time:$g(),settings:n})}},{key:"drainInertiaBuffer",value:function(){for(var n=this.inertiaBuffer,s=$g(),h=160;n.length>0&&s-n[0].time>h;)n.shift()}},{key:"onMoveEnd",value:function(n){if(this.drainInertiaBuffer(),!(this.inertiaBuffer.length<2)){var s={zoom:0,bearing:0,pitch:0,pan:new Ku(0,0),pinchAround:void 0,around:void 0},h=d2(this.inertiaBuffer),_;try{for(h.s();!(_=h.n()).done;){var Y=_.value.settings;s.zoom+=Y.zoomDelta||0,s.bearing+=Y.bearingDelta||0,s.pitch+=Y.pitchDelta||0,Y.panDelta&&s.pan._add(Y.panDelta),Y.around&&(s.around=Y.around),Y.pinchAround&&(s.pinchAround=Y.pinchAround)}}catch(Cr){h.e(Cr)}finally{h.f()}var $=this.inertiaBuffer[this.inertiaBuffer.length-1],X=$.time-this.inertiaBuffer[0].time,Ae={};if(s.pan.mag()){var gt=Wy(s.pan.mag(),X,Zf()({},$b,n||{}));Ae.offset=s.pan.mult(gt.amount/s.pan.mag()),Ae.center=this.map.transform.center,H0(Ae,gt)}if(s.zoom){var Ct=Wy(s.zoom,X,p2);Ae.zoom=this.map.transform.zoom+Ct.amount,H0(Ae,Ct)}if(s.bearing){var Lt=Wy(s.bearing,X,v2);Ae.bearing=this.map.transform.bearing+fg(Lt.amount,-179,179),H0(Ae,Lt)}if(s.pitch){var Ut=Wy(s.pitch,X,Xb);Ae.pitch=this.map.transform.pitch+Ut.amount,H0(Ae,Ut)}if(Ae.zoom||Ae.bearing){var or=s.pinchAround===void 0?s.around:s.pinchAround;Ae.around=or?this.map.unproject(or):this.map.getCenter()}return this.clear(),Zf()(Ae,{noMoveStart:!0})}}}]),a}();function H0(a,i){(!a.duration||a.duration<i.duration)&&(a.duration=i.duration,a.easing=i.easing)}function Wy(a,i,n){var s=n.maxSpeed,h=n.linearity,_=n.deceleration,Y=fg(a*h/(i/1e3),-s,s),$=Math.abs(Y)/(_*h);return{easing:n.easing,duration:$*1e3,amount:Y*($/2)}}var AC={panStep:100,bearingStep:15,pitchStep:10},g2=function(){function a(){Ta()(this,a),Er()(this,"enabled",void 0),Er()(this,"active",void 0),Er()(this,"panStep",void 0),Er()(this,"bearingStep",void 0),Er()(this,"pitchStep",void 0);var i=AC;this.panStep=i.panStep,this.bearingStep=i.bearingStep,this.pitchStep=i.pitchStep}return hi()(a,[{key:"reset",value:function(){this.active=!1}},{key:"keydown",value:function(n){var s=this;if(!(n.altKey||n.ctrlKey||n.metaKey)){var h=0,_=0,Y=0,$=0,X=0;switch(n.keyCode){case 61:case 107:case 171:case 187:h=1;break;case 189:case 109:case 173:h=-1;break;case 37:n.shiftKey?_=-1:(n.preventDefault(),$=-1);break;case 39:n.shiftKey?_=1:(n.preventDefault(),$=1);break;case 38:n.shiftKey?Y=1:(n.preventDefault(),X=-1);break;case 40:n.shiftKey?Y=-1:(n.preventDefault(),X=1);break;default:return}return{cameraAnimation:function(gt){var Ct=gt.getZoom();gt.easeTo({duration:300,easeId:"keyboardHandler",easing:y2,zoom:h?Math.round(Ct)+h*(n.shiftKey?2:1):Ct,bearing:gt.getBearing()+_*s.bearingStep,pitch:gt.getPitch()+Y*s.pitchStep,offset:[-$*s.panStep,-X*s.panStep],center:gt.getCenter()},{originalEvent:n})}}}}},{key:"enable",value:function(){this.enabled=!0}},{key:"disable",value:function(){this.enabled=!1,this.reset()}},{key:"isEnabled",value:function(){return this.enabled}},{key:"isActive",value:function(){return this.active}}]),a}();function y2(a){return a*(2-a)}var b2=g2,x2=function(){function a(i,n){Ta()(this,a),Er()(this,"mousedownPos",void 0),Er()(this,"clickTolerance",void 0),Er()(this,"map",void 0),this.map=i,this.clickTolerance=n.clickTolerance}return hi()(a,[{key:"reset",value:function(){delete this.mousedownPos}},{key:"wheel",value:function(n){return this.firePreventable(new Kb(n.type,this.map,n))}},{key:"mousedown",value:function(n,s){return this.mousedownPos=s,this.firePreventable(new Tg(n.type,this.map,n))}},{key:"mouseup",value:function(n){this.map.emit(n.type,new Tg(n.type,this.map,n))}},{key:"click",value:function(n,s){this.mousedownPos&&this.mousedownPos.dist(s)>=this.clickTolerance||this.map.emit(n.type,new Tg(n.type,this.map,n))}},{key:"dblclick",value:function(n){return this.firePreventable(new Tg(n.type,this.map,n))}},{key:"mouseover",value:function(n){this.map.emit(n.type,new Tg(n.type,this.map,n))}},{key:"mouseout",value:function(n){this.map.emit(n.type,new Tg(n.type,this.map,n))}},{key:"touchstart",value:function(n){return this.firePreventable(new U0(n.type,this.map,n))}},{key:"touchmove",value:function(n){this.map.emit(n.type,new U0(n.type,this.map,n))}},{key:"touchend",value:function(n){this.map.emit(n.type,new U0(n.type,this.map,n))}},{key:"touchcancel",value:function(n){this.map.emit(n.type,new U0(n.type,this.map,n))}},{key:"firePreventable",value:function(n){if(this.map.emit(n.type,n),n.defaultPrevented)return{}}},{key:"isEnabled",value:function(){return!0}},{key:"isActive",value:function(){return!1}},{key:"enable",value:function(){return!1}},{key:"disable",value:function(){return!1}}]),a}(),V1=r("iWIM"),H1=r.n(V1),W0,G0=0,f0=2,MC=(W0={},Er()(W0,G0,1),Er()(W0,f0,2),W0);function C2(a,i){var n=MC[i];return a.buttons===void 0||(a.buttons&n)!==n}var W1=function(){function a(i){Ta()(this,a),Er()(this,"enabled",void 0),Er()(this,"active",void 0),Er()(this,"lastPoint",void 0),Er()(this,"eventButton",void 0),Er()(this,"moved",void 0),Er()(this,"clickTolerance",void 0),this.reset(),this.clickTolerance=i.clickTolerance||1}return hi()(a,[{key:"reset",value:function(){this.active=!1,this.moved=!1,delete this.lastPoint,delete this.eventButton}},{key:"mousedown",value:function(n,s){if(!this.lastPoint){var h=Kd.mouseButton(n);!this.correctButton(n,h)||(this.lastPoint=s,this.eventButton=h)}}},{key:"mousemoveWindow",value:function(n,s){var h=this.lastPoint;if(!!h){if(n.preventDefault(),C2(n,this.eventButton)){this.reset();return}if(!(!this.moved&&s.dist(h)<this.clickTolerance))return this.moved=!0,this.lastPoint=s,this.move(h,s)}}},{key:"mouseupWindow",value:function(n){if(!!this.lastPoint){var s=Kd.mouseButton(n);s===this.eventButton&&(this.moved&&Kd.suppressClick(),this.reset())}}},{key:"enable",value:function(){this.enabled=!0}},{key:"disable",value:function(){this.enabled=!1,this.reset()}},{key:"isEnabled",value:function(){return this.enabled}},{key:"isActive",value:function(){return this.active}},{key:"correctButton",value:function(n,s){return!1}},{key:"move",value:function(n,s){}}]),a}();function E2(a){var i=G1();return function(){var s=ks()(a),h;if(i){var _=ks()(this).constructor;h=Reflect.construct(s,arguments,_)}else h=s.apply(this,arguments);return Fs()(this,h)}}function G1(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(a){return!1}}var _C=function(a){fo()(n,a);var i=E2(n);function n(){return Ta()(this,n),i.apply(this,arguments)}return hi()(n,[{key:"mousedown",value:function(h,_){H1()(ks()(n.prototype),"mousedown",this).call(this,h,_),this.lastPoint&&(this.active=!0)}},{key:"move",value:function(h,_){return{around:_,panDelta:_.sub(h)}}},{key:"correctButton",value:function(h,_){return _===G0&&!h.ctrlKey}}]),n}(W1);function S2(a){var i=IC();return function(){var s=ks()(a),h;if(i){var _=ks()(this).constructor;h=Reflect.construct(s,arguments,_)}else h=s.apply(this,arguments);return Fs()(this,h)}}function IC(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(a){return!1}}var O2=function(a){fo()(n,a);var i=S2(n);function n(){return Ta()(this,n),i.apply(this,arguments)}return hi()(n,[{key:"correctButton",value:function(h,_){return _===G0&&h.ctrlKey||_===f0}},{key:"move",value:function(h,_){var Y=-.5,$=(_.y-h.y)*Y;if($)return this.active=!0,{pitchDelta:$}}},{key:"contextmenu",value:function(h){h.preventDefault()}}]),n}(W1);function P2(a){var i=w2();return function(){var s=ks()(a),h;if(i){var _=ks()(this).constructor;h=Reflect.construct(s,arguments,_)}else h=s.apply(this,arguments);return Fs()(this,h)}}function w2(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(a){return!1}}var T2=function(a){fo()(n,a);var i=P2(n);function n(){return Ta()(this,n),i.apply(this,arguments)}return hi()(n,[{key:"contextmenu",value:function(h){h.preventDefault()}},{key:"correctButton",value:function(h,_){return _===G0&&h.ctrlKey||_===f0}},{key:"move",value:function(h,_){var Y=.8,$=(_.x-h.x)*Y;if($)return this.active=!0,{bearingDelta:$}}}]),n}(W1),Qb=4.000244140625,A2=1/100,M2=1/450,Jb=2,_2=function(){function a(i,n){var s=this;Ta()(this,a),Er()(this,"map",void 0),Er()(this,"el",void 0),Er()(this,"enabled",void 0),Er()(this,"active",void 0),Er()(this,"zooming",void 0),Er()(this,"aroundCenter",void 0),Er()(this,"around",void 0),Er()(this,"aroundPoint",void 0),Er()(this,"type",void 0),Er()(this,"lastValue",void 0),Er()(this,"timeout",void 0),Er()(this,"finishTimeout",void 0),Er()(this,"lastWheelEvent",void 0),Er()(this,"lastWheelEventTime",void 0),Er()(this,"startZoom",void 0),Er()(this,"targetZoom",void 0),Er()(this,"delta",void 0),Er()(this,"easing",void 0),Er()(this,"prevEase",void 0),Er()(this,"frameId",void 0),Er()(this,"handler",void 0),Er()(this,"defaultZoomRate",void 0),Er()(this,"wheelZoomRate",void 0),Er()(this,"onScrollFrame",function(){if(!!s.frameId&&(s.frameId=null,!!s.isActive())){var h=s.map.transform;if(s.delta!==0){var _=s.type==="wheel"&&Math.abs(s.delta)>Qb?s.wheelZoomRate:s.defaultZoomRate,Y=Jb/(1+Math.exp(-Math.abs(s.delta*_)));s.delta<0&&Y!==0&&(Y=1/Y);var $=typeof s.targetZoom=="number"?h.zoomScale(s.targetZoom):h.scale;s.targetZoom=Math.min(h.maxZoom,Math.max(h.minZoom,h.scaleZoom($*Y))),s.type==="wheel"&&(s.startZoom=h.zoom,s.easing=s.smoothOutEasing(200)),s.delta=0}var X=typeof s.targetZoom=="number"?s.targetZoom:h.zoom,Ae=s.startZoom,gt=s.easing,Ct=!1,Lt;if(s.type==="wheel"&&Ae&&gt){var Ut=Math.min(($g()-s.lastWheelEventTime)/200,1),or=gt(Ut);Lt=Mm(Ae,X,or),Ut<1?s.frameId||(s.frameId=!0):Ct=!0}else Lt=X,Ct=!0;return s.active=!0,Ct&&(s.active=!1,s.finishTimeout=setTimeout(function(){s.zooming=!1,s.handler.triggerRenderFrame(),delete s.targetZoom,delete s.finishTimeout},200)),{noInertia:!0,needsRenderFrame:!Ct,zoomDelta:Lt-h.zoom,around:s.aroundPoint,originalEvent:s.lastWheelEvent}}}),this.map=i,this.el=i.getCanvasContainer(),this.handler=n,this.delta=0,this.defaultZoomRate=A2,this.wheelZoomRate=M2}return hi()(a,[{key:"setZoomRate",value:function(n){this.defaultZoomRate=n}},{key:"setWheelZoomRate",value:function(n){this.wheelZoomRate=n}},{key:"isEnabled",value:function(){return!!this.enabled}},{key:"isActive",value:function(){return!!this.active||this.finishTimeout!==void 0}},{key:"isZooming",value:function(){return!!this.zooming}},{key:"enable",value:function(n){this.isEnabled()||(this.enabled=!0,this.aroundCenter=n&&n.around==="center")}},{key:"disable",value:function(){!this.isEnabled()||(this.enabled=!1)}},{key:"wheel",value:function(n){if(!!this.isEnabled()){var s=n.deltaMode===window.WheelEvent.DOM_DELTA_LINE?n.deltaY*40:n.deltaY,h=$g(),_=h-(this.lastWheelEventTime||0);this.lastWheelEventTime=h,s!==0&&s%Qb==0?this.type="wheel":s!==0&&Math.abs(s)<4?this.type="trackpad":_>400?(this.type=null,this.lastValue=s,this.timeout=setTimeout(this.onTimeout,40,n)):this.type||(this.type=Math.abs(_*s)<200?"trackpad":"wheel",this.timeout&&(clearTimeout(this.timeout),this.timeout=null,s+=this.lastValue)),n.shiftKey&&s&&(s=s/4),this.type&&(this.lastWheelEvent=n,this.delta-=s,this.active||this.start(n)),n.preventDefault()}}},{key:"renderFrame",value:function(){return this.onScrollFrame()}},{key:"reset",value:function(){this.active=!1}},{key:"onTimeout",value:function(n){this.type="wheel",this.delta-=this.lastValue,this.active||this.start(n)}},{key:"start",value:function(n){if(!!this.delta){this.frameId&&(this.frameId=null),this.active=!0,this.isZooming()||(this.zooming=!0),this.finishTimeout&&(clearTimeout(this.finishTimeout),delete this.finishTimeout);var s=Kd.mousePos(this.el,n);this.around=Df.convert(this.aroundCenter?this.map.getCenter():this.map.unproject(s)),this.aroundPoint=this.map.transform.locationPoint(this.around),this.frameId||(this.frameId=!0,this.handler.triggerRenderFrame())}}},{key:"smoothOutEasing",value:function(n){var s=B1;if(this.prevEase){var h=this.prevEase,_=($g()-h.start)/h.duration,Y=h.easing(_+.01)-h.easing(_),$=.27/Math.sqrt(Y*Y+1e-4)*.01,X=Math.sqrt(.27*.27-$*$);s=k1($,X,.25,1)}return this.prevEase={start:$g(),duration:n,easing:s},s}}]),a}(),I2=_2,R2=function(){function a(i,n){Ta()(this,a),Er()(this,"clickZoom",void 0),Er()(this,"tapZoom",void 0),this.clickZoom=i,this.tapZoom=n}return hi()(a,[{key:"enable",value:function(){this.clickZoom.enable(),this.tapZoom.enable()}},{key:"disable",value:function(){this.clickZoom.disable(),this.tapZoom.disable()}},{key:"isEnabled",value:function(){return this.clickZoom.isEnabled()&&this.tapZoom.isEnabled()}},{key:"isActive",value:function(){return this.clickZoom.isActive()||this.tapZoom.isActive()}}]),a}(),L2=function(){function a(i,n,s){Ta()(this,a),Er()(this,"inertiaOptions",void 0),Er()(this,"el",void 0),Er()(this,"mousePan",void 0),Er()(this,"touchPan",void 0),this.el=i,this.mousePan=n,this.touchPan=s}return hi()(a,[{key:"enable",value:function(n){this.inertiaOptions=n||{},this.mousePan.enable(),this.touchPan.enable(),this.el.classList.add("l7-touch-drag-pan")}},{key:"disable",value:function(){this.mousePan.disable(),this.touchPan.disable(),this.el.classList.remove("l7-touch-drag-pan")}},{key:"isEnabled",value:function(){return this.mousePan.isEnabled()&&this.touchPan.isEnabled()}},{key:"isActive",value:function(){return this.mousePan.isActive()||this.touchPan.isActive()}}]),a}(),D2=function(){function a(i,n,s){Ta()(this,a),Er()(this,"mouseRotate",void 0),Er()(this,"mousePitch",void 0),Er()(this,"pitchWithRotate",void 0),this.pitchWithRotate=i.pitchWithRotate,this.mouseRotate=n,this.mousePitch=s}return hi()(a,[{key:"enable",value:function(){this.mouseRotate.enable(),this.pitchWithRotate&&this.mousePitch.enable()}},{key:"disable",value:function(){this.mouseRotate.disable(),this.mousePitch.disable()}},{key:"isEnabled",value:function(){return this.mouseRotate.isEnabled()&&(!this.pitchWithRotate||this.mousePitch.isEnabled())}},{key:"isActive",value:function(){return this.mouseRotate.isActive()||this.mousePitch.isActive()}}]),a}(),F2=function(){function a(i,n,s,h){Ta()(this,a),Er()(this,"el",void 0),Er()(this,"touchZoom",void 0),Er()(this,"touchRotate",void 0),Er()(this,"tapDragZoom",void 0),Er()(this,"rotationDisabled",void 0),Er()(this,"enabled",void 0),this.el=i,this.touchZoom=n,this.touchRotate=s,this.tapDragZoom=h,this.rotationDisabled=!1,this.enabled=!0}return hi()(a,[{key:"enable",value:function(n){this.touchZoom.enable(n),this.rotationDisabled||this.touchRotate.enable(n),this.tapDragZoom.enable(),this.el.classList.add("l7-touch-zoom-rotate")}},{key:"disable",value:function(){this.touchZoom.disable(),this.touchRotate.disable(),this.tapDragZoom.disable(),this.el.classList.remove("l7-touch-zoom-rotate")}},{key:"isEnabled",value:function(){return this.touchZoom.isEnabled()&&(this.rotationDisabled||this.touchRotate.isEnabled())&&this.tapDragZoom.isEnabled()}},{key:"isActive",value:function(){return this.touchZoom.isActive()||this.touchRotate.isActive()||this.tapDragZoom.isActive()}},{key:"disableRotation",value:function(){this.rotationDisabled=!0,this.touchRotate.disable()}},{key:"enableRotation",value:function(){this.rotationDisabled=!1,this.touchZoom.isEnabled()&&this.touchRotate.enable()}}]),a}();function d0(a,i){for(var n={},s=0;s<a.length;s++)n[a[s].identifier]=i[s];return n}function RC(a,i){var n=typeof Symbol!="undefined"&&a[Symbol.iterator]||a["@@iterator"];if(!n){if(Array.isArray(a)||(n=N2(a))||i&&a&&typeof a.length=="number"){n&&(a=n);var s=0,h=function(){};return{s:h,n:function(){return s>=a.length?{done:!0}:{done:!1,value:a[s++]}},e:function(Ae){throw Ae},f:h}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var _=!0,Y=!1,$;return{s:function(){n=n.call(a)},n:function(){var Ae=n.next();return _=Ae.done,Ae},e:function(Ae){Y=!0,$=Ae},f:function(){try{!_&&n.return!=null&&n.return()}finally{if(Y)throw $}}}}function N2(a,i){if(!!a){if(typeof a=="string")return qb(a,i);var n=Object.prototype.toString.call(a).slice(8,-1);if(n==="Object"&&a.constructor&&(n=a.constructor.name),n==="Map"||n==="Set")return Array.from(a);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return qb(a,i)}}function qb(a,i){(i==null||i>a.length)&&(i=a.length);for(var n=0,s=new Array(i);n<i;n++)s[n]=a[n];return s}function j2(a){var i=new Ku(0,0),n=RC(a),s;try{for(n.s();!(s=n.n()).done;){var h=s.value;i._add(h)}}catch(_){n.e(_)}finally{n.f()}return i.div(a.length)}var K1=500,k2=500,ex=30,Z1=function(){function a(i){Ta()(this,a),Er()(this,"numTouches",void 0),Er()(this,"centroid",void 0),Er()(this,"startTime",void 0),Er()(this,"aborted",void 0),Er()(this,"touches",void 0),this.reset(),this.numTouches=i.numTouches}return hi()(a,[{key:"reset",value:function(){delete this.centroid,delete this.startTime,delete this.touches,this.aborted=!1}},{key:"touchstart",value:function(n,s,h){(this.centroid||h.length>this.numTouches)&&(this.aborted=!0),!this.aborted&&(this.startTime===void 0&&(this.startTime=n.timeStamp),h.length===this.numTouches&&(this.centroid=j2(s),this.touches=d0(h,s)))}},{key:"touchmove",value:function(n,s,h){if(!(this.aborted||!this.centroid)){var _=d0(h,s);for(var Y in this.touches)if(this.touches[Y]){var $=this.touches[Y],X=_[Y];(!X||X.dist($)>ex)&&(this.aborted=!0)}}}},{key:"touchend",value:function(n,s,h){if((!this.centroid||n.timeStamp-this.startTime>k2)&&(this.aborted=!0),h.length===0){var _=!this.aborted&&this.centroid;if(this.reset(),_)return _}}}]),a}(),Y1=function(){function a(i){Ta()(this,a),Er()(this,"singleTap",void 0),Er()(this,"numTaps",void 0),Er()(this,"lastTime",void 0),Er()(this,"lastTap",void 0),Er()(this,"count",void 0),this.singleTap=new Z1(i),this.numTaps=i.numTaps,this.reset()}return hi()(a,[{key:"reset",value:function(){this.lastTime=Infinity,delete this.lastTap,this.count=0,this.singleTap.reset()}},{key:"touchstart",value:function(n,s,h){this.singleTap.touchstart(n,s,h)}},{key:"touchmove",value:function(n,s,h){this.singleTap.touchmove(n,s,h)}},{key:"touchend",value:function(n,s,h){var _=this.singleTap.touchend(n,s,h);if(_){var Y=n.timeStamp-this.lastTime<K1,$=!this.lastTap||this.lastTap.dist(_)<ex;if((!Y||!$)&&this.reset(),this.count++,this.lastTime=n.timeStamp,this.lastTap=_,this.count===this.numTaps)return this.reset(),_}}}]),a}(),B2=function(){function a(){Ta()(this,a),Er()(this,"enabled",void 0),Er()(this,"active",void 0),Er()(this,"swipePoint",void 0),Er()(this,"swipeTouch",void 0),Er()(this,"tapTime",void 0),Er()(this,"tap",void 0),this.tap=new Y1({numTouches:1,numTaps:1}),this.reset()}return hi()(a,[{key:"reset",value:function(){this.active=!1,delete this.swipePoint,delete this.swipeTouch,delete this.tapTime,this.tap.reset()}},{key:"touchstart",value:function(n,s,h){this.swipePoint||(this.tapTime&&n.timeStamp-this.tapTime>K1&&this.reset(),this.tapTime?h.length>0&&(this.swipePoint=s[0],this.swipeTouch=h[0].identifier):this.tap.touchstart(n,s,h))}},{key:"touchmove",value:function(n,s,h){if(!this.tapTime)this.tap.touchmove(n,s,h);else if(this.swipePoint){if(h[0].identifier!==this.swipeTouch)return;var _=s[0],Y=_.y-this.swipePoint.y;return this.swipePoint=_,n.preventDefault(),this.active=!0,{zoomDelta:Y/128}}}},{key:"touchend",value:function(n,s,h){if(this.tapTime)this.swipePoint&&h.length===0&&this.reset();else{var _=this.tap.touchend(n,s,h);_&&(this.tapTime=n.timeStamp)}}},{key:"touchcancel",value:function(){this.reset()}},{key:"enable",value:function(){this.enabled=!0}},{key:"disable",value:function(){this.enabled=!1,this.reset()}},{key:"isEnabled",value:function(){return this.enabled}},{key:"isActive",value:function(){return this.active}}]),a}(),h0=function(){function a(){Ta()(this,a),Er()(this,"enabled",void 0),Er()(this,"active",void 0),Er()(this,"zoomIn",void 0),Er()(this,"zoomOut",void 0),this.zoomIn=new Y1({numTouches:1,numTaps:2}),this.zoomOut=new Y1({numTouches:2,numTaps:1}),this.reset()}return hi()(a,[{key:"reset",value:function(){this.active=!1,this.zoomIn.reset(),this.zoomOut.reset()}},{key:"touchstart",value:function(n,s,h){this.zoomIn.touchstart(n,s,h),this.zoomOut.touchstart(n,s,h)}},{key:"touchmove",value:function(n,s,h){this.zoomIn.touchmove(n,s,h),this.zoomOut.touchmove(n,s,h)}},{key:"touchend",value:function(n,s,h){var _=this,Y=this.zoomIn.touchend(n,s,h),$=this.zoomOut.touchend(n,s,h);if(Y)return this.active=!0,n.preventDefault(),setTimeout(function(){return _.reset()},0),{cameraAnimation:function(Ae){return Ae.easeTo({duration:300,zoom:Ae.getZoom()+1,around:Ae.unproject(Y)},{originalEvent:n})}};if($)return this.active=!0,n.preventDefault(),setTimeout(function(){return _.reset()},0),{cameraAnimation:function(Ae){return Ae.easeTo({duration:300,zoom:Ae.getZoom()-1,around:Ae.unproject($)},{originalEvent:n})}}}},{key:"touchcancel",value:function(){this.reset()}},{key:"enable",value:function(){this.enabled=!0}},{key:"disable",value:function(){this.enabled=!1,this.reset()}},{key:"isEnabled",value:function(){return this.enabled}},{key:"isActive",value:function(){return this.active}}]),a}(),z2=function(){function a(i){Ta()(this,a),Er()(this,"enabled",void 0),Er()(this,"active",void 0),Er()(this,"touches",void 0),Er()(this,"minTouches",void 0),Er()(this,"clickTolerance",void 0),Er()(this,"sum",void 0),this.minTouches=1,this.clickTolerance=i.clickTolerance||1,this.reset()}return hi()(a,[{key:"reset",value:function(){this.active=!1,this.touches={},this.sum=new Ku(0,0)}},{key:"touchstart",value:function(n,s,h){return this.calculateTransform(n,s,h)}},{key:"touchmove",value:function(n,s,h){if(!!this.active)return n.preventDefault(),this.calculateTransform(n,s,h)}},{key:"touchend",value:function(n,s,h){this.calculateTransform(n,s,h),this.active&&h.length<this.minTouches&&this.reset()}},{key:"touchcancel",value:function(){this.reset()}},{key:"enable",value:function(){this.enabled=!0}},{key:"disable",value:function(){this.enabled=!1,this.reset()}},{key:"isEnabled",value:function(){return this.enabled}},{key:"isActive",value:function(){return this.active}},{key:"calculateTransform",value:function(n,s,h){h.length>0&&(this.active=!0);var _=d0(h,s),Y=new Ku(0,0),$=new Ku(0,0),X=0;for(var Ae in _)if(_[Ae]){var gt=_[Ae],Ct=this.touches[Ae];Ct&&(Y._add(gt),$._add(gt.sub(Ct)),X++,_[Ae]=gt)}if(this.touches=_,!(X<this.minTouches||!$.mag())){var Lt=$.div(X);if(this.sum._add(Lt),!(this.sum.mag()<this.clickTolerance)){var Ut=Y.div(X);return{around:Ut,panDelta:Lt}}}}}]),a}(),$1=function(){function a(){Ta()(this,a),Er()(this,"enabled",void 0),Er()(this,"active",void 0),Er()(this,"firstTwoTouches",void 0),Er()(this,"vector",void 0),Er()(this,"startVector",void 0),Er()(this,"aroundCenter",void 0),this.reset()}return hi()(a,[{key:"reset",value:function(){this.active=!1,delete this.firstTwoTouches}},{key:"start",value:function(n){}},{key:"move",value:function(n,s,h){}},{key:"touchstart",value:function(n,s,h){this.firstTwoTouches||h.length<2||(this.firstTwoTouches=[h[0].identifier,h[1].identifier],this.start([s[0],s[1]]))}},{key:"touchmove",value:function(n,s,h){if(!!this.firstTwoTouches){n.preventDefault();var _=xf()(this.firstTwoTouches,2),Y=_[0],$=_[1],X=K0(h,s,Y),Ae=K0(h,s,$);if(!(!X||!Ae)){var gt=this.aroundCenter?null:X.add(Ae).div(2);return this.move([X,Ae],gt,n)}}}},{key:"touchend",value:function(n,s,h){if(!!this.firstTwoTouches){var _=xf()(this.firstTwoTouches,2),Y=_[0],$=_[1],X=K0(h,s,Y),Ae=K0(h,s,$);X&&Ae||(this.active&&Kd.suppressClick(),this.reset())}}},{key:"touchcancel",value:function(){this.reset()}},{key:"enable",value:function(n){this.enabled=!0,this.aroundCenter=!!n&&n.around==="center"}},{key:"disable",value:function(){this.enabled=!1,this.reset()}},{key:"isEnabled",value:function(){return this.enabled}},{key:"isActive",value:function(){return this.active}}]),a}();function K0(a,i,n){for(var s=0;s<a.length;s++)if(a[s].identifier===n)return i[s]}function U2(a){var i=X1();return function(){var s=ks()(a),h;if(i){var _=ks()(this).constructor;h=Reflect.construct(s,arguments,_)}else h=s.apply(this,arguments);return Fs()(this,h)}}function X1(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(a){return!1}}function tx(a){return Math.abs(a.y)>Math.abs(a.x)}var V2=100,H2=function(a){fo()(n,a);var i=U2(n);function n(){var s;Ta()(this,n);for(var h=arguments.length,_=new Array(h),Y=0;Y<h;Y++)_[Y]=arguments[Y];return s=i.call.apply(i,[this].concat(_)),Er()(Lo()(s),"valid",void 0),Er()(Lo()(s),"firstMove",void 0),Er()(Lo()(s),"lastPoints",void 0),s}return hi()(n,[{key:"reset",value:function(){H1()(ks()(n.prototype),"reset",this).call(this),this.valid=void 0,delete this.firstMove,delete this.lastPoints}},{key:"start",value:function(h){this.lastPoints=h,tx(h[0].sub(h[1]))&&(this.valid=!1)}},{key:"move",value:function(h,_,Y){var $=h[0].sub(this.lastPoints[0]),X=h[1].sub(this.lastPoints[1]);if(this.valid=this.gestureBeginsVertically($,X,Y.timeStamp),!!this.valid){this.lastPoints=h,this.active=!0;var Ae=($.y+X.y)/2,gt=-.5;return{pitchDelta:Ae*gt}}}},{key:"gestureBeginsVertically",value:function(h,_,Y){if(this.valid!==void 0)return this.valid;var $=2,X=h.mag()>=$,Ae=_.mag()>=$;if(!(!X&&!Ae)){if(!X||!Ae)return this.firstMove===void 0&&(this.firstMove=Y),Y-this.firstMove<V2?void 0:!1;var gt=h.y>0==_.y>0;return tx(h)&&tx(_)&&gt}}}]),n}($1);function W2(a){var i=G2();return function(){var s=ks()(a),h;if(i){var _=ks()(this).constructor;h=Reflect.construct(s,arguments,_)}else h=s.apply(this,arguments);return Fs()(this,h)}}function G2(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(a){return!1}}var K2=25;function rx(a,i){return a.angleWith(i)*180/Math.PI}var Q1=function(a){fo()(n,a);var i=W2(n);function n(){var s;Ta()(this,n);for(var h=arguments.length,_=new Array(h),Y=0;Y<h;Y++)_[Y]=arguments[Y];return s=i.call.apply(i,[this].concat(_)),Er()(Lo()(s),"minDiameter",void 0),s}return hi()(n,[{key:"reset",value:function(){H1()(ks()(n.prototype),"reset",this).call(this),delete this.minDiameter,delete this.startVector,delete this.vector}},{key:"start",value:function(h){this.startVector=this.vector=h[0].sub(h[1]),this.minDiameter=h[0].dist(h[1])}},{key:"move",value:function(h,_){var Y=this.vector;if(this.vector=h[0].sub(h[1]),!(!this.active&&this.isBelowThreshold(this.vector)))return this.active=!0,{bearingDelta:rx(this.vector,Y),pinchAround:_}}},{key:"isBelowThreshold",value:function(h){this.minDiameter=Math.min(this.minDiameter,h.mag());var _=Math.PI*this.minDiameter,Y=K2/_*360,$=rx(h,this.startVector);return Math.abs($)<Y}}]),n}($1);function LC(a){var i=J1();return function(){var s=ks()(a),h;if(i){var _=ks()(this).constructor;h=Reflect.construct(s,arguments,_)}else h=s.apply(this,arguments);return Fs()(this,h)}}function J1(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(a){return!1}}var DC=.1;function Z0(a,i){return Math.log(a/i)/Math.LN2}var Z2=function(a){fo()(n,a);var i=LC(n);function n(){var s;Ta()(this,n);for(var h=arguments.length,_=new Array(h),Y=0;Y<h;Y++)_[Y]=arguments[Y];return s=i.call.apply(i,[this].concat(_)),Er()(Lo()(s),"distance",void 0),Er()(Lo()(s),"startDistance",void 0),s}return hi()(n,[{key:"reset",value:function(){H1()(ks()(n.prototype),"reset",this).call(this),delete this.distance,delete this.startDistance}},{key:"start",value:function(h){this.startDistance=this.distance=h[0].dist(h[1])}},{key:"move",value:function(h,_){var Y=this.distance;if(this.distance=h[0].dist(h[1]),!(!this.active&&Math.abs(Z0(this.distance,this.startDistance))<DC))return this.active=!0,{zoomDelta:Z0(this.distance,Y),pinchAround:_}}}]),n}($1);function Ag(a,i){var n=typeof Symbol!="undefined"&&a[Symbol.iterator]||a["@@iterator"];if(!n){if(Array.isArray(a)||(n=Y2(a))||i&&a&&typeof a.length=="number"){n&&(a=n);var s=0,h=function(){};return{s:h,n:function(){return s>=a.length?{done:!0}:{done:!1,value:a[s++]}},e:function(Ae){throw Ae},f:h}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var _=!0,Y=!1,$;return{s:function(){n=n.call(a)},n:function(){var Ae=n.next();return _=Ae.done,Ae},e:function(Ae){Y=!0,$=Ae},f:function(){try{!_&&n.return!=null&&n.return()}finally{if(Y)throw $}}}}function Y2(a,i){if(!!a){if(typeof a=="string")return nx(a,i);var n=Object.prototype.toString.call(a).slice(8,-1);if(n==="Object"&&a.constructor&&(n=a.constructor.name),n==="Map"||n==="Set")return Array.from(a);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return nx(a,i)}}function nx(a,i){(i==null||i>a.length)&&(i=a.length);for(var n=0,s=new Array(i);n<i;n++)s[n]=a[n];return s}var Y0=function(i){return i.zoom||i.drag||i.pitch||i.rotate};function p0(a){return a.panDelta&&a.panDelta.mag()||a.zoomDelta||a.bearingDelta||a.pitchDelta}var FC=function(){function a(i,n){var s=this;Ta()(this,a),Er()(this,"map",void 0),Er()(this,"el",void 0),Er()(this,"handlers",void 0),Er()(this,"eventsInProgress",void 0),Er()(this,"frameId",void 0),Er()(this,"inertia",void 0),Er()(this,"bearingSnap",void 0),Er()(this,"handlersById",void 0),Er()(this,"updatingCamera",void 0),Er()(this,"changes",void 0),Er()(this,"previousActiveHandlers",void 0),Er()(this,"bearingChanged",void 0),Er()(this,"listeners",void 0),Er()(this,"handleWindowEvent",function(Ct){s.handleEvent(Ct,"".concat(Ct.type,"Window"))}),Er()(this,"handleEvent",function(Ct,Lt){if(Ct.type==="blur"){s.stop();return}s.updatingCamera=!0;var Ut=Ct.type==="renderFrame"?void 0:Ct,or={needsRenderFrame:!1},Cr={},sr={},fr=Ct.touches?s.getMapTouches(Ct.touches):void 0,_r=fr?Kd.touchPos(s.el,fr):Kd.mousePos(s.el,Ct),Qr=Ag(s.handlers),bn;try{for(Qr.s();!(bn=Qr.n()).done;){var Vn=bn.value,Xn=Vn.handlerName,Hn=Vn.handler,yn=Vn.allowed;if(!!Hn.isEnabled()){var xn=void 0;if(s.blockedByActive(sr,yn,Xn))Hn.reset();else{var Wn=Lt||Ct.type;Hn&&Hn[Wn]&&(xn=Hn[Wn](Ct,_r,fr),s.mergeIHandlerResult(or,Cr,xn,Xn,Ut),xn&&xn.needsRenderFrame&&s.triggerRenderFrame())}(xn||Hn.isActive())&&(sr[Xn]=Hn)}}}catch(ka){Qr.e(ka)}finally{Qr.f()}var Un={};for(var pa in s.previousActiveHandlers)sr[pa]||(Un[pa]=Ut);s.previousActiveHandlers=sr,(Object.keys(Un).length||p0(or))&&(s.changes.push([or,Cr,Un]),s.triggerRenderFrame()),(Object.keys(sr).length||p0(or))&&s.map.stop(!0),s.updatingCamera=!1;var Zn=or.cameraAnimation;Zn&&(s.inertia.clear(),s.fireEvents({},{}),s.changes=[],Zn(s.map))}),this.map=i,this.el=this.map.getCanvasContainer(),this.handlers=[],this.handlersById={},this.changes=[],this.inertia=new m2(i),this.bearingSnap=n.bearingSnap,this.previousActiveHandlers={},this.eventsInProgress={},this.addDefaultHandlers(n);var h=this.el;this.listeners=[[h,"touchstart",{passive:!1}],[h,"touchmove",{passive:!1}],[h,"touchend",void 0],[h,"touchcancel",void 0],[h,"mousedown",void 0],[h,"mousemove",void 0],[h,"mouseup",void 0],[window.document,"mousemove",{capture:!0}],[window.document,"mouseup",void 0],[h,"mouseover",void 0],[h,"mouseout",void 0],[h,"dblclick",void 0],[h,"click",void 0],[h,"keydown",{capture:!1}],[h,"keyup",void 0],[h,"wheel",{passive:!1}],[h,"contextmenu",void 0],[window,"blur",void 0]];var _=Ag(this.listeners),Y;try{for(_.s();!(Y=_.n()).done;){var $=xf()(Y.value,3),X=$[0],Ae=$[1],gt=$[2];Kd.addEventListener(X,Ae,X===window.document?this.handleWindowEvent:this.handleEvent,gt)}}catch(Ct){_.e(Ct)}finally{_.f()}}return hi()(a,[{key:"destroy",value:function(){var n=Ag(this.listeners),s;try{for(n.s();!(s=n.n()).done;){var h=xf()(s.value,3),_=h[0],Y=h[1],$=h[2];Kd.removeEventListener(_,Y,_===window.document?this.handleWindowEvent:this.handleEvent,$)}}catch(X){n.e(X)}finally{n.f()}}},{key:"stop",value:function(){if(!this.updatingCamera){var n=Ag(this.handlers),s;try{for(n.s();!(s=n.n()).done;){var h=s.value.handler;h.reset()}}catch(_){n.e(_)}finally{n.f()}this.inertia.clear(),this.fireEvents({},{}),this.changes=[]}}},{key:"isActive",value:function(){var n=Ag(this.handlers),s;try{for(n.s();!(s=n.n()).done;){var h=s.value.handler;if(h.isActive())return!0}}catch(_){n.e(_)}finally{n.f()}return!1}},{key:"isZooming",value:function(){return!!this.eventsInProgress.zoom||this.map.scrollZoom.isZooming()}},{key:"isRotating",value:function(){return!!this.eventsInProgress.rotate}},{key:"isMoving",value:function(){return Boolean(Y0(this.eventsInProgress))||this.isZooming()}},{key:"mergeIHandlerResult",value:function(n,s,h,_,Y){if(!!h){Zf()(n,h);var $={handlerName:_,originalEvent:h.originalEvent||Y};h.zoomDelta!==void 0&&(s.zoom=$),h.panDelta!==void 0&&(s.drag=$),h.pitchDelta!==void 0&&(s.pitch=$),h.bearingDelta!==void 0&&(s.rotate=$)}}},{key:"triggerRenderFrame",value:function(){var n=this;this.frameId===void 0&&(this.frameId=this.map.requestRenderFrame(function(s){delete n.frameId,n.handleEvent(new f2("renderFrame",{timeStamp:s})),n.applyChanges()}))}},{key:"addDefaultHandlers",value:function(n){var s=this.map,h=s.getCanvasContainer();this.add("mapEvent",new x2(s,n));var _=s.boxZoom=new TC(s,n);this.add("boxZoom",_);var Y=new h0,$=new u2;s.doubleClickZoom=new R2($,Y),this.add("tapZoom",Y),this.add("clickZoom",$);var X=new B2;this.add("tapDragZoom",X);var Ae=s.touchPitch=new H2;this.add("touchPitch",Ae);var gt=new O2(n),Ct=new T2(n);s.dragRotate=new D2(n,gt,Ct),this.add("mouseRotate",gt,["mousePitch"]),this.add("mousePitch",Ct,["mouseRotate"]);var Lt=new _C(n),Ut=new z2(n);s.dragPan=new L2(h,Lt,Ut),this.add("mousePan",Lt),this.add("touchPan",Ut,["touchZoom","touchRotate"]);var or=new Q1,Cr=new Z2;s.touchZoomRotate=new F2(h,Cr,or,X),this.add("touchRotate",or,["touchPan","touchZoom"]),this.add("touchZoom",Cr,["touchPan","touchRotate"]);var sr=s.scrollZoom=new I2(s,this);this.add("scrollZoom",sr,["mousePan"]);var fr=s.keyboard=new b2;this.add("keyboard",fr),this.add("blockableMapEvent",new l2(s));for(var _r=0,Qr=["boxZoom","doubleClickZoom","tapDragZoom","touchPitch","dragRotate","dragPan","touchZoomRotate","scrollZoom","keyboard"];_r<Qr.length;_r++){var bn=Qr[_r];n.interactive&&n[bn]&&s[bn].enable(n[bn])}}},{key:"add",value:function(n,s,h){this.handlers.push({handlerName:n,handler:s,allowed:h}),this.handlersById[n]=s}},{key:"blockedByActive",value:function(n,s,h){for(var _ in n)if(_!==h&&(!s||s.indexOf(_)<0))return!0;return!1}},{key:"getMapTouches",value:function(n){var s=[],h=Ag(n),_;try{for(h.s();!(_=h.n()).done;){var Y=_.value,$=Y.target;this.el.contains($)&&s.push(Y)}}catch(X){h.e(X)}finally{h.f()}return s}},{key:"applyChanges",value:function(){var n={},s={},h={},_=Ag(this.changes),Y;try{for(_.s();!(Y=_.n()).done;){var $=xf()(Y.value,3),X=$[0],Ae=$[1],gt=$[2];X.panDelta&&(n.panDelta=(n.panDelta||new Ku(0,0))._add(X.panDelta)),X.zoomDelta&&(n.zoomDelta=(n.zoomDelta||0)+X.zoomDelta),X.bearingDelta&&(n.bearingDelta=(n.bearingDelta||0)+X.bearingDelta),X.pitchDelta&&(n.pitchDelta=(n.pitchDelta||0)+X.pitchDelta),X.around!==void 0&&(n.around=X.around),X.pinchAround!==void 0&&(n.pinchAround=X.pinchAround),X.noInertia&&(n.noInertia=X.noInertia),Zf()(s,Ae),Zf()(h,gt)}}catch(Ct){_.e(Ct)}finally{_.f()}this.updateMapTransform(n,s,h),this.changes=[]}},{key:"updateMapTransform",value:function(n,s,h){var _=this.map,Y=_.transform;if(!p0(n))return this.fireEvents(s,h);var $=n.panDelta,X=n.zoomDelta,Ae=n.bearingDelta,gt=n.pitchDelta,Ct=n.pinchAround,Lt=n.around;Ct!==void 0&&(Lt=Ct),_.stop(!0),Lt=Lt||_.transform.centerPoint;var Ut=Y.pointLocation($?Lt.sub($):Lt);Ae&&(Y.bearing+=Ae),gt&&(Y.pitch+=gt),X&&(Y.zoom+=X),Y.setLocationAtPoint(Ut,Lt),this.map.update(),n.noInertia||this.inertia.record(n),this.fireEvents(s,h)}},{key:"fireEvents",value:function(n,s){var h=this,_=Y0(this.eventsInProgress),Y=Y0(n),$={};for(var X in n)if(n[X]){var Ae=n[X].originalEvent;this.eventsInProgress[X]||($["".concat(X,"start")]=Ae),this.eventsInProgress[X]=n[X]}!_&&Y&&this.fireEvent("movestart",Y.originalEvent);for(var gt in $)$[gt]&&this.fireEvent(gt,$[gt]);n.rotate&&(this.bearingChanged=!0),Y&&this.fireEvent("move",Y.originalEvent);for(var Ct in n)if(n[Ct]){var Lt=n[Ct].originalEvent;this.fireEvent(Ct,Lt)}var Ut={},or;for(var Cr in this.eventsInProgress)if(this.eventsInProgress[Cr]){var sr=this.eventsInProgress[Cr],fr=sr.handlerName,_r=sr.originalEvent;this.handlersById[fr].isActive()||(delete this.eventsInProgress[Cr],or=s[fr]||_r,Ut["".concat(Cr,"end")]=or)}for(var Qr in Ut)Ut[Qr]&&this.fireEvent(Qr,Ut[Qr]);var bn=Y0(this.eventsInProgress);if((_||Y)&&!bn){this.updatingCamera=!0;var Vn=this.inertia.onMoveEnd(this.map.dragPan.inertiaOptions),Xn=function(yn){return yn!==0&&-h.bearingSnap<yn&&yn<h.bearingSnap};Vn?(Xn(Vn.bearing||this.map.getBearing())&&(Vn.bearing=0),this.map.easeTo(Vn,{originalEvent:or})):(this.map.emit("moveend",new wu("moveend",{originalEvent:or})),Xn(this.map.getBearing())&&this.map.resetNorth()),this.bearingChanged=!1,this.updatingCamera=!1}}},{key:"fireEvent",value:function(n,s){this.map.emit(n,new wu(n,s?{originalEvent:s}:{}))}}]),a}(),ax=FC,ix=r("DzJC"),ox=r.n(ix),$2=function(){function a(i){var n=this;Ta()(this,a),Er()(this,"map",void 0),Er()(this,"updateHash",void 0),Er()(this,"hashName",void 0),Er()(this,"onHashChange",function(){var s=n.getCurrentHash();if(s.length>=3&&!s.some(function(_){return isNaN(+_)})){var h=n.map.dragRotate.isEnabled()&&n.map.touchZoomRotate.isEnabled()?+(s[3]||0):n.map.getBearing();return n.map.jumpTo({center:[+s[2],+s[1]],zoom:+s[0],bearing:h,pitch:+(s[4]||0)}),!0}return!1}),Er()(this,"getCurrentHash",function(){var s=window.location.hash.replace("#","");if(n.hashName){var h;return s.split("&").map(function(_){return _.split("=")}).forEach(function(_){_[0]===n.hashName&&(h=_)}),(h&&h[1]||"").split("/")}return s.split("/")}),Er()(this,"updateHashUnthrottled",function(){var s=n.getHashString();try{window.history.replaceState(window.history.state,"",s)}catch(h){}}),this.hashName=i&&encodeURIComponent(i),this.updateHash=ox()(this.updateHashUnthrottled,30*1e3/100)}return hi()(a,[{key:"addTo",value:function(n){return this.map=n,window.addEventListener("hashchange",this.onHashChange,!1),this.map.on("moveend",this.updateHash),this}},{key:"remove",value:function(){return window.removeEventListener("hashchange",this.onHashChange,!1),this.map.off("moveend",this.updateHash),delete this.map,this}},{key:"getHashString",value:function(n){var s=this.map.getCenter(),h=Math.round(this.map.getZoom()*100)/100,_=Math.ceil((h*Math.LN2+Math.log(512/360/.5))/Math.LN10),Y=Math.pow(10,_),$=Math.round(s.lng*Y)/Y,X=Math.round(s.lat*Y)/Y,Ae=this.map.getBearing(),gt=this.map.getPitch(),Ct="";if(n?Ct+="/".concat($,"/").concat(X,"/").concat(h):Ct+="".concat(h,"/").concat(X,"/").concat($),(Ae||gt)&&(Ct+="/".concat(Math.round(Ae*10)/10)),gt&&(Ct+="/".concat(Math.round(gt))),this.hashName){var Lt=this.hashName,Ut=!1,or=window.location.hash.slice(1).split("&").map(function(Cr){var sr=Cr.split("=")[0];return sr===Lt?(Ut=!0,"".concat(sr,"=").concat(Ct)):Cr}).filter(function(Cr){return Cr});return Ut||or.push("".concat(Lt,"=").concat(Ct)),"#".concat(or.join("&"))}return"#".concat(Ct)}}]),a}(),v0=$2,$0=null,m0=[],X2=30,X0=1e3/X2,Gy=window.performance,Ky={create:"create",load:"load",fullLoad:"fullLoad"},Q0={mark:function(i){Gy.mark(i)},frame:function(i){var n=i;if($0!=null){var s=n-$0;m0.push(s)}$0=n},clearMetrics:function(){$0=null,m0=[],Gy.clearMeasures("loadTime"),Gy.clearMeasures("fullLoadTime");for(var i in Ky)Gy.clearMarks(Ky[i])},getPerformanceMetrics:function(){var i=Gy.measure("loadTime",Ky.create,Ky.load).duration,n=Gy.measure("fullLoadTime",Ky.create,Ky.fullLoad).duration,s=m0.length,h=m0.reduce(function(X,Ae){return X+Ae},0)/s/1e3,_=1/h,Y=m0.filter(function(X){return X>X0}).reduce(function(X,Ae){return X+(Ae-X0)/X0},0),$=Y/(s+Y)*100;return{loadTime:i,fullLoadTime:n,fps:_,percentDroppedFrames:$}}};function sx(a,i){var n=typeof Symbol!="undefined"&&a[Symbol.iterator]||a["@@iterator"];if(!n){if(Array.isArray(a)||(n=Q2(a))||i&&a&&typeof a.length=="number"){n&&(a=n);var s=0,h=function(){};return{s:h,n:function(){return s>=a.length?{done:!0}:{done:!1,value:a[s++]}},e:function(Ae){throw Ae},f:h}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var _=!0,Y=!1,$;return{s:function(){n=n.call(a)},n:function(){var Ae=n.next();return _=Ae.done,Ae},e:function(Ae){Y=!0,$=Ae},f:function(){try{!_&&n.return!=null&&n.return()}finally{if(Y)throw $}}}}function Q2(a,i){if(!!a){if(typeof a=="string")return q1(a,i);var n=Object.prototype.toString.call(a).slice(8,-1);if(n==="Object"&&a.constructor&&(n=a.constructor.name),n==="Map"||n==="Set")return Array.from(a);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return q1(a,i)}}function q1(a,i){(i==null||i>a.length)&&(i=a.length);for(var n=0,s=new Array(i);n<i;n++)s[n]=a[n];return s}var J2=function(){function a(){Ta()(this,a),Er()(this,"queue",void 0),Er()(this,"id",void 0),Er()(this,"cleared",void 0),Er()(this,"currentlyRunning",void 0),this.queue=[],this.id=0,this.cleared=!1,this.currentlyRunning=!1}return hi()(a,[{key:"add",value:function(n){var s=++this.id,h=this.queue;return h.push({callback:n,id:s,cancelled:!1}),s}},{key:"remove",value:function(n){var s=this.currentlyRunning,h=s?this.queue.concat(s):this.queue,_=sx(h),Y;try{for(_.s();!(Y=_.n()).done;){var $=Y.value;if($.id===n){$.cancelled=!0;return}}}catch(X){_.e(X)}finally{_.f()}}},{key:"run",value:function(){var n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,s=this.currentlyRunning=this.queue;this.queue=[];var h=sx(s),_;try{for(h.s();!(_=h.n()).done;){var Y=_.value;if(!Y.cancelled&&(Y.callback(n),this.cleared))break}}catch($){h.e($)}finally{h.f()}this.cleared=!1,this.currentlyRunning=!1}},{key:"clear",value:function(){this.currentlyRunning&&(this.cleared=!0),this.queue=[]}}]),a}(),lx=J2;function q2(a){var i=eC();return function(){var s=ks()(a),h;if(i){var _=ks()(this).constructor;h=Reflect.construct(s,arguments,_)}else h=s.apply(this,arguments);return Fs()(this,h)}}function eC(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(a){return!1}}function tC(a,i){if(i||(i=document),!!i){var n=i.head||i.getElementsByTagName("head")[0];if(!n){n=i.createElement("head");var s=i.body||i.getElementsByTagName("body")[0];s?s.parentNode.insertBefore(n,s):i.documentElement.appendChild(n)}var h=i.createElement("style");return h.type="text/css",h.styleSheet?h.styleSheet.cssText=a:h.appendChild(i.createTextNode(a)),n.appendChild(h),h}}tC(`.l7-map {
  font: 12px/20px 'Helvetica Neue', Arial, Helvetica, sans-serif;
  overflow: hidden;
  position: relative;
  -webkit-tap-highlight-color: rgba(0, 0, 0, 0);
}

.l7-canvas {
  position: absolute;
  left: 0;
  top: 0;
}

.l7-map:-webkit-full-screen {
  width: 100%;
  height: 100%;
}

.l7-canary {
  background-color: salmon;
}

.l7-canvas-container.l7-interactive,
.l7-ctrl-group button.l7-ctrl-compass {
  cursor: -webkit-grab;
  cursor: grab;
  -moz-user-select: none;
  -webkit-user-select: none;
  -ms-user-select: none;
  user-select: none;
}

.l7-canvas-container.l7-interactive.l7-track-pointer {
  cursor: pointer;
}

.l7-canvas-container.l7-interactive:active,
.l7-ctrl-group button.l7-ctrl-compass:active {
  cursor: -webkit-grabbing;
  cursor: grabbing;
}

.l7-canvas-container.l7-touch-zoom-rotate,
.l7-canvas-container.l7-touch-zoom-rotate .l7-canvas {
  -ms-touch-action: pan-x pan-y;
      touch-action: pan-x pan-y;
}

.l7-canvas-container.l7-touch-drag-pan,
.l7-canvas-container.l7-touch-drag-pan .l7-canvas {
  -ms-touch-action: pinch-zoom;
      touch-action: pinch-zoom;
}

.l7-canvas-container.l7-touch-zoom-rotate.l7-touch-drag-pan,
.l7-canvas-container.l7-touch-zoom-rotate.l7-touch-drag-pan .l7-canvas {
  -ms-touch-action: none;
      touch-action: none;
}

.l7-ctrl-top-left,
.l7-ctrl-top-right,
.l7-ctrl-bottom-left,
.l7-ctrl-bottom-right { position: absolute; pointer-events: none; z-index: 2; }
.l7-ctrl-top-left     { top: 0; left: 0; }
.l7-ctrl-top-right    { top: 0; right: 0; }
.l7-ctrl-bottom-left  { bottom: 0; left: 0; }
.l7-ctrl-bottom-right { right: 0; bottom: 0; }

.l7-ctrl {
  clear: both;
  pointer-events: auto;

  /* workaround for a Safari bug https://github.com/mapbox/mapbox-gl-js/issues/8185 */
  -webkit-transform: translate(0, 0);
          transform: translate(0, 0);
}
.l7-ctrl-top-left .l7-ctrl     { margin: 10px 0 0 10px; float: left; }
.l7-ctrl-top-right .l7-ctrl    { margin: 10px 10px 0 0; float: right; }
.l7-ctrl-bottom-left .l7-ctrl  { margin: 0 0 10px 10px; float: left; }
.l7-ctrl-bottom-right .l7-ctrl { margin: 0 10px 10px 0; float: right; }


.l7-crosshair,
.l7-crosshair .l7-interactive,
.l7-crosshair .l7-interactive:active {
    cursor: crosshair;
}

.l7-boxzoom {
    position: absolute;
    top: 0;
    left: 0;
    width: 0;
    height: 0;
    background: #fff;
    border: 2px dotted #202020;
    opacity: 0.5;
    z-index: 10;
}
`);var yy=-2,ju=22,by=0,Gv=60,rC={hash:!1,zoom:-1,center:[112,32],pitch:0,bearing:0,interactive:!0,minZoom:yy,maxZoom:ju,minPitch:by,maxPitch:Gv,scrollZoom:!0,boxZoom:!0,dragRotate:!0,dragPan:!0,keyboard:!0,doubleClickZoom:!0,touchZoomRotate:!0,touchPitch:!0,bearingSnap:7,clickTolerance:3,pitchWithRotate:!0,trackResize:!0,renderWorldCopies:!0},eb=function(a){fo()(n,a);var i=q2(n);function n(s){var h;Ta()(this,n),h=i.call(this,Zf()({},rC,s)),Er()(Lo()(h),"doubleClickZoom",void 0),Er()(Lo()(h),"dragRotate",void 0),Er()(Lo()(h),"dragPan",void 0),Er()(Lo()(h),"touchZoomRotate",void 0),Er()(Lo()(h),"scrollZoom",void 0),Er()(Lo()(h),"keyboard",void 0),Er()(Lo()(h),"touchPitch",void 0),Er()(Lo()(h),"boxZoom",void 0),Er()(Lo()(h),"handlers",void 0),Er()(Lo()(h),"container",void 0),Er()(Lo()(h),"canvas",void 0),Er()(Lo()(h),"canvasContainer",void 0),Er()(Lo()(h),"renderTaskQueue",new lx),Er()(Lo()(h),"frame",void 0),Er()(Lo()(h),"trackResize",!0),Er()(Lo()(h),"hash",void 0),Er()(Lo()(h),"onWindowOnline",function(){h.update()}),Er()(Lo()(h),"onWindowResize",function(Y){h.trackResize&&h.resize({originalEvent:Y}).update()}),h.initContainer(),h.resize(),h.handlers=new ax(Lo()(h),h.options),typeof window!="undefined"&&(window.addEventListener("online",h.onWindowOnline,!1),window.addEventListener("resize",h.onWindowResize,!1),window.addEventListener("orientationchange",h.onWindowResize,!1));var _=typeof s.hash=="string"&&s.hash||void 0;return s.hash&&(h.hash=new v0(_).addTo(Lo()(h))),(!h.hash||!h.hash.onHashChange())&&(h.jumpTo({center:s.center,zoom:s.zoom,bearing:s.bearing,pitch:s.pitch}),s.bounds&&(h.resize(),h.fitBounds(s.bounds,Zf()({},s.fitBoundsOptions,{duration:0})))),h}return hi()(n,[{key:"resize",value:function(h){var _=this.containerDimensions(),Y=_[0],$=_[1];this.transform.resize(Y,$);var X=!this.moving;return X&&(this.stop(),this.emit("movestart",new Event("movestart",h)),this.emit("move",new Event("move",h))),this.emit("resize",new Event("resize",h)),X&&this.emit("moveend",new Event("moveend",h)),this}},{key:"getContainer",value:function(){return this.container}},{key:"getCanvas",value:function(){return this.canvas}},{key:"getCanvasContainer",value:function(){return this.canvasContainer}},{key:"project",value:function(h){return this.transform.locationPoint(Df.convert(h))}},{key:"unproject",value:function(h){return this.transform.pointLocation(Ku.convert(h))}},{key:"getBounds",value:function(){return this.transform.getBounds()}},{key:"getMaxBounds",value:function(){return this.transform.getMaxBounds()}},{key:"setMaxBounds",value:function(h){this.transform.setMaxBounds(c0.convert(h))}},{key:"setStyle",value:function(h){}},{key:"setMinZoom",value:function(h){if(h=h==null?yy:h,h>=yy&&h<=this.transform.maxZoom)return this.transform.minZoom=h,this.getZoom()<h&&this.setZoom(h),this;throw new Error("minZoom must be between ".concat(yy," and the current maxZoom, inclusive"))}},{key:"getMinZoom",value:function(){return this.transform.minZoom}},{key:"setMaxZoom",value:function(h){if(h=h==null?ju:h,h>=this.transform.minZoom)return this.transform.maxZoom=h,this.getZoom()>h&&this.setZoom(h),this;throw new Error("maxZoom must be greater than the current minZoom")}},{key:"getMaxZoom",value:function(){return this.transform.maxZoom}},{key:"setMinPitch",value:function(h){if(h=h==null?by:h,h<by)throw new Error("minPitch must be greater than or equal to ".concat(by));if(h>=by&&h<=this.transform.maxPitch)return this.transform.minPitch=h,this.getPitch()<h&&this.setPitch(h),this;throw new Error("minPitch must be between ".concat(by," and the current maxPitch, inclusive"))}},{key:"getMinPitch",value:function(){return this.transform.minPitch}},{key:"setMaxPitch",value:function(h){if(h=h==null?Gv:h,h>Gv)throw new Error("maxPitch must be less than or equal to ".concat(Gv));if(h>=this.transform.minPitch)return this.transform.maxPitch=h,this.getPitch()>h&&this.setPitch(h),this;throw new Error("maxPitch must be greater than the current minPitch")}},{key:"getMaxPitch",value:function(){return this.transform.maxPitch}},{key:"getRenderWorldCopies",value:function(){return this.transform.renderWorldCopies}},{key:"setRenderWorldCopies",value:function(h){this.transform.renderWorldCopies=!!h}},{key:"remove",value:function(){this.frame&&(this.frame.cancel(),this.frame=null),this.renderTaskQueue.clear()}},{key:"requestRenderFrame",value:function(h){return this.update(),this.renderTaskQueue.add(h)}},{key:"cancelRenderFrame",value:function(h){return this.renderTaskQueue.remove(h)}},{key:"triggerRepaint",value:function(){var h=this;this.frame||(this.frame=j0(function(_){Q0.frame(_),h.frame=null,h.update(_)}))}},{key:"update",value:function(h){var _=this;this.frame||(this.frame=j0(function(Y){Q0.frame(Y),_.frame=null,_.renderTaskQueue.run(h)}))}},{key:"initContainer",value:function(){if(typeof this.options.container=="string"){if(this.container=window.document.getElementById(this.options.container),!this.container)throw new Error("Container '".concat(this.options.container,"' not found."))}else if(this.options.container instanceof HTMLElement)this.container=this.options.container;else throw new Error("Invalid type: 'container' must be a String or HTMLElement.");var h=this.container;h.classList.add("l7-map");var _=this.canvasContainer=ug.a.create("div","l7-canvas-container",h);this.options.interactive&&_.classList.add("l7-interactive")}},{key:"containerDimensions",value:function(){var h=0,_=0;return this.container&&(h=this.container.clientWidth||400,_=this.container.clientHeight||300),[h,_]}},{key:"resizeCanvas",value:function(h,_){var Y=ug.a.DPR||1;this.canvas.width=Y*h,this.canvas.height=Y*_,this.canvas.style.width="".concat(h,"px"),this.canvas.style.height="".concat(_,"px")}}]),n}(Xg);function nC(a){var i=aC();return function(){var s=ks()(a),h;if(i){var _=ks()(this).constructor;h=Reflect.construct(s,arguments,_)}else h=s.apply(this,arguments);return Fs()(this,h)}}function aC(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(a){return!1}}function iC(a,i){if(i||(i=document),!!i){var n=i.head||i.getElementsByTagName("head")[0];if(!n){n=i.createElement("head");var s=i.body||i.getElementsByTagName("body")[0];s?s.parentNode.insertBefore(n,s):i.documentElement.appendChild(n)}var h=i.createElement("style");return h.type="text/css",h.styleSheet?h.styleSheet.cssText=a:h.appendChild(i.createTextNode(a)),n.appendChild(h),h}}iC(`.l7-map {
  font: 12px/20px 'Helvetica Neue', Arial, Helvetica, sans-serif;
  overflow: hidden;
  position: relative;
  -webkit-tap-highlight-color: rgba(0, 0, 0, 0);
}

.l7-canvas {
  position: absolute;
  left: 0;
  top: 0;
}

.l7-map:-webkit-full-screen {
  width: 100%;
  height: 100%;
}

.l7-canary {
  background-color: salmon;
}

.l7-canvas-container.l7-interactive,
.l7-ctrl-group button.l7-ctrl-compass {
  cursor: -webkit-grab;
  cursor: grab;
  -moz-user-select: none;
  -webkit-user-select: none;
  -ms-user-select: none;
  user-select: none;
}

.l7-canvas-container.l7-interactive.l7-track-pointer {
  cursor: pointer;
}

.l7-canvas-container.l7-interactive:active,
.l7-ctrl-group button.l7-ctrl-compass:active {
  cursor: -webkit-grabbing;
  cursor: grabbing;
}

.l7-canvas-container.l7-touch-zoom-rotate,
.l7-canvas-container.l7-touch-zoom-rotate .l7-canvas {
  -ms-touch-action: pan-x pan-y;
      touch-action: pan-x pan-y;
}

.l7-canvas-container.l7-touch-drag-pan,
.l7-canvas-container.l7-touch-drag-pan .l7-canvas {
  -ms-touch-action: pinch-zoom;
      touch-action: pinch-zoom;
}

.l7-canvas-container.l7-touch-zoom-rotate.l7-touch-drag-pan,
.l7-canvas-container.l7-touch-zoom-rotate.l7-touch-drag-pan .l7-canvas {
  -ms-touch-action: none;
      touch-action: none;
}

.l7-ctrl-top-left,
.l7-ctrl-top-right,
.l7-ctrl-bottom-left,
.l7-ctrl-bottom-right { position: absolute; pointer-events: none; z-index: 2; }
.l7-ctrl-top-left     { top: 0; left: 0; }
.l7-ctrl-top-right    { top: 0; right: 0; }
.l7-ctrl-bottom-left  { bottom: 0; left: 0; }
.l7-ctrl-bottom-right { right: 0; bottom: 0; }

.l7-ctrl {
  clear: both;
  pointer-events: auto;

  /* workaround for a Safari bug https://github.com/mapbox/mapbox-gl-js/issues/8185 */
  -webkit-transform: translate(0, 0);
          transform: translate(0, 0);
}
.l7-ctrl-top-left .l7-ctrl     { margin: 10px 0 0 10px; float: left; }
.l7-ctrl-top-right .l7-ctrl    { margin: 10px 10px 0 0; float: right; }
.l7-ctrl-bottom-left .l7-ctrl  { margin: 0 0 10px 10px; float: left; }
.l7-ctrl-bottom-right .l7-ctrl { margin: 0 10px 10px 0; float: right; }


.l7-crosshair,
.l7-crosshair .l7-interactive,
.l7-crosshair .l7-interactive:active {
    cursor: crosshair;
}

.l7-boxzoom {
    position: absolute;
    top: 0;
    left: 0;
    width: 0;
    height: 0;
    background: #fff;
    border: 2px dotted #202020;
    opacity: 0.5;
    z-index: 10;
}
`);var tb=-2,f=22,d=0,C=60,P={hash:!1,zoom:-1,center:[112,32],pitch:0,bearing:0,interactive:!0,minZoom:tb,maxZoom:f,minPitch:d,maxPitch:C,scrollZoom:!0,boxZoom:!0,dragRotate:!0,dragPan:!0,keyboard:!0,doubleClickZoom:!0,touchZoomRotate:!0,touchPitch:!0,bearingSnap:7,clickTolerance:3,pitchWithRotate:!0,trackResize:!0,renderWorldCopies:!0},G=function(a){fo()(n,a);var i=nC(n);function n(s){var h;Ta()(this,n),h=i.call(this,Zf()({},P,s)),Er()(Lo()(h),"doubleClickZoom",void 0),Er()(Lo()(h),"dragRotate",void 0),Er()(Lo()(h),"dragPan",void 0),Er()(Lo()(h),"touchZoomRotate",void 0),Er()(Lo()(h),"scrollZoom",void 0),Er()(Lo()(h),"keyboard",void 0),Er()(Lo()(h),"touchPitch",void 0),Er()(Lo()(h),"boxZoom",void 0),Er()(Lo()(h),"handlers",void 0),Er()(Lo()(h),"container",void 0),Er()(Lo()(h),"canvas",void 0),Er()(Lo()(h),"canvasContainer",void 0),Er()(Lo()(h),"renderTaskQueue",new lx),Er()(Lo()(h),"frame",void 0),Er()(Lo()(h),"trackResize",!0),Er()(Lo()(h),"hash",void 0),Er()(Lo()(h),"onWindowOnline",function(){h.update()}),Er()(Lo()(h),"onWindowResize",function(Y){h.trackResize&&h.resize({originalEvent:Y}).update()}),h.initContainer(),h.resize(),h.handlers=new ax(Lo()(h),h.options),typeof window!="undefined"&&(window.addEventListener("online",h.onWindowOnline,!1),window.addEventListener("resize",h.onWindowResize,!1),window.addEventListener("orientationchange",h.onWindowResize,!1));var _=typeof s.hash=="string"&&s.hash||void 0;return s.hash&&(h.hash=new v0(_).addTo(Lo()(h))),(!h.hash||!h.hash.onHashChange())&&(h.jumpTo({center:s.center,zoom:s.zoom,bearing:s.bearing,pitch:s.pitch}),s.bounds&&(h.resize(),h.fitBounds(s.bounds,Zf()({},s.fitBoundsOptions,{duration:0})))),h}return hi()(n,[{key:"resize",value:function(h){var _=this.containerDimensions(),Y=_[0],$=_[1];this.transform.resize(Y,$);var X=!this.moving;return X&&(this.stop(),this.emit("movestart",new Event("movestart",h)),this.emit("move",new Event("move",h))),this.emit("resize",new Event("resize",h)),X&&this.emit("moveend",new Event("moveend",h)),this}},{key:"getContainer",value:function(){return this.container}},{key:"getCanvas",value:function(){return this.canvas}},{key:"getCanvasContainer",value:function(){return this.canvasContainer}},{key:"project",value:function(h){return this.transform.locationPoint(Df.convert(h))}},{key:"unproject",value:function(h){return this.transform.pointLocation(Ku.convert(h))}},{key:"getBounds",value:function(){return this.transform.getBounds()}},{key:"getMaxBounds",value:function(){return this.transform.getMaxBounds()}},{key:"setMaxBounds",value:function(h){this.transform.setMaxBounds(c0.convert(h))}},{key:"setStyle",value:function(h){}},{key:"setMinZoom",value:function(h){if(h=h==null?tb:h,h>=tb&&h<=this.transform.maxZoom)return this.transform.minZoom=h,this.getZoom()<h&&this.setZoom(h),this;throw new Error("minZoom must be between ".concat(tb," and the current maxZoom, inclusive"))}},{key:"getMinZoom",value:function(){return this.transform.minZoom}},{key:"setMaxZoom",value:function(h){if(h=h==null?f:h,h>=this.transform.minZoom)return this.transform.maxZoom=h,this.getZoom()>h&&this.setZoom(h),this;throw new Error("maxZoom must be greater than the current minZoom")}},{key:"getMaxZoom",value:function(){return this.transform.maxZoom}},{key:"setMinPitch",value:function(h){if(h=h==null?d:h,h<d)throw new Error("minPitch must be greater than or equal to ".concat(d));if(h>=d&&h<=this.transform.maxPitch)return this.transform.minPitch=h,this.getPitch()<h&&this.setPitch(h),this;throw new Error("minPitch must be between ".concat(d," and the current maxPitch, inclusive"))}},{key:"getMinPitch",value:function(){return this.transform.minPitch}},{key:"setMaxPitch",value:function(h){if(h=h==null?C:h,h>C)throw new Error("maxPitch must be less than or equal to ".concat(C));if(h>=this.transform.minPitch)return this.transform.maxPitch=h,this.getPitch()>h&&this.setPitch(h),this;throw new Error("maxPitch must be greater than the current minPitch")}},{key:"getMaxPitch",value:function(){return this.transform.maxPitch}},{key:"getRenderWorldCopies",value:function(){return this.transform.renderWorldCopies}},{key:"setRenderWorldCopies",value:function(h){this.transform.renderWorldCopies=!!h}},{key:"remove",value:function(){this.frame&&(this.frame.cancel(),this.frame=null),this.renderTaskQueue.clear()}},{key:"requestRenderFrame",value:function(h){return this.update(),this.renderTaskQueue.add(h)}},{key:"cancelRenderFrame",value:function(h){return this.renderTaskQueue.remove(h)}},{key:"triggerRepaint",value:function(){var h=this;this.frame||(this.frame=j0(function(_){Q0.frame(_),h.frame=null,h.update(_)}))}},{key:"update",value:function(h){var _=this;this.frame||(this.frame=j0(function(Y){Q0.frame(Y),_.frame=null,_.renderTaskQueue.run(h)}))}},{key:"initContainer",value:function(){if(typeof this.options.container=="string"){if(this.container=window.document.getElementById(this.options.container),!this.container)throw new Error("Container '".concat(this.options.container,"' not found."))}else if(this.options.container instanceof HTMLElement)this.container=this.options.container;else throw new Error("Invalid type: 'container' must be a String or HTMLElement.");var h=this.container;h.classList.add("l7-map");var _=this.canvasContainer=ug.a.create("div","l7-canvas-container",h);this.options.interactive&&_.classList.add("l7-interactive")}},{key:"containerDimensions",value:function(){var h=0,_=0;return this.container&&(h=this.container.clientWidth||400,_=this.container.clientHeight||300),[h,_]}},{key:"resizeCanvas",value:function(h,_){var Y=ug.a.DPR||1;this.canvas.width=Y*h,this.canvas.height=Y*_,this.canvas.style.width="".concat(h,"px"),this.canvas.style.height="".concat(_,"px")}}]),n}(Xg),ke=function(){function a(){Ta()(this,a),Er()(this,"viewport",void 0)}return hi()(a,[{key:"syncWithMapCamera",value:function(n){var s=n.center,h=n.zoom,_=n.pitch,Y=n.bearing,$=n.viewportHeight,X=n.viewportWidth;this.viewport=new pm({width:X,height:$,longitude:s&&s[0],latitude:s&&s[1],zoom:h,pitch:_,bearing:Y})}},{key:"getZoom",value:function(){return this.viewport.zoom}},{key:"getZoomScale",value:function(){return Math.pow(2,this.getZoom())}},{key:"getCenter",value:function(){return[this.viewport.longitude,this.viewport.latitude]}},{key:"getProjectionMatrix",value:function(){return this.viewport.projectionMatrix}},{key:"getModelMatrix",value:function(){return[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1]}},{key:"getViewMatrix",value:function(){return this.viewport.viewMatrix}},{key:"getViewMatrixUncentered",value:function(){return this.viewport.viewMatrixUncentered}},{key:"getViewProjectionMatrix",value:function(){return this.viewport.viewProjectionMatrix}},{key:"getViewProjectionMatrixUncentered",value:function(){return this.viewport.viewProjectionMatrix}},{key:"getFocalDistance",value:function(){return 1}},{key:"projectFlat",value:function(n,s){return this.viewport.projectFlat(n,s)}}]),a}(),qe={light:"mapbox://styles/zcxduo/ck2ypyb1r3q9o1co1766dex29",dark:"mapbox://styles/zcxduo/ck241p6413s0b1cpayzldv7x7",normal:"mapbox://styles/mapbox/streets-v11",blank:{version:8,sources:{},layers:[{id:"background",type:"background",layout:{visibility:"none"}}]}},pt,zt,er,gr,Lr,Or,Vr,Kr,cn,Tn,xa;function za(a,i){var n=Object.keys(a);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(a);i&&(s=s.filter(function(h){return Object.getOwnPropertyDescriptor(a,h).enumerable})),n.push.apply(n,s)}return n}function zi(a){for(var i=1;i<arguments.length;i++){var n=arguments[i]!=null?arguments[i]:{};i%2?za(Object(n),!0).forEach(function(s){Er()(a,s,n[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(a,Object.getOwnPropertyDescriptors(n)):za(Object(n)).forEach(function(s){Object.defineProperty(a,s,Object.getOwnPropertyDescriptor(n,s))})}return a}var yo={mapmove:"move",camerachange:"move",zoomchange:"zoom",dragging:"drag"},Fi=12,ci=(pt=Object(Td.injectable)(),zt=Object(Td.inject)(pu.TYPES.MapConfig),er=Object(Td.inject)(pu.TYPES.IGlobalConfigService),gr=Object(Td.inject)(pu.TYPES.ICoordinateSystemService),Lr=Object(Td.inject)(pu.TYPES.IEventEmitter),pt(Or=(Vr=function(){function a(){var i=this;Ta()(this,a),Er()(this,"version",Gg.L7MAP),Er()(this,"map",void 0),Er()(this,"bgColor","rgba(0.0, 0.0, 0.0, 0.0)"),Cc()(this,"config",Kr,this),Cc()(this,"configService",cn,this),Cc()(this,"coordinateSystemService",Tn,this),Cc()(this,"eventEmitter",xa,this),Er()(this,"viewport",void 0),Er()(this,"markerContainer",void 0),Er()(this,"cameraChangedCallback",void 0),Er()(this,"$mapContainer",void 0),Er()(this,"handleCameraChanged",function(){var n=i.map.getCenter(),s=n.lat,h=n.lng,_=i.config.offsetCoordinate,Y=_===void 0?!0:_;i.viewport.syncWithMapCamera({bearing:i.map.getBearing(),center:[h,s],viewportHeight:i.map.transform.height,pitch:i.map.getPitch(),viewportWidth:i.map.transform.width,zoom:i.map.getZoom(),cameraHeight:0}),i.viewport.getZoom()>Fi&&Y?i.coordinateSystemService.setCoordinateSystem(pu.CoordinateSystem.LNGLAT_OFFSET):i.coordinateSystemService.setCoordinateSystem(pu.CoordinateSystem.LNGLAT),i.cameraChangedCallback(i.viewport)})}return hi()(a,[{key:"setBgColor",value:function(n){this.bgColor=n}},{key:"addMarkerContainer",value:function(){var n=this.map.getCanvasContainer();this.markerContainer=ug.a.create("div","l7-marker-container",n),this.markerContainer.setAttribute("tabindex","-1")}},{key:"getMarkerContainer",value:function(){return this.markerContainer}},{key:"on",value:function(n,s){pu.MapServiceEvent.indexOf(n)!==-1?this.eventEmitter.on(n,s):this.map.on(yo[n]||n,s)}},{key:"off",value:function(n,s){this.map.off(yo[n]||n,s)}},{key:"getContainer",value:function(){return this.map.getContainer()}},{key:"getMapCanvasContainer",value:function(){return this.map.getCanvasContainer()}},{key:"getSize",value:function(){var n=this.map.transform;return[n.width,n.height]}},{key:"getType",value:function(){return"default"}},{key:"getZoom",value:function(){return this.map.getZoom()}},{key:"setZoom",value:function(n){return this.map.setZoom(n)}},{key:"getCenter",value:function(){return this.map.getCenter()}},{key:"setCenter",value:function(n){this.map.setCenter(n)}},{key:"getPitch",value:function(){return this.map.getPitch()}},{key:"getRotation",value:function(){return this.map.getBearing()}},{key:"getBounds",value:function(){return this.map.getBounds().toArray()}},{key:"getMinZoom",value:function(){return this.map.getMinZoom()}},{key:"getMaxZoom",value:function(){return this.map.getMaxZoom()}},{key:"setRotation",value:function(n){this.map.setBearing(n)}},{key:"zoomIn",value:function(n,s){this.map.zoomIn(n,s)}},{key:"zoomOut",value:function(n,s){this.map.zoomOut(n,s)}},{key:"setPitch",value:function(n){return this.map.setPitch(n)}},{key:"panTo",value:function(n){this.map.panTo(n)}},{key:"panBy",value:function(){var n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;this.panTo([n,s])}},{key:"fitBounds",value:function(n,s){this.map.fitBounds(n,s)}},{key:"setMaxZoom",value:function(n){this.map.setMaxZoom(n)}},{key:"setMinZoom",value:function(n){this.map.setMinZoom(n)}},{key:"setMapStatus",value:function(n){n.doubleClickZoom===!0&&this.map.doubleClickZoom.enable(),n.doubleClickZoom===!1&&this.map.doubleClickZoom.disable(),n.dragEnable===!1&&this.map.dragPan.disable(),n.dragEnable===!0&&this.map.dragPan.enable(),n.rotateEnable===!1&&this.map.dragRotate.disable(),n.dragEnable===!0&&this.map.dragRotate.enable(),n.keyboardEnable===!1&&this.map.keyboard.disable(),n.keyboardEnable===!0&&this.map.keyboard.enable(),n.zoomEnable===!1&&this.map.scrollZoom.disable(),n.zoomEnable===!0&&this.map.scrollZoom.enable()}},{key:"setZoomAndCenter",value:function(n,s){this.map.flyTo({zoom:n,center:s})}},{key:"setMapStyle",value:function(n){this.map.setStyle(this.getMapStyle(n))}},{key:"pixelToLngLat",value:function(n){return this.map.unproject(n)}},{key:"lngLatToPixel",value:function(n){return this.map.project(n)}},{key:"containerToLngLat",value:function(n){return this.map.unproject(n)}},{key:"lngLatToContainer",value:function(n){return this.map.project(n)}},{key:"lngLatToMercator",value:function(n,s){throw new Error("not implement")}},{key:"getModelMatrix",value:function(n,s,h){var _=arguments.length>3&&arguments[3]!==void 0?arguments[3]:[1,1,1],Y=arguments.length>4&&arguments[4]!==void 0?arguments[4]:{x:0,y:0,z:0};throw new Error("not implement")}},{key:"init",value:function(){var i=wd()(cp.a.mark(function s(){var h,_,Y,$,X,Ae,gt,Ct,Lt,Ut,or;return cp.a.wrap(function(sr){for(;;)switch(sr.prev=sr.next){case 0:h=this.config,_=h.id,Y=_===void 0?"map":_,$=h.attributionControl,X=$===void 0?!1:$,Ae=h.style,gt=Ae===void 0?"light":Ae,Ct=h.rotation,Lt=Ct===void 0?0:Ct,Ut=h.mapInstance,or=Ls()(h,["id","attributionControl","style","rotation","mapInstance"]),this.viewport=new ke,Ut?(this.map=Ut,this.$mapContainer=this.map.getContainer()):(this.$mapContainer=this.creatAmapContainer(Y),this.map=new eb(zi({container:this.$mapContainer,style:this.getMapStyle(gt),bearing:Lt},or))),this.map.on("load",this.handleCameraChanged),this.map.on("move",this.handleCameraChanged),this.handleCameraChanged();case 6:case"end":return sr.stop()}},s,this)}));function n(){return i.apply(this,arguments)}return n}()},{key:"destroy",value:function(){var n,s;(n=this.$mapContainer)===null||n===void 0||(s=n.parentNode)===null||s===void 0||s.removeChild(this.$mapContainer),this.eventEmitter.removeAllListeners(),this.map&&(this.map.remove(),this.$mapContainer=null)}},{key:"emit",value:function(n){for(var s,h=arguments.length,_=new Array(h>1?h-1:0),Y=1;Y<h;Y++)_[Y-1]=arguments[Y];(s=this.eventEmitter).emit.apply(s,[n].concat(_))}},{key:"once",value:function(n){for(var s,h=arguments.length,_=new Array(h>1?h-1:0),Y=1;Y<h;Y++)_[Y-1]=arguments[Y];(s=this.eventEmitter).once.apply(s,[n].concat(_))}},{key:"getMapContainer",value:function(){return this.$mapContainer}},{key:"exportMap",value:function(n){var s=this.map.getCanvas(),h=n==="jpg"?s==null?void 0:s.toDataURL("image/jpeg"):s==null?void 0:s.toDataURL("image/png");return h}},{key:"onCameraChanged",value:function(n){this.cameraChangedCallback=n}},{key:"creatAmapContainer",value:function(n){var s=n;return typeof n=="string"&&(s=document.getElementById(n)),s}},{key:"getMapStyle",value:function(n){return typeof n!="string"?n:qe[n]?qe[n]:n}}]),a}(),Kr=Kf()(Vr.prototype,"config",[zt],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),cn=Kf()(Vr.prototype,"configService",[er],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Tn=Kf()(Vr.prototype,"coordinateSystemService",[gr],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),xa=Kf()(Vr.prototype,"eventEmitter",[Lr],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Vr))||Or);function as(a){var i=Ro();return function(){var s=ks()(a),h;if(i){var _=ks()(this).constructor;h=Reflect.construct(s,arguments,_)}else h=s.apply(this,arguments);return Fs()(this,h)}}function Ro(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(a){return!1}}var gs=function(a){fo()(n,a);var i=as(n);function n(){return Ta()(this,n),i.apply(this,arguments)}return hi()(n,[{key:"getServiceConstructor",value:function(){return ci}}]),n}(xs);function lu(a,i){var n=Object.keys(a);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(a);i&&(s=s.filter(function(h){return Object.getOwnPropertyDescriptor(a,h).enumerable})),n.push.apply(n,s)}return n}function lc(a){for(var i=1;i<arguments.length;i++){var n=arguments[i]!=null?arguments[i]:{};i%2?lu(Object(n),!0).forEach(function(s){ud(a,s,n[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(a,Object.getOwnPropertyDescriptors(n)):lu(Object(n)).forEach(function(s){Object.defineProperty(a,s,Object.getOwnPropertyDescriptor(n,s))})}return a}function ud(a,i,n){return i in a?Object.defineProperty(a,i,{value:n,enumerable:!0,configurable:!0,writable:!0}):a[i]=n,a}function Ec(a,i){return Yf(a)||sh(a,i)||cd(a,i)||Ff()}function Ff(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function cd(a,i){if(!!a){if(typeof a=="string")return Sc(a,i);var n=Object.prototype.toString.call(a).slice(8,-1);if(n==="Object"&&a.constructor&&(n=a.constructor.name),n==="Map"||n==="Set")return Array.from(a);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Sc(a,i)}}function Sc(a,i){(i==null||i>a.length)&&(i=a.length);for(var n=0,s=new Array(i);n<i;n++)s[n]=a[n];return s}function sh(a,i){var n=a==null?null:typeof Symbol!="undefined"&&a[Symbol.iterator]||a["@@iterator"];if(n!=null){var s=[],h=!0,_=!1,Y,$;try{for(n=n.call(a);!(h=(Y=n.next()).done)&&(s.push(Y.value),!(i&&s.length===i));h=!0);}catch(X){_=!0,$=X}finally{try{!h&&n.return!=null&&n.return()}finally{if(_)throw $}}return s}}function Yf(a){if(Array.isArray(a))return a}var kp=Ce.a.memo(function(a){var i=a.style,n=a.className,s=a.map,h=a.option,_=a.onSceneLoaded,Y=a.children,$=Object(I.useRef)(null),X=Object(I.useState)(),Ae=Ec(X,2),gt=Ae[0],Ct=Ae[1];return Object(I.useEffect)(function(){var Lt=new $i.Scene(lc(lc({id:$.current},h),{},{map:new gs(s)}));return Lt.on("loaded",function(){Ct(Lt),_&&_(Lt)}),function(){Lt.destroy()}},[]),Object(I.useEffect)(function(){gt&&s.style&&gt.setMapStyle(s.style)},[JSON.stringify(s.style)]),Object(I.useEffect)(function(){gt&&s.zoom&&gt.setZoom(s.zoom)},[s.zoom]),Object(I.useEffect)(function(){gt&&s.center&&gt.setCenter(s.center)},[JSON.stringify(s.center)]),Object(I.useEffect)(function(){gt&&s.pitch&&gt.setPitch(s.pitch)},[s.pitch]),Object(I.useEffect)(function(){gt&&s.rotation&&gt.setRotation(s.rotation)},[s.rotation]),Ce.a.createElement(jo.Provider,{value:gt},Ce.a.createElement("div",{ref:$,className:n,style:i},gt&&Y))}),Pv=kp;function Kv(a,i){return lh(a)||vu(a,i)||_m(a,i)||vg()}function vg(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function _m(a,i){if(!!a){if(typeof a=="string")return tv(a,i);var n=Object.prototype.toString.call(a).slice(8,-1);if(n==="Object"&&a.constructor&&(n=a.constructor.name),n==="Map"||n==="Set")return Array.from(a);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return tv(a,i)}}function tv(a,i){(i==null||i>a.length)&&(i=a.length);for(var n=0,s=new Array(i);n<i;n++)s[n]=a[n];return s}function vu(a,i){var n=a==null?null:typeof Symbol!="undefined"&&a[Symbol.iterator]||a["@@iterator"];if(n!=null){var s=[],h=!0,_=!1,Y,$;try{for(n=n.call(a);!(h=(Y=n.next()).done)&&(s.push(Y.value),!(i&&s.length===i));h=!0);}catch(X){_=!0,$=X}finally{try{!h&&n.return!=null&&n.return()}finally{if(_)throw $}}return s}}function lh(a){if(Array.isArray(a))return a}var Ch=Ce.a.memo(function(a){var i=a.style,n=a.className,s=a.map,h=a.children,_=Object(I.useRef)(null),Y=Object(I.useState)(),$=Kv(Y,2),X=$[0],Ae=$[1];return Object(I.useEffect)(function(){var gt=new $i.Scene({id:_.current,map:s});return gt.on("loaded",function(){Ae(gt)}),function(){gt.destroy()}},[]),Ce.a.createElement(jo.Provider,{value:X},Ce.a.createElement("div",{ref:_,className:n,style:i},X&&h))}),rv=["type","position"];function dp(a,i){var n=Object.keys(a);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(a);i&&(s=s.filter(function(h){return Object.getOwnPropertyDescriptor(a,h).enumerable})),n.push.apply(n,s)}return n}function Hh(a){for(var i=1;i<arguments.length;i++){var n=arguments[i]!=null?arguments[i]:{};i%2?dp(Object(n),!0).forEach(function(s){hp(a,s,n[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(a,Object.getOwnPropertyDescriptors(n)):dp(Object(n)).forEach(function(s){Object.defineProperty(a,s,Object.getOwnPropertyDescriptor(n,s))})}return a}function hp(a,i,n){return i in a?Object.defineProperty(a,i,{value:n,enumerable:!0,configurable:!0,writable:!0}):a[i]=n,a}function Im(a,i){if(a==null)return{};var n=Mg(a,i),s,h;if(Object.getOwnPropertySymbols){var _=Object.getOwnPropertySymbols(a);for(h=0;h<_.length;h++)s=_[h],!(i.indexOf(s)>=0)&&(!Object.prototype.propertyIsEnumerable.call(a,s)||(n[s]=a[s]))}return n}function Mg(a,i){if(a==null)return{};var n={},s=Object.keys(a),h,_;for(_=0;_<s.length;_++)h=s[_],!(i.indexOf(h)>=0)&&(n[h]=a[h]);return n}var Rm=Ce.a.memo(function(i){var n=Mo(),s=Object(I.useRef)(),h=i.type,_=i.position,Y=Im(i,rv);return Object(I.useEffect)(function(){var $;switch(h){case"scale":$=new $i.Scale({position:_||"bottomright"});break;case"zoom":$=new $i.Zoom(Hh({position:_||"topright"},Y));break;case"logo":$=new $i.Logo(Hh({position:_||"bottomleft"},Y));case"layer":$=new $i.Layers(Hh({position:_||"bottomleft"},Y))}return s.current=$,n.addControl($),function(){s.current=void 0,n.removeControl($)}},[h]),Object(I.useEffect)(function(){s.current&&s.current.setPosition(_||"bottomleft")},[_]),null});function ty(a,i){return pp(a)||ry(a,i)||Lm(a,i)||Eh()}function Eh(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Lm(a,i){if(!!a){if(typeof a=="string")return xy(a,i);var n=Object.prototype.toString.call(a).slice(8,-1);if(n==="Object"&&a.constructor&&(n=a.constructor.name),n==="Map"||n==="Set")return Array.from(a);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return xy(a,i)}}function xy(a,i){(i==null||i>a.length)&&(i=a.length);for(var n=0,s=new Array(i);n<i;n++)s[n]=a[n];return s}function ry(a,i){var n=a==null?null:typeof Symbol!="undefined"&&a[Symbol.iterator]||a["@@iterator"];if(n!=null){var s=[],h=!0,_=!1,Y,$;try{for(n=n.call(a);!(h=(Y=n.next()).done)&&(s.push(Y.value),!(i&&s.length===i));h=!0);}catch(X){_=!0,$=X}finally{try{!h&&n.return!=null&&n.return()}finally{if(_)throw $}}return s}}function pp(a){if(Array.isArray(a))return a}var Zy=I.useEffect,Dm=I.useState;function Yy(a){var i=a.className,n=a.style,s=a.children,h=a.position,_=Mo(),Y=Dm(function(){return document.createElement("div")}),$=ty(Y,1),X=$[0];return Zy(function(){var Ae=new $i.Control({position:h});return Ae.onAdd=function(){if(i&&(X.className=i),n){var gt=Object.keys(n).map(function(Ct){return"".concat(Ct,":").concat(n[Ct])}).join(";");X.style.cssText=gt}return X},_.addControl(Ae),function(){_.removeControl(Ae)}},[]),Object(df.createPortal)(s,X)}var mg=Object(I.createContext)({});function Zv(){return Object(I.useContext)(mg)}var Sh=I.useEffect,wv=I.memo(function(i){var n=i.layer,s=i.active;return Sh(function(){n.active(s.option)},[JSON.stringify(s)]),null}),nv=I.useEffect,_g=I.memo(function(i){var n=i.layer,s=i.animate;return nv(function(){n.animate(s)},[JSON.stringify(s)]),null}),Bp=I.useEffect,Wh=I.memo(function(i){var n=i.layer,s=i.color;return Bp(function(){s.field?n.color(s.field,s.values):n.color(s.values)},[s.field,s.scale,JSON.stringify(s.values),JSON.stringify(s.options)]),null}),gg=I.useEffect,Yv=I.memo(function(i){var n=i.layer,s=i.filter;return gg(function(){s.field&&n.filter(s.field,s.values)},[s.field,s.values,JSON.stringify(s.values),JSON.stringify(s.options)]),null}),$y=I.useEffect,Ig=I.memo(function(i){var n=i.layer,s=i.scale;return $y(function(){n.scale(s.values)},[s.values]),null}),kl=I.useEffect,av=I.memo(function(i){var n=i.layer,s=i.select;return kl(function(){n.select(s.option)},[JSON.stringify(s)]),null}),$v=I.useEffect,Nf=I.memo(function(i){var n=i.layer,s=i.shape;return $v(function(){s.field?n.shape(s.field,s.values):n.shape(s.values)},[s.field,JSON.stringify(s.values),JSON.stringify(s.options)]),null}),Xv=I.useEffect,Gh=I.memo(function(i){var n=i.layer,s=i.size;return Xv(function(){s.field?n.size(s.field,s.values):n.size(s.values)},[s.field,s.scale,JSON.stringify(s.values),JSON.stringify(s.options)]),null}),Ad=["data"];function Fm(a,i){if(a==null)return{};var n=g0(a,i),s,h;if(Object.getOwnPropertySymbols){var _=Object.getOwnPropertySymbols(a);for(h=0;h<_.length;h++)s=_[h],!(i.indexOf(s)>=0)&&(!Object.prototype.propertyIsEnumerable.call(a,s)||(n[s]=a[s]))}return n}function g0(a,i){if(a==null)return{};var n={},s=Object.keys(a),h,_;for(_=0;_<s.length;_++)h=s[_],!(i.indexOf(h)>=0)&&(n[h]=a[h]);return n}var ny=I.useEffect,Xy=I.memo(function(i){var n=i.layer,s=i.source,h=s.data,_=Fm(s,Ad);return ny(function(){n.inited?n.setData(h,_):n.source(h,_),_.autoFit&&n.fitBounds(_&&_.fitBoundsOptions)},[h,JSON.stringify(_)]),null}),qm=I.useEffect,Cy=I.memo(function(i){var n=i.layer,s=i.style;return qm(function(){n.style(s)},Object.keys(s).map(function(h){return s[h]})),null});function fd(a,i){return ay(a)||Qy(a,i)||mu(a,i)||Oo()}function Oo(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function mu(a,i){if(!!a){if(typeof a=="string")return Nm(a,i);var n=Object.prototype.toString.call(a).slice(8,-1);if(n==="Object"&&a.constructor&&(n=a.constructor.name),n==="Map"||n==="Set")return Array.from(a);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Nm(a,i)}}function Nm(a,i){(i==null||i>a.length)&&(i=a.length);for(var n=0,s=new Array(i);n<i;n++)s[n]=a[n];return s}function Qy(a,i){var n=a==null?null:typeof Symbol!="undefined"&&a[Symbol.iterator]||a["@@iterator"];if(n!=null){var s=[],h=!0,_=!1,Y,$;try{for(n=n.call(a);!(h=(Y=n.next()).done)&&(s.push(Y.value),!(i&&s.length===i));h=!0);}catch(X){_=!0,$=X}finally{try{!h&&n.return!=null&&n.return()}finally{if(_)throw $}}return s}}function ay(a){if(Array.isArray(a))return a}var iy=I.useEffect,J0=I.useState;function Rg(a,i){var n=i.source,s=i.color,h=i.shape,_=i.style,Y=i.size,$=i.scale,X=i.active,Ae=i.select,gt=i.filter,Ct=i.animate,Lt=i.options,Ut=i.onLayerLoaded,or=Mo(),Cr=J0(function(){var _r;switch(a){case"polygonLayer":_r=new $i.PolygonLayer(Lt);break;case"lineLayer":_r=new $i.LineLayer(Lt);break;case"pointLayer":_r=new $i.PointLayer(Lt);break;case"heatmapLayer":_r=new $i.HeatmapLayer(Lt);break;case"rasterLayer":_r=new $i.RasterLayer(Lt);break;case"imageLayer":_r=new $i.ImageLayer(Lt);break;case"citybuildingLayer":_r=new $i.CityBuildingLayer(Lt);break;default:_r=new $i.PolygonLayer(Lt)}return _r.on("inited",function(){Ut&&Ut(_r,or)}),_r}),sr=fd(Cr,1),fr=sr[0];return iy(function(){return or.addLayer(fr),function(){or.removeLayer(fr)}},[]),iy(function(){fr.inited&&Lt&&fr.updateLayerConfig(Lt)},[Lt==null?void 0:Lt.minZoom,Lt==null?void 0:Lt.maxZoom,Lt==null?void 0:Lt.visible]),iy(function(){fr.inited&&(Lt==null?void 0:Lt.zIndex)&&fr.setIndex(Lt.zIndex)},[Lt==null?void 0:Lt.zIndex]),iy(function(){fr.inited&&(Lt==null?void 0:Lt.blend)&&fr.setBlend(Lt.blend)},[Lt==null?void 0:Lt.blend]),iy(function(){or.render()}),I.createElement(mg.Provider,{value:fr},I.createElement(Xy,{layer:fr,source:n}),$&&I.createElement(Ig,{layer:fr,scale:$}),s&&I.createElement(Wh,{layer:fr,color:s}),Y&&I.createElement(Gh,{layer:fr,size:Y}),h&&I.createElement(Nf,{layer:fr,shape:h}),_&&I.createElement(Cy,{layer:fr,style:_}),X&&I.createElement(wv,{layer:fr,active:X}),Ae&&I.createElement(av,{layer:fr,select:Ae}),gt&&I.createElement(Yv,{layer:fr,filter:gt}),Ct&&I.createElement(_g,{layer:fr,animate:Ct}),i.children)}var y0=I.memo(function(i){return Rg("polygonLayer",i)}),rb=I.memo(function(i){return Rg("lineLayer",i)}),q0=I.memo(function(i){return Rg("pointLayer",i)}),nb=I.memo(function(i){return Rg("heatmapLayer",i)}),ab=I.memo(function(i){return Rg("rasterLayer",i)}),Qv=I.memo(function(i){return Rg("imageLayer",i)}),uh=I.memo(function(i){return Rg("citybuildingLayer",i)}),uu=I.useEffect,eg=I.memo(function(a){var i=a.type,n=a.handler,s=Zv();return uu(function(){return s.off(i,n),s.on(i,n),function(){s.off(i,n)}},[i,n]),null}),e1=I.memo(function(a){var i=[{title:"1",color:"rgb(239,243,255)"},{title:"10",color:"rgb(198,219,239)"},{title:"30",color:"rgb(158,202,225)"},{title:"50",color:"rgb(107,174,214)"},{title:"60",color:"rgb(49,130,189)"},{title:"100",color:"rgb(8,81,156)"}],n=a.items,s=n===void 0?i:n;return I.createElement("div",null,I.createElement("div",null,s.map(function(h,_){return I.createElement("div",{key:_,style:{background:h.color,height:"100%",display:"inline-block",cursor:"pointer",width:""+(100-s.length)/s.length+"%",marginRight:"1%",padding:5}})})),I.createElement("div",null,s.map(function(h,_){return I.createElement("div",{key:_,style:{background:"#fff",height:"100%",display:"inline-block",textAlign:"left",cursor:"pointer",width:""+(100-s.length)/s.length+"%",marginRight:"1%"}},h.title)})))});function b0(a){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?b0=function(n){return typeof n}:b0=function(n){return n&&typeof Symbol=="function"&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n},b0(a)}function ux(a,i){var n=Object.keys(a);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(a);i&&(s=s.filter(function(h){return Object.getOwnPropertyDescriptor(a,h).enumerable})),n.push.apply(n,s)}return n}function t1(a){for(var i=1;i<arguments.length;i++){var n=arguments[i]!=null?arguments[i]:{};i%2?ux(Object(n),!0).forEach(function(s){cx(a,s,n[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(a,Object.getOwnPropertyDescriptors(n)):ux(Object(n)).forEach(function(s){Object.defineProperty(a,s,Object.getOwnPropertyDescriptor(n,s))})}return a}function cx(a,i,n){return i in a?Object.defineProperty(a,i,{value:n,enumerable:!0,configurable:!0,writable:!0}):a[i]=n,a}function Jy(a,i){if(!(a instanceof i))throw new TypeError("Cannot call a class as a function")}function r1(a,i){for(var n=0;n<i.length;n++){var s=i[n];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(a,s.key,s)}}function x0(a,i,n){return i&&r1(a.prototype,i),n&&r1(a,n),a}function oC(a,i){if(typeof i!="function"&&i!==null)throw new TypeError("Super expression must either be null or a function");a.prototype=Object.create(i&&i.prototype,{constructor:{value:a,writable:!0,configurable:!0}}),i&&n1(a,i)}function n1(a,i){return n1=Object.setPrototypeOf||function(s,h){return s.__proto__=h,s},n1(a,i)}function sC(a){var i=lC();return function(){var s=i1(a),h;if(i){var _=i1(this).constructor;h=Reflect.construct(s,arguments,_)}else h=s.apply(this,arguments);return fx(this,h)}}function fx(a,i){if(i&&(b0(i)==="object"||typeof i=="function"))return i;if(i!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return a1(a)}function a1(a){if(a===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return a}function lC(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(a){return!1}}function i1(a){return i1=Object.setPrototypeOf?Object.getPrototypeOf:function(n){return n.__proto__||Object.getPrototypeOf(n)},i1(a)}var uC=function(a){oC(n,a);var i=sC(n);function n(s){var h;return Jy(this,n),h=i.call(this,s),h.el=void 0,h.scene=void 0,h.popup=void 0,h.el=document.createElement("div"),h}return x0(n,[{key:"componentDidMount",value:function(){var h,_=this.props,Y=_.lnglat,$=_.children,X=_.option,Ae=_.lngLat,gt=new $i.Popup(t1(t1({},X),{},{stopPropagation:(h=this.props.option)===null||h===void 0?void 0:h.stopPropagation}));Y&&gt.setLnglat(Y),Ae&&gt.setLnglat(Ae),$&&gt.setDOMContent(this.el),this.popup=gt,this.scene.addPopup(gt)}},{key:"componentDidUpdate",value:function(h){var _,Y,$,X,Ae,gt,Ct=Array.isArray(h.lnglat)?h.lnglat:[h==null||(_=h.lnglat)===null||_===void 0?void 0:_.lng,h==null||(Y=h.lnglat)===null||Y===void 0?void 0:Y.lat],Lt=Array.isArray(this.props.lnglat)?this.props.lnglat:[($=this.props)===null||$===void 0||(X=$.lnglat)===null||X===void 0?void 0:X.lng,(Ae=this.props)===null||Ae===void 0||(gt=Ae.lnglat)===null||gt===void 0?void 0:gt.lat],Ut=Ct.toString()!==Lt.toString();if(Ut){var or;this.popup.remove(),this.popup=new $i.Popup(t1(t1({},this.props.option),{},{stopPropagation:(or=this.props.option)===null||or===void 0?void 0:or.stopPropagation})),this.popup.setLnglat(this.props.lnglat),this.popup.setDOMContent(this.el),this.scene.addPopup(this.popup)}}},{key:"componentWillUnmount",value:function(){this.popup.remove()}},{key:"render",value:function(){var h=this;return I.createElement(jo.Consumer,{},function(_){return _&&(h.scene=_),Object(df.createPortal)(h.props.children,h.el)})}}]),n}(I.PureComponent);function Ey(a){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Ey=function(n){return typeof n}:Ey=function(n){return n&&typeof Symbol=="function"&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n},Ey(a)}function cC(a,i){if(!(a instanceof i))throw new TypeError("Cannot call a class as a function")}function ib(a,i){for(var n=0;n<i.length;n++){var s=i[n];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(a,s.key,s)}}function fC(a,i,n){return i&&ib(a.prototype,i),n&&ib(a,n),a}function ob(a,i){if(typeof i!="function"&&i!==null)throw new TypeError("Super expression must either be null or a function");a.prototype=Object.create(i&&i.prototype,{constructor:{value:a,writable:!0,configurable:!0}}),i&&qy(a,i)}function qy(a,i){return qy=Object.setPrototypeOf||function(s,h){return s.__proto__=h,s},qy(a,i)}function dx(a){var i=sb();return function(){var s=Sy(a),h;if(i){var _=Sy(this).constructor;h=Reflect.construct(s,arguments,_)}else h=s.apply(this,arguments);return hx(this,h)}}function hx(a,i){if(i&&(Ey(i)==="object"||typeof i=="function"))return i;if(i!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return dC(a)}function dC(a){if(a===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return a}function sb(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(a){return!1}}function Sy(a){return Sy=Object.setPrototypeOf?Object.getPrototypeOf:function(n){return n.__proto__||Object.getPrototypeOf(n)},Sy(a)}var hC=function(a){ob(n,a);var i=dx(n);function n(s){var h;return cC(this,n),h=i.call(this,s),h.el=void 0,h.scene=void 0,h.marker=void 0,h.el=document.createElement("div"),h}return fC(n,[{key:"componentDidMount",value:function(){var h=this.props,_=h.lnglat,Y=h.children,$=h.option,X=h.onMarkerLoaded,Ae=new $i.Marker($);_&&Ae.setLnglat(_),Y&&Ae.setElement(this.el),this.marker=Ae,X&&X(Ae),this.scene.addMarker(Ae)}},{key:"componentDidUpdate",value:function(h){var _,Y=(h==null?void 0:h.lnglat.toString())!==((_=this.props)===null||_===void 0?void 0:_.lnglat.toString());Y&&this.marker.setLnglat(this.props.lnglat)}},{key:"componentWillUnmount",value:function(){this.marker&&this.marker.remove()}},{key:"render",value:function(){var h=this;return I.createElement(jo.Consumer,{},function(_){return _&&(h.scene=_),Object(df.createPortal)(h.props.children,h.el)})}}]),n}(I.PureComponent),px=I.useEffect,pC=I.memo(function(a){var i=a.type,n=a.handler,s=Mo();return px(function(){return s.on(i,n),function(){s.off(i,n)}},[i]),null}),vC=pC,mC=I.useEffect,gC=I.memo(function(i){var n=i.name,s=i.url,h=Mo();return mC(function(){h.addImage(n,s)},[n,s]),null}),yC=r("LvDl"),Jv=r("nKUr");function Oy(a,i){for(var n=0,s=0;s<a.length;s+=1)a[s][i]>n&&(n=a[s].id);return n}var vx=function(){var i=Object(I.useRef)(),n=Object(I.useState)([]),s=Object(at.a)(n,2),h=s[0],_=s[1],Y=Object(I.useState)([]),$=Object(at.a)(Y,2),X=$[0],Ae=$[1],gt=Object(I.useState)("bottom"),Ct=Object(at.a)(gt,1),Lt=Ct[0],Ut=[{title:"\u7F16\u53F7",dataIndex:"id",formItemProps:function(Cr,sr){var fr=sr.rowIndex;return{rules:fr>2?[{required:!0,message:"\u6B64\u9879\u4E3A\u5FC5\u586B\u9879"}]:[]}},editable:function(Cr,sr,fr){return fr!==0},width:"15%"},{title:"\u7ECF\u5EA6",dataIndex:"longitude",fieldProps:{}},{title:"\u7EAC\u5EA6",dataIndex:"latitude",fieldProps:{}},{title:"\u63CF\u8FF0",dataIndex:"comment",fieldProps:{}},{title:"\u56FE\u7247",dataIndex:"photo",fieldProps:{},render:function(Cr,sr,fr,_r){return Object(Jv.jsx)(Te.a,{height:100,src:"/stations/"+sr.id+".jpg",fallback:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAMIAAADDCAYAAADQvc6UAAABRWlDQ1BJQ0MgUHJvZmlsZQAAKJFjYGASSSwoyGFhYGDIzSspCnJ3UoiIjFJgf8LAwSDCIMogwMCcmFxc4BgQ4ANUwgCjUcG3awyMIPqyLsis7PPOq3QdDFcvjV3jOD1boQVTPQrgSkktTgbSf4A4LbmgqISBgTEFyFYuLykAsTuAbJEioKOA7DkgdjqEvQHEToKwj4DVhAQ5A9k3gGyB5IxEoBmML4BsnSQk8XQkNtReEOBxcfXxUQg1Mjc0dyHgXNJBSWpFCYh2zi+oLMpMzyhRcASGUqqCZ16yno6CkYGRAQMDKMwhqj/fAIcloxgHQqxAjIHBEugw5sUIsSQpBobtQPdLciLEVJYzMPBHMDBsayhILEqEO4DxG0txmrERhM29nYGBddr//5/DGRjYNRkY/l7////39v///y4Dmn+LgeHANwDrkl1AuO+pmgAAADhlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAAqACAAQAAAABAAAAwqADAAQAAAABAAAAwwAAAAD9b/HnAAAHlklEQVR4Ae3dP3PTWBSGcbGzM6GCKqlIBRV0dHRJFarQ0eUT8LH4BnRU0NHR0UEFVdIlFRV7TzRksomPY8uykTk/zewQfKw/9znv4yvJynLv4uLiV2dBoDiBf4qP3/ARuCRABEFAoBEgghggQAQZQKAnYEaQBAQaASKIAQJEkAEEegJmBElAoBEgghggQAQZQKAnYEaQBAQaASKIAQJEkAEEegJmBElAoBEgghggQAQZQKAnYEaQBAQaASKIAQJEkAEEegJmBElAoBEgghggQAQZQKAnYEaQBAQaASKIAQJEkAEEegJmBElAoBEgghggQAQZQKAnYEaQBAQaASKIAQJEkAEEegJmBElAoBEgghggQAQZQKAnYEaQBAQaASKIAQJEkAEEegJmBElAoBEgghggQAQZQKAnYEaQBAQaASKIAQJEkAEEegJmBElAoBEgghggQAQZQKAnYEaQBAQaASKIAQJEkAEEegJmBElAoBEgghggQAQZQKAnYEaQBAQaASKIAQJEkAEEegJmBElAoBEgghggQAQZQKAnYEaQBAQaASKIAQJEkAEEegJmBElAoBEgghggQAQZQKAnYEaQBAQaASKIAQJEkAEEegJmBElAoBEgghggQAQZQKAnYEaQBAQaASKIAQJEkAEEegJmBElAoBEgghgg0Aj8i0JO4OzsrPv69Wv+hi2qPHr0qNvf39+iI97soRIh4f3z58/u7du3SXX7Xt7Z2enevHmzfQe+oSN2apSAPj09TSrb+XKI/f379+08+A0cNRE2ANkupk+ACNPvkSPcAAEibACyXUyfABGm3yNHuAECRNgAZLuYPgEirKlHu7u7XdyytGwHAd8jjNyng4OD7vnz51dbPT8/7z58+NB9+/bt6jU/TI+AGWHEnrx48eJ/EsSmHzx40L18+fLyzxF3ZVMjEyDCiEDjMYZZS5wiPXnyZFbJaxMhQIQRGzHvWR7XCyOCXsOmiDAi1HmPMMQjDpbpEiDCiL358eNHurW/5SnWdIBbXiDCiA38/Pnzrce2YyZ4//59F3ePLNMl4PbpiL2J0L979+7yDtHDhw8vtzzvdGnEXdvUigSIsCLAWavHp/+qM0BcXMd/q25n1vF57TYBp0a3mUzilePj4+7k5KSLb6gt6ydAhPUzXnoPR0dHl79WGTNCfBnn1uvSCJdegQhLI1vvCk+fPu2ePXt2tZOYEV6/fn31dz+shwAR1sP1cqvLntbEN9MxA9xcYjsxS1jWR4AIa2Ibzx0tc44fYX/16lV6NDFLXH+YL32jwiACRBiEbf5KcXoTIsQSpzXx4N28Ja4BQoK7rgXiydbHjx/P25TaQAJEGAguWy0+2Q8PD6/Ki4R8EVl+bzBOnZY95fq9rj9zAkTI2SxdidBHqG9+skdw43borCXO/ZcJdraPWdv22uIEiLA4q7nvvCug8WTqzQveOH26fodo7g6uFe/a17W3+nFBAkRYENRdb1vkkz1CH9cPsVy/jrhr27PqMYvENYNlHAIesRiBYwRy0V+8iXP8+/fvX11Mr7L7ECueb/r48eMqm7FuI2BGWDEG8cm+7G3NEOfmdcTQw4h9/55lhm7DekRYKQPZF2ArbXTAyu4kDYB2YxUzwg0gi/41ztHnfQG26HbGel/crVrm7tNY+/1btkOEAZ2M05r4FB7r9GbAIdxaZYrHdOsgJ/wCEQY0J74TmOKnbxxT9n3FgGGWWsVdowHtjt9Nnvf7yQM2aZU/TIAIAxrw6dOnAWtZZcoEnBpNuTuObWMEiLAx1HY0ZQJEmHJ3HNvGCBBhY6jtaMoEiJB0Z29vL6ls58vxPcO8/zfrdo5qvKO+d3Fx8Wu8zf1dW4p/cPzLly/dtv9Ts/EbcvGAHhHyfBIhZ6NSiIBTo0LNNtScABFyNiqFCBChULMNNSdAhJyNSiECRCjUbEPNCRAhZ6NSiAARCjXbUHMCRMjZqBQiQIRCzTbUnAARcjYqhQgQoVCzDTUnQIScjUohAkQo1GxDzQkQIWejUogAEQo121BzAkTI2agUIkCEQs021JwAEXI2KoUIEKFQsw01J0CEnI1KIQJEKNRsQ80JECFno1KIABEKNdtQcwJEyNmoFCJAhELNNtScABFyNiqFCBChULMNNSdAhJyNSiECRCjUbEPNCRAhZ6NSiAARCjXbUHMCRMjZqBQiQIRCzTbUnAARcjYqhQgQoVCzDTUnQIScjUohAkQo1GxDzQkQIWejUogAEQo121BzAkTI2agUIkCEQs021JwAEXI2KoUIEKFQsw01J0CEnI1KIQJEKNRsQ80JECFno1KIABEKNdtQcwJEyNmoFCJAhELNNtScABFyNiqFCBChULMNNSdAhJyNSiECRCjUbEPNCRAhZ6NSiAARCjXbUHMCRMjZqBQiQIRCzTbUnAARcjYqhQgQoVCzDTUnQIScjUohAkQo1GxDzQkQIWejUogAEQo121BzAkTI2agUIkCEQs021JwAEXI2KoUIEKFQsw01J0CEnI1KIQJEKNRsQ80JECFno1KIABEKNdtQcwJEyNmoFCJAhELNNtScABFyNiqFCBChULMNNSdAhJyNSiEC/wGgKKC4YMA4TAAAAABJRU5ErkJggg==",children:"test"})}},{title:"\u64CD\u4F5C",valueType:"option",width:200,render:function(Cr,sr,fr,_r){return[Object(Jv.jsx)("a",{onClick:function(){var bn;_r==null||(bn=_r.startEditable)===null||bn===void 0||bn.call(_r,sr.id)},children:"\u7F16\u8F91"},"editable"),Object(Jv.jsx)("a",{onClick:function(){Zr(sr).then(function(bn){bn.success===!0&&(Ae(X.filter(function(Vn){return Vn.id!==sr.id})),oe.default.success("\u5220\u9664\u6210\u529F\uFF01"))})},children:"\u5220\u9664"},"delete")]}}];return Object(Jv.jsx)(go.a,{children:Object(Jv.jsxs)(y.b,{direction:"vertical",style:{width:"100%"},children:[Object(Jv.jsx)(k.a,{children:Object(Jv.jsx)("div",{style:{height:400},children:Object(Jv.jsx)(b1,{option:{logoVisible:!0},map:{style:"light",center:[116,36],token:"1146d8e942778e17f9f6283d0f749fae",zoom:4.5},style:{position:"absolute",top:0,left:0,right:0,bottom:0},children:Object(Jv.jsx)(jo.Consumer,{children:function(Cr){Cr.removeAllMakers();for(var sr=0;sr<X.length;sr+=1){var fr=new $i.Popup({offsets:[0,20]}).setHTML("<text>\u7F16\u53F7: ".concat(X[sr].id,` <br />
                                \u7ECF\u5EA6: `).concat(X[sr].longitude,` <br />
                                \u7EAC\u5EA6: `).concat(X[sr].latitude,` <br />
                                \u5907\u6CE8: `).concat(X[sr].comment," </text>")),_r=new $i.Marker({}).setLnglat({lng:X[sr].longitude,lat:X[sr].latitude}).setPopup(fr);Cr.addMarker(_r)}}})})})}),Object(Jv.jsx)(k.a,{title:"\u8868\u683C\u64CD\u4F5C",children:Object(Jv.jsx)(u.a,{type:"primary",onClick:function(){var Cr,sr;(Cr=i.current)===null||Cr===void 0||(sr=Cr.addEditRecord)===null||sr===void 0||sr.call(Cr,{id:Oy(X,"id")+1,longitude:0,latitude:0})},icon:Object(Jv.jsx)(ct.a,{}),children:"\u65B0\u5EFA\u4E00\u884C"})}),Object(Jv.jsx)($e,{rowKey:"id",headerTitle:"\u7EC8\u7AEF\u57FA\u672C\u4FE1\u606F",actionRef:i,cardBordered:!0,recordCreatorProps:Lt!=="hidden"?{position:Lt,record:function(){return{id:Oy(X,"id")+1,longitude:0,latitude:0}}}:!1,columns:Ut,request:Object(T.a)(we.a.mark(function or(){var Cr;return we.a.wrap(function(fr){for(;;)switch(fr.prev=fr.next){case 0:return fr.next=2,hr();case 2:return Cr=fr.sent,fr.abrupt("return",{data:Cr.Clients.sort(function(_r,Qr){return _r.id-Qr.id})});case 4:case"end":return fr.stop()}},or)})),value:X,onChange:Ae,editable:{type:"multiple",editableKeys:h,onSave:function(Cr,sr,fr){Number.isNaN(parseInt(sr.id,10))||Number.isNaN(parseInt(sr.longitude,10))||Number.isNaN(parseInt(sr.latitude,10))?(oe.default.error("\u4FDD\u5B58\u5931\u8D25\uFF0C\u8BF7\u68C0\u67E5\u7F16\u53F7\u3001\u7ECF\u5EA6\u6216\u7EAC\u5EA6\u662F\u5426\u586B\u5199\u5B8C\u6574\uFF01"),Object(yC.reject)(new Error("Error Inserting!"))):ca(Cr,sr,fr).then(function(_r){return oe.default.success("\u4FDD\u5B58\u6210\u529F\uFF01"),_r})},onChange:_,actionRender:function(Cr,sr,fr){return[fr.save,fr.cancel]},deletePopconfirmMessage:"\u662F\u5426\u5220\u9664\u8BE5\u884C\uFF1F"}})]})})},NC=A.default=vx},aF1E:function(ze,A,r){"use strict";r.d(A,"a",function(){return u});var M=r("lSNA"),y=r.n(M);function T(H,k){var Z=Object.keys(H);if(Object.getOwnPropertySymbols){var oe=Object.getOwnPropertySymbols(H);k&&(oe=oe.filter(function(ne){return Object.getOwnPropertyDescriptor(H,ne).enumerable})),Z.push.apply(Z,oe)}return Z}function b(H){for(var k=1;k<arguments.length;k++){var Z=arguments[k]!=null?arguments[k]:{};k%2?T(Object(Z),!0).forEach(function(oe){y()(H,oe,Z[oe])}):Object.getOwnPropertyDescriptors?Object.defineProperties(H,Object.getOwnPropertyDescriptors(Z)):T(Object(Z)).forEach(function(oe){Object.defineProperty(H,oe,Object.getOwnPropertyDescriptor(Z,oe))})}return H}function u(H,k){var Z=k.sourceField,oe=k.targetField,ne=k.data,Te={};return ne.forEach(function(at){Te[at[Z]]=at}),H.dataArray=H.dataArray.map(function(at){var ve=at[oe];return b(b({},at),Te[ve])}),H}},aPG5:function(ze,A,r){"use strict";Object.defineProperty(A,"__esModule",{value:!0}),A.resolve=void 0;var M=r("MON2"),y=r("FV85"),T=r("qK8v"),b=r("ujMp"),u=r("cSJO"),H=function(ne,Te,at){try{return at()}catch(ve){throw T.isStackOverflowExeption(ve)?new Error(M.CIRCULAR_DEPENDENCY_IN_FACTORY(ne,Te.toString())):ve}},k=function oe(ne){return function(Te){Te.parentContext.setCurrentRequest(Te);var at=Te.bindings,ve=Te.childRequests,we=Te.target&&Te.target.isArray(),I=!Te.parentRequest||!Te.parentRequest.target||!Te.target||!Te.parentRequest.target.matchesArray(Te.target.serviceIdentifier);if(we&&I)return ve.map(function(ce){var Vt=oe(ne);return Vt(ce)});var Ce=null;if(Te.target.isOptional()&&at.length===0)return;var et=at[0],Et=et.scope===y.BindingScopeEnum.Singleton,We=et.scope===y.BindingScopeEnum.Request;if(Et&&et.activated)return et.cache;if(We&&ne!==null&&ne.has(et.id))return ne.get(et.id);if(et.type===y.BindingTypeEnum.ConstantValue)Ce=et.cache,et.activated=!0;else if(et.type===y.BindingTypeEnum.Function)Ce=et.cache,et.activated=!0;else if(et.type===y.BindingTypeEnum.Constructor)Ce=et.implementationType;else if(et.type===y.BindingTypeEnum.DynamicValue&&et.dynamicValue!==null)Ce=H("toDynamicValue",et.serviceIdentifier,function(){return et.dynamicValue(Te.parentContext)});else if(et.type===y.BindingTypeEnum.Factory&&et.factory!==null)Ce=H("toFactory",et.serviceIdentifier,function(){return et.factory(Te.parentContext)});else if(et.type===y.BindingTypeEnum.Provider&&et.provider!==null)Ce=H("toProvider",et.serviceIdentifier,function(){return et.provider(Te.parentContext)});else if(et.type===y.BindingTypeEnum.Instance&&et.implementationType!==null)Ce=u.resolveInstance(et.implementationType,ve,oe(ne));else{var ct=b.getServiceIdentifierAsString(Te.serviceIdentifier);throw new Error(M.INVALID_BINDING_TYPE+" "+ct)}return typeof et.onActivation=="function"&&(Ce=et.onActivation(Te.parentContext,Ce)),Et&&(et.cache=Ce,et.activated=!0),We&&ne!==null&&!ne.has(et.id)&&ne.set(et.id,Ce),Ce}};function Z(oe){var ne=k(oe.plan.rootRequest.requestScope);return ne(oe.plan.rootRequest)}A.resolve=Z},adzw:function(ze,A,r){"use strict";var M=r("q1tI"),y=r.n(M),T=r("/s86"),b=r("uX+g"),u=r("WFLz"),H=r("WuYN"),k=["fieldProps","children","labelCol","label","isDefaultDom","render","proFieldProps","renderFormItem","valueType","initialValue","onChange","valueEnum","params","name","valuePropName"];function Z(){return Z=Object.assign||function(I){for(var Ce=1;Ce<arguments.length;Ce++){var et=arguments[Ce];for(var Et in et)Object.prototype.hasOwnProperty.call(et,Et)&&(I[Et]=et[Et])}return I},Z.apply(this,arguments)}function oe(I,Ce){var et=Object.keys(I);if(Object.getOwnPropertySymbols){var Et=Object.getOwnPropertySymbols(I);Ce&&(Et=Et.filter(function(We){return Object.getOwnPropertyDescriptor(I,We).enumerable})),et.push.apply(et,Et)}return et}function ne(I){for(var Ce=1;Ce<arguments.length;Ce++){var et=arguments[Ce]!=null?arguments[Ce]:{};Ce%2?oe(Object(et),!0).forEach(function(Et){Te(I,Et,et[Et])}):Object.getOwnPropertyDescriptors?Object.defineProperties(I,Object.getOwnPropertyDescriptors(et)):oe(Object(et)).forEach(function(Et){Object.defineProperty(I,Et,Object.getOwnPropertyDescriptor(et,Et))})}return I}function Te(I,Ce,et){return Ce in I?Object.defineProperty(I,Ce,{value:et,enumerable:!0,configurable:!0,writable:!0}):I[Ce]=et,I}function at(I,Ce){if(I==null)return{};var et=ve(I,Ce),Et,We;if(Object.getOwnPropertySymbols){var ct=Object.getOwnPropertySymbols(I);for(We=0;We<ct.length;We++)Et=ct[We],!(Ce.indexOf(Et)>=0)&&(!Object.prototype.propertyIsEnumerable.call(I,Et)||(et[Et]=I[Et]))}return et}function ve(I,Ce){if(I==null)return{};var et={},Et=Object.keys(I),We,ct;for(ct=0;ct<Et.length;ct++)We=Et[ct],!(Ce.indexOf(We)>=0)&&(et[We]=I[We]);return et}var we=y.a.forwardRef(function(I,Ce){var et=I.fieldProps,Et=I.children,We=I.labelCol,ct=I.label,ce=I.isDefaultDom,Vt=I.render,It=I.proFieldProps,Mt=I.renderFormItem,Tt=I.valueType,ye=I.initialValue,lt=I.onChange,yt=I.valueEnum,Dt=I.params,Jt=I.name,At=I.valuePropName,vt=At===void 0?"value":At,ie=at(I,k);if(Et)return y.a.isValidElement(Et)?y.a.cloneElement(Et,ne(ne({},ie),{},{onChange:function(){for(var Ie,me=arguments.length,Ve=new Array(me),Re=0;Re<me;Re++)Ve[Re]=arguments[Re];et==null||(Ie=et.onChange)===null||Ie===void 0||Ie.call.apply(Ie,[et].concat(Ve)),lt==null||lt.apply(void 0,Ve)}},Et.props)):Et;var J=function(Ie){var me=Ie?ne(ne({},Dt),Ie||{}):Dt;return y.a.createElement(T.a,Z({ref:Ce,valuePropName:vt,text:et==null?void 0:et[vt],render:Vt,renderFormItem:Mt,valueType:Tt||"text",fieldProps:ne(ne({},et),{},{onChange:function(){for(var Re,bt=arguments.length,Pt=new Array(bt),ht=0;ht<bt;ht++)Pt[ht]=arguments[ht];et==null||(Re=et.onChange)===null||Re===void 0||Re.call.apply(Re,[et].concat(Pt)),lt==null||lt.apply(void 0,Pt)}}),valueEnum:Object(b.a)(yt)},It,ie,{mode:(It==null?void 0:It.mode)||"edit",params:me}))};return ie.dependencies&&ie.request?y.a.createElement(H.a,{name:ie.dependencies},function(ee){return J(ee)}):J()});A.a=Object(u.a)(we)},asDA:function(ze,A){function r(M,y,T,b){var u=-1,H=M==null?0:M.length;for(b&&H&&(T=M[++u]);++u<H;)T=y(T,M[u],u,M);return T}ze.exports=r},b1eo:function(ze,A,r){"use strict";var M=r("WmNS"),y=r.n(M),T=r("T2oS"),b=r("W9HT"),u=r("GNNt"),H=r("wEI+"),k=r("y8nQ"),Z=r("Vl3Y"),oe=r("q1tI"),ne=r.n(oe),Te=r("LQCs"),at=r("ft2k"),ve=r("uX+g"),we=r("9mHw"),I=r("ub+h"),Ce=r("bG1m"),et=r("2oH+"),Et=r.n(et),We=r("POPG");function ct(Tr,it){var ue=Object.keys(Tr);if(Object.getOwnPropertySymbols){var ge=Object.getOwnPropertySymbols(Tr);it&&(ge=ge.filter(function(De){return Object.getOwnPropertyDescriptor(Tr,De).enumerable})),ue.push.apply(ue,ge)}return ue}function ce(Tr){for(var it=1;it<arguments.length;it++){var ue=arguments[it]!=null?arguments[it]:{};it%2?ct(Object(ue),!0).forEach(function(ge){Vt(Tr,ge,ue[ge])}):Object.getOwnPropertyDescriptors?Object.defineProperties(Tr,Object.getOwnPropertyDescriptors(ue)):ct(Object(ue)).forEach(function(ge){Object.defineProperty(Tr,ge,Object.getOwnPropertyDescriptor(ue,ge))})}return Tr}function Vt(Tr,it,ue){return it in Tr?Object.defineProperty(Tr,it,{value:ue,enumerable:!0,configurable:!0,writable:!0}):Tr[it]=ue,Tr}function It(Tr){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?It=function(ue){return typeof ue}:It=function(ue){return ue&&typeof Symbol=="function"&&ue.constructor===Symbol&&ue!==Symbol.prototype?"symbol":typeof ue},It(Tr)}var Mt=function(it,ue){var ge=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,De=Object.keys(ue).reduce(function(rt,de){var Pe=ue[de];return Object(We.a)(Pe)||(rt[de]=Pe),rt},{});if(Object.keys(De).length<1||It(it)!=="object"||Object(We.a)(it)||it instanceof Blob)return it;var Ee={},be=function rt(de,Pe){var xe={};return de==null||de===void 0?xe:(Object.keys(de).forEach(function(Oe){var dt=Pe?[Pe,Oe].flat(1):[Oe].flat(1),Gt=de[Oe],$t=Object(I.a)(De,dt),nr=function(){var Pr=typeof $t=="function"?$t==null?void 0:$t(Gt,Oe,de):Oe;if(Array.isArray(Pr)){xe=Object(Ce.a)(xe,Pr,Gt);return}It(Pr)==="object"?Ee=ce(ce({},Ee),Pr):Pr&&(xe=Object(Ce.a)(xe,[Pr],Gt))};if($t&&typeof $t=="function"&&nr(),It(Gt)==="object"&&!Array.isArray(Gt)&&!ne.a.isValidElement(Gt)&&!(Gt instanceof Blob)){var lr=rt(Gt,dt);if(Object.keys(lr).length<1)return;xe=Object(Ce.a)(xe,[Oe],lr);return}nr()}),ge?xe:de)};return Ee=Et()({},be(it),Ee),Ee},Tt=Mt,ye=r("1O3P"),lt=r("ipCM"),yt=r("wUu8"),Dt=r("Lpa7");function Jt(Tr,it,ue,ge,De,Ee,be){try{var rt=Tr[Ee](be),de=rt.value}catch(Pe){ue(Pe);return}rt.done?it(de):Promise.resolve(de).then(ge,De)}function At(Tr){return function(){var it=this,ue=arguments;return new Promise(function(ge,De){var Ee=Tr.apply(it,ue);function be(de){Jt(Ee,ge,De,be,rt,"next",de)}function rt(de){Jt(Ee,ge,De,be,rt,"throw",de)}be(void 0)})}}function vt(Tr,it){return me(Tr)||Ie(Tr,it)||J(Tr,it)||ie()}function ie(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function J(Tr,it){if(!!Tr){if(typeof Tr=="string")return ee(Tr,it);var ue=Object.prototype.toString.call(Tr).slice(8,-1);if(ue==="Object"&&Tr.constructor&&(ue=Tr.constructor.name),ue==="Map"||ue==="Set")return Array.from(Tr);if(ue==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(ue))return ee(Tr,it)}}function ee(Tr,it){(it==null||it>Tr.length)&&(it=Tr.length);for(var ue=0,ge=new Array(it);ue<it;ue++)ge[ue]=Tr[ue];return ge}function Ie(Tr,it){var ue=Tr==null?null:typeof Symbol!="undefined"&&Tr[Symbol.iterator]||Tr["@@iterator"];if(ue!=null){var ge=[],De=!0,Ee=!1,be,rt;try{for(ue=ue.call(Tr);!(De=(be=ue.next()).done)&&(ge.push(be.value),!(it&&ge.length===it));De=!0);}catch(de){Ee=!0,rt=de}finally{try{!De&&ue.return!=null&&ue.return()}finally{if(Ee)throw rt}}return ge}}function me(Tr){if(Array.isArray(Tr))return Tr}var Ve=0;function Re(Tr){var it=Object(oe.useState)(function(){return Tr.proFieldKey?Tr.proFieldKey.toString():(Ve+=1,Ve.toString())}),ue=vt(it,1),ge=ue[0],De=Object(oe.useRef)(ge),Ee=function(){var xe=At(y.a.mark(function Oe(){var dt,Gt;return y.a.wrap(function(nr){for(;;)switch(nr.prev=nr.next){case 0:return nr.next=2,(dt=Tr.request)===null||dt===void 0?void 0:dt.call(Tr,Tr.params,Tr);case 2:return Gt=nr.sent,nr.abrupt("return",Gt);case 4:case"end":return nr.stop()}},Oe)}));return function(){return xe.apply(this,arguments)}}(),be=Object(oe.useMemo)(function(){return Tr.params?[De.current,JSON.stringify(Tr.params)]:De.current},[Tr.params]),rt=Object(Dt.a)(be,Ee,{revalidateOnFocus:!1,shouldRetryOnError:!1,revalidateOnReconnect:!1}),de=rt.data,Pe=rt.error;return[de||Pe,function(){Object(Dt.b)(be)}]}var bt=Re,Pt=function(){return Pt=Object.assign||function(Tr){for(var it,ue=1,ge=arguments.length;ue<ge;ue++){it=arguments[ue];for(var De in it)Object.prototype.hasOwnProperty.call(it,De)&&(Tr[De]=it[De])}return Tr},Pt.apply(this,arguments)};function ht(Tr){var it,ue=window.URL,ge=new ue((it=window==null?void 0:window.location)===null||it===void 0?void 0:it.href);return Object.keys(Tr).forEach(function(De){var Ee=Tr[De];Ee!=null?Array.isArray(Ee)?(ge.searchParams.delete(De),Ee.forEach(function(be){ge.searchParams.append(De,be)})):Ee instanceof Date?Number.isNaN(Ee.getTime())||ge.searchParams.set(De,Ee.toISOString()):typeof Ee=="object"?ge.searchParams.set(De,JSON.stringify(Ee)):ge.searchParams.set(De,Ee):ge.searchParams.delete(De)}),ge}function Ye(Tr){var it;Tr===void 0&&(Tr={});var ue=Object(oe.useState)(),ge=ue[1],De=(it=window==null?void 0:window.location)===null||it===void 0?void 0:it.search,Ee=Object(oe.useMemo)(function(){return new URLSearchParams(De||{})},[De]),be=Object(oe.useMemo)(function(){if(typeof window=="undefined"||!window.URL)return{};var Pe=[];Ee.forEach(function(Oe,dt){Pe.push({key:dt,value:Oe})}),Pe=Pe.reduce(function(Oe,dt){return(Oe[dt.key]=Oe[dt.key]||[]).push(dt),Oe},{}),Pe=Object.keys(Pe).map(function(Oe){var dt=Pe[Oe];return dt.length===1?[Oe,dt[0].value]:[Oe,dt.map(function(Gt){var $t=Gt.value;return $t})]});var xe=Pt({},Tr);return Pe.forEach(function(Oe){var dt=Oe[0],Gt=Oe[1];xe[dt]=nt(dt,Gt,{},Tr)}),xe},[Tr,Ee]);function rt(Pe){if(!(typeof window=="undefined"||!window.URL)){var xe=ht(Pe);window.location.search!==xe.search&&window.history.replaceState({},"",xe.toString()),Ee.toString()!==xe.searchParams.toString()&&ge({})}}Object(oe.useEffect)(function(){typeof window=="undefined"||!window.URL||rt(Pt(Pt({},Tr),be))},[be]);var de=function(xe){rt(xe)};return Object(oe.useEffect)(function(){if(typeof window=="undefined"||!window.URL)return function(){};var Pe=function(){ge({})};return window.addEventListener("popstate",Pe),function(){window.removeEventListener("popstate",Pe)}},[]),[be,de]}var Ke={true:!0,false:!1};function nt(Tr,it,ue,ge){if(!ue)return it;var De=ue[Tr],Ee=it===void 0?ge[Tr]:it;return De===Number?Number(Ee):De===Boolean||it==="true"||it==="false"?Ke[Ee]:Array.isArray(De)?De.find(function(be){return be==Ee})||ge[Tr]:Ee}var Ot=r("lS/g"),Xe=r("DYRE"),xt=r("zeV3"),Ne=r("+L6B"),B=r("2/Rp"),z=r("BGR+");function q(Tr,it){var ue=Object.keys(Tr);if(Object.getOwnPropertySymbols){var ge=Object.getOwnPropertySymbols(Tr);it&&(ge=ge.filter(function(De){return Object.getOwnPropertyDescriptor(Tr,De).enumerable})),ue.push.apply(ue,ge)}return ue}function S(Tr){for(var it=1;it<arguments.length;it++){var ue=arguments[it]!=null?arguments[it]:{};it%2?q(Object(ue),!0).forEach(function(ge){K(Tr,ge,ue[ge])}):Object.getOwnPropertyDescriptors?Object.defineProperties(Tr,Object.getOwnPropertyDescriptors(ue)):q(Object(ue)).forEach(function(ge){Object.defineProperty(Tr,ge,Object.getOwnPropertyDescriptor(ue,ge))})}return Tr}function K(Tr,it,ue){return it in Tr?Object.defineProperty(Tr,it,{value:ue,enumerable:!0,configurable:!0,writable:!0}):Tr[it]=ue,Tr}function fe(){return fe=Object.assign||function(Tr){for(var it=1;it<arguments.length;it++){var ue=arguments[it];for(var ge in ue)Object.prototype.hasOwnProperty.call(ue,ge)&&(Tr[ge]=ue[ge])}return Tr},fe.apply(this,arguments)}var Fe=function(it){var ue=Object(Te.d)();if(it.render===!1)return null;var ge=it.form,De=it.onSubmit,Ee=it.render,be=it.onReset,rt=it.searchConfig,de=rt===void 0?{}:rt,Pe=it.submitButtonProps,xe=it.resetButtonProps,Oe=xe===void 0?{}:xe,dt=function(){ge.submit(),De==null||De()},Gt=function(){ge.resetFields(),requestAnimationFrame(function(){be==null||be()})},$t=de.submitText,nr=$t===void 0?ue.getMessage("tableForm.submit","\u63D0\u4EA4"):$t,lr=de.resetText,Dr=lr===void 0?ue.getMessage("tableForm.reset","\u91CD\u7F6E"):lr,Pr=[];Oe!==!1&&Pr.push(ne.a.createElement(B.a,fe({},Object(z.a)(Oe,["preventDefault"]),{key:"rest",onClick:function(dn){var Rn;(Oe==null?void 0:Oe.preventDefault)||Gt(),Oe==null||(Rn=Oe.onClick)===null||Rn===void 0||Rn.call(Oe,dn)}}),Dr)),Pe!==!1&&Pr.push(ne.a.createElement(B.a,fe({type:"primary"},Object(z.a)(Pe||{},["preventDefault"]),{key:"submit",onClick:function(dn){var Rn;(Pe==null?void 0:Pe.preventDefault)||dt(),Pe==null||(Rn=Pe.onClick)===null||Rn===void 0||Rn.call(Pe,dn)}}),nr));var Wr=Ee?Ee(S(S({},it),{},{submit:dt,reset:Gt}),Pr):Pr;return Wr?Array.isArray(Wr)?(Wr==null?void 0:Wr.length)<1?null:(Wr==null?void 0:Wr.length)===1?Wr[0]:ne.a.createElement(xt.b,null,Wr):Wr:null},pe=Fe,Me=r("Kwbf"),U=["children","contentRender","submitter","fieldProps","formItemProps","groupProps","dateFormatter","form","formRef","onInit","formComponentType","extraUrlParams","syncToUrl","syncToInitialValues","onReset","omitNil","isKeyPressSubmit"],le=["request","params","initialValues"];function Le(){return Le=Object.assign||function(Tr){for(var it=1;it<arguments.length;it++){var ue=arguments[it];for(var ge in ue)Object.prototype.hasOwnProperty.call(ue,ge)&&(Tr[ge]=ue[ge])}return Tr},Le.apply(this,arguments)}function ot(Tr,it){var ue=Object.keys(Tr);if(Object.getOwnPropertySymbols){var ge=Object.getOwnPropertySymbols(Tr);it&&(ge=ge.filter(function(De){return Object.getOwnPropertyDescriptor(Tr,De).enumerable})),ue.push.apply(ue,ge)}return ue}function St(Tr){for(var it=1;it<arguments.length;it++){var ue=arguments[it]!=null?arguments[it]:{};it%2?ot(Object(ue),!0).forEach(function(ge){Ge(Tr,ge,ue[ge])}):Object.getOwnPropertyDescriptors?Object.defineProperties(Tr,Object.getOwnPropertyDescriptors(ue)):ot(Object(ue)).forEach(function(ge){Object.defineProperty(Tr,ge,Object.getOwnPropertyDescriptor(ue,ge))})}return Tr}function Ge(Tr,it,ue){return it in Tr?Object.defineProperty(Tr,it,{value:ue,enumerable:!0,configurable:!0,writable:!0}):Tr[it]=ue,Tr}function Be(Tr,it,ue,ge,De,Ee,be){try{var rt=Tr[Ee](be),de=rt.value}catch(Pe){ue(Pe);return}rt.done?it(de):Promise.resolve(de).then(ge,De)}function Nt(Tr){return function(){var it=this,ue=arguments;return new Promise(function(ge,De){var Ee=Tr.apply(it,ue);function be(de){Be(Ee,ge,De,be,rt,"next",de)}function rt(de){Be(Ee,ge,De,be,rt,"throw",de)}be(void 0)})}}function kt(Tr,it){return ar(Tr)||Qt(Tr,it)||ut(Tr,it)||ft()}function ft(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function ut(Tr,it){if(!!Tr){if(typeof Tr=="string")return Ze(Tr,it);var ue=Object.prototype.toString.call(Tr).slice(8,-1);if(ue==="Object"&&Tr.constructor&&(ue=Tr.constructor.name),ue==="Map"||ue==="Set")return Array.from(Tr);if(ue==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(ue))return Ze(Tr,it)}}function Ze(Tr,it){(it==null||it>Tr.length)&&(it=Tr.length);for(var ue=0,ge=new Array(it);ue<it;ue++)ge[ue]=Tr[ue];return ge}function Qt(Tr,it){var ue=Tr==null?null:typeof Symbol!="undefined"&&Tr[Symbol.iterator]||Tr["@@iterator"];if(ue!=null){var ge=[],De=!0,Ee=!1,be,rt;try{for(ue=ue.call(Tr);!(De=(be=ue.next()).done)&&(ge.push(be.value),!(it&&ge.length===it));De=!0);}catch(de){Ee=!0,rt=de}finally{try{!De&&ue.return!=null&&ue.return()}finally{if(Ee)throw rt}}return ge}}function ar(Tr){if(Array.isArray(Tr))return Tr}function zr(Tr,it){if(Tr==null)return{};var ue=qr(Tr,it),ge,De;if(Object.getOwnPropertySymbols){var Ee=Object.getOwnPropertySymbols(Tr);for(De=0;De<Ee.length;De++)ge=Ee[De],!(it.indexOf(ge)>=0)&&(!Object.prototype.propertyIsEnumerable.call(Tr,ge)||(ue[ge]=Tr[ge]))}return ue}function qr(Tr,it){if(Tr==null)return{};var ue={},ge=Object.keys(Tr),De,Ee;for(Ee=0;Ee<ge.length;Ee++)De=ge[Ee],!(it.indexOf(De)>=0)&&(ue[De]=Tr[De]);return ue}var tn=function(it,ue,ge){return it===!0?ue:Object(ve.a)(it,ue,ge)};function _n(Tr){var it=Tr.children,ue=Tr.contentRender,ge=Tr.submitter,De=Tr.fieldProps,Ee=Tr.formItemProps,be=Tr.groupProps,rt=Tr.dateFormatter,de=rt===void 0?"string":rt,Pe=Tr.form,xe=Tr.formRef,Oe=Tr.onInit,dt=Tr.formComponentType,Gt=Tr.extraUrlParams,$t=Gt===void 0?{}:Gt,nr=Tr.syncToUrl,lr=Tr.syncToInitialValues,Dr=lr===void 0?!0:lr,Pr=Tr.onReset,Wr=Tr.omitNil,an=Wr===void 0?!0:Wr,dn=Tr.isKeyPressSubmit,Rn=zr(Tr,U),zn=Z.a.useForm(),Qn=kt(zn,1),Ma=Qn[0],Ca=Ye({}),ia=kt(Ca,2),_a=ia[0],$a=ia[1],ra=Object(oe.useRef)(Pe||Ma),ni=Object(oe.useRef)({}),Da=Object(oe.useRef)({}),Fa=Object(we.a)(!1),ba=kt(Fa,2),Oi=ba[0],Do=ba[1],Li=ne.a.Children.toArray(it),Ui=Object(oe.useMemo)(function(){return typeof ge=="boolean"||!ge?{}:ge},[ge]),Na=Object(oe.useCallback)(function(Ba,Pa,lo){return Tt(Object(ye.b)(Ba,de,ni.current,Pa,lo),Da.current,Pa)},[de]),wa=Object(oe.useMemo)(function(){return{getFieldsFormatValue:function(Pa){return Na(ra.current.getFieldsValue(Pa),an)},getFieldFormatValue:function(Pa){return Na(ra.current.getFieldValue(Pa),an,Pa)},validateFieldsReturnFormatValue:function(){var Ba=Nt(y.a.mark(function lo(No){var La;return y.a.wrap(function(Wt){for(;;)switch(Wt.prev=Wt.next){case 0:return Wt.next=2,ra.current.validateFields(No);case 2:return La=Wt.sent,Wt.abrupt("return",Na(La,an));case 4:case"end":return Wt.stop()}},lo)}));function Pa(lo){return Ba.apply(this,arguments)}return Pa}()}},[an,Na]);Object(oe.useImperativeHandle)(xe,function(){return St(St({},ra.current),wa)});var ga=Object(oe.useMemo)(function(){if(ge!==!1)return ne.a.createElement(pe,Le({key:"submitter"},Ui,{onReset:function(){var Pa,lo=Na(ra.current.getFieldsValue(),an);if(Ui==null||(Pa=Ui.onReset)===null||Pa===void 0||Pa.call(Ui,lo),Pr==null||Pr(lo),nr){var No=Object.keys(Na(ra.current.getFieldsValue(),!1)).reduce(function(La,mr){return St(St({},La),{},Ge({},mr,lo[mr]||void 0))},$t);$a(tn(nr,No,"set"))}},form:Pe||Ma,submitButtonProps:St({loading:Oi},Ui.submitButtonProps)}))},[$t,Ma,Oi,an,Pr,$a,ge,Ui,nr,Na,Pe]),pi=Object(oe.useMemo)(function(){return ue?ue(Li,ga,ra.current):Li},[ue,Li,ga]),_o=Object(oe.useMemo)(function(){if(dt&&["DrawerForm"].includes(dt))return function(Ba){return Ba.parentNode||document.body}},[dt]);Object(oe.useEffect)(function(){var Ba=Na(ra.current.getFieldsValue(!0),an);Oe==null||Oe(Ba)},[]);var To=Object(oe.useState)(function(){return nr?tn(nr,_a,"get"):{}}),so=kt(To,2),vi=so[0],ko=so[1];Object(oe.useEffect)(function(){Dr||window.requestAnimationFrame(function(){ko({})})},[Dr]);var bo=Object(at.a)(Tr.initialValues);return Object(oe.useEffect)(function(){if(!(nr||!Tr.initialValues||!bo||Rn.request)){var Ba=Object(lt.a)(Tr.initialValues,bo);Object(Me.b)(Ba,"initialValues \u53EA\u5728 form \u521D\u59CB\u5316\u65F6\u751F\u6548\uFF0C\u5982\u679C\u4F60\u9700\u8981\u5F02\u6B65\u52A0\u8F7D\u63A8\u8350\u4F7F\u7528 request\uFF0C\u6216\u8005 initialValues ? <Form/> : null "),Object(Me.b)(Ba,"The initialValues only take effect when the form is initialized, if you need to load asynchronously recommended request, or the initialValues ? <Form/> : null ")}},[Tr.initialValues]),Object(oe.useEffect)(function(){!nr||$a(St(St({},_a),$t))},[$t,nr]),ne.a.createElement(Te.a,null,ne.a.createElement(Ot.a.Provider,{value:{formRef:ra,fieldProps:De,formItemProps:Ee,groupProps:be,formComponentType:dt,getPopupContainer:_o,setFieldValueType:function(Pa,lo){var No=lo.valueType,La=No===void 0?"text":No,mr=lo.dateFormat,Wt=lo.transform;Array.isArray(Pa)&&(Da.current=Object(Ce.a)(Da.current,Pa,Wt),ni.current=Object(Ce.a)(ni.current,Pa,{valueType:La,dateFormat:mr}))}}},ne.a.createElement(yt.a.Provider,{value:wa},ne.a.createElement(H.b.SizeContext.Provider,{value:Rn.size},ne.a.createElement(Z.a,Le({onKeyPress:function(Pa){if(!!dn&&Pa.key==="Enter"){var lo;(lo=ra.current)===null||lo===void 0||lo.submit()}},form:Pe||Ma},Rn,{initialValues:St(St({},vi),Rn.initialValues),onValuesChange:function(Pa,lo){var No;Rn==null||(No=Rn.onValuesChange)===null||No===void 0||No.call(Rn,Na(Pa,an),Na(lo,an))},onFinish:Nt(y.a.mark(function Ba(){var Pa,lo;return y.a.wrap(function(La){for(;;)switch(La.prev=La.next){case 0:if(Rn.onFinish){La.next=2;break}return La.abrupt("return");case 2:if(!Oi){La.next=4;break}return La.abrupt("return");case 4:return Do(!0),La.prev=5,Pa=Na(ra.current.getFieldsValue(),an),La.next=9,Rn.onFinish(Pa);case 9:nr&&(lo=Object.keys(Na(ra.current.getFieldsValue(),!1)).reduce(function(mr,Wt){return St(St({},mr),{},Ge({},Wt,Pa[Wt]||void 0))},$t),Object.keys(_a).forEach(function(mr){lo[mr]||(lo[mr]=void 0)}),$a(tn(nr,lo,"set"))),Do(!1),La.next=16;break;case 13:La.prev=13,La.t0=La.catch(5),Do(!1);case 16:case"end":return La.stop()}},Ba,null,[[5,13]])}))}),Rn.component!==!1&&ne.a.createElement("input",{type:"text",style:{display:"none"}}),ne.a.createElement(Z.a.Item,{noStyle:!0,shouldUpdate:!0},function(Ba){return xe&&(xe.current=St(St({},Ba),wa)),ra.current=Ba,null}),pi)))))}function Bn(Tr){var it=Tr.request,ue=Tr.params,ge=Tr.initialValues,De=zr(Tr,le),Ee=bt({request:it,params:ue}),be=kt(Ee,1),rt=be[0];return!rt&&Tr.request?ne.a.createElement("div",{style:{paddingTop:50,paddingBottom:50,textAlign:"center"}},ne.a.createElement(b.a,null)):ne.a.createElement(_n,Le({autoComplete:"off"},De,{initialValues:St(St({},ge),rt)}))}var ya=A.a=Bn},b2z7:function(ze,A){var r=/\w*$/;function M(y){var T=new y.constructor(y.source,r.exec(y));return T.lastIndex=y.lastIndex,T}ze.exports=M},b48C:function(ze,A){function r(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(M){return!1}}ze.exports=r,ze.exports.default=ze.exports,ze.exports.__esModule=!0},bB6j:function(ze,A,r){"use strict";r.d(A,"a",function(){return M});var M={IEventEmitter:Symbol.for("IEventEmitter"),ISceneService:Symbol.for("ISceneService"),IGlobalConfigService:Symbol.for("IGlobalConfigService"),ICameraService:Symbol.for("ICameraService"),ICoordinateSystemService:Symbol.for("ICoordinateSystemService"),ILayerService:Symbol.for("ILayerService"),ILayerMappingService:Symbol.for("ILayerMappingService"),ILayerStyleService:Symbol.for("ILayerStyleService"),IMapService:Symbol.for("IMapService"),IMarkerService:Symbol.for("IMarkerService"),IPopupService:Symbol.for("PopupService"),IFactoryMapService:Symbol.for("Factory<IMapService>"),IRendererService:Symbol.for("IRendererService"),IShaderModuleService:Symbol.for("IShaderModuleService"),IIconService:Symbol.for("IIconService"),IFontService:Symbol.for("IFontService"),IInteractionService:Symbol.for("IInteractionService"),IPickingService:Symbol.for("IPickingService"),IControlService:Symbol.for("IControlService"),IStyleAttributeService:Symbol.for("IStyleAttributeService"),ILayer:Symbol.for("ILayer"),ILayerPlugin:Symbol.for("ILayerPlugin"),INormalPass:Symbol.for("INormalPass"),IPostProcessor:Symbol.for("IPostProcessor"),IPostProcessingPass:Symbol.for("IPostProcessingPass"),IFactoryPostProcessingPass:Symbol.for("Factory<IPostProcessingPass>"),IFactoryNormalPass:Symbol.for("Factory<IFactoryNormalPass>"),IMultiPassRenderer:Symbol.for("IMultiPassRenderer"),SceneID:Symbol.for("SceneID"),MapConfig:Symbol.for("MapConfig")}},bE4E:function(ze,A,r){},bNmP:function(ze,A,r){"use strict";function M(y){var T=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(!y)return{};var b=T.element,u=b===void 0?document.body:b,H={},k=Object.keys(y);return k.forEach(function(Z){H[Z]=u.style[Z]}),k.forEach(function(Z){u.style[Z]=y[Z]}),H}A.a=M},bPkA:function(ze,A,r){"use strict";r.d(A,"a",function(){return M});var M;(function(y){y.Normal="normal",y.PostProcessing="post-processing"})(M||(M={}))},bTtR:function(ze,A){},bYl4:function(ze,A){},bahg:function(ze,A){function r(M){return M.split("")}ze.exports=r},bbsP:function(ze,A,r){"use strict";var M=r("cIOH"),y=r.n(M),T=r("CWI+"),b=r.n(T)},bl9R:function(ze,A,r){"use strict";r.r(A),r.d(A,"create",function(){return y}),r.d(A,"clone",function(){return T}),r.d(A,"fromValues",function(){return b}),r.d(A,"copy",function(){return u}),r.d(A,"set",function(){return H}),r.d(A,"add",function(){return k}),r.d(A,"subtract",function(){return Z}),r.d(A,"multiply",function(){return oe}),r.d(A,"divide",function(){return ne}),r.d(A,"ceil",function(){return Te}),r.d(A,"floor",function(){return at}),r.d(A,"min",function(){return ve}),r.d(A,"max",function(){return we}),r.d(A,"round",function(){return I}),r.d(A,"scale",function(){return Ce}),r.d(A,"scaleAndAdd",function(){return et}),r.d(A,"distance",function(){return Et}),r.d(A,"squaredDistance",function(){return We}),r.d(A,"length",function(){return ct}),r.d(A,"squaredLength",function(){return ce}),r.d(A,"negate",function(){return Vt}),r.d(A,"inverse",function(){return It}),r.d(A,"normalize",function(){return Mt}),r.d(A,"dot",function(){return Tt}),r.d(A,"cross",function(){return ye}),r.d(A,"lerp",function(){return lt}),r.d(A,"random",function(){return yt}),r.d(A,"transformMat4",function(){return Dt}),r.d(A,"transformQuat",function(){return Jt}),r.d(A,"zero",function(){return At}),r.d(A,"str",function(){return vt}),r.d(A,"exactEquals",function(){return ie}),r.d(A,"equals",function(){return J}),r.d(A,"sub",function(){return ee}),r.d(A,"mul",function(){return Ie}),r.d(A,"div",function(){return me}),r.d(A,"dist",function(){return Ve}),r.d(A,"sqrDist",function(){return Re}),r.d(A,"len",function(){return bt}),r.d(A,"sqrLen",function(){return Pt}),r.d(A,"forEach",function(){return ht});var M=r("yU0y");function y(){var Ye=new M.a(4);return M.a!=Float32Array&&(Ye[0]=0,Ye[1]=0,Ye[2]=0,Ye[3]=0),Ye}function T(Ye){var Ke=new M.a(4);return Ke[0]=Ye[0],Ke[1]=Ye[1],Ke[2]=Ye[2],Ke[3]=Ye[3],Ke}function b(Ye,Ke,nt,Ot){var Xe=new M.a(4);return Xe[0]=Ye,Xe[1]=Ke,Xe[2]=nt,Xe[3]=Ot,Xe}function u(Ye,Ke){return Ye[0]=Ke[0],Ye[1]=Ke[1],Ye[2]=Ke[2],Ye[3]=Ke[3],Ye}function H(Ye,Ke,nt,Ot,Xe){return Ye[0]=Ke,Ye[1]=nt,Ye[2]=Ot,Ye[3]=Xe,Ye}function k(Ye,Ke,nt){return Ye[0]=Ke[0]+nt[0],Ye[1]=Ke[1]+nt[1],Ye[2]=Ke[2]+nt[2],Ye[3]=Ke[3]+nt[3],Ye}function Z(Ye,Ke,nt){return Ye[0]=Ke[0]-nt[0],Ye[1]=Ke[1]-nt[1],Ye[2]=Ke[2]-nt[2],Ye[3]=Ke[3]-nt[3],Ye}function oe(Ye,Ke,nt){return Ye[0]=Ke[0]*nt[0],Ye[1]=Ke[1]*nt[1],Ye[2]=Ke[2]*nt[2],Ye[3]=Ke[3]*nt[3],Ye}function ne(Ye,Ke,nt){return Ye[0]=Ke[0]/nt[0],Ye[1]=Ke[1]/nt[1],Ye[2]=Ke[2]/nt[2],Ye[3]=Ke[3]/nt[3],Ye}function Te(Ye,Ke){return Ye[0]=Math.ceil(Ke[0]),Ye[1]=Math.ceil(Ke[1]),Ye[2]=Math.ceil(Ke[2]),Ye[3]=Math.ceil(Ke[3]),Ye}function at(Ye,Ke){return Ye[0]=Math.floor(Ke[0]),Ye[1]=Math.floor(Ke[1]),Ye[2]=Math.floor(Ke[2]),Ye[3]=Math.floor(Ke[3]),Ye}function ve(Ye,Ke,nt){return Ye[0]=Math.min(Ke[0],nt[0]),Ye[1]=Math.min(Ke[1],nt[1]),Ye[2]=Math.min(Ke[2],nt[2]),Ye[3]=Math.min(Ke[3],nt[3]),Ye}function we(Ye,Ke,nt){return Ye[0]=Math.max(Ke[0],nt[0]),Ye[1]=Math.max(Ke[1],nt[1]),Ye[2]=Math.max(Ke[2],nt[2]),Ye[3]=Math.max(Ke[3],nt[3]),Ye}function I(Ye,Ke){return Ye[0]=Math.round(Ke[0]),Ye[1]=Math.round(Ke[1]),Ye[2]=Math.round(Ke[2]),Ye[3]=Math.round(Ke[3]),Ye}function Ce(Ye,Ke,nt){return Ye[0]=Ke[0]*nt,Ye[1]=Ke[1]*nt,Ye[2]=Ke[2]*nt,Ye[3]=Ke[3]*nt,Ye}function et(Ye,Ke,nt,Ot){return Ye[0]=Ke[0]+nt[0]*Ot,Ye[1]=Ke[1]+nt[1]*Ot,Ye[2]=Ke[2]+nt[2]*Ot,Ye[3]=Ke[3]+nt[3]*Ot,Ye}function Et(Ye,Ke){var nt=Ke[0]-Ye[0],Ot=Ke[1]-Ye[1],Xe=Ke[2]-Ye[2],xt=Ke[3]-Ye[3];return Math.hypot(nt,Ot,Xe,xt)}function We(Ye,Ke){var nt=Ke[0]-Ye[0],Ot=Ke[1]-Ye[1],Xe=Ke[2]-Ye[2],xt=Ke[3]-Ye[3];return nt*nt+Ot*Ot+Xe*Xe+xt*xt}function ct(Ye){var Ke=Ye[0],nt=Ye[1],Ot=Ye[2],Xe=Ye[3];return Math.hypot(Ke,nt,Ot,Xe)}function ce(Ye){var Ke=Ye[0],nt=Ye[1],Ot=Ye[2],Xe=Ye[3];return Ke*Ke+nt*nt+Ot*Ot+Xe*Xe}function Vt(Ye,Ke){return Ye[0]=-Ke[0],Ye[1]=-Ke[1],Ye[2]=-Ke[2],Ye[3]=-Ke[3],Ye}function It(Ye,Ke){return Ye[0]=1/Ke[0],Ye[1]=1/Ke[1],Ye[2]=1/Ke[2],Ye[3]=1/Ke[3],Ye}function Mt(Ye,Ke){var nt=Ke[0],Ot=Ke[1],Xe=Ke[2],xt=Ke[3],Ne=nt*nt+Ot*Ot+Xe*Xe+xt*xt;return Ne>0&&(Ne=1/Math.sqrt(Ne)),Ye[0]=nt*Ne,Ye[1]=Ot*Ne,Ye[2]=Xe*Ne,Ye[3]=xt*Ne,Ye}function Tt(Ye,Ke){return Ye[0]*Ke[0]+Ye[1]*Ke[1]+Ye[2]*Ke[2]+Ye[3]*Ke[3]}function ye(Ye,Ke,nt,Ot){var Xe=nt[0]*Ot[1]-nt[1]*Ot[0],xt=nt[0]*Ot[2]-nt[2]*Ot[0],Ne=nt[0]*Ot[3]-nt[3]*Ot[0],B=nt[1]*Ot[2]-nt[2]*Ot[1],z=nt[1]*Ot[3]-nt[3]*Ot[1],q=nt[2]*Ot[3]-nt[3]*Ot[2],S=Ke[0],K=Ke[1],fe=Ke[2],Fe=Ke[3];return Ye[0]=K*q-fe*z+Fe*B,Ye[1]=-(S*q)+fe*Ne-Fe*xt,Ye[2]=S*z-K*Ne+Fe*Xe,Ye[3]=-(S*B)+K*xt-fe*Xe,Ye}function lt(Ye,Ke,nt,Ot){var Xe=Ke[0],xt=Ke[1],Ne=Ke[2],B=Ke[3];return Ye[0]=Xe+Ot*(nt[0]-Xe),Ye[1]=xt+Ot*(nt[1]-xt),Ye[2]=Ne+Ot*(nt[2]-Ne),Ye[3]=B+Ot*(nt[3]-B),Ye}function yt(Ye,Ke){Ke=Ke||1;var nt,Ot,Xe,xt,Ne,B;do nt=M.c()*2-1,Ot=M.c()*2-1,Ne=nt*nt+Ot*Ot;while(Ne>=1);do Xe=M.c()*2-1,xt=M.c()*2-1,B=Xe*Xe+xt*xt;while(B>=1);var z=Math.sqrt((1-Ne)/B);return Ye[0]=Ke*nt,Ye[1]=Ke*Ot,Ye[2]=Ke*Xe*z,Ye[3]=Ke*xt*z,Ye}function Dt(Ye,Ke,nt){var Ot=Ke[0],Xe=Ke[1],xt=Ke[2],Ne=Ke[3];return Ye[0]=nt[0]*Ot+nt[4]*Xe+nt[8]*xt+nt[12]*Ne,Ye[1]=nt[1]*Ot+nt[5]*Xe+nt[9]*xt+nt[13]*Ne,Ye[2]=nt[2]*Ot+nt[6]*Xe+nt[10]*xt+nt[14]*Ne,Ye[3]=nt[3]*Ot+nt[7]*Xe+nt[11]*xt+nt[15]*Ne,Ye}function Jt(Ye,Ke,nt){var Ot=Ke[0],Xe=Ke[1],xt=Ke[2],Ne=nt[0],B=nt[1],z=nt[2],q=nt[3],S=q*Ot+B*xt-z*Xe,K=q*Xe+z*Ot-Ne*xt,fe=q*xt+Ne*Xe-B*Ot,Fe=-Ne*Ot-B*Xe-z*xt;return Ye[0]=S*q+Fe*-Ne+K*-z-fe*-B,Ye[1]=K*q+Fe*-B+fe*-Ne-S*-z,Ye[2]=fe*q+Fe*-z+S*-B-K*-Ne,Ye[3]=Ke[3],Ye}function At(Ye){return Ye[0]=0,Ye[1]=0,Ye[2]=0,Ye[3]=0,Ye}function vt(Ye){return"vec4("+Ye[0]+", "+Ye[1]+", "+Ye[2]+", "+Ye[3]+")"}function ie(Ye,Ke){return Ye[0]===Ke[0]&&Ye[1]===Ke[1]&&Ye[2]===Ke[2]&&Ye[3]===Ke[3]}function J(Ye,Ke){var nt=Ye[0],Ot=Ye[1],Xe=Ye[2],xt=Ye[3],Ne=Ke[0],B=Ke[1],z=Ke[2],q=Ke[3];return Math.abs(nt-Ne)<=M.b*Math.max(1,Math.abs(nt),Math.abs(Ne))&&Math.abs(Ot-B)<=M.b*Math.max(1,Math.abs(Ot),Math.abs(B))&&Math.abs(Xe-z)<=M.b*Math.max(1,Math.abs(Xe),Math.abs(z))&&Math.abs(xt-q)<=M.b*Math.max(1,Math.abs(xt),Math.abs(q))}var ee=Z,Ie=oe,me=ne,Ve=Et,Re=We,bt=ct,Pt=ce,ht=function(){var Ye=y();return function(Ke,nt,Ot,Xe,xt,Ne){var B,z;for(nt||(nt=4),Ot||(Ot=0),Xe?z=Math.min(Xe*nt+Ot,Ke.length):z=Ke.length,B=Ot;B<z;B+=nt)Ye[0]=Ke[B],Ye[1]=Ke[B+1],Ye[2]=Ke[B+2],Ye[3]=Ke[B+3],xt(Ye,Ye,Ne),Ke[B]=Ye[0],Ke[B+1]=Ye[1],Ke[B+2]=Ye[2],Ke[B+3]=Ye[3];return Ke}}()},bpiW:function(ze,A,r){},bx4M:function(ze,A,r){"use strict";var M=r("rePB"),y=r("wx14"),T=r("q1tI"),b=r("TSYQ"),u=r.n(b),H=r("bT9E"),k=r("H84U"),Z=function(Vt,It){var Mt={};for(var Tt in Vt)Object.prototype.hasOwnProperty.call(Vt,Tt)&&It.indexOf(Tt)<0&&(Mt[Tt]=Vt[Tt]);if(Vt!=null&&typeof Object.getOwnPropertySymbols=="function")for(var ye=0,Tt=Object.getOwnPropertySymbols(Vt);ye<Tt.length;ye++)It.indexOf(Tt[ye])<0&&Object.prototype.propertyIsEnumerable.call(Vt,Tt[ye])&&(Mt[Tt[ye]]=Vt[Tt[ye]]);return Mt},oe=function(It){var Mt=It.prefixCls,Tt=It.className,ye=It.hoverable,lt=ye===void 0?!0:ye,yt=Z(It,["prefixCls","className","hoverable"]);return T.createElement(k.a,null,function(Dt){var Jt=Dt.getPrefixCls,At=Jt("card",Mt),vt=u()("".concat(At,"-grid"),Tt,Object(M.a)({},"".concat(At,"-grid-hoverable"),lt));return T.createElement("div",Object(y.a)({},yt,{className:vt}))})},ne=oe,Te=function(Vt,It){var Mt={};for(var Tt in Vt)Object.prototype.hasOwnProperty.call(Vt,Tt)&&It.indexOf(Tt)<0&&(Mt[Tt]=Vt[Tt]);if(Vt!=null&&typeof Object.getOwnPropertySymbols=="function")for(var ye=0,Tt=Object.getOwnPropertySymbols(Vt);ye<Tt.length;ye++)It.indexOf(Tt[ye])<0&&Object.prototype.propertyIsEnumerable.call(Vt,Tt[ye])&&(Mt[Tt[ye]]=Vt[Tt[ye]]);return Mt},at=function(It){return T.createElement(k.a,null,function(Mt){var Tt=Mt.getPrefixCls,ye=It.prefixCls,lt=It.className,yt=It.avatar,Dt=It.title,Jt=It.description,At=Te(It,["prefixCls","className","avatar","title","description"]),vt=Tt("card",ye),ie=u()("".concat(vt,"-meta"),lt),J=yt?T.createElement("div",{className:"".concat(vt,"-meta-avatar")},yt):null,ee=Dt?T.createElement("div",{className:"".concat(vt,"-meta-title")},Dt):null,Ie=Jt?T.createElement("div",{className:"".concat(vt,"-meta-description")},Jt):null,me=ee||Ie?T.createElement("div",{className:"".concat(vt,"-meta-detail")},ee,Ie):null;return T.createElement("div",Object(y.a)({},At,{className:ie}),J,me)})},ve=at,we=r("ZTPi"),I=r("BMrR"),Ce=r("kPKH"),et=r("3Nzz"),Et=function(Vt,It){var Mt={};for(var Tt in Vt)Object.prototype.hasOwnProperty.call(Vt,Tt)&&It.indexOf(Tt)<0&&(Mt[Tt]=Vt[Tt]);if(Vt!=null&&typeof Object.getOwnPropertySymbols=="function")for(var ye=0,Tt=Object.getOwnPropertySymbols(Vt);ye<Tt.length;ye++)It.indexOf(Tt[ye])<0&&Object.prototype.propertyIsEnumerable.call(Vt,Tt[ye])&&(Mt[Tt[ye]]=Vt[Tt[ye]]);return Mt};function We(Vt){var It=Vt.map(function(Mt,Tt){return T.createElement("li",{style:{width:"".concat(100/Vt.length,"%")},key:"action-".concat(Tt)},T.createElement("span",null,Mt))});return It}var ct=function(It){var Mt,Tt,ye=T.useContext(k.b),lt=ye.getPrefixCls,yt=ye.direction,Dt=T.useContext(et.b),Jt=function(Qt){var ar;(ar=It.onTabChange)===null||ar===void 0||ar.call(It,Qt)},At=function(){var Qt;return T.Children.forEach(It.children,function(ar){ar&&ar.type&&ar.type===ne&&(Qt=!0)}),Qt},vt=It.prefixCls,ie=It.className,J=It.extra,ee=It.headStyle,Ie=ee===void 0?{}:ee,me=It.bodyStyle,Ve=me===void 0?{}:me,Re=It.title,bt=It.loading,Pt=It.bordered,ht=Pt===void 0?!0:Pt,Ye=It.size,Ke=It.type,nt=It.cover,Ot=It.actions,Xe=It.tabList,xt=It.children,Ne=It.activeTabKey,B=It.defaultActiveTabKey,z=It.tabBarExtraContent,q=It.hoverable,S=It.tabProps,K=S===void 0?{}:S,fe=Et(It,["prefixCls","className","extra","headStyle","bodyStyle","title","loading","bordered","size","type","cover","actions","tabList","children","activeTabKey","defaultActiveTabKey","tabBarExtraContent","hoverable","tabProps"]),Fe=lt("card",vt),pe=Ve.padding===0||Ve.padding==="0px"?{padding:24}:void 0,Me=T.createElement("div",{className:"".concat(Fe,"-loading-block")}),U=T.createElement("div",{className:"".concat(Fe,"-loading-content"),style:pe},T.createElement(I.a,{gutter:8},T.createElement(Ce.a,{span:22},Me)),T.createElement(I.a,{gutter:8},T.createElement(Ce.a,{span:8},Me),T.createElement(Ce.a,{span:15},Me)),T.createElement(I.a,{gutter:8},T.createElement(Ce.a,{span:6},Me),T.createElement(Ce.a,{span:18},Me)),T.createElement(I.a,{gutter:8},T.createElement(Ce.a,{span:13},Me),T.createElement(Ce.a,{span:9},Me)),T.createElement(I.a,{gutter:8},T.createElement(Ce.a,{span:4},Me),T.createElement(Ce.a,{span:3},Me),T.createElement(Ce.a,{span:16},Me))),le=Ne!==void 0,Le=Object(y.a)(Object(y.a)({},K),(Mt={},Object(M.a)(Mt,le?"activeKey":"defaultActiveKey",le?Ne:B),Object(M.a)(Mt,"tabBarExtraContent",z),Mt)),ot,St=Xe&&Xe.length?T.createElement(we.a,Object(y.a)({size:"large"},Le,{className:"".concat(Fe,"-head-tabs"),onChange:Jt}),Xe.map(function(Ze){return T.createElement(we.a.TabPane,{tab:Ze.tab,disabled:Ze.disabled,key:Ze.key})})):null;(Re||J||St)&&(ot=T.createElement("div",{className:"".concat(Fe,"-head"),style:Ie},T.createElement("div",{className:"".concat(Fe,"-head-wrapper")},Re&&T.createElement("div",{className:"".concat(Fe,"-head-title")},Re),J&&T.createElement("div",{className:"".concat(Fe,"-extra")},J)),St));var Ge=nt?T.createElement("div",{className:"".concat(Fe,"-cover")},nt):null,Be=T.createElement("div",{className:"".concat(Fe,"-body"),style:Ve},bt?U:xt),Nt=Ot&&Ot.length?T.createElement("ul",{className:"".concat(Fe,"-actions")},We(Ot)):null,kt=Object(H.a)(fe,["onTabChange"]),ft=Ye||Dt,ut=u()(Fe,(Tt={},Object(M.a)(Tt,"".concat(Fe,"-loading"),bt),Object(M.a)(Tt,"".concat(Fe,"-bordered"),ht),Object(M.a)(Tt,"".concat(Fe,"-hoverable"),q),Object(M.a)(Tt,"".concat(Fe,"-contain-grid"),At()),Object(M.a)(Tt,"".concat(Fe,"-contain-tabs"),Xe&&Xe.length),Object(M.a)(Tt,"".concat(Fe,"-").concat(ft),ft),Object(M.a)(Tt,"".concat(Fe,"-type-").concat(Ke),!!Ke),Object(M.a)(Tt,"".concat(Fe,"-rtl"),yt==="rtl"),Tt),ie);return T.createElement("div",Object(y.a)({},kt,{className:ut}),ot,Ge,Be,Nt)};ct.Grid=ne,ct.Meta=ve;var ce=A.a=ct},bzyH:function(ze,A){},cSJO:function(ze,A,r){"use strict";var M=this&&this.__spreadArray||function(oe,ne){for(var Te=0,at=ne.length,ve=oe.length;Te<at;Te++,ve++)oe[ve]=ne[Te];return oe};Object.defineProperty(A,"__esModule",{value:!0}),A.resolveInstance=void 0;var y=r("MON2"),T=r("FV85"),b=r("xfSm");function u(oe,ne,Te){var at=ne.filter(function(we){return we.target!==null&&we.target.type===T.TargetTypeEnum.ClassProperty}),ve=at.map(Te);return at.forEach(function(we,I){var Ce="";Ce=we.target.name.value();var et=ve[I];oe[Ce]=et}),oe}function H(oe,ne){return new(oe.bind.apply(oe,M([void 0],ne)))}function k(oe,ne){if(Reflect.hasMetadata(b.POST_CONSTRUCT,oe)){var Te=Reflect.getMetadata(b.POST_CONSTRUCT,oe);try{ne[Te.value]()}catch(at){throw new Error(y.POST_CONSTRUCT_ERROR(oe.name,at.message))}}}function Z(oe,ne,Te){var at=null;if(ne.length>0){var ve=ne.filter(function(I){return I.target!==null&&I.target.type===T.TargetTypeEnum.ConstructorArgument}),we=ve.map(Te);at=H(oe,we),at=u(at,ne,Te)}else at=new oe;return k(oe,at),at}A.resolveInstance=Z},cZ5Q:function(ze,A,r){"use strict";Object.defineProperty(A,"__esModule",{value:!0}),A.injectable=void 0;var M=r("MON2"),y=r("xfSm");function T(){return function(b){if(Reflect.hasOwnMetadata(y.PARAM_TYPES,b))throw new Error(M.DUPLICATED_INJECTABLE_DECORATOR);var u=Reflect.getMetadata(y.DESIGN_PARAM_TYPES,b)||[];return Reflect.defineMetadata(y.PARAM_TYPES,u,b),b}}A.injectable=T},cZlC:function(ze,A,r){"use strict";r.d(A,"b",function(){return M}),r.d(A,"c",function(){return y}),r.d(A,"a",function(){return T});var M;(function(b){b.LINEAR="linear",b.POWER="power",b.LOG="log",b.IDENTITY="identity",b.TIME="time",b.QUANTILE="quantile",b.QUANTIZE="quantize",b.THRESHOLD="threshold",b.CAT="cat"})(M||(M={}));var y;(function(b){b.CONSTANT="constant",b.VARIABLE="variable"})(y||(y={}));var T;(function(b){b[b.Attribute=0]="Attribute",b[b.InstancedAttribute=1]="InstancedAttribute",b[b.Uniform=2]="Uniform"})(T||(T={}))},"cq/+":function(ze,A,r){var M=r("mc0g"),y=M();ze.exports=y},cvCv:function(ze,A){function r(M){return function(){return M}}ze.exports=r},czTT:function(ze,A,r){},d9O0:function(ze,A,r){"use strict";Object.defineProperty(A,"__esModule",{value:!0}),A.id=void 0;var M=0;function y(){return M++}A.id=y},dQpi:function(ze,A,r){var M=r("yGk4"),y=r("vN+2"),T=r("rEGp"),b=1/0,u=M&&1/T(new M([,-0]))[1]==b?function(H){return new M(H)}:y;ze.exports=u},dTAl:function(ze,A,r){var M=r("GoyQ"),y=Object.create,T=function(){function b(){}return function(u){if(!M(u))return{};if(y)return y(u);b.prototype=u;var H=new b;return b.prototype=void 0,H}}();ze.exports=T},dVn5:function(ze,A){var r=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g;function M(y){return y.match(r)||[]}ze.exports=M},dX1H:function(ze,A,r){"use strict";Object.defineProperty(A,"__esModule",{value:!0}),A.Target=void 0;var M=r("xfSm"),y=r("d9O0"),T=r("GXnB"),b=r("zxMA"),u=function(){function H(k,Z,oe,ne){this.id=y.id(),this.type=k,this.serviceIdentifier=oe,this.name=new b.QueryableString(Z||""),this.metadata=new Array;var Te=null;typeof ne=="string"?Te=new T.Metadata(M.NAMED_TAG,ne):ne instanceof T.Metadata&&(Te=ne),Te!==null&&this.metadata.push(Te)}return H.prototype.hasTag=function(k){for(var Z=0,oe=this.metadata;Z<oe.length;Z++){var ne=oe[Z];if(ne.key===k)return!0}return!1},H.prototype.isArray=function(){return this.hasTag(M.MULTI_INJECT_TAG)},H.prototype.matchesArray=function(k){return this.matchesTag(M.MULTI_INJECT_TAG)(k)},H.prototype.isNamed=function(){return this.hasTag(M.NAMED_TAG)},H.prototype.isTagged=function(){return this.metadata.some(function(k){return M.NON_CUSTOM_TAG_KEYS.every(function(Z){return k.key!==Z})})},H.prototype.isOptional=function(){return this.matchesTag(M.OPTIONAL_TAG)(!0)},H.prototype.getNamedTag=function(){return this.isNamed()?this.metadata.filter(function(k){return k.key===M.NAMED_TAG})[0]:null},H.prototype.getCustomTags=function(){return this.isTagged()?this.metadata.filter(function(k){return M.NON_CUSTOM_TAG_KEYS.every(function(Z){return k.key!==Z})}):null},H.prototype.matchesNamedTag=function(k){return this.matchesTag(M.NAMED_TAG)(k)},H.prototype.matchesTag=function(k){var Z=this;return function(oe){for(var ne=0,Te=Z.metadata;ne<Te.length;ne++){var at=Te[ne];if(at.key===k&&at.value===oe)return!0}return!1}},H}();A.Target=u},doU7:function(ze,A,r){"use strict";Object.defineProperty(A,"__esModule",{value:!0}),A.BindingCount=void 0;var M={MultipleBindingsAvailable:2,NoBindingsAvailable:0,OnlyOneBindingAvailable:1};A.BindingCount=M},dt0z:function(ze,A,r){var M=r("zoYe");function y(T){return T==null?"":M(T)}ze.exports=y},dxzI:function(ze,A,r){"use strict";Object.defineProperty(A,"__esModule",{value:!0}),A.AsyncContainerModule=A.ContainerModule=void 0;var M=r("d9O0"),y=function(){function b(u){this.id=M.id(),this.registry=u}return b}();A.ContainerModule=y;var T=function(){function b(u){this.id=M.id(),this.registry=u}return b}();A.AsyncContainerModule=T},eUgh:function(ze,A){function r(M,y){for(var T=-1,b=M==null?0:M.length,u=Array(b);++T<b;)u[T]=y(M[T],T,M);return u}ze.exports=r},"eg+a":function(ze,A,r){"use strict";r.d(A,"a",function(){return M});var M=["loaded","maploaded","resize","destroy","dragstart","dragging","dragend","dragcancel"]},fOrg:function(ze,A,r){"use strict";var M=r("cIOH"),y=r.n(M),T=r("YkAm"),b=r.n(T)},"fWo+":function(ze,A,r){},fX6N:function(ze,A,r){"use strict";r.d(A,"d",function(){return xl}),r.d(A,"b",function(){return Ru}),r.d(A,"a",function(){return Hd});var M=r("mNvP"),y=r("uhBA"),T=r.n(y),b=r("4cb6"),u=r("APxj"),H=r.n(u),k=r("bB6j"),Z=r("lwsE"),oe=r.n(Z),ne=r("W8MJ"),Te=r.n(ne),at=r("lSNA"),ve=r.n(at),we=r("Hel2"),I=r("rxlC"),Ce=r.n(I);function et(Ft,Ht){var Ue=Object.keys(Ft);if(Object.getOwnPropertySymbols){var He=Object.getOwnPropertySymbols(Ft);Ht&&(He=He.filter(function(Zt){return Object.getOwnPropertyDescriptor(Ft,Zt).enumerable})),Ue.push.apply(Ue,He)}return Ue}function Et(Ft){for(var Ht=1;Ht<arguments.length;Ht++){var Ue=arguments[Ht]!=null?arguments[Ht]:{};Ht%2?et(Object(Ue),!0).forEach(function(He){ve()(Ft,He,Ue[He])}):Object.getOwnPropertyDescriptors?Object.defineProperties(Ft,Object.getOwnPropertyDescriptors(Ue)):et(Object(Ue)).forEach(function(He){Object.defineProperty(Ft,He,Object.getOwnPropertyDescriptor(Ue,He))})}return Ft}function We(Ft,Ht){var Ue=typeof Symbol!="undefined"&&Ft[Symbol.iterator]||Ft["@@iterator"];if(!Ue){if(Array.isArray(Ft)||(Ue=ct(Ft))||Ht&&Ft&&typeof Ft.length=="number"){Ue&&(Ft=Ue);var He=0,Zt=function(){};return{s:Zt,n:function(){return He>=Ft.length?{done:!0}:{done:!1,value:Ft[He++]}},e:function(qn){throw qn},f:Zt}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var cr=!0,ln=!1,Mn;return{s:function(){Ue=Ue.call(Ft)},n:function(){var qn=Ue.next();return cr=qn.done,qn},e:function(qn){ln=!0,Mn=qn},f:function(){try{!cr&&Ue.return!=null&&Ue.return()}finally{if(ln)throw Mn}}}}function ct(Ft,Ht){if(!!Ft){if(typeof Ft=="string")return ce(Ft,Ht);var Ue=Object.prototype.toString.call(Ft).slice(8,-1);if(Ue==="Object"&&Ft.constructor&&(Ue=Ft.constructor.name),Ue==="Map"||Ue==="Set")return Array.from(Ft);if(Ue==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(Ue))return ce(Ft,Ht)}}function ce(Ft,Ht){(Ht==null||Ht>Ft.length)&&(Ht=Ft.length);for(var Ue=0,He=new Array(Ht);Ue<Ht;Ue++)He[Ue]=Ft[Ue];return He}var Vt=30;function It(Ft){var Ht=Ft.characterSet,Ue=Ft.getFontWidth,He=Ft.fontHeight,Zt=Ft.buffer,cr=Ft.maxCanvasWidth,ln=Ft.mapping,Mn=ln===void 0?{}:ln,Cn=Ft.xOffset,qn=Cn===void 0?0:Cn,Ea=Ft.yOffset,ji=Ea===void 0?0:Ea,ro=0,Ao=qn;Array.from(Ht).forEach(function(So,fs){if(!Mn[So]){var vs=Ue(So,fs);Ao+Vt>cr&&(Ao=0,ro++),Mn[So]={x:Ao,y:ji+ro*Vt,width:Vt,height:Vt,advance:vs},Ao+=Vt}});var uo=He+Zt*2;return{mapping:Mn,xOffset:Ao,yOffset:ji+ro*uo,canvasHeight:ye(ji+(ro+1)*uo)}}function Mt(Ft,Ht,Ue){var He=0,Zt=0,cr=0,ln=[],Mn={},Cn=We(Ft),qn;try{for(Cn.s();!(qn=Cn.n()).done;){var Ea=qn.value;if(!Mn[Ea.id]){var ji=Ea.size;He+ji+Ht>Ue&&(Tt(Mn,ln,Zt),He=0,Zt=cr+Zt+Ht,cr=0,ln=[]),ln.push({icon:Ea,xOffset:He}),He=He+ji+Ht,cr=Math.max(cr,ji)}}}catch(Ao){Cn.e(Ao)}finally{Cn.f()}ln.length>0&&Tt(Mn,ln,Zt);var ro=ye(cr+Zt+Ht);return{mapping:Mn,canvasHeight:ro}}function Tt(Ft,Ht,Ue){var He=We(Ht),Zt;try{for(He.s();!(Zt=He.n()).done;){var cr=Zt.value,ln=cr.icon,Mn=cr.xOffset;Ft[ln.id]=Et(Et({},ln),{},{x:Mn,y:Ue,image:ln.image,width:ln.width,height:ln.height})}}catch(Cn){He.e(Cn)}finally{He.f()}}function ye(Ft){return Math.pow(2,Math.ceil(Math.log2(Ft)))}var lt,yt;function Dt(Ft,Ht){var Ue=typeof Symbol!="undefined"&&Ft[Symbol.iterator]||Ft["@@iterator"];if(!Ue){if(Array.isArray(Ft)||(Ue=Jt(Ft))||Ht&&Ft&&typeof Ft.length=="number"){Ue&&(Ft=Ue);var He=0,Zt=function(){};return{s:Zt,n:function(){return He>=Ft.length?{done:!0}:{done:!1,value:Ft[He++]}},e:function(qn){throw qn},f:Zt}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var cr=!0,ln=!1,Mn;return{s:function(){Ue=Ue.call(Ft)},n:function(){var qn=Ue.next();return cr=qn.done,qn},e:function(qn){ln=!0,Mn=qn},f:function(){try{!cr&&Ue.return!=null&&Ue.return()}finally{if(ln)throw Mn}}}}function Jt(Ft,Ht){if(!!Ft){if(typeof Ft=="string")return At(Ft,Ht);var Ue=Object.prototype.toString.call(Ft).slice(8,-1);if(Ue==="Object"&&Ft.constructor&&(Ue=Ft.constructor.name),Ue==="Map"||Ue==="Set")return Array.from(Ft);if(Ue==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(Ue))return At(Ft,Ht)}}function At(Ft,Ht){(Ht==null||Ht>Ft.length)&&(Ht=Ft.length);for(var Ue=0,He=new Array(Ht);Ue<Ht;Ue++)He[Ue]=Ft[Ue];return He}function vt(Ft,Ht){var Ue=Object.keys(Ft);if(Object.getOwnPropertySymbols){var He=Object.getOwnPropertySymbols(Ft);Ht&&(He=He.filter(function(Zt){return Object.getOwnPropertyDescriptor(Ft,Zt).enumerable})),Ue.push.apply(Ue,He)}return Ue}function ie(Ft){for(var Ht=1;Ht<arguments.length;Ht++){var Ue=arguments[Ht]!=null?arguments[Ht]:{};Ht%2?vt(Object(Ue),!0).forEach(function(He){ve()(Ft,He,Ue[He])}):Object.getOwnPropertyDescriptors?Object.defineProperties(Ft,Object.getOwnPropertyDescriptors(Ue)):vt(Object(Ue)).forEach(function(He){Object.defineProperty(Ft,He,Object.getOwnPropertyDescriptor(Ue,He))})}return Ft}var J=Ot(),ee="sans-serif",Ie="normal",me=24,Ve=3,Re=.25,bt=8,Pt=1024,ht=1,Ye=1,Ke=3,nt=["fontFamily","fontWeight","characterSet","fontSize","sdf","buffer","cutoff","radius"];function Ot(){for(var Ft=[],Ht=32;Ht<128;Ht++)Ft.push(String.fromCharCode(Ht));return Ft}function Xe(Ft,Ht,Ue,He){Ft.font="".concat(He," ").concat(Ue,"px ").concat(Ht),Ft.fillStyle="black",Ft.textBaseline="middle"}function xt(Ft,Ht){for(var Ue=0;Ue<Ft.length;Ue++)Ht.data[4*Ue+3]=Ft[Ue]}var Ne=(lt=Object(b.injectable)(),lt(yt=function(){function Ft(){oe()(this,Ft),ve()(this,"fontAtlas",void 0),ve()(this,"iconFontMap",void 0),ve()(this,"iconFontGlyphs",{}),ve()(this,"fontOptions",void 0),ve()(this,"key",void 0),ve()(this,"cache",new we.b(Ke))}return Te()(Ft,[{key:"scale",get:function(){return Ye}},{key:"canvas",get:function(){var Ue=this.cache.get(this.key);return Ue&&Ue.data}},{key:"mapping",get:function(){var Ue=this.cache.get(this.key);return Ue&&Ue.mapping}},{key:"init",value:function(){this.cache.clear(),this.fontOptions={fontFamily:ee,fontWeight:Ie,characterSet:J,fontSize:me,buffer:Ve,sdf:!0,cutoff:Re,radius:bt,iconfont:!1},this.key="",this.iconFontMap=new Map}},{key:"addIconGlyphs",value:function(Ue){var He=this;Ue.forEach(function(Zt){He.iconFontGlyphs[Zt.name]=Zt.unicode})}},{key:"addIconFont",value:function(Ue,He){this.iconFontMap.set(Ue,He)}},{key:"getIconFontKey",value:function(Ue){return this.iconFontMap.get(Ue)||Ue}},{key:"getGlyph",value:function(Ue){return this.iconFontGlyphs[Ue]?String.fromCharCode(parseInt(this.iconFontGlyphs[Ue],16)):""}},{key:"setFontOptions",value:function(Ue){this.fontOptions=ie(ie({},this.fontOptions),Ue),this.key=this.getKey();var He=this.getNewChars(this.key,this.fontOptions.characterSet),Zt=this.cache.get(this.key);if(!(Zt&&He.length===0)){var cr=this.generateFontAtlas(this.key,He,Zt);this.fontAtlas=cr,this.cache.set(this.key,cr)}}},{key:"destroy",value:function(){this.cache.clear(),this.iconFontMap.clear()}},{key:"generateFontAtlas",value:function(Ue,He,Zt){var cr=this.fontOptions,ln=cr.fontFamily,Mn=cr.fontWeight,Cn=cr.fontSize,qn=cr.buffer,Ea=cr.sdf,ji=cr.radius,ro=cr.cutoff,Ao=cr.iconfont,uo=Zt&&Zt.data;uo||(uo=document.createElement("canvas"),uo.width=Pt);var So=uo.getContext("2d");Xe(So,ln,Cn,Mn);var fs=It(ie({getFontWidth:function(lv){return So.measureText(lv).width},fontHeight:Cn*Ye,buffer:qn,characterSet:He,maxCanvasWidth:Pt},Zt&&{mapping:Zt.mapping,xOffset:Zt.xOffset,yOffset:Zt.yOffset})),vs=fs.mapping,bs=fs.canvasHeight,Yl=fs.xOffset,Ml=fs.yOffset,Xu=So.getImageData(0,0,uo.width,uo.height);if(uo.height=bs,So.putImageData(Xu,0,0),Xe(So,ln,Cn,Mn),Ea){var Ul=new Ce.a(Cn,qn,ji,ro,ln,Mn),Ds=So.getImageData(0,0,Ul.size,Ul.size),Qs=Dt(He),Vl;try{for(Qs.s();!(Vl=Qs.n()).done;){var Kl=Vl.value;if(Ao){var vl=String.fromCharCode(parseInt(Kl.replace("&#x","").replace(";",""),16)),hf=Ul.draw(vl);xt(hf,Ds)}else xt(Ul.draw(Kl),Ds);So.putImageData(Ds,vs[Kl].x,vs[Kl].y)}}catch(bc){Qs.e(bc)}finally{Qs.f()}}else{var pf=Dt(He),Gp;try{for(pf.s();!(Gp=pf.n()).done;){var vh=Gp.value;So.fillText(vh,vs[vh].x,vs[vh].y+Cn*ht)}}catch(bc){pf.e(bc)}finally{pf.f()}}return{xOffset:Yl,yOffset:Ml,mapping:vs,data:uo,width:uo.width,height:uo.height}}},{key:"getKey",value:function(){return"key";var Ue,He,Zt,cr,ln,Mn,Cn,qn}},{key:"getNewChars",value:function(Ue,He){var Zt=this.cache.get(Ue);if(!Zt)return He;var cr=[],ln=Zt.mapping,Mn=new Set(Object.keys(ln)),Cn=new Set(He);return Cn.forEach(function(qn){Mn.has(qn)||cr.push(qn)}),cr}}]),Ft}())||yt),B=r("PJYZ"),z=r.n(B),q=r("7W2i"),S=r.n(q),K=r("a1gu"),fe=r.n(K),Fe=r("Nsbk"),pe=r.n(Fe),Me,U;function le(Ft){var Ht=Le();return function(){var He=pe()(Ft),Zt;if(Ht){var cr=pe()(this).constructor;Zt=Reflect.construct(He,arguments,cr)}else Zt=He.apply(this,arguments);return fe()(this,Zt)}}function Le(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(Ft){return!1}}var ot=3,St=1024,Ge=64,Be=(Me=Object(b.injectable)(),Me(U=function(Ft){S()(Ue,Ft);var Ht=le(Ue);function Ue(){var He;oe()(this,Ue);for(var Zt=arguments.length,cr=new Array(Zt),ln=0;ln<Zt;ln++)cr[ln]=arguments[ln];return He=Ht.call.apply(Ht,[this].concat(cr)),ve()(z()(He),"canvasHeight",128),ve()(z()(He),"texture",void 0),ve()(z()(He),"canvas",void 0),ve()(z()(He),"iconData",void 0),ve()(z()(He),"iconMap",void 0),ve()(z()(He),"ctx",void 0),ve()(z()(He),"loadingImageCount",0),He}return Te()(Ue,[{key:"isLoading",value:function(){return this.loadingImageCount===0}},{key:"init",value:function(){this.iconData=[],this.iconMap={},this.canvas=document.createElement("canvas"),this.ctx=this.canvas.getContext("2d")}},{key:"addImage",value:function(Zt,cr){var ln=this,Mn=new Image;if(this.loadingImageCount++,this.hasImage(Zt))throw new Error("Image Id already exists");this.iconData.push({id:Zt,size:Ge}),this.updateIconMap(),this.loadImage(cr).then(function(Cn){Mn=Cn;var qn=ln.iconData.find(function(Ea){return Ea.id===Zt});qn&&(qn.image=Mn,qn.width=Mn.width,qn.height=Mn.height),ln.update()})}},{key:"getTexture",value:function(){return this.texture}},{key:"getIconMap",value:function(){return this.iconMap}},{key:"getCanvas",value:function(){return this.canvas}},{key:"hasImage",value:function(Zt){return this.iconMap.hasOwnProperty(Zt)}},{key:"removeImage",value:function(Zt){this.hasImage(Zt)&&(this.iconData=this.iconData.filter(function(cr){return cr.id!==Zt}),delete this.iconMap[Zt],this.update())}},{key:"destroy",value:function(){this.iconData=[],this.iconMap={}}},{key:"update",value:function(){this.updateIconMap(),this.updateIconAtlas(),this.loadingImageCount--,this.loadingImageCount===0&&this.emit("imageUpdate")}},{key:"updateIconAtlas",value:function(){var Zt=this;this.canvas.width=St,this.canvas.height=this.canvasHeight,Object.keys(this.iconMap).forEach(function(cr){var ln=Zt.iconMap[cr],Mn=ln.x,Cn=ln.y,qn=ln.image,Ea=ln.width,ji=Ea===void 0?64:Ea,ro=ln.height,Ao=ro===void 0?64:ro,uo=Math.max(ji,Ao),So=uo/Ge,fs=Ao/So,vs=ji/So;qn&&Zt.ctx.drawImage(qn,Mn+(Ge-vs)/2,Cn+(Ge-fs)/2,vs,fs)})}},{key:"updateIconMap",value:function(){var Zt=Mt(this.iconData,ot,St),cr=Zt.mapping,ln=Zt.canvasHeight;this.iconMap=cr,this.canvasHeight=ln}},{key:"loadImage",value:function(Zt){return new Promise(function(cr,ln){if(Zt instanceof HTMLImageElement){cr(Zt);return}var Mn=new Image;Mn.crossOrigin="anonymous",Mn.onload=function(){cr(Mn)},Mn.onerror=function(){ln(new Error("Could not load image at "+Zt))},Mn.src=Zt instanceof File?URL.createObjectURL(Zt):Zt})}}]),Ue}(y.EventEmitter))||U),Nt=r("J4zp"),kt=r.n(Nt),ft=r("IOcx"),ut,Ze,Qt=(ut=Object(b.injectable)(),ut(Ze=function(){function Ft(){oe()(this,Ft),ve()(this,"viewport",void 0),ve()(this,"overridedViewProjectionMatrix",void 0),ve()(this,"jitteredViewProjectionMatrix",void 0),ve()(this,"jitteredProjectionMatrix",void 0),ve()(this,"viewMatrixInverse",void 0),ve()(this,"cameraPosition",void 0)}return Te()(Ft,[{key:"init",value:function(){}},{key:"update",value:function(Ue){this.viewport=Ue,this.viewMatrixInverse=ft.b.create(),ft.b.invert(this.viewMatrixInverse,Ue.getViewMatrix()),this.cameraPosition=[this.viewMatrixInverse[12],this.viewMatrixInverse[13],this.viewMatrixInverse[14]]}},{key:"getProjectionMatrix",value:function(){return this.jitteredProjectionMatrix||this.viewport.getProjectionMatrix()}},{key:"getModelMatrix",value:function(){return this.viewport.getModelMatrix()}},{key:"getViewMatrix",value:function(){return this.viewport.getViewMatrix()}},{key:"getViewMatrixUncentered",value:function(){return this.viewport.getViewMatrixUncentered()}},{key:"getViewProjectionMatrixUncentered",value:function(){return this.viewport.getViewProjectionMatrixUncentered()}},{key:"getViewProjectionMatrix",value:function(){return this.overridedViewProjectionMatrix||this.jitteredViewProjectionMatrix||this.viewport.getViewProjectionMatrix()}},{key:"getZoom",value:function(){return this.viewport.getZoom()}},{key:"getZoomScale",value:function(){return this.viewport.getZoomScale()}},{key:"getCenter",value:function(){var Ue=this.viewport.getCenter(),He=kt()(Ue,2),Zt=He[0],cr=He[1];return[Zt,cr]}},{key:"getFocalDistance",value:function(){return this.viewport.getFocalDistance()}},{key:"getCameraPosition",value:function(){return this.cameraPosition}},{key:"projectFlat",value:function(Ue,He){return this.viewport.projectFlat(Ue,He)}},{key:"setViewProjectionMatrix",value:function(Ue){this.overridedViewProjectionMatrix=Ue}},{key:"jitterProjectionMatrix",value:function(Ue,He){var Zt=ft.b.fromTranslation(ft.b.create(),[Ue,He,0]);this.jitteredProjectionMatrix=ft.b.multiply(ft.b.create(),Zt,this.viewport.getProjectionMatrix()),this.jitteredViewProjectionMatrix=ft.b.multiply(ft.b.create(),this.jitteredProjectionMatrix,this.viewport.getViewMatrix())}},{key:"clearJitterProjectionMatrix",value:function(){this.jitteredProjectionMatrix=void 0,this.jitteredViewProjectionMatrix=void 0}}]),Ft}())||Ze),ar,zr;function qr(Ft,Ht){var Ue=typeof Symbol!="undefined"&&Ft[Symbol.iterator]||Ft["@@iterator"];if(!Ue){if(Array.isArray(Ft)||(Ue=tn(Ft))||Ht&&Ft&&typeof Ft.length=="number"){Ue&&(Ft=Ue);var He=0,Zt=function(){};return{s:Zt,n:function(){return He>=Ft.length?{done:!0}:{done:!1,value:Ft[He++]}},e:function(qn){throw qn},f:Zt}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var cr=!0,ln=!1,Mn;return{s:function(){Ue=Ue.call(Ft)},n:function(){var qn=Ue.next();return cr=qn.done,qn},e:function(qn){ln=!0,Mn=qn},f:function(){try{!cr&&Ue.return!=null&&Ue.return()}finally{if(ln)throw Mn}}}}function tn(Ft,Ht){if(!!Ft){if(typeof Ft=="string")return _n(Ft,Ht);var Ue=Object.prototype.toString.call(Ft).slice(8,-1);if(Ue==="Object"&&Ft.constructor&&(Ue=Ft.constructor.name),Ue==="Map"||Ue==="Set")return Array.from(Ft);if(Ue==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(Ue))return _n(Ft,Ht)}}function _n(Ft,Ht){(Ht==null||Ht>Ft.length)&&(Ht=Ft.length);for(var Ue=0,He=new Array(Ht);Ue<Ht;Ue++)He[Ue]=Ft[Ue];return He}var Bn=(ar=Object(b.injectable)(),ar(zr=function(){function Ft(){oe()(this,Ft),ve()(this,"container",void 0),ve()(this,"controlCorners",void 0),ve()(this,"controlContainer",void 0),ve()(this,"scene",void 0),ve()(this,"mapsService",void 0),ve()(this,"controls",[]),ve()(this,"unAddControls",[])}return Te()(Ft,[{key:"init",value:function(Ue,He){this.container=Ue.container,this.scene=He,this.mapsService=He.get(k.a.IMapService),this.initControlPos()}},{key:"addControl",value:function(Ue,He){var Zt=He.get(k.a.IMapService);Zt.map?(Ue.addTo(this.scene),this.controls.push(Ue)):this.unAddControls.push(Ue)}},{key:"getControlByName",value:function(Ue){return this.controls.find(function(He){return He.controlOption.name===Ue})}},{key:"removeControl",value:function(Ue){var He=this.controls.indexOf(Ue);return He>-1&&this.controls.splice(He,1),Ue.remove(),this}},{key:"addControls",value:function(){var Ue=this;this.unAddControls.forEach(function(He){He.addTo(Ue.scene),Ue.controls.push(He)}),this.unAddControls=[]}},{key:"destroy",value:function(){var Ue=qr(this.controls),He;try{for(Ue.s();!(He=Ue.n()).done;){var Zt=He.value;Zt.remove()}}catch(cr){Ue.e(cr)}finally{Ue.f()}this.controls=[],this.clearControlPos()}},{key:"initControlPos",value:function(){var Ue=this.controlCorners={},He="l7-",Zt=this.controlContainer=we.a.create("div",He+"control-container",this.container);function cr(){var ln=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],Mn=ln.map(function(Cn){return He+Cn}).join(" ");Ue[ln.join("")]=we.a.create("div",Mn,Zt)}cr(["top","left"]),cr(["top","right"]),cr(["bottom","left"]),cr(["bottom","right"]),cr(["top","center"]),cr(["right","center"]),cr(["left","center"]),cr(["bottom","center"])}},{key:"clearControlPos",value:function(){for(var Ue in this.controlCorners)this.controlCorners[Ue]&&we.a.remove(this.controlCorners[Ue]);this.controlContainer&&we.a.remove(this.controlContainer),delete this.controlCorners,delete this.controlContainer}}]),Ft}())||zr),ya,Tr,it=(ya=Object(b.injectable)(),ya(Tr=function(){function Ft(){oe()(this,Ft),ve()(this,"container",void 0),ve()(this,"scene",void 0),ve()(this,"mapsService",void 0),ve()(this,"markers",[]),ve()(this,"markerLayers",[]),ve()(this,"unAddMarkers",[]),ve()(this,"unAddMarkerLayers",[])}return Te()(Ft,[{key:"addMarkerLayer",value:function(Ue){this.mapsService.map&&this.mapsService.getMarkerContainer()?(this.markerLayers.push(Ue),Ue.addTo(this.scene)):this.unAddMarkerLayers.push(Ue)}},{key:"removeMarkerLayer",value:function(Ue){Ue.destroy(),this.markerLayers.indexOf(Ue);var He=this.markerLayers.indexOf(Ue);He>-1&&this.markerLayers.splice(He,1)}},{key:"addMarker",value:function(Ue){this.mapsService.map&&this.mapsService.getMarkerContainer()?(this.markers.push(Ue),Ue.addTo(this.scene)):this.unAddMarkers.push(Ue)}},{key:"addMarkers",value:function(){var Ue=this;this.unAddMarkers.forEach(function(He){He.addTo(Ue.scene),Ue.markers.push(He)}),this.unAddMarkers=[]}},{key:"addMarkerLayers",value:function(){var Ue=this;this.unAddMarkerLayers.forEach(function(He){Ue.markerLayers.push(He),He.addTo(Ue.scene)}),this.unAddMarkers=[]}},{key:"removeMarker",value:function(Ue){Ue.remove(),this.markers.indexOf(Ue);var He=this.markers.indexOf(Ue);He>-1&&this.markers.splice(He,1)}},{key:"removeAllMarkers",value:function(){this.destroy()}},{key:"init",value:function(Ue){this.scene=Ue,this.mapsService=Ue.get(k.a.IMapService)}},{key:"destroy",value:function(){this.markers.forEach(function(Ue){Ue.remove()}),this.markers=[],this.markerLayers.forEach(function(Ue){Ue.destroy()}),this.markerLayers=[]}},{key:"removeMakerLayerMarker",value:function(Ue){Ue.destroy()}}]),Ft}())||Tr),ue,ge,De=(ue=Object(b.injectable)(),ue(ge=function(){function Ft(){oe()(this,Ft),ve()(this,"scene",void 0),ve()(this,"popup",void 0),ve()(this,"mapsService",void 0),ve()(this,"unAddPopup",void 0)}return Te()(Ft,[{key:"removePopup",value:function(Ue){Ue.remove()}},{key:"destroy",value:function(){this.popup.remove()}},{key:"addPopup",value:function(Ue){this.popup&&this.popup.remove(),this.mapsService.map&&this.mapsService.getMarkerContainer()?(Ue.addTo(this.scene),this.popup=Ue):this.unAddPopup=Ue}},{key:"initPopup",value:function(){this.unAddPopup&&(this.addPopup(this.unAddPopup),this.unAddPopup=null)}},{key:"init",value:function(Ue){this.scene=Ue,this.mapsService=Ue.get(k.a.IMapService)}}]),Ft}())||ge),Ee=r("QkVN"),be=r.n(Ee),rt={MapToken:"\u60A8\u6B63\u5728\u4F7F\u7528 Demo\u6D4B\u8BD5\u5730\u56FEtoken\uFF0C\u5982\u679C\u751F\u4EA7\u73AF\u5883\u4E2D\u4F7F\u7528\u53BB\u5BF9\u5E94\u5730\u56FE\u8BF7\u6CE8\u518CToken",SDK:"\u8BF7\u786E\u8BA4\u5F15\u5165\u4E86mapbox-gl api\u4E14\u5728L7\u4E4B\u524D\u5F15\u5165"},de=rt,Pe,xe;function Oe(Ft,Ht){var Ue=Object.keys(Ft);if(Object.getOwnPropertySymbols){var He=Object.getOwnPropertySymbols(Ft);Ht&&(He=He.filter(function(Zt){return Object.getOwnPropertyDescriptor(Ft,Zt).enumerable})),Ue.push.apply(Ue,He)}return Ue}function dt(Ft){for(var Ht=1;Ht<arguments.length;Ht++){var Ue=arguments[Ht]!=null?arguments[Ht]:{};Ht%2?Oe(Object(Ue),!0).forEach(function(He){ve()(Ft,He,Ue[He])}):Object.getOwnPropertyDescriptors?Object.defineProperties(Ft,Object.getOwnPropertyDescriptors(Ue)):Oe(Object(Ue)).forEach(function(He){Object.defineProperty(Ft,He,Object.getOwnPropertyDescriptor(Ue,He))})}return Ft}var Gt={id:"map",logoPosition:"bottomleft",logoVisible:!0,antialias:!0,preserveDrawingBuffer:!1,pickBufferScale:1,fitBoundsOptions:{animate:!1}},$t={colors:["rgb(103,0,31)","rgb(178,24,43)","rgb(214,96,77)","rgb(244,165,130)","rgb(253,219,199)","rgb(247,247,247)","rgb(209,229,240)","rgb(146,197,222)","rgb(67,147,195)","rgb(33,102,172)","rgb(5,48,97)"],size:10,shape:"circle",scales:{},shape2d:["circle","triangle","square","pentagon","hexagon","octogon","hexagram","rhombus","vesica"],shape3d:["cylinder","triangleColumn","hexagonColumn","squareColumn"],minZoom:-1,maxZoom:24,visible:!0,autoFit:!1,pickingBuffer:0,enablePropagation:!1,zIndex:0,blend:"normal",pickedFeatureID:-1,enableMultiPassRenderer:!1,enablePicking:!0,active:!1,activeColor:"#2f54eb",enableHighlight:!1,enableSelect:!1,highlightColor:"#2f54eb",selectColor:"blue",enableTAA:!1,jitterScale:1,enableLighting:!1,animateOption:{enable:!1,interval:.2,duration:4,trailLength:.15},forward:!0},nr=(Pe=Object(b.injectable)(),Pe(xe=function(){function Ft(){oe()(this,Ft),ve()(this,"sceneConfigCache",{}),ve()(this,"layerConfigCache",{})}return Te()(Ft,[{key:"getSceneConfig",value:function(Ue){return this.sceneConfigCache[Ue]}},{key:"getSceneWarninfo",value:function(Ue){return de[Ue]}},{key:"setSceneConfig",value:function(Ue,He){this.sceneConfigCache[Ue]=dt(dt({},Gt),He)}},{key:"getLayerConfig",value:function(Ue){return this.layerConfigCache[Ue]}},{key:"setLayerConfig",value:function(Ue,He,Zt){this.layerConfigCache[He]=dt({},be()({},this.sceneConfigCache[Ue],$t,Zt))}},{key:"clean",value:function(){this.sceneConfigCache={},this.layerConfigCache={}}}]),Ft}())||xe),lr=r("yG8O"),Dr=r.n(lr),Pr=r("U+yc"),Wr=r.n(Pr),an=r("1ABj"),dn=Math.PI/180,Rn=512,zn=4003e4;function Qn(Ft){var Ht=Ft.latitude,Ue=Ht===void 0?0:Ht,He=Ft.zoom,Zt=He===void 0?0:He,cr=Ft.scale,ln=Ft.highPrecision,Mn=ln===void 0?!1:ln,Cn=Ft.flipY,qn=Cn===void 0?!1:Cn;cr=cr!==void 0?cr:Math.pow(2,Zt);var Ea={},ji=Rn*cr,ro=Math.cos(Ue*dn),Ao=ji/360,uo=Ao/ro,So=ji/zn/ro;if(Ea.pixelsPerMeter=[So,-So,So],Ea.metersPerPixel=[1/So,-1/So,1/So],Ea.pixelsPerDegree=[Ao,-uo,So],Ea.degreesPerPixel=[1/Ao,-1/uo,1/So],Mn){var fs=dn*Math.tan(Ue*dn)/ro,vs=Ao*fs/2,bs=ji/zn*fs,Yl=bs/uo*So;Ea.pixelsPerDegree2=[0,-vs,bs],Ea.pixelsPerMeter2=[Yl,0,Yl],qn&&(Ea.pixelsPerDegree2[1]=-Ea.pixelsPerDegree2[1],Ea.pixelsPerMeter2[1]=-Ea.pixelsPerMeter2[1])}return qn&&(Ea.pixelsPerMeter[1]=-Ea.pixelsPerMeter[1],Ea.metersPerPixel[1]=-Ea.metersPerPixel[1],Ea.pixelsPerDegree[1]=-Ea.pixelsPerDegree[1],Ea.degreesPerPixel[1]=-Ea.degreesPerPixel[1]),Ea}var Ma=r("HthE"),Ca,ia,_a,$a,ra,ni=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,0],Da=(Ca=Object(b.injectable)(),ia=Object(b.inject)(k.a.ICameraService),Ca(_a=($a=function(){function Ft(){oe()(this,Ft),ve()(this,"needRefresh",!0),Dr()(this,"cameraService",ra,this),ve()(this,"coordinateSystem",void 0),ve()(this,"viewportCenter",void 0),ve()(this,"viewportCenterProjection",void 0),ve()(this,"pixelsPerDegree",void 0),ve()(this,"pixelsPerDegree2",void 0),ve()(this,"pixelsPerMeter",void 0)}return Te()(Ft,[{key:"refresh",value:function(){var Ue=this.cameraService.getZoom(),He=this.cameraService.getZoomScale(),Zt=this.cameraService.getCenter(),cr=Qn({latitude:Zt[1],zoom:Ue}),ln=cr.pixelsPerMeter,Mn=cr.pixelsPerDegree;this.viewportCenter=Zt,this.viewportCenterProjection=[0,0,0,0],this.pixelsPerMeter=ln,this.pixelsPerDegree=Mn,this.pixelsPerDegree2=[0,0,0],this.coordinateSystem===Ma.a.LNGLAT||this.coordinateSystem===Ma.a.P20?this.cameraService.setViewProjectionMatrix(void 0):this.coordinateSystem===Ma.a.LNGLAT_OFFSET?this.calculateLnglatOffset(Zt,Ue):this.coordinateSystem===Ma.a.P20_OFFSET&&this.calculateLnglatOffset(Zt,Ue,He,!0),this.needRefresh=!1}},{key:"getCoordinateSystem",value:function(){return this.coordinateSystem}},{key:"setCoordinateSystem",value:function(Ue){this.coordinateSystem=Ue}},{key:"getViewportCenter",value:function(){return this.viewportCenter}},{key:"getViewportCenterProjection",value:function(){return this.viewportCenterProjection}},{key:"getPixelsPerDegree",value:function(){return this.pixelsPerDegree}},{key:"getPixelsPerDegree2",value:function(){return this.pixelsPerDegree2}},{key:"getPixelsPerMeter",value:function(){return this.pixelsPerMeter}},{key:"calculateLnglatOffset",value:function(Ue,He,Zt,cr){var ln=Qn({latitude:Ue[1],zoom:He,scale:Zt,flipY:cr,highPrecision:!0}),Mn=ln.pixelsPerMeter,Cn=ln.pixelsPerDegree,qn=ln.pixelsPerDegree2,Ea=this.cameraService.getViewMatrix(),ji=this.cameraService.getProjectionMatrix(),ro=ft.b.multiply([],ji,Ea),Ao=this.cameraService.projectFlat([Math.fround(Ue[0]),Math.fround(Ue[1])],Math.pow(2,He));this.viewportCenterProjection=ft.e.transformMat4([],[Ao[0],Ao[1],0,1],ro),Ea=this.cameraService.getViewMatrixUncentered()||Ea,ro=ft.b.multiply([],ji,Ea),ro=ft.b.multiply([],ro,ni),this.cameraService.setViewProjectionMatrix(ro),this.pixelsPerMeter=Mn,this.pixelsPerDegree=Cn,this.pixelsPerDegree2=qn}}]),Ft}(),ra=Wr()($a.prototype,"cameraService",[ia],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),$a))||_a),Fa=r("yLV6"),ba=r.n(Fa),Oi=r("V1cb"),Do,Li,Ui,Na,wa;function ga(Ft){var Ht=pi();return function(){var He=pe()(Ft),Zt;if(Ht){var cr=pe()(this).constructor;Zt=Reflect.construct(He,arguments,cr)}else Zt=He.apply(this,arguments);return fe()(this,Zt)}}function pi(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(Ft){return!1}}var _o={panstart:"dragstart",panmove:"dragging",panend:"dragend",pancancel:"dragcancel"},To=(Do=Object(b.injectable)(),Li=Object(b.inject)(k.a.IMapService),Do(Ui=(Na=function(Ft){S()(Ue,Ft);var Ht=ga(Ue);function Ue(){var He;oe()(this,Ue);for(var Zt=arguments.length,cr=new Array(Zt),ln=0;ln<Zt;ln++)cr[ln]=arguments[ln];return He=Ht.call.apply(Ht,[this].concat(cr)),Dr()(z()(He),"mapService",wa,z()(He)),ve()(z()(He),"hammertime",void 0),ve()(z()(He),"lastClickTime",0),ve()(z()(He),"lastClickXY",[-1,-1]),ve()(z()(He),"clickTimer",void 0),ve()(z()(He),"$containter",void 0),ve()(z()(He),"onDrag",function(Mn){var Cn=He.interactionEvent(Mn);Cn.type=_o[Cn.type],He.emit(Oi.a.Drag,Cn)}),ve()(z()(He),"onHammer",function(Mn){Mn.srcEvent.stopPropagation();var Cn=He.interactionEvent(Mn);He.emit(Oi.a.Hover,Cn)}),ve()(z()(He),"onTouch",function(Mn){var Cn=Mn.touches[0];He.onHover({x:Cn.pageX,y:Cn.pageY,type:"touch"})}),ve()(z()(He),"onHover",function(Mn){var Cn=Mn.clientX,qn=Mn.clientY,Ea=Cn,ji=qn,ro=Mn.type,Ao=He.mapService.getMapContainer();if(Ao){var uo=Ao.getBoundingClientRect(),So=uo.top,fs=uo.left;Ea=Ea-fs-Ao.clientLeft,ji=ji-So-Ao.clientTop}var vs=He.mapService.containerToLngLat([Ea,ji]);if(ro==="click"){if("ontouchstart"in document.documentElement)return;He.isDoubleTap(Ea,ji,vs);return}if(ro==="touch"){He.isDoubleTap(Ea,ji,vs);return}ro!=="click"&&ro!=="dblclick"&&He.emit(Oi.a.Hover,{x:Ea,y:ji,lngLat:vs,type:ro,target:Mn})}),He}return Te()(Ue,[{key:"init",value:function(){this.addEventListenerOnMap(),this.$containter=this.mapService.getMapContainer()}},{key:"destroy",value:function(){this.hammertime&&this.hammertime.destroy(),this.removeEventListenerOnMap(),this.off(Oi.a.Hover)}},{key:"triggerHover",value:function(Zt){var cr=Zt.x,ln=Zt.y;this.emit(Oi.a.Hover,{x:cr,y:ln})}},{key:"triggerSelect",value:function(Zt){this.emit(Oi.a.Select,{featureId:Zt})}},{key:"triggerActive",value:function(Zt){this.emit(Oi.a.Active,{featureId:Zt})}},{key:"addEventListenerOnMap",value:function(){var Zt=this.mapService.getMapContainer();if(Zt){var cr=new ba.a.Manager(Zt);cr.add(new ba.a.Tap({event:"dblclick",taps:2})),cr.add(new ba.a.Tap({event:"click"})),cr.add(new ba.a.Pan({threshold:0,pointers:0})),cr.add(new ba.a.Press({})),cr.on("dblclick click",this.onHammer),cr.on("panstart panmove panend pancancel",this.onDrag),Zt.addEventListener("mousemove",this.onHover),Zt.addEventListener("mousedown",this.onHover,!0),Zt.addEventListener("mouseup",this.onHover),Zt.addEventListener("contextmenu",this.onHover),this.hammertime=cr}}},{key:"removeEventListenerOnMap",value:function(){var Zt=this.mapService.getMapContainer();Zt&&(Zt.removeEventListener("mousemove",this.onHover),this.hammertime.off("panstart panmove panend pancancel",this.onDrag),Zt.removeEventListener("mousedown",this.onHover),Zt.removeEventListener("mouseup",this.onHover),Zt.removeEventListener("contextmenu",this.onHover))}},{key:"interactionEvent",value:function(Zt){var cr=Zt.type,ln=Zt.pointerType,Mn,Cn;ln==="touch"?(Cn=Math.floor(Zt.pointers[0].clientY),Mn=Math.floor(Zt.pointers[0].clientX)):(Cn=Math.floor(Zt.srcEvent.y),Mn=Math.floor(Zt.srcEvent.x));var qn=this.mapService.getMapContainer();if(qn){var Ea=qn.getBoundingClientRect(),ji=Ea.top,ro=Ea.left;Mn-=ro,Cn-=ji}var Ao=this.mapService.containerToLngLat([Mn,Cn]);return{x:Mn,y:Cn,lngLat:Ao,type:cr,target:Zt.srcEvent}}},{key:"isDoubleTap",value:function(Zt,cr,ln){var Mn=this,Cn=new Date().getTime(),qn="click";Cn-this.lastClickTime<400&&Math.abs(this.lastClickXY[0]-Zt)<10&&Math.abs(this.lastClickXY[1]-cr)<10?(this.lastClickTime=0,this.lastClickXY=[-1,-1],this.clickTimer&&clearTimeout(this.clickTimer),qn="dblclick",this.emit(Oi.a.Hover,{x:Zt,y:cr,lngLat:ln,type:qn})):(this.lastClickTime=Cn,this.lastClickXY=[Zt,cr],this.clickTimer=setTimeout(function(){qn="click",Mn.emit(Oi.a.Hover,{x:Zt,y:cr,lngLat:ln,type:qn})},400))}}]),Ue}(T.a),wa=Wr()(Na.prototype,"mapService",[Li],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Na))||Ui),so=r("yXPU"),vi=r.n(so),ko=r("o0o1"),bo=r.n(ko),Ba=window.document.documentElement.style,Pa=0;function lo(Ft){var Ht=Ft;if(typeof Ft=="string"&&(Ht=document.getElementById(Ft)),Ht){var Ue=document.createElement("div");return Ue.style.cssText+=`
      position: absolute;
      z-index:2;
      height: 100%;
      width: 100%;
      pointer-events: none;
    `,Ue.id="l7-scene-".concat(Pa++),Ue.classList.add("l7-scene"),Ht.appendChild(Ue),Ue}return null}function No(Ft){var Ht,Ue,He=!0;return Ft==null||(Ht=Ft.target)===null||Ht===void 0||(Ue=Ht.path)===null||Ue===void 0||Ue.map(function(Zt){if(Zt!=null&&Zt.classList){var cr;Zt==null||(cr=Zt.classList)===null||cr===void 0||cr.forEach(function(ln){(ln==="l7-marker"||ln==="l7-popup")&&(He=!1)})}}),He}var La=r("o+pz"),mr,Wt,vr,un,va,qa,mi,ys,cl,gl,Es;function tl(Ft,Ht){var Ue=Object.keys(Ft);if(Object.getOwnPropertySymbols){var He=Object.getOwnPropertySymbols(Ft);Ht&&(He=He.filter(function(Zt){return Object.getOwnPropertyDescriptor(Ft,Zt).enumerable})),Ue.push.apply(Ue,He)}return Ue}function fu(Ft){for(var Ht=1;Ht<arguments.length;Ht++){var Ue=arguments[Ht]!=null?arguments[Ht]:{};Ht%2?tl(Object(Ue),!0).forEach(function(He){ve()(Ft,He,Ue[He])}):Object.getOwnPropertyDescriptors?Object.defineProperties(Ft,Object.getOwnPropertyDescriptors(Ue)):tl(Object(Ue)).forEach(function(He){Object.defineProperty(Ft,He,Object.getOwnPropertyDescriptor(Ue,He))})}return Ft}var vc=(mr=Object(b.injectable)(),Wt=Object(b.inject)(k.a.IRendererService),vr=Object(b.inject)(k.a.IGlobalConfigService),un=Object(b.inject)(k.a.IInteractionService),va=Object(b.inject)(k.a.ILayerService),mr(qa=(mi=function(){function Ft(){var Ht=this;oe()(this,Ft),Dr()(this,"rendererService",ys,this),Dr()(this,"configService",cl,this),Dr()(this,"interactionService",gl,this),Dr()(this,"layerService",Es,this),ve()(this,"pickingFBO",void 0),ve()(this,"width",0),ve()(this,"height",0),ve()(this,"alreadyInPicking",!1),ve()(this,"pickBufferScale",1),ve()(this,"pickFromPickingFBO",function(Ue,He){var Zt,cr=He.x,ln=He.y,Mn=He.lngLat,Cn=He.type,qn=He.target,Ea=!1,ji=Ht.rendererService,ro=ji.getViewportSize,Ao=ji.readPixels,uo=ji.getContainer,So=uo().getBoundingClientRect(),fs=So.width,vs=So.height;fs*=we.a.DPR,vs*=we.a.DPR;var bs=Ue.getLayerConfig(),Yl=bs.enableHighlight,Ml=bs.enableSelect,Xu=cr*we.a.DPR,Ul=ln*we.a.DPR;if(Xu>fs-1*we.a.DPR||Xu<0||Ul>vs-1*we.a.DPR||Ul<0)return!1;var Ds;if(Ds=Ao({x:Math.floor(Xu/Ht.pickBufferScale),y:Math.floor((vs-(ln+1)*we.a.DPR)/Ht.pickBufferScale),width:1,height:1,data:new Uint8Array(1*1*4),framebuffer:Ht.pickingFBO}),Ds[0]!==0||Ds[1]!==0||Ds[2]!==0){var Qs=Object(we.k)(Ds),Vl=Ue.getSource().getFeatureById(Qs);Qs!==Ue.getCurrentPickId()&&Cn==="mousemove"&&(Cn="mouseenter");var Kl={x:cr,y:ln,type:Cn,lngLat:Mn,featureId:Qs,feature:Vl,target:qn};Vl&&(Ea=!0,Ue.setCurrentPickId(Qs),Ht.triggerHoverOnLayer(Ue,Kl))}else{var vl={x:cr,y:ln,lngLat:Mn,type:Ue.getCurrentPickId()!==null&&Cn==="mousemove"?"mouseout":"un"+Cn,featureId:null,target:qn,feature:null};Ht.triggerHoverOnLayer(Ue,fu(fu({},vl),{},{type:"unpick"})),Ht.triggerHoverOnLayer(Ue,vl),Ue.setCurrentPickId(null)}if(Yl&&Ht.highlightPickedFeature(Ue,Ds),Ml&&Cn==="click"&&((Zt=Ds)===null||Zt===void 0?void 0:Zt.toString())!==[0,0,0,0].toString()){var hf=Object(we.k)(Ds);Ue.getCurrentSelectedId()===null||hf!==Ue.getCurrentSelectedId()?(Ht.selectFeature(Ue,Ds),Ue.setCurrentSelectedId(hf)):(Ht.selectFeature(Ue,new Uint8Array([0,0,0,0])),Ue.setCurrentSelectedId(null))}return Ea})}return Te()(Ft,[{key:"init",value:function(Ue){var He=this.rendererService,Zt=He.createTexture2D,cr=He.createFramebuffer,ln=He.getViewportSize,Mn=He.getContainer,Cn=Mn().getBoundingClientRect(),qn=Cn.width,Ea=Cn.height;qn*=we.a.DPR,Ea*=we.a.DPR,this.pickBufferScale=this.configService.getSceneConfig(Ue).pickBufferScale||1,this.pickingFBO=cr({color:Zt({width:Math.round(qn/this.pickBufferScale),height:Math.round(Ea/this.pickBufferScale),wrapS:La.a.CLAMP_TO_EDGE,wrapT:La.a.CLAMP_TO_EDGE})}),this.interactionService.on(Oi.a.Hover,this.pickingAllLayer.bind(this))}},{key:"boxPickLayer",value:function(){var Ht=vi()(bo.a.mark(function He(Zt,cr,ln){var Mn=this,Cn,qn,Ea,ji;return bo.a.wrap(function(Ao){for(;;)switch(Ao.prev=Ao.next){case 0:Cn=this.rendererService,qn=Cn.useFramebuffer,Ea=Cn.clear,ji=Cn.getContainer,this.resizePickingFBO(),qn(this.pickingFBO,function(){Ea({framebuffer:Mn.pickingFBO,color:[0,0,0,0],stencil:0,depth:1}),Zt.hooks.beforePickingEncode.call(),Zt.renderModels(),Zt.hooks.afterPickingEncode.call();var uo=Mn.pickBox(Zt,cr);ln(uo)});case 3:case"end":return Ao.stop()}},He,this)}));function Ue(He,Zt,cr){return Ht.apply(this,arguments)}return Ue}()},{key:"pickBox",value:function(Ue,He){var Zt=this,cr=He.map(function(vl){var hf=vl<0?0:vl;return Math.floor(hf*we.a.DPR/Zt.pickBufferScale)}),ln=kt()(cr,4),Mn=ln[0],Cn=ln[1],qn=ln[2],Ea=ln[3],ji=this.rendererService,ro=ji.getViewportSize,Ao=ji.readPixels,uo=ji.getContainer,So=uo().getBoundingClientRect(),fs=So.width,vs=So.height;if(fs*=we.a.DPR,vs*=we.a.DPR,Mn>(fs-1)*we.a.DPR/this.pickBufferScale||qn<0||Cn>(vs-1)*we.a.DPR/this.pickBufferScale||Ea<0)return[];var bs,Yl=Math.min(fs/this.pickBufferScale,qn)-Mn,Ml=Math.min(vs/this.pickBufferScale,Ea)-Cn;bs=Ao({x:Mn,y:Math.floor(vs/this.pickBufferScale-(Ea+1)),width:Yl,height:Ml,data:new Uint8Array(Yl*Ml*4),framebuffer:this.pickingFBO});for(var Xu=[],Ul={},Ds=0;Ds<bs.length/4;Ds=Ds+1){var Qs=bs.slice(Ds*4,Ds*4+4),Vl=Object(we.k)(Qs);if(Vl!==-1&&!Ul[Vl]){var Kl=Ue.getSource().getFeatureById(Vl);Xu.push(Kl),Ul[Vl]=!0}}return Xu}},{key:"pickingAllLayer",value:function(){var Ht=vi()(bo.a.mark(function He(Zt){return bo.a.wrap(function(ln){for(;;)switch(ln.prev=ln.next){case 0:if(!(this.alreadyInPicking||this.layerService.alreadyInRendering)){ln.next=2;break}return ln.abrupt("return");case 2:return this.alreadyInPicking=!0,ln.next=5,this.pickingLayers(Zt);case 5:this.layerService.renderLayers("picking"),this.alreadyInPicking=!1;case 7:case"end":return ln.stop()}},He,this)}));function Ue(He){return Ht.apply(this,arguments)}return Ue}()},{key:"resizePickingFBO",value:function(){var Ue=this.rendererService.getContainer,He=Ue().getBoundingClientRect(),Zt=He.width,cr=He.height;Zt*=we.a.DPR,cr*=we.a.DPR,(this.width!==Zt||this.height!==cr)&&(this.pickingFBO.resize({width:Math.round(Zt/this.pickBufferScale),height:Math.round(cr/this.pickBufferScale)}),this.width=Zt,this.height=cr)}},{key:"pickingLayers",value:function(){var Ht=vi()(bo.a.mark(function He(Zt){var cr=this,ln,Mn,Cn,qn,Ea;return bo.a.wrap(function(ro){for(;;)switch(ro.prev=ro.next){case 0:ln=this.rendererService,Mn=ln.getViewportSize,Cn=ln.useFramebuffer,qn=ln.clear,Ea=ln.getContainer,this.resizePickingFBO(),Cn(this.pickingFBO,function(){var Ao=cr.layerService.getLayers();Ao.filter(function(uo){return uo.needPick(Zt.type)}).reverse().some(function(uo){qn({framebuffer:cr.pickingFBO,color:[0,0,0,0],stencil:0,depth:1}),uo.hooks.beforePickingEncode.call(),uo.renderModels(),uo.hooks.afterPickingEncode.call();var So=cr.pickFromPickingFBO(uo,Zt);return So&&!uo.getLayerConfig().enablePropagation})});case 3:case"end":return ro.stop()}},He,this)}));function Ue(He){return Ht.apply(this,arguments)}return Ue}()},{key:"triggerHoverOnLayer",value:function(Ue,He){No(He)&&Ue.emit(He.type,He)}},{key:"highlightPickedFeature",value:function(Ue,He){var Zt=kt()(He,3),cr=Zt[0],ln=Zt[1],Mn=Zt[2];Ue.hooks.beforeHighlight.call([cr,ln,Mn])}},{key:"selectFeature",value:function(Ue,He){var Zt=kt()(He,3),cr=Zt[0],ln=Zt[1],Mn=Zt[2];Ue.hooks.beforeSelect.call([cr,ln,Mn])}}]),Ft}(),ys=Wr()(mi.prototype,"rendererService",[Wt],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),cl=Wr()(mi.prototype,"configService",[vr],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),gl=Wr()(mi.prototype,"interactionService",[un],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Es=Wr()(mi.prototype,"layerService",[va],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),mi))||qa),of=function(){function Ft(){var Ht=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0;oe()(this,Ft),ve()(this,"autoStart",void 0),ve()(this,"startTime",0),ve()(this,"oldTime",0),ve()(this,"running",!1),ve()(this,"elapsedTime",0),this.autoStart=Ht}return Te()(Ft,[{key:"start",value:function(){this.startTime=(typeof performance=="undefined"?Date:performance).now(),this.oldTime=this.startTime,this.elapsedTime=0,this.running=!0}},{key:"stop",value:function(){this.getElapsedTime(),this.running=!1,this.autoStart=!1}},{key:"getElapsedTime",value:function(){return this.getDelta(),this.elapsedTime}},{key:"getDelta",value:function(){var Ue=0;if(this.autoStart&&!this.running)return this.start(),0;if(this.running){var He=(typeof performance=="undefined"?Date:performance).now();Ue=(He-this.oldTime)/1e3,this.oldTime=He,this.elapsedTime+=Ue}return Ue}}]),Ft}(),ku,Wl,ql,al,du,Bu,Hc,ps,Bs,tu=(ku=Object(b.injectable)(),Wl=Object(b.inject)(k.a.IRendererService),ql=Object(b.inject)(k.a.IMapService),al=Object(b.inject)(k.a.IGlobalConfigService),ku(du=(Bu=function(){function Ft(){oe()(this,Ft),ve()(this,"clock",new of),ve()(this,"alreadyInRendering",!1),ve()(this,"layers",[]),ve()(this,"layerRenderID",void 0),ve()(this,"sceneInited",!1),ve()(this,"animateInstanceCount",0),ve()(this,"lastRenderType",void 0),ve()(this,"lastPickRenderTime",void 0),Dr()(this,"renderService",Hc,this),Dr()(this,"mapService",ps,this),Dr()(this,"configService",Bs,this)}return Te()(Ft,[{key:"add",value:function(Ue){this.sceneInited&&Ue.init(),this.layers.push(Ue)}},{key:"initLayers",value:function(){this.sceneInited=!0,this.layers.forEach(function(Ue){Ue.inited||Ue.init()})}},{key:"getLayers",value:function(){return this.layers}},{key:"getLayer",value:function(Ue){return this.layers.find(function(He){return He.id===Ue})}},{key:"getLayerByName",value:function(Ue){return this.layers.find(function(He){return He.name===Ue})}},{key:"remove",value:function(Ue){var He=this.layers.indexOf(Ue);He>-1&&this.layers.splice(He,1),Ue.emit("remove",null),Ue.destroy(),this.renderLayers()}},{key:"removeAllLayers",value:function(){this.destroy()}},{key:"renderLayers",value:function(Ue){!this.renderTest(Ue)||this.alreadyInRendering||(this.alreadyInRendering=!0,this.clear(),this.updateRenderOrder(),this.layers.filter(function(He){return He.inited}).filter(function(He){return He.isVisible()}).forEach(function(He){He.hooks.beforeRenderData.call(),He.hooks.beforeRender.call(),He.render(),He.hooks.afterRender.call()}),this.alreadyInRendering=!1)}},{key:"updateRenderOrder",value:function(){this.layers.sort(function(Ue,He){return Ue.zIndex-He.zIndex})}},{key:"destroy",value:function(){this.layers.forEach(function(Ue){return Ue.destroy()}),this.layers=[],this.renderLayers()}},{key:"startAnimate",value:function(){this.animateInstanceCount++==0&&(this.clock.start(),this.runRender())}},{key:"stopAnimate",value:function(){--this.animateInstanceCount==0&&(this.stopRender(),this.clock.stop())}},{key:"getOESTextureFloat",value:function(){return this.renderService.extensionObject.OES_texture_float}},{key:"renderTest",value:function(Ue){var He=new Date().getTime(),Zt=He-this.lastPickRenderTime;if(Ue==="picking"&&(this.lastPickRenderTime=new Date().getTime()),Ue)switch(Ue){case"picking":return this.lastRenderType==="mapRender"||this.lastRenderType==="animate"?(this.lastRenderType="picking",Zt>48):(this.lastRenderType="picking",!0);case"animate":return this.lastRenderType==="mapRender"?(this.lastRenderType="animate",!1):(this.lastRenderType="animate",!0);case"mapRender":return this.lastRenderType="mapRender",!0;default:return!0}return!0}},{key:"clear",value:function(){var Ue=Object(we.s)(this.mapService.bgColor);this.renderService.clear({color:Ue,depth:1,stencil:0,framebuffer:null})}},{key:"runRender",value:function(){this.renderLayers("animate"),this.layerRenderID=requestAnimationFrame(this.runRender.bind(this))}},{key:"stopRender",value:function(){cancelAnimationFrame(this.layerRenderID)}}]),Ft}(),Hc=Wr()(Bu.prototype,"renderService",[Wl],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),ps=Wr()(Bu.prototype,"mapService",[ql],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Bs=Wr()(Bu.prototype,"configService",[al],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Bu))||du),il=r("QILm"),fl=r.n(il),Yh=r("RIqP"),Fr=r.n(Yh),Sn=r("J2iB"),Jn=r.n(Sn),xo=function(){function Ft(Ht){var Ue=this;oe()(this,Ft),ve()(this,"name",void 0),ve()(this,"type",void 0),ve()(this,"scale",void 0),ve()(this,"descriptor",void 0),ve()(this,"featureBufferLayout",[]),ve()(this,"needRescale",!1),ve()(this,"needRemapping",!1),ve()(this,"needRegenerateVertices",!1),ve()(this,"featureRange",{startIndex:0,endIndex:Infinity}),ve()(this,"vertexAttribute",void 0),ve()(this,"defaultCallback",function(He){if(He.length===0){var Zt;return((Zt=Ue.scale)===null||Zt===void 0?void 0:Zt.defaultValues)||[]}return He.map(function(cr,ln){var Mn,Cn=(Mn=Ue.scale)===null||Mn===void 0?void 0:Mn.scalers[ln].func,qn=Cn(cr);return qn})}),this.setProps(Ht)}return Te()(Ft,[{key:"setProps",value:function(Ue){Object.assign(this,Ue)}},{key:"mapping",value:function(Ue){var He;if((He=this.scale)!==null&&He!==void 0&&He.callback){var Zt,cr=(Zt=this.scale)===null||Zt===void 0?void 0:Zt.callback.apply(Zt,Fr()(Ue));if(!Jn()(cr))return[cr]}return this.defaultCallback(Ue)}},{key:"resetDescriptor",value:function(){this.descriptor&&(this.descriptor.buffer.data=[])}}]),Ft}(),w,re,Qe,Se,jt,br;function Yr(Ft,Ht){var Ue=Object.keys(Ft);if(Object.getOwnPropertySymbols){var He=Object.getOwnPropertySymbols(Ft);Ht&&(He=He.filter(function(Zt){return Object.getOwnPropertyDescriptor(Ft,Zt).enumerable})),Ue.push.apply(Ue,He)}return Ue}function fn(Ft){for(var Ht=1;Ht<arguments.length;Ht++){var Ue=arguments[Ht]!=null?arguments[Ht]:{};Ht%2?Yr(Object(Ue),!0).forEach(function(He){ve()(Ft,He,Ue[He])}):Object.getOwnPropertyDescriptors?Object.defineProperties(Ft,Object.getOwnPropertyDescriptors(Ue)):Yr(Object(Ue)).forEach(function(He){Object.defineProperty(Ft,He,Object.getOwnPropertyDescriptor(Ue,He))})}return Ft}function En(Ft){return new Promise(function(Ht){return setTimeout(Ht,Ft)})}var ma=(w={},ve()(w,La.a.FLOAT,4),ve()(w,La.a.UNSIGNED_BYTE,1),ve()(w,La.a.UNSIGNED_SHORT,2),w),Ia=(re=Object(b.injectable)(),Qe=Object(b.inject)(k.a.IRendererService),re(Se=(jt=function(){function Ft(){oe()(this,Ft),ve()(this,"attributesAndIndices",void 0),Dr()(this,"rendererService",br,this),ve()(this,"attributes",[]),ve()(this,"triangulation",void 0),ve()(this,"featureLayout",{sizePerElement:0,elements:[]})}return Te()(Ft,[{key:"registerStyleAttribute",value:function(Ue){var He=this.getLayerStyleAttribute(Ue.name||"");return He?He.setProps(Ue):(He=new xo(Ue),this.attributes.push(He)),He}},{key:"updateStyleAttribute",value:function(Ue,He,Zt){var cr=this.getLayerStyleAttribute(Ue);cr||(cr=this.registerStyleAttribute(fn(fn({},He),{},{name:Ue})));var ln=He.scale;ln&&cr&&(cr.scale=ln,cr.needRescale=!0,cr.needRemapping=!0,cr.needRegenerateVertices=!0,Zt&&Zt.featureRange&&(cr.featureRange=Zt.featureRange))}},{key:"getLayerStyleAttributes",value:function(){return this.attributes}},{key:"getLayerStyleAttribute",value:function(Ue){return this.attributes.find(function(He){return He.name===Ue})}},{key:"getLayerAttributeScale",value:function(Ue){var He,Zt=this.getLayerStyleAttribute(Ue),cr=Zt==null||(He=Zt.scale)===null||He===void 0?void 0:He.scalers;return cr&&cr[0]?cr[0].func:null}},{key:"updateAttributeByFeatureRange",value:function(Ue,He){var Zt=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,cr=arguments.length>3?arguments[3]:void 0,ln=this.attributes.find(function(Ml){return Ml.name===Ue});if(ln&&ln.descriptor){var Mn=ln.descriptor,Cn=Mn.update,qn=Mn.buffer,Ea=Mn.size,ji=Ea===void 0?0:Ea,ro=ma[qn.type||La.a.FLOAT];if(Cn){var Ao=this.featureLayout,uo=Ao.elements,So=Ao.sizePerElement,fs=uo.slice(Zt,cr);if(!fs.length)return;var vs=fs[0].offset,bs=vs*ji*ro,Yl=fs.map(function(Ml,Xu){for(var Ul=Ml.featureIdx,Ds=Ml.vertices,Qs=Ml.normals,Vl=Ds.length/So,Kl=[],vl=0;vl<Vl;vl++){var hf=Qs?Qs.slice(vl*3,vl*3+3):[];Kl.push.apply(Kl,Fr()(Cn(He[Ul],Ul,Ds.slice(vl*So,vl*So+So),Xu,hf)))}return Kl}).reduce(function(Ml,Xu){return Ml.push.apply(Ml,Fr()(Xu)),Ml},[]);ln.vertexAttribute.updateBuffer({data:Yl,offset:bs})}}}},{key:"createAttributesAndIndices",value:function(Ue,He,Zt){var cr=this;this.featureLayout={sizePerElement:0,elements:[]},He&&(this.triangulation=He);var ln=this.attributes.map(function(bs){return bs.resetDescriptor(),bs.descriptor}),Mn=0,Cn=[],qn=[],Ea=[],ji=3;Ue.forEach(function(bs,Yl){var Ml=cr.triangulation(bs,Zt),Xu=Ml.indices,Ul=Ml.vertices,Ds=Ml.normals,Qs=Ml.size;Xu.forEach(function(hf){qn.push(hf+Mn)}),ji=Qs;var Vl=Ul.length/Qs;cr.featureLayout.sizePerElement=ji,cr.featureLayout.elements.push({featureIdx:Yl,vertices:Ul,normals:Ds,offset:Mn}),Mn+=Vl;for(var Kl=function(pf){var Gp=(Ds==null?void 0:Ds.slice(pf*3,pf*3+3))||[],vh=Ul.slice(pf*Qs,pf*Qs+Qs);ln.forEach(function(bc,lv){if(bc&&bc.update){var Tv;(Tv=bc.buffer.data).push.apply(Tv,Fr()(bc.update(bs,Yl,vh,pf,Gp)))}})},vl=0;vl<Vl;vl++)Kl(vl)});var ro=this.rendererService,Ao=ro.createAttribute,uo=ro.createBuffer,So=ro.createElements,fs={};ln.forEach(function(bs,Yl){if(bs){var Ml=bs.buffer,Xu=bs.update,Ul=bs.name,Ds=fl()(bs,["buffer","update","name"]),Qs=Ao(fn({buffer:uo(Ml)},Ds));fs[bs.name||""]=Qs,cr.attributes[Yl].vertexAttribute=Qs}});var vs=So({data:qn,type:La.a.UNSIGNED_INT,count:qn.length});return this.attributesAndIndices={attributes:fs,elements:vs},this.attributesAndIndices}},{key:"clearAllAttributes",value:function(){var Ue;this.attributes.forEach(function(He){He.vertexAttribute&&He.vertexAttribute.destroy()}),(Ue=this.attributesAndIndices)===null||Ue===void 0||Ue.elements.destroy(),this.attributes=[]}}]),Ft}(),br=Wr()(jt.prototype,"rendererService",[Qe],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),jt))||Se),Co=r("xp6e"),$o=r("iegG"),Zo=r.n($o),Hs,ms,Ws,zu,Pc,Ys,Ef,hd,Bf,Ms,zf,wh,_d,zl,Uf,$h,Sf,Gl,Wc,mc,pd,Vf,Gc,vd,Ll,Yd,Up,$d,uc,sv,Vp,wc,Xf;function Hf(Ft){var Ht=jd();return function(){var He=pe()(Ft),Zt;if(Ht){var cr=pe()(this).constructor;Zt=Reflect.construct(He,arguments,cr)}else Zt=He.apply(this,arguments);return fe()(this,Zt)}}function jd(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(Ft){return!1}}var Tc=(Hs=Object(b.injectable)(),ms=Object(b.inject)(k.a.SceneID),Ws=Object(b.inject)(k.a.IIconService),zu=Object(b.inject)(k.a.IFontService),Pc=Object(b.inject)(k.a.IControlService),Ys=Object(b.inject)(k.a.IGlobalConfigService),Ef=Object(b.inject)(k.a.IMapService),hd=Object(b.inject)(k.a.ICoordinateSystemService),Bf=Object(b.inject)(k.a.IRendererService),Ms=Object(b.inject)(k.a.ILayerService),zf=Object(b.inject)(k.a.ICameraService),wh=Object(b.inject)(k.a.IInteractionService),_d=Object(b.inject)(k.a.IPickingService),zl=Object(b.inject)(k.a.IShaderModuleService),Uf=Object(b.inject)(k.a.IMarkerService),$h=Object(b.inject)(k.a.IPopupService),Hs(Sf=(Gl=function(Ft){S()(Ue,Ft);var Ht=Hf(Ue);function Ue(){var He;return oe()(this,Ue),He=Ht.call(this),ve()(z()(He),"destroyed",!1),ve()(z()(He),"loaded",!1),ve()(z()(He),"loadFont",!1),ve()(z()(He),"fontFamily",""),Dr()(z()(He),"id",Wc,z()(He)),Dr()(z()(He),"iconService",mc,z()(He)),Dr()(z()(He),"fontService",pd,z()(He)),Dr()(z()(He),"controlService",Vf,z()(He)),Dr()(z()(He),"configService",Gc,z()(He)),Dr()(z()(He),"map",vd,z()(He)),Dr()(z()(He),"coordinateSystemService",Ll,z()(He)),Dr()(z()(He),"rendererService",Yd,z()(He)),Dr()(z()(He),"layerService",Up,z()(He)),Dr()(z()(He),"cameraService",$d,z()(He)),Dr()(z()(He),"interactionService",uc,z()(He)),Dr()(z()(He),"pickingService",sv,z()(He)),Dr()(z()(He),"shaderModuleService",Vp,z()(He)),Dr()(z()(He),"markerService",wc,z()(He)),Dr()(z()(He),"popupService",Xf,z()(He)),ve()(z()(He),"inited",!1),ve()(z()(He),"initPromise",void 0),ve()(z()(He),"rendering",!1),ve()(z()(He),"$container",void 0),ve()(z()(He),"canvas",void 0),ve()(z()(He),"markerContainer",void 0),ve()(z()(He),"hooks",void 0),ve()(z()(He),"handleWindowResized",function(){He.emit("resize"),He.$container&&(He.initContainer(),we.a.triggerResize(),He.coordinateSystemService.needRefresh=!0,He.render())}),ve()(z()(He),"handleMapCameraChanged",function(Zt){He.cameraService.update(Zt),He.render("mapRender")}),He.hooks={init:new Co.a},He}return Te()(Ue,[{key:"init",value:function(Zt){var cr=this;this.configService.setSceneConfig(this.id,Zt),this.shaderModuleService.registerBuiltinModules(),this.iconService.init(),this.fontService.init(),this.hooks.init.tapPromise("initMap",vi()(bo.a.mark(function ln(){return bo.a.wrap(function(Cn){for(;;)switch(Cn.prev=Cn.next){case 0:return Cn.next=2,new Promise(function(qn){cr.map.onCameraChanged(function(Ea){cr.cameraService.init(),cr.cameraService.update(Ea),cr.map.version!=="GAODE2.x"&&qn()}),cr.map.version!=="GAODE2.x"?cr.map.init():qn()});case 2:if(!(cr.map.version==="GAODE2.x"&&cr.map.initViewPort)){Cn.next=6;break}return Cn.next=5,cr.map.init();case 5:cr.map.initViewPort();case 6:cr.map.onCameraChanged(cr.handleMapCameraChanged),cr.map.addMarkerContainer(),cr.markerService.addMarkers(),cr.markerService.addMarkerLayers(),cr.popupService.initPopup(),cr.interactionService.init(),cr.interactionService.on(Oi.a.Drag,cr.addSceneEvent.bind(cr));case 13:case"end":return Cn.stop()}},ln)}))),this.hooks.init.tapPromise("initRenderer",vi()(bo.a.mark(function ln(){var Mn;return bo.a.wrap(function(qn){for(;;)switch(qn.prev=qn.next){case 0:if(Mn=lo(cr.configService.getSceneConfig(cr.id).id||""),cr.$container=Mn,!Mn){qn.next=11;break}return cr.canvas=we.a.create("canvas","",Mn),cr.setCanvas(),qn.next=7,cr.rendererService.init(cr.canvas,cr.configService.getSceneConfig(cr.id));case 7:Zo()(cr.$container,cr.handleWindowResized),window.matchMedia("screen and (-webkit-min-device-pixel-ratio: 1.5)").addListener(cr.handleWindowResized),qn.next=12;break;case 11:console.error("\u5BB9\u5668 id \u4E0D\u5B58\u5728");case 12:cr.pickingService.init(cr.id);case 13:case"end":return qn.stop()}},ln)}))),this.initPromise=this.hooks.init.promise(),this.render()}},{key:"addLayer",value:function(Zt){this.layerService.add(Zt),this.render()}},{key:"render",value:function(){var He=vi()(bo.a.mark(function cr(ln){return bo.a.wrap(function(Cn){for(;;)switch(Cn.prev=Cn.next){case 0:if(!(this.rendering||this.destroyed)){Cn.next=2;break}return Cn.abrupt("return");case 2:if(this.rendering=!0,this.inited){Cn.next=15;break}return Cn.next=6,this.initPromise;case 6:if(this.destroyed&&this.destroy(),!(this.loadFont&&document.fonts)){Cn.next=10;break}return Cn.next=10,document.fonts.load("24px ".concat(this.fontFamily),"L7text");case 10:this.layerService.initLayers(),this.controlService.addControls(),this.loaded=!0,this.emit("loaded"),this.inited=!0;case 15:this.layerService.renderLayers(ln),this.rendering=!1;case 17:case"end":return Cn.stop()}},cr,this)}));function Zt(cr){return He.apply(this,arguments)}return Zt}()},{key:"addFontFace",value:function(Zt,cr){this.fontFamily=Zt;var ln=document.createElement("style");ln.type="text/css",ln.innerText=`
        @font-face{
            font-family: '`.concat(Zt,`';
            src: url('`).concat(cr,`') format('woff2'),
            url('`).concat(cr,`') format('woff'),
            url('`).concat(cr,`') format('truetype');
        }`),document.getElementsByTagName("head")[0].appendChild(ln),this.loadFont=!0}},{key:"getSceneContainer",value:function(){return this.$container}},{key:"exportPng",value:function(Zt){var cr,ln=(cr=this.$container)===null||cr===void 0?void 0:cr.getElementsByTagName("canvas")[0];this.render();var Mn=Zt==="jpg"?ln==null?void 0:ln.toDataURL("image/jpeg"):ln==null?void 0:ln.toDataURL("image/png");return Mn}},{key:"getSceneConfig",value:function(){return this.configService.getSceneConfig(this.id)}},{key:"addMarkerContainer",value:function(){var Zt=this.$container.parentElement;Zt!==null&&(this.markerContainer=we.a.create("div","l7-marker-container",Zt))}},{key:"getMarkerContainer",value:function(){return this.markerContainer}},{key:"destroy",value:function(){var Zt,cr;if(!this.inited){this.destroyed=!0;return}this.emit("destroy"),this.layerService.destroy(),this.rendererService.destroy(),this.map.destroy(),this.interactionService.destroy(),this.controlService.destroy(),this.markerService.destroy(),(Zt=this.$container)===null||Zt===void 0||(cr=Zt.parentNode)===null||cr===void 0||cr.removeChild(this.$container),this.removeAllListeners(),this.inited=!1,Object($o.unbind)(this.$container,this.handleWindowResized),window.matchMedia("screen and (min-resolution: 2dppx)").removeListener(this.handleWindowResized)}},{key:"initContainer",value:function(){var Zt,cr,ln=we.a.DPR,Mn=((Zt=this.$container)===null||Zt===void 0?void 0:Zt.clientWidth)||400,Cn=((cr=this.$container)===null||cr===void 0?void 0:cr.clientHeight)||300,qn=this.canvas;qn&&(qn.width=Mn*ln,qn.height=Cn*ln,qn.style.width="".concat(Mn,"px"),qn.style.height="".concat(Cn,"px")),this.rendererService.viewport({x:0,y:0,width:ln*Mn,height:ln*Cn})}},{key:"setCanvas",value:function(){var Zt,cr,ln=we.a.DPR,Mn=((Zt=this.$container)===null||Zt===void 0?void 0:Zt.clientWidth)||400,Cn=((cr=this.$container)===null||cr===void 0?void 0:cr.clientHeight)||300,qn=this.canvas;qn.width=Mn*ln,qn.height=Cn*ln,qn.style.width="".concat(Mn,"px"),qn.style.height="".concat(Cn,"px")}},{key:"addSceneEvent",value:function(Zt){this.emit(Zt.type,Zt)}}]),Ue}(y.EventEmitter),Wc=Wr()(Gl.prototype,"id",[ms],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),mc=Wr()(Gl.prototype,"iconService",[Ws],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),pd=Wr()(Gl.prototype,"fontService",[zu],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Vf=Wr()(Gl.prototype,"controlService",[Pc],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Gc=Wr()(Gl.prototype,"configService",[Ys],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),vd=Wr()(Gl.prototype,"map",[Ef],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Ll=Wr()(Gl.prototype,"coordinateSystemService",[hd],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Yd=Wr()(Gl.prototype,"rendererService",[Bf],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Up=Wr()(Gl.prototype,"layerService",[Ms],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),$d=Wr()(Gl.prototype,"cameraService",[zf],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),uc=Wr()(Gl.prototype,"interactionService",[wh],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),sv=Wr()(Gl.prototype,"pickingService",[_d],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Vp=Wr()(Gl.prototype,"shaderModuleService",[zl],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),wc=Wr()(Gl.prototype,"markerService",[Uf],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Xf=Wr()(Gl.prototype,"popupService",[$h],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Gl))||Sf),Qf=r("7tbW"),kd=r.n(Qf);function md(Ft){var Ht=0;switch(Ft){case"vec2":case"ivec2":Ht=2;break;case"vec3":case"ivec3":Ht=3;break;case"vec4":case"ivec4":case"mat2":Ht=4;break;case"mat3":Ht=9;break;case"mat4":Ht=16;break;default:}return Ht}var sf=/uniform\s+(bool|float|int|vec2|vec3|vec4|ivec2|ivec3|ivec4|mat2|mat3|mat4|sampler2D|samplerCube)\s+([\s\S]*?);/g;function Xh(Ft){var Ht={};return Ft=Ft.replace(sf,function(Ue,He,Zt){var cr=Zt.split(":"),ln=cr[0].trim(),Mn="";switch(cr.length>1&&(Mn=cr[1].trim()),He){case"bool":Mn=Mn==="true";break;case"float":case"int":Mn=Number(Mn);break;case"vec2":case"vec3":case"vec4":case"ivec2":case"ivec3":case"ivec4":case"mat2":case"mat3":case"mat4":Mn?Mn=Mn.replace("[","").replace("]","").split(",").reduce(function(Cn,qn){return Cn.push(Number(qn.trim())),Cn},[]):Mn=new Array(md(He)).fill(0);break;default:}return Ht[ln]=Mn,"uniform ".concat(He," ").concat(ln,`;
`)}),{content:Ft,uniforms:Ht}}var Id,gp;function Xd(Ft,Ht){var Ue=Object.keys(Ft);if(Object.getOwnPropertySymbols){var He=Object.getOwnPropertySymbols(Ft);Ht&&(He=He.filter(function(Zt){return Object.getOwnPropertyDescriptor(Ft,Zt).enumerable})),Ue.push.apply(Ue,He)}return Ue}function Of(Ft){for(var Ht=1;Ht<arguments.length;Ht++){var Ue=arguments[Ht]!=null?arguments[Ht]:{};Ht%2?Xd(Object(Ue),!0).forEach(function(He){ve()(Ft,He,Ue[He])}):Object.getOwnPropertyDescriptors?Object.defineProperties(Ft,Object.getOwnPropertyDescriptors(Ue)):Xd(Object(Ue)).forEach(function(He){Object.defineProperty(Ft,He,Object.getOwnPropertyDescriptor(Ue,He))})}return Ft}var ch="#define PI 3.14159265359",Jf=`#define SHIFT_RIGHT17 1.0 / 131072.0
#define SHIFT_RIGHT18 1.0 / 262144.0
#define SHIFT_RIGHT19 1.0 / 524288.0
#define SHIFT_RIGHT20 1.0 / 1048576.0
#define SHIFT_RIGHT21 1.0 / 2097152.0
#define SHIFT_RIGHT22 1.0 / 4194304.0
#define SHIFT_RIGHT23 1.0 / 8388608.0
#define SHIFT_RIGHT24 1.0 / 16777216.0

#define SHIFT_LEFT17 131072.0
#define SHIFT_LEFT18 262144.0
#define SHIFT_LEFT19 524288.0
#define SHIFT_LEFT20 1048576.0
#define SHIFT_LEFT21 2097152.0
#define SHIFT_LEFT22 4194304.0
#define SHIFT_LEFT23 8388608.0
#define SHIFT_LEFT24 16777216.0

vec2 unpack_float(float packedValue) {
  int packedIntValue = int(packedValue);
  int v0 = packedIntValue / 256;
  return vec2(v0, packedIntValue - v0 * 256);
}

vec4 decode_color(vec2 encodedColor) {
  return vec4(
    unpack_float(encodedColor[0]) / 255.0,
    unpack_float(encodedColor[1]) / 255.0
  );
}
`,Bd=`#define ambientRatio 0.5
#define diffuseRatio 0.3
#define specularRatio 0.2


float calc_lighting(vec4 pos) {

    vec3 worldPos = vec3(pos * u_ModelMatrix);

    vec3 worldNormal = a_Normal;
      // //cal light weight
    vec3 viewDir = normalize(u_CameraPosition - worldPos);

    vec3 lightDir = normalize(vec3(1, -10.5, 12));

    vec3 halfDir = normalize(viewDir+lightDir);
      // //lambert
    float lambert = dot(worldNormal, lightDir);
        //specular
    float specular = pow(max(0.0, dot(worldNormal, halfDir)), 32.0);
        //sum to light weight
    float lightWeight = ambientRatio + diffuseRatio * lambert + specularRatio * specular;

    return lightWeight;
}
`,fh=`// Blinn-Phong model
// apply lighting in vertex shader instead of fragment shader
// @see https://learnopengl.com/Advanced-Lighting/Advanced-Lighting
uniform float u_Ambient : 1.0;
uniform float u_Diffuse : 1.0;
uniform float u_Specular : 1.0;
uniform int u_NumOfDirectionalLights : 1;
uniform int u_NumOfSpotLights : 0;

#define SHININESS 32.0
#define MAX_NUM_OF_DIRECTIONAL_LIGHTS 3
#define MAX_NUM_OF_SPOT_LIGHTS 3

struct DirectionalLight {
  vec3 direction;
  vec3 ambient;
  vec3 diffuse;
  vec3 specular;
};

struct SpotLight {
  vec3 position;
  vec3 direction;
  vec3 ambient;
  vec3 diffuse;
  vec3 specular;
  float constant;
  float linear;
  float quadratic;
  float angle;
  float blur;
  float exponent;
};

uniform DirectionalLight u_DirectionalLights[MAX_NUM_OF_DIRECTIONAL_LIGHTS];
uniform SpotLight u_SpotLights[MAX_NUM_OF_SPOT_LIGHTS];

vec3 calc_directional_light(DirectionalLight light, vec3 normal, vec3 viewDir) {
  vec3 lightDir = normalize(light.direction);
  // diffuse shading
  float diff = max(dot(normal, lightDir), 0.0);
  // Blinn-Phong specular shading
  vec3 halfwayDir = normalize(lightDir + viewDir);
  float spec = pow(max(dot(normal, halfwayDir), 0.0), SHININESS);

  vec3 ambient = light.ambient * u_Ambient;
  vec3 diffuse = light.diffuse * diff * u_Diffuse;
  vec3 specular = light.specular * spec * u_Specular;

  return ambient + diffuse + specular;
}

// vec3 calc_spot_light(SpotLight light, vec3 normal, vec3 fragPos, vec3 viewDir) {
//   vec3 lightDir = normalize(light.position - fragPos);
//   // diffuse shading
//   float diff = max(dot(normal, lightDir), 0.0);
//   // specular shading
//   vec3 reflectDir = reflect(-lightDir, normal);
//   float spec = pow(max(dot(viewDir, reflectDir), 0.0), SHININESS);
//   // attenuation
//   float distance = length(light.position - fragPos);
//   float attenuation = 1.0 / (light.constant + light.linear * distance +
//           light.quadratic * (distance * distance));

//   vec3 ambient = light.ambient * u_Ambient;
//   vec3 diffuse = light.diffuse * diff * u_Diffuse;
//   vec3 specular = light.specular * spec * u_Specular;

//   float spotEffect = dot(normalize(light.direction), -lightDir);
//   float spotCosCutoff = cos(light.angle / 180.0 * PI);
//   float spotCosOuterCutoff = cos((light.angle + light.blur) / 180.0 * PI);
//   float spotCosInnerCutoff = cos((light.angle - light.blur) / 180.0 * PI);
//   if (spotEffect > spotCosCutoff) {
//     spotEffect = pow(smoothstep(spotCosOuterCutoff, spotCosInnerCutoff, spotEffect), light.exponent);
//   } else {
//     spotEffect = 0.0;
//   }

//   return ambient + attenuation * (spotEffect * diffuse + specular);
// }

vec3 calc_lighting(vec3 position, vec3 normal, vec3 viewDir) {
  vec3 weight = vec3(0.0);
  for (int i = 0; i < MAX_NUM_OF_DIRECTIONAL_LIGHTS; i++) {
    if (i >= u_NumOfDirectionalLights) {
      break;
    }
    weight += calc_directional_light(u_DirectionalLights[i], normal, viewDir);
  }
  // for (int i = 0; i < MAX_NUM_OF_SPOT_LIGHTS; i++) {
  //   if (i >= u_NumOfSpotLights) {
  //     break;
  //   }
  //   weight += calc_spot_light(u_SpotLights[i], normal, position, viewDir);
  // }
  return weight;
}
`,Th=`varying vec4 v_PickingResult;
uniform vec4 u_HighlightColor : [0, 0, 0, 0];
uniform float u_PickingStage : 0.0;

#define PICKING_NONE 0.0
#define PICKING_ENCODE 1.0
#define PICKING_HIGHLIGHT 2.0
#define COLOR_SCALE 1. / 255.

/*
 * Returns highlight color if this item is selected.
 */
vec4 filterHighlightColor(vec4 color) {
  bool selected = bool(v_PickingResult.a);

  if (selected) {
    vec4 highLightColor = u_HighlightColor * COLOR_SCALE;

    float highLightAlpha = highLightColor.a;
    float highLightRatio = highLightAlpha / (highLightAlpha + color.a * (1.0 - highLightAlpha));

    vec3 resultRGB = mix(color.rgb, highLightColor.rgb, highLightRatio);
    return vec4(resultRGB, color.a);
  } else {
    return color;
  }
}

/*
 * Returns picking color if picking enabled else unmodified argument.
 */
vec4 filterPickingColor(vec4 color) {
  vec3 pickingColor = v_PickingResult.rgb;
  if (u_PickingStage == PICKING_ENCODE && length(pickingColor) < 0.001) {
    discard;
  }
  return u_PickingStage == PICKING_ENCODE ? vec4(pickingColor, step(0.001,color.a)): color;
}

/*
 * Returns picking color if picking is enabled if not
 * highlight color if this item is selected, otherwise unmodified argument.
 */
vec4 filterColor(vec4 color) {
  return filterPickingColor(filterHighlightColor(color));
}
`,yp=`attribute vec3 a_PickingColor;
varying vec4 v_PickingResult;

uniform vec3 u_PickingColor : [0, 0, 0];
uniform vec4 u_HighlightColor : [0, 0, 0, 0];
uniform float u_PickingStage : 0.0;
uniform float u_PickingThreshold : 1.0;
uniform float u_PickingBuffer: 0.0;

#define PICKING_NONE 0.0
#define PICKING_ENCODE 1.0
#define PICKING_HIGHLIGHT 2.0
#define COLOR_SCALE 1. / 255.

bool isVertexPicked(vec3 vertexColor) {
  return
    abs(vertexColor.r - u_PickingColor.r) < u_PickingThreshold &&
    abs(vertexColor.g - u_PickingColor.g) < u_PickingThreshold &&
    abs(vertexColor.b - u_PickingColor.b) < u_PickingThreshold;
}

void setPickingColor(vec3 pickingColor) {
  // compares only in highlight stage
  v_PickingResult.a = float((u_PickingStage == PICKING_HIGHLIGHT) && isVertexPicked(pickingColor));

  // Stores the picking color so that the fragment shader can render it during picking
  v_PickingResult.rgb = pickingColor * COLOR_SCALE;
}

float setPickingSize(float x) {
   return u_PickingStage == PICKING_ENCODE ? x + u_PickingBuffer : x;
}

float setPickingOrder(float z) {
   bool selected = bool(v_PickingResult.a);
   return selected ? z + 1. : 0.;
}
`,Rd=`
#define E 2.718281828459045
vec2 ProjectFlat(vec2 lnglat){
  float maxs=85.0511287798;
  float lat=max(min(maxs,lnglat.y),-maxs);
  float scale= 268435456.;
  float d=PI/180.;
  float x=lnglat.x*d;
  float y=lat*d;
  y=log(tan((PI/4.)+(y/2.)));

  float a=.5/PI,
  b=.5,
  c=-.5/PI;
  d=.5;
  x=scale*(a*x+b);
  y=scale*(c*y+d);
  return vec2(x,y);
}

vec2 unProjectFlat(vec2 px){
  float a=.5/PI;
  float b=.5;
  float c=-.5/PI;
  float d=.5;
  float scale = 268435456.;
  float x=(px.x/scale-b)/a;
  float y=(px.y/scale-d)/c;
  y=(atan(pow(E,y))-(PI/4.))*2.;
  d=PI/180.;
  float lat=y/d;
  float lng=x/d;
  return vec2(lng,lat);
}

float pixelDistance(vec2 from, vec2 to) {
 vec2 a1 = ProjectFlat(from);
 vec2 b1 = ProjectFlat(to);
 return distance(a1, b1);
}

// gaode2.0
vec2 customProject(vec2 lnglat) { // \u7ECF\u7EAC\u5EA6 => \u5E73\u9762\u5750\u6807
  float t = lnglat.x;
  float e = lnglat.y;
  float Sm = 180.0 / PI;
  float Tm = 6378137.0;
  float Rm = PI / 180.0;
  float r = 85.0511287798;
  e = max(min(r, e), -r);
  t *= Rm;
  e *= Rm;
  e = log(tan(PI / 4.0 + e / 2.0));
  return vec2(t * Tm, e * Tm);
}

vec2 unProjCustomCoord(vec2 point) { // \u5E73\u9762\u5750\u6807 => \u7ECF\u7EAC\u5EA6
  float Sm = 57.29577951308232; //180 / Math.PI
  float Tm = 6378137.0;
  float t = point.x;
  float e = point.y;
  return vec2(t / Tm * Sm, (2.0 * atan(exp(e / Tm)) - PI / 2.0) * Sm);
}


float customPixelDistance(vec2 from, vec2 to) {
 vec2 a1 = ProjectFlat(from);
 vec2 b1 = ProjectFlat(to);
 return distance(a1, b1);
}`,qf=`#define TILE_SIZE 512.0
#define PI 3.1415926536
#define WORLD_SCALE TILE_SIZE / (PI * 2.0)

#define COORDINATE_SYSTEM_LNGLAT 1.0
#define COORDINATE_SYSTEM_LNGLAT_OFFSET 2.0
#define COORDINATE_SYSTEM_VECTOR_TILE 3.0
#define COORDINATE_SYSTEM_IDENTITY 4.0
#define COORDINATE_SYSTEM_P20 5.0
#define COORDINATE_SYSTEM_P20_OFFSET 6.0
#define COORDINATE_SYSTEM_METER_OFFSET 7.0

#define COORDINATE_SYSTEM_P20_2 8.0

uniform mat4 u_ViewMatrix;
uniform mat4 u_ProjectionMatrix;
uniform mat4 u_ViewProjectionMatrix;
uniform float u_Zoom : 1;
uniform float u_ZoomScale : 1;

uniform float u_CoordinateSystem;
uniform vec2 u_ViewportCenter;
uniform vec4 u_ViewportCenterProjection;
uniform vec3 u_PixelsPerDegree;
uniform vec3 u_PixelsPerDegree2;
uniform vec3 u_PixelsPerMeter;

uniform vec2 u_ViewportSize;
uniform float u_DevicePixelRatio;
uniform float u_FocalDistance;
uniform vec3 u_CameraPosition;

// uniform mat4 u_Mvp;

// web mercator coords -> world coords
vec2 project_mercator(vec2 lnglat) {
  float x = lnglat.x;
  return vec2(
    radians(x) + PI,
    PI - log(tan(PI * 0.25 + radians(lnglat.y) * 0.5))
  );
}

float project_scale(float meters) {
  return meters * u_PixelsPerMeter.z;
}


// offset coords -> world coords
vec4 project_offset(vec4 offset) {
  float dy = offset.y;
  dy = clamp(dy, -1., 1.);
  vec3 pixels_per_unit = u_PixelsPerDegree + u_PixelsPerDegree2 * dy;
  return vec4(offset.xyz * pixels_per_unit, offset.w);
}

vec3 project_normal(vec3 normal) {
  vec4 normal_modelspace = u_ModelMatrix * vec4(normal, 0.0);
  return normalize(normal_modelspace.xyz * u_PixelsPerMeter);
}

vec3 project_offset_normal(vec3 vector) {
  if (u_CoordinateSystem < COORDINATE_SYSTEM_LNGLAT + 0.01 && u_CoordinateSystem >COORDINATE_SYSTEM_LNGLAT - 0.01
    || u_CoordinateSystem == COORDINATE_SYSTEM_LNGLAT_OFFSET) {
    // normals generated by the polygon tesselator are in lnglat offsets instead of meters
    return normalize(vector * u_PixelsPerDegree);
  }
  return project_normal(vector);
}
// || u_CoordinateSystem < COORDINATE_SYSTEM_P20_OFFSET + 0.01 && u_CoordinateSystem >COORDINATE_SYSTEM_P20_OFFSET - 0.01
// reverse Y
vec3 reverse_offset_normal(vec3 vector) {
  if (u_CoordinateSystem == COORDINATE_SYSTEM_P20 ||u_CoordinateSystem == COORDINATE_SYSTEM_P20_OFFSET ) {
    return vector * vec3(1.0, -1.0, 1.0);
  }

  if (u_CoordinateSystem == COORDINATE_SYSTEM_P20_2) { // gaode2.0
    return vector;
  }
  return vector;
}

vec4 project_position(vec4 position) {
  float a = COORDINATE_SYSTEM_LNGLAT_OFFSET;
  float b = COORDINATE_SYSTEM_P20_OFFSET;
  float c = COORDINATE_SYSTEM_LNGLAT;
  if (u_CoordinateSystem == COORDINATE_SYSTEM_LNGLAT_OFFSET
    || u_CoordinateSystem == COORDINATE_SYSTEM_P20_OFFSET) {
    float X = position.x - u_ViewportCenter.x;
    float Y = position.y - u_ViewportCenter.y;
    return project_offset(vec4(X, Y, position.z, position.w));
  }
  if (u_CoordinateSystem < COORDINATE_SYSTEM_LNGLAT + 0.01 && u_CoordinateSystem >COORDINATE_SYSTEM_LNGLAT - 0.01) {
    return vec4(
      project_mercator(position.xy) * WORLD_SCALE * u_ZoomScale,
      project_scale(position.z),
      position.w
    );
  }

  if (u_CoordinateSystem == COORDINATE_SYSTEM_P20) {
    return vec4(
      (project_mercator(position.xy) * WORLD_SCALE * u_ZoomScale - vec2(215440491., 106744817.)) * vec2(1., -1.),
      project_scale(position.z),
      position.w
    );
  }

  if(u_CoordinateSystem == COORDINATE_SYSTEM_P20_2) {
    // return vec4(
    //   (position.xy * WORLD_SCALE * u_ZoomScale) * vec2(1., -1.), 
    //   project_scale(position.z), 
    //   position.w);

     return vec4(
      position.xy, 
      project_scale(position.z), 
      position.w);
  }
  return position;

  // TODO: \u74E6\u7247\u5750\u6807\u7CFB & \u5E38\u89C4\u4E16\u754C\u5750\u6807\u7CFB
}
vec2 project_pixel_size_to_clipspace(vec2 pixels) {
  vec2 offset = pixels / u_ViewportSize * u_DevicePixelRatio * 2.0;
  return offset * u_FocalDistance;
}

float project_pixel_allmap(float pixel) {
  if(u_CoordinateSystem == COORDINATE_SYSTEM_LNGLAT) {
    return pixel * pow(2.0, u_Zoom);
  }
  return pixel;
}

float project_pixel(float pixel) {
  if (u_CoordinateSystem == COORDINATE_SYSTEM_P20 || u_CoordinateSystem == COORDINATE_SYSTEM_P20_OFFSET) {
    // P20 \u5750\u6807\u7CFB\u4E0B\uFF0C\u4E3A\u4E86\u548C Web \u58A8\u5361\u6258\u5750\u6807\u7CFB\u7EDF\u4E00\uFF0Czoom \u9ED8\u8BA4\u51CF1
    return pixel * pow(2.0, (19.0 - u_Zoom));
  }
  if(u_CoordinateSystem == COORDINATE_SYSTEM_P20_2) {
    // P20_2 \u5750\u6807\u7CFB\u4E0B\uFF0C\u4E3A\u4E86\u548C Web \u58A8\u5361\u6258\u5750\u6807\u7CFB\u7EDF\u4E00\uFF0Czoom \u9ED8\u8BA4\u51CF3
    return pixel * pow(2.0, (19.0 - 3.0 - u_Zoom));
  }
  return pixel;
}
vec2 project_pixel(vec2 pixel) {
  if (u_CoordinateSystem == COORDINATE_SYSTEM_P20 || u_CoordinateSystem == COORDINATE_SYSTEM_P20_OFFSET) {
    // P20 \u5750\u6807\u7CFB\u4E0B\uFF0C\u4E3A\u4E86\u548C Web \u58A8\u5361\u6258\u5750\u6807\u7CFB\u7EDF\u4E00\uFF0Czoom \u9ED8\u8BA4\u51CF1
    return pixel * pow(2.0, (19.0 - u_Zoom));
  }
  if(u_CoordinateSystem == COORDINATE_SYSTEM_P20_2) {
    // P20_2 \u5750\u6807\u7CFB\u4E0B\uFF0C\u4E3A\u4E86\u548C Web \u58A8\u5361\u6258\u5750\u6807\u7CFB\u7EDF\u4E00\uFF0Czoom \u9ED8\u8BA4\u51CF3
    return pixel * pow(2.0, (19.0 - 3.0 - u_Zoom));
  }
  return pixel * -1.;
}

vec4 project_common_position_to_clipspace(vec4 position, mat4 viewProjectionMatrix, vec4 center) {
  if (u_CoordinateSystem == COORDINATE_SYSTEM_METER_OFFSET ||
    u_CoordinateSystem == COORDINATE_SYSTEM_LNGLAT_OFFSET) {
    // Needs to be divided with project_uCommonUnitsPerMeter
    position.w *= u_PixelsPerMeter.z;
  }

  return viewProjectionMatrix * position + center;
}

// Projects from common space coordinates to clip space
vec4 project_common_position_to_clipspace(vec4 position) {
  return project_common_position_to_clipspace(
    position,
    u_ViewProjectionMatrix,
    u_ViewportCenterProjection
  );
}

vec4 unproject_clipspace_to_position(vec4 clipspacePos, mat4 u_InverseViewProjectionMatrix) {
  vec4 pos = u_InverseViewProjectionMatrix * (clipspacePos - u_ViewportCenterProjection);

  if (u_CoordinateSystem == COORDINATE_SYSTEM_METER_OFFSET ||
    u_CoordinateSystem == COORDINATE_SYSTEM_LNGLAT_OFFSET) {
    // Needs to be divided with project_uCommonUnitsPerMeter
     pos.w = pos.w / u_PixelsPerMeter.z;
  }
  return pos;
}


bool isEqual( float a,  float b) {
    return  a< b + 0.001 && a > b - 0.001;
}`,bp=`/**
 * 2D signed distance field functions
 * @see http://www.iquilezles.org/www/articles/distfunctions2d/distfunctions2d.htm
 */

float ndot(vec2 a, vec2 b ) { return a.x*b.x - a.y*b.y; }

float sdCircle(vec2 p, float r) {
  return length(p) - r;
}

float sdEquilateralTriangle(vec2 p) {
  float k = sqrt(3.0);
  p.x = abs(p.x) - 1.0;
  p.y = p.y + 1.0/k;
  if( p.x + k*p.y > 0.0 ) p = vec2(p.x-k*p.y,-k*p.x-p.y)/2.0;
  p.x -= clamp( p.x, -2.0, 0.0 );
  return -length(p)*sign(p.y);
}

float sdBox(vec2 p, vec2 b) {
  vec2 d = abs(p)-b;
  return length(max(d,vec2(0))) + min(max(d.x,d.y),0.0);
}

float sdPentagon(vec2 p, float r) {
  vec3 k = vec3(0.809016994,0.587785252,0.726542528);
  p.x = abs(p.x);
  p -= 2.0*min(dot(vec2(-k.x,k.y),p),0.0)*vec2(-k.x,k.y);
  p -= 2.0*min(dot(vec2( k.x,k.y),p),0.0)*vec2( k.x,k.y);
  p -= vec2(clamp(p.x,-r*k.z,r*k.z),r);
  return length(p)*sign(p.y);
}

float sdHexagon(vec2 p, float r) {
  vec3 k = vec3(-0.866025404,0.5,0.577350269);
  p = abs(p);
  p -= 2.0*min(dot(k.xy,p),0.0)*k.xy;
  p -= vec2(clamp(p.x, -k.z*r, k.z*r), r);
  return length(p)*sign(p.y);
}

float sdOctogon(vec2 p, float r) {
  vec3 k = vec3(-0.9238795325, 0.3826834323, 0.4142135623 );
  p = abs(p);
  p -= 2.0*min(dot(vec2( k.x,k.y),p),0.0)*vec2( k.x,k.y);
  p -= 2.0*min(dot(vec2(-k.x,k.y),p),0.0)*vec2(-k.x,k.y);
  p -= vec2(clamp(p.x, -k.z*r, k.z*r), r);
  return length(p)*sign(p.y);
}

float sdHexagram(vec2 p, float r) {
  vec4 k=vec4(-0.5,0.8660254038,0.5773502692,1.7320508076);
  p = abs(p);
  p -= 2.0*min(dot(k.xy,p),0.0)*k.xy;
  p -= 2.0*min(dot(k.yx,p),0.0)*k.yx;
  p -= vec2(clamp(p.x,r*k.z,r*k.w),r);
  return length(p)*sign(p.y);
}

float sdRhombus(vec2 p, vec2 b) {
  vec2 q = abs(p);
  float h = clamp((-2.0*ndot(q,b)+ndot(b,b))/dot(b,b),-1.0,1.0);
  float d = length( q - 0.5*b*vec2(1.0-h,1.0+h) );
  return d * sign( q.x*b.y + q.y*b.x - b.x*b.y );
}

float sdVesica(vec2 p, float r, float d) {
  p = abs(p);
  float b = sqrt(r*r-d*d); // can delay this sqrt
  return ((p.y-b)*d>p.x*b)
          ? length(p-vec2(0.0,b))
          : length(p-vec2(-d,0.0))-r;
}
`,Hp=`attribute float a_vertexId;

uniform mat4 u_cellTypeLayout;      // \u63CF\u8FF0\u6570\u636E\u7EB9\u7406 cell \u7ED3\u6784\u7684\u77E9\u9635
uniform sampler2D u_dataTexture;    // \u6570\u636E\u7EB9\u7406

bool hasOpacity() { // \u5224\u65AD cell \u4E2D\u662F\u5426\u5B58\u5728 opacity \u7684\u6570\u636E
  return u_cellTypeLayout[1][0] > 0.0 && u_cellTypeLayout[3][3] > 0.0;
}

bool hasStrokeOpacity() { // \u5224\u65AD cell \u4E2D\u662F\u5426\u5B58\u5728 strokeOpacity \u7684\u6570\u636E
  return u_cellTypeLayout[1][1] > 0.0 && u_cellTypeLayout[3][3] > 0.0;
}

bool hasStrokeWidth() { // \u5224\u65AD cell \u4E2D\u662F\u5426\u5B58\u5728 strokeWidth \u7684\u6570\u636E
  return u_cellTypeLayout[1][2] > 0.0 && u_cellTypeLayout[3][3] > 0.0;
}

bool hasStroke() { // \u5224\u65AD cell \u4E2D\u662F\u5426\u5B58\u5728 stroke \u7684\u6570\u636E
  return u_cellTypeLayout[1][3] > 0.0 && u_cellTypeLayout[3][3] > 0.0;
}

bool hasOffsets() { // \u5224\u65AD cell \u4E2D\u662F\u5426\u5B58\u5728 offsets \u7684\u6570\u636E
  return u_cellTypeLayout[2][0] > 0.0 && u_cellTypeLayout[3][3] > 0.0;
}

// \u6839\u636E\u5750\u6807\u4F4D\u7F6E\u5148\u662F\u8BA1\u7B97 uv \uFF0C\u7136\u540E\u6839\u636E uv \u4ECE\u6570\u636E\u7EB9\u7406\u4E2D\u53D6\u503C
float pos2value(vec2 pos, float columnWidth, float rowHeight) {
  float u = (pos.r - 1.0) * columnWidth + columnWidth/2.0;
  float v = 1.0 - ((pos.g - 1.0) * rowHeight + rowHeight/2.0);
  return texture2D(u_dataTexture, vec2(u, v)).r;
}

/*
  currentRow \u5F53\u524D\u884C
  currentColumn \u5F53\u524D\u5217
  columnCount \u6709\u591A\u5C11\u5217
  nextStep \u9700\u8981\u8BA1\u7B97\u5F53\u524D cell \u540E\u7684\u7B2C\u51E0\u4E2A cell \uFF08\u5F53\u524D cell \u5219 nextStep = 0\uFF09
*/
vec2 nextPos(float currentRow, float currentColumn, float columnCount, float nextStep) {
  float nextColumn = currentColumn;
  float nextRow = currentRow;
  if(currentColumn + nextStep <= columnCount){
    nextColumn = currentColumn + nextStep;
  } else {
    nextColumn = mod(currentColumn + nextStep, columnCount); // \u4E0D\u4F1A\u51FA\u73B0\u8DE8\u4E24\u884C
    nextRow = currentRow + 1.0;
  }
  return vec2(nextColumn, nextRow);
}

// \u8BA1\u7B97\u5F53\u524D\u5355\u4E2A cell \u7684\u5927\u5C0F
float calCellCount() { 
  //   u_cellTypeLayout
  //   cal_height, WIDTH, 0.0, 0.0, // rowCount columnCount - \u51E0\u884C\u51E0\u5217
  //   1.0, 1.0, 1.0, 0.0, // opacity strokeOpacity strokeWidth stroke - 1.0 \u8868\u793A\u6709\u6570\u636E\u6620\u5C04\u30010.0 \u8868\u793A\u6CA1\u6709
  //   1.0, 0.0, 0.0, 0.0, // offsets
  //   0.0, 0.0, 0.0, 0.0
  
  return  u_cellTypeLayout[1][0] +        // opacity
          u_cellTypeLayout[1][1] +        // strokeOpacity
          u_cellTypeLayout[1][2] +        // strokeWidth
          u_cellTypeLayout[1][3] * 4.0 +  // stroke
          u_cellTypeLayout[2][0] * 2.0;   // offsets
}`,Ah=`
// \u8BA1\u7B97 opacity \u548C\u6807\u793A\u5728 cell \u4E2D\u53D6\u503C\u4F4D\u7F6E\u7684\u504F\u79FB\u91CF textureOffset
vec2 calOpacityAndOffset(float cellCurrentRow, float cellCurrentColumn, float columnCount, float textureOffset, float columnWidth, float rowHeight) {
  if(!hasOpacity()) { // \u6570\u636E\u7EB9\u7406\u4E2D\u4E0D\u5B58\u5728 opacity \u7684\u65F6\u5019\u53D6\u9ED8\u8BA4\u503C\uFF08\u7528\u6237\u5728 style \u4E2D\u4F20\u5165\u7684\u662F\u5E38\u91CF\uFF09
    return vec2(u_opacity, textureOffset);
  } else {
    vec2 valuePos = nextPos(cellCurrentRow, cellCurrentColumn, columnCount, textureOffset);
    float textureOpacity = pos2value(valuePos, columnWidth, rowHeight);
    return vec2(textureOpacity, textureOffset + 1.0);
  }
}
`,Mh=`
// \u8BA1\u7B97 strokeOpaicty \u548C\u6807\u793A\u5728 cell \u4E2D\u53D6\u503C\u4F4D\u7F6E\u7684\u504F\u79FB\u91CF textureOffset
vec2 calStrokeOpacityAndOffset(float cellCurrentRow, float cellCurrentColumn, float columnCount, float textureOffset, float columnWidth, float rowHeight) {
  if(!hasStrokeOpacity()) {
    return vec2(u_stroke_opacity, textureOffset);
  } else {
    vec2 valuePos = nextPos(cellCurrentRow, cellCurrentColumn, columnCount, textureOffset);
    float textureStrokeOpacity = pos2value(valuePos, columnWidth, rowHeight);
    return vec2(textureStrokeOpacity, textureOffset + 1.0);
  }
}
`,Qh=`
// \u8BA1\u7B97 strokeWidth \u548C\u6807\u793A\u5728 cell \u4E2D\u53D6\u503C\u4F4D\u7F6E\u7684\u504F\u79FB\u91CF textureOffset
vec2 calStrokeWidthAndOffset(float cellCurrentRow, float cellCurrentColumn, float columnCount, float textureOffset, float columnWidth, float rowHeight) {
  if(!hasStrokeWidth()) {
    return vec2(u_stroke_width, textureOffset);
  } else {
    vec2 valuePos = nextPos(cellCurrentRow, cellCurrentColumn, columnCount, textureOffset);
    float textureStrokeWidth = pos2value(valuePos, columnWidth, rowHeight);
    return vec2(textureStrokeWidth, textureOffset + 1.0);
  }
}
`,Wp=/precision\s+(high|low|medium)p\s+float/,ed=`#ifdef GL_FRAGMENT_PRECISION_HIGH
 precision highp float;
 #else
 precision mediump float;
#endif
`,vn=/#pragma include (["^+"]?["\ "[a-zA-Z_0-9](.*)"]*?)/g,Oa=(Id=Object(b.injectable)(),Id(gp=function(){function Ft(){oe()(this,Ft),ve()(this,"moduleCache",{}),ve()(this,"rawContentCache",{})}return Te()(Ft,[{key:"registerBuiltinModules",value:function(){this.destroy(),this.registerModule("common",{vs:ch,fs:ch}),this.registerModule("decode",{vs:Jf,fs:""}),this.registerModule("projection",{vs:qf,fs:""}),this.registerModule("project",{vs:Rd,fs:""}),this.registerModule("sdf_2d",{vs:"",fs:bp}),this.registerModule("lighting",{vs:fh,fs:""}),this.registerModule("light",{vs:Bd,fs:""}),this.registerModule("picking",{vs:yp,fs:Th}),this.registerModule("styleMapping",{vs:Hp,fs:""}),this.registerModule("styleMappingCalOpacity",{vs:Ah,fs:""}),this.registerModule("styleMappingCalStrokeOpacity",{vs:Mh,fs:""}),this.registerModule("styleMappingCalStrokeWidth",{vs:Qh,fs:""})}},{key:"registerModule",value:function(Ue,He){if(!this.rawContentCache[Ue]){var Zt=He.vs,cr=He.fs,ln=He.uniforms,Mn=Xh(Zt),Cn=Mn.content,qn=Mn.uniforms,Ea=Xh(cr),ji=Ea.content,ro=Ea.uniforms;this.rawContentCache[Ue]={fs:ji,uniforms:Of(Of(Of({},qn),ro),ln),vs:Cn}}}},{key:"destroy",value:function(){this.moduleCache={},this.rawContentCache={}}},{key:"getModule",value:function(Ue){var He=this;if(this.moduleCache[Ue])return this.moduleCache[Ue];var Zt=this.rawContentCache[Ue].vs,cr=this.rawContentCache[Ue].fs,ln=this.processModule(Zt,[],"vs"),Mn=ln.content,Cn=ln.includeList,qn=this.processModule(cr,[],"fs"),Ea=qn.content,ji=qn.includeList,ro=Ea,Ao=kd()(Cn.concat(ji).concat(Ue)).reduce(function(uo,So){return Of(Of({},uo),He.rawContentCache[So].uniforms)},{});return Wp.test(Ea)||(ro=ed+Ea),this.moduleCache[Ue]={fs:ro.trim(),uniforms:Ao,vs:Mn.trim()},this.moduleCache[Ue]}},{key:"processModule",value:function(Ue,He,Zt){var cr=this,ln=Ue.replace(vn,function(Mn,Cn){var qn=Cn.split(" "),Ea=qn[0].replace(/"/g,"");if(He.indexOf(Ea)>-1)return"";var ji=cr.rawContentCache[Ea][Zt];He.push(Ea);var ro=cr.processModule(ji,He,Zt),Ao=ro.content;return Ao});return{content:ln,includeList:He}}}]),Ft}())||gp),oa=r("iWIM"),to=r.n(oa),Ai=r("bPkA"),Xo,ol,dl,gd,Ld,lf=(Xo=Object(b.injectable)(),ol=Object(b.inject)(k.a.IShaderModuleService),Xo(dl=(gd=function(){function Ft(){oe()(this,Ft),Dr()(this,"shaderModuleService",Ld,this),ve()(this,"rendererService",void 0),ve()(this,"cameraService",void 0),ve()(this,"mapService",void 0),ve()(this,"interactionService",void 0),ve()(this,"layerService",void 0),ve()(this,"config",void 0)}return Te()(Ft,[{key:"getName",value:function(){return""}},{key:"getType",value:function(){return Ai.a.Normal}},{key:"init",value:function(Ue,He){this.config=He,this.rendererService=Ue.getContainer().get(k.a.IRendererService),this.cameraService=Ue.getContainer().get(k.a.ICameraService),this.mapService=Ue.getContainer().get(k.a.IMapService),this.interactionService=Ue.getContainer().get(k.a.IInteractionService),this.layerService=Ue.getContainer().get(k.a.ILayerService)}},{key:"render",value:function(Ue){}}]),Ft}(),Ld=Wr()(gd.prototype,"shaderModuleService",[ol],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),gd))||dl),Jh,_h;function uf(Ft){var Ht=Pf();return function(){var He=pe()(Ft),Zt;if(Ht){var cr=pe()(this).constructor;Zt=Reflect.construct(He,arguments,cr)}else Zt=He.apply(this,arguments);return fe()(this,Zt)}}function Pf(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(Ft){return!1}}var ru=(Jh=Object(b.injectable)(),Jh(_h=function(Ft){S()(Ue,Ft);var Ht=uf(Ue);function Ue(){return oe()(this,Ue),Ht.apply(this,arguments)}return Te()(Ue,[{key:"getName",value:function(){return"clear"}},{key:"init",value:function(Zt,cr){to()(pe()(Ue.prototype),"init",this).call(this,Zt,cr)}},{key:"render",value:function(){this.rendererService.clear({color:[0,0,0,0],depth:1,framebuffer:null})}}]),Ue}(lf))||_h),hl,dh,Al,bi,Kc;function qh(Ft,Ht){var Ue=typeof Symbol!="undefined"&&Ft[Symbol.iterator]||Ft["@@iterator"];if(!Ue){if(Array.isArray(Ft)||(Ue=Ih(Ft))||Ht&&Ft&&typeof Ft.length=="number"){Ue&&(Ft=Ue);var He=0,Zt=function(){};return{s:Zt,n:function(){return He>=Ft.length?{done:!0}:{done:!1,value:Ft[He++]}},e:function(qn){throw qn},f:Zt}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var cr=!0,ln=!1,Mn;return{s:function(){Ue=Ue.call(Ft)},n:function(){var qn=Ue.next();return cr=qn.done,qn},e:function(qn){ln=!0,Mn=qn},f:function(){try{!cr&&Ue.return!=null&&Ue.return()}finally{if(ln)throw Mn}}}}function Ih(Ft,Ht){if(!!Ft){if(typeof Ft=="string")return cf(Ft,Ht);var Ue=Object.prototype.toString.call(Ft).slice(8,-1);if(Ue==="Object"&&Ft.constructor&&(Ue=Ft.constructor.name),Ue==="Map"||Ue==="Set")return Array.from(Ft);if(Ue==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(Ue))return cf(Ft,Ht)}}function cf(Ft,Ht){(Ht==null||Ht>Ft.length)&&(Ht=Ft.length);for(var Ue=0,He=new Array(Ht);Ue<Ht;Ue++)He[Ue]=Ft[Ue];return He}var Yu=(hl=Object(b.injectable)(),dh=Object(b.inject)(k.a.IPostProcessor),hl(Al=(bi=function(){function Ft(){oe()(this,Ft),ve()(this,"passes",[]),Dr()(this,"postProcessor",Kc,this),ve()(this,"layer",void 0),ve()(this,"renderFlag",void 0),ve()(this,"width",0),ve()(this,"height",0)}return Te()(Ft,[{key:"setLayer",value:function(Ue){this.layer=Ue}},{key:"setRenderFlag",value:function(Ue){this.renderFlag=Ue}},{key:"getRenderFlag",value:function(){return this.renderFlag}},{key:"getPostProcessor",value:function(){return this.postProcessor}},{key:"render",value:function(){var Ht=vi()(bo.a.mark(function He(){var Zt,cr,ln;return bo.a.wrap(function(Cn){for(;;)switch(Cn.prev=Cn.next){case 0:Zt=qh(this.passes),Cn.prev=1,Zt.s();case 3:if((cr=Zt.n()).done){Cn.next=9;break}return ln=cr.value,Cn.next=7,ln.render(this.layer);case 7:Cn.next=3;break;case 9:Cn.next=14;break;case 11:Cn.prev=11,Cn.t0=Cn.catch(1),Zt.e(Cn.t0);case 14:return Cn.prev=14,Zt.f(),Cn.finish(14);case 17:this.layer.renderModels();case 18:case"end":return Cn.stop()}},He,this,[[1,11,14,17]])}));function Ue(){return Ht.apply(this,arguments)}return Ue}()},{key:"resize",value:function(Ue,He){(this.width!==Ue||this.height!==He)&&(this.width=Ue,this.height=He)}},{key:"add",value:function(Ue,He){Ue.getType()===Ai.a.PostProcessing?this.postProcessor.add(Ue,this.layer,He):(Ue.init(this.layer,He),this.passes.push(Ue))}},{key:"insert",value:function(Ue,He,Zt){Ue.init(this.layer,He),this.passes.splice(Zt,0,Ue)}},{key:"destroy",value:function(){this.passes.length=0}}]),Ft}(),Kc=Wr()(bi.prototype,"postProcessor",[dh],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),bi))||Al),hh,gi;function td(Ft,Ht){var Ue=Object.keys(Ft);if(Object.getOwnPropertySymbols){var He=Object.getOwnPropertySymbols(Ft);Ht&&(He=He.filter(function(Zt){return Object.getOwnPropertyDescriptor(Ft,Zt).enumerable})),Ue.push.apply(Ue,He)}return Ue}function Uu(Ft){for(var Ht=1;Ht<arguments.length;Ht++){var Ue=arguments[Ht]!=null?arguments[Ht]:{};Ht%2?td(Object(Ue),!0).forEach(function(He){ve()(Ft,He,Ue[He])}):Object.getOwnPropertyDescriptors?Object.defineProperties(Ft,Object.getOwnPropertyDescriptors(Ue)):td(Object(Ue)).forEach(function(He){Object.defineProperty(Ft,He,Object.getOwnPropertyDescriptor(Ue,He))})}return Ft}function ep(Ft){var Ht=tc();return function(){var He=pe()(Ft),Zt;if(Ht){var cr=pe()(this).constructor;Zt=Reflect.construct(He,arguments,cr)}else Zt=He.apply(this,arguments);return fe()(this,Zt)}}function tc(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(Ft){return!1}}var gu=(hh=Object(b.injectable)(),hh(gi=function(Ft){S()(Ue,Ft);var Ht=ep(Ue);function Ue(){var He;oe()(this,Ue);for(var Zt=arguments.length,cr=new Array(Zt),ln=0;ln<Zt;ln++)cr[ln]=arguments[ln];return He=Ht.call.apply(Ht,[this].concat(cr)),ve()(z()(He),"pickingFBO",void 0),ve()(z()(He),"layer",void 0),ve()(z()(He),"width",0),ve()(z()(He),"height",0),ve()(z()(He),"alreadyInRendering",!1),ve()(z()(He),"pickFromPickingFBO",function(Mn){var Cn=Mn.x,qn=Mn.y,Ea=Mn.lngLat,ji=Mn.type;if(!(!He.layer.isVisible()||!He.layer.needPick(ji))){var ro=He.rendererService,Ao=ro.getViewportSize,uo=ro.readPixels,So=ro.useFramebuffer,fs=Ao(),vs=fs.width,bs=fs.height,Yl=He.layer.getLayerConfig(),Ml=Yl.enableHighlight,Xu=Yl.enableSelect,Ul=Cn*we.a.DPR,Ds=qn*we.a.DPR;if(!(Ul>vs||Ul<0||Ds>bs||Ds<0)){var Qs;So(He.pickingFBO,function(){var Vl;if(Qs=uo({x:Math.round(Ul),y:Math.round(bs-(qn+1)*we.a.DPR),width:1,height:1,data:new Uint8Array(1*1*4),framebuffer:He.pickingFBO}),Qs[0]!==0||Qs[1]!==0||Qs[2]!==0){var Kl=Object(we.k)(Qs),vl=He.layer.getSource().getFeatureById(Kl),hf={x:Cn,y:qn,type:ji,lngLat:Ea,featureId:Kl,feature:vl};vl&&(He.layer.setCurrentPickId(Kl),He.triggerHoverOnLayer(hf))}else{var pf={x:Cn,y:qn,lngLat:Ea,type:He.layer.getCurrentPickId()===null?"un"+ji:"mouseout",featureId:null,feature:null};He.triggerHoverOnLayer(Uu(Uu({},pf),{},{type:"unpick"})),He.triggerHoverOnLayer(pf),He.layer.setCurrentPickId(null)}Ml&&He.highlightPickedFeature(Qs),Xu&&ji==="click"&&((Vl=Qs)===null||Vl===void 0?void 0:Vl.toString())!==[0,0,0,0].toString()&&He.selectFeature(Qs)})}}}),He}return Te()(Ue,[{key:"getType",value:function(){return Ai.a.Normal}},{key:"getName",value:function(){return"pixelPicking"}},{key:"init",value:function(Zt,cr){to()(pe()(Ue.prototype),"init",this).call(this,Zt,cr),this.layer=Zt;var ln=this.rendererService,Mn=ln.createTexture2D,Cn=ln.createFramebuffer,qn=ln.getViewportSize,Ea=qn(),ji=Ea.width,ro=Ea.height;this.pickingFBO=Cn({color:Mn({width:ji,height:ro,wrapS:La.a.CLAMP_TO_EDGE,wrapT:La.a.CLAMP_TO_EDGE})}),this.interactionService.on(Oi.a.Hover,this.pickFromPickingFBO),this.interactionService.on(Oi.a.Select,this.selectFeatureHandle.bind(this)),this.interactionService.on(Oi.a.Active,this.highlightFeatureHandle.bind(this))}},{key:"render",value:function(Zt){var cr=this;if(!this.alreadyInRendering){var ln=this.rendererService,Mn=ln.getViewportSize,Cn=ln.useFramebuffer,qn=ln.clear,Ea=Mn(),ji=Ea.width,ro=Ea.height;this.alreadyInRendering=!0,(this.width!==ji||this.height!==ro)&&(this.pickingFBO.resize({width:ji,height:ro}),this.width=ji,this.height=ro),Cn(this.pickingFBO,function(){qn({framebuffer:cr.pickingFBO,color:[0,0,0,0],stencil:0,depth:1});var Ao=cr.layer.multiPassRenderer.getRenderFlag();cr.layer.multiPassRenderer.setRenderFlag(!1),Zt.hooks.beforePickingEncode.call(),Zt.render(),Zt.hooks.afterPickingEncode.call(),cr.layer.multiPassRenderer.setRenderFlag(Ao),cr.alreadyInRendering=!1})}}},{key:"triggerHoverOnLayer",value:function(Zt){this.layer.emit(Zt.type,Zt)}},{key:"highlightPickedFeature",value:function(Zt){var cr=kt()(Zt,3),ln=cr[0],Mn=cr[1],Cn=cr[2];this.layer.hooks.beforeHighlight.call([ln,Mn,Cn]),this.layerService.renderLayers()}},{key:"selectFeature",value:function(Zt){var cr=kt()(Zt,3),ln=cr[0],Mn=cr[1],Cn=cr[2];this.layer.hooks.beforeSelect.call([ln,Mn,Cn]),this.layerService.renderLayers()}},{key:"selectFeatureHandle",value:function(Zt){var cr=Zt.featureId,ln=Object(we.l)(cr);this.selectFeature(new Uint8Array(ln))}},{key:"highlightFeatureHandle",value:function(Zt){var cr=Zt.featureId,ln=Object(we.l)(cr);this.highlightPickedFeature(new Uint8Array(ln))}}]),Ue}(lf))||gi),Zc=r("+em5"),wf,nu;function Wf(Ft,Ht){var Ue=Object.keys(Ft);if(Object.getOwnPropertySymbols){var He=Object.getOwnPropertySymbols(Ft);Ht&&(He=He.filter(function(Zt){return Object.getOwnPropertyDescriptor(Ft,Zt).enumerable})),Ue.push.apply(Ue,He)}return Ue}function Qd(Ft){for(var Ht=1;Ht<arguments.length;Ht++){var Ue=arguments[Ht]!=null?arguments[Ht]:{};Ht%2?Wf(Object(Ue),!0).forEach(function(He){ve()(Ft,He,Ue[He])}):Object.getOwnPropertyDescriptors?Object.defineProperties(Ft,Object.getOwnPropertyDescriptors(Ue)):Wf(Object(Ue)).forEach(function(He){Object.defineProperty(Ft,He,Object.getOwnPropertyDescriptor(Ue,He))})}return Ft}function Gf(Ft){var Ht=Rh();return function(){var He=pe()(Ft),Zt;if(Ht){var cr=pe()(this).constructor;Zt=Reflect.construct(He,arguments,cr)}else Zt=He.apply(this,arguments);return fe()(this,Zt)}}function Rh(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(Ft){return!1}}var Jd=`varying vec2 v_UV;

uniform sampler2D u_Texture;

uniform vec2 u_ViewportSize: [1.0, 1.0];
uniform vec2 u_BlurDir: [1.0, 0.0];

// https://github.com/Jam3/glsl-fast-gaussian-blur/blob/master/9.glsl
vec4 blur9(sampler2D image, vec2 uv, vec2 resolution, vec2 direction) {
  vec4 color = vec4(0.0);
  vec2 off1 = vec2(1.3846153846) * direction;
  vec2 off2 = vec2(3.2307692308) * direction;
  color += texture2D(image, uv) * 0.2270270270;
  color += texture2D(image, uv + (off1 / resolution)) * 0.3162162162;
  color += texture2D(image, uv - (off1 / resolution)) * 0.3162162162;
  color += texture2D(image, uv + (off2 / resolution)) * 0.0702702703;
  color += texture2D(image, uv - (off2 / resolution)) * 0.0702702703;
  return color;
}

void main() {
  gl_FragColor = blur9(u_Texture, v_UV, u_ViewportSize, u_BlurDir);
}`,Tf=`attribute vec2 a_Position;

varying vec2 v_UV;

void main() {
  v_UV = 0.5 * (a_Position + 1.0);
  gl_Position = vec4(a_Position, 0., 1.);
}`,gc=(wf=Object(b.injectable)(),wf(nu=function(Ft){S()(Ue,Ft);var Ht=Gf(Ue);function Ue(){return oe()(this,Ue),Ht.apply(this,arguments)}return Te()(Ue,[{key:"setupShaders",value:function(){this.shaderModuleService.registerModule("blur-pass",{vs:Tf,fs:Jd});var Zt=this.shaderModuleService.getModule("blur-pass"),cr=Zt.vs,ln=Zt.fs,Mn=Zt.uniforms,Cn=this.rendererService.getViewportSize(),qn=Cn.width,Ea=Cn.height;return{vs:cr,fs:ln,uniforms:Qd(Qd({},Mn),{},{u_ViewportSize:[qn,Ea]})}}},{key:"convertOptionsToUniforms",value:function(Zt){var cr={};return Jn()(Zt.blurRadius)||(cr.u_BlurDir=[Zt.blurRadius,0]),cr}}]),Ue}(Zc.a))||nu),_s,yd;function rd(Ft,Ht){var Ue=Object.keys(Ft);if(Object.getOwnPropertySymbols){var He=Object.getOwnPropertySymbols(Ft);Ht&&(He=He.filter(function(Zt){return Object.getOwnPropertyDescriptor(Ft,Zt).enumerable})),Ue.push.apply(Ue,He)}return Ue}function sl(Ft){for(var Ht=1;Ht<arguments.length;Ht++){var Ue=arguments[Ht]!=null?arguments[Ht]:{};Ht%2?rd(Object(Ue),!0).forEach(function(He){ve()(Ft,He,Ue[He])}):Object.getOwnPropertyDescriptors?Object.defineProperties(Ft,Object.getOwnPropertyDescriptors(Ue)):rd(Object(Ue)).forEach(function(He){Object.defineProperty(Ft,He,Object.getOwnPropertyDescriptor(Ue,He))})}return Ft}function Mu(Ft){var Ht=ff();return function(){var He=pe()(Ft),Zt;if(Ht){var cr=pe()(this).constructor;Zt=Reflect.construct(He,arguments,cr)}else Zt=He.apply(this,arguments);return fe()(this,Zt)}}function ff(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(Ft){return!1}}var Af=`varying vec2 v_UV;

uniform sampler2D u_Texture;

uniform vec2 u_ViewportSize: [1.0, 1.0];
uniform vec2 u_BlurDir: [1.0, 0.0];

// https://github.com/Jam3/glsl-fast-gaussian-blur/blob/master/9.glsl
vec4 blur9(sampler2D image, vec2 uv, vec2 resolution, vec2 direction) {
  vec4 color = vec4(0.0);
  vec2 off1 = vec2(1.3846153846) * direction;
  vec2 off2 = vec2(3.2307692308) * direction;
  color += texture2D(image, uv) * 0.2270270270;
  color += texture2D(image, uv + (off1 / resolution)) * 0.3162162162;
  color += texture2D(image, uv - (off1 / resolution)) * 0.3162162162;
  color += texture2D(image, uv + (off2 / resolution)) * 0.0702702703;
  color += texture2D(image, uv - (off2 / resolution)) * 0.0702702703;
  return color;
}

void main() {
  gl_FragColor = blur9(u_Texture, v_UV, u_ViewportSize, u_BlurDir);
}`,jc=`attribute vec2 a_Position;

varying vec2 v_UV;

void main() {
  v_UV = 0.5 * (a_Position + 1.0);
  gl_Position = vec4(a_Position, 0., 1.);
}`,ph=(_s=Object(b.injectable)(),_s(yd=function(Ft){S()(Ue,Ft);var Ht=Mu(Ue);function Ue(){return oe()(this,Ue),Ht.apply(this,arguments)}return Te()(Ue,[{key:"setupShaders",value:function(){this.shaderModuleService.registerModule("blur-pass",{vs:jc,fs:Af});var Zt=this.shaderModuleService.getModule("blur-pass"),cr=Zt.vs,ln=Zt.fs,Mn=Zt.uniforms,Cn=this.rendererService.getViewportSize(),qn=Cn.width,Ea=Cn.height;return{vs:cr,fs:ln,uniforms:sl(sl({},Mn),{},{u_ViewportSize:[qn,Ea]})}}},{key:"convertOptionsToUniforms",value:function(Zt){var cr={};return Jn()(Zt.blurRadius)||(cr.u_BlurDir=[0,Zt.blurRadius]),cr}}]),Ue}(Zc.a))||yd),Io,Mi;function df(Ft,Ht){var Ue=Object.keys(Ft);if(Object.getOwnPropertySymbols){var He=Object.getOwnPropertySymbols(Ft);Ht&&(He=He.filter(function(Zt){return Object.getOwnPropertyDescriptor(Ft,Zt).enumerable})),Ue.push.apply(Ue,He)}return Ue}function _u(Ft){for(var Ht=1;Ht<arguments.length;Ht++){var Ue=arguments[Ht]!=null?arguments[Ht]:{};Ht%2?df(Object(Ue),!0).forEach(function(He){ve()(Ft,He,Ue[He])}):Object.getOwnPropertyDescriptors?Object.defineProperties(Ft,Object.getOwnPropertyDescriptors(Ue)):df(Object(Ue)).forEach(function(He){Object.defineProperty(Ft,He,Object.getOwnPropertyDescriptor(Ue,He))})}return Ft}function cc(Ft){var Ht=$u();return function(){var He=pe()(Ft),Zt;if(Ht){var cr=pe()(this).constructor;Zt=Reflect.construct(He,arguments,cr)}else Zt=He.apply(this,arguments);return fe()(this,Zt)}}function $u(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(Ft){return!1}}var Mf=`varying vec2 v_UV;

uniform sampler2D u_Texture;
uniform vec2 u_ViewportSize: [1.0, 1.0];
uniform vec2 u_Center : [0.5, 0.5];
uniform float u_Angle : 0;
uniform float u_Size : 8;

#pragma include "common"

float scale = PI / u_Size;

float pattern(float u_Angle, vec2 texSize, vec2 texCoord) {
  float s = sin(u_Angle), c = cos(u_Angle);
  vec2 tex = texCoord * texSize - u_Center * texSize;
  vec2 point = vec2(
    c * tex.x - s * tex.y,
    s * tex.x + c * tex.y
  ) * scale;
  return (sin(point.x) * sin(point.y)) * 4.0;
}

// https://github.com/evanw/glfx.js/blob/master/src/filters/fun/colorhalftone.js
vec4 colorHalftone_filterColor(vec4 color, vec2 texSize, vec2 texCoord) {
  vec3 cmy = 1.0 - color.rgb;
  float k = min(cmy.x, min(cmy.y, cmy.z));
  cmy = (cmy - k) / (1.0 - k);
  cmy = clamp(
    cmy * 10.0 - 3.0 + vec3(
      pattern(u_Angle + 0.26179, texSize, texCoord),
      pattern(u_Angle + 1.30899, texSize, texCoord),
      pattern(u_Angle, texSize, texCoord)
    ),
    0.0,
    1.0
  );
  k = clamp(k * 10.0 - 5.0 + pattern(u_Angle + 0.78539, texSize, texCoord), 0.0, 1.0);
  return vec4(1.0 - cmy - k, color.a);
}

void main() {
  gl_FragColor = vec4(texture2D(u_Texture, v_UV));
  gl_FragColor = colorHalftone_filterColor(gl_FragColor, u_ViewportSize, v_UV);
}`,Ac=`attribute vec2 a_Position;

varying vec2 v_UV;

void main() {
  v_UV = 0.5 * (a_Position + 1.0);
  gl_Position = vec4(a_Position, 0., 1.);
}`,qd=(Io=Object(b.injectable)(),Io(Mi=function(Ft){S()(Ue,Ft);var Ht=cc(Ue);function Ue(){return oe()(this,Ue),Ht.apply(this,arguments)}return Te()(Ue,[{key:"setupShaders",value:function(){this.shaderModuleService.registerModule("colorhalftone-pass",{vs:Ac,fs:Mf});var Zt=this.shaderModuleService.getModule("colorhalftone-pass"),cr=Zt.vs,ln=Zt.fs,Mn=Zt.uniforms,Cn=this.rendererService.getViewportSize(),qn=Cn.width,Ea=Cn.height;return{vs:cr,fs:ln,uniforms:_u(_u({},Mn),{},{u_ViewportSize:[qn,Ea]})}}}]),Ue}(Zc.a))||Mi),Dl,yu;function eh(Ft){var Ht=_f();return function(){var He=pe()(Ft),Zt;if(Ht){var cr=pe()(this).constructor;Zt=Reflect.construct(He,arguments,cr)}else Zt=He.apply(this,arguments);return fe()(this,Zt)}}function _f(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(Ft){return!1}}var If=`varying vec2 v_UV;

uniform sampler2D u_Texture;

void main() {
  gl_FragColor = vec4(texture2D(u_Texture, v_UV));
}`,Mc=`attribute vec2 a_Position;

varying vec2 v_UV;

void main() {
  v_UV = 0.5 * (a_Position + 1.0);
  gl_Position = vec4(a_Position, 0., 1.);
}`,_c=(Dl=Object(b.injectable)(),Dl(yu=function(Ft){S()(Ue,Ft);var Ht=eh(Ue);function Ue(){return oe()(this,Ue),Ht.apply(this,arguments)}return Te()(Ue,[{key:"setupShaders",value:function(){return this.shaderModuleService.registerModule("copy-pass",{vs:Mc,fs:If}),this.shaderModuleService.getModule("copy-pass")}}]),Ue}(Zc.a))||yu),dr,Iu;function nd(Ft,Ht){var Ue=Object.keys(Ft);if(Object.getOwnPropertySymbols){var He=Object.getOwnPropertySymbols(Ft);Ht&&(He=He.filter(function(Zt){return Object.getOwnPropertyDescriptor(Ft,Zt).enumerable})),Ue.push.apply(Ue,He)}return Ue}function rc(Ft){for(var Ht=1;Ht<arguments.length;Ht++){var Ue=arguments[Ht]!=null?arguments[Ht]:{};Ht%2?nd(Object(Ue),!0).forEach(function(He){ve()(Ft,He,Ue[He])}):Object.getOwnPropertyDescriptors?Object.defineProperties(Ft,Object.getOwnPropertyDescriptors(Ue)):nd(Object(Ue)).forEach(function(He){Object.defineProperty(Ft,He,Object.getOwnPropertyDescriptor(Ue,He))})}return Ft}function $s(Ft){var Ht=xp();return function(){var He=pe()(Ft),Zt;if(Ht){var cr=pe()(this).constructor;Zt=Reflect.construct(He,arguments,cr)}else Zt=He.apply(this,arguments);return fe()(this,Zt)}}function xp(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(Ft){return!1}}var tp=`varying vec2 v_UV;

uniform sampler2D u_Texture;
uniform vec2 u_ViewportSize: [1.0, 1.0];
uniform vec2 u_Center : [0.5, 0.5];
uniform float u_Scale : 10;

// https://github.com/evanw/glfx.js/blob/master/src/filters/fun/hexagonalpixelate.js
vec4 hexagonalPixelate_sampleColor(sampler2D texture, vec2 texSize, vec2 texCoord) {
  vec2 tex = (texCoord * texSize - u_Center * texSize) / u_Scale;
  tex.y /= 0.866025404;
  tex.x -= tex.y * 0.5;
  vec2 a;
  if (tex.x + tex.y - floor(tex.x) - floor(tex.y) < 1.0) {
    a = vec2(floor(tex.x), floor(tex.y));
  }
  else a = vec2(ceil(tex.x), ceil(tex.y));
  vec2 b = vec2(ceil(tex.x), floor(tex.y));
  vec2 c = vec2(floor(tex.x), ceil(tex.y));
  vec3 TEX = vec3(tex.x, tex.y, 1.0 - tex.x - tex.y);
  vec3 A = vec3(a.x, a.y, 1.0 - a.x - a.y);
  vec3 B = vec3(b.x, b.y, 1.0 - b.x - b.y);
  vec3 C = vec3(c.x, c.y, 1.0 - c.x - c.y);
  float alen = length(TEX - A);
  float blen = length(TEX - B);
  float clen = length(TEX - C);
  vec2 choice;
  if (alen < blen) {
    if (alen < clen) choice = a;
    else choice = c;
  } else {
    if (blen < clen) choice = b;
    else choice = c;
  }
  choice.x += choice.y * 0.5;
  choice.y *= 0.866025404;
  choice *= u_Scale / texSize;
  return texture2D(texture, choice + u_Center);
}

void main() {
  gl_FragColor = vec4(texture2D(u_Texture, v_UV));
  gl_FragColor = hexagonalPixelate_sampleColor(u_Texture, u_ViewportSize, v_UV);
}`,th=`attribute vec2 a_Position;

varying vec2 v_UV;

void main() {
  v_UV = 0.5 * (a_Position + 1.0);
  gl_Position = vec4(a_Position, 0., 1.);
}`,ad=(dr=Object(b.injectable)(),dr(Iu=function(Ft){S()(Ue,Ft);var Ht=$s(Ue);function Ue(){return oe()(this,Ue),Ht.apply(this,arguments)}return Te()(Ue,[{key:"setupShaders",value:function(){this.shaderModuleService.registerModule("hexagonalpixelate-pass",{vs:th,fs:tp});var Zt=this.shaderModuleService.getModule("hexagonalpixelate-pass"),cr=Zt.vs,ln=Zt.fs,Mn=Zt.uniforms,Cn=this.rendererService.getViewportSize(),qn=Cn.width,Ea=Cn.height;return{vs:cr,fs:ln,uniforms:rc(rc({},Mn),{},{u_ViewportSize:[qn,Ea]})}}}]),Ue}(Zc.a))||Iu),zd,bd;function Yc(Ft,Ht){var Ue=Object.keys(Ft);if(Object.getOwnPropertySymbols){var He=Object.getOwnPropertySymbols(Ft);Ht&&(He=He.filter(function(Zt){return Object.getOwnPropertyDescriptor(Ft,Zt).enumerable})),Ue.push.apply(Ue,He)}return Ue}function Ud(Ft){for(var Ht=1;Ht<arguments.length;Ht++){var Ue=arguments[Ht]!=null?arguments[Ht]:{};Ht%2?Yc(Object(Ue),!0).forEach(function(He){ve()(Ft,He,Ue[He])}):Object.getOwnPropertyDescriptors?Object.defineProperties(Ft,Object.getOwnPropertyDescriptors(Ue)):Yc(Object(Ue)).forEach(function(He){Object.defineProperty(Ft,He,Object.getOwnPropertyDescriptor(Ue,He))})}return Ft}function Rf(Ft){var Ht=$c();return function(){var He=pe()(Ft),Zt;if(Ht){var cr=pe()(this).constructor;Zt=Reflect.construct(He,arguments,cr)}else Zt=He.apply(this,arguments);return fe()(this,Zt)}}function $c(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(Ft){return!1}}var id=`varying vec2 v_UV;

uniform sampler2D u_Texture;
uniform vec2 u_ViewportSize: [1.0, 1.0];
uniform float u_Strength : 0.6;

vec4 ink_sampleColor(sampler2D texture, vec2 texSize, vec2 texCoord) {
  vec2 dx = vec2(1.0 / texSize.x, 0.0);
  vec2 dy = vec2(0.0, 1.0 / texSize.y);
  vec4 color = texture2D(texture, texCoord);
  float bigTotal = 0.0;
  float smallTotal = 0.0;
  vec3 bigAverage = vec3(0.0);
  vec3 smallAverage = vec3(0.0);
  for (float x = -2.0; x <= 2.0; x += 1.0) {
    for (float y = -2.0; y <= 2.0; y += 1.0) {
      vec3 sample = texture2D(texture, texCoord + dx * x + dy * y).rgb;
      bigAverage += sample;
      bigTotal += 1.0;
      if (abs(x) + abs(y) < 2.0) {
        smallAverage += sample;
        smallTotal += 1.0;
      }
    }
  }
  vec3 edge = max(vec3(0.0), bigAverage / bigTotal - smallAverage / smallTotal);
  float power = u_Strength * u_Strength * u_Strength * u_Strength * u_Strength;
  return vec4(color.rgb - dot(edge, edge) * power * 100000.0, color.a);
}

void main() {
  gl_FragColor = vec4(texture2D(u_Texture, v_UV));
  gl_FragColor = ink_sampleColor(u_Texture, u_ViewportSize, v_UV);
}`,Vd=`attribute vec2 a_Position;

varying vec2 v_UV;

void main() {
  v_UV = 0.5 * (a_Position + 1.0);
  gl_Position = vec4(a_Position, 0., 1.);
}`,Cp=(zd=Object(b.injectable)(),zd(bd=function(Ft){S()(Ue,Ft);var Ht=Rf(Ue);function Ue(){return oe()(this,Ue),Ht.apply(this,arguments)}return Te()(Ue,[{key:"setupShaders",value:function(){this.shaderModuleService.registerModule("ink-pass",{vs:Vd,fs:id});var Zt=this.shaderModuleService.getModule("ink-pass"),cr=Zt.vs,ln=Zt.fs,Mn=Zt.uniforms,Cn=this.rendererService.getViewportSize(),qn=Cn.width,Ea=Cn.height;return{vs:cr,fs:ln,uniforms:Ud(Ud({},Mn),{},{u_ViewportSize:[qn,Ea]})}}}]),Ue}(Zc.a))||bd),v,c;function l(Ft){var Ht=g();return function(){var He=pe()(Ft),Zt;if(Ht){var cr=pe()(this).constructor;Zt=Reflect.construct(He,arguments,cr)}else Zt=He.apply(this,arguments);return fe()(this,Zt)}}function g(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(Ft){return!1}}var F=`varying vec2 v_UV;

uniform sampler2D u_Texture;
uniform float u_Amount : 0.5;

float rand(vec2 co) {
  return fract(sin(dot(co.xy ,vec2(12.9898,78.233))) * 43758.5453);
}

// https://github.com/evanw/glfx.js/blob/master/src/filters/adjust/noise.js
vec4 noise_filterColor(vec4 color, vec2 texCoord) {
  float diff = (rand(texCoord) - 0.5) * u_Amount;
  color.r += diff;
  color.g += diff;
  color.b += diff;
  return color;
}

void main() {
  gl_FragColor = vec4(texture2D(u_Texture, v_UV));
  gl_FragColor = noise_filterColor(gl_FragColor, v_UV);
}`,Q=`attribute vec2 a_Position;

varying vec2 v_UV;

void main() {
  v_UV = 0.5 * (a_Position + 1.0);
  gl_Position = vec4(a_Position, 0., 1.);
}`,se=(v=Object(b.injectable)(),v(c=function(Ft){S()(Ue,Ft);var Ht=l(Ue);function Ue(){return oe()(this,Ue),Ht.apply(this,arguments)}return Te()(Ue,[{key:"setupShaders",value:function(){return this.shaderModuleService.registerModule("noise-pass",{vs:Q,fs:F}),this.shaderModuleService.getModule("noise-pass")}}]),Ue}(Zc.a))||c),_e,mt;function Rt(Ft){var Ht=ir();return function(){var He=pe()(Ft),Zt;if(Ht){var cr=pe()(this).constructor;Zt=Reflect.construct(He,arguments,cr)}else Zt=He.apply(this,arguments);return fe()(this,Zt)}}function ir(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(Ft){return!1}}var rr=`attribute vec2 a_Position;

varying vec2 v_UV;

void main() {
  v_UV = 0.5 * (a_Position + 1.0);
  gl_Position = vec4(a_Position, 0., 1.);
}`,ur=`varying vec2 v_UV;

uniform sampler2D u_Texture;

uniform float u_Amount : 0.5;

// https://github.com/evanw/glfx.js/blob/master/src/filters/adjust/sepia.js
vec4 sepia_filterColor(vec4 color) {
  float r = color.r;
  float g = color.g;
  float b = color.b;
  color.r =
    min(1.0, (r * (1.0 - (0.607 * u_Amount))) + (g * (0.769 * u_Amount)) + (b * (0.189 * u_Amount)));
  color.g = min(1.0, (r * 0.349 * u_Amount) + (g * (1.0 - (0.314 * u_Amount))) + (b * 0.168 * u_Amount));
  color.b = min(1.0, (r * 0.272 * u_Amount) + (g * 0.534 * u_Amount) + (b * (1.0 - (0.869 * u_Amount))));
  return color;
}

void main() {
  gl_FragColor = vec4(texture2D(u_Texture, v_UV));
  gl_FragColor = sepia_filterColor(gl_FragColor);
}`,kr=(_e=Object(b.injectable)(),_e(mt=function(Ft){S()(Ue,Ft);var Ht=Rt(Ue);function Ue(){return oe()(this,Ue),Ht.apply(this,arguments)}return Te()(Ue,[{key:"setupShaders",value:function(){return this.shaderModuleService.registerModule("sepia-pass",{vs:rr,fs:ur}),this.shaderModuleService.getModule("sepia-pass")}}]),Ue}(Zc.a))||mt),Nr,Xr,Br,Hr,hn,pn,la=(Nr=Object(b.injectable)(),Xr=Object(b.inject)(k.a.IRendererService),Br=Object(b.postConstruct)(),Nr(Hr=(hn=function(){function Ft(){oe()(this,Ft),Dr()(this,"rendererService",pn,this),ve()(this,"passes",[]),ve()(this,"readFBO",void 0),ve()(this,"writeFBO",void 0)}return Te()(Ft,[{key:"getReadFBO",value:function(){return this.readFBO}},{key:"getWriteFBO",value:function(){return this.writeFBO}},{key:"render",value:function(){var Ht=vi()(bo.a.mark(function He(Zt){var cr,ln;return bo.a.wrap(function(Cn){for(;;)switch(Cn.prev=Cn.next){case 0:cr=0;case 1:if(!(cr<this.passes.length)){Cn.next=10;break}return ln=this.passes[cr],ln.setRenderToScreen(this.isLastEnabledPass(cr)),Cn.next=6,ln.render(Zt);case 6:cr!==this.passes.length-1&&this.swap();case 7:cr++,Cn.next=1;break;case 10:case"end":return Cn.stop()}},He,this)}));function Ue(He){return Ht.apply(this,arguments)}return Ue}()},{key:"resize",value:function(Ue,He){this.readFBO.resize({width:Ue,height:He}),this.writeFBO.resize({width:Ue,height:He})}},{key:"add",value:function(Ue,He,Zt){Ue.init(He,Zt),this.passes.push(Ue)}},{key:"insert",value:function(Ue,He,Zt,cr){Ue.init(Zt,cr),this.passes.splice(He,0,Ue)}},{key:"getPostProcessingPassByName",value:function(Ue){return this.passes.find(function(He){return He.getName()===Ue})}},{key:"init",value:function(){}},{key:"isLastEnabledPass",value:function(Ue){for(var He=Ue+1;He<this.passes.length;He++)if(this.passes[He].isEnabled())return!1;return!0}},{key:"swap",value:function(){var Ue=this.readFBO;this.readFBO=this.writeFBO,this.writeFBO=Ue}}]),Ft}(),pn=Wr()(hn.prototype,"rendererService",[Xr],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Wr()(hn.prototype,"init",[Br],Object.getOwnPropertyDescriptor(hn.prototype,"init"),hn.prototype),hn))||Hr),Gn,aa;function sa(Ft){var Ht=Ya();return function(){var He=pe()(Ft),Zt;if(Ht){var cr=pe()(this).constructor;Zt=Reflect.construct(He,arguments,cr)}else Zt=He.apply(this,arguments);return fe()(this,Zt)}}function Ya(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(Ft){return!1}}var Ka=(Gn=Object(b.injectable)(),Gn(aa=function(Ft){S()(Ue,Ft);var Ht=sa(Ue);function Ue(){return oe()(this,Ue),Ht.apply(this,arguments)}return Te()(Ue,[{key:"getType",value:function(){return Ai.a.Normal}},{key:"getName",value:function(){return"render"}},{key:"init",value:function(Zt,cr){to()(pe()(Ue.prototype),"init",this).call(this,Zt,cr)}},{key:"render",value:function(Zt){var cr=this.rendererService,ln=cr.useFramebuffer,Mn=cr.clear;ln(null,function(){Mn({color:[0,0,0,0],depth:1,stencil:0}),Zt.multiPassRenderer.setRenderFlag(!1),Zt.render(),Zt.multiPassRenderer.setRenderFlag(!0)})}}]),Ue}(lf))||aa),Di,di,Eo,Bo,Wo;function ll(Ft,Ht){var Ue=Object.keys(Ft);if(Object.getOwnPropertySymbols){var He=Object.getOwnPropertySymbols(Ft);Ht&&(He=He.filter(function(Zt){return Object.getOwnPropertyDescriptor(Ft,Zt).enumerable})),Ue.push.apply(Ue,He)}return Ue}function _i(Ft){for(var Ht=1;Ht<arguments.length;Ht++){var Ue=arguments[Ht]!=null?arguments[Ht]:{};Ht%2?ll(Object(Ue),!0).forEach(function(He){ve()(Ft,He,Ue[He])}):Object.getOwnPropertyDescriptors?Object.defineProperties(Ft,Object.getOwnPropertyDescriptors(Ue)):ll(Object(Ue)).forEach(function(He){Object.defineProperty(Ft,He,Object.getOwnPropertyDescriptor(Ue,He))})}return Ft}function Qo(Ft){var Ht=os();return function(){var He=pe()(Ft),Zt;if(Ht){var cr=pe()(this).constructor;Zt=Reflect.construct(He,arguments,cr)}else Zt=He.apply(this,arguments);return fe()(this,Zt)}}function os(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(Ft){return!1}}var qi=`uniform float u_opacity : 1.0;
uniform float u_MixRatio : 0.5;

uniform sampler2D u_Diffuse1;
uniform sampler2D u_Diffuse2;

varying vec2 v_UV;

void main() {
  vec4 texel1 = texture2D(u_Diffuse1, v_UV);
  vec4 texel2 = texture2D(u_Diffuse2, v_UV);
  gl_FragColor = u_opacity * mix(texel1, texel2, u_MixRatio);
}
`,hs=`varying vec2 v_UV;

uniform sampler2D u_Texture;

void main() {
  gl_FragColor = vec4(texture2D(u_Texture, v_UV));
}`,zo=`attribute vec2 a_Position;

varying vec2 v_UV;

void main() {
  v_UV = 0.5 * (a_Position + 1.0);
  gl_Position = vec4(a_Position, 0., 1.);
}`;function us(Ft,Ht){for(var Ue=0,He=1/Ht,Zt=Ft;Zt>0;)Ue=Ue+He*(Zt%Ht),Zt=Math.floor(Zt/Ht),He=He/Ht;return Ue}var Xs=1,au=(Di=Object(b.injectable)(),di=Object(b.inject)(k.a.IShaderModuleService),Di(Eo=(Bo=function(Ft){S()(Ue,Ft);var Ht=Qo(Ue);function Ue(){var He;oe()(this,Ue);for(var Zt=arguments.length,cr=new Array(Zt),ln=0;ln<Zt;ln++)cr[ln]=arguments[ln];return He=Ht.call.apply(Ht,[this].concat(cr)),Dr()(z()(He),"shaderModuleService",Wo,z()(He)),ve()(z()(He),"haltonSequence",[]),ve()(z()(He),"accumulatingId",0),ve()(z()(He),"frame",0),ve()(z()(He),"timer",void 0),ve()(z()(He),"sampleRenderTarget",void 0),ve()(z()(He),"prevRenderTarget",void 0),ve()(z()(He),"outputRenderTarget",void 0),ve()(z()(He),"copyRenderTarget",void 0),ve()(z()(He),"blendModel",void 0),ve()(z()(He),"outputModel",void 0),ve()(z()(He),"copyModel",void 0),He}return Te()(Ue,[{key:"getType",value:function(){return Ai.a.Normal}},{key:"getName",value:function(){return"taa"}},{key:"init",value:function(Zt,cr){to()(pe()(Ue.prototype),"init",this).call(this,Zt,cr);var ln=this.rendererService,Mn=ln.createFramebuffer,Cn=ln.createTexture2D;this.sampleRenderTarget=Mn({color:Cn({width:1,height:1,wrapS:La.a.CLAMP_TO_EDGE,wrapT:La.a.CLAMP_TO_EDGE})}),this.prevRenderTarget=Mn({color:Cn({width:1,height:1,wrapS:La.a.CLAMP_TO_EDGE,wrapT:La.a.CLAMP_TO_EDGE})}),this.outputRenderTarget=Mn({color:Cn({width:1,height:1,wrapS:La.a.CLAMP_TO_EDGE,wrapT:La.a.CLAMP_TO_EDGE})}),this.copyRenderTarget=Mn({color:Cn({width:1,height:1,wrapS:La.a.CLAMP_TO_EDGE,wrapT:La.a.CLAMP_TO_EDGE})});for(var qn=0;qn<30;qn++)this.haltonSequence.push([us(qn,2),us(qn,3)]);this.blendModel=this.createTriangleModel("blend-pass",qi),this.outputModel=this.createTriangleModel("copy-pass",hs,{blend:{enable:!0,func:{srcRGB:La.a.ONE,dstRGB:La.a.ONE_MINUS_SRC_ALPHA,srcAlpha:La.a.ONE,dstAlpha:La.a.ONE_MINUS_SRC_ALPHA},equation:{rgb:La.a.FUNC_ADD,alpha:La.a.FUNC_ADD}}}),this.copyModel=this.createTriangleModel("copy-pass",hs)}},{key:"render",value:function(Zt){var cr=this,ln=this.rendererService,Mn=ln.clear,Cn=ln.getViewportSize,qn=ln.useFramebuffer,Ea=Cn(),ji=Ea.width,ro=Ea.height;this.sampleRenderTarget.resize({width:ji,height:ro}),this.prevRenderTarget.resize({width:ji,height:ro}),this.outputRenderTarget.resize({width:ji,height:ro}),this.copyRenderTarget.resize({width:ji,height:ro}),this.resetFrame(),this.stopAccumulating();var Ao=Zt.multiPassRenderer.getPostProcessor().getReadFBO();qn(Ao,function(){Mn({color:[0,0,0,0],depth:1,stencil:0,framebuffer:Ao}),Zt.multiPassRenderer.setRenderFlag(!1),Zt.render(),Zt.multiPassRenderer.setRenderFlag(!0)});var uo=function So(fs){!cr.accumulatingId||fs!==cr.accumulatingId||cr.isFinished()||(cr.doRender(Zt),requestAnimationFrame(function(){So(fs)}))};this.accumulatingId=Xs++,this.timer=window.setTimeout(function(){uo(cr.accumulatingId)},50)}},{key:"doRender",value:function(Zt){var cr=this,ln=this.rendererService,Mn=ln.clear,Cn=ln.getViewportSize,qn=ln.useFramebuffer,Ea=Cn(),ji=Ea.width,ro=Ea.height,Ao=Zt.getLayerConfig(),uo=Ao.jitterScale,So=uo===void 0?1:uo,fs=this.haltonSequence[this.frame%this.haltonSequence.length];this.cameraService.jitterProjectionMatrix((fs[0]*2-1)/ji*So,(fs[1]*2-1)/ro*So),Zt.multiPassRenderer.setRenderFlag(!1),Zt.hooks.beforeRender.call(),qn(this.sampleRenderTarget,function(){Mn({color:[0,0,0,0],depth:1,stencil:0,framebuffer:cr.sampleRenderTarget}),Zt.render()}),Zt.hooks.afterRender.call(),Zt.multiPassRenderer.setRenderFlag(!0);var vs=Zt.getLayerConfig();qn(this.outputRenderTarget,function(){cr.blendModel.draw({uniforms:{u_opacity:vs.opacity||1,u_MixRatio:cr.frame===0?1:.9,u_Diffuse1:cr.sampleRenderTarget,u_Diffuse2:cr.frame===0?Zt.multiPassRenderer.getPostProcessor().getReadFBO():cr.prevRenderTarget}})}),this.frame===0&&Mn({color:[0,0,0,0],depth:1,stencil:0,framebuffer:this.copyRenderTarget}),this.frame>=1&&(qn(this.copyRenderTarget,function(){cr.outputModel.draw({uniforms:{u_Texture:cr.outputRenderTarget}})}),qn(Zt.multiPassRenderer.getPostProcessor().getReadFBO(),function(){cr.copyModel.draw({uniforms:{u_Texture:cr.copyRenderTarget}})}),Zt.multiPassRenderer.getPostProcessor().render(Zt));var bs=this.prevRenderTarget;this.prevRenderTarget=this.outputRenderTarget,this.outputRenderTarget=bs,this.frame++,this.cameraService.clearJitterProjectionMatrix()}},{key:"isFinished",value:function(){return this.frame>=this.haltonSequence.length}},{key:"resetFrame",value:function(){this.frame=0}},{key:"stopAccumulating",value:function(){this.accumulatingId=0,window.clearTimeout(this.timer)}},{key:"createTriangleModel",value:function(Zt,cr,ln){this.shaderModuleService.registerModule(Zt,{vs:zo,fs:cr});var Mn=this.shaderModuleService.getModule(Zt),Cn=Mn.vs,qn=Mn.fs,Ea=Mn.uniforms,ji=this.rendererService,ro=ji.createAttribute,Ao=ji.createBuffer,uo=ji.createModel;return uo(_i({vs:Cn,fs:qn,attributes:{a_Position:ro({buffer:Ao({data:[-4,-4,4,-4,0,4],type:La.a.FLOAT}),size:2})},uniforms:_i({},Ea),depth:{enable:!1},count:3},ln))}}]),Ue}(lf),Wo=Wr()(Bo.prototype,"shaderModuleService",[di],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Bo))||Eo),zs=new b.Container;zs.bind(k.a.IGlobalConfigService).to(nr).inSingletonScope(),zs.bind(k.a.IShaderModuleService).to(Oa).inSingletonScope(),Object(b.decorate)(Object(b.injectable)(),y.EventEmitter),zs.bind(k.a.IEventEmitter).to(y.EventEmitter);var pl=H()(zs,!1),xl=function(Ht){var Ue=pl.lazyInject(Ht);return function(He,Zt,cr){Ue.call(this,He,Zt),cr&&(cr.initializer=function(){return He[Zt]})}},Ns=function(Ht){var Ue=pl.lazyMultiInject(Ht);return function(He,Zt,cr){Ue.call(this,He,Zt),cr&&(cr.initializer=function(){return He[Zt]})}},yc=A.c=zs,nc=0;function Ru(){var Ft=new b.Container;return Ft.parent=zs,Ft.bind(k.a.SceneID).toConstantValue("".concat(nc++)),Ft.bind(k.a.ILayerService).to(tu).inSingletonScope(),Ft.bind(k.a.ISceneService).to(Tc).inSingletonScope(),Ft.bind(k.a.ICameraService).to(Qt).inSingletonScope(),Ft.bind(k.a.ICoordinateSystemService).to(Da).inSingletonScope(),Ft.bind(k.a.IInteractionService).to(To).inSingletonScope(),Ft.bind(k.a.IPickingService).to(vc).inSingletonScope(),Ft.bind(k.a.IControlService).to(Bn).inSingletonScope(),Ft.bind(k.a.IMarkerService).to(it).inSingletonScope(),Ft.bind(k.a.IIconService).to(Be).inSingletonScope(),Ft.bind(k.a.IFontService).to(Ne).inSingletonScope(),Ft.bind(k.a.IPopupService).to(De).inSingletonScope(),Ft.bind(k.a.INormalPass).to(ru).whenTargetNamed("clear"),Ft.bind(k.a.INormalPass).to(gu).whenTargetNamed("pixelPicking"),Ft.bind(k.a.INormalPass).to(Ka).whenTargetNamed("render"),Ft.bind(k.a.INormalPass).to(au).whenTargetNamed("taa"),Ft.bind(k.a.IFactoryNormalPass).toFactory(function(Ht){return function(Ue){return Ht.container.getNamed(k.a.INormalPass,Ue)}}),Ft.bind(k.a.IPostProcessingPass).to(_c).whenTargetNamed("copy"),Ft.bind(k.a.IPostProcessingPass).to(gc).whenTargetNamed("blurH"),Ft.bind(k.a.IPostProcessingPass).to(ph).whenTargetNamed("blurV"),Ft.bind(k.a.IPostProcessingPass).to(se).whenTargetNamed("noise"),Ft.bind(k.a.IPostProcessingPass).to(kr).whenTargetNamed("sepia"),Ft.bind(k.a.IPostProcessingPass).to(qd).whenTargetNamed("colorHalftone"),Ft.bind(k.a.IPostProcessingPass).to(ad).whenTargetNamed("hexagonalPixelate"),Ft.bind(k.a.IPostProcessingPass).to(Cp).whenTargetNamed("ink"),Ft.bind(k.a.IFactoryPostProcessingPass).toFactory(function(Ht){return function(Ue){var He=Ht.container.getNamed(k.a.IPostProcessingPass,Ue);return He.setName(Ue),He}}),Ft}function Hd(Ft){var Ht=new b.Container;return Ht.parent=Ft,Ht.bind(k.a.IStyleAttributeService).to(Ia).inSingletonScope(),Ht.bind(k.a.IMultiPassRenderer).to(Yu).inSingletonScope(),Ht.bind(k.a.IPostProcessor).to(la).inSingletonScope(),Ht}},fbrv:function(ze,A,r){"use strict";var M=this&&this.__spreadArray||function(I,Ce){for(var et=0,Et=Ce.length,We=I.length;et<Et;et++,We++)I[We]=Ce[et];return I};Object.defineProperty(A,"__esModule",{value:!0}),A.getFunctionName=A.getBaseClassDependencyCount=A.getDependencies=void 0;var y=r("Yk9n"),T=r("MON2"),b=r("FV85"),u=r("xfSm"),H=r("ujMp");Object.defineProperty(A,"getFunctionName",{enumerable:!0,get:function(){return H.getFunctionName}});var k=r("dX1H");function Z(I,Ce){var et=H.getFunctionName(Ce),Et=oe(I,et,Ce,!1);return Et}A.getDependencies=Z;function oe(I,Ce,et,Et){var We=I.getConstructorMetadata(et),ct=We.compilerGeneratedMetadata;if(ct===void 0){var ce=T.MISSING_INJECTABLE_ANNOTATION+" "+Ce+".";throw new Error(ce)}var Vt=We.userGeneratedMetadata,It=Object.keys(Vt),Mt=et.length===0&&It.length>0,Tt=It.length>et.length,ye=Mt||Tt?It.length:et.length,lt=Te(Et,Ce,ct,Vt,ye),yt=at(I,et),Dt=M(M([],lt),yt);return Dt}function ne(I,Ce,et,Et,We){var ct=We[I.toString()]||[],ce=we(ct),Vt=ce.unmanaged!==!0,It=Et[I],Mt=ce.inject||ce.multiInject;if(It=Mt||It,It instanceof y.LazyServiceIdentifer&&(It=It.unwrap()),Vt){var Tt=It===Object,ye=It===Function,lt=It===void 0,yt=Tt||ye||lt;if(!Ce&&yt){var Dt=T.MISSING_INJECT_ANNOTATION+" argument "+I+" in class "+et+".";throw new Error(Dt)}var Jt=new k.Target(b.TargetTypeEnum.ConstructorArgument,ce.targetName,It);return Jt.metadata=ct,Jt}return null}function Te(I,Ce,et,Et,We){for(var ct=[],ce=0;ce<We;ce++){var Vt=ce,It=ne(Vt,I,Ce,et,Et);It!==null&&ct.push(It)}return ct}function at(I,Ce){for(var et=I.getPropertiesMetadata(Ce),Et=[],We=Object.keys(et),ct=0,ce=We;ct<ce.length;ct++){var Vt=ce[ct],It=et[Vt],Mt=we(et[Vt]),Tt=Mt.targetName||Vt,ye=Mt.inject||Mt.multiInject,lt=new k.Target(b.TargetTypeEnum.ClassProperty,Tt,ye);lt.metadata=It,Et.push(lt)}var yt=Object.getPrototypeOf(Ce.prototype).constructor;if(yt!==Object){var Dt=at(I,yt);Et=M(M([],Et),Dt)}return Et}function ve(I,Ce){var et=Object.getPrototypeOf(Ce.prototype).constructor;if(et!==Object){var Et=H.getFunctionName(et),We=oe(I,Et,et,!0),ct=We.map(function(It){return It.metadata.filter(function(Mt){return Mt.key===u.UNMANAGED_TAG})}),ce=[].concat.apply([],ct).length,Vt=We.length-ce;return Vt>0?Vt:ve(I,et)}else return 0}A.getBaseClassDependencyCount=ve;function we(I){var Ce={};return I.forEach(function(et){Ce[et.key.toString()]=et.value}),{inject:Ce[u.INJECT_TAG],multiInject:Ce[u.MULTI_INJECT_TAG],targetName:Ce[u.NAME_TAG],unmanaged:Ce[u.UNMANAGED_TAG]}}},fdMe:function(ze,A,r){"use strict";r.d(A,"a",function(){return M});function M(y,T){var b=T.callback;return b&&(y.dataArray=y.dataArray.map(b)),y}},fo6e:function(ze,A){var r=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/;function M(y){return r.test(y)}ze.exports=M},ft2k:function(ze,A,r){"use strict";var M=r("q1tI"),y=r.n(M),T=function(u){var H=Object(M.useRef)();return Object(M.useEffect)(function(){H.current=u}),H.current};A.a=T},fyUT:function(ze,A,r){"use strict";var M=r("wx14"),y=r("rePB"),T=r("q1tI"),b=r("TSYQ"),u=r.n(b),H=r("U8pU"),k=r("ODXe"),Z=r("Ff2n"),oe=r("4IlW"),ne=r("c+Xe"),Te=r("1OyB"),at=r("vuIU");function ve(){return typeof BigInt=="function"}function we(Ne){var B=Ne.trim(),z=B.startsWith("-");z&&(B=B.slice(1)),B=B.replace(/(\.\d*[^0])0*$/,"$1").replace(/\.0*$/,"").replace(/^0+/,""),B.startsWith(".")&&(B="0".concat(B));var q=B||"0",S=q.split("."),K=S[0]||"0",fe=S[1]||"0";K==="0"&&fe==="0"&&(z=!1);var Fe=z?"-":"";return{negative:z,negativeStr:Fe,trimStr:q,integerStr:K,decimalStr:fe,fullStr:"".concat(Fe).concat(q)}}function I(Ne){var B=String(Ne);return!Number.isNaN(Number(B))&&B.includes("e")}function Ce(Ne){var B=String(Ne);if(I(Ne)){var z=Number(B.slice(B.indexOf("e-")+2)),q=B.match(/\.(\d+)/);return(q==null?void 0:q[1])&&(z+=q[1].length),z}return B.includes(".")&&Et(B)?B.length-B.indexOf(".")-1:0}function et(Ne){var B=String(Ne);if(I(Ne)){if(Ne>Number.MAX_SAFE_INTEGER)return String(ve()?BigInt(Ne).toString():Number.MAX_SAFE_INTEGER);if(Ne<Number.MIN_SAFE_INTEGER)return String(ve()?BigInt(Ne).toString():Number.MIN_SAFE_INTEGER);B=Ne.toFixed(Ce(B))}return we(B).fullStr}function Et(Ne){return typeof Ne=="number"?!Number.isNaN(Ne):Ne?/^\s*-?\d+(\.\d+)?\s*$/.test(Ne)||/^\s*-?\d+\.\s*$/.test(Ne)||/^\s*-?\.\d+\s*$/.test(Ne):!1}var We=function(){function Ne(B){if(Object(Te.a)(this,Ne),this.origin="",!B&&B!==0||!String(B).trim()){this.empty=!0;return}this.origin=String(B),this.number=Number(B)}return Object(at.a)(Ne,[{key:"negate",value:function(){return new Ne(-this.toNumber())}},{key:"add",value:function(z){if(this.isInvalidate())return new Ne(z);var q=Number(z);if(Number.isNaN(q))return this;var S=this.number+q;if(S>Number.MAX_SAFE_INTEGER)return new Ne(Number.MAX_SAFE_INTEGER);if(S<Number.MIN_SAFE_INTEGER)return new Ne(Number.MIN_SAFE_INTEGER);var K=Math.max(Ce(this.number),Ce(q));return new Ne(S.toFixed(K))}},{key:"isEmpty",value:function(){return this.empty}},{key:"isNaN",value:function(){return Number.isNaN(this.number)}},{key:"isInvalidate",value:function(){return this.isEmpty()||this.isNaN()}},{key:"equals",value:function(z){return this.toNumber()===(z==null?void 0:z.toNumber())}},{key:"lessEquals",value:function(z){return this.add(z.negate().toString()).toNumber()<=0}},{key:"toNumber",value:function(){return this.number}},{key:"toString",value:function(){var z=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0;return z?this.isInvalidate()?"":et(this.number):this.origin}}]),Ne}(),ct=function(){function Ne(B){if(Object(Te.a)(this,Ne),this.origin="",!B&&B!==0||!String(B).trim()){this.empty=!0;return}if(this.origin=String(B),B==="-"){this.nan=!0;return}var z=B;if(I(z)&&(z=Number(z)),z=typeof z=="string"?z:et(z),Et(z)){var q=we(z);this.negative=q.negative;var S=q.trimStr.split(".");this.integer=BigInt(S[0]);var K=S[1]||"0";this.decimal=BigInt(K),this.decimalLen=K.length}else this.nan=!0}return Object(at.a)(Ne,[{key:"getMark",value:function(){return this.negative?"-":""}},{key:"getIntegerStr",value:function(){return this.integer.toString()}},{key:"getDecimalStr",value:function(){return this.decimal.toString().padStart(this.decimalLen,"0")}},{key:"alignDecimal",value:function(z){var q="".concat(this.getMark()).concat(this.getIntegerStr()).concat(this.getDecimalStr().padEnd(z,"0"));return BigInt(q)}},{key:"negate",value:function(){var z=new Ne(this.toString());return z.negative=!z.negative,z}},{key:"add",value:function(z){if(this.isInvalidate())return new Ne(z);var q=new Ne(z);if(q.isInvalidate())return this;var S=Math.max(this.getDecimalStr().length,q.getDecimalStr().length),K=this.alignDecimal(S),fe=q.alignDecimal(S),Fe=(K+fe).toString(),pe=we(Fe),Me=pe.negativeStr,U=pe.trimStr,le="".concat(Me).concat(U.padStart(S+1,"0"));return new Ne("".concat(le.slice(0,-S),".").concat(le.slice(-S)))}},{key:"isEmpty",value:function(){return this.empty}},{key:"isNaN",value:function(){return this.nan}},{key:"isInvalidate",value:function(){return this.isEmpty()||this.isNaN()}},{key:"equals",value:function(z){return this.toString()===(z==null?void 0:z.toString())}},{key:"lessEquals",value:function(z){return this.add(z.negate().toString()).toNumber()<=0}},{key:"toNumber",value:function(){return this.isNaN()?NaN:Number(this.toString())}},{key:"toString",value:function(){var z=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0;return z?this.isInvalidate()?"":we("".concat(this.getMark()).concat(this.getIntegerStr(),".").concat(this.getDecimalStr())).fullStr:this.origin}}]),Ne}();function ce(Ne){return ve()?new ct(Ne):new We(Ne)}function Vt(Ne,B,z){if(Ne==="")return"";var q=we(Ne),S=q.negativeStr,K=q.integerStr,fe=q.decimalStr,Fe="".concat(B).concat(fe),pe="".concat(S).concat(K);if(z>=0){var Me=Number(fe[z]);if(Me>=5){var U=ce(Ne).add("0.".concat("0".repeat(z)).concat(10-Me));return Vt(U.toString(),B,z)}return z===0?pe:"".concat(pe).concat(B).concat(fe.padEnd(z,"0").slice(0,z))}return Fe===".0"?pe:"".concat(pe).concat(Fe)}var It=r("5Z9U"),Mt=200,Tt=600;function ye(Ne){var B=Ne.prefixCls,z=Ne.upNode,q=Ne.downNode,S=Ne.upDisabled,K=Ne.downDisabled,fe=Ne.onStep,Fe=T.useRef(),pe=T.useRef();pe.current=fe;var Me=function(Be,Nt){Be.preventDefault(),pe.current(Nt);function kt(){pe.current(Nt),Fe.current=setTimeout(kt,Mt)}Fe.current=setTimeout(kt,Tt)},U=function(){clearTimeout(Fe.current)};if(T.useEffect(function(){return U},[]),Object(It.a)())return null;var le="".concat(B,"-handler"),Le=u()(le,"".concat(le,"-up"),Object(y.a)({},"".concat(le,"-up-disabled"),S)),ot=u()(le,"".concat(le,"-down"),Object(y.a)({},"".concat(le,"-down-disabled"),K)),St={unselectable:"on",role:"button",onMouseUp:U,onMouseLeave:U};return T.createElement("div",{className:"".concat(le,"-wrap")},T.createElement("span",Object(M.a)({},St,{onMouseDown:function(Be){Me(Be,!0)},"aria-label":"Increase Value","aria-disabled":S,className:Le}),z||T.createElement("span",{unselectable:"on",className:"".concat(B,"-handler-up-inner")})),T.createElement("span",Object(M.a)({},St,{onMouseDown:function(Be){Me(Be,!1)},"aria-label":"Decrease Value","aria-disabled":K,className:ot}),q||T.createElement("span",{unselectable:"on",className:"".concat(B,"-handler-down-inner")})))}var lt=r("Kwbf");function yt(Ne,B){var z=Object(T.useRef)(null);function q(){try{var K=Ne.selectionStart,fe=Ne.selectionEnd,Fe=Ne.value,pe=Fe.substring(0,K),Me=Fe.substring(fe);z.current={start:K,end:fe,value:Fe,beforeTxt:pe,afterTxt:Me}}catch(U){}}function S(){if(Ne&&z.current&&B)try{var K=Ne.value,fe=z.current,Fe=fe.beforeTxt,pe=fe.afterTxt,Me=fe.start,U=K.length;if(K.endsWith(pe))U=K.length-z.current.afterTxt.length;else if(K.startsWith(Fe))U=Fe.length;else{var le=Fe[Me-1],Le=K.indexOf(le,Me-1);Le!==-1&&(U=Le+1)}Ne.setSelectionRange(U,U)}catch(ot){Object(lt.a)(!1,"Something warning of cursor restore. Please fire issue about this: ".concat(ot.message))}}return[q,S]}var Dt=r("MNnm"),Jt=Object(Dt.a)()?T.useLayoutEffect:T.useEffect;function At(Ne,B){var z=T.useRef(!1);Jt(function(){if(!z.current){z.current=!0;return}return Ne()},B)}var vt=function(B,z){return B||z.isEmpty()?z.toString():z.toNumber()},ie=function(B){var z=ce(B);return z.isInvalidate()?null:z},J=T.forwardRef(function(Ne,B){var z,q=Ne.prefixCls,S=q===void 0?"rc-input-number":q,K=Ne.className,fe=Ne.style,Fe=Ne.min,pe=Ne.max,Me=Ne.step,U=Me===void 0?1:Me,le=Ne.defaultValue,Le=Ne.value,ot=Ne.disabled,St=Ne.readOnly,Ge=Ne.upHandler,Be=Ne.downHandler,Nt=Ne.keyboard,kt=Ne.stringMode,ft=Ne.parser,ut=Ne.formatter,Ze=Ne.precision,Qt=Ne.decimalSeparator,ar=Ne.onChange,zr=Ne.onInput,qr=Ne.onPressEnter,tn=Ne.onStep,_n=Object(Z.a)(Ne,["prefixCls","className","style","min","max","step","defaultValue","value","disabled","readOnly","upHandler","downHandler","keyboard","stringMode","parser","formatter","precision","decimalSeparator","onChange","onInput","onPressEnter","onStep"]),Bn="".concat(S,"-input"),ya=T.useRef(null),Tr=T.useState(!1),it=Object(k.a)(Tr,2),ue=it[0],ge=it[1],De=T.useRef(!1),Ee=T.useRef(!1),be=T.useState(function(){return ce(Le!=null?Le:le)}),rt=Object(k.a)(be,2),de=rt[0],Pe=rt[1];function xe(Na){Le===void 0&&Pe(Na)}var Oe=T.useCallback(function(Na,wa){if(!wa)return Ze>=0?Ze:Math.max(Ce(Na),Ce(U))},[Ze,U]),dt=T.useCallback(function(Na){var wa=String(Na);if(ft)return ft(wa);var ga=wa;return Qt&&(ga=ga.replace(Qt,".")),ga.replace(/[^\w.-]+/g,"")},[ft,Qt]),Gt=T.useCallback(function(Na,wa){if(ut)return ut(Na);var ga=typeof Na=="number"?et(Na):Na;if(!wa){var pi=Oe(ga,wa);if(Et(ga)&&(Qt||pi>=0)){var _o=Qt||".";ga=Vt(ga,_o,pi)}}return ga},[ut,Oe,Qt]),$t=T.useState(function(){var Na=le!=null?le:Le;return de.isInvalidate()&&["string","number"].includes(Object(H.a)(Na))?Number.isNaN(Na)?"":Na:Gt(de.toString(),!1)}),nr=Object(k.a)($t,2),lr=nr[0],Dr=nr[1];function Pr(Na,wa){Dr(Gt(Na.isInvalidate()?Na.toString(!1):Na.toString(!wa),wa))}var Wr=T.useMemo(function(){return ie(pe)},[pe]),an=T.useMemo(function(){return ie(Fe)},[Fe]),dn=T.useMemo(function(){return!Wr||!de||de.isInvalidate()?!1:Wr.lessEquals(de)},[Wr,de]),Rn=T.useMemo(function(){return!an||!de||de.isInvalidate()?!1:de.lessEquals(an)},[an,de]),zn=yt(ya.current,ue),Qn=Object(k.a)(zn,2),Ma=Qn[0],Ca=Qn[1],ia=function(wa){return Wr&&!wa.lessEquals(Wr)?Wr:an&&!an.lessEquals(wa)?an:null},_a=function(wa){return!ia(wa)},$a=function(wa,ga){var pi=wa,_o=_a(pi)||pi.isEmpty();if(!pi.isEmpty()&&!ga&&(pi=ia(pi)||pi,_o=!0),!St&&!ot&&_o){var To=pi.toString(),so=Oe(To,ga);return so>=0&&(pi=ce(Vt(To,".",so))),pi.equals(de)||(xe(pi),ar==null||ar(pi.isEmpty()?null:vt(kt,pi)),Le===void 0&&Pr(pi,ga)),pi}return de},ra=function(wa){if(Ma(),Dr(wa),!Ee.current){var ga=dt(wa),pi=ce(ga);pi.isNaN()||$a(pi,!0)}},ni=function(){Ee.current=!0},Da=function(){Ee.current=!1,ra(ya.current.value)},Fa=function(wa){var ga=wa.target.value;ft||(ga=ga.replace(//g,".")),ra(ga),zr==null||zr(ga)},ba=function(wa){var ga;if(!(wa&&dn||!wa&&Rn)){De.current=!1;var pi=ce(U);wa||(pi=pi.negate());var _o=(de||ce(0)).add(pi.toString()),To=$a(_o,!1);tn==null||tn(vt(kt,To),{offset:U,type:wa?"up":"down"}),(ga=ya.current)===null||ga===void 0||ga.focus()}},Oi=function(wa){var ga=ce(dt(lr)),pi=ga;ga.isNaN()?pi=de:pi=$a(ga,wa),Le!==void 0?Pr(de,!1):pi.isNaN()||Pr(pi,!1)},Do=function(wa){var ga=wa.which;De.current=!0,ga===oe.a.ENTER&&(Ee.current||(De.current=!1),Oi(!0),qr==null||qr(wa)),Nt!==!1&&!Ee.current&&[oe.a.UP,oe.a.DOWN].includes(ga)&&(ba(oe.a.UP===ga),wa.preventDefault())},Li=function(){De.current=!1},Ui=function(){Oi(!1),ge(!1),De.current=!1};return At(function(){de.isInvalidate()||Pr(de,!1)},[Ze]),At(function(){var Na=ce(Le);Pe(Na),(Na.isNaN()||!De.current||ut)&&Pr(Na,!1)},[Le]),At(function(){ut&&Ca()},[lr]),T.createElement("div",{className:u()(S,K,(z={},Object(y.a)(z,"".concat(S,"-focused"),ue),Object(y.a)(z,"".concat(S,"-disabled"),ot),Object(y.a)(z,"".concat(S,"-readonly"),St),Object(y.a)(z,"".concat(S,"-not-a-number"),de.isNaN()),Object(y.a)(z,"".concat(S,"-out-of-range"),!de.isInvalidate()&&!_a(de)),z)),style:fe,onFocus:function(){ge(!0)},onBlur:Ui,onKeyDown:Do,onKeyUp:Li,onCompositionStart:ni,onCompositionEnd:Da},T.createElement(ye,{prefixCls:S,upNode:Ge,downNode:Be,upDisabled:dn,downDisabled:Rn,onStep:ba}),T.createElement("div",{className:"".concat(Bn,"-wrap")},T.createElement("input",Object(M.a)({autoComplete:"off",role:"spinbutton","aria-valuemin":Fe,"aria-valuemax":pe,"aria-valuenow":de.isInvalidate()?null:de.toString(),step:U},_n,{ref:Object(ne.a)(ya,B),className:Bn,value:lr,onChange:Fa,disabled:ot,readOnly:St}))))});J.displayName="InputNumber";var ee=J,Ie=ee,me=r("VTBJ"),Ve={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M890.5 755.3L537.9 269.2c-12.8-17.6-39-17.6-51.7 0L133.5 755.3A8 8 0 00140 768h75c5.1 0 9.9-2.5 12.9-6.6L512 369.8l284.1 391.6c3 4.1 7.8 6.6 12.9 6.6h75c6.5 0 10.3-7.4 6.5-12.7z"}}]},name:"up",theme:"outlined"},Re=Ve,bt=r("6VBw"),Pt=function(B,z){return T.createElement(bt.a,Object(me.a)(Object(me.a)({},B),{},{ref:z,icon:Re}))};Pt.displayName="UpOutlined";var ht=T.forwardRef(Pt),Ye=r("8Skl"),Ke=r("H84U"),nt=r("3Nzz"),Ot=function(Ne,B){var z={};for(var q in Ne)Object.prototype.hasOwnProperty.call(Ne,q)&&B.indexOf(q)<0&&(z[q]=Ne[q]);if(Ne!=null&&typeof Object.getOwnPropertySymbols=="function")for(var S=0,q=Object.getOwnPropertySymbols(Ne);S<q.length;S++)B.indexOf(q[S])<0&&Object.prototype.propertyIsEnumerable.call(Ne,q[S])&&(z[q[S]]=Ne[q[S]]);return z},Xe=T.forwardRef(function(Ne,B){var z,q=T.useContext(Ke.b),S=q.getPrefixCls,K=q.direction,fe=T.useContext(nt.b),Fe=Ne.className,pe=Ne.size,Me=Ne.prefixCls,U=Ne.bordered,le=U===void 0?!0:U,Le=Ne.readOnly,ot=Ot(Ne,["className","size","prefixCls","bordered","readOnly"]),St=S("input-number",Me),Ge=T.createElement(ht,{className:"".concat(St,"-handler-up-inner")}),Be=T.createElement(Ye.a,{className:"".concat(St,"-handler-down-inner")}),Nt=pe||fe,kt=u()((z={},Object(y.a)(z,"".concat(St,"-lg"),Nt==="large"),Object(y.a)(z,"".concat(St,"-sm"),Nt==="small"),Object(y.a)(z,"".concat(St,"-rtl"),K==="rtl"),Object(y.a)(z,"".concat(St,"-readonly"),Le),Object(y.a)(z,"".concat(St,"-borderless"),!le),z),Fe);return T.createElement(Ie,Object(M.a)({ref:B,className:kt,upHandler:Ge,downHandler:Be,prefixCls:St,readOnly:Le},ot))}),xt=A.a=Xe},g4R6:function(ze,A){function r(M,y,T){return M===M&&(T!==void 0&&(M=M<=T?M:T),y!==void 0&&(M=M>=y?M:y)),M}ze.exports=r},g5r2:function(ze,A,r){"use strict";var M=r("q1tI"),y=r.n(M),T=r("ipCM"),b=T.a;function u(k){var Z=Object(M.useRef)();return b(k,Z.current)||(Z.current=k),Z.current}function H(k){var Z=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[];Object(M.useEffect)(k,u(Z))}A.a=H},gFfm:function(ze,A){function r(M,y){for(var T=-1,b=M==null?0:M.length;++T<b&&y(M[T],T,M)!==!1;);return M}ze.exports=r},gMG2:function(ze,A,r){"use strict";r.d(A,"a",function(){return Vt});var M={},y={},T=34,b=10,u=13;function H(It){return new Function("d","return {"+It.map(function(Mt,Tt){return JSON.stringify(Mt)+": d["+Tt+'] || ""'}).join(",")+"}")}function k(It,Mt){var Tt=H(It);return function(ye,lt){return Mt(Tt(ye),lt,It)}}function Z(It){var Mt=Object.create(null),Tt=[];return It.forEach(function(ye){for(var lt in ye)lt in Mt||Tt.push(Mt[lt]=lt)}),Tt}function oe(It,Mt){var Tt=It+"",ye=Tt.length;return ye<Mt?new Array(Mt-ye+1).join(0)+Tt:Tt}function ne(It){return It<0?"-"+oe(-It,6):It>9999?"+"+oe(It,6):oe(It,4)}function Te(It){var Mt=It.getUTCHours(),Tt=It.getUTCMinutes(),ye=It.getUTCSeconds(),lt=It.getUTCMilliseconds();return isNaN(It)?"Invalid Date":ne(It.getUTCFullYear(),4)+"-"+oe(It.getUTCMonth()+1,2)+"-"+oe(It.getUTCDate(),2)+(lt?"T"+oe(Mt,2)+":"+oe(Tt,2)+":"+oe(ye,2)+"."+oe(lt,3)+"Z":ye?"T"+oe(Mt,2)+":"+oe(Tt,2)+":"+oe(ye,2)+"Z":Tt||Mt?"T"+oe(Mt,2)+":"+oe(Tt,2)+"Z":"")}var at=function(It){var Mt=new RegExp('["'+It+`
\r]`),Tt=It.charCodeAt(0);function ye(J,ee){var Ie,me,Ve=lt(J,function(Re,bt){if(Ie)return Ie(Re,bt-1);me=Re,Ie=ee?k(Re,ee):H(Re)});return Ve.columns=me||[],Ve}function lt(J,ee){var Ie=[],me=J.length,Ve=0,Re=0,bt,Pt=me<=0,ht=!1;J.charCodeAt(me-1)===b&&--me,J.charCodeAt(me-1)===u&&--me;function Ye(){if(Pt)return y;if(ht)return ht=!1,M;var nt,Ot=Ve,Xe;if(J.charCodeAt(Ot)===T){for(;Ve++<me&&J.charCodeAt(Ve)!==T||J.charCodeAt(++Ve)===T;);return(nt=Ve)>=me?Pt=!0:(Xe=J.charCodeAt(Ve++))===b?ht=!0:Xe===u&&(ht=!0,J.charCodeAt(Ve)===b&&++Ve),J.slice(Ot+1,nt-1).replace(/""/g,'"')}for(;Ve<me;){if((Xe=J.charCodeAt(nt=Ve++))===b)ht=!0;else if(Xe===u)ht=!0,J.charCodeAt(Ve)===b&&++Ve;else if(Xe!==Tt)continue;return J.slice(Ot,nt)}return Pt=!0,J.slice(Ot,me)}for(;(bt=Ye())!==y;){for(var Ke=[];bt!==M&&bt!==y;)Ke.push(bt),bt=Ye();ee&&(Ke=ee(Ke,Re++))==null||Ie.push(Ke)}return Ie}function yt(J,ee){return J.map(function(Ie){return ee.map(function(me){return ie(Ie[me])}).join(It)})}function Dt(J,ee){return ee==null&&(ee=Z(J)),[ee.map(ie).join(It)].concat(yt(J,ee)).join(`
`)}function Jt(J,ee){return ee==null&&(ee=Z(J)),yt(J,ee).join(`
`)}function At(J){return J.map(vt).join(`
`)}function vt(J){return J.map(ie).join(It)}function ie(J){return J==null?"":J instanceof Date?Te(J):Mt.test(J+="")?'"'+J.replace(/"/g,'""')+'"':J}return{parse:ye,parseRows:lt,format:Dt,formatBody:Jt,formatRows:At,formatRow:vt,formatValue:ie}},ve=at(","),we=ve.parse,I=ve.parseRows,Ce=ve.format,et=ve.formatBody,Et=ve.formatRows,We=ve.formatRow,ct=ve.formatValue,ce=r("5zYK");function Vt(It,Mt){var Tt=we(It);return Object(ce.a)(Tt,Mt)}},gQMU:function(ze,A,r){var M=r("0ZTe"),y=M("toUpperCase");ze.exports=y},"giR+":function(ze,A,r){"use strict";var M=r("cIOH"),y=r.n(M),T=r("QbM5"),b=r.n(T)},gwTy:function(ze,A,r){},gzZq:function(ze,A,r){"use strict";Object.defineProperty(A,"__esModule",{value:!0}),A.BindingToSyntax=void 0;var M=r("MON2"),y=r("FV85"),T=r("D9lx"),b=r("LKzl"),u=function(){function H(k){this._binding=k}return H.prototype.to=function(k){return this._binding.type=y.BindingTypeEnum.Instance,this._binding.implementationType=k,new T.BindingInWhenOnSyntax(this._binding)},H.prototype.toSelf=function(){if(typeof this._binding.serviceIdentifier!="function")throw new Error(""+M.INVALID_TO_SELF_VALUE);var k=this._binding.serviceIdentifier;return this.to(k)},H.prototype.toConstantValue=function(k){return this._binding.type=y.BindingTypeEnum.ConstantValue,this._binding.cache=k,this._binding.dynamicValue=null,this._binding.implementationType=null,this._binding.scope=y.BindingScopeEnum.Singleton,new b.BindingWhenOnSyntax(this._binding)},H.prototype.toDynamicValue=function(k){return this._binding.type=y.BindingTypeEnum.DynamicValue,this._binding.cache=null,this._binding.dynamicValue=k,this._binding.implementationType=null,new T.BindingInWhenOnSyntax(this._binding)},H.prototype.toConstructor=function(k){return this._binding.type=y.BindingTypeEnum.Constructor,this._binding.implementationType=k,this._binding.scope=y.BindingScopeEnum.Singleton,new b.BindingWhenOnSyntax(this._binding)},H.prototype.toFactory=function(k){return this._binding.type=y.BindingTypeEnum.Factory,this._binding.factory=k,this._binding.scope=y.BindingScopeEnum.Singleton,new b.BindingWhenOnSyntax(this._binding)},H.prototype.toFunction=function(k){if(typeof k!="function")throw new Error(M.INVALID_FUNCTION_BINDING);var Z=this.toConstantValue(k);return this._binding.type=y.BindingTypeEnum.Function,this._binding.scope=y.BindingScopeEnum.Singleton,Z},H.prototype.toAutoFactory=function(k){return this._binding.type=y.BindingTypeEnum.Factory,this._binding.factory=function(Z){var oe=function(){return Z.container.get(k)};return oe},this._binding.scope=y.BindingScopeEnum.Singleton,new b.BindingWhenOnSyntax(this._binding)},H.prototype.toProvider=function(k){return this._binding.type=y.BindingTypeEnum.Provider,this._binding.provider=k,this._binding.scope=y.BindingScopeEnum.Singleton,new b.BindingWhenOnSyntax(this._binding)},H.prototype.toService=function(k){this.toDynamicValue(function(Z){return Z.container.get(k)})},H}();A.BindingToSyntax=u},h1nZ:function(ze,A,r){"use strict";var M=r("fX6N");r.d(A,"container",function(){return M.c}),r.d(A,"createSceneContainer",function(){return M.b}),r.d(A,"createLayerContainer",function(){return M.a}),r.d(A,"lazyInject",function(){return M.d});var y=r("+em5"),T=r("bB6j");r.d(A,"TYPES",function(){return T.a});var b=r("8/Fi"),u=r("PUg6");r.d(A,"BlendType",function(){return u.a});var H=r("cZlC");r.d(A,"AttributeType",function(){return H.a}),r.d(A,"ScaleTypes",function(){return H.b}),r.d(A,"StyleScaleType",function(){return H.c});var k=r("O1je"),Z=r.n(k);r.o(k,"CameraUniform")&&r.d(A,"CameraUniform",function(){return k.CameraUniform}),r.o(k,"CityBuildingLayer")&&r.d(A,"CityBuildingLayer",function(){return k.CityBuildingLayer}),r.o(k,"Control")&&r.d(A,"Control",function(){return k.Control}),r.o(k,"CoordinateSystem")&&r.d(A,"CoordinateSystem",function(){return k.CoordinateSystem}),r.o(k,"CoordinateUniform")&&r.d(A,"CoordinateUniform",function(){return k.CoordinateUniform}),r.o(k,"HeatmapLayer")&&r.d(A,"HeatmapLayer",function(){return k.HeatmapLayer}),r.o(k,"ImageLayer")&&r.d(A,"ImageLayer",function(){return k.ImageLayer}),r.o(k,"Layers")&&r.d(A,"Layers",function(){return k.Layers}),r.o(k,"LineLayer")&&r.d(A,"LineLayer",function(){return k.LineLayer}),r.o(k,"Logo")&&r.d(A,"Logo",function(){return k.Logo}),r.o(k,"MapServiceEvent")&&r.d(A,"MapServiceEvent",function(){return k.MapServiceEvent}),r.o(k,"Marker")&&r.d(A,"Marker",function(){return k.Marker}),r.o(k,"PointLayer")&&r.d(A,"PointLayer",function(){return k.PointLayer}),r.o(k,"PolygonLayer")&&r.d(A,"PolygonLayer",function(){return k.PolygonLayer}),r.o(k,"Popup")&&r.d(A,"Popup",function(){return k.Popup}),r.o(k,"PositionType")&&r.d(A,"PositionType",function(){return k.PositionType}),r.o(k,"RasterLayer")&&r.d(A,"RasterLayer",function(){return k.RasterLayer}),r.o(k,"Scale")&&r.d(A,"Scale",function(){return k.Scale}),r.o(k,"Scene")&&r.d(A,"Scene",function(){return k.Scene}),r.o(k,"SceneEventList")&&r.d(A,"SceneEventList",function(){return k.SceneEventList}),r.o(k,"Zoom")&&r.d(A,"Zoom",function(){return k.Zoom}),r.o(k,"gl")&&r.d(A,"gl",function(){return k.gl});var oe=r("L56e");r.d(A,"MapServiceEvent",function(){return oe.a});var ne=r("HthE");r.d(A,"CoordinateSystem",function(){return ne.a}),r.d(A,"CoordinateUniform",function(){return ne.b});var Te=r("/33/"),at=r.n(Te);r.o(Te,"CameraUniform")&&r.d(A,"CameraUniform",function(){return Te.CameraUniform}),r.o(Te,"CityBuildingLayer")&&r.d(A,"CityBuildingLayer",function(){return Te.CityBuildingLayer}),r.o(Te,"Control")&&r.d(A,"Control",function(){return Te.Control}),r.o(Te,"HeatmapLayer")&&r.d(A,"HeatmapLayer",function(){return Te.HeatmapLayer}),r.o(Te,"ImageLayer")&&r.d(A,"ImageLayer",function(){return Te.ImageLayer}),r.o(Te,"Layers")&&r.d(A,"Layers",function(){return Te.Layers}),r.o(Te,"LineLayer")&&r.d(A,"LineLayer",function(){return Te.LineLayer}),r.o(Te,"Logo")&&r.d(A,"Logo",function(){return Te.Logo}),r.o(Te,"Marker")&&r.d(A,"Marker",function(){return Te.Marker}),r.o(Te,"PointLayer")&&r.d(A,"PointLayer",function(){return Te.PointLayer}),r.o(Te,"PolygonLayer")&&r.d(A,"PolygonLayer",function(){return Te.PolygonLayer}),r.o(Te,"Popup")&&r.d(A,"Popup",function(){return Te.Popup}),r.o(Te,"PositionType")&&r.d(A,"PositionType",function(){return Te.PositionType}),r.o(Te,"RasterLayer")&&r.d(A,"RasterLayer",function(){return Te.RasterLayer}),r.o(Te,"Scale")&&r.d(A,"Scale",function(){return Te.Scale}),r.o(Te,"Scene")&&r.d(A,"Scene",function(){return Te.Scene}),r.o(Te,"SceneEventList")&&r.d(A,"SceneEventList",function(){return Te.SceneEventList}),r.o(Te,"Zoom")&&r.d(A,"Zoom",function(){return Te.Zoom}),r.o(Te,"gl")&&r.d(A,"gl",function(){return Te.gl});var ve=r("EfZ0");r.d(A,"CameraUniform",function(){return ve.a});var we=r("riiI"),I=r.n(we);r.o(we,"CityBuildingLayer")&&r.d(A,"CityBuildingLayer",function(){return we.CityBuildingLayer}),r.o(we,"Control")&&r.d(A,"Control",function(){return we.Control}),r.o(we,"HeatmapLayer")&&r.d(A,"HeatmapLayer",function(){return we.HeatmapLayer}),r.o(we,"ImageLayer")&&r.d(A,"ImageLayer",function(){return we.ImageLayer}),r.o(we,"Layers")&&r.d(A,"Layers",function(){return we.Layers}),r.o(we,"LineLayer")&&r.d(A,"LineLayer",function(){return we.LineLayer}),r.o(we,"Logo")&&r.d(A,"Logo",function(){return we.Logo}),r.o(we,"Marker")&&r.d(A,"Marker",function(){return we.Marker}),r.o(we,"PointLayer")&&r.d(A,"PointLayer",function(){return we.PointLayer}),r.o(we,"PolygonLayer")&&r.d(A,"PolygonLayer",function(){return we.PolygonLayer}),r.o(we,"Popup")&&r.d(A,"Popup",function(){return we.Popup}),r.o(we,"PositionType")&&r.d(A,"PositionType",function(){return we.PositionType}),r.o(we,"RasterLayer")&&r.d(A,"RasterLayer",function(){return we.RasterLayer}),r.o(we,"Scale")&&r.d(A,"Scale",function(){return we.Scale}),r.o(we,"Scene")&&r.d(A,"Scene",function(){return we.Scene}),r.o(we,"SceneEventList")&&r.d(A,"SceneEventList",function(){return we.SceneEventList}),r.o(we,"Zoom")&&r.d(A,"Zoom",function(){return we.Zoom}),r.o(we,"gl")&&r.d(A,"gl",function(){return we.gl});var Ce=r("eg+a");r.d(A,"SceneEventList",function(){return Ce.a});var et=r("bYl4"),Et=r.n(et);r.o(et,"CityBuildingLayer")&&r.d(A,"CityBuildingLayer",function(){return et.CityBuildingLayer}),r.o(et,"Control")&&r.d(A,"Control",function(){return et.Control}),r.o(et,"HeatmapLayer")&&r.d(A,"HeatmapLayer",function(){return et.HeatmapLayer}),r.o(et,"ImageLayer")&&r.d(A,"ImageLayer",function(){return et.ImageLayer}),r.o(et,"Layers")&&r.d(A,"Layers",function(){return et.Layers}),r.o(et,"LineLayer")&&r.d(A,"LineLayer",function(){return et.LineLayer}),r.o(et,"Logo")&&r.d(A,"Logo",function(){return et.Logo}),r.o(et,"Marker")&&r.d(A,"Marker",function(){return et.Marker}),r.o(et,"PointLayer")&&r.d(A,"PointLayer",function(){return et.PointLayer}),r.o(et,"PolygonLayer")&&r.d(A,"PolygonLayer",function(){return et.PolygonLayer}),r.o(et,"Popup")&&r.d(A,"Popup",function(){return et.Popup}),r.o(et,"PositionType")&&r.d(A,"PositionType",function(){return et.PositionType}),r.o(et,"RasterLayer")&&r.d(A,"RasterLayer",function(){return et.RasterLayer}),r.o(et,"Scale")&&r.d(A,"Scale",function(){return et.Scale}),r.o(et,"Scene")&&r.d(A,"Scene",function(){return et.Scene}),r.o(et,"Zoom")&&r.d(A,"Zoom",function(){return et.Zoom}),r.o(et,"gl")&&r.d(A,"gl",function(){return et.gl});var We=r("FI6e"),ct=r.n(We);r.o(We,"CityBuildingLayer")&&r.d(A,"CityBuildingLayer",function(){return We.CityBuildingLayer}),r.o(We,"Control")&&r.d(A,"Control",function(){return We.Control}),r.o(We,"HeatmapLayer")&&r.d(A,"HeatmapLayer",function(){return We.HeatmapLayer}),r.o(We,"ImageLayer")&&r.d(A,"ImageLayer",function(){return We.ImageLayer}),r.o(We,"Layers")&&r.d(A,"Layers",function(){return We.Layers}),r.o(We,"LineLayer")&&r.d(A,"LineLayer",function(){return We.LineLayer}),r.o(We,"Logo")&&r.d(A,"Logo",function(){return We.Logo}),r.o(We,"Marker")&&r.d(A,"Marker",function(){return We.Marker}),r.o(We,"PointLayer")&&r.d(A,"PointLayer",function(){return We.PointLayer}),r.o(We,"PolygonLayer")&&r.d(A,"PolygonLayer",function(){return We.PolygonLayer}),r.o(We,"Popup")&&r.d(A,"Popup",function(){return We.Popup}),r.o(We,"PositionType")&&r.d(A,"PositionType",function(){return We.PositionType}),r.o(We,"RasterLayer")&&r.d(A,"RasterLayer",function(){return We.RasterLayer}),r.o(We,"Scale")&&r.d(A,"Scale",function(){return We.Scale}),r.o(We,"Scene")&&r.d(A,"Scene",function(){return We.Scene}),r.o(We,"Zoom")&&r.d(A,"Zoom",function(){return We.Zoom}),r.o(We,"gl")&&r.d(A,"gl",function(){return We.gl});var ce=r("D+ow"),Vt=r.n(ce);r.o(ce,"CityBuildingLayer")&&r.d(A,"CityBuildingLayer",function(){return ce.CityBuildingLayer}),r.o(ce,"Control")&&r.d(A,"Control",function(){return ce.Control}),r.o(ce,"HeatmapLayer")&&r.d(A,"HeatmapLayer",function(){return ce.HeatmapLayer}),r.o(ce,"ImageLayer")&&r.d(A,"ImageLayer",function(){return ce.ImageLayer}),r.o(ce,"Layers")&&r.d(A,"Layers",function(){return ce.Layers}),r.o(ce,"LineLayer")&&r.d(A,"LineLayer",function(){return ce.LineLayer}),r.o(ce,"Logo")&&r.d(A,"Logo",function(){return ce.Logo}),r.o(ce,"Marker")&&r.d(A,"Marker",function(){return ce.Marker}),r.o(ce,"PointLayer")&&r.d(A,"PointLayer",function(){return ce.PointLayer}),r.o(ce,"PolygonLayer")&&r.d(A,"PolygonLayer",function(){return ce.PolygonLayer}),r.o(ce,"Popup")&&r.d(A,"Popup",function(){return ce.Popup}),r.o(ce,"PositionType")&&r.d(A,"PositionType",function(){return ce.PositionType}),r.o(ce,"RasterLayer")&&r.d(A,"RasterLayer",function(){return ce.RasterLayer}),r.o(ce,"Scale")&&r.d(A,"Scale",function(){return ce.Scale}),r.o(ce,"Scene")&&r.d(A,"Scene",function(){return ce.Scene}),r.o(ce,"Zoom")&&r.d(A,"Zoom",function(){return ce.Zoom}),r.o(ce,"gl")&&r.d(A,"gl",function(){return ce.gl});var It=r("AFH1");r.d(A,"PositionType",function(){return It.a});var Mt=r("8uyu"),Tt=r.n(Mt);r.o(Mt,"CityBuildingLayer")&&r.d(A,"CityBuildingLayer",function(){return Mt.CityBuildingLayer}),r.o(Mt,"Control")&&r.d(A,"Control",function(){return Mt.Control}),r.o(Mt,"HeatmapLayer")&&r.d(A,"HeatmapLayer",function(){return Mt.HeatmapLayer}),r.o(Mt,"ImageLayer")&&r.d(A,"ImageLayer",function(){return Mt.ImageLayer}),r.o(Mt,"Layers")&&r.d(A,"Layers",function(){return Mt.Layers}),r.o(Mt,"LineLayer")&&r.d(A,"LineLayer",function(){return Mt.LineLayer}),r.o(Mt,"Logo")&&r.d(A,"Logo",function(){return Mt.Logo}),r.o(Mt,"Marker")&&r.d(A,"Marker",function(){return Mt.Marker}),r.o(Mt,"PointLayer")&&r.d(A,"PointLayer",function(){return Mt.PointLayer}),r.o(Mt,"PolygonLayer")&&r.d(A,"PolygonLayer",function(){return Mt.PolygonLayer}),r.o(Mt,"Popup")&&r.d(A,"Popup",function(){return Mt.Popup}),r.o(Mt,"RasterLayer")&&r.d(A,"RasterLayer",function(){return Mt.RasterLayer}),r.o(Mt,"Scale")&&r.d(A,"Scale",function(){return Mt.Scale}),r.o(Mt,"Scene")&&r.d(A,"Scene",function(){return Mt.Scene}),r.o(Mt,"Zoom")&&r.d(A,"Zoom",function(){return Mt.Zoom}),r.o(Mt,"gl")&&r.d(A,"gl",function(){return Mt.gl});var ye=r("J7lC"),lt=r.n(ye);r.o(ye,"CityBuildingLayer")&&r.d(A,"CityBuildingLayer",function(){return ye.CityBuildingLayer}),r.o(ye,"Control")&&r.d(A,"Control",function(){return ye.Control}),r.o(ye,"HeatmapLayer")&&r.d(A,"HeatmapLayer",function(){return ye.HeatmapLayer}),r.o(ye,"ImageLayer")&&r.d(A,"ImageLayer",function(){return ye.ImageLayer}),r.o(ye,"Layers")&&r.d(A,"Layers",function(){return ye.Layers}),r.o(ye,"LineLayer")&&r.d(A,"LineLayer",function(){return ye.LineLayer}),r.o(ye,"Logo")&&r.d(A,"Logo",function(){return ye.Logo}),r.o(ye,"Marker")&&r.d(A,"Marker",function(){return ye.Marker}),r.o(ye,"PointLayer")&&r.d(A,"PointLayer",function(){return ye.PointLayer}),r.o(ye,"PolygonLayer")&&r.d(A,"PolygonLayer",function(){return ye.PolygonLayer}),r.o(ye,"Popup")&&r.d(A,"Popup",function(){return ye.Popup}),r.o(ye,"RasterLayer")&&r.d(A,"RasterLayer",function(){return ye.RasterLayer}),r.o(ye,"Scale")&&r.d(A,"Scale",function(){return ye.Scale}),r.o(ye,"Scene")&&r.d(A,"Scene",function(){return ye.Scene}),r.o(ye,"Zoom")&&r.d(A,"Zoom",function(){return ye.Zoom}),r.o(ye,"gl")&&r.d(A,"gl",function(){return ye.gl});var yt=r("V1cb"),Dt=r("4kj+"),Jt=r.n(Dt);r.o(Dt,"CityBuildingLayer")&&r.d(A,"CityBuildingLayer",function(){return Dt.CityBuildingLayer}),r.o(Dt,"Control")&&r.d(A,"Control",function(){return Dt.Control}),r.o(Dt,"HeatmapLayer")&&r.d(A,"HeatmapLayer",function(){return Dt.HeatmapLayer}),r.o(Dt,"ImageLayer")&&r.d(A,"ImageLayer",function(){return Dt.ImageLayer}),r.o(Dt,"Layers")&&r.d(A,"Layers",function(){return Dt.Layers}),r.o(Dt,"LineLayer")&&r.d(A,"LineLayer",function(){return Dt.LineLayer}),r.o(Dt,"Logo")&&r.d(A,"Logo",function(){return Dt.Logo}),r.o(Dt,"Marker")&&r.d(A,"Marker",function(){return Dt.Marker}),r.o(Dt,"PointLayer")&&r.d(A,"PointLayer",function(){return Dt.PointLayer}),r.o(Dt,"PolygonLayer")&&r.d(A,"PolygonLayer",function(){return Dt.PolygonLayer}),r.o(Dt,"Popup")&&r.d(A,"Popup",function(){return Dt.Popup}),r.o(Dt,"RasterLayer")&&r.d(A,"RasterLayer",function(){return Dt.RasterLayer}),r.o(Dt,"Scale")&&r.d(A,"Scale",function(){return Dt.Scale}),r.o(Dt,"Scene")&&r.d(A,"Scene",function(){return Dt.Scene}),r.o(Dt,"Zoom")&&r.d(A,"Zoom",function(){return Dt.Zoom}),r.o(Dt,"gl")&&r.d(A,"gl",function(){return Dt.gl});var At=r("bzyH"),vt=r.n(At);r.o(At,"CityBuildingLayer")&&r.d(A,"CityBuildingLayer",function(){return At.CityBuildingLayer}),r.o(At,"Control")&&r.d(A,"Control",function(){return At.Control}),r.o(At,"HeatmapLayer")&&r.d(A,"HeatmapLayer",function(){return At.HeatmapLayer}),r.o(At,"ImageLayer")&&r.d(A,"ImageLayer",function(){return At.ImageLayer}),r.o(At,"Layers")&&r.d(A,"Layers",function(){return At.Layers}),r.o(At,"LineLayer")&&r.d(A,"LineLayer",function(){return At.LineLayer}),r.o(At,"Logo")&&r.d(A,"Logo",function(){return At.Logo}),r.o(At,"Marker")&&r.d(A,"Marker",function(){return At.Marker}),r.o(At,"PointLayer")&&r.d(A,"PointLayer",function(){return At.PointLayer}),r.o(At,"PolygonLayer")&&r.d(A,"PolygonLayer",function(){return At.PolygonLayer}),r.o(At,"Popup")&&r.d(A,"Popup",function(){return At.Popup}),r.o(At,"RasterLayer")&&r.d(A,"RasterLayer",function(){return At.RasterLayer}),r.o(At,"Scale")&&r.d(A,"Scale",function(){return At.Scale}),r.o(At,"Scene")&&r.d(A,"Scene",function(){return At.Scene}),r.o(At,"Zoom")&&r.d(A,"Zoom",function(){return At.Zoom}),r.o(At,"gl")&&r.d(A,"gl",function(){return At.gl});var ie=r("0eqD"),J=r.n(ie);r.o(ie,"CityBuildingLayer")&&r.d(A,"CityBuildingLayer",function(){return ie.CityBuildingLayer}),r.o(ie,"Control")&&r.d(A,"Control",function(){return ie.Control}),r.o(ie,"HeatmapLayer")&&r.d(A,"HeatmapLayer",function(){return ie.HeatmapLayer}),r.o(ie,"ImageLayer")&&r.d(A,"ImageLayer",function(){return ie.ImageLayer}),r.o(ie,"Layers")&&r.d(A,"Layers",function(){return ie.Layers}),r.o(ie,"LineLayer")&&r.d(A,"LineLayer",function(){return ie.LineLayer}),r.o(ie,"Logo")&&r.d(A,"Logo",function(){return ie.Logo}),r.o(ie,"Marker")&&r.d(A,"Marker",function(){return ie.Marker}),r.o(ie,"PointLayer")&&r.d(A,"PointLayer",function(){return ie.PointLayer}),r.o(ie,"PolygonLayer")&&r.d(A,"PolygonLayer",function(){return ie.PolygonLayer}),r.o(ie,"Popup")&&r.d(A,"Popup",function(){return ie.Popup}),r.o(ie,"RasterLayer")&&r.d(A,"RasterLayer",function(){return ie.RasterLayer}),r.o(ie,"Scale")&&r.d(A,"Scale",function(){return ie.Scale}),r.o(ie,"Scene")&&r.d(A,"Scene",function(){return ie.Scene}),r.o(ie,"Zoom")&&r.d(A,"Zoom",function(){return ie.Zoom}),r.o(ie,"gl")&&r.d(A,"gl",function(){return ie.gl});var ee=r("/Uc5"),Ie=r.n(ee);r.o(ee,"CityBuildingLayer")&&r.d(A,"CityBuildingLayer",function(){return ee.CityBuildingLayer}),r.o(ee,"Control")&&r.d(A,"Control",function(){return ee.Control}),r.o(ee,"HeatmapLayer")&&r.d(A,"HeatmapLayer",function(){return ee.HeatmapLayer}),r.o(ee,"ImageLayer")&&r.d(A,"ImageLayer",function(){return ee.ImageLayer}),r.o(ee,"Layers")&&r.d(A,"Layers",function(){return ee.Layers}),r.o(ee,"LineLayer")&&r.d(A,"LineLayer",function(){return ee.LineLayer}),r.o(ee,"Logo")&&r.d(A,"Logo",function(){return ee.Logo}),r.o(ee,"Marker")&&r.d(A,"Marker",function(){return ee.Marker}),r.o(ee,"PointLayer")&&r.d(A,"PointLayer",function(){return ee.PointLayer}),r.o(ee,"PolygonLayer")&&r.d(A,"PolygonLayer",function(){return ee.PolygonLayer}),r.o(ee,"Popup")&&r.d(A,"Popup",function(){return ee.Popup}),r.o(ee,"RasterLayer")&&r.d(A,"RasterLayer",function(){return ee.RasterLayer}),r.o(ee,"Scale")&&r.d(A,"Scale",function(){return ee.Scale}),r.o(ee,"Scene")&&r.d(A,"Scene",function(){return ee.Scene}),r.o(ee,"Zoom")&&r.d(A,"Zoom",function(){return ee.Zoom}),r.o(ee,"gl")&&r.d(A,"gl",function(){return ee.gl});var me=r("RMtq"),Ve=r.n(me);r.o(me,"CityBuildingLayer")&&r.d(A,"CityBuildingLayer",function(){return me.CityBuildingLayer}),r.o(me,"Control")&&r.d(A,"Control",function(){return me.Control}),r.o(me,"HeatmapLayer")&&r.d(A,"HeatmapLayer",function(){return me.HeatmapLayer}),r.o(me,"ImageLayer")&&r.d(A,"ImageLayer",function(){return me.ImageLayer}),r.o(me,"Layers")&&r.d(A,"Layers",function(){return me.Layers}),r.o(me,"LineLayer")&&r.d(A,"LineLayer",function(){return me.LineLayer}),r.o(me,"Logo")&&r.d(A,"Logo",function(){return me.Logo}),r.o(me,"Marker")&&r.d(A,"Marker",function(){return me.Marker}),r.o(me,"PointLayer")&&r.d(A,"PointLayer",function(){return me.PointLayer}),r.o(me,"PolygonLayer")&&r.d(A,"PolygonLayer",function(){return me.PolygonLayer}),r.o(me,"Popup")&&r.d(A,"Popup",function(){return me.Popup}),r.o(me,"RasterLayer")&&r.d(A,"RasterLayer",function(){return me.RasterLayer}),r.o(me,"Scale")&&r.d(A,"Scale",function(){return me.Scale}),r.o(me,"Scene")&&r.d(A,"Scene",function(){return me.Scene}),r.o(me,"Zoom")&&r.d(A,"Zoom",function(){return me.Zoom}),r.o(me,"gl")&&r.d(A,"gl",function(){return me.gl});var Re=r("1jvM"),bt=r.n(Re);r.o(Re,"CityBuildingLayer")&&r.d(A,"CityBuildingLayer",function(){return Re.CityBuildingLayer}),r.o(Re,"Control")&&r.d(A,"Control",function(){return Re.Control}),r.o(Re,"HeatmapLayer")&&r.d(A,"HeatmapLayer",function(){return Re.HeatmapLayer}),r.o(Re,"ImageLayer")&&r.d(A,"ImageLayer",function(){return Re.ImageLayer}),r.o(Re,"Layers")&&r.d(A,"Layers",function(){return Re.Layers}),r.o(Re,"LineLayer")&&r.d(A,"LineLayer",function(){return Re.LineLayer}),r.o(Re,"Logo")&&r.d(A,"Logo",function(){return Re.Logo}),r.o(Re,"Marker")&&r.d(A,"Marker",function(){return Re.Marker}),r.o(Re,"PointLayer")&&r.d(A,"PointLayer",function(){return Re.PointLayer}),r.o(Re,"PolygonLayer")&&r.d(A,"PolygonLayer",function(){return Re.PolygonLayer}),r.o(Re,"Popup")&&r.d(A,"Popup",function(){return Re.Popup}),r.o(Re,"RasterLayer")&&r.d(A,"RasterLayer",function(){return Re.RasterLayer}),r.o(Re,"Scale")&&r.d(A,"Scale",function(){return Re.Scale}),r.o(Re,"Scene")&&r.d(A,"Scene",function(){return Re.Scene}),r.o(Re,"Zoom")&&r.d(A,"Zoom",function(){return Re.Zoom}),r.o(Re,"gl")&&r.d(A,"gl",function(){return Re.gl});var Pt=r("bPkA"),ht=r("PSsN"),Ye=r.n(ht);r.o(ht,"CityBuildingLayer")&&r.d(A,"CityBuildingLayer",function(){return ht.CityBuildingLayer}),r.o(ht,"Control")&&r.d(A,"Control",function(){return ht.Control}),r.o(ht,"HeatmapLayer")&&r.d(A,"HeatmapLayer",function(){return ht.HeatmapLayer}),r.o(ht,"ImageLayer")&&r.d(A,"ImageLayer",function(){return ht.ImageLayer}),r.o(ht,"Layers")&&r.d(A,"Layers",function(){return ht.Layers}),r.o(ht,"LineLayer")&&r.d(A,"LineLayer",function(){return ht.LineLayer}),r.o(ht,"Logo")&&r.d(A,"Logo",function(){return ht.Logo}),r.o(ht,"Marker")&&r.d(A,"Marker",function(){return ht.Marker}),r.o(ht,"PointLayer")&&r.d(A,"PointLayer",function(){return ht.PointLayer}),r.o(ht,"PolygonLayer")&&r.d(A,"PolygonLayer",function(){return ht.PolygonLayer}),r.o(ht,"Popup")&&r.d(A,"Popup",function(){return ht.Popup}),r.o(ht,"RasterLayer")&&r.d(A,"RasterLayer",function(){return ht.RasterLayer}),r.o(ht,"Scale")&&r.d(A,"Scale",function(){return ht.Scale}),r.o(ht,"Scene")&&r.d(A,"Scene",function(){return ht.Scene}),r.o(ht,"Zoom")&&r.d(A,"Zoom",function(){return ht.Zoom}),r.o(ht,"gl")&&r.d(A,"gl",function(){return ht.gl});var Ke=r("6NqC"),nt=r.n(Ke);r.o(Ke,"CityBuildingLayer")&&r.d(A,"CityBuildingLayer",function(){return Ke.CityBuildingLayer}),r.o(Ke,"Control")&&r.d(A,"Control",function(){return Ke.Control}),r.o(Ke,"HeatmapLayer")&&r.d(A,"HeatmapLayer",function(){return Ke.HeatmapLayer}),r.o(Ke,"ImageLayer")&&r.d(A,"ImageLayer",function(){return Ke.ImageLayer}),r.o(Ke,"Layers")&&r.d(A,"Layers",function(){return Ke.Layers}),r.o(Ke,"LineLayer")&&r.d(A,"LineLayer",function(){return Ke.LineLayer}),r.o(Ke,"Logo")&&r.d(A,"Logo",function(){return Ke.Logo}),r.o(Ke,"Marker")&&r.d(A,"Marker",function(){return Ke.Marker}),r.o(Ke,"PointLayer")&&r.d(A,"PointLayer",function(){return Ke.PointLayer}),r.o(Ke,"PolygonLayer")&&r.d(A,"PolygonLayer",function(){return Ke.PolygonLayer}),r.o(Ke,"Popup")&&r.d(A,"Popup",function(){return Ke.Popup}),r.o(Ke,"RasterLayer")&&r.d(A,"RasterLayer",function(){return Ke.RasterLayer}),r.o(Ke,"Scale")&&r.d(A,"Scale",function(){return Ke.Scale}),r.o(Ke,"Scene")&&r.d(A,"Scene",function(){return Ke.Scene}),r.o(Ke,"Zoom")&&r.d(A,"Zoom",function(){return Ke.Zoom}),r.o(Ke,"gl")&&r.d(A,"gl",function(){return Ke.gl});var Ot=r("bTtR"),Xe=r.n(Ot);r.o(Ot,"CityBuildingLayer")&&r.d(A,"CityBuildingLayer",function(){return Ot.CityBuildingLayer}),r.o(Ot,"Control")&&r.d(A,"Control",function(){return Ot.Control}),r.o(Ot,"HeatmapLayer")&&r.d(A,"HeatmapLayer",function(){return Ot.HeatmapLayer}),r.o(Ot,"ImageLayer")&&r.d(A,"ImageLayer",function(){return Ot.ImageLayer}),r.o(Ot,"Layers")&&r.d(A,"Layers",function(){return Ot.Layers}),r.o(Ot,"LineLayer")&&r.d(A,"LineLayer",function(){return Ot.LineLayer}),r.o(Ot,"Logo")&&r.d(A,"Logo",function(){return Ot.Logo}),r.o(Ot,"Marker")&&r.d(A,"Marker",function(){return Ot.Marker}),r.o(Ot,"PointLayer")&&r.d(A,"PointLayer",function(){return Ot.PointLayer}),r.o(Ot,"PolygonLayer")&&r.d(A,"PolygonLayer",function(){return Ot.PolygonLayer}),r.o(Ot,"Popup")&&r.d(A,"Popup",function(){return Ot.Popup}),r.o(Ot,"RasterLayer")&&r.d(A,"RasterLayer",function(){return Ot.RasterLayer}),r.o(Ot,"Scale")&&r.d(A,"Scale",function(){return Ot.Scale}),r.o(Ot,"Scene")&&r.d(A,"Scene",function(){return Ot.Scene}),r.o(Ot,"Zoom")&&r.d(A,"Zoom",function(){return Ot.Zoom}),r.o(Ot,"gl")&&r.d(A,"gl",function(){return Ot.gl});var xt=r("o+pz");r.d(A,"gl",function(){return xt.a})},h7MG:function(ze,A,r){"use strict";Object.defineProperty(A,"__esModule",{value:!0}),A.getBindingDictionary=A.createMockRequest=A.plan=void 0;var M=r("doU7"),y=r("MON2"),T=r("FV85"),b=r("xfSm"),u=r("qK8v"),H=r("ujMp"),k=r("oy+k"),Z=r("GXnB"),oe=r("yMAV"),ne=r("fbrv"),Te=r("xiII"),at=r("dX1H");function ve(ce){return ce._bindingDictionary}A.getBindingDictionary=ve;function we(ce,Vt,It,Mt,Tt,ye){var lt=ce?b.MULTI_INJECT_TAG:b.INJECT_TAG,yt=new Z.Metadata(lt,It),Dt=new at.Target(Vt,Mt,It,yt);if(Tt!==void 0){var Jt=new Z.Metadata(Tt,ye);Dt.metadata.push(Jt)}return Dt}function I(ce,Vt,It,Mt,Tt){var ye=Et(It.container,Tt.serviceIdentifier),lt=[];return ye.length===M.BindingCount.NoBindingsAvailable&&It.container.options.autoBindInjectable&&typeof Tt.serviceIdentifier=="function"&&ce.getConstructorMetadata(Tt.serviceIdentifier).compilerGeneratedMetadata&&(It.container.bind(Tt.serviceIdentifier).toSelf(),ye=Et(It.container,Tt.serviceIdentifier)),Vt?lt=ye:lt=ye.filter(function(yt){var Dt=new Te.Request(yt.serviceIdentifier,It,Mt,yt,Tt);return yt.constraint(Dt)}),Ce(Tt.serviceIdentifier,lt,Tt,It.container),lt}function Ce(ce,Vt,It,Mt){switch(Vt.length){case M.BindingCount.NoBindingsAvailable:if(It.isOptional())return Vt;var Tt=H.getServiceIdentifierAsString(ce),ye=y.NOT_REGISTERED;throw ye+=H.listMetadataForTarget(Tt,It),ye+=H.listRegisteredBindingsForServiceIdentifier(Mt,Tt,Et),new Error(ye);case M.BindingCount.OnlyOneBindingAvailable:if(!It.isArray())return Vt;case M.BindingCount.MultipleBindingsAvailable:default:if(It.isArray())return Vt;var Tt=H.getServiceIdentifierAsString(ce),ye=y.AMBIGUOUS_MATCH+" "+Tt;throw ye+=H.listRegisteredBindingsForServiceIdentifier(Mt,Tt,Et),new Error(ye)}}function et(ce,Vt,It,Mt,Tt,ye){var lt,yt;if(Tt===null){lt=I(ce,Vt,Mt,null,ye),yt=new Te.Request(It,Mt,null,lt,ye);var Dt=new oe.Plan(Mt,yt);Mt.addPlan(Dt)}else lt=I(ce,Vt,Mt,Tt,ye),yt=Tt.addChildRequest(ye.serviceIdentifier,lt,ye);lt.forEach(function(Jt){var At=null;if(ye.isArray())At=yt.addChildRequest(Jt.serviceIdentifier,Jt,ye);else{if(Jt.cache)return;At=yt}if(Jt.type===T.BindingTypeEnum.Instance&&Jt.implementationType!==null){var vt=ne.getDependencies(ce,Jt.implementationType);if(!Mt.container.options.skipBaseClassChecks){var ie=ne.getBaseClassDependencyCount(ce,Jt.implementationType);if(vt.length<ie){var J=y.ARGUMENTS_LENGTH_MISMATCH(ne.getFunctionName(Jt.implementationType));throw new Error(J)}}vt.forEach(function(ee){et(ce,!1,ee.serviceIdentifier,Mt,At,ee)})}})}function Et(ce,Vt){var It=[],Mt=ve(ce);return Mt.hasKey(Vt)?It=Mt.get(Vt):ce.parent!==null&&(It=Et(ce.parent,Vt)),It}function We(ce,Vt,It,Mt,Tt,ye,lt,yt){yt===void 0&&(yt=!1);var Dt=new k.Context(Vt),Jt=we(It,Mt,Tt,"",ye,lt);try{return et(ce,yt,Tt,Dt,null,Jt),Dt}catch(At){throw u.isStackOverflowExeption(At)&&Dt.plan&&H.circularDependencyToException(Dt.plan.rootRequest),At}}A.plan=We;function ct(ce,Vt,It,Mt){var Tt=new at.Target(T.TargetTypeEnum.Variable,"",Vt,new Z.Metadata(It,Mt)),ye=new k.Context(ce),lt=new Te.Request(Vt,ye,null,[],Tt);return lt}A.createMockRequest=ct},hGVw:function(ze,A,r){},heNW:function(ze,A){function r(M,y,T){switch(T.length){case 0:return M.call(y);case 1:return M.call(y,T[0]);case 2:return M.call(y,T[0],T[1]);case 3:return M.call(y,T[0],T[1],T[2])}return M.apply(y,T)}ze.exports=r},hgQt:function(ze,A,r){var M=r("Juji"),y=r("4sDh");function T(b,u){return b!=null&&y(b,u,M)}ze.exports=T},hgVy:function(ze,A,r){},hi0z:function(ze,A,r){"use strict";(function(M,y){ze.exports=y()})(this,function(){function M(ne){var Te=[];return ne.AMapUI&&Te.push(y(ne.AMapUI)),ne.Loca&&Te.push(T(ne.Loca)),Promise.all(Te)}function y(ne){return new Promise(function(Te,at){var ve=[];if(ne.plugins)for(var we=0;we<ne.plugins.length;we+=1)u.AMapUI.plugins.indexOf(ne.plugins[we])==-1&&ve.push(ne.plugins[we]);if(H.AMapUI===b.failed)at("\u524D\u6B21\u8BF7\u6C42 AMapUI \u5931\u8D25");else if(H.AMapUI===b.notload){H.AMapUI=b.loading,u.AMapUI.version=ne.version||u.AMapUI.version,we=u.AMapUI.version;var I=document.body||document.head,Ce=document.createElement("script");Ce.type="text/javascript",Ce.src="https://webapi.amap.com/ui/"+we+"/main.js",Ce.onerror=function(et){H.AMapUI=b.failed,at("\u8BF7\u6C42 AMapUI \u5931\u8D25")},Ce.onload=function(){if(H.AMapUI=b.loaded,ve.length)window.AMapUI.loadUI(ve,function(){for(var et=0,Et=ve.length;et<Et;et++){var We=ve[et].split("/").slice(-1)[0];window.AMapUI[We]=arguments[et]}for(Te();k.AMapUI.length;)k.AMapUI.splice(0,1)[0]()});else for(Te();k.AMapUI.length;)k.AMapUI.splice(0,1)[0]()},I.appendChild(Ce)}else H.AMapUI===b.loaded?ne.version&&ne.version!==u.AMapUI.version?at("\u4E0D\u5141\u8BB8\u591A\u4E2A\u7248\u672C AMapUI \u6DF7\u7528"):ve.length?window.AMapUI.loadUI(ve,function(){for(var et=0,Et=ve.length;et<Et;et++){var We=ve[et].split("/").slice(-1)[0];window.AMapUI[We]=arguments[et]}Te()}):Te():ne.version&&ne.version!==u.AMapUI.version?at("\u4E0D\u5141\u8BB8\u591A\u4E2A\u7248\u672C AMapUI \u6DF7\u7528"):k.AMapUI.push(function(et){et?at(et):ve.length?window.AMapUI.loadUI(ve,function(){for(var Et=0,We=ve.length;Et<We;Et++){var ct=ve[Et].split("/").slice(-1)[0];window.AMapUI[ct]=arguments[Et]}Te()}):Te()})})}function T(ne){return new Promise(function(Te,at){if(u.AMap.version.startsWith("2.0"))at("Loca \u6682\u4E0D\u9002\u914D JSAPI 2.0,\u8BF7\u4F7F\u7528 1.4.15");else if(H.Loca===b.failed)at("\u524D\u6B21\u8BF7\u6C42 Loca \u5931\u8D25");else if(H.Loca===b.notload){H.Loca=b.loading,u.Loca.version=ne.version||u.Loca.version;var ve=u.Loca.version,we=u.key,I=document.body||document.head,Ce=document.createElement("script");Ce.type="text/javascript",Ce.src="https://webapi.amap.com/loca?v="+ve+"&key="+we,Ce.onerror=function(et){H.Loca=b.failed,at("\u8BF7\u6C42 AMapUI \u5931\u8D25")},Ce.onload=function(){for(H.Loca=b.loaded,Te();k.Loca.length;)k.Loca.splice(0,1)[0]()},I.appendChild(Ce)}else H.Loca===b.loaded?ne.version&&ne.version!==u.Loca.version?at("\u4E0D\u5141\u8BB8\u591A\u4E2A\u7248\u672C Loca \u6DF7\u7528"):Te():ne.version&&ne.version!==u.Loca.version?at("\u4E0D\u5141\u8BB8\u591A\u4E2A\u7248\u672C Loca \u6DF7\u7528"):k.Loca.push(function(et){et?at(et):at()})})}if(!window)throw Error("AMap JSAPI can only be used in Browser.");var b;(function(ne){ne.notload="notload",ne.loading="loading",ne.loaded="loaded",ne.failed="failed"})(b||(b={}));var u={key:"",AMap:{version:"1.4.15",plugins:[]},AMapUI:{version:"1.1",plugins:[]},Loca:{version:"1.3.2"}},H={AMap:b.notload,AMapUI:b.notload,Loca:b.notload},k={AMap:[],AMapUI:[],Loca:[]},Z=[],oe=function(Te){typeof Te=="function"&&(H.AMap===b.loaded?Te(window.AMap):Z.push(Te))};return{load:function(Te){return new Promise(function(at,ve){if(H.AMap==b.failed)ve("");else if(H.AMap==b.notload){var we=Te.key,I=Te.version,Ce=Te.plugins;we?(window.AMap&&location.host!=="lbs.amap.com"&&ve("\u7981\u6B62\u591A\u79CDAPI\u52A0\u8F7D\u65B9\u5F0F\u6DF7\u7528"),u.key=we,u.AMap.version=I||u.AMap.version,u.AMap.plugins=Ce||u.AMap.plugins,H.AMap=b.loading,I=document.body||document.head,window.___onAPILoaded=function(Et){if(delete window.___onAPILoaded,Et)H.AMap=b.failed,ve(Et);else for(H.AMap=b.loaded,M(Te).then(function(){at(window.AMap)}).catch(ve);Z.length;)Z.splice(0,1)[0]()},Ce=document.createElement("script"),Ce.type="text/javascript",Ce.src="https://webapi.amap.com/maps?callback=___onAPILoaded&v="+u.AMap.version+"&key="+we+"&plugin="+u.AMap.plugins.join(","),Ce.onerror=function(Et){H.AMap=b.failed,ve(Et)},I.appendChild(Ce)):ve("\u8BF7\u586B\u5199key")}else if(H.AMap==b.loaded)if(Te.key&&Te.key!==u.key)ve("\u591A\u4E2A\u4E0D\u4E00\u81F4\u7684 key");else if(Te.version&&Te.version!==u.AMap.version)ve("\u4E0D\u5141\u8BB8\u591A\u4E2A\u7248\u672C JSAPI \u6DF7\u7528");else{if(we=[],Te.plugins)for(I=0;I<Te.plugins.length;I+=1)u.AMap.plugins.indexOf(Te.plugins[I])==-1&&we.push(Te.plugins[I]);we.length?window.AMap.plugin(we,function(){M(Te).then(function(){at(window.AMap)}).catch(ve)}):M(Te).then(function(){at(window.AMap)}).catch(ve)}else if(Te.key&&Te.key!==u.key)ve("\u591A\u4E2A\u4E0D\u4E00\u81F4\u7684 key");else if(Te.version&&Te.version!==u.AMap.version)ve("\u4E0D\u5141\u8BB8\u591A\u4E2A\u7248\u672C JSAPI \u6DF7\u7528");else{var et=[];if(Te.plugins)for(I=0;I<Te.plugins.length;I+=1)u.AMap.plugins.indexOf(Te.plugins[I])==-1&&et.push(Te.plugins[I]);oe(function(){et.length?window.AMap.plugin(et,function(){M(Te).then(function(){at(window.AMap)}).catch(ve)}):M(Te).then(function(){at(window.AMap)}).catch(ve)})}})},reset:function(){delete window.AMap,delete window.AMapUI,delete window.Loca,u={key:"",AMap:{version:"1.4.15",plugins:[]},AMapUI:{version:"1.1",plugins:[]},Loca:{version:"1.3.2"}},H={AMap:b.notload,AMapUI:b.notload,Loca:b.notload},k={AMap:[],AMapUI:[],Loca:[]}}}})},hkKa:function(ze,A,r){"use strict";r.d(A,"a",function(){return b});var M=r("ODXe"),y=r("q1tI"),T=r.n(y);function b(){var u=y.useReducer(function(Z){return Z+1},0),H=Object(M.a)(u,2),k=H[1];return k}},hprd:function(ze,A,r){},hypo:function(ze,A,r){var M=r("O0oS");function y(T,b,u){b=="__proto__"&&M?M(T,b,{configurable:!0,enumerable:!0,value:u,writable:!0}):T[b]=u}ze.exports=y},hzQT:function(ze,A,r){"use strict";var M=r("wx14"),y=r("ODXe"),T=r("q1tI"),b=r("1W/9"),u=r("VTBJ"),H=r("TSYQ"),k=r.n(H),Z=r("4IlW"),oe=r("l4aY"),ne=r("bX4T"),Te=r("8XRh");function at(ye){var lt=ye.prefixCls,yt=ye.style,Dt=ye.visible,Jt=ye.maskProps,At=ye.motionName;return T.createElement(Te.b,{key:"mask",visible:Dt,motionName:At,leavedClassName:"".concat(lt,"-mask-hidden")},function(vt){var ie=vt.className,J=vt.style;return T.createElement("div",Object(M.a)({style:Object(u.a)(Object(u.a)({},J),yt),className:k()("".concat(lt,"-mask"),ie)},Jt))})}function ve(ye,lt,yt){var Dt=lt;return!Dt&&yt&&(Dt="".concat(ye,"-").concat(yt)),Dt}var we=-1;function I(){return we+=1,we}function Ce(ye,lt){var yt=ye["page".concat(lt?"Y":"X","Offset")],Dt="scroll".concat(lt?"Top":"Left");if(typeof yt!="number"){var Jt=ye.document;yt=Jt.documentElement[Dt],typeof yt!="number"&&(yt=Jt.body[Dt])}return yt}function et(ye){var lt=ye.getBoundingClientRect(),yt={left:lt.left,top:lt.top},Dt=ye.ownerDocument,Jt=Dt.defaultView||Dt.parentWindow;return yt.left+=Ce(Jt),yt.top+=Ce(Jt,!0),yt}var Et=T.memo(function(ye){var lt=ye.children;return lt},function(ye,lt){var yt=lt.shouldUpdate;return!yt}),We={width:0,height:0,overflow:"hidden",outline:"none"},ct=T.forwardRef(function(ye,lt){var yt=ye.closable,Dt=ye.prefixCls,Jt=ye.width,At=ye.height,vt=ye.footer,ie=ye.title,J=ye.closeIcon,ee=ye.style,Ie=ye.className,me=ye.visible,Ve=ye.forceRender,Re=ye.bodyStyle,bt=ye.bodyProps,Pt=ye.children,ht=ye.destroyOnClose,Ye=ye.modalRender,Ke=ye.motionName,nt=ye.ariaId,Ot=ye.onClose,Xe=ye.onVisibleChanged,xt=ye.onMouseDown,Ne=ye.onMouseUp,B=ye.mousePosition,z=Object(T.useRef)(),q=Object(T.useRef)(),S=Object(T.useRef)();T.useImperativeHandle(lt,function(){return{focus:function(){var Be;(Be=z.current)===null||Be===void 0||Be.focus()},changeActive:function(Be){var Nt=document,kt=Nt.activeElement;Be&&kt===q.current?z.current.focus():!Be&&kt===z.current&&q.current.focus()}}});var K=T.useState(),fe=Object(y.a)(K,2),Fe=fe[0],pe=fe[1],Me={};Jt!==void 0&&(Me.width=Jt),At!==void 0&&(Me.height=At),Fe&&(Me.transformOrigin=Fe);function U(){var Ge=et(S.current);pe(B?"".concat(B.x-Ge.left,"px ").concat(B.y-Ge.top,"px"):"")}var le;vt&&(le=T.createElement("div",{className:"".concat(Dt,"-footer")},vt));var Le;ie&&(Le=T.createElement("div",{className:"".concat(Dt,"-header")},T.createElement("div",{className:"".concat(Dt,"-title"),id:nt},ie)));var ot;yt&&(ot=T.createElement("button",{type:"button",onClick:Ot,"aria-label":"Close",className:"".concat(Dt,"-close")},J||T.createElement("span",{className:"".concat(Dt,"-close-x")})));var St=T.createElement("div",{className:"".concat(Dt,"-content")},ot,Le,T.createElement("div",Object(M.a)({className:"".concat(Dt,"-body"),style:Re},bt),Pt),le);return T.createElement(Te.b,{visible:me,onVisibleChanged:Xe,onAppearPrepare:U,onEnterPrepare:U,forceRender:Ve,motionName:Ke,removeOnLeave:ht,ref:S},function(Ge,Be){var Nt=Ge.className,kt=Ge.style;return T.createElement("div",{key:"dialog-element",role:"document",ref:Be,style:Object(u.a)(Object(u.a)(Object(u.a)({},kt),ee),Me),className:k()(Dt,Ie,Nt),onMouseDown:xt,onMouseUp:Ne},T.createElement("div",{tabIndex:0,ref:z,style:We,"aria-hidden":"true"}),T.createElement(Et,{shouldUpdate:me||Ve},Ye?Ye(St):St),T.createElement("div",{tabIndex:0,ref:q,style:We,"aria-hidden":"true"}))})});ct.displayName="Content";var ce=ct;function Vt(ye){var lt=ye.prefixCls,yt=lt===void 0?"rc-dialog":lt,Dt=ye.zIndex,Jt=ye.visible,At=Jt===void 0?!1:Jt,vt=ye.keyboard,ie=vt===void 0?!0:vt,J=ye.focusTriggerAfterClose,ee=J===void 0?!0:J,Ie=ye.scrollLocker,me=ye.title,Ve=ye.wrapStyle,Re=ye.wrapClassName,bt=ye.wrapProps,Pt=ye.onClose,ht=ye.afterClose,Ye=ye.transitionName,Ke=ye.animation,nt=ye.closable,Ot=nt===void 0?!0:nt,Xe=ye.mask,xt=Xe===void 0?!0:Xe,Ne=ye.maskTransitionName,B=ye.maskAnimation,z=ye.maskClosable,q=z===void 0?!0:z,S=ye.maskStyle,K=ye.maskProps,fe=Object(T.useRef)(),Fe=Object(T.useRef)(),pe=Object(T.useRef)(),Me=T.useState(At),U=Object(y.a)(Me,2),le=U[0],Le=U[1],ot=Object(T.useRef)();ot.current||(ot.current="rcDialogTitle".concat(I()));function St(Qt){if(Qt){if(!Object(oe.a)(Fe.current,document.activeElement)){var ar;fe.current=document.activeElement,(ar=pe.current)===null||ar===void 0||ar.focus()}}else{if(Le(!1),xt&&fe.current&&ee){try{fe.current.focus({preventScroll:!0})}catch(zr){}fe.current=null}le&&(ht==null||ht())}}function Ge(Qt){Pt==null||Pt(Qt)}var Be=Object(T.useRef)(!1),Nt=Object(T.useRef)(),kt=function(){clearTimeout(Nt.current),Be.current=!0},ft=function(){Nt.current=setTimeout(function(){Be.current=!1})},ut=null;q&&(ut=function(ar){Be.current?Be.current=!1:Fe.current===ar.target&&Ge(ar)});function Ze(Qt){if(ie&&Qt.keyCode===Z.a.ESC){Qt.stopPropagation(),Ge(Qt);return}At&&Qt.keyCode===Z.a.TAB&&pe.current.changeActive(!Qt.shiftKey)}return Object(T.useEffect)(function(){return At&&Le(!0),function(){}},[At]),Object(T.useEffect)(function(){return function(){clearTimeout(Nt.current)}},[]),Object(T.useEffect)(function(){return le?(Ie==null||Ie.lock(),Ie==null?void 0:Ie.unLock):function(){}},[le,Ie]),T.createElement("div",Object(M.a)({className:"".concat(yt,"-root")},Object(ne.a)(ye,{data:!0})),T.createElement(at,{prefixCls:yt,visible:xt&&At,motionName:ve(yt,Ne,B),style:Object(u.a)({zIndex:Dt},S),maskProps:K}),T.createElement("div",Object(M.a)({tabIndex:-1,onKeyDown:Ze,className:k()("".concat(yt,"-wrap"),Re),ref:Fe,onClick:ut,role:"dialog","aria-labelledby":me?ot.current:null,style:Object(u.a)(Object(u.a)({zIndex:Dt},Ve),{},{display:le?null:"none"})},bt),T.createElement(ce,Object(M.a)({},ye,{onMouseDown:kt,onMouseUp:ft,ref:pe,closable:Ot,ariaId:ot.current,prefixCls:yt,visible:At,onClose:Ge,onVisibleChanged:St,motionName:ve(yt,Ye,Ke)}))))}var It=function(lt){var yt=lt.visible,Dt=lt.getContainer,Jt=lt.forceRender,At=lt.destroyOnClose,vt=At===void 0?!1:At,ie=lt.afterClose,J=T.useState(yt),ee=Object(y.a)(J,2),Ie=ee[0],me=ee[1];return T.useEffect(function(){yt&&me(!0)},[yt]),Dt===!1?T.createElement(Vt,Object(M.a)({},lt,{getOpenCount:function(){return 2}})):!Jt&&vt&&!Ie?null:T.createElement(b.a,{visible:yt,forceRender:Jt,getContainer:Dt},function(Ve){return T.createElement(Vt,Object(M.a)({},lt,{destroyOnClose:vt,afterClose:function(){ie==null||ie(),me(!1)}},Ve))})};It.displayName="Dialog";var Mt=It,Tt=A.a=Mt},iGn7:function(ze,A,r){"use strict";var M=r("GNNt"),y=r("wEI+"),T=r("q1tI"),b=r.n(T),u=r("4i/N"),H=r("8Skl"),k=r("TSYQ"),Z=r.n(k),oe=r("LQCs"),ne=r("pAY0"),Te=r.n(ne);function at(we,I,Ce){return I in we?Object.defineProperty(we,I,{value:Ce,enumerable:!0,configurable:!0,writable:!0}):we[I]=Ce,we}var ve=function(I){var Ce,et=I.label,Et=I.onClear,We=I.value,ct=I.size,ce=ct===void 0?"middle":ct,Vt=I.disabled,It=I.ellipsis,Mt=I.placeholder,Tt=I.className,ye=I.style,lt=I.formatter,yt=I.bordered,Dt=I.allowClear,Jt=Dt===void 0?!0:Dt,At=Object(T.useContext)(y.b.ConfigContext),vt=At.getPrefixCls,ie=vt("pro-core-field-label"),J=Object(oe.d)(),ee=function(Ve){return lt?lt(Ve):Array.isArray(Ve)?Ve.join(","):String(Ve)},Ie=function(Ve,Re){if(Re!=null&&Re!==""&&(!Array.isArray(Re)||Re.length)){var bt=Ve?b.a.createElement(b.a.Fragment,null,Ve,": "):"",Pt=ee(Re);if(!It)return b.a.createElement("span",null,bt,ee(Re));var ht=function(){var nt=Array.isArray(Re)&&Re.length>1,Ot=J.getMessage("form.lightFilter.itemUnit","\u9879");return Pt.length>32&&nt?"...".concat(Re.length).concat(Ot):""},Ye=ht();return b.a.createElement("span",{title:Pt},bt,Pt==null?void 0:Pt.substr(0,32),Ye)}return Ve||Mt};return b.a.createElement("span",{className:Z()(ie,"".concat(ie,"-").concat(ce),(Ce={},at(Ce,"".concat(ie,"-active"),!!We||We===0),at(Ce,"".concat(ie,"-disabled"),Vt),at(Ce,"".concat(ie,"-bordered"),yt),at(Ce,"".concat(ie,"-allow-clear"),Jt),Ce),Tt),style:ye},Ie(et,We),(We||We===0)&&Jt&&b.a.createElement(u.a,{className:Z()("".concat(ie,"-icon"),"".concat(ie,"-close")),onClick:function(Ve){Et&&!Vt&&Et(),Ve.stopPropagation()}}),b.a.createElement(H.a,{className:Z()("".concat(ie,"-icon"),"".concat(ie,"-arrow"))}))};A.a=ve},iOmF:function(ze,A,r){"use strict";var M=r("y8nQ"),y=r("Vl3Y"),T=r("GNNt"),b=r("wEI+"),u=r("q1tI"),H=r.n(u),k=r("TSYQ"),Z=r.n(k),oe=r("iGn7"),ne=r("JtZC"),Te=r("LQCs"),at=r("VTBJ"),ve={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M880.1 154H143.9c-24.5 0-39.8 26.7-27.5 48L349 597.4V838c0 17.7 14.2 32 31.8 32h262.4c17.6 0 31.8-14.3 31.8-32V597.4L907.7 202c12.2-21.3-3.1-48-27.6-48zM603.4 798H420.6V642h182.9v156zm9.6-236.6l-9.5 16.6h-183l-9.5-16.6L212.7 226h598.6L613 561.4z"}}]},name:"filter",theme:"outlined"},we=ve,I=r("6VBw"),Ce=function(Ve,Re){return u.createElement(I.a,Object(at.a)(Object(at.a)({},Ve),{},{ref:Re,icon:we}))};Ce.displayName="FilterOutlined";var et=u.forwardRef(Ce),Et=r("BGR+"),We=r("b1eo"),ct=r("JF8p"),ce=["size","collapse","collapseLabel","initialValues","onValuesChange","form","bordered","ignoreRules","footerRender"];function Vt(){return Vt=Object.assign||function(me){for(var Ve=1;Ve<arguments.length;Ve++){var Re=arguments[Ve];for(var bt in Re)Object.prototype.hasOwnProperty.call(Re,bt)&&(me[bt]=Re[bt])}return me},Vt.apply(this,arguments)}function It(me,Ve){if(me==null)return{};var Re=Mt(me,Ve),bt,Pt;if(Object.getOwnPropertySymbols){var ht=Object.getOwnPropertySymbols(me);for(Pt=0;Pt<ht.length;Pt++)bt=ht[Pt],!(Ve.indexOf(bt)>=0)&&(!Object.prototype.propertyIsEnumerable.call(me,bt)||(Re[bt]=me[bt]))}return Re}function Mt(me,Ve){if(me==null)return{};var Re={},bt=Object.keys(me),Pt,ht;for(ht=0;ht<bt.length;ht++)Pt=bt[ht],!(Ve.indexOf(Pt)>=0)&&(Re[Pt]=me[Pt]);return Re}function Tt(me,Ve){var Re=Object.keys(me);if(Object.getOwnPropertySymbols){var bt=Object.getOwnPropertySymbols(me);Ve&&(bt=bt.filter(function(Pt){return Object.getOwnPropertyDescriptor(me,Pt).enumerable})),Re.push.apply(Re,bt)}return Re}function ye(me){for(var Ve=1;Ve<arguments.length;Ve++){var Re=arguments[Ve]!=null?arguments[Ve]:{};Ve%2?Tt(Object(Re),!0).forEach(function(bt){lt(me,bt,Re[bt])}):Object.getOwnPropertyDescriptors?Object.defineProperties(me,Object.getOwnPropertyDescriptors(Re)):Tt(Object(Re)).forEach(function(bt){Object.defineProperty(me,bt,Object.getOwnPropertyDescriptor(Re,bt))})}return me}function lt(me,Ve,Re){return Ve in me?Object.defineProperty(me,Ve,{value:Re,enumerable:!0,configurable:!0,writable:!0}):me[Ve]=Re,me}function yt(me,Ve){return ie(me)||vt(me,Ve)||Jt(me,Ve)||Dt()}function Dt(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Jt(me,Ve){if(!!me){if(typeof me=="string")return At(me,Ve);var Re=Object.prototype.toString.call(me).slice(8,-1);if(Re==="Object"&&me.constructor&&(Re=me.constructor.name),Re==="Map"||Re==="Set")return Array.from(me);if(Re==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(Re))return At(me,Ve)}}function At(me,Ve){(Ve==null||Ve>me.length)&&(Ve=me.length);for(var Re=0,bt=new Array(Ve);Re<Ve;Re++)bt[Re]=me[Re];return bt}function vt(me,Ve){var Re=me==null?null:typeof Symbol!="undefined"&&me[Symbol.iterator]||me["@@iterator"];if(Re!=null){var bt=[],Pt=!0,ht=!1,Ye,Ke;try{for(Re=Re.call(me);!(Pt=(Ye=Re.next()).done)&&(bt.push(Ye.value),!(Ve&&bt.length===Ve));Pt=!0);}catch(nt){ht=!0,Ke=nt}finally{try{!Pt&&Re.return!=null&&Re.return()}finally{if(ht)throw Ke}}return bt}}function ie(me){if(Array.isArray(me))return me}var J=function(Ve){var Re=Ve.items,bt=Ve.prefixCls,Pt=Ve.size,ht=Pt===void 0?"middle":Pt,Ye=Ve.collapse,Ke=Ve.collapseLabel,nt=Ve.onValuesChange,Ot=Ve.bordered,Xe=Ve.values,xt=Xe===void 0?{}:Xe,Ne=Ve.footerRender,B=Object(Te.d)(),z="".concat(bt,"-light-filter"),q=Object(u.useState)(!1),S=yt(q,2),K=S[0],fe=S[1],Fe=Object(u.useState)(function(){return ye({},xt)}),pe=yt(Fe,2),Me=pe[0],U=pe[1];Object(u.useEffect)(function(){U(ye({},xt))},[xt]);var le=Object(u.useMemo)(function(){var Ge=[],Be=[];return Re.forEach(function(Nt){var kt=Nt.props||{},ft=kt.secondary;ft||Ye?Ge.push(Nt):Be.push(Nt)}),{collapseItems:Ge,outsideItems:Be}},[Ve.items.length]),Le=le.collapseItems,ot=le.outsideItems,St=function(){return Ke||(Ye?H.a.createElement(et,{className:"".concat(z,"-collapse-icon")}):H.a.createElement(oe.a,{size:ht,label:B.getMessage("form.lightFilter.more","\u66F4\u591A\u7B5B\u9009"),expanded:K}))};return H.a.createElement("div",{className:Z()(z,"".concat(z,"-").concat(ht),lt({},"".concat(z,"-effective"),Object.keys(xt).some(function(Ge){return xt[Ge]})))},H.a.createElement("div",{className:"".concat(z,"-container")},ot.map(function(Ge,Be){var Nt=Ge.key;return H.a.createElement("div",{className:"".concat(z,"-item"),key:Nt||Be},H.a.cloneElement(Ge,{proFieldProps:{light:!0,label:Ge.props.label,bordered:Ot},bordered:Ot}))}),Le.length?H.a.createElement("div",{className:"".concat(z,"-item"),key:"more"},H.a.createElement(ne.a,{padding:24,onVisibleChange:fe,visible:K,label:St(),footerRender:Ne,footer:{onConfirm:function(){nt(ye({},Me)),fe(!1)},onClear:function(){var Be={};Le.forEach(function(Nt){var kt=Nt.props.name;Be[kt]=void 0}),nt(Be)}}},Le.map(function(Ge){var Be=Ge.key,Nt=Ge.props,kt=Nt.name,ft=Nt.fieldProps,ut=ye(ye({},ft),{},{onChange:function(Qt){return U(ye(ye({},Me),{},lt({},kt,(Qt==null?void 0:Qt.target)?Qt.target.value:Qt))),!1}});return Me.hasOwnProperty(kt)&&(ut[Ge.props.valuePropName||"value"]=Me[kt]),H.a.createElement("div",{className:"".concat(z,"-line"),key:Be},H.a.cloneElement(Ge,{fieldProps:ut}))}))):null))};function ee(me){var Ve=me.size,Re=me.collapse,bt=me.collapseLabel,Pt=me.initialValues,ht=me.onValuesChange,Ye=me.form,Ke=me.bordered,nt=me.ignoreRules,Ot=me.footerRender,Xe=It(me,ce),xt=Object(u.useContext)(b.b.ConfigContext),Ne=xt.getPrefixCls,B=Ne("pro-form"),z=y.a.useForm(),q=yt(z,1),S=q[0],K=Ye||S,fe=Object(u.useState)(function(){return ye({},Pt)}),Fe=yt(fe,2),pe=Fe[0],Me=Fe[1];return H.a.createElement(We.a,Vt({size:Ve,initialValues:Pt,form:K,contentRender:function(le){return H.a.createElement(J,{prefixCls:B,items:le.flatMap(function(Le){return(Le==null?void 0:Le.type.displayName)==="ProForm-Group"?Le.props.children:Le}),size:Ve,bordered:Ke,collapse:Re,collapseLabel:bt,values:pe,footerRender:Ot,onValuesChange:function(ot){var St=ye(ye({},pe),ot);Me(St),K.setFieldsValue(St),K.submit(),ht&&ht(ot,St)}})},formItemProps:{colon:!1,labelAlign:"left"},fieldProps:{style:{width:void 0}}},Object(Et.a)(Xe,["labelWidth"]),{onValuesChange:function(le,Le){Me(Le),ht&&ht(le,Le),K.submit()}}))}var Ie=A.a=ee},iWIM:function(ze,A,r){var M=r("n3AX");function y(T,b,u){return typeof Reflect!="undefined"&&Reflect.get?(ze.exports=y=Reflect.get,ze.exports.default=ze.exports,ze.exports.__esModule=!0):(ze.exports=y=function(k,Z,oe){var ne=M(k,Z);if(!!ne){var Te=Object.getOwnPropertyDescriptor(ne,Z);return Te.get?Te.get.call(oe):Te.value}},ze.exports.default=ze.exports,ze.exports.__esModule=!0),y(T,b,u||T)}ze.exports=y,ze.exports.default=ze.exports,ze.exports.__esModule=!0},iegG:function(ze,A){function r(y){var T=y.target||y.srcElement;T.__resizeRAF__&&cancelAnimationFrame(T.__resizeRAF__),T.__resizeRAF__=requestAnimationFrame(function(){var b=T.__resizeTrigger__,u=b&&b.__resizeListeners__;u&&u.forEach(function(H){H.call(b,y)})})}var M=function(T,b){var u=this,H=u.document,k,Z=H.attachEvent;typeof navigator!="undefined"&&(k=navigator.userAgent.match(/Trident/)||navigator.userAgent.match(/Edge/));function oe(){this.contentDocument.defaultView.__resizeTrigger__=this.__resizeElement__,this.contentDocument.defaultView.addEventListener("resize",r)}if(!T.__resizeListeners__)if(T.__resizeListeners__=[],Z)T.__resizeTrigger__=T,T.attachEvent("onresize",r);else{getComputedStyle(T).position==="static"&&(T.style.position="relative");var ne=T.__resizeTrigger__=H.createElement("object");ne.setAttribute("style","position: absolute; top: 0; left: 0; height: 100%; width: 100%; pointer-events: none; z-index: -1; opacity: 0;"),ne.setAttribute("class","resize-sensor"),ne.setAttribute("tabindex","-1"),ne.setAttribute("title",""),ne.__resizeElement__=T,ne.onload=oe,ne.type="text/html",k&&T.appendChild(ne),ne.data="about:blank",k||T.appendChild(ne)}T.__resizeListeners__.push(b)};ze.exports=typeof window=="undefined"?M:M.bind(window),ze.exports.unbind=function(y,T){var b=document.attachEvent,u=y.__resizeListeners__||[];if(T){var H=u.indexOf(T);H!==-1&&u.splice(H,1)}else u=y.__resizeListeners__=[];if(!u.length){if(b)y.detachEvent("onresize",r);else if(y.__resizeTrigger__){var k=y.__resizeTrigger__.contentDocument,Z=k&&k.defaultView;Z&&(Z.removeEventListener("resize",r),delete Z.__resizeTrigger__),y.__resizeTrigger__=!y.removeChild(y.__resizeTrigger__)}delete y.__resizeListeners__}}},ipCM:function(ze,A,r){"use strict";function M(H,k){var Z=typeof Symbol!="undefined"&&H[Symbol.iterator]||H["@@iterator"];if(!Z){if(Array.isArray(H)||(Z=y(H))||k&&H&&typeof H.length=="number"){Z&&(H=Z);var oe=0,ne=function(){};return{s:ne,n:function(){return oe>=H.length?{done:!0}:{done:!1,value:H[oe++]}},e:function(I){throw I},f:ne}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var Te=!0,at=!1,ve;return{s:function(){Z=Z.call(H)},n:function(){var I=Z.next();return Te=I.done,I},e:function(I){at=!0,ve=I},f:function(){try{!Te&&Z.return!=null&&Z.return()}finally{if(at)throw ve}}}}function y(H,k){if(!!H){if(typeof H=="string")return T(H,k);var Z=Object.prototype.toString.call(H).slice(8,-1);if(Z==="Object"&&H.constructor&&(Z=H.constructor.name),Z==="Map"||Z==="Set")return Array.from(H);if(Z==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(Z))return T(H,k)}}function T(H,k){(k==null||k>H.length)&&(k=H.length);for(var Z=0,oe=new Array(k);Z<k;Z++)oe[Z]=H[Z];return oe}function b(H){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?b=function(Z){return typeof Z}:b=function(Z){return Z&&typeof Symbol=="function"&&Z.constructor===Symbol&&Z!==Symbol.prototype?"symbol":typeof Z},b(H)}function u(H,k){if(H===k)return!0;if(H&&k&&b(H)==="object"&&b(k)==="object"){if(H.constructor!==k.constructor)return!1;var Z,oe,ne;if(Array.isArray(H)){if(Z=H.length,Z!=k.length)return!1;for(oe=Z;oe--!=0;)if(!u(H[oe],k[oe]))return!1;return!0}if(H instanceof Map&&k instanceof Map){if(H.size!==k.size)return!1;var Te=M(H.entries()),at;try{for(Te.s();!(at=Te.n()).done;)if(oe=at.value,!k.has(oe[0]))return!1}catch(Et){Te.e(Et)}finally{Te.f()}var ve=M(H.entries()),we;try{for(ve.s();!(we=ve.n()).done;)if(oe=we.value,!u(oe[1],k.get(oe[0])))return!1}catch(Et){ve.e(Et)}finally{ve.f()}return!0}if(H instanceof Set&&k instanceof Set){if(H.size!==k.size)return!1;var I=M(H.entries()),Ce;try{for(I.s();!(Ce=I.n()).done;)if(oe=Ce.value,!k.has(oe[0]))return!1}catch(Et){I.e(Et)}finally{I.f()}return!0}if(ArrayBuffer.isView(H)&&ArrayBuffer.isView(k)){if(Z=H.length,Z!=k.length)return!1;for(oe=Z;oe--!=0;)if(H[oe]!==k[oe])return!1;return!0}if(H.constructor===RegExp)return H.source===k.source&&H.flags===k.flags;if(H.valueOf!==Object.prototype.valueOf)return H.valueOf()===k.valueOf();if(H.toString!==Object.prototype.toString)return H.toString()===k.toString();if(ne=Object.keys(H),Z=ne.length,Z!==Object.keys(k).length)return!1;for(oe=Z;oe--!=0;)if(!Object.prototype.hasOwnProperty.call(k,ne[oe]))return!1;for(oe=Z;oe--!=0;){var et=ne[oe];if(!(et==="_owner"&&H.$$typeof)&&!u(H[et],k[et]))return!1}return!0}return H!==H&&k!==k}A.a=u},itsj:function(ze,A){function r(M,y){if(!(y==="constructor"&&typeof M[y]=="function")&&y!="__proto__")return M[y]}ze.exports=r},"jIg/":function(ze,A,r){"use strict";Object.defineProperty(A,"__esModule",{value:!0}),A.multiInject=void 0;var M=r("xfSm"),y=r("GXnB"),T=r("Ztfv");function b(u){return function(H,k,Z){var oe=new y.Metadata(M.MULTI_INJECT_TAG,u);typeof Z=="number"?T.tagParameter(H,k,Z,oe):T.tagProperty(H,k,oe)}}A.multiInject=b},jYx5:function(ze,A,r){"use strict";Object.defineProperty(A,"__esModule",{value:!0}),A.optional=void 0;var M=r("xfSm"),y=r("GXnB"),T=r("Ztfv");function b(){return function(u,H,k){var Z=new y.Metadata(M.OPTIONAL_TAG,!0);typeof k=="number"?T.tagParameter(u,H,k,Z):T.tagProperty(u,H,Z)}}A.optional=b},"jbM+":function(ze,A,r){var M=r("R/W3");function y(T,b){var u=T==null?0:T.length;return!!u&&M(T,b,0)>-1}ze.exports=y},jeLo:function(ze,A,r){var M=r("juv8"),y=r("mTTR");function T(b){return M(b,y(b))}ze.exports=T},jkmW:function(ze,A,r){},juv8:function(ze,A,r){var M=r("MrPd"),y=r("hypo");function T(b,u,H,k){var Z=!H;H||(H={});for(var oe=-1,ne=u.length;++oe<ne;){var Te=u[oe],at=k?k(H[Te],b[Te],Te,H,b):void 0;at===void 0&&(at=b[Te]),Z?y(H,Te,at):M(H,Te,at)}return H}ze.exports=T},"k5/I":function(ze,A,r){"use strict";r.d(A,"a",function(){return It}),r.d(A,"c",function(){return Dt}),r.d(A,"f",function(){return vt}),r.d(A,"g",function(){return ee}),r.d(A,"b",function(){return ye}),r.d(A,"d",function(){return bt}),r.d(A,"e",function(){return K});var M=r("lwsE"),y=r.n(M),T=r("W8MJ"),b=r.n(T),u=r("PJYZ"),H=r.n(u),k=r("7W2i"),Z=r.n(k),oe=r("a1gu"),ne=r.n(oe),Te=r("Nsbk"),at=r.n(Te),ve=r("lSNA"),we=r.n(ve),I=r("h1nZ"),Ce=r("Hel2"),et=r("uhBA");function Et(Fe,pe){var Me=Object.keys(Fe);if(Object.getOwnPropertySymbols){var U=Object.getOwnPropertySymbols(Fe);pe&&(U=U.filter(function(le){return Object.getOwnPropertyDescriptor(Fe,le).enumerable})),Me.push.apply(Me,U)}return Me}function We(Fe){for(var pe=1;pe<arguments.length;pe++){var Me=arguments[pe]!=null?arguments[pe]:{};pe%2?Et(Object(Me),!0).forEach(function(U){we()(Fe,U,Me[U])}):Object.getOwnPropertyDescriptors?Object.defineProperties(Fe,Object.getOwnPropertyDescriptors(Me)):Et(Object(Me)).forEach(function(U){Object.defineProperty(Fe,U,Object.getOwnPropertyDescriptor(Me,U))})}return Fe}function ct(Fe){var pe=ce();return function(){var U=at()(Fe),le;if(pe){var Le=at()(this).constructor;le=Reflect.construct(U,arguments,Le)}else le=U.apply(this,arguments);return ne()(this,le)}}function ce(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(Fe){return!1}}var Vt=0,It=function(Fe){Z()(Me,Fe);var pe=ct(Me);function Me(U){var le;return y()(this,Me),le=pe.call(this),we()(H()(le),"controlOption",void 0),we()(H()(le),"container",void 0),we()(H()(le),"sceneContainer",void 0),we()(H()(le),"mapsService",void 0),we()(H()(le),"renderService",void 0),we()(H()(le),"layerService",void 0),we()(H()(le),"controlService",void 0),we()(H()(le),"isShow",void 0),le.controlOption=We(We({},le.getDefault()),U||{}),le}return b()(Me,[{key:"getDefault",value:function(){return{position:I.PositionType.TOPRIGHT,name:"".concat(Vt++)}}},{key:"setPosition",value:function(){var le=arguments.length>0&&arguments[0]!==void 0?arguments[0]:I.PositionType.BOTTOMRIGHT,Le=this.controlService;return Le&&Le.removeControl(this),this.controlOption.position=le,Le&&Le.addControl(this,this.sceneContainer),this}},{key:"addTo",value:function(le){this.mapsService=le.get(I.TYPES.IMapService),this.renderService=le.get(I.TYPES.IRendererService),this.layerService=le.get(I.TYPES.ILayerService),this.controlService=le.get(I.TYPES.IControlService),this.sceneContainer=le,this.isShow=!0,this.container=this.onAdd();var Le=this.container,ot=this.controlOption.position,St=this.controlService.controlCorners[ot];return Ce.a.addClass(Le,"l7-control"),ot.indexOf("bottom")!==-1?St.insertBefore(Le,St.firstChild):St.appendChild(Le),this}},{key:"onAdd",value:function(){throw new Error("Method not implemented.")}},{key:"onRemove",value:function(){throw new Error("Method not implemented.")}},{key:"hide",value:function(){var le=this.container;Ce.a.addClass(le,"l7-control-hide"),this.isShow=!1}},{key:"show",value:function(){var le=this.container;Ce.a.removeClass(le,"l7-control-hide"),this.isShow=!0}},{key:"remove",value:function(){if(!this.mapsService)return this;Ce.a.remove(this.container),this.onRemove()}},{key:"_refocusOnMap",value:function(le){if(this.mapsService&&le&&le.screenX>0&&le.screenY>0){var Le=this.mapsService.getContainer();Le!==null&&Le.focus()}}}]),Me}(et.EventEmitter);function Mt(Fe){var pe=Tt();return function(){var U=at()(Fe),le;if(pe){var Le=at()(this).constructor;le=Reflect.construct(U,arguments,Le)}else le=U.apply(this,arguments);return ne()(this,le)}}function Tt(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(Fe){return!1}}var ye=function(Fe){Z()(Me,Fe);var pe=Mt(Me);function Me(U){var le;return y()(this,Me),le=pe.call(this,U),we()(H()(le),"layerControlInputs",void 0),we()(H()(le),"layers",void 0),we()(H()(le),"lastZIndex",void 0),we()(H()(le),"handlingClick",void 0),we()(H()(le),"layersLink",void 0),we()(H()(le),"baseLayersList",void 0),we()(H()(le),"separator",void 0),we()(H()(le),"overlaysList",void 0),we()(H()(le),"form",void 0),le.layerControlInputs=[],le.layers=[],le.lastZIndex=0,le.handlingClick=!1,le.initLayers(),Object(Ce.i)(["checkDisabledLayers","onLayerChange","collapse","extend","expand","onInputClick"],H()(le)),le}return b()(Me,[{key:"getDefault",value:function(){return{collapsed:!0,position:I.PositionType.TOPRIGHT,autoZIndex:!0,hideSingleBase:!1,sortLayers:!1,name:"layers"}}},{key:"onAdd",value:function(){var le=this;return this.initLayout(),this.update(),this.mapsService.on("zoomend",this.checkDisabledLayers),this.layers.forEach(function(Le){Le.layer.on("remove",le.onLayerChange),Le.layer.on("add",le.onLayerChange)}),this.container}},{key:"addVisualLayer",value:function(le,Le){return this.addLayer(le,Le,!0),this.mapsService?this.update():this}},{key:"expand",value:function(){var le=this.renderService.getViewportSize(),Le=le.height;Ce.a.addClass(this.container,"l7-control-layers-expanded"),this.form.style.height="null";var ot=Le-(this.container.offsetTop+50);return ot<this.form.clientHeight?(Ce.a.addClass(this.form,"l7-control-layers-scrollbar"),this.form.style.height=ot+"px"):Ce.a.removeClass(this.form,"l7-control-layers-scrollbar"),this.checkDisabledLayers(),this}},{key:"collapse",value:function(){return Ce.a.removeClass(this.container,"l7-control-layers-expanded"),this}},{key:"onRemove",value:function(){var le=this;!this.mapsService||(this.mapsService.off("click",this.collapse),this.layers.forEach(function(Le){Le.layer.off("remove",le.onLayerChange),Le.layer.off("add",le.onLayerChange)}))}},{key:"initLayout",value:function(){var le="l7-control-layers",Le=this.container=Ce.a.create("div",le),ot=this.controlOption.collapsed;Le.setAttribute("aria-haspopup","true");var St=this.form=Ce.a.create("form",le+"-list");ot&&(this.mapsService.on("click",this.collapse),Le.addEventListener("mouseenter",this.expand),Le.addEventListener("mouseleave",this.collapse)),this.layersLink=Ce.a.create("a",le+"-toggle",Le);var Ge=this.layersLink;Ge.title="Layers",ot||this.expand(),this.baseLayersList=Ce.a.create("div",le+"-base",St),this.separator=Ce.a.create("div",le+"-separator",St),this.overlaysList=Ce.a.create("div",le+"-overlays",St),Le.appendChild(St)}},{key:"initLayers",value:function(){var le=this,Le=this.controlOption,ot=Le.baseLayers,St=ot===void 0?{}:ot,Ge=Le.overlayers,Be=Ge===void 0?{}:Ge;Object.keys(St).forEach(function(Nt,kt){le.addLayer(St[Nt],Nt,!1)}),Object.keys(Be).forEach(function(Nt,kt){le.addLayer(Be[Nt],Nt,!0)})}},{key:"update",value:function(){if(!this.container)return this;Ce.a.empty(this.baseLayersList),Ce.a.empty(this.overlaysList),this.layerControlInputs=[];var le,Le,ot,St,Ge=0;for(ot=0;ot<this.layers.length;ot++)St=this.layers[ot],this.addItem(St),Le=Le||St.overlay,le=le||!St.overlay,Ge+=St.overlay?0:1;return this.controlOption.hideSingleBase&&(le=le&&Ge>1,this.baseLayersList.style.display=le?"":"none"),this.separator.style.display=Le&&le?"":"none",this}},{key:"checkDisabledLayers",value:function(){for(var le=this.layerControlInputs,Le,ot,St=this.mapsService.getZoom(),Ge=le.length-1;Ge>=0;Ge--)if(Le=le[Ge],ot=this.layerService.getLayer(Le.layerId),ot&&ot.inited){var Be=ot.getMinZoom(),Nt=ot.getMaxZoom();Le.disabled=St<Be||St>Nt}}},{key:"addLayer",value:function(le,Le,ot){this.mapsService&&(le.on("add",this.onLayerChange),le.on("remove",this.onLayerChange)),this.layers.push({layer:le,name:Le,overlay:ot});var St=this.controlOption,Ge=St.sortLayers,Be=St.sortFunction,Nt=St.autoZIndex;Ge&&this.layers.sort(function(kt,ft){return Be(kt.layer,ft.layer,kt.name,ft.name)}),Nt&&le.setZIndex&&(this.lastZIndex++,le.setZIndex(this.lastZIndex)),this.expandIfNotCollapsed()}},{key:"expandIfNotCollapsed",value:function(){return this.mapsService&&!this.controlOption.collapsed&&this.expand(),this}},{key:"onLayerChange",value:function(le){this.handlingClick||this.update();var Le=this.layerService.getLayer(le.target.layerId),ot=Le!=null&&Le.overlay?le.type==="add"?"overlayadd":"overlayremove":le.type==="add"?"baselayerchange":null;ot&&this.emit(ot,Le)}},{key:"createRadioElement",value:function(le,Le){var ot='<input type="radio" class="l7-control-layers-selector" name="'+le+'"'+(Le?' checked="checked"':"")+"/>",St=document.createElement("div");return St.innerHTML=ot,St.firstChild}},{key:"addItem",value:function(le){var Le=document.createElement("label"),ot=this.layerService.getLayer(le.layer.id),St=ot&&ot.inited&&le.layer.isVisible(),Ge;le.overlay?(Ge=document.createElement("input"),Ge.type="checkbox",Ge.className="l7-control-layers-selector",Ge.defaultChecked=St):Ge=this.createRadioElement("l7-base-layers",St),this.layerControlInputs.push(Ge),Ge.layerId=le.layer.id,Ge.addEventListener("click",this.onInputClick);var Be=document.createElement("span");Be.innerHTML=" "+le.name;var Nt=document.createElement("div");Le.appendChild(Nt),Nt.appendChild(Ge),Nt.appendChild(Be);var kt=le.overlay?this.overlaysList:this.baseLayersList;return kt.appendChild(Le),this.checkDisabledLayers(),Le}},{key:"onInputClick",value:function(){var le=this.layerControlInputs,Le,ot,St=[],Ge=[];this.handlingClick=!0;for(var Be=le.length-1;Be>=0;Be--)Le=le[Be],ot=this.layerService.getLayer(Le.layerId),Le.checked?St.push(ot):Le.checked||Ge.push(ot);Ge.forEach(function(Nt){Nt.hide()}),St.forEach(function(Nt){Nt.show()}),this.handlingClick=!1}}]),Me}(It);function lt(Fe){var pe=yt();return function(){var U=at()(Fe),le;if(pe){var Le=at()(this).constructor;le=Reflect.construct(U,arguments,Le)}else le=U.apply(this,arguments);return ne()(this,le)}}function yt(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(Fe){return!1}}var Dt=function(Fe){Z()(Me,Fe);var pe=lt(Me);function Me(){return y()(this,Me),pe.apply(this,arguments)}return b()(Me,[{key:"getDefault",value:function(){return{position:I.PositionType.BOTTOMLEFT,name:"logo"}}},{key:"onAdd",value:function(){var le="l7-control-logo",Le=Ce.a.create("div",le),ot=Ce.a.create("a","l7-ctrl-logo");return ot.target="_blank",ot.rel="noopener nofollow",ot.href="https://antv.alipay.com/l7",ot.setAttribute("aria-label","AntV logo"),ot.setAttribute("rel","noopener nofollow"),Le.appendChild(ot),Le}},{key:"onRemove",value:function(){return null}}]),Me}(It);function Jt(Fe){var pe=At();return function(){var U=at()(Fe),le;if(pe){var Le=at()(this).constructor;le=Reflect.construct(U,arguments,Le)}else le=U.apply(this,arguments);return ne()(this,le)}}function At(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(Fe){return!1}}var vt=function(Fe){Z()(Me,Fe);var pe=Jt(Me);function Me(U){var le;return y()(this,Me),le=pe.call(this,U),we()(H()(le),"mScale",void 0),we()(H()(le),"iScale",void 0),Object(Ce.i)(["update"],H()(le)),le}return b()(Me,[{key:"getDefault",value:function(){return{position:I.PositionType.BOTTOMLEFT,maxWidth:100,metric:!0,updateWhenIdle:!1,imperial:!1,name:"scale"}}},{key:"onAdd",value:function(){var le="l7-control-scale",Le=Ce.a.create("div",le);this.addScales(le+"-line",Le);var ot=this.controlOption.updateWhenIdle;return this.mapsService.on(ot?"moveend":"mapmove",this.update),this.mapsService.on(ot?"zoomend":"zoomchange",this.update),this.update(),Le}},{key:"onRemove",value:function(){var le=this.controlOption.updateWhenIdle;this.mapsService.off(le?"zoomend":"zoomchange",this.update),this.mapsService.off(le?"moveend":"mapmove",this.update)}},{key:"update",value:function(){var le=this.mapsService,Le=this.controlOption.maxWidth,ot=le.getSize()[1]/2,St=le.containerToLngLat([0,ot]),Ge=le.containerToLngLat([Le,ot]),Be=Object(Ce.q)([St.lng,St.lat],[Ge.lng,Ge.lat]);this.updateScales(Be)}},{key:"updateScales",value:function(le){var Le=this.controlOption,ot=Le.metric,St=Le.imperial;ot&&le&&this.updateMetric(le),St&&le&&this.updateImperial(le)}},{key:"updateMetric",value:function(le){var Le=this.getRoundNum(le),ot=Le<1e3?Le+" m":Le/1e3+" km";this.updateScale(this.mScale,ot,Le/le)}},{key:"updateImperial",value:function(le){var Le=le*3.2808399,ot,St,Ge;Le>5280?(ot=Le/5280,St=this.getRoundNum(ot),this.updateScale(this.iScale,St+" mi",St/ot)):(Ge=this.getRoundNum(Le),this.updateScale(this.iScale,Ge+" ft",Ge/Le))}},{key:"updateScale",value:function(le,Le,ot){var St=this.controlOption.maxWidth;le.style.width=Math.round(St*ot)+"px",le.innerHTML=Le}},{key:"getRoundNum",value:function(le){var Le=Math.pow(10,(Math.floor(le)+"").length-1),ot=le/Le;return ot=ot>=10?10:ot>=5?5:ot>=3?3:ot>=2?2:1,Le*ot}},{key:"addScales",value:function(le,Le){var ot=this.controlOption,St=ot.metric,Ge=ot.imperial;St&&(this.mScale=Ce.a.create("div",le,Le)),Ge&&(this.iScale=Ce.a.create("div",le,Le))}}]),Me}(It);function ie(Fe){var pe=J();return function(){var U=at()(Fe),le;if(pe){var Le=at()(this).constructor;le=Reflect.construct(U,arguments,Le)}else le=U.apply(this,arguments);return ne()(this,le)}}function J(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(Fe){return!1}}var ee=function(Fe){Z()(Me,Fe);var pe=ie(Me);function Me(U){var le;return y()(this,Me),le=pe.call(this,U),we()(H()(le),"disabled",void 0),we()(H()(le),"zoomInButton",void 0),we()(H()(le),"zoomOutButton",void 0),Object(Ce.i)(["updateDisabled","zoomIn","zoomOut"],H()(le)),le}return b()(Me,[{key:"getDefault",value:function(){return{position:I.PositionType.TOPLEFT,zoomInText:"+",zoomInTitle:"Zoom in",zoomOutText:"&#x2212;",zoomOutTitle:"Zoom out",name:"zoom"}}},{key:"onAdd",value:function(){var le="l7-control-zoom",Le=Ce.a.create("div",le+" l7-bar");return this.zoomInButton=this.createButton(this.controlOption.zoomInText,this.controlOption.zoomInTitle,le+"-in",Le,this.zoomIn),this.zoomOutButton=this.createButton(this.controlOption.zoomOutText,this.controlOption.zoomOutTitle,le+"-out",Le,this.zoomOut),this.mapsService.on("zoomend",this.updateDisabled),this.mapsService.on("zoomchange",this.updateDisabled),this.updateDisabled(),Le}},{key:"onRemove",value:function(){this.mapsService.off("zoomend",this.updateDisabled),this.mapsService.off("zoomchange",this.updateDisabled)}},{key:"disable",value:function(){return this.disabled=!0,this.updateDisabled(),this}},{key:"enable",value:function(){return this.disabled=!1,this.updateDisabled(),this}},{key:"zoomIn",value:function(){!this.disabled&&this.mapsService.getZoom()<this.mapsService.getMaxZoom()&&this.mapsService.zoomIn()}},{key:"zoomOut",value:function(){!this.disabled&&this.mapsService.getZoom()>this.mapsService.getMinZoom()&&this.mapsService.zoomOut()}},{key:"createButton",value:function(le,Le,ot,St,Ge){var Be=Ce.a.create("a",ot,St);return Be.innerHTML=le,Be.title=Le,Be.href="javascript:void(0)",Be.addEventListener("click",Ge),Be}},{key:"updateDisabled",value:function(){var le=this.mapsService,Le="l7-disabled";Ce.a.removeClass(this.zoomInButton,Le),Ce.a.removeClass(this.zoomOutButton,Le),(this.disabled||le.getZoom()<=le.getMinZoom())&&Ce.a.addClass(this.zoomOutButton,Le),(this.disabled||le.getZoom()>=le.getMaxZoom())&&Ce.a.addClass(this.zoomInButton,Le)}}]),Me}(It);function Ie(Fe,pe){var Me=Object.keys(Fe);if(Object.getOwnPropertySymbols){var U=Object.getOwnPropertySymbols(Fe);pe&&(U=U.filter(function(le){return Object.getOwnPropertyDescriptor(Fe,le).enumerable})),Me.push.apply(Me,U)}return Me}function me(Fe){for(var pe=1;pe<arguments.length;pe++){var Me=arguments[pe]!=null?arguments[pe]:{};pe%2?Ie(Object(Me),!0).forEach(function(U){we()(Fe,U,Me[U])}):Object.getOwnPropertyDescriptors?Object.defineProperties(Fe,Object.getOwnPropertyDescriptors(Me)):Ie(Object(Me)).forEach(function(U){Object.defineProperty(Fe,U,Object.getOwnPropertyDescriptor(Me,U))})}return Fe}function Ve(Fe){var pe=Re();return function(){var U=at()(Fe),le;if(pe){var Le=at()(this).constructor;le=Reflect.construct(U,arguments,Le)}else le=U.apply(this,arguments);return ne()(this,le)}}function Re(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(Fe){return!1}}var bt=function(Fe){Z()(Me,Fe);var pe=Ve(Me);function Me(U){var le;return y()(this,Me),le=pe.call(this),we()(H()(le),"markerOption",void 0),we()(H()(le),"defaultMarker",void 0),we()(H()(le),"popup",void 0),we()(H()(le),"mapsService",void 0),we()(H()(le),"sceneSerive",void 0),we()(H()(le),"lngLat",void 0),we()(H()(le),"scene",void 0),we()(H()(le),"added",!1),we()(H()(le),"eventHandle",function(Le){le.emit(Le.type,{target:Le,data:le.markerOption.extData,lngLat:le.lngLat})}),le.markerOption=me(me({},le.getDefault()),U),Object(Ce.i)(["update","onMove","onUp","addDragHandler","onMapClick"],H()(le)),le.init(),le}return b()(Me,[{key:"getDefault",value:function(){return{element:void 0,anchor:Ce.f.BOTTOM,offsets:[0,0],color:"#5B8FF9",draggable:!1}}},{key:"addTo",value:function(le){this.scene=le,this.mapsService=le.get(I.TYPES.IMapService),this.sceneSerive=le.get(I.TYPES.ISceneService);var Le=this.markerOption,ot=Le.element,St=Le.draggable;return this.mapsService.getMarkerContainer().appendChild(ot),this.registerMarkerEvent(ot),this.mapsService.on("camerachange",this.update),this.mapsService.on("viewchange",this.update),this.update(),this.added=!0,this.emit("added"),this}},{key:"remove",value:function(){this.mapsService&&(this.mapsService.off("click",this.onMapClick),this.mapsService.off("move",this.update),this.mapsService.off("moveend",this.update),this.mapsService.off("mousedown",this.addDragHandler),this.mapsService.off("touchstart",this.addDragHandler),this.mapsService.off("mouseup",this.onUp),this.mapsService.off("touchend",this.onUp)),this.unRegisterMarkerEvent(),this.removeAllListeners();var le=this.markerOption.element;return le&&Ce.a.remove(le),this.popup&&this.popup.remove(),this}},{key:"setLnglat",value:function(le){return this.lngLat=le,Array.isArray(le)&&(this.lngLat={lng:le[0],lat:le[1]}),this.popup&&this.popup.setLnglat(this.lngLat),this.update(),this}},{key:"getLnglat",value:function(){return this.lngLat}},{key:"getElement",value:function(){return this.markerOption.element}},{key:"setElement",value:function(le){var Le=this;if(!this.added)return this.once("added",function(){Le.setElement(le)}),this;var ot=this.markerOption.element;return ot&&Ce.a.remove(ot),this.markerOption.element=le,this.init(),this.mapsService.getMarkerContainer().appendChild(le),this.registerMarkerEvent(le),this.update(),this}},{key:"openPopup",value:function(){var le=this;if(!this.added)return this.once("added",function(){le.openPopup()}),this;var Le=this.popup;return Le?(Le.isOpen()||Le.addTo(this.scene),this):this}},{key:"closePopup",value:function(){var le=this;this.added||this.once("added",function(){le.closePopup()});var Le=this.popup;return Le&&Le.remove(),this}},{key:"setPopup",value:function(le){return this.popup=le,this.lngLat&&this.popup.setLnglat(this.lngLat),this}},{key:"togglePopup",value:function(){var le=this.popup;if(le)le.isOpen()?le.remove():le.addTo(this.scene);else return this;return this}},{key:"getPopup",value:function(){return this.popup}},{key:"getOffset",value:function(){return this.markerOption.offsets}},{key:"setDraggable",value:function(le){throw new Error("Method not implemented.")}},{key:"isDraggable",value:function(){return this.markerOption.draggable}},{key:"getExtData",value:function(){return this.markerOption.extData}},{key:"setExtData",value:function(le){this.markerOption.extData=le}},{key:"update",value:function(){if(!!this.mapsService){var le=this.markerOption,Le=le.element,ot=le.anchor;this.updatePosition(),Ce.a.setTransform(Le,"".concat(Ce.e[ot]))}}},{key:"onMapClick",value:function(le){var Le=this.markerOption.element;this.popup&&Le&&this.togglePopup()}},{key:"updatePosition",value:function(){if(!!this.mapsService){var le=this.markerOption,Le=le.element,ot=le.offsets,St=this.lngLat,Ge=St.lng,Be=St.lat,Nt=this.mapsService.getBounds(),kt=this.mapsService.lngLatToContainer([Ge,Be]);if(Le){Le.style.display="block";var ft=this.mapsService.getContainer(),ut=0,Ze=0;if(ft&&(ut=ft.scrollWidth,Ze=ft.scrollHeight),Math.abs(Nt[0][0])>180||Math.abs(Nt[1][0])>180){if(kt.x>ut){var Qt=this.mapsService.lngLatToContainer([Ge-360,Be]);kt.x=Qt.x}if(kt.x<0){var ar=this.mapsService.lngLatToContainer([Ge+360,Be]);kt.x=ar.x}}(kt.x>ut||kt.x<0||kt.y>Ze||kt.y<0)&&(Le.style.display="none"),Le.style.left=kt.x+ot[0]+"px",Le.style.top=kt.y-ot[1]+"px"}}}},{key:"init",value:function(){var le=this,Le=this.markerOption.element,ot=this.markerOption,St=ot.color,Ge=ot.anchor;if(!Le){this.defaultMarker=!0,Le=Ce.a.create("div"),this.markerOption.element=Le;var Be=document.createElementNS("http://www.w3.org/2000/svg","svg");Be.setAttributeNS(null,"display","block"),Be.setAttributeNS(null,"height","48px"),Be.setAttributeNS(null,"width","48px"),Be.setAttributeNS(null,"viewBox","0 0 1024 1024");var Nt=document.createElementNS("http://www.w3.org/2000/svg","path");Nt.setAttributeNS(null,"d","M512 490.666667C453.12 490.666667 405.333333 442.88 405.333333 384 405.333333 325.12 453.12 277.333333 512 277.333333 570.88 277.333333 618.666667 325.12 618.666667 384 618.666667 442.88 570.88 490.666667 512 490.666667M512 85.333333C346.88 85.333333 213.333333 218.88 213.333333 384 213.333333 608 512 938.666667 512 938.666667 512 938.666667 810.666667 608 810.666667 384 810.666667 218.88 677.12 85.333333 512 85.333333Z"),Nt.setAttributeNS(null,"fill",St),Be.appendChild(Nt),Le.appendChild(Be)}Ce.a.addClass(Le,"l7-marker"),Object.keys(this.markerOption.style||{}).forEach(function(kt){var ft,ut,Ze=((ft=le.markerOption)===null||ft===void 0?void 0:ft.style)&&((ut=le.markerOption)===null||ut===void 0?void 0:ut.style[kt]);Le&&(Le.style[kt]=Ze)}),Le.addEventListener("click",function(kt){le.onMapClick(kt)}),Le.addEventListener("click",this.eventHandle),Object(Ce.g)(Le,Ge,"marker")}},{key:"registerMarkerEvent",value:function(le){le.addEventListener("mousemove",this.eventHandle),le.addEventListener("click",this.eventHandle),le.addEventListener("mousedown",this.eventHandle),le.addEventListener("mouseup",this.eventHandle),le.addEventListener("dblclick",this.eventHandle),le.addEventListener("contextmenu",this.eventHandle),le.addEventListener("mouseover",this.eventHandle),le.addEventListener("mouseout",this.eventHandle)}},{key:"unRegisterMarkerEvent",value:function(){var le=this.getElement();le.removeEventListener("mousemove",this.eventHandle),le.removeEventListener("click",this.eventHandle),le.removeEventListener("mousedown",this.eventHandle),le.removeEventListener("mouseup",this.eventHandle),le.removeEventListener("dblclick",this.eventHandle),le.removeEventListener("contextmenu",this.eventHandle),le.removeEventListener("mouseover",this.eventHandle),le.removeEventListener("mouseout",this.eventHandle)}},{key:"addDragHandler",value:function(le){throw new Error("Method not implemented.")}},{key:"onUp",value:function(le){throw new Error("Method not implemented.")}}]),Me}(et.EventEmitter),Pt=r("QkVN"),ht=r.n(Pt),Ye=r("mpbz"),Ke=r.n(Ye);function nt(Fe,pe){var Me=Object.keys(Fe);if(Object.getOwnPropertySymbols){var U=Object.getOwnPropertySymbols(Fe);pe&&(U=U.filter(function(le){return Object.getOwnPropertyDescriptor(Fe,le).enumerable})),Me.push.apply(Me,U)}return Me}function Ot(Fe){for(var pe=1;pe<arguments.length;pe++){var Me=arguments[pe]!=null?arguments[pe]:{};pe%2?nt(Object(Me),!0).forEach(function(U){we()(Fe,U,Me[U])}):Object.getOwnPropertyDescriptors?Object.defineProperties(Fe,Object.getOwnPropertyDescriptors(Me)):nt(Object(Me)).forEach(function(U){Object.defineProperty(Fe,U,Object.getOwnPropertyDescriptor(Me,U))})}return Fe}function Xe(Fe){var pe=xt();return function(){var U=at()(Fe),le;if(pe){var Le=at()(this).constructor;le=Reflect.construct(U,arguments,Le)}else le=U.apply(this,arguments);return ne()(this,le)}}function xt(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(Fe){return!1}}var Ne=function(Fe){Z()(Me,Fe);var pe=Xe(Me);function Me(U){var le,Le;return y()(this,Me),Le=pe.call(this),we()(H()(Le),"markers",[]),we()(H()(Le),"markerLayerOption",void 0),we()(H()(Le),"clusterIndex",void 0),we()(H()(Le),"points",[]),we()(H()(Le),"clusterMarkers",[]),we()(H()(Le),"mapsService",void 0),we()(H()(Le),"scene",void 0),we()(H()(Le),"zoom",void 0),we()(H()(Le),"bbox",void 0),Le.markerLayerOption=ht()(Le.getDefault(),U),Object(Ce.i)(["update"],H()(Le)),Le.zoom=((le=Le.markerLayerOption.clusterOption)===null||le===void 0?void 0:le.zoom)||-99,Le}return b()(Me,[{key:"getDefault",value:function(){return{cluster:!1,clusterOption:{radius:80,maxZoom:20,minZoom:0,zoom:-99,style:{},className:""}}}},{key:"addTo",value:function(le){return this.scene=le,this.mapsService=le.get(I.TYPES.IMapService),this.markerLayerOption.cluster&&(this.initCluster(),this.update(),this.mapsService.on("camerachange",this.update),this.mapsService.on("viewchange",this.update)),this.addMarkers(),this}},{key:"addMarker",value:function(le){var Le=this.markerLayerOption.cluster;Le&&this.addPoint(le,this.markers.length),this.markers.push(le)}},{key:"removeMarker",value:function(le){this.markers.indexOf(le);var Le=this.markers.indexOf(le);Le>-1&&this.markers.splice(Le,1)}},{key:"hide",value:function(){this.markers.map(function(le){le.getElement().style.opacity="0"})}},{key:"show",value:function(){this.markers.map(function(le){le.getElement().style.opacity="1"})}},{key:"getMarkers",value:function(){var le=this.markerLayerOption.cluster;return le?this.clusterMarkers:this.markers}},{key:"addMarkers",value:function(){var le=this;this.getMarkers().forEach(function(Le){Le.addTo(le.scene)})}},{key:"clear",value:function(){this.markers.forEach(function(le){le.remove()}),this.clusterMarkers.forEach(function(le){le.remove()}),this.mapsService.off("camerachange",this.update),this.markers=[],this.clusterMarkers=[]}},{key:"destroy",value:function(){this.clear(),this.removeAllListeners()}},{key:"addPoint",value:function(le,Le){var ot=le.getLnglat(),St=ot.lng,Ge=ot.lat,Be={geometry:{type:"Point",coordinates:[St,Ge]},properties:Ot(Ot({},le.getExtData()),{},{marker_id:Le})};this.points.push(Be)}},{key:"initCluster",value:function(){if(!!this.markerLayerOption.cluster){var le=this.markerLayerOption.clusterOption,Le=le.radius,ot=le.minZoom,St=ot===void 0?0:ot,Ge=le.maxZoom;this.clusterIndex=new Ke.a({radius:Le,minZoom:St,maxZoom:Ge}),this.clusterIndex.load(this.points)}}},{key:"getClusterMarker",value:function(le,Le){var ot=this,St=le[0].concat(le[1]),Ge=this.clusterIndex.getClusters(St,Le);this.clusterMarkers.forEach(function(Be){Be.remove()}),this.clusterMarkers=[],Ge.forEach(function(Be){var Nt,kt=ot.markerLayerOption.clusterOption,ft=kt.field,ut=kt.method;if(Be.properties&&(Nt=Be.properties)!==null&&Nt!==void 0&&Nt.cluster_id){var Ze,Qt=ot.getLeaves((Ze=Be.properties)===null||Ze===void 0?void 0:Ze.cluster_id);if(Be.properties.clusterData=Qt,ft&&ut){var ar=Qt==null?void 0:Qt.map(function(Bn){var ya=we()({},ft,Bn.properties[ft]);return ya}),zr=Ce.c.getColumn(ar,ft),qr=Ce.c.getSatByColumn(ut,zr),tn="point_"+ut;Be.properties[tn]=qr.toFixed(2)}}var _n=ot.clusterMarker(Be);ot.clusterMarkers.push(_n),_n.addTo(ot.scene)})}},{key:"getLeaves",value:function(le){var Le=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Infinity,ot=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0;return le?this.clusterIndex.getLeaves(le,Le,ot):null}},{key:"clusterMarker",value:function(le){var Le=this.markerLayerOption.clusterOption,ot=Le,St=ot.element,Ge=St===void 0?this.generateElement.bind(this):St,Be=new bt({element:Ge(le)}).setLnglat({lng:le.geometry.coordinates[0],lat:le.geometry.coordinates[1]});return Be}},{key:"normalMarker",value:function(le){var Le=le.properties.marker_id;return this.markers[Le]}},{key:"update",value:function(){var le=this.mapsService.getZoom(),Le=this.mapsService.getBounds();(!this.bbox||Math.abs(le-this.zoom)>=1||!Object(Ce.j)(this.bbox,Le))&&(this.bbox=Object(Ce.r)(Le,.5),this.zoom=Math.floor(le),this.getClusterMarker(this.bbox,this.zoom))}},{key:"generateElement",value:function(le){var Le=Ce.a.create("div","l7-marker-cluster"),ot=Ce.a.create("div","",Le),St=Ce.a.create("span","",ot),Ge=this.markerLayerOption.clusterOption,Be=Ge.field,Nt=Ge.method;le.properties.point_count=le.properties.point_count||1;var kt=Be&&Nt?le.properties["point_"+Nt]||le.properties[Be]:le.properties.point_count;return St.textContent=kt,Le}}]),Me}(et.EventEmitter);function B(Fe,pe){var Me=Object.keys(Fe);if(Object.getOwnPropertySymbols){var U=Object.getOwnPropertySymbols(Fe);pe&&(U=U.filter(function(le){return Object.getOwnPropertyDescriptor(Fe,le).enumerable})),Me.push.apply(Me,U)}return Me}function z(Fe){for(var pe=1;pe<arguments.length;pe++){var Me=arguments[pe]!=null?arguments[pe]:{};pe%2?B(Object(Me),!0).forEach(function(U){we()(Fe,U,Me[U])}):Object.getOwnPropertyDescriptors?Object.defineProperties(Fe,Object.getOwnPropertyDescriptors(Me)):B(Object(Me)).forEach(function(U){Object.defineProperty(Fe,U,Object.getOwnPropertyDescriptor(Me,U))})}return Fe}function q(Fe){var pe=S();return function(){var U=at()(Fe),le;if(pe){var Le=at()(this).constructor;le=Reflect.construct(U,arguments,Le)}else le=U.apply(this,arguments);return ne()(this,le)}}function S(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(Fe){return!1}}var K=function(Fe){Z()(Me,Fe);var pe=q(Me);function Me(U){var le;return y()(this,Me),le=pe.call(this),we()(H()(le),"popupOption",void 0),we()(H()(le),"mapsService",void 0),we()(H()(le),"sceneSerive",void 0),we()(H()(le),"lngLat",void 0),we()(H()(le),"content",void 0),we()(H()(le),"closeButton",void 0),we()(H()(le),"timeoutInstance",void 0),we()(H()(le),"container",void 0),we()(H()(le),"tip",void 0),we()(H()(le),"scene",void 0),le.popupOption=z(z({},le.getdefault()),U),Object(Ce.i)(["update","onClickClose","remove"],H()(le)),le}return b()(Me,[{key:"addTo",value:function(le){var Le=this;return this.mapsService=le.get(I.TYPES.IMapService),this.sceneSerive=le.get(I.TYPES.ISceneService),this.mapsService.on("camerachange",this.update),this.mapsService.on("viewchange",this.update),this.scene=le,this.update(),this.popupOption.closeOnClick&&(this.timeoutInstance=setTimeout(function(){Le.mapsService.on("click",Le.onClickClose)},30)),this.emit("open"),this}},{key:"close",value:function(){this.remove()}},{key:"open",value:function(){this.addTo(this.scene)}},{key:"setHTML",value:function(le){var Le=window.document.createDocumentFragment(),ot=window.document.createElement("body"),St;for(ot.innerHTML=le;St=ot.firstChild,!!St;)Le.appendChild(St);return this.setDOMContent(Le)}},{key:"setLnglat",value:function(le){return this.lngLat=le,Array.isArray(le)&&(this.lngLat={lng:le[0],lat:le[1]}),this.mapsService&&(this.mapsService.on("camerachange",this.update),this.mapsService.on("viewchange",this.update)),this.update(),this}},{key:"getLnglat",value:function(){return this.lngLat}},{key:"setText",value:function(le){return this.setDOMContent(window.document.createTextNode(le))}},{key:"setMaxWidth",value:function(le){return this.popupOption.maxWidth=le,this.update(),this}},{key:"setDOMContent",value:function(le){return this.createContent(),this.content.appendChild(le),this.update(),this}},{key:"remove",value:function(){return this.content&&this.removeDom(this.content),this.container&&(this.removeDom(this.container),delete this.container),this.mapsService&&(this.mapsService.off("camerachange",this.update),this.mapsService.off("viewchange",this.update),this.mapsService.off("click",this.onClickClose),delete this.mapsService),clearTimeout(this.timeoutInstance),this.emit("close"),this}},{key:"isOpen",value:function(){return!!this.mapsService}},{key:"createContent",value:function(){this.content&&Ce.a.remove(this.content),this.content=Ce.a.create("div","l7-popup-content",this.container),this.popupOption.closeButton&&(this.closeButton=Ce.a.create("button","l7-popup-close-button",this.content),this.popupOption.closeButtonOffsets&&(this.closeButton.style.right=this.popupOption.closeButtonOffsets[0]+"px",this.closeButton.style.top=this.popupOption.closeButtonOffsets[1]+"px"),this.closeButton.setAttribute("aria-label","Close popup"),this.closeButton.innerHTML="&#215;",this.closeButton.addEventListener("click",this.onClickClose))}},{key:"creatDom",value:function(le,Le,ot){var St=window.document.createElement(le);return Le!==void 0&&(St.className=Le),ot&&ot.appendChild(St),St}},{key:"removeDom",value:function(le){le.parentNode&&le.parentNode.removeChild(le)}},{key:"getdefault",value:function(){return{closeButton:!0,closeOnClick:!0,maxWidth:"240px",offsets:[0,0],anchor:Ce.f.BOTTOM,className:"",stopPropagation:!0}}},{key:"onClickClose",value:function(le){le.stopPropagation&&le.stopPropagation(),this.remove()}},{key:"update",value:function(){var le=this,Le=this.lngLat,ot=this.popupOption,St=ot.className,Ge=ot.maxWidth,Be=ot.anchor;if(!(!this.mapsService||!Le||!this.content)){var Nt=this.mapsService.getMarkerContainer();if(!this.container&&Nt){this.container=this.creatDom("div","l7-popup",Nt),this.tip=this.creatDom("div","l7-popup-tip",this.container),this.container.appendChild(this.content),St&&St.split(" ").forEach(function(ft){return le.container.classList.add(ft)});var kt=this.popupOption.stopPropagation;kt&&["mousemove","mousedown","mouseup","click","dblclick"].forEach(function(ft){le.container.addEventListener(ft,function(ut){ut.stopPropagation()})})}Ge&&this.container.style.maxWidth!==Ge&&(this.container.style.maxWidth=Ge),this.updatePosition(),Ce.a.setTransform(this.container,"".concat(Ce.e[Be])),Object(Ce.g)(this.container,Be,"popup")}}},{key:"updatePosition",value:function(){if(!!this.mapsService){var le=this.lngLat,Le=le.lng,ot=le.lat,St=this.popupOption.offsets,Ge=this.mapsService.lngLatToContainer([Le,ot]);this.container.style.left=Ge.x+St[0]+"px",this.container.style.top=Ge.y-St[1]+"px"}}}]),Me}(et.EventEmitter);function fe(Fe,pe){if(pe||(pe=document),!!pe){var Me=pe.head||pe.getElementsByTagName("head")[0];if(!Me){Me=pe.createElement("head");var U=pe.body||pe.getElementsByTagName("body")[0];U?U.parentNode.insertBefore(Me,U):pe.documentElement.appendChild(Me)}var le=pe.createElement("style");return le.type="text/css",le.styleSheet?le.styleSheet.cssText=Fe:le.appendChild(pe.createTextNode(Fe)),Me.appendChild(le),le}}fe(`.l7-marker-container {
  width: 100%;
  height: 100%;
  overflow: hidden;
  position: absolute;
}

.l7-marker {
  position: absolute !important;
  top: 0;
  left: 0;
  z-index: 5;
  cursor: pointer;
}

.l7-marker-cluster {
  background-clip: padding-box;
  border-radius: 20px;
  background-color: rgba(181, 226, 140, 0.6);
  width: 40px;
  height: 40px;
}
.l7-marker-cluster div {
  width: 30px;
  height: 30px;
  margin-left: 5px;
  margin-top: 5px;
  text-align: center;
  border-radius: 15px;
  font: 12px 'Helvetica Neue', Arial, Helvetica, sans-serif;
  background-color: rgba(110, 204, 57, 0.6);
}
.l7-marker-cluster span {
  line-height: 30px;
}

.l7-popup-anchor-bottom,
.l7-popup-anchor-bottom-left,
.l7-popup-anchor-bottom-right {
  -webkit-box-orient: vertical;
  -webkit-box-direction: reverse;
      -ms-flex-direction: column-reverse;
          flex-direction: column-reverse;
}

.l7-popup-close-button {
  position: absolute;
  right: 0;
  top: 0;
  border: 0;
  border-radius: 0 3px 0 0;
  cursor: pointer;
  background-color: transparent;
}

.l7-popup-close-button:hover {
  background-color: rgba(0, 0, 0, 0.05);
}

.l7-popup-content {
  position: relative;
  background: #fff;
  border-radius: 3px;
  -webkit-box-shadow: 0 1px 2px rgba(0, 0, 0, 0.1);
          box-shadow: 0 1px 2px rgba(0, 0, 0, 0.1);
  padding: 10px 10px 15px;
  pointer-events: auto;
}

/* layers control */

.l7-control-layers {
  -webkit-box-shadow: 0 1px 5px rgba(0, 0, 0, 0.4);
          box-shadow: 0 1px 5px rgba(0, 0, 0, 0.4);
  background: #fff;
  border-radius: 5px;
}
.l7-popup-anchor-top,
.l7-popup-anchor-top-left,
.l7-popup-anchor-top-right {
  -webkit-box-orient: vertical;
  -webkit-box-direction: normal;
      -ms-flex-direction: column;
          flex-direction: column;
}

.l7-popup-anchor-left {
  -webkit-box-orient: horizontal;
  -webkit-box-direction: normal;
      -ms-flex-direction: row;
          flex-direction: row;
}

.l7-popup-anchor-right {
  -webkit-box-orient: horizontal;
  -webkit-box-direction: reverse;
      -ms-flex-direction: row-reverse;
          flex-direction: row-reverse;
}
.l7-popup {
  position: absolute;
  top: 0;
  left: 0;
  display: -webkit-box;
  display: -ms-flexbox;
  display: flex;
  will-change: transform;
  pointer-events: none;
  z-index: 5;
}
.l7-popup-tip {
  width: 0;
  height: 0;
  border: 10px solid transparent;
  z-index: 1;
}
.l7-popup-anchor-top .l7-popup-tip {
  -webkit-align-self: center;
  -ms-flex-item-align: center;
      align-self: center;
  border-top: none;
  border-bottom-color: #fff;
}

.l7-popup-anchor-top-left .l7-popup-tip {
  -webkit-align-self: flex-start;
  -ms-flex-item-align: start;
      align-self: flex-start;
  border-top: none;
  border-left: none;
  border-bottom-color: #fff;
}

.l7-popup-anchor-top-right .l7-popup-tip {
  -webkit-align-self: flex-end;
  -ms-flex-item-align: end;
      align-self: flex-end;
  border-top: none;
  border-right: none;
  border-bottom-color: #fff;
}

.l7-popup-anchor-bottom .l7-popup-tip {
  -webkit-align-self: center;
  -ms-flex-item-align: center;
      align-self: center;
  border-bottom: none;
  border-top-color: #fff;
}

.l7-popup-anchor-bottom-left .l7-popup-tip {
  -webkit-align-self: flex-start;
  -ms-flex-item-align: start;
      align-self: flex-start;
  border-bottom: none;
  border-left: none;
  border-top-color: #fff;
}

.l7-popup-anchor-bottom-right .l7-popup-tip {
  -webkit-align-self: flex-end;
  -ms-flex-item-align: end;
      align-self: flex-end;
  border-bottom: none;
  border-right: none;
  border-top-color: #fff;
}

.l7-popup-anchor-left .l7-popup-tip {
  -webkit-align-self: center;
  -ms-flex-item-align: center;
      align-self: center;
  border-left: none;
  border-right-color: #fff;
}

.l7-popup-anchor-right .l7-popup-tip {
  -webkit-align-self: center;
  -ms-flex-item-align: center;
      align-self: center;
  border-right: none;
  border-left-color: #fff;
}

.l7-popup-close-button {
  position: absolute;
  right: 0;
  top: 0;
  border: 0;
  padding: 0;
  font-size: 25px;
  line-height: 20px;
  border-radius: 0 3px 0 0;
  cursor: pointer;
  background-color: transparent;
}

.l7-popup-close-button:hover {
  background-color: rgba(0, 0, 0, 0.05);
}

.l7-popup-content {
  position: relative;
  background: #fff;
  border-radius: 3px;
  -webkit-box-shadow: 0 1px 2px rgba(0, 0, 0, 0.1);
          box-shadow: 0 1px 2px rgba(0, 0, 0, 0.1);
  padding: 10px 10px 15px;
  pointer-events: auto;
}

.l7-popup-anchor-top-left .l7-popup-content {
  border-top-left-radius: 0;
}

.l7-popup-anchor-top-right .l7-popup-content {
  border-top-right-radius: 0;
}

.l7-popup-anchor-bottom-left .l7-popup-content {
  border-bottom-left-radius: 0;
}

.l7-popup-anchor-bottom-right .l7-popup-content {
  border-bottom-right-radius: 0;
}

.l7-popup-track-pointer {
  display: none;
}

.l7-popup-track-pointer * {
  pointer-events: none;
  -webkit-user-select: none;
     -moz-user-select: none;
      -ms-user-select: none;
          user-select: none;
}

.l7-map:hover .l7-popup-track-pointer {
  display: -webkit-box;
  display: -ms-flexbox;
  display: flex;
}

.l7-map:active .l7-popup-track-pointer {
  display: none;
}

.l7-popup-close-button:hover {
  background-color: rgba(0, 0, 0, 0.05);
}

.l7-popup-content {
  position: relative;
  background: #fff;
  border-radius: 3px;
  -webkit-box-shadow: 0 1px 2px rgba(0, 0, 0, 0.1);
          box-shadow: 0 1px 2px rgba(0, 0, 0, 0.1);
  padding: 10px 10px 15px;
  pointer-events: auto;
}

/* general toolbar styles */

.l7-bar {
  -webkit-box-shadow: 0 1px 5px rgba(0, 0, 0, 0.65);
          box-shadow: 0 1px 5px rgba(0, 0, 0, 0.65);
  border-radius: 4px;
}
.l7-bar a,
.l7-bar a:hover {
  background-color: #fff;
  width: 30px;
  height: 30px;
  font-size: 20px;
  display: block;
  text-align: center;
  text-decoration: none;
  color: #8e9dab;
}
.l7-bar a,
.l7-control-layers-toggle {
  background-position: 50% 50%;
  background-repeat: no-repeat;
  display: block;
}
.l7-bar a:hover {
  background-color: #f4f4f4;
}
.l7-bar a:first-child {
  border-top-left-radius: 2px;
  border-top-right-radius: 2px;
}
.l7-bar a:last-child {
  border-bottom-left-radius: 2px;
  border-bottom-right-radius: 2px;
  border-bottom: none;
}
.l7-bar a.l7-disabled {
  cursor: default;
  background-color: #f4f4f4;
  color: #bbb;
}

/* control positioning */

.l7-control-container {
  font: 12px/1.5 'Helvetica Neue', Arial, Helvetica, sans-serif;
}
.l7-control-hide {
  display: none;
}
.l7-control {
  position: relative;
  z-index: 800;
  pointer-events: visiblePainted; /* IE 9-10 doesn't have auto */
  pointer-events: auto;
}
.l7-control {
  float: left;
  clear: both;
}
.l7-top,
.l7-bottom {
  position: absolute;
  z-index: 1000;
  pointer-events: none;
}
.l7-top {
  top: 0;
}
.l7-right {
  right: 0;
}
.l7-bottom {
  bottom: 0;
}
.l7-left {
  left: 0;
}
.l7-center {
  display: -webkit-box;
  display: -ms-flexbox;
  display: flex;
  position: absolute;
  -webkit-box-pack: center;
      -ms-flex-pack: center;
          justify-content: center;
}
.l7-bottom.l7-center,
.l7-top.l7-center {
  width: 100%;
}
.l7-right.l7-center,
.l7-left.l7-center {
  height: 100%;
  -webkit-box-orient: vertical;
  -webkit-box-direction: normal;
      -ms-flex-direction: column;
          flex-direction: column;
}

.l7-top.l7-center,
.l7-left.l7-center {
  -webkit-box-align: start;
      -ms-flex-align: start;
          align-items: flex-start;
}

.l7-bottom.l7-center,
.l7-right.l7-center {
  -webkit-box-align: end;
      -ms-flex-align: end;
          align-items: flex-end;
}

.l7-center .l7-control {
  margin-right: 10px;
  margin-bottom: 10px;
}

.l7-control {
  float: left;
  clear: both;
}
.l7-right .l7-control {
  float: right;
}
.l7-top .l7-control {
  margin-top: 10px;
}
.l7-bottom .l7-control {
  margin-bottom: 10px;
}
.l7-left .l7-control {
  margin-left: 10px;
}
.l7-right .l7-control {
  margin-right: 10px;
}

/* attribution and scale controls */

.l7-control-container .l7-control-attribution {
  background: #fff;
  background: rgba(255, 255, 255, 0.7);
  margin: 0;
}
.l7-control-attribution,
.l7-control-scale-line {
  padding: 0 5px;
  color: #333;
}
.l7-control-attribution a {
  text-decoration: none;
}
.l7-control-attribution a:hover {
  text-decoration: underline;
}
.l7-container .l7-control-attribution,
.l7-container .l7-control-scale {
  font-size: 11px;
  padding: 5px 5px 2px 5px;
  background: rgba(255, 255, 255, 0.7);
}
.l7-left .l7-control-scale {
  margin-left: 5px;
}
.l7-bottom .l7-control-scale {
  margin-bottom: 5px;
}
.l7-control-scale-line {
  border: 2px solid #000;
  border-top: none;
  color: #000;
  line-height: 1.1;
  padding: 2px 5px 1px;
  font-size: 11px;
  white-space: nowrap;
  overflow: hidden;
  -webkit-box-sizing: border-box;
          box-sizing: border-box;

  background: #fff;
}
.l7-control-scale-line:not(:first-child) {
  border-top: 2px solid #777;
  border-bottom: none;
  margin-top: -2px;
}
.l7-control-scale-line:not(:first-child):not(:last-child) {
  border-bottom: 2px solid #777;
}

.l7-touch .l7-control-attribution,
.l7-touch .l7-control-layers,
.l7-touch .l7-bar {
  -webkit-box-shadow: none;
          box-shadow: none;
}
.l7-touch .l7-control-layers,
.l7-touch .l7-bar {
  border: 2px solid rgba(0, 0, 0, 0.2);
  background-clip: padding-box;
}
/*logo */

.l7-ctrl-logo {
  background-size: 100% 100%;
  width: 89px;
  height: 16px;
  margin: 0 0 -3px -3px;
  display: -webkit-box;
  display: -ms-flexbox;
  display: flex;
  background-repeat: no-repeat;
  cursor: pointer;
  background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAALIAAAAgCAYAAAHBIxK2AAAABGdBTUEAALGPC/xhBQAAIJZJREFUeAHtfAl8Tkf3/9z7PNmDRFbZSawhQcRSaqva1xCqpataqrT2UkuUUiqlaKtafe1VS1pUiypB0dIgIkpKRPZIELI/2/zO98akN48nltL3838//84nNzNzzpkzc+eee+bMOXMfxijNaMJ7LOrGO/HdYfZ8fb12gD2JJINJdR8WNHVQnRtSn7hilpz0u2DMKaEcFhZmhdzLNbiPyNVlwPxcm4Qh93Fr0gO4Ol5hfqiz6Q14G+QzGpYzQ9nXrUl7X/fgbrXdG3skX7m26+bNW2fQqJ5XmCs6RQKd6EQwB0zgtKgsvCidGF+N8wV/SBLqSKnXzx2WKIHw1xNxq2xtrKsBXqgrbePt1rivJFmloa5OoD129NcVQwa9Phxwaflw3ifvHCus1YIVjW7fwEF66dIhdYO/XV7Qk+9HY/5F7RA+w0G5TdRxq7gw10FBPWwA+3r9jpkYGcoJ5/7YiFxMiYCjLspsekOeCiJ1AhJJNER+8rfTX/j4BNcUMNCLMmhF+wC3cE9RZmMd/0IQjeTtGdwJjURD5EajsRQN1EwEHjAkUVce2LLhnKf8xGId3ZhkX4uxmj7MMKqJz0ZmMr3MJNZBmphV8WDBOCCgo+2QiE7DF3005wvU75e8vMLs4+P3HwwN7do5MzOu2NcjpPHRX/csCqjt2wvtxEAy8xJ3o+7j3jjkcurpn2xtrT0EPiS0oQPKSOfi/ygqL9H/qNbls8EXuer4+65xUa149QnBvGYFgapAN21EZ+pnuH3rrrnKdNA/zCRmjoqGzu36RoL21q38BLAAjRgo6iir63g1QAOcOoU27DAgwKtpPzVMKU+qBWIuve3Jx0zw4j/eQ0CASeNnjUi5mrYH72ZxUfFV0emJ479/BvrM9KxDAgZZEjziTp1d8+pL415sEdJloIAhF7QCZmnQoCkuLkkXNPfkozU8b4wVb30P4i4ADNQ41P08mtSBogHc27Vx70CPEHeUgRNwgUOuTqBR8wwODraGSIkrKipKxqVuI300mntri1jz9OOs0IHeHUdvms2t0iG+vn5nxmnan5QeUff6GGWttpidSjvGbCSZJdAAGTMwtjWSH2G5XrOp3oEv9wuWxqdeUPchZkW8OGqcedmcdujgUcMOH/zltmgL2YW2Fu22fbMz6q2xM+IEvmvHiCGyRq7AK3QLe959+T6v46co0uVBisLk0/9SqIIhcnQiVBPqULJ4dPVd2ypLg6Dx8wxuhAGDHrCOHTtqUfZ2b6KsYYIOuUiXL1/dKW4SMJRxkbbpG9nv5ecVutlt+PSoNvw7VPg8V4X5wqf4YQVp9g+NDQZDITr2cm/8lNIGlbvp+edGD/946eqJqOKmoBJRhjyjrclk0qlZAqeumw8YOEwE6ILdgh0raN9pcHeWx9n3mViPh9IKnlmBVBWI4bfoePDAEcOGPz9WWUDBzMe1cUdft5CnUfb2DvFR8rsz2avrkOdmT18wJisz5zDaqthVWjwAtzRgtBF9VbSdVofXIPWmB2CCouYqUBUFH59QbwwEqg0XykAi96/VuCEetRrm59msEfA+nqEtAUeqNEt324JGJEsDxpMi26gnaCpUxqJk6bahkGFp3akrZO8IBurcVGponpGW+VOdQP++uIAznzE1/cBBvRRZTc+OP0miUBJ78OiyxNxE6uX+KSP3vDIZuEE/z9BgWZZtHHj1oxZbkS6uJFNqIn+SWSy1AubjFtLd171xoHrQooyFQJRB7+0eHBrk2cxNtBW5mgYwoYNFXg5r7CvoFXWxajQ3mjiTc84wVkB2kTWt5NYk3lZ02SCvzphDDVrNZOY2p3mdA0wrhQoGSm5ig6SRyTsqwSxUaMKk+t4tXJIy4/IsoP82yNu7pYusKwk2WdslZmScvGHOyNs1tJ5GNrjVaeT2W2xsLCnuv5J6woQq/QtbXoLCMJqYtbWj208pKbGK4aamgWJR19XlCvpFEdxn6SDOl0byAjXB/cp8rlM/PteZ83k1T92PTuAw0Ly8GychmosWLB/v7xFSW+AeJQ/0auyLiYFEBgQ0dYKdDRsJfFOvpe0V76fgCVrgkNQTao63hAONr2vjFtAFltoTTFLzB415Al7RFdNipHRviWlLbzCHhZ05HxfEy9e7T/zX8FV+XLk+96e8Tl0xOJZfOpjdKp4kzboZXgGrouDj1rTunHnTQl1caoZ/unLNlKnTx32sNxobR0ZGakQTDCY8tEtEkG+LfihDg+NC2ccjpBXoyMTqVaLjTaFLduxe219XqH+67HYGKU5D0pbN30X5+vl0a9m6mZOPTxvFUIayPRAbM1RpS1uztp0a/SD6e9hcYlKVqgi7QEg/DAyRsAUsKSlNLyvT56Bs8e2Ias4LZzfnfEowJyOOVocZDs9jt8YnMDvUZzblZ+jis1rwtqg/KMHgwEThCUOCUS64U/An6iiL9oIGcFjwqMOQQB0JdTyEXd/tfR/1rMzsWCrPBxwPCxJMfJMELVYq0KO+fNkXk6CHRV/qXPSLXA0XZejpqiRZ0IgcY7hzu+AS2TB3quInaNnU2vzSlNqcT/fhHSqAVJgawAunEXxCPU4W9MMlcRN0ryZMAl2XcOHm6YlnYgMAToIOuxks+YBBErGrAa0YtKDDDkeYAaBFErjSUl2uKOfm5v1GE9y1nOLe/4IO+b3YchfKw0wy3lZ6m2arxyr4KV4RURH54qtS/fGufEMZZ7Hja/Ko0ptsgYML0+kKGM+4wbTbmGQUtPfLMfBrWWc3gIZenX4aJmUp9OQdqunk4nv2QmzMus0rO730wtj0qu2DqnuQjCYbrOjYrINq5JuRe/CKQp3QtRMweivm0yur+FBQf9xk6WFQX99Tvw2GDO0390jssWXW1vKf6n4q7Dc1EOXledJwQxF7RV/EomQbptMXssJlNyT5YSe4dq1m/s907eik1WprNKjdur9sW/1AWt7535Ur6/zvN2/lpcds/37eM892mEgTXGHuHD1y4qLRYK0YvrJsMly5knKu0tg0csmObbvfC2/ZbETK9bOnW4TU7xtGEw0a2geZbKysz/Xu9txQvV6fX6VOrMTw/hVsdF8b/tbGgX1feqF1m7Bq5hda+/o+pVgXm9Ztmzk0ctTBlMyEi/fnaoZ9g3HH1xmv5GgwI/m3+oAZUOzkj4fx7rQBt7qdxnhJDiuj/YlBe9dG1pLNbF9D8c2dem2xVMA3NQhjBk6WMyVaelmZVaL0+vmcB/Tz/zVa+8lIPlWW2SLMQh559ZSNCE2sbCq/FBuLyrrbLJVHsYZMr/sdfpiKJOv1pOxtyISp0tQRtHXqhNWQZffSy5d/LBOwJ5H71mrcAnzSSA2Z84ObJPlCbiujSZubkRefZI5X61hL5pavbzMvY4kuTCuzm6nXE4+Ztwf/lBRmcW1zcSkwxsXF6bWmEnbQSPJsoqWMZumwUqYC7QCVi3Y6tMmnCZdYDItiJezj0v3MaLJmRmXX58w0zKJ3w3ww2IwE+fk7JSUll9b2Crl4NfPcJXOav1OH7fyfdSs6cS7zl18Y65GRd36Pmk/S+dwex0/tHTN54pxNJ0/I2tTsM5WccqDFQgn9rW4nyphg4J95ut9gZis7p6Ym3BI4L9eQ+sS/ntrbLXDIE8/fLKaHVP7goyN5whKyKKMHcsWboSasqsznORfSRYEaz3v29uZt4JiDxMC8QVJLjzntg+ow+dBe7BhRJ1MwQ/AVkRbwQbBj7OtTXgVu49qt79LDrW/OX4yrqjEJ/OIPVrwlfM2CB/rW6XQ3wd9SgjsM41SsC9pLt+H0AptK2fdRjFdYHHwdhY0QOsL1VZDimkIHfLLD8xThcmCF+p3SjOxc0WlV+Zervm2x68dN/QQ+MLC2DVSHqOOVw6ZFXDRgCXjUBQ1y7Py+3bO+HyQLO0bArGV2auRrkxRv1orPPgjXF6XVARxJz0vCPvz4vbkoT50899yTenvAD0ljLx0L8Gr2Et4C9XXnTkEiecNKv/xiU/q1nHNXlQmN2iYVlpWwL0qLmSR3ZNFgQCpCogXuLDMa45WrTH8AcCVpTL8Q7ChbVDhAgO6XmwwGj7AWoa9lZ+UcBt3ufZvn6Ar0bUSbP/+42cJQ7NhbNjj3ybpW2p0G3LtP966DUIYk0TbZDr4Kk9Ho7lXLw1+0g6qo6Wtz8+f9sfmARQzqPZNWiCCBJ/NLtrOz9SkoKPxDlmT1SiJIHiuH6oAeF5e1o9XRGjWqa6pXrxbcqlm3YY7Wtifu6WDeU1xHF59an1cDki9wm8nnU7h3AV0fergDNrsln0+BtKUoP0yizYJr/57DhuJ1wnY5/mziepTVr6e3R0hrsbPLyck7BrxIZO/eAi2uuwE4I3Aok5rIAtzPPbjtxQuXtgCOOtQTwkqrPvlqMmBd2vcfDGeSpfGCXrS7H96SujCnBy+oj6LComSoEoGvUA0A6EvZ8DLaO9nYsUOoSzNy57Oi4mJyBu2SpuRcj2rGvZievUsRgleBf5gk6cpabd62egFoaYtr6NFl8DaUoz96LzTAq0kDlNWppLhE2UTg9Tuf8MdG2sw4DRjQU9H7e3b/FE2vomLoU3nJjm92rYSEwoXZuX3EJvDZsWtdz/+sjGlqMJqCXx/90jzALlz4syQl5awi7aj/EwnxPfC1srJy7ti232Sb6jZHRT+VJvm909I3pjKWayxjYdODeLkO1hnC2OLC/mhQWsJO6UvInCtjHQWDB+XKK2tvF3Dq5JkvVR4t/tzwiHk6namuefunwruvEq9ft86RW4Ef9sqQcK2WXRkzYtKBgtsFGYCNHjHpt3enzd+cnpvwo8pHbKQd2Wg9M3qDhjz9tqd+O7tao2XZqP+TKf8Ga3vyzP630EdGRpY+OTnutuiv0iQDqDOxVgaaSDLpjqMuResukoXHpwTw7jT5XnQlfHBBOgPcgxIiEqu+jG4NuoYN63a4mHzio0vJvy7Blhcwa2srWW0NAFZVgh0uaTSKj0LQYFERZVmy+WP1Z2uno25vZyd/tX5FO5T79x72faoF+xm4J5m4geLOPl7PHPvl1CeyLF1T875nkpdckq7qdOwIqY4aEz35i+XEXCYJ30MXs7dnSghSzaSqMunN2n36dZsBfG7uzYt3r0vpaVm/AHbkxJ4xJYWpD80PbapK6bmnL8+dvURRJXsPbXu5W49OU6n/ItA/zEapKr4PA8fC7OVVS1EXgwe8sq9Nh4aJ6nYWdyrFmayLvQsrIwleF8n4Jk9ntlCvo00gZ6ujE6UHBujQAZw2ZY52Cv8fvj/wwahXJu6VGFdu2sh4rdTs+M6+fl7dSAI+kTS0yfkbCWEndbhJIzPdjRu3TgcGBijqbcHc6Km21iz+b7C22KTEaGxFi1slHDyLsrGgKHr5kvYCsW3btkpeynskGYSrmaQnvTufLubhyL6WDGwK0zH9ypvSKMHoQXmuoaztz0diJoHu9VfePp6el3BYeOGstVYJ0Ys/VSR81OjhPmQqKAvbg3hqZNOd9PTsZNAt/3Rhi+5dW/cmy6SzaGfv7HS817NDlUUWsFWfrU9LzkxMFfjHyadMe3MZ7HPzCwJjMnK/8JbNI6rib1GSQfxpoTT7TRs+mYzLSJJoWkTYsKqYWIIbTNzWuaZTA0iWOT4l+2zKxx99fpXCUKxXv+5hn6/akP7n5eRztbw9O5rToi7cnx5+0rWIvi/uSU4/M2BgZJ/ZAwb2KiO9HynaXLp0rIAkTZeff/tc7MFju2Qm0T7r8RPcnJa43MjL1+PtocUif8SrE2ZkpWWX0Tmbex4q5q/KNFLLO8mcHSTXRc7nRsmzSkILCOzWsJkAypLjBXE4U+mdtmSCGclC+AEbC8US0Wh+u5Jz7jraIWREYfRGuJG064n7AAvxCHHIMxorpLcac4q9lHesYjLRb06qrgtZMoVpuecqzCi0tZRg2wq4pXEiKCDwlnIRMMD9WFvrjGqrwhK9RRj5kp+bwLgS37NI8C/wgTOgSPLyV7ibxoa9Rp7kV8nrVo1E3qSjJSr/CuNlBUxHTswSZmLFkhWTtLSGUqSEjO7yXEN1DZW1FBuQrQllxzK5FVuTc5HtnnOIwlRf1X6Waa1GM24KoNGQT69SkpiGFtIyYwwrMK1jb1+9/U9bApV6/7fyxGYAwewzZ1IdiosNBvF2PzHmD8FIWfcoKPIV7ZZ7Q8rImmJGPWPpR0jqdMxEAs5IgEkWCUm6mf6YRITIOXIFUC6heCvIyguhPIR5s1PE9TYrMixlWkM9ZqRwC2jLkywKSm4tPc005KKeOxe+qb+oKhE9fAUOvLLi0ubYH6AVNpoaLU++lnWezs8/OLbw8D09GUp8HkB7wHCEEwVHjBkOxqvX7x906kgOzMvn89qZWLm7SbSXmXwnqLHLMdVmWKAq5eolSY2wtDyp8aIcFNSqekl+Uftjhy5IbduGV0tKulrCdMEGrcRupeYm/iLoLOXkMpJqe4fUN+hZHRM3keQ9Wip3IGiSEIupmLjooXwByeoUA2daCrSw4nx2Kucye86qhJUq7MUKSznt+SqSHcq0KAqY1okZxqySrlcQUIEvJ7e+RDocW2JdmR3T8K0UT2lOwk1viKQnh2oUuaIqrFt120ct4ySGwaALHDPuVb8ZM9+OxjlFOh95oGXzrsvpxk2e/jb7ERB6VL6PQw9hS79427lUqzOOGBGZj5i64IcPYUp1paHDXxzs+UH07NUCvnrVumlzZ334h0ajuZqWc+68gKtz+Bq//CSmq4kbrRL/PDbPyalGKPDJySm7n27V+wtJywozshMPqduYl4Ugw/oHDm455A8ryDjEhp3CkV+/HxEYGKC0/XDRyreXLVmVbKeyE8HTPOE0DNmONhS3Gu0f4NPTHP+gOj7JGRwx4icYzRU7kUlfSzMW9+PJJMTLS03MztqahXs1YuuK8tmAqFgp70FM74eXxpeHTvhkR3eKY2wic6K5YmRoWBE51UdI825tuV/7h8Uh1qQzFAf26vusy8zZE1eKdt6+Xl1ooovbt+795fVUXRuC03rzzyecisZBYwoCsvETRgbcupFfunrl1mwSHtIW7EpqduKF5My4VBIG9w3rt7L+g3qtggsRI3t91IvzNq7d/sKVK1drk8bOtaSZ16zc3pw0sdV332/sLYSYzofd7tdj+H/Aw1O2/S0DhX8wlWvFv7eI0jpJqs1gs33brv09ej6TT7wqFKulIbt7utalw5RKxJwO4+yCEGMDFdjILbFCkNFw6k7py0XP8qu0Fm8nl4UTcW1nY81ORHXjPaL2SZcFcxq2xNbUXsSstB0oiCbA5TkWCCMvYQbda9KotCuVkCbTQGYyNCFb3ESh72wmayOlRbePV6L5m5UAOh+sK8wNh4tzxaeLF99lY6KjunGuri7h0BZf/GfZBfhQfDyaNEnPSUgw70o5bm8yuZrDUcdSTXftYL4EaiT5tobZJqXknsq+p52e+wB28vT+cfQyPYtyxOA+nw/oPXwPyiKl5ibE+Xs06UJb9x/OJB4OdXd3aUMmkPX2XWsnNAvu8EGZJDWhZfi62izyouPDRh2v9cabr/iGt2o6UvCa9c7CqfQFo0Gy0ZyJyyg/uiZw/0SuNocelX9qbvwv8F5+suxzv6VLPo211J6EvRZWnCXL5jUb+sKAoaDBh5SYKzyT1JxzRzAvlQQZRNN+kn6Oepq3JXn8gar+JKZBRPQbffnSJ+qEpAgdCTjnt/UbGCt7jkq+lbZwVmQqGPlcaVJWhRBHPcXd6ciG29xDbOecNtIGCm3VkKJLnqiy0JfcbIvxxx7fOc7Gxkpx6G3ZEDNn1rsLEy5cOb6GIkIuPXt3eef5FwaO3LxpByNteTM9Pb7yGO7az7+fPTBR+Km2bIyZPWPa/Pi1m1b0b0FONnt7Oz/0g0Su6oLLSVd+GP/G9G9154uLtZL2lsnGPo6XFjyDB0wx33JCC/8NBoavKQKBogB8noskH89jxs5dOw78MC7h5/VkUjiSQD+1fvPKDi8+/+ZhX0/lawzl5bv70jZ1dHTQTJ0xfr5gv+/HQ4vXr/smC/GC9Ixz6QL+T+aPo5ExrvT0E/BwX7I0RoR9TSajFebgmWc7TgINjk6OG/POKVnLctKzE06SECtNK2+67nKLOipdIEEOp7jI73QKg+lKWE3aDB56N5wPuUvCpInpCazEEM7yS86wQloh7tBVXFLEbpa8REL8fjkdl2Y158NItDOp/XnZimXM/ZW3lJY+WSH2dwttRt5o+6+3r+6C4A/6Tkq6EjNp4uz44pIS05wZi94V4164ZNYSN1cXKyz54hyowFnK+0X0GJGccXpneKuwQRcvJB3YvXPfAgSX6CPVeBK2avUb1huy79COLecuHp1Dx5fgU+wCId70zapnhNdZaGPwb9mq2SgBRx45uK87p1Xgjh3NjrV0FmHm92YtnirGggfYp09XV5PRFIBNIeDGohstke/9edtrCNmifC0l/YdXXxz3Cxy76dfPVz4DC4L/sYQvkhFh+HT1h62EEP+45+dFEGJ8xp6enXhSfUsWBRkEM45KubIDe5qE+DsE9XSlNM2lbMv0YP4OxaJIzsm+ePd6DivMb8vu6GKYviyJFRq7Se/d+hq4KMa104PZLBLgDXRiRkPhbU5h7s03PNgx4J9UCvBsGqDnBh/YoO07PDUefEtLyzK7tI9Yh80dQtTr1m7JPHL4+HLg6GxB9f2Hy0M1CNtg5wx4VUnWaO1bNn12YJBfizf69hr+5Zujpqx5PnLUp43rtZvVtFHHCBFAdHFxDlu28v1w8JEljf6FIaN/FseJ8DGe4I9wvYAj37Z113XZVnsaZxUyM8+nkYJJw5Gjn386/JFos3Tl+3NQ1nMpDB/aGbmpxkfL329Wu46fcqiD7je7U9u+n0M72jr5nhDt/ldzH7fgIJOJ+0+aNjaw34AeihI6ezph7YiX3zpGk3sjI/fsWfN7q1KQQUibvNIF51kECfMysmuNlFPUjy2sHchWvhzAyXNM9aWshDTsQOmD0vrShwWKkI704vZFddkXRDuXhJgsELKYS9n7CxKkF1b8KNFr8WQS3Gw6g74JztRNeefNDwXXyeNnzSIBI88gl40GpkRyhg4aeeD69RvKQ8aSHbNrfS+Exvy8yn9OQ7Q1z2kCd+D8BDZnGdcTTqTmJCTjRKgky3nQntezc0+JNl7etRT7WqM1XcOuX9ZoKnlvBB1yrdb6CmhwqU2cjNzEs/A2vPj82Nj0tMz9oLWzt/Pfd3DbYNjntJmr06x5Ywf6ZEIRbuBHvz5lWplOp7jrnvRxZPD/byZ8IE0u3IZ16wbaTpw8Zgn6pjBiQq9uQ2Po6/SyjJwEiy/qfQW5/AYkvviyNIEEcgIFqstweou07GgXA4sZ6cxrlNP89X9MDe7sILM9JK4v60CrYyUlejZy0Z/SrL+oHr8EB7w4q7hr78ZZcLMJritXL16jXr5FGZsoQdOqTfNRM2ZNrGvU81pVfXUGWnoZlN2seqOl8PgH/dFWtm4noF07te33KX0GmIv+GjdpOIzs4SCUN2xZ9Q5lyrPbuuW7uT/tPXjLykq6bMmzAfr/pVQs3WmG8W785rMRlCkr//w50eWrKWPx9zyHuzenvZs/MItOl1a85cGvajjbpJNYdYpd97C3YkfH2fGeK0qkdDCg3x4JoI3fXknH6hMNRnFLx9igZTnSwQd28IgExw9fpO9PTVbQVOR6CkFzslvP0pI/+36scLwRp+9A88a4Vxbt2bV3WHz8hUb0uzm3yn9i4H6tVbgHmCQqykcuptBX2/6uYXFk37d4+413pn62Jvo/YPLm+Nfmt+/QZouzs5PiL066dHnrhHEz4xB8QLDnkTv6hxuQtyWAPESKXV9VV5JReyM193QWBNTXlT4Y4boaeGF9fL26og3cbF9vjsmRtdqcq9nxVX6R9NCCDKYf50jfv+3EO5gYHYbjzItATZg1OzVG5t3IFrWmjeGPpL9cCQ8HXYpGw3rQB38XUX2SCd8ilOmMrouXzAmBpgJvsnUNg/u/shBlnMC2dD7Wzy24HTaAzVuFxtSrFxhBk6fd+u1X8+rXaT2Jlcmt6ZzVHQMYPKEk0SecYEVnd/WCpZNzjZoKjII28FrgvK9tDftjly//dkfQIL+WF5dF9nDyrl37WLeYZ+b3j+g5kzaX9s2aN3kV+OLC4iud2vXfiMMqdYJdfk2NBfT/jfTc0P49unXrVKXQiVEWFhUXvT12xgHaK+jpxf3doNH7IUjWf0DPZwXNvh8OHkFZMsiKshRw8/yRBBmNl+VLZ0fb8ZayzH4krdyEnpQnudbiKRxMAbry9Y5gJwnfOzpfUpZF804fp46dOwlxvY5dnnZ64aVIRbOC39ovN8/GAW9ZsrpoSYhBU82dnczPkbpiI5iUcrK1ra2Nl2M1x7oHf/lueOd2/TeYmEnxAID2iSSDdQbZVp6ff7J214IPZ3YnnnLdunUiyNSJuMvfSC/fi8eOnepAp6EOnss5Rydc/kp0EDORfuXOZeyoqSeDmzSIQVtg8Q3K4IGvzkSZW9vd87sdgP+3Ejw05n3hFxroMgffU6f7KBs4uM8fy5euTjFKRkf6ks4FRJ61PJojL7hTePH99z5Kwsuael3R2gBbTPcMwiKVBeBkxh0KtGw7mQ/dhbeUynihvrU2sKEr2JPb1Km7h238a+ylp4zc6IRNXsdObV3JTswqKCw0kUeCNmLxiWp68zLOBpTeLm5LGydt377dXJycnazhewUd/K/YLZPmk8aOf80/LSW96Ntvf8jFRGodXA5iyRf88Es5xQZda0GbkZZVtGP77ntocaKXlRW3wQOv5ugot+vUyqluUGB18CGT5hZ+jwuOfRx0FbzVOcLQaz7Z0Q6eCsDRHzayiodCI58URwXVbR6l/Lghavw6hYGZsDr/rYSNLSKQcfS7AwiOSGWF4eJewRAmRVAD59MPOjPytwUZncAN5yyzhVacDSFlbDJIbO1qkzQXuP9Gql+/bTXj7WLbUq1t4V3H+kN3q5zWOnq5Jn05Jdm6GvMTExPJnC9PCDgYC2/X1Mp6o38j1xv3m0Q1LT5wu985DghlzGcxdqUaKzvSRpLJXtaFhdUpND8mLsZhKQcPuhSTxRL+UWFCkM3bPexZC/N2/9b/nYF/Z+AxZuD/AA8zEhkTLyOGAAAAAElFTkSuQmCC');
}

/* layers control */

.l7-control-layers {
  -webkit-box-shadow: 0 1px 8px rgba(0, 0, 0, 0.4);
          box-shadow: 0 1px 8px rgba(0, 0, 0, 0.4);
  background: #fff;
  border-radius: 2px;
}
.l7-control-layers-toggle {
  background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAkCAYAAAGf7Ah0AAAABGdBTUEAALGPC/xhBQAABzdJREFUWAnVV3lslEUUn/l2F0tpwdAih1HEqCReDcphNCo1EkgFkXa5PNpuC0Fo2e7Wgko8KiaKWrvbK5672xYFpNtiRRuNiY0aURA14BGviBcVlaKltVa6+42/N9v5Mrtt05rwj/PHzjt+8743b+a9N8vYwKgMNlUQyemnMtAkaJajvb3dToQSGp8e6boopkr4VYgEMYwO0vhCTfMVzBcMf8bx086YyODcuM80zTqp9IWat+7evW8sMdIxIqqCLa6oiAaJpuEtcBqcc2HEWMZ0JclgZR/Nchf++ubrzKjJSguXS4tVjXvPjfb3/UAAacGTn/MOMb7QnjNpNqP/bKZ50Ai0tqYmCi0n4zbM+W+lBc7JBOa+QPhDwcTsxJXE2+32edKCL9h8hRDmRzpIOWydAylhrcMfDN+ugBRKSdP3KwPhsFJIPth02FISIYQwYsDYcVfWhy/Bon4JgumffMGmiGTwQ0B/sHml4q2ZFAD3WQIQVhx0IdFw8B189lolN+w8w5PnjPmlhJgtA8/vfn3iye7u3yGzDljDxZEG4097Cp3rSSjBtMHunp6vFR+HHoIxmbgTe1xHKssDHecLNFUjMzbqMs5ZlHF7ute17M84+TMHDzr+OvR9JwKdCms9yRkzJq6bPTsWXh05QOPUN+PUHyPWMPhm6UHd7vaUohWZPSRE8OqxpTyibQa/qcTlbEP0vwF7AWUAT3JM9dy69FfSNza+MU4awNE8iQtXSkJuGLleV852ov2h5jkwVof0mUs8aO4LhTuYYFOAjExId0wcFIPahpaLTkWiX9ECfHG/sLNi1i8+HODfgLFFRI96+INNi0cNTgTS1obKQh03aAuk9DeELzcj4pACYivvwvXrFK/PcQZiQWo+hmidpYMUjQC7EOB6xdNsGfAHwk/RDdOVw9Dm+NTUSWtWLDohDVQ37JkbiUT2DwMeVswZP+gtdM4x3HnLDhjcGM2XLWOISaenIGee9MCSgqgMht/H/q/SZYk0qviV3oKcj5XcioESyOoqIseFYDYloxnAGm/hcrcuk3JV2XBMl+pKqn6mENux11+w12m6jpqMMFn7rPPTHdwfCm8yTfG4tMaNu+GepPUFiqbM7T105ARSPQU+dY/LOC/N2gI65WEkyWUEtjmSppfkLvlRLaQ5VnZFDtGGzbheNRROKZmbu/AvUvh3tE4Wff2/0IUC+y2q+4VVoXBW1BSvkR7Rb8BW84lWJQBdlGozcs7GLy3Nd35OSqTxBqtfgkc1+sPjcqbDgEl6xK0dH5lv545LOCVL1/F+3CoY4eyY1+WcBiC2KYEHQBd5XDkyndE17xCm2Ug6BLcSwb3LigE1AlOYu6TS4HUwVEw0Df1osfBnLDwnpiFDCQPuvQ73Fkqxg8/hEVYLXt66MXbbzOK8bKre1hhkgDT0RDja3fEHytwZxCMLH0YWPkD0fxqjqUZDejDSV3z1LbexqPkEPJxKWLqtKOGbvPnZL460NlE/KgfkIZiRrfjShsQcG2QQDUwwXjcuZcID61Ys6ErUJ/LDOiCfLUzUjVQdEg0O4jn/ABEq0iuIjrEcwE0x/KGWNbjPj4BO00Gni0ZOoIPzLR5X9vMqqaQDqDzzENra4V5zp8sBZQcROYjsLvYUOPdbEVBKeiZ193QjCmwtZCM+ldS6EWYTH3wuNSV1i+pFCj/IAaWgGUfBq0N78qPM3DZcp9TxcTQeyzZm3ON2LatXpSlOP8BIB6qDLddHmHnFrBlpNZmZmdZbNXEB9XsRlZXFennqGHzoXW5DaId4iSoc/Q365EjnRjszPnYXZL9NDWUtGsqzCjAw7xprTypbn7fkaILcYqkInzzeX06C8emO8sKlS7stZQLxVMPes/+O9FVAvEpXob+utY6gZmfrtMjf/RUI+2odhF7wJbq+Gzf3zTj5CAwyaoEwozVoCzN1KKK00z7WUbZx9dIOklsO6CAZpu87i5gpHoJ8gtLh9vZixSO2KckV7qysf5Sc5uq2tjOix3rL0FW3IJuSNV0XM/iDs85LqxvqeKUD8n3LxUobt5WVuLJlS9IM4O9i09VRwWtxLWfpcix+hXjs8mZdjn19YuOiuKRgufzXqOuqQi2r8O+yAk/tl2Q/RMW7ETe8UdX1GJhHDM5qjDHJ5e7bs07qBp7ZsTe9t6/vUXykkLKEdLFbLgLJSUn3rrt1yXEdX/1C23jzVG+5Keg/B5r2wJD9g/NcaUAJq4MvXxxl/TWoATcoGc0Av4eUKnIXZlsvXpLHO0CS2KgOtGQgdeuwqWuUjGbUgrdszLHRXXDLF0oe54AS0kyPnc5Iz/2CmV7EeIzSwcjvsHQPXkUhld/kCP6Xu+DRNjg/SWHh+SnODF+aPeVh9XCydAPEsA4kAqsCzcuiTPiw7+maTj6SwGsVk/9gY9xbUpizR8MNS47aAd0C7s35CG8VdrxYyjl/FcdUgo73nY77X9D/Au9RDMh+aBoVAAAAAElFTkSuQmCC');
  width: 30px;
  height: 30px;
  background-size: 20px 20px;
}

.l7-touch .l7-control-layers-toggle {
  width: 44px;
  height: 44px;
}
.l7-control-layers .l7-control-layers-list,
.l7-control-layers-expanded .l7-control-layers-toggle {
  display: none;
}
.l7-control-layers-expanded .l7-control-layers-list {
  display: block;
  position: relative;
}
.l7-control-layers-expanded {
  padding: 6px 10px 6px 6px;
  color: #59626b;
  background: #fff;
}
.l7-control-layers-scrollbar {
  overflow-y: scroll;
  overflow-x: hidden;
  padding-right: 5px;
}
.l7-control-layers-selector {
  margin-top: 2px;
  position: relative;
  top: 1px;
}
.l7-control-layers label {
  display: block;
  padding: 8px;
}
.l7-control-layers label input[type='radio'],
.l7-control-layers label input[type='checkbox'] {
  width: 14px;
  height: 14px;
  margin: 0;
}
.l7-control-layers-separator {
  height: 0;
  border-top: 1px solid #d8d8d8;
  margin: 5px -10px 5px -6px;
}
.mapboxgl-ctrl-logo {
  display: none !important;
}
.amap-logo {
  display: none !important;
}
`)},"kQ+U":function(ze,A,r){"use strict";r.d(A,"a",function(){return kt});var M=r("J4zp"),y=r.n(M),T=r("lwsE"),b=r.n(T),u=r("W8MJ"),H=r.n(u),k=r("lSNA"),Z=r.n(k),oe=r("k5/I"),ne=r("h1nZ"),Te=r("yXPU"),at=r.n(Te),ve=r("o0o1"),we=r.n(ve),I=r("4cb6"),Ce=r("SUU4"),et=r.n(Ce),Et=r("mNvP"),We=function(){function ft(ut,Ze){b()(this,ft),Z()(this,"attribute",void 0),Z()(this,"buffer",void 0);var Qt=Ze.buffer,ar=Ze.offset,zr=Ze.stride,qr=Ze.normalized,tn=Ze.size,_n=Ze.divisor;this.buffer=Qt,this.attribute={buffer:Qt.get(),offset:ar||0,stride:zr||0,normalized:qr||!1,divisor:_n||0},tn&&(this.attribute.size=tn)}return H()(ft,[{key:"get",value:function(){return this.attribute}},{key:"updateBuffer",value:function(Ze){this.buffer.subData(Ze)}},{key:"destroy",value:function(){this.buffer.destroy()}}]),ft}(),ct,ce,Vt,It,Mt,Tt,ye,lt,yt,Dt,Jt,At,vt,ie,J=(ct={},Z()(ct,ne.gl.POINTS,"points"),Z()(ct,ne.gl.LINES,"lines"),Z()(ct,ne.gl.LINE_LOOP,"line loop"),Z()(ct,ne.gl.LINE_STRIP,"line strip"),Z()(ct,ne.gl.TRIANGLES,"triangles"),Z()(ct,ne.gl.TRIANGLE_FAN,"triangle fan"),Z()(ct,ne.gl.TRIANGLE_STRIP,"triangle strip"),ct),ee=(ce={},Z()(ce,ne.gl.STATIC_DRAW,"static"),Z()(ce,ne.gl.DYNAMIC_DRAW,"dynamic"),Z()(ce,ne.gl.STREAM_DRAW,"stream"),ce),Ie=(Vt={},Z()(Vt,ne.gl.BYTE,"int8"),Z()(Vt,ne.gl.UNSIGNED_INT,"int16"),Z()(Vt,ne.gl.INT,"int32"),Z()(Vt,ne.gl.UNSIGNED_BYTE,"uint8"),Z()(Vt,ne.gl.UNSIGNED_SHORT,"uint16"),Z()(Vt,ne.gl.UNSIGNED_INT,"uint32"),Z()(Vt,ne.gl.FLOAT,"float"),Vt),me=(It={},Z()(It,ne.gl.ALPHA,"alpha"),Z()(It,ne.gl.LUMINANCE,"luminance"),Z()(It,ne.gl.LUMINANCE_ALPHA,"luminance alpha"),Z()(It,ne.gl.RGB,"rgb"),Z()(It,ne.gl.RGBA,"rgba"),Z()(It,ne.gl.RGBA4,"rgba4"),Z()(It,ne.gl.RGB5_A1,"rgb5 a1"),Z()(It,ne.gl.RGB565,"rgb565"),Z()(It,ne.gl.DEPTH_COMPONENT,"depth"),Z()(It,ne.gl.DEPTH_STENCIL,"depth stencil"),It),Ve=(Mt={},Z()(Mt,ne.gl.DONT_CARE,"dont care"),Z()(Mt,ne.gl.NICEST,"nice"),Z()(Mt,ne.gl.FASTEST,"fast"),Mt),Re=(Tt={},Z()(Tt,ne.gl.NEAREST,"nearest"),Z()(Tt,ne.gl.LINEAR,"linear"),Z()(Tt,ne.gl.LINEAR_MIPMAP_LINEAR,"mipmap"),Z()(Tt,ne.gl.NEAREST_MIPMAP_LINEAR,"nearest mipmap linear"),Z()(Tt,ne.gl.LINEAR_MIPMAP_NEAREST,"linear mipmap nearest"),Z()(Tt,ne.gl.NEAREST_MIPMAP_NEAREST,"nearest mipmap nearest"),Tt),bt=(ye={},Z()(ye,ne.gl.REPEAT,"repeat"),Z()(ye,ne.gl.CLAMP_TO_EDGE,"clamp"),Z()(ye,ne.gl.MIRRORED_REPEAT,"mirror"),ye),Pt=(lt={},Z()(lt,ne.gl.NONE,"none"),Z()(lt,ne.gl.BROWSER_DEFAULT_WEBGL,"browser"),lt),ht=(yt={},Z()(yt,ne.gl.NEVER,"never"),Z()(yt,ne.gl.ALWAYS,"always"),Z()(yt,ne.gl.LESS,"less"),Z()(yt,ne.gl.LEQUAL,"lequal"),Z()(yt,ne.gl.GREATER,"greater"),Z()(yt,ne.gl.GEQUAL,"gequal"),Z()(yt,ne.gl.EQUAL,"equal"),Z()(yt,ne.gl.NOTEQUAL,"notequal"),yt),Ye=(Dt={},Z()(Dt,ne.gl.FUNC_ADD,"add"),Z()(Dt,ne.gl.MIN_EXT,"min"),Z()(Dt,ne.gl.MAX_EXT,"max"),Z()(Dt,ne.gl.FUNC_SUBTRACT,"subtract"),Z()(Dt,ne.gl.FUNC_REVERSE_SUBTRACT,"reverse subtract"),Dt),Ke=(Jt={},Z()(Jt,ne.gl.ZERO,"zero"),Z()(Jt,ne.gl.ONE,"one"),Z()(Jt,ne.gl.SRC_COLOR,"src color"),Z()(Jt,ne.gl.ONE_MINUS_SRC_COLOR,"one minus src color"),Z()(Jt,ne.gl.SRC_ALPHA,"src alpha"),Z()(Jt,ne.gl.ONE_MINUS_SRC_ALPHA,"one minus src alpha"),Z()(Jt,ne.gl.DST_COLOR,"dst color"),Z()(Jt,ne.gl.ONE_MINUS_DST_COLOR,"one minus dst color"),Z()(Jt,ne.gl.DST_ALPHA,"dst alpha"),Z()(Jt,ne.gl.ONE_MINUS_DST_ALPHA,"one minus dst alpha"),Z()(Jt,ne.gl.CONSTANT_COLOR,"constant color"),Z()(Jt,ne.gl.ONE_MINUS_CONSTANT_COLOR,"one minus constant color"),Z()(Jt,ne.gl.CONSTANT_ALPHA,"constant alpha"),Z()(Jt,ne.gl.ONE_MINUS_CONSTANT_ALPHA,"one minus constant alpha"),Z()(Jt,ne.gl.SRC_ALPHA_SATURATE,"src alpha saturate"),Jt),nt=(At={},Z()(At,ne.gl.NEVER,"never"),Z()(At,ne.gl.ALWAYS,"always"),Z()(At,ne.gl.LESS,"less"),Z()(At,ne.gl.LEQUAL,"lequal"),Z()(At,ne.gl.GREATER,"greater"),Z()(At,ne.gl.GEQUAL,"gequal"),Z()(At,ne.gl.EQUAL,"equal"),Z()(At,ne.gl.NOTEQUAL,"notequal"),At),Ot=(vt={},Z()(vt,ne.gl.ZERO,"zero"),Z()(vt,ne.gl.KEEP,"keep"),Z()(vt,ne.gl.REPLACE,"replace"),Z()(vt,ne.gl.INVERT,"invert"),Z()(vt,ne.gl.INCR,"increment"),Z()(vt,ne.gl.DECR,"decrement"),Z()(vt,ne.gl.INCR_WRAP,"increment wrap"),Z()(vt,ne.gl.DECR_WRAP,"decrement wrap"),vt),Xe=(ie={},Z()(ie,ne.gl.FRONT,"front"),Z()(ie,ne.gl.BACK,"back"),ie),xt=function(){function ft(ut,Ze){b()(this,ft),Z()(this,"buffer",void 0);var Qt=Ze.data,ar=Ze.usage,zr=Ze.type;this.buffer=ut.buffer({data:Qt,usage:ee[ar||ne.gl.STATIC_DRAW],type:Ie[zr||ne.gl.UNSIGNED_BYTE]})}return H()(ft,[{key:"get",value:function(){return this.buffer}},{key:"destroy",value:function(){this.buffer.destroy()}},{key:"subData",value:function(Ze){var Qt=Ze.data,ar=Ze.offset;this.buffer.subdata(Qt,ar)}}]),ft}(),Ne=function(){function ft(ut,Ze){b()(this,ft),Z()(this,"elements",void 0);var Qt=Ze.data,ar=Ze.usage,zr=Ze.type,qr=Ze.count;this.elements=ut.elements({data:Qt,usage:ee[ar||ne.gl.STATIC_DRAW],type:Ie[zr||ne.gl.UNSIGNED_BYTE],count:qr})}return H()(ft,[{key:"get",value:function(){return this.elements}},{key:"subData",value:function(Ze){var Qt=Ze.data;this.elements.subdata(Qt)}},{key:"destroy",value:function(){}}]),ft}(),B=function(){function ft(ut,Ze){b()(this,ft),Z()(this,"framebuffer",void 0);var Qt=Ze.width,ar=Ze.height,zr=Ze.color,qr=Ze.colors,tn=Ze.depth,_n=Ze.stencil,Bn={width:Qt,height:ar};Array.isArray(qr)&&(Bn.colors=qr.map(function(ya){return ya.get()})),zr&&typeof zr!="boolean"&&(Bn.color=zr.get()),this.framebuffer=ut.framebuffer(Bn)}return H()(ft,[{key:"get",value:function(){return this.framebuffer}},{key:"destroy",value:function(){this.framebuffer.destroy()}},{key:"resize",value:function(Ze){var Qt=Ze.width,ar=Ze.height;this.framebuffer.resize(Qt,ar)}}]),ft}(),z=r("cDf5"),q=r.n(z),S=r("c6wG"),K=r.n(S),fe=r("YO3V"),Fe=r.n(fe);function pe(ft,ut){var Ze=Object.keys(ft);if(Object.getOwnPropertySymbols){var Qt=Object.getOwnPropertySymbols(ft);ut&&(Qt=Qt.filter(function(ar){return Object.getOwnPropertyDescriptor(ft,ar).enumerable})),Ze.push.apply(Ze,Qt)}return Ze}function Me(ft){for(var ut=1;ut<arguments.length;ut++){var Ze=arguments[ut]!=null?arguments[ut]:{};ut%2?pe(Object(Ze),!0).forEach(function(Qt){Z()(ft,Qt,Ze[Qt])}):Object.getOwnPropertyDescriptors?Object.defineProperties(ft,Object.getOwnPropertyDescriptors(Ze)):pe(Object(Ze)).forEach(function(Qt){Object.defineProperty(ft,Qt,Object.getOwnPropertyDescriptor(Ze,Qt))})}return ft}var U=function(){function ft(ut,Ze){b()(this,ft),Z()(this,"reGl",void 0),Z()(this,"destroyed",!1),Z()(this,"drawCommand",void 0),Z()(this,"drawParams",void 0),Z()(this,"options",void 0),Z()(this,"uniforms",{}),this.reGl=ut;var Qt=Ze.vs,ar=Ze.fs,zr=Ze.attributes,qr=Ze.uniforms,tn=Ze.primitive,_n=Ze.count,Bn=Ze.elements,ya=Ze.depth,Tr=Ze.blend,it=Ze.stencil,ue=Ze.cull,ge=Ze.instances,De={};this.options=Ze,qr&&(this.uniforms=this.extractUniforms(qr),Object.keys(qr).forEach(function(rt){De[rt]=ut.prop(rt)}));var Ee={};Object.keys(zr).forEach(function(rt){Ee[rt]=zr[rt].get()});var be={attributes:Ee,frag:ar,uniforms:De,vert:Qt,primitive:J[tn===void 0?ne.gl.TRIANGLES:tn]};ge&&(be.instances=ge),_n&&(be.count=_n),Bn&&(be.elements=Bn.get()),this.initDepthDrawParams({depth:ya},be),this.initBlendDrawParams({blend:Tr},be),this.initStencilDrawParams({stencil:it},be),this.initCullDrawParams({cull:ue},be),this.drawCommand=ut(be),this.drawParams=be}return H()(ft,[{key:"addUniforms",value:function(Ze){this.uniforms=Me(Me({},this.uniforms),this.extractUniforms(Ze))}},{key:"draw",value:function(Ze){if(!(this.drawParams.attributes&&Object.keys(this.drawParams.attributes).length===0)){var Qt=Me(Me({},this.uniforms),this.extractUniforms(Ze.uniforms||{})),ar={};Object.keys(Qt).forEach(function(zr){var qr=q()(Qt[zr]);qr==="boolean"||qr==="number"||Array.isArray(Qt[zr])||Qt[zr].BYTES_PER_ELEMENT?ar[zr]=Qt[zr]:ar[zr]=Qt[zr].get()}),this.drawCommand(ar)}}},{key:"destroy",value:function(){this.drawParams.elements.destroy(),this.options.attributes&&Object.values(this.options.attributes).forEach(function(Ze){Ze.destroy()}),this.destroyed=!0}},{key:"initDepthDrawParams",value:function(Ze,Qt){var ar=Ze.depth;ar&&(Qt.depth={enable:ar.enable===void 0?!0:!!ar.enable,mask:ar.mask===void 0?!0:!!ar.mask,func:ht[ar.func||ne.gl.LESS],range:ar.range||[0,1]})}},{key:"initBlendDrawParams",value:function(Ze,Qt){var ar=Ze.blend;if(ar){var zr=ar.enable,qr=ar.func,tn=ar.equation,_n=ar.color,Bn=_n===void 0?[0,0,0,0]:_n;Qt.blend={enable:!!zr,func:{srcRGB:Ke[qr&&qr.srcRGB||ne.gl.SRC_ALPHA],srcAlpha:Ke[qr&&qr.srcAlpha||ne.gl.SRC_ALPHA],dstRGB:Ke[qr&&qr.dstRGB||ne.gl.ONE_MINUS_SRC_ALPHA],dstAlpha:Ke[qr&&qr.dstAlpha||ne.gl.ONE_MINUS_SRC_ALPHA]},equation:{rgb:Ye[tn&&tn.rgb||ne.gl.FUNC_ADD],alpha:Ye[tn&&tn.alpha||ne.gl.FUNC_ADD]},color:Bn}}}},{key:"initStencilDrawParams",value:function(Ze,Qt){var ar=Ze.stencil;if(ar){var zr=ar.enable,qr=ar.mask,tn=qr===void 0?-1:qr,_n=ar.func,Bn=_n===void 0?{cmp:ne.gl.ALWAYS,ref:0,mask:-1}:_n,ya=ar.opFront,Tr=ya===void 0?{fail:ne.gl.KEEP,zfail:ne.gl.KEEP,zpass:ne.gl.KEEP}:ya,it=ar.opBack,ue=it===void 0?{fail:ne.gl.KEEP,zfail:ne.gl.KEEP,zpass:ne.gl.KEEP}:it;Qt.stencil={enable:!!zr,mask:tn,func:Me(Me({},Bn),{},{cmp:nt[Bn.cmp]}),opFront:{fail:Ot[Tr.fail],zfail:Ot[Tr.zfail],zpass:Ot[Tr.zpass]},opBack:{fail:Ot[ue.fail],zfail:Ot[ue.zfail],zpass:Ot[ue.zpass]}}}}},{key:"initCullDrawParams",value:function(Ze,Qt){var ar=Ze.cull;if(ar){var zr=ar.enable,qr=ar.face,tn=qr===void 0?ne.gl.BACK:qr;Qt.cull={enable:!!zr,face:Xe[tn]}}}},{key:"extractUniforms",value:function(Ze){var Qt=this,ar={};return Object.keys(Ze).forEach(function(zr){Qt.extractUniformsRecursively(zr,Ze[zr],ar,"")}),ar}},{key:"extractUniformsRecursively",value:function(Ze,Qt,ar,zr){var qr=this;if(Qt===null||typeof Qt=="number"||typeof Qt=="boolean"||Array.isArray(Qt)&&typeof Qt[0]=="number"||K()(Qt)||Qt===""||"resize"in Qt){ar["".concat(zr&&zr+".").concat(Ze)]=Qt;return}Fe()(Qt)&&Object.keys(Qt).forEach(function(tn){qr.extractUniformsRecursively(tn,Qt[tn],ar,"".concat(zr&&zr+".").concat(Ze))}),Array.isArray(Qt)&&Qt.forEach(function(tn,_n){Object.keys(tn).forEach(function(Bn){qr.extractUniformsRecursively(Bn,tn[Bn],ar,"".concat(zr&&zr+".").concat(Ze,"[").concat(_n,"]"))})})}}]),ft}(),le=function(){function ft(ut,Ze){b()(this,ft),Z()(this,"texture",void 0),Z()(this,"width",void 0),Z()(this,"height",void 0);var Qt=Ze.data,ar=Ze.type,zr=ar===void 0?ne.gl.UNSIGNED_BYTE:ar,qr=Ze.width,tn=Ze.height,_n=Ze.flipY,Bn=_n===void 0?!1:_n,ya=Ze.format,Tr=ya===void 0?ne.gl.RGBA:ya,it=Ze.mipmap,ue=it===void 0?!1:it,ge=Ze.wrapS,De=ge===void 0?ne.gl.CLAMP_TO_EDGE:ge,Ee=Ze.wrapT,be=Ee===void 0?ne.gl.CLAMP_TO_EDGE:Ee,rt=Ze.aniso,de=rt===void 0?0:rt,Pe=Ze.alignment,xe=Pe===void 0?1:Pe,Oe=Ze.premultiplyAlpha,dt=Oe===void 0?!1:Oe,Gt=Ze.mag,$t=Gt===void 0?ne.gl.NEAREST:Gt,nr=Ze.min,lr=nr===void 0?ne.gl.NEAREST:nr,Dr=Ze.colorSpace,Pr=Dr===void 0?ne.gl.BROWSER_DEFAULT_WEBGL:Dr;this.width=qr,this.height=tn;var Wr={width:qr,height:tn,type:Ie[zr],format:me[Tr],wrapS:bt[De],wrapT:bt[be],mag:Re[$t],min:Re[lr],alignment:xe,flipY:Bn,colorSpace:Pt[Pr],premultiplyAlpha:dt,aniso:de};Qt&&(Wr.data=Qt),typeof ue=="number"?Wr.mipmap=Ve[ue]:typeof ue=="boolean"&&(Wr.mipmap=ue),this.texture=ut.texture(Wr)}return H()(ft,[{key:"get",value:function(){return this.texture}},{key:"update",value:function(){var Ze=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};this.texture(Ze)}},{key:"bind",value:function(){this.texture._texture.bind()}},{key:"resize",value:function(Ze){var Qt=Ze.width,ar=Ze.height;this.texture.resize(Qt,ar),this.width=Qt,this.height=ar}},{key:"destroy",value:function(){this.texture.destroy()}}]),ft}(),Le,ot,St=(Le=Object(I.injectable)(),Le(ot=function(){function ft(){var ut=this;b()(this,ft),Z()(this,"extensionObject",void 0),Z()(this,"gl",void 0),Z()(this,"$container",void 0),Z()(this,"canvas",void 0),Z()(this,"width",void 0),Z()(this,"height",void 0),Z()(this,"isDirty",void 0),Z()(this,"createModel",function(Ze){return new U(ut.gl,Ze)}),Z()(this,"createAttribute",function(Ze){return new We(ut.gl,Ze)}),Z()(this,"createBuffer",function(Ze){return new xt(ut.gl,Ze)}),Z()(this,"createElements",function(Ze){return new Ne(ut.gl,Ze)}),Z()(this,"createTexture2D",function(Ze){return new le(ut.gl,Ze)}),Z()(this,"createFramebuffer",function(Ze){return new B(ut.gl,Ze)}),Z()(this,"useFramebuffer",function(Ze,Qt){ut.gl({framebuffer:Ze?Ze.get():null})(Qt)}),Z()(this,"clear",function(Ze){var Qt=Ze.color,ar=Ze.depth,zr=Ze.stencil,qr=Ze.framebuffer,tn=qr===void 0?null:qr,_n={color:Qt,depth:ar,stencil:zr};_n.framebuffer=tn===null?tn:tn.get(),ut.gl.clear(_n)}),Z()(this,"viewport",function(Ze){var Qt=Ze.x,ar=Ze.y,zr=Ze.width,qr=Ze.height;ut.gl._gl.viewport(Qt,ar,zr,qr),ut.width=zr,ut.height=qr,ut.gl._refresh()}),Z()(this,"readPixels",function(Ze){var Qt=Ze.framebuffer,ar=Ze.x,zr=Ze.y,qr=Ze.width,tn=Ze.height,_n={x:ar,y:zr,width:qr,height:tn};return Qt&&(_n.framebuffer=Qt.get()),ut.gl.read(_n)}),Z()(this,"getViewportSize",function(){return{width:ut.gl._gl.drawingBufferWidth,height:ut.gl._gl.drawingBufferHeight}}),Z()(this,"getContainer",function(){var Ze;return(Ze=ut.canvas)===null||Ze===void 0?void 0:Ze.parentElement}),Z()(this,"getCanvas",function(){return ut.canvas}),Z()(this,"getGLContext",function(){return ut.gl._gl}),Z()(this,"destroy",function(){ut.gl.destroy()})}return H()(ft,[{key:"init",value:function(){var ut=at()(we.a.mark(function Qt(ar,zr){var qr=this;return we.a.wrap(function(_n){for(;;)switch(_n.prev=_n.next){case 0:return this.canvas=ar,_n.next=3,new Promise(function(Bn,ya){et()({canvas:qr.canvas,attributes:{alpha:!0,antialias:zr.antialias,premultipliedAlpha:!0,preserveDrawingBuffer:zr.preserveDrawingBuffer},extensions:["OES_element_index_uint","OES_standard_derivatives","angle_instanced_arrays"],optionalExtensions:["oes_texture_float_linear","OES_texture_float","EXT_texture_filter_anisotropic","EXT_blend_minmax","WEBGL_depth_texture"],profile:!0,onDone:function(it,ue){(it||!ue)&&ya(it),Bn(ue)}})});case 3:this.gl=_n.sent,this.extensionObject={OES_texture_float:this.testExtension("OES_texture_float")};case 5:case"end":return _n.stop()}},Qt,this)}));function Ze(Qt,ar){return ut.apply(this,arguments)}return Ze}()},{key:"testExtension",value:function(Ze){return!!this.getGLContext().getExtension(Ze)}},{key:"setBaseState",value:function(){this.gl({cull:{enable:!1,face:"back"},viewport:{x:0,y:0,height:this.width,width:this.height},blend:{enable:!1,equation:"add"},framebuffer:null}),this.gl._refresh()}},{key:"setCustomLayerDefaults",value:function(){var Ze=this.getGLContext();Ze.disable(Ze.CULL_FACE)}},{key:"setDirty",value:function(Ze){this.isDirty=Ze}},{key:"getDirty",value:function(){return this.isDirty}}]),ft}())||ot),Ge=r("Hel2");function Be(ft,ut){var Ze=Object.keys(ft);if(Object.getOwnPropertySymbols){var Qt=Object.getOwnPropertySymbols(ft);ut&&(Qt=Qt.filter(function(ar){return Object.getOwnPropertyDescriptor(ft,ar).enumerable})),Ze.push.apply(Ze,Qt)}return Ze}function Nt(ft){for(var ut=1;ut<arguments.length;ut++){var Ze=arguments[ut]!=null?arguments[ut]:{};ut%2?Be(Object(Ze),!0).forEach(function(Qt){Z()(ft,Qt,Ze[Qt])}):Object.getOwnPropertyDescriptors?Object.defineProperties(ft,Object.getOwnPropertyDescriptors(Ze)):Be(Object(Ze)).forEach(function(Qt){Object.defineProperty(ft,Qt,Object.getOwnPropertyDescriptor(Ze,Qt))})}return ft}var kt=function(){function ft(ut){b()(this,ft),Z()(this,"sceneService",void 0),Z()(this,"mapService",void 0),Z()(this,"controlService",void 0),Z()(this,"layerService",void 0),Z()(this,"iconService",void 0),Z()(this,"markerService",void 0),Z()(this,"popupService",void 0),Z()(this,"fontService",void 0),Z()(this,"interactionService",void 0),Z()(this,"container",void 0);var Ze=ut.id,Qt=ut.map,ar=Object(ne.createSceneContainer)();this.container=ar,Qt.setContainer(ar,Ze),ar.bind(ne.TYPES.IRendererService).to(St).inSingletonScope(),this.sceneService=ar.get(ne.TYPES.ISceneService),this.mapService=ar.get(ne.TYPES.IMapService),this.iconService=ar.get(ne.TYPES.IIconService),this.fontService=ar.get(ne.TYPES.IFontService),this.controlService=ar.get(ne.TYPES.IControlService),this.layerService=ar.get(ne.TYPES.ILayerService),this.markerService=ar.get(ne.TYPES.IMarkerService),this.interactionService=ar.get(ne.TYPES.IInteractionService),this.popupService=ar.get(ne.TYPES.IPopupService),this.initComponent(Ze),this.sceneService.init(ut),this.initControl()}return H()(ft,[{key:"getServiceContainer",value:function(){return this.container}},{key:"getSize",value:function(){return this.mapService.getSize()}},{key:"getMinZoom",value:function(){return this.mapService.getMinZoom()}},{key:"getMaxZoom",value:function(){return this.mapService.getMaxZoom()}},{key:"getType",value:function(){return this.mapService.getType()}},{key:"getMapContainer",value:function(){return this.mapService.getMapContainer()}},{key:"getMapCanvasContainer",value:function(){return this.mapService.getMapCanvasContainer()}},{key:"getMapService",value:function(){return this.mapService}},{key:"exportPng",value:function(Ze){return this.sceneService.exportPng(Ze)}},{key:"exportMap",value:function(Ze){return this.sceneService.exportPng(Ze)}},{key:"registerRenderService",value:function(Ze){var Qt=this;if(this.sceneService.loaded){var ar=new Ze(this);ar.init()}else this.on("loaded",function(){var zr=new Ze(Qt);zr.init()})}},{key:"map",get:function(){return this.mapService.map}},{key:"setBgColor",value:function(Ze){this.mapService.setBgColor(Ze)}},{key:"addLayer",value:function(Ze){var Qt=Object(ne.createLayerContainer)(this.container);Ze.setContainer(Qt),this.sceneService.addLayer(Ze)}},{key:"getLayers",value:function(){return this.layerService.getLayers()}},{key:"getLayer",value:function(Ze){return this.layerService.getLayer(Ze)}},{key:"getLayerByName",value:function(Ze){return this.layerService.getLayerByName(Ze)}},{key:"removeLayer",value:function(Ze){this.layerService.remove(Ze)}},{key:"removeAllLayer",value:function(){this.layerService.removeAllLayers()}},{key:"render",value:function(){this.sceneService.render()}},{key:"addIconFont",value:function(Ze,Qt){this.fontService.addIconFont(Ze,Qt)}},{key:"addIconFonts",value:function(Ze){var Qt=this;Ze.forEach(function(ar){var zr=y()(ar,2),qr=zr[0],tn=zr[1];Qt.fontService.addIconFont(qr,tn)})}},{key:"addFontFace",value:function(Ze,Qt){this.sceneService.addFontFace(Ze,Qt)}},{key:"addImage",value:function(Ze,Qt){this.iconService.addImage(Ze,Qt)}},{key:"hasImage",value:function(Ze){return this.iconService.hasImage(Ze)}},{key:"removeImage",value:function(Ze){this.iconService.removeImage(Ze)}},{key:"addIconFontGlyphs",value:function(Ze,Qt){this.fontService.addIconGlyphs(Qt)}},{key:"addControl",value:function(Ze){this.controlService.addControl(Ze,this.container)}},{key:"removeControl",value:function(Ze){this.controlService.removeControl(Ze)}},{key:"getControlByName",value:function(Ze){return this.controlService.getControlByName(Ze)}},{key:"addMarker",value:function(Ze){this.markerService.addMarker(Ze)}},{key:"addMarkerLayer",value:function(Ze){this.markerService.addMarkerLayer(Ze)}},{key:"removeMarkerLayer",value:function(Ze){this.markerService.removeMarkerLayer(Ze)}},{key:"removeAllMakers",value:function(){this.markerService.removeAllMarkers()}},{key:"addPopup",value:function(Ze){this.popupService.addPopup(Ze)}},{key:"on",value:function(Ze,Qt){ne.SceneEventList.indexOf(Ze)===-1?this.mapService.on(Ze,Qt):this.sceneService.on(Ze,Qt)}},{key:"once",value:function(Ze,Qt){ne.SceneEventList.indexOf(Ze)===-1?this.mapService.once(Ze,Qt):this.sceneService.once(Ze,Qt)}},{key:"off",value:function(Ze,Qt){ne.SceneEventList.indexOf(Ze)===-1?this.mapService.off(Ze,Qt):this.sceneService.off(Ze,Qt)}},{key:"getZoom",value:function(){return this.mapService.getZoom()}},{key:"getCenter",value:function(Ze){return this.mapService.getCenter(Ze)}},{key:"setCenter",value:function(Ze,Qt){return this.mapService.setCenter(Ze,Qt)}},{key:"getPitch",value:function(){return this.mapService.getPitch()}},{key:"setPitch",value:function(Ze){return this.mapService.setPitch(Ze)}},{key:"getRotation",value:function(){return this.mapService.getRotation()}},{key:"getBounds",value:function(){return this.mapService.getBounds()}},{key:"setRotation",value:function(Ze){this.mapService.setRotation(Ze)}},{key:"zoomIn",value:function(){this.mapService.zoomIn()}},{key:"zoomOut",value:function(){this.mapService.zoomOut()}},{key:"panTo",value:function(Ze){this.mapService.panTo(Ze)}},{key:"panBy",value:function(Ze,Qt){this.mapService.panBy(Ze,Qt)}},{key:"getContainer",value:function(){return this.mapService.getContainer()}},{key:"setZoom",value:function(Ze){this.mapService.setZoom(Ze)}},{key:"fitBounds",value:function(Ze,Qt){var ar=this.sceneService.getSceneConfig(),zr=ar.fitBoundsOptions,qr=ar.animate;this.mapService.fitBounds(Ze,Qt||Nt(Nt({},zr),{},{animate:qr}))}},{key:"setZoomAndCenter",value:function(Ze,Qt){this.mapService.setZoomAndCenter(Ze,Qt)}},{key:"setMapStyle",value:function(Ze){this.mapService.setMapStyle(Ze)}},{key:"setMapStatus",value:function(Ze){this.mapService.setMapStatus(Ze)}},{key:"pixelToLngLat",value:function(Ze){return this.mapService.pixelToLngLat(Ze)}},{key:"lngLatToPixel",value:function(Ze){return this.mapService.lngLatToPixel(Ze)}},{key:"containerToLngLat",value:function(Ze){return this.mapService.containerToLngLat(Ze)}},{key:"lngLatToContainer",value:function(Ze){return this.mapService.lngLatToContainer(Ze)}},{key:"destroy",value:function(){this.sceneService.destroy()}},{key:"registerPostProcessingPass",value:function(Ze,Qt){this.container.bind(ne.TYPES.IPostProcessingPass).to(Ze).whenTargetNamed(Qt)}},{key:"initComponent",value:function(Ze){this.controlService.init({container:Ge.a.getContainer(Ze)},this.container),this.markerService.init(this.container),this.popupService.init(this.container)}},{key:"initControl",value:function(){var Ze=this.sceneService.getSceneConfig(),Qt=Ze.logoVisible,ar=Ze.logoPosition;Qt&&this.addControl(new oe.c({position:ar}))}}]),ft}()},kaz8:function(ze,A,r){"use strict";var M=r("rePB"),y=r("wx14"),T=r("q1tI"),b=r("TSYQ"),u=r.n(b),H=r("x1Ya"),k=r("KQm4"),Z=r("ODXe"),oe=r("bT9E"),ne=r("H84U"),Te=function(It,Mt){var Tt={};for(var ye in It)Object.prototype.hasOwnProperty.call(It,ye)&&Mt.indexOf(ye)<0&&(Tt[ye]=It[ye]);if(It!=null&&typeof Object.getOwnPropertySymbols=="function")for(var lt=0,ye=Object.getOwnPropertySymbols(It);lt<ye.length;lt++)Mt.indexOf(ye[lt])<0&&Object.prototype.propertyIsEnumerable.call(It,ye[lt])&&(Tt[ye[lt]]=It[ye[lt]]);return Tt},at=T.createContext(null),ve=function(Mt,Tt){var ye=Mt.defaultValue,lt=Mt.children,yt=Mt.options,Dt=yt===void 0?[]:yt,Jt=Mt.prefixCls,At=Mt.className,vt=Mt.style,ie=Mt.onChange,J=Te(Mt,["defaultValue","children","options","prefixCls","className","style","onChange"]),ee=T.useContext(ne.b),Ie=ee.getPrefixCls,me=ee.direction,Ve=T.useState(J.value||ye||[]),Re=Object(Z.a)(Ve,2),bt=Re[0],Pt=Re[1],ht=T.useState([]),Ye=Object(Z.a)(ht,2),Ke=Ye[0],nt=Ye[1];T.useEffect(function(){"value"in J&&Pt(J.value||[])},[J.value]);var Ot=function(){return Dt.map(function(Fe){return typeof Fe=="string"?{label:Fe,value:Fe}:Fe})},Xe=function(Fe){nt(function(pe){return pe.filter(function(Me){return Me!==Fe})})},xt=function(Fe){nt(function(pe){return[].concat(Object(k.a)(pe),[Fe])})},Ne=function(Fe){var pe=bt.indexOf(Fe.value),Me=Object(k.a)(bt);pe===-1?Me.push(Fe.value):Me.splice(pe,1),"value"in J||Pt(Me);var U=Ot();ie==null||ie(Me.filter(function(le){return Ke.indexOf(le)!==-1}).sort(function(le,Le){var ot=U.findIndex(function(Ge){return Ge.value===le}),St=U.findIndex(function(Ge){return Ge.value===Le});return ot-St}))},B=Ie("checkbox",Jt),z="".concat(B,"-group"),q=Object(oe.a)(J,["value","disabled"]);Dt&&Dt.length>0&&(lt=Ot().map(function(fe){return T.createElement(ct,{prefixCls:B,key:fe.value.toString(),disabled:"disabled"in fe?fe.disabled:J.disabled,value:fe.value,checked:bt.indexOf(fe.value)!==-1,onChange:fe.onChange,className:"".concat(z,"-item"),style:fe.style},fe.label)}));var S={toggleOption:Ne,value:bt,disabled:J.disabled,name:J.name,registerValue:xt,cancelValue:Xe},K=u()(z,Object(M.a)({},"".concat(z,"-rtl"),me==="rtl"),At);return T.createElement("div",Object(y.a)({className:K,style:vt},q,{ref:Tt}),T.createElement(at.Provider,{value:S},lt))},we=T.forwardRef(ve),I=T.memo(we),Ce=r("uaoM"),et=function(It,Mt){var Tt={};for(var ye in It)Object.prototype.hasOwnProperty.call(It,ye)&&Mt.indexOf(ye)<0&&(Tt[ye]=It[ye]);if(It!=null&&typeof Object.getOwnPropertySymbols=="function")for(var lt=0,ye=Object.getOwnPropertySymbols(It);lt<ye.length;lt++)Mt.indexOf(ye[lt])<0&&Object.prototype.propertyIsEnumerable.call(It,ye[lt])&&(Tt[ye[lt]]=It[ye[lt]]);return Tt},Et=function(Mt,Tt){var ye,lt=Mt.prefixCls,yt=Mt.className,Dt=Mt.children,Jt=Mt.indeterminate,At=Jt===void 0?!1:Jt,vt=Mt.style,ie=Mt.onMouseEnter,J=Mt.onMouseLeave,ee=Mt.skipGroup,Ie=ee===void 0?!1:ee,me=et(Mt,["prefixCls","className","children","indeterminate","style","onMouseEnter","onMouseLeave","skipGroup"]),Ve=T.useContext(ne.b),Re=Ve.getPrefixCls,bt=Ve.direction,Pt=T.useContext(at),ht=T.useRef(me.value);T.useEffect(function(){Pt==null||Pt.registerValue(me.value),Object(Ce.a)("checked"in me||!!Pt||!("value"in me),"Checkbox","`value` is not a valid prop, do you mean `checked`?")},[]),T.useEffect(function(){if(!Ie)return me.value!==ht.current&&(Pt==null||Pt.cancelValue(ht.current),Pt==null||Pt.registerValue(me.value)),function(){return Pt==null?void 0:Pt.cancelValue(me.value)}},[me.value]);var Ye=Re("checkbox",lt),Ke=Object(y.a)({},me);Pt&&!Ie&&(Ke.onChange=function(){me.onChange&&me.onChange.apply(me,arguments),Pt.toggleOption&&Pt.toggleOption({label:Dt,value:me.value})},Ke.name=Pt.name,Ke.checked=Pt.value.indexOf(me.value)!==-1,Ke.disabled=me.disabled||Pt.disabled);var nt=u()((ye={},Object(M.a)(ye,"".concat(Ye,"-wrapper"),!0),Object(M.a)(ye,"".concat(Ye,"-rtl"),bt==="rtl"),Object(M.a)(ye,"".concat(Ye,"-wrapper-checked"),Ke.checked),Object(M.a)(ye,"".concat(Ye,"-wrapper-disabled"),Ke.disabled),ye),yt),Ot=u()(Object(M.a)({},"".concat(Ye,"-indeterminate"),At));return T.createElement("label",{className:nt,style:vt,onMouseEnter:ie,onMouseLeave:J},T.createElement(H.a,Object(y.a)({},Ke,{prefixCls:Ye,className:Ot,ref:Tt})),Dt!==void 0&&T.createElement("span",null,Dt))},We=T.forwardRef(Et);We.displayName="Checkbox";var ct=We,ce=ct;ce.Group=I,ce.__ANT_CHECKBOX=!0;var Vt=A.a=ce},l94r:function(ze,A,r){"use strict";r.d(A,"a",function(){return Re});var M=r("lwsE"),y=r.n(M),T=r("W8MJ"),b=r.n(T),u=r("PJYZ"),H=r.n(u),k=r("7W2i"),Z=r.n(k),oe=r("a1gu"),ne=r.n(oe),Te=r("Nsbk"),at=r.n(Te),ve=r("lSNA"),we=r.n(ve),I=r("JBE3"),Ce=r.n(I),et=r("4qC0"),Et=r.n(et),We=r("lSCD"),ct=r.n(We),ce=r("BkRI"),Vt=r.n(ce),It=r("xp6e"),Mt=r("Hel2"),Tt=r("uhBA"),ye=r("rlAn"),lt=r("qxNg");function yt(bt){if(bt.length===0)throw new Error("max requires at least one data point");for(var Pt=bt[0],ht=1;ht<bt.length;ht++)bt[ht]>Pt&&(Pt=bt[ht]);return Pt}function Dt(bt){if(bt.length===0)throw new Error("min requires at least one data point");for(var Pt=bt[0],ht=1;ht<bt.length;ht++)bt[ht]<Pt&&(Pt=bt[ht]);return Pt}function Jt(bt){if(bt.length===0)return 0;for(var Pt=bt[0],ht=0,Ye,Ke=1;Ke<bt.length;Ke++)Ye=Pt+bt[Ke]*1,Math.abs(Pt)>=Math.abs(bt[Ke])?ht+=Pt-Ye+bt[Ke]:ht+=bt[Ke]-Ye+Pt,Pt=Ye;return Pt+ht*1}function At(bt){if(bt.length===0)throw new Error("mean requires at least one data point");return Jt(bt)/bt.length}var vt={min:Dt,max:yt,mean:At,sum:Jt};function ie(bt,Pt){return bt.map(function(ht){return ht[Pt]*1})}function J(bt,Pt){var ht=Object.keys(bt);if(Object.getOwnPropertySymbols){var Ye=Object.getOwnPropertySymbols(bt);Pt&&(Ye=Ye.filter(function(Ke){return Object.getOwnPropertyDescriptor(bt,Ke).enumerable})),ht.push.apply(ht,Ye)}return ht}function ee(bt){for(var Pt=1;Pt<arguments.length;Pt++){var ht=arguments[Pt]!=null?arguments[Pt]:{};Pt%2?J(Object(ht),!0).forEach(function(Ye){we()(bt,Ye,ht[Ye])}):Object.getOwnPropertyDescriptors?Object.defineProperties(bt,Object.getOwnPropertyDescriptors(ht)):J(Object(ht)).forEach(function(Ye){Object.defineProperty(bt,Ye,Object.getOwnPropertyDescriptor(ht,Ye))})}return bt}function Ie(bt){var Pt=me();return function(){var Ye=at()(bt),Ke;if(Pt){var nt=at()(this).constructor;Ke=Reflect.construct(Ye,arguments,nt)}else Ke=Ye.apply(this,arguments);return ne()(this,Ke)}}function me(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(bt){return!1}}function Ve(bt,Pt){if(Array.isArray(Pt))return Pt}var Re=function(bt){Z()(ht,bt);var Pt=Ie(ht);function ht(Ye,Ke){var nt;return y()(this,ht),nt=Pt.call(this),we()(H()(nt),"data",void 0),we()(H()(nt),"extent",void 0),we()(H()(nt),"hooks",{init:new It.c}),we()(H()(nt),"parser",{type:"geojson"}),we()(H()(nt),"transforms",[]),we()(H()(nt),"cluster",!1),we()(H()(nt),"clusterOptions",{enable:!1,radius:40,maxZoom:20,zoom:-99,method:"count"}),we()(H()(nt),"mapService",void 0),we()(H()(nt),"invalidExtent",!1),we()(H()(nt),"originData",void 0),we()(H()(nt),"rawData",void 0),we()(H()(nt),"cfg",{}),we()(H()(nt),"clusterIndex",void 0),nt.originData=Ye,nt.initCfg(Ke),nt.hooks.init.tap("parser",function(){nt.excuteParser()}),nt.hooks.init.tap("cluster",function(){nt.initCluster()}),nt.hooks.init.tap("transform",function(){nt.executeTrans()}),nt.init(),nt}return b()(ht,[{key:"setData",value:function(Ke,nt){this.rawData=Ke,this.originData=Ke,this.initCfg(nt),this.init(),this.emit("update")}},{key:"getClusters",value:function(Ke){return this.clusterIndex.getClusters(this.caculClusterExtent(2),Ke)}},{key:"getClustersLeaves",value:function(Ke){return this.clusterIndex.getLeaves(Ke,Infinity)}},{key:"updateClusterData",value:function(Ke){var nt=this,Ot=this.clusterOptions,Xe=Ot.method,xt=Xe===void 0?"sum":Xe,Ne=Ot.field,B=this.clusterIndex.getClusters(this.caculClusterExtent(2),Math.floor(Ke));this.clusterOptions.zoom=Ke,B.forEach(function(z){z.id||(z.properties.point_count=1)}),(Ne||ct()(xt))&&(B=B.map(function(z){var q=z.id;if(q){var S=nt.clusterIndex.getLeaves(q,Infinity),K=S.map(function(pe){return pe.properties}),fe;if(Et()(xt)&&Ne){var Fe=ie(K,Ne);fe=vt[xt](Fe)}ct()(xt)&&(fe=xt(K)),z.properties.stat=fe}else z.properties.point_count=1;return z})),this.data=Object(ye.getParser)("geojson")({type:"FeatureCollection",features:B}),this.executeTrans()}},{key:"getFeatureById",value:function(Ke){var nt=this.parser.type,Ot=nt===void 0?"geojson":nt;if(Ot==="geojson"&&!this.cluster){var Xe=Ke<this.originData.features.length?this.originData.features[Ke]:"null",xt=Vt()(Xe);if(this.transforms.length!==0){var Ne=this.data.dataArray.find(function(B){return B._id===Ke});xt.properties=Ne}return xt}else return Ke<this.data.dataArray.length?this.data.dataArray[Ke]:"null"}},{key:"getFeatureId",value:function(Ke,nt){var Ot=this.data.dataArray.find(function(Xe){return Xe[Ke]===name});return Ot==null?void 0:Ot._id}},{key:"destroy",value:function(){this.removeAllListeners(),this.originData=null,this.clusterIndex=null,this.data=null}},{key:"caculClusterExtent",value:function(Ke){var nt=[[-Infinity,-Infinity],[Infinity,Infinity]];return this.invalidExtent||(nt=Object(Mt.r)(Object(Mt.h)(this.extent),Ke)),nt[0].concat(nt[1])}},{key:"initCfg",value:function(Ke){this.cfg=Ce()(this.cfg,Ke,Ve);var nt=this.cfg;nt&&(nt.parser&&(this.parser=nt.parser),nt.transforms&&(this.transforms=nt.transforms),this.cluster=nt.cluster||!1,nt.clusterOptions&&(this.cluster=!0,this.clusterOptions=ee(ee({},this.clusterOptions),nt.clusterOptions)))}},{key:"excuteParser",value:function(){var Ke=this.parser,nt=Ke.type||"geojson",Ot=Object(ye.getParser)(nt);this.data=Ot(this.originData,Ke),this.extent=Object(Mt.m)(this.data.dataArray),this.invalidExtent=this.extent[0]===this.extent[2]||this.extent[1]===this.extent[3]}},{key:"executeTrans",value:function(){var Ke=this,nt=this.transforms;nt.forEach(function(Ot){var Xe=Ot.type,xt=Object(ye.getTransform)(Xe)(Ke.data,Ot);Object.assign(Ke.data,xt)})}},{key:"initCluster",value:function(){if(!!this.cluster){var Ke=this.clusterOptions||{};this.clusterIndex=Object(lt.a)(this.data,Ke)}}},{key:"init",value:function(){this.hooks.init.call(this)}}]),ht}(Tt.EventEmitter)},l9OW:function(ze,A,r){var M=r("SKAX"),y=r("MMmD");function T(b,u){var H=-1,k=y(b)?Array(b.length):[];return M(b,function(Z,oe,ne){k[++H]=u(Z,oe,ne)}),k}ze.exports=T},lJbI:function(ze,A,r){"use strict";r.d(A,"a",function(){return M});function M(y,T){var b=T.extent,u=T.width,H=T.height,k=T.min,Z=T.max,oe={_id:1,dataArray:[{_id:1,data:Array.from(y),width:u,height:H,min:k,max:Z,coordinates:[[b[0],b[1]],[b[2],b[3]]]}]};return oe}},lQqw:function(ze,A,r){var M=r("MMmD");function y(T,b){return function(u,H){if(u==null)return u;if(!M(u))return T(u,H);for(var k=u.length,Z=b?k:-1,oe=Object(u);(b?Z--:++Z<k)&&H(oe[Z],Z,oe)!==!1;);return u}}ze.exports=y},"lS/g":function(ze,A,r){"use strict";var M=r("q1tI"),y=r.n(M),T=y.a.createContext({});A.a=T},"lm/5":function(ze,A,r){var M=r("fmRc"),y=r("wF/u"),T=1,b=2;function u(H,k,Z,oe){var ne=Z.length,Te=ne,at=!oe;if(H==null)return!Te;for(H=Object(H);ne--;){var ve=Z[ne];if(at&&ve[2]?ve[1]!==H[ve[0]]:!(ve[0]in H))return!1}for(;++ne<Te;){ve=Z[ne];var we=ve[0],I=H[we],Ce=ve[1];if(at&&ve[2]){if(I===void 0&&!(we in H))return!1}else{var et=new M;if(oe)var Et=oe(I,Ce,we,H,k,et);if(!(Et===void 0?y(Ce,I,T|b,oe,et):Et))return!1}}return!0}ze.exports=u},lnY3:function(ze,A,r){},lreK:function(ze,A,r){"use strict";Object.defineProperty(A,"__esModule",{value:!0}),A.mergeClasses=void 0;var M=r("Ag8Z"),y=H(M),T=r("BkRI"),b=H(T),u=Object.assign||function(Z){for(var oe=1;oe<arguments.length;oe++){var ne=arguments[oe];for(var Te in ne)Object.prototype.hasOwnProperty.call(ne,Te)&&(Z[Te]=ne[Te])}return Z};function H(Z){return Z&&Z.__esModule?Z:{default:Z}}var k=A.mergeClasses=function(oe){var ne=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],Te=oe.default&&(0,b.default)(oe.default)||{};return ne.map(function(at){var ve=oe[at];return ve&&(0,y.default)(ve,function(we,I){Te[I]||(Te[I]={}),Te[I]=u({},Te[I],ve[I])}),at}),Te};A.default=k},lwsE:function(ze,A){function r(M,y){if(!(M instanceof y))throw new TypeError("Cannot call a class as a function")}ze.exports=r,ze.exports.default=ze.exports,ze.exports.__esModule=!0},mNvP:function(ze,A,r){(function(M,y){/*! *****************************************************************************
Copyright (C) Microsoft. All rights reserved.
Licensed under the Apache License, Version 2.0 (the "License"); you may not use
this file except in compliance with the License. You may obtain a copy of the
License at http://www.apache.org/licenses/LICENSE-2.0

THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
MERCHANTABLITY OR NON-INFRINGEMENT.

See the Apache Version 2.0 License for specific language governing permissions
and limitations under the License.
***************************************************************************** */var T;(function(b){(function(u){var H=typeof y=="object"?y:typeof self=="object"?self:typeof this=="object"?this:Function("return this;")(),k=Z(b);typeof H.Reflect=="undefined"?H.Reflect=b:k=Z(H.Reflect,k),u(k);function Z(oe,ne){return function(Te,at){typeof oe[Te]!="function"&&Object.defineProperty(oe,Te,{configurable:!0,writable:!0,value:at}),ne&&ne(Te,at)}}})(function(u){var H=Object.prototype.hasOwnProperty,k=typeof Symbol=="function",Z=k&&typeof Symbol.toPrimitive!="undefined"?Symbol.toPrimitive:"@@toPrimitive",oe=k&&typeof Symbol.iterator!="undefined"?Symbol.iterator:"@@iterator",ne=typeof Object.create=="function",Te={__proto__:[]}instanceof Array,at=!ne&&!Te,ve={create:ne?function(){return St(Object.create(null))}:Te?function(){return St({__proto__:null})}:function(){return St({})},has:at?function(Ge,Be){return H.call(Ge,Be)}:function(Ge,Be){return Be in Ge},get:at?function(Ge,Be){return H.call(Ge,Be)?Ge[Be]:void 0}:function(Ge,Be){return Ge[Be]}},we=Object.getPrototypeOf(Function),I=typeof M=="object"&&Object({NODE_ENV:"production"})&&Object({NODE_ENV:"production"}).REFLECT_METADATA_USE_MAP_POLYFILL==="true",Ce=!I&&typeof Map=="function"&&typeof Map.prototype.entries=="function"?Map:le(),et=!I&&typeof Set=="function"&&typeof Set.prototype.entries=="function"?Set:Le(),Et=!I&&typeof WeakMap=="function"?WeakMap:ot(),We=new Et;function ct(Ge,Be,Nt,kt){if(Pt(Nt)){if(!B(Ge))throw new TypeError;if(!q(Be))throw new TypeError;return Jt(Ge,Be)}else{if(!B(Ge))throw new TypeError;if(!Ke(Be))throw new TypeError;if(!Ke(kt)&&!Pt(kt)&&!ht(kt))throw new TypeError;return ht(kt)&&(kt=void 0),Nt=Ne(Nt),At(Ge,Be,Nt,kt)}}u("decorate",ct);function ce(Ge,Be){function Nt(kt,ft){if(!Ke(kt))throw new TypeError;if(!Pt(ft)&&!S(ft))throw new TypeError;me(Ge,Be,kt,ft)}return Nt}u("metadata",ce);function Vt(Ge,Be,Nt,kt){if(!Ke(Nt))throw new TypeError;return Pt(kt)||(kt=Ne(kt)),me(Ge,Be,Nt,kt)}u("defineMetadata",Vt);function It(Ge,Be,Nt){if(!Ke(Be))throw new TypeError;return Pt(Nt)||(Nt=Ne(Nt)),ie(Ge,Be,Nt)}u("hasMetadata",It);function Mt(Ge,Be,Nt){if(!Ke(Be))throw new TypeError;return Pt(Nt)||(Nt=Ne(Nt)),J(Ge,Be,Nt)}u("hasOwnMetadata",Mt);function Tt(Ge,Be,Nt){if(!Ke(Be))throw new TypeError;return Pt(Nt)||(Nt=Ne(Nt)),ee(Ge,Be,Nt)}u("getMetadata",Tt);function ye(Ge,Be,Nt){if(!Ke(Be))throw new TypeError;return Pt(Nt)||(Nt=Ne(Nt)),Ie(Ge,Be,Nt)}u("getOwnMetadata",ye);function lt(Ge,Be){if(!Ke(Ge))throw new TypeError;return Pt(Be)||(Be=Ne(Be)),Ve(Ge,Be)}u("getMetadataKeys",lt);function yt(Ge,Be){if(!Ke(Ge))throw new TypeError;return Pt(Be)||(Be=Ne(Be)),Re(Ge,Be)}u("getOwnMetadataKeys",yt);function Dt(Ge,Be,Nt){if(!Ke(Be))throw new TypeError;Pt(Nt)||(Nt=Ne(Nt));var kt=vt(Be,Nt,!1);if(Pt(kt)||!kt.delete(Ge))return!1;if(kt.size>0)return!0;var ft=We.get(Be);return ft.delete(Nt),ft.size>0||We.delete(Be),!0}u("deleteMetadata",Dt);function Jt(Ge,Be){for(var Nt=Ge.length-1;Nt>=0;--Nt){var kt=Ge[Nt],ft=kt(Be);if(!Pt(ft)&&!ht(ft)){if(!q(ft))throw new TypeError;Be=ft}}return Be}function At(Ge,Be,Nt,kt){for(var ft=Ge.length-1;ft>=0;--ft){var ut=Ge[ft],Ze=ut(Be,Nt,kt);if(!Pt(Ze)&&!ht(Ze)){if(!Ke(Ze))throw new TypeError;kt=Ze}}return kt}function vt(Ge,Be,Nt){var kt=We.get(Ge);if(Pt(kt)){if(!Nt)return;kt=new Ce,We.set(Ge,kt)}var ft=kt.get(Be);if(Pt(ft)){if(!Nt)return;ft=new Ce,kt.set(Be,ft)}return ft}function ie(Ge,Be,Nt){var kt=J(Ge,Be,Nt);if(kt)return!0;var ft=U(Be);return ht(ft)?!1:ie(Ge,ft,Nt)}function J(Ge,Be,Nt){var kt=vt(Be,Nt,!1);return Pt(kt)?!1:Xe(kt.has(Ge))}function ee(Ge,Be,Nt){var kt=J(Ge,Be,Nt);if(kt)return Ie(Ge,Be,Nt);var ft=U(Be);if(!ht(ft))return ee(Ge,ft,Nt)}function Ie(Ge,Be,Nt){var kt=vt(Be,Nt,!1);if(!Pt(kt))return kt.get(Ge)}function me(Ge,Be,Nt,kt){var ft=vt(Nt,kt,!0);ft.set(Ge,Be)}function Ve(Ge,Be){var Nt=Re(Ge,Be),kt=U(Ge);if(kt===null)return Nt;var ft=Ve(kt,Be);if(ft.length<=0)return Nt;if(Nt.length<=0)return ft;for(var ut=new et,Ze=[],Qt=0,ar=Nt;Qt<ar.length;Qt++){var zr=ar[Qt],qr=ut.has(zr);qr||(ut.add(zr),Ze.push(zr))}for(var tn=0,_n=ft;tn<_n.length;tn++){var zr=_n[tn],qr=ut.has(zr);qr||(ut.add(zr),Ze.push(zr))}return Ze}function Re(Ge,Be){var Nt=[],kt=vt(Ge,Be,!1);if(Pt(kt))return Nt;for(var ft=kt.keys(),ut=fe(ft),Ze=0;;){var Qt=pe(ut);if(!Qt)return Nt.length=Ze,Nt;var ar=Fe(Qt);try{Nt[Ze]=ar}catch(zr){try{Me(ut)}finally{throw zr}}Ze++}}function bt(Ge){if(Ge===null)return 1;switch(typeof Ge){case"undefined":return 0;case"boolean":return 2;case"string":return 3;case"symbol":return 4;case"number":return 5;case"object":return Ge===null?1:6;default:return 6}}function Pt(Ge){return Ge===void 0}function ht(Ge){return Ge===null}function Ye(Ge){return typeof Ge=="symbol"}function Ke(Ge){return typeof Ge=="object"?Ge!==null:typeof Ge=="function"}function nt(Ge,Be){switch(bt(Ge)){case 0:return Ge;case 1:return Ge;case 2:return Ge;case 3:return Ge;case 4:return Ge;case 5:return Ge}var Nt=Be===3?"string":Be===5?"number":"default",kt=K(Ge,Z);if(kt!==void 0){var ft=kt.call(Ge,Nt);if(Ke(ft))throw new TypeError;return ft}return Ot(Ge,Nt==="default"?"number":Nt)}function Ot(Ge,Be){if(Be==="string"){var Nt=Ge.toString;if(z(Nt)){var kt=Nt.call(Ge);if(!Ke(kt))return kt}var ft=Ge.valueOf;if(z(ft)){var kt=ft.call(Ge);if(!Ke(kt))return kt}}else{var ft=Ge.valueOf;if(z(ft)){var kt=ft.call(Ge);if(!Ke(kt))return kt}var ut=Ge.toString;if(z(ut)){var kt=ut.call(Ge);if(!Ke(kt))return kt}}throw new TypeError}function Xe(Ge){return!!Ge}function xt(Ge){return""+Ge}function Ne(Ge){var Be=nt(Ge,3);return Ye(Be)?Be:xt(Be)}function B(Ge){return Array.isArray?Array.isArray(Ge):Ge instanceof Object?Ge instanceof Array:Object.prototype.toString.call(Ge)==="[object Array]"}function z(Ge){return typeof Ge=="function"}function q(Ge){return typeof Ge=="function"}function S(Ge){switch(bt(Ge)){case 3:return!0;case 4:return!0;default:return!1}}function K(Ge,Be){var Nt=Ge[Be];if(Nt!=null){if(!z(Nt))throw new TypeError;return Nt}}function fe(Ge){var Be=K(Ge,oe);if(!z(Be))throw new TypeError;var Nt=Be.call(Ge);if(!Ke(Nt))throw new TypeError;return Nt}function Fe(Ge){return Ge.value}function pe(Ge){var Be=Ge.next();return Be.done?!1:Be}function Me(Ge){var Be=Ge.return;Be&&Be.call(Ge)}function U(Ge){var Be=Object.getPrototypeOf(Ge);if(typeof Ge!="function"||Ge===we||Be!==we)return Be;var Nt=Ge.prototype,kt=Nt&&Object.getPrototypeOf(Nt);if(kt==null||kt===Object.prototype)return Be;var ft=kt.constructor;return typeof ft!="function"||ft===Ge?Be:ft}function le(){var Ge={},Be=[],Nt=function(){function Ze(Qt,ar,zr){this._index=0,this._keys=Qt,this._values=ar,this._selector=zr}return Ze.prototype["@@iterator"]=function(){return this},Ze.prototype[oe]=function(){return this},Ze.prototype.next=function(){var Qt=this._index;if(Qt>=0&&Qt<this._keys.length){var ar=this._selector(this._keys[Qt],this._values[Qt]);return Qt+1>=this._keys.length?(this._index=-1,this._keys=Be,this._values=Be):this._index++,{value:ar,done:!1}}return{value:void 0,done:!0}},Ze.prototype.throw=function(Qt){throw this._index>=0&&(this._index=-1,this._keys=Be,this._values=Be),Qt},Ze.prototype.return=function(Qt){return this._index>=0&&(this._index=-1,this._keys=Be,this._values=Be),{value:Qt,done:!0}},Ze}();return function(){function Ze(){this._keys=[],this._values=[],this._cacheKey=Ge,this._cacheIndex=-2}return Object.defineProperty(Ze.prototype,"size",{get:function(){return this._keys.length},enumerable:!0,configurable:!0}),Ze.prototype.has=function(Qt){return this._find(Qt,!1)>=0},Ze.prototype.get=function(Qt){var ar=this._find(Qt,!1);return ar>=0?this._values[ar]:void 0},Ze.prototype.set=function(Qt,ar){var zr=this._find(Qt,!0);return this._values[zr]=ar,this},Ze.prototype.delete=function(Qt){var ar=this._find(Qt,!1);if(ar>=0){for(var zr=this._keys.length,qr=ar+1;qr<zr;qr++)this._keys[qr-1]=this._keys[qr],this._values[qr-1]=this._values[qr];return this._keys.length--,this._values.length--,Qt===this._cacheKey&&(this._cacheKey=Ge,this._cacheIndex=-2),!0}return!1},Ze.prototype.clear=function(){this._keys.length=0,this._values.length=0,this._cacheKey=Ge,this._cacheIndex=-2},Ze.prototype.keys=function(){return new Nt(this._keys,this._values,kt)},Ze.prototype.values=function(){return new Nt(this._keys,this._values,ft)},Ze.prototype.entries=function(){return new Nt(this._keys,this._values,ut)},Ze.prototype["@@iterator"]=function(){return this.entries()},Ze.prototype[oe]=function(){return this.entries()},Ze.prototype._find=function(Qt,ar){return this._cacheKey!==Qt&&(this._cacheIndex=this._keys.indexOf(this._cacheKey=Qt)),this._cacheIndex<0&&ar&&(this._cacheIndex=this._keys.length,this._keys.push(Qt),this._values.push(void 0)),this._cacheIndex},Ze}();function kt(Ze,Qt){return Ze}function ft(Ze,Qt){return Qt}function ut(Ze,Qt){return[Ze,Qt]}}function Le(){return function(){function Ge(){this._map=new Ce}return Object.defineProperty(Ge.prototype,"size",{get:function(){return this._map.size},enumerable:!0,configurable:!0}),Ge.prototype.has=function(Be){return this._map.has(Be)},Ge.prototype.add=function(Be){return this._map.set(Be,Be),this},Ge.prototype.delete=function(Be){return this._map.delete(Be)},Ge.prototype.clear=function(){this._map.clear()},Ge.prototype.keys=function(){return this._map.keys()},Ge.prototype.values=function(){return this._map.values()},Ge.prototype.entries=function(){return this._map.entries()},Ge.prototype["@@iterator"]=function(){return this.keys()},Ge.prototype[oe]=function(){return this.keys()},Ge}()}function ot(){var Ge=16,Be=ve.create(),Nt=kt();return function(){function ar(){this._key=kt()}return ar.prototype.has=function(zr){var qr=ft(zr,!1);return qr!==void 0?ve.has(qr,this._key):!1},ar.prototype.get=function(zr){var qr=ft(zr,!1);return qr!==void 0?ve.get(qr,this._key):void 0},ar.prototype.set=function(zr,qr){var tn=ft(zr,!0);return tn[this._key]=qr,this},ar.prototype.delete=function(zr){var qr=ft(zr,!1);return qr!==void 0?delete qr[this._key]:!1},ar.prototype.clear=function(){this._key=kt()},ar}();function kt(){var ar;do ar="@@WeakMap@@"+Qt();while(ve.has(Be,ar));return Be[ar]=!0,ar}function ft(ar,zr){if(!H.call(ar,Nt)){if(!zr)return;Object.defineProperty(ar,Nt,{value:ve.create()})}return ar[Nt]}function ut(ar,zr){for(var qr=0;qr<zr;++qr)ar[qr]=Math.random()*255|0;return ar}function Ze(ar){return typeof Uint8Array=="function"?typeof crypto!="undefined"?crypto.getRandomValues(new Uint8Array(ar)):typeof msCrypto!="undefined"?msCrypto.getRandomValues(new Uint8Array(ar)):ut(new Uint8Array(ar),ar):ut(new Array(ar),ar)}function Qt(){var ar=Ze(Ge);ar[6]=ar[6]&79|64,ar[8]=ar[8]&191|128;for(var zr="",qr=0;qr<Ge;++qr){var tn=ar[qr];(qr===4||qr===6||qr===8)&&(zr+="-"),tn<16&&(zr+="0"),zr+=tn.toString(16).toLowerCase()}return zr}}function St(Ge){return Ge.__=void 0,delete Ge.__,Ge}})})(T||(T={}))}).call(this,r("Q2Ig"),r("IyRk"))},mTTR:function(ze,A,r){var M=r("b80T"),y=r("QcOe"),T=r("MMmD");function b(u){return T(u)?M(u,!0):y(u)}ze.exports=b},mc0g:function(ze,A){function r(M){return function(y,T,b){for(var u=-1,H=Object(y),k=b(y),Z=k.length;Z--;){var oe=k[M?Z:++u];if(T(H[oe],oe,H)===!1)break}return y}}ze.exports=r},mhV4:function(ze,A,r){var M=r("ZK94");ze.exports.geometry=y,ze.exports.ring=b;function y(H){var k=0,Z;switch(H.type){case"Polygon":return T(H.coordinates);case"MultiPolygon":for(Z=0;Z<H.coordinates.length;Z++)k+=T(H.coordinates[Z]);return k;case"Point":case"MultiPoint":case"LineString":case"MultiLineString":return 0;case"GeometryCollection":for(Z=0;Z<H.geometries.length;Z++)k+=y(H.geometries[Z]);return k}}function T(H){var k=0;if(H&&H.length>0){k+=Math.abs(b(H[0]));for(var Z=1;Z<H.length;Z++)k-=Math.abs(b(H[Z]))}return k}function b(H){var k,Z,oe,ne,Te,at,ve,we=0,I=H.length;if(I>2){for(ve=0;ve<I;ve++)ve===I-2?(ne=I-2,Te=I-1,at=0):ve===I-1?(ne=I-1,Te=0,at=1):(ne=ve,Te=ve+1,at=ve+2),k=H[ne],Z=H[Te],oe=H[at],we+=(u(oe[0])-u(k[0]))*Math.sin(u(Z[1]));we=we*M.RADIUS*M.RADIUS/2}return we}function u(H){return H*Math.PI/180}},mpbz:function(ze,A,r){(function(M,y){ze.exports=y()})(this,function(){"use strict";function M(Tt,ye,lt,yt,Dt,Jt){if(!(Dt-yt<=lt)){var At=yt+Dt>>1;y(Tt,ye,At,yt,Dt,Jt%2),M(Tt,ye,lt,yt,At-1,Jt+1),M(Tt,ye,lt,At+1,Dt,Jt+1)}}function y(Tt,ye,lt,yt,Dt,Jt){for(;Dt>yt;){if(Dt-yt>600){var At=Dt-yt+1,vt=lt-yt+1,ie=Math.log(At),J=.5*Math.exp(2*ie/3),ee=.5*Math.sqrt(ie*J*(At-J)/At)*(vt-At/2<0?-1:1),Ie=Math.max(yt,Math.floor(lt-vt*J/At+ee)),me=Math.min(Dt,Math.floor(lt+(At-vt)*J/At+ee));y(Tt,ye,lt,Ie,me,Jt)}var Ve=ye[2*lt+Jt],Re=yt,bt=Dt;for(T(Tt,ye,yt,lt),ye[2*Dt+Jt]>Ve&&T(Tt,ye,yt,Dt);Re<bt;){for(T(Tt,ye,Re,bt),Re++,bt--;ye[2*Re+Jt]<Ve;)Re++;for(;ye[2*bt+Jt]>Ve;)bt--}ye[2*yt+Jt]===Ve?T(Tt,ye,yt,bt):(bt++,T(Tt,ye,bt,Dt)),bt<=lt&&(yt=bt+1),lt<=bt&&(Dt=bt-1)}}function T(Tt,ye,lt,yt){b(Tt,lt,yt),b(ye,2*lt,2*yt),b(ye,2*lt+1,2*yt+1)}function b(Tt,ye,lt){var yt=Tt[ye];Tt[ye]=Tt[lt],Tt[lt]=yt}function u(Tt,ye,lt,yt,Dt,Jt,At){for(var vt=[0,Tt.length-1,0],ie=[],J,ee;vt.length;){var Ie=vt.pop(),me=vt.pop(),Ve=vt.pop();if(me-Ve<=At){for(var Re=Ve;Re<=me;Re++)J=ye[2*Re],ee=ye[2*Re+1],J>=lt&&J<=Dt&&ee>=yt&&ee<=Jt&&ie.push(Tt[Re]);continue}var bt=Math.floor((Ve+me)/2);J=ye[2*bt],ee=ye[2*bt+1],J>=lt&&J<=Dt&&ee>=yt&&ee<=Jt&&ie.push(Tt[bt]);var Pt=(Ie+1)%2;(Ie===0?lt<=J:yt<=ee)&&(vt.push(Ve),vt.push(bt-1),vt.push(Pt)),(Ie===0?Dt>=J:Jt>=ee)&&(vt.push(bt+1),vt.push(me),vt.push(Pt))}return ie}function H(Tt,ye,lt,yt,Dt,Jt){for(var At=[0,Tt.length-1,0],vt=[],ie=Dt*Dt;At.length;){var J=At.pop(),ee=At.pop(),Ie=At.pop();if(ee-Ie<=Jt){for(var me=Ie;me<=ee;me++)k(ye[2*me],ye[2*me+1],lt,yt)<=ie&&vt.push(Tt[me]);continue}var Ve=Math.floor((Ie+ee)/2),Re=ye[2*Ve],bt=ye[2*Ve+1];k(Re,bt,lt,yt)<=ie&&vt.push(Tt[Ve]);var Pt=(J+1)%2;(J===0?lt-Dt<=Re:yt-Dt<=bt)&&(At.push(Ie),At.push(Ve-1),At.push(Pt)),(J===0?lt+Dt>=Re:yt+Dt>=bt)&&(At.push(Ve+1),At.push(ee),At.push(Pt))}return vt}function k(Tt,ye,lt,yt){var Dt=Tt-lt,Jt=ye-yt;return Dt*Dt+Jt*Jt}var Z=function(ye){return ye[0]},oe=function(ye){return ye[1]},ne=function(ye,lt,yt,Dt,Jt){lt===void 0&&(lt=Z),yt===void 0&&(yt=oe),Dt===void 0&&(Dt=64),Jt===void 0&&(Jt=Float64Array),this.nodeSize=Dt,this.points=ye;for(var At=ye.length<65536?Uint16Array:Uint32Array,vt=this.ids=new At(ye.length),ie=this.coords=new Jt(ye.length*2),J=0;J<ye.length;J++)vt[J]=J,ie[2*J]=lt(ye[J]),ie[2*J+1]=yt(ye[J]);M(vt,ie,Dt,0,vt.length-1,0)};ne.prototype.range=function(ye,lt,yt,Dt){return u(this.ids,this.coords,ye,lt,yt,Dt,this.nodeSize)},ne.prototype.within=function(ye,lt,yt){return H(this.ids,this.coords,ye,lt,yt,this.nodeSize)};var Te={minZoom:0,maxZoom:16,minPoints:2,radius:40,extent:512,nodeSize:64,log:!1,generateId:!1,reduce:null,map:function(ye){return ye}},at=Math.fround||function(Tt){return function(ye){return Tt[0]=+ye,Tt[0]}}(new Float32Array(1)),ve=function(ye){this.options=Vt(Object.create(Te),ye),this.trees=new Array(this.options.maxZoom+1)};ve.prototype.load=function(ye){var lt=this.options,yt=lt.log,Dt=lt.minZoom,Jt=lt.maxZoom,At=lt.nodeSize;yt&&console.time("total time");var vt="prepare "+ye.length+" points";yt&&console.time(vt),this.points=ye;for(var ie=[],J=0;J<ye.length;J++)!ye[J].geometry||ie.push(I(ye[J],J));this.trees[Jt+1]=new ne(ie,It,Mt,At,Float32Array),yt&&console.timeEnd(vt);for(var ee=Jt;ee>=Dt;ee--){var Ie=+Date.now();ie=this._cluster(ie,ee),this.trees[ee]=new ne(ie,It,Mt,At,Float32Array),yt&&console.log("z%d: %d clusters in %dms",ee,ie.length,+Date.now()-Ie)}return yt&&console.timeEnd("total time"),this},ve.prototype.getClusters=function(ye,lt){var yt=((ye[0]+180)%360+360)%360-180,Dt=Math.max(-90,Math.min(90,ye[1])),Jt=ye[2]===180?180:((ye[2]+180)%360+360)%360-180,At=Math.max(-90,Math.min(90,ye[3]));if(ye[2]-ye[0]>=360)yt=-180,Jt=180;else if(yt>Jt){var vt=this.getClusters([yt,Dt,180,At],lt),ie=this.getClusters([-180,Dt,Jt,At],lt);return vt.concat(ie)}for(var J=this.trees[this._limitZoom(lt)],ee=J.range(Et(yt),We(At),Et(Jt),We(Dt)),Ie=[],me=0,Ve=ee;me<Ve.length;me+=1){var Re=Ve[me],bt=J.points[Re];Ie.push(bt.numPoints?Ce(bt):this.points[bt.index])}return Ie},ve.prototype.getChildren=function(ye){var lt=this._getOriginId(ye),yt=this._getOriginZoom(ye),Dt="No cluster with the specified id.",Jt=this.trees[yt];if(!Jt)throw new Error(Dt);var At=Jt.points[lt];if(!At)throw new Error(Dt);for(var vt=this.options.radius/(this.options.extent*Math.pow(2,yt-1)),ie=Jt.within(At.x,At.y,vt),J=[],ee=0,Ie=ie;ee<Ie.length;ee+=1){var me=Ie[ee],Ve=Jt.points[me];Ve.parentId===ye&&J.push(Ve.numPoints?Ce(Ve):this.points[Ve.index])}if(J.length===0)throw new Error(Dt);return J},ve.prototype.getLeaves=function(ye,lt,yt){lt=lt||10,yt=yt||0;var Dt=[];return this._appendLeaves(Dt,ye,lt,yt,0),Dt},ve.prototype.getTile=function(ye,lt,yt){var Dt=this.trees[this._limitZoom(ye)],Jt=Math.pow(2,ye),At=this.options,vt=At.extent,ie=At.radius,J=ie/vt,ee=(yt-J)/Jt,Ie=(yt+1+J)/Jt,me={features:[]};return this._addTileFeatures(Dt.range((lt-J)/Jt,ee,(lt+1+J)/Jt,Ie),Dt.points,lt,yt,Jt,me),lt===0&&this._addTileFeatures(Dt.range(1-J/Jt,ee,1,Ie),Dt.points,Jt,yt,Jt,me),lt===Jt-1&&this._addTileFeatures(Dt.range(0,ee,J/Jt,Ie),Dt.points,-1,yt,Jt,me),me.features.length?me:null},ve.prototype.getClusterExpansionZoom=function(ye){for(var lt=this._getOriginZoom(ye)-1;lt<=this.options.maxZoom;){var yt=this.getChildren(ye);if(lt++,yt.length!==1)break;ye=yt[0].properties.cluster_id}return lt},ve.prototype._appendLeaves=function(ye,lt,yt,Dt,Jt){for(var At=this.getChildren(lt),vt=0,ie=At;vt<ie.length;vt+=1){var J=ie[vt],ee=J.properties;if(ee&&ee.cluster?Jt+ee.point_count<=Dt?Jt+=ee.point_count:Jt=this._appendLeaves(ye,ee.cluster_id,yt,Dt,Jt):Jt<Dt?Jt++:ye.push(J),ye.length===yt)break}return Jt},ve.prototype._addTileFeatures=function(ye,lt,yt,Dt,Jt,At){for(var vt=0,ie=ye;vt<ie.length;vt+=1){var J=ie[vt],ee=lt[J],Ie=ee.numPoints,me=void 0,Ve=void 0,Re=void 0;if(Ie)me=et(ee),Ve=ee.x,Re=ee.y;else{var bt=this.points[ee.index];me=bt.properties,Ve=Et(bt.geometry.coordinates[0]),Re=We(bt.geometry.coordinates[1])}var Pt={type:1,geometry:[[Math.round(this.options.extent*(Ve*Jt-yt)),Math.round(this.options.extent*(Re*Jt-Dt))]],tags:me},ht=void 0;Ie?ht=ee.id:this.options.generateId?ht=ee.index:this.points[ee.index].id&&(ht=this.points[ee.index].id),ht!==void 0&&(Pt.id=ht),At.features.push(Pt)}},ve.prototype._limitZoom=function(ye){return Math.max(this.options.minZoom,Math.min(+ye,this.options.maxZoom+1))},ve.prototype._cluster=function(ye,lt){for(var yt=[],Dt=this.options,Jt=Dt.radius,At=Dt.extent,vt=Dt.reduce,ie=Dt.minPoints,J=Jt/(At*Math.pow(2,lt)),ee=0;ee<ye.length;ee++){var Ie=ye[ee];if(!(Ie.zoom<=lt)){Ie.zoom=lt;for(var me=this.trees[lt+1],Ve=me.within(Ie.x,Ie.y,J),Re=Ie.numPoints||1,bt=Re,Pt=0,ht=Ve;Pt<ht.length;Pt+=1){var Ye=ht[Pt],Ke=me.points[Ye];Ke.zoom>lt&&(bt+=Ke.numPoints||1)}if(bt>Re&&bt>=ie){for(var nt=Ie.x*Re,Ot=Ie.y*Re,Xe=vt&&Re>1?this._map(Ie,!0):null,xt=(ee<<5)+(lt+1)+this.points.length,Ne=0,B=Ve;Ne<B.length;Ne+=1){var z=B[Ne],q=me.points[z];if(!(q.zoom<=lt)){q.zoom=lt;var S=q.numPoints||1;nt+=q.x*S,Ot+=q.y*S,q.parentId=xt,vt&&(Xe||(Xe=this._map(Ie,!0)),vt(Xe,this._map(q)))}}Ie.parentId=xt,yt.push(we(nt/bt,Ot/bt,xt,bt,Xe))}else if(yt.push(Ie),bt>1)for(var K=0,fe=Ve;K<fe.length;K+=1){var Fe=fe[K],pe=me.points[Fe];pe.zoom<=lt||(pe.zoom=lt,yt.push(pe))}}}return yt},ve.prototype._getOriginId=function(ye){return ye-this.points.length>>5},ve.prototype._getOriginZoom=function(ye){return(ye-this.points.length)%32},ve.prototype._map=function(ye,lt){if(ye.numPoints)return lt?Vt({},ye.properties):ye.properties;var yt=this.points[ye.index].properties,Dt=this.options.map(yt);return lt&&Dt===yt?Vt({},Dt):Dt};function we(Tt,ye,lt,yt,Dt){return{x:at(Tt),y:at(ye),zoom:Infinity,id:lt,parentId:-1,numPoints:yt,properties:Dt}}function I(Tt,ye){var lt=Tt.geometry.coordinates,yt=lt[0],Dt=lt[1];return{x:at(Et(yt)),y:at(We(Dt)),zoom:Infinity,index:ye,parentId:-1}}function Ce(Tt){return{type:"Feature",id:Tt.id,properties:et(Tt),geometry:{type:"Point",coordinates:[ct(Tt.x),ce(Tt.y)]}}}function et(Tt){var ye=Tt.numPoints,lt=ye>=1e4?Math.round(ye/1e3)+"k":ye>=1e3?Math.round(ye/100)/10+"k":ye;return Vt(Vt({},Tt.properties),{cluster:!0,cluster_id:Tt.id,point_count:ye,point_count_abbreviated:lt})}function Et(Tt){return Tt/360+.5}function We(Tt){var ye=Math.sin(Tt*Math.PI/180),lt=.5-.25*Math.log((1+ye)/(1-ye))/Math.PI;return lt<0?0:lt>1?1:lt}function ct(Tt){return(Tt-.5)*360}function ce(Tt){var ye=(180-Tt*360)*Math.PI/180;return 360*Math.atan(Math.exp(ye))/Math.PI-90}function Vt(Tt,ye){for(var lt in ye)Tt[lt]=ye[lt];return Tt}function It(Tt){return Tt.x}function Mt(Tt){return Tt.y}return ve})},mr32:function(ze,A,r){"use strict";var M=r("rePB"),y=r("wx14"),T=r("ODXe"),b=r("q1tI"),u=r("TSYQ"),H=r.n(u),k=r("bT9E"),Z=r("4i/N"),oe=r("H84U"),ne=function(ce,Vt){var It={};for(var Mt in ce)Object.prototype.hasOwnProperty.call(ce,Mt)&&Vt.indexOf(Mt)<0&&(It[Mt]=ce[Mt]);if(ce!=null&&typeof Object.getOwnPropertySymbols=="function")for(var Tt=0,Mt=Object.getOwnPropertySymbols(ce);Tt<Mt.length;Tt++)Vt.indexOf(Mt[Tt])<0&&Object.prototype.propertyIsEnumerable.call(ce,Mt[Tt])&&(It[Mt[Tt]]=ce[Mt[Tt]]);return It},Te=function(Vt){var It,Mt=Vt.prefixCls,Tt=Vt.className,ye=Vt.checked,lt=Vt.onChange,yt=Vt.onClick,Dt=ne(Vt,["prefixCls","className","checked","onChange","onClick"]),Jt=b.useContext(oe.b),At=Jt.getPrefixCls,vt=function(Ie){lt==null||lt(!ye),yt==null||yt(Ie)},ie=At("tag",Mt),J=H()(ie,(It={},Object(M.a)(It,"".concat(ie,"-checkable"),!0),Object(M.a)(It,"".concat(ie,"-checkable-checked"),ye),It),Tt);return b.createElement("span",Object(y.a)({},Dt,{className:J,onClick:vt}))},at=Te,ve=r("09Wf"),we=r("g0mS"),I=function(ce,Vt){var It={};for(var Mt in ce)Object.prototype.hasOwnProperty.call(ce,Mt)&&Vt.indexOf(Mt)<0&&(It[Mt]=ce[Mt]);if(ce!=null&&typeof Object.getOwnPropertySymbols=="function")for(var Tt=0,Mt=Object.getOwnPropertySymbols(ce);Tt<Mt.length;Tt++)Vt.indexOf(Mt[Tt])<0&&Object.prototype.propertyIsEnumerable.call(ce,Mt[Tt])&&(It[Mt[Tt]]=ce[Mt[Tt]]);return It},Ce=new RegExp("^(".concat(ve.a.join("|"),")(-inverse)?$")),et=new RegExp("^(".concat(ve.b.join("|"),")$")),Et=function(Vt,It){var Mt,Tt=Vt.prefixCls,ye=Vt.className,lt=Vt.style,yt=Vt.children,Dt=Vt.icon,Jt=Vt.color,At=Vt.onClose,vt=Vt.closeIcon,ie=Vt.closable,J=ie===void 0?!1:ie,ee=I(Vt,["prefixCls","className","style","children","icon","color","onClose","closeIcon","closable"]),Ie=b.useContext(oe.b),me=Ie.getPrefixCls,Ve=Ie.direction,Re=b.useState(!0),bt=Object(T.a)(Re,2),Pt=bt[0],ht=bt[1];b.useEffect(function(){"visible"in ee&&ht(ee.visible)},[ee.visible]);var Ye=function(){return Jt?Ce.test(Jt)||et.test(Jt):!1},Ke=Object(y.a)({backgroundColor:Jt&&!Ye()?Jt:void 0},lt),nt=Ye(),Ot=me("tag",Tt),Xe=H()(Ot,(Mt={},Object(M.a)(Mt,"".concat(Ot,"-").concat(Jt),nt),Object(M.a)(Mt,"".concat(Ot,"-has-color"),Jt&&!nt),Object(M.a)(Mt,"".concat(Ot,"-hidden"),!Pt),Object(M.a)(Mt,"".concat(Ot,"-rtl"),Ve==="rtl"),Mt),ye),xt=function(Fe){Fe.stopPropagation(),At==null||At(Fe),!Fe.defaultPrevented&&("visible"in ee||ht(!1))},Ne=function(){return J?vt?b.createElement("span",{className:"".concat(Ot,"-close-icon"),onClick:xt},vt):b.createElement(Z.a,{className:"".concat(Ot,"-close-icon"),onClick:xt}):null},B="onClick"in ee||yt&&yt.type==="a",z=Object(k.a)(ee,["visible"]),q=Dt||null,S=q?b.createElement(b.Fragment,null,q,b.createElement("span",null,yt)):yt,K=b.createElement("span",Object(y.a)({},z,{ref:It,className:Xe,style:Ke}),S,Ne());return B?b.createElement(we.a,null,K):K},We=b.forwardRef(Et);We.displayName="Tag",We.CheckableTag=at;var ct=A.a=We},"mv/X":function(ze,A,r){var M=r("ljhN"),y=r("MMmD"),T=r("wJg7"),b=r("GoyQ");function u(H,k,Z){if(!b(Z))return!1;var oe=typeof k;return(oe=="number"?y(Z)&&T(k,Z.length):oe=="string"&&k in Z)?M(Z[k],H):!1}ze.exports=u},mwIZ:function(ze,A,r){var M=r("ZWtO");function y(T,b,u){var H=T==null?void 0:M(T,b);return H===void 0?u:H}ze.exports=y},"n+fv":function(ze,A,r){"use strict";r.r(A),r.d(A,"create",function(){return y}),r.d(A,"clone",function(){return T}),r.d(A,"length",function(){return b}),r.d(A,"fromValues",function(){return u}),r.d(A,"copy",function(){return H}),r.d(A,"set",function(){return k}),r.d(A,"add",function(){return Z}),r.d(A,"subtract",function(){return oe}),r.d(A,"multiply",function(){return ne}),r.d(A,"divide",function(){return Te}),r.d(A,"ceil",function(){return at}),r.d(A,"floor",function(){return ve}),r.d(A,"min",function(){return we}),r.d(A,"max",function(){return I}),r.d(A,"round",function(){return Ce}),r.d(A,"scale",function(){return et}),r.d(A,"scaleAndAdd",function(){return Et}),r.d(A,"distance",function(){return We}),r.d(A,"squaredDistance",function(){return ct}),r.d(A,"squaredLength",function(){return ce}),r.d(A,"negate",function(){return Vt}),r.d(A,"inverse",function(){return It}),r.d(A,"normalize",function(){return Mt}),r.d(A,"dot",function(){return Tt}),r.d(A,"cross",function(){return ye}),r.d(A,"lerp",function(){return lt}),r.d(A,"hermite",function(){return yt}),r.d(A,"bezier",function(){return Dt}),r.d(A,"random",function(){return Jt}),r.d(A,"transformMat4",function(){return At}),r.d(A,"transformMat3",function(){return vt}),r.d(A,"transformQuat",function(){return ie}),r.d(A,"rotateX",function(){return J}),r.d(A,"rotateY",function(){return ee}),r.d(A,"rotateZ",function(){return Ie}),r.d(A,"angle",function(){return me}),r.d(A,"zero",function(){return Ve}),r.d(A,"str",function(){return Re}),r.d(A,"exactEquals",function(){return bt}),r.d(A,"equals",function(){return Pt}),r.d(A,"sub",function(){return ht}),r.d(A,"mul",function(){return Ye}),r.d(A,"div",function(){return Ke}),r.d(A,"dist",function(){return nt}),r.d(A,"sqrDist",function(){return Ot}),r.d(A,"len",function(){return Xe}),r.d(A,"sqrLen",function(){return xt}),r.d(A,"forEach",function(){return Ne});var M=r("yU0y");function y(){var B=new M.a(3);return M.a!=Float32Array&&(B[0]=0,B[1]=0,B[2]=0),B}function T(B){var z=new M.a(3);return z[0]=B[0],z[1]=B[1],z[2]=B[2],z}function b(B){var z=B[0],q=B[1],S=B[2];return Math.hypot(z,q,S)}function u(B,z,q){var S=new M.a(3);return S[0]=B,S[1]=z,S[2]=q,S}function H(B,z){return B[0]=z[0],B[1]=z[1],B[2]=z[2],B}function k(B,z,q,S){return B[0]=z,B[1]=q,B[2]=S,B}function Z(B,z,q){return B[0]=z[0]+q[0],B[1]=z[1]+q[1],B[2]=z[2]+q[2],B}function oe(B,z,q){return B[0]=z[0]-q[0],B[1]=z[1]-q[1],B[2]=z[2]-q[2],B}function ne(B,z,q){return B[0]=z[0]*q[0],B[1]=z[1]*q[1],B[2]=z[2]*q[2],B}function Te(B,z,q){return B[0]=z[0]/q[0],B[1]=z[1]/q[1],B[2]=z[2]/q[2],B}function at(B,z){return B[0]=Math.ceil(z[0]),B[1]=Math.ceil(z[1]),B[2]=Math.ceil(z[2]),B}function ve(B,z){return B[0]=Math.floor(z[0]),B[1]=Math.floor(z[1]),B[2]=Math.floor(z[2]),B}function we(B,z,q){return B[0]=Math.min(z[0],q[0]),B[1]=Math.min(z[1],q[1]),B[2]=Math.min(z[2],q[2]),B}function I(B,z,q){return B[0]=Math.max(z[0],q[0]),B[1]=Math.max(z[1],q[1]),B[2]=Math.max(z[2],q[2]),B}function Ce(B,z){return B[0]=Math.round(z[0]),B[1]=Math.round(z[1]),B[2]=Math.round(z[2]),B}function et(B,z,q){return B[0]=z[0]*q,B[1]=z[1]*q,B[2]=z[2]*q,B}function Et(B,z,q,S){return B[0]=z[0]+q[0]*S,B[1]=z[1]+q[1]*S,B[2]=z[2]+q[2]*S,B}function We(B,z){var q=z[0]-B[0],S=z[1]-B[1],K=z[2]-B[2];return Math.hypot(q,S,K)}function ct(B,z){var q=z[0]-B[0],S=z[1]-B[1],K=z[2]-B[2];return q*q+S*S+K*K}function ce(B){var z=B[0],q=B[1],S=B[2];return z*z+q*q+S*S}function Vt(B,z){return B[0]=-z[0],B[1]=-z[1],B[2]=-z[2],B}function It(B,z){return B[0]=1/z[0],B[1]=1/z[1],B[2]=1/z[2],B}function Mt(B,z){var q=z[0],S=z[1],K=z[2],fe=q*q+S*S+K*K;return fe>0&&(fe=1/Math.sqrt(fe)),B[0]=z[0]*fe,B[1]=z[1]*fe,B[2]=z[2]*fe,B}function Tt(B,z){return B[0]*z[0]+B[1]*z[1]+B[2]*z[2]}function ye(B,z,q){var S=z[0],K=z[1],fe=z[2],Fe=q[0],pe=q[1],Me=q[2];return B[0]=K*Me-fe*pe,B[1]=fe*Fe-S*Me,B[2]=S*pe-K*Fe,B}function lt(B,z,q,S){var K=z[0],fe=z[1],Fe=z[2];return B[0]=K+S*(q[0]-K),B[1]=fe+S*(q[1]-fe),B[2]=Fe+S*(q[2]-Fe),B}function yt(B,z,q,S,K,fe){var Fe=fe*fe,pe=Fe*(2*fe-3)+1,Me=Fe*(fe-2)+fe,U=Fe*(fe-1),le=Fe*(3-2*fe);return B[0]=z[0]*pe+q[0]*Me+S[0]*U+K[0]*le,B[1]=z[1]*pe+q[1]*Me+S[1]*U+K[1]*le,B[2]=z[2]*pe+q[2]*Me+S[2]*U+K[2]*le,B}function Dt(B,z,q,S,K,fe){var Fe=1-fe,pe=Fe*Fe,Me=fe*fe,U=pe*Fe,le=3*fe*pe,Le=3*Me*Fe,ot=Me*fe;return B[0]=z[0]*U+q[0]*le+S[0]*Le+K[0]*ot,B[1]=z[1]*U+q[1]*le+S[1]*Le+K[1]*ot,B[2]=z[2]*U+q[2]*le+S[2]*Le+K[2]*ot,B}function Jt(B,z){z=z||1;var q=M.c()*2*Math.PI,S=M.c()*2-1,K=Math.sqrt(1-S*S)*z;return B[0]=Math.cos(q)*K,B[1]=Math.sin(q)*K,B[2]=S*z,B}function At(B,z,q){var S=z[0],K=z[1],fe=z[2],Fe=q[3]*S+q[7]*K+q[11]*fe+q[15];return Fe=Fe||1,B[0]=(q[0]*S+q[4]*K+q[8]*fe+q[12])/Fe,B[1]=(q[1]*S+q[5]*K+q[9]*fe+q[13])/Fe,B[2]=(q[2]*S+q[6]*K+q[10]*fe+q[14])/Fe,B}function vt(B,z,q){var S=z[0],K=z[1],fe=z[2];return B[0]=S*q[0]+K*q[3]+fe*q[6],B[1]=S*q[1]+K*q[4]+fe*q[7],B[2]=S*q[2]+K*q[5]+fe*q[8],B}function ie(B,z,q){var S=q[0],K=q[1],fe=q[2],Fe=q[3],pe=z[0],Me=z[1],U=z[2],le=K*U-fe*Me,Le=fe*pe-S*U,ot=S*Me-K*pe,St=K*ot-fe*Le,Ge=fe*le-S*ot,Be=S*Le-K*le,Nt=Fe*2;return le*=Nt,Le*=Nt,ot*=Nt,St*=2,Ge*=2,Be*=2,B[0]=pe+le+St,B[1]=Me+Le+Ge,B[2]=U+ot+Be,B}function J(B,z,q,S){var K=[],fe=[];return K[0]=z[0]-q[0],K[1]=z[1]-q[1],K[2]=z[2]-q[2],fe[0]=K[0],fe[1]=K[1]*Math.cos(S)-K[2]*Math.sin(S),fe[2]=K[1]*Math.sin(S)+K[2]*Math.cos(S),B[0]=fe[0]+q[0],B[1]=fe[1]+q[1],B[2]=fe[2]+q[2],B}function ee(B,z,q,S){var K=[],fe=[];return K[0]=z[0]-q[0],K[1]=z[1]-q[1],K[2]=z[2]-q[2],fe[0]=K[2]*Math.sin(S)+K[0]*Math.cos(S),fe[1]=K[1],fe[2]=K[2]*Math.cos(S)-K[0]*Math.sin(S),B[0]=fe[0]+q[0],B[1]=fe[1]+q[1],B[2]=fe[2]+q[2],B}function Ie(B,z,q,S){var K=[],fe=[];return K[0]=z[0]-q[0],K[1]=z[1]-q[1],K[2]=z[2]-q[2],fe[0]=K[0]*Math.cos(S)-K[1]*Math.sin(S),fe[1]=K[0]*Math.sin(S)+K[1]*Math.cos(S),fe[2]=K[2],B[0]=fe[0]+q[0],B[1]=fe[1]+q[1],B[2]=fe[2]+q[2],B}function me(B,z){var q=B[0],S=B[1],K=B[2],fe=z[0],Fe=z[1],pe=z[2],Me=Math.sqrt(q*q+S*S+K*K),U=Math.sqrt(fe*fe+Fe*Fe+pe*pe),le=Me*U,Le=le&&Tt(B,z)/le;return Math.acos(Math.min(Math.max(Le,-1),1))}function Ve(B){return B[0]=0,B[1]=0,B[2]=0,B}function Re(B){return"vec3("+B[0]+", "+B[1]+", "+B[2]+")"}function bt(B,z){return B[0]===z[0]&&B[1]===z[1]&&B[2]===z[2]}function Pt(B,z){var q=B[0],S=B[1],K=B[2],fe=z[0],Fe=z[1],pe=z[2];return Math.abs(q-fe)<=M.b*Math.max(1,Math.abs(q),Math.abs(fe))&&Math.abs(S-Fe)<=M.b*Math.max(1,Math.abs(S),Math.abs(Fe))&&Math.abs(K-pe)<=M.b*Math.max(1,Math.abs(K),Math.abs(pe))}var ht=oe,Ye=ne,Ke=Te,nt=We,Ot=ct,Xe=b,xt=ce,Ne=function(){var B=y();return function(z,q,S,K,fe,Fe){var pe,Me;for(q||(q=3),S||(S=0),K?Me=Math.min(K*q+S,z.length):Me=z.length,pe=S;pe<Me;pe+=q)B[0]=z[pe],B[1]=z[pe+1],B[2]=z[pe+2],fe(B,B,Fe),z[pe]=B[0],z[pe+1]=B[1],z[pe+2]=B[2];return z}}()},n2J3:function(ze,A,r){"use strict";Object.defineProperty(A,"__esModule",{value:!0}),A.unmanaged=void 0;var M=r("xfSm"),y=r("GXnB"),T=r("Ztfv");function b(){return function(u,H,k){var Z=new y.Metadata(M.UNMANAGED_TAG,!0);T.tagParameter(u,H,k,Z)}}A.unmanaged=b},n3AX:function(ze,A,r){var M=r("Nsbk");function y(T,b){for(;!Object.prototype.hasOwnProperty.call(T,b)&&(T=M(T),T!==null););return T}ze.exports=y,ze.exports.default=ze.exports,ze.exports.__esModule=!0},nSmt:function(ze,A,r){},"o+pz":function(ze,A,r){"use strict";r.d(A,"a",function(){return M});var M;(function(y){y[y.DEPTH_BUFFER_BIT=256]="DEPTH_BUFFER_BIT",y[y.STENCIL_BUFFER_BIT=1024]="STENCIL_BUFFER_BIT",y[y.COLOR_BUFFER_BIT=16384]="COLOR_BUFFER_BIT",y[y.POINTS=0]="POINTS",y[y.LINES=1]="LINES",y[y.LINE_LOOP=2]="LINE_LOOP",y[y.LINE_STRIP=3]="LINE_STRIP",y[y.TRIANGLES=4]="TRIANGLES",y[y.TRIANGLE_STRIP=5]="TRIANGLE_STRIP",y[y.TRIANGLE_FAN=6]="TRIANGLE_FAN",y[y.ZERO=0]="ZERO",y[y.ONE=1]="ONE",y[y.SRC_COLOR=768]="SRC_COLOR",y[y.ONE_MINUS_SRC_COLOR=769]="ONE_MINUS_SRC_COLOR",y[y.SRC_ALPHA=770]="SRC_ALPHA",y[y.ONE_MINUS_SRC_ALPHA=771]="ONE_MINUS_SRC_ALPHA",y[y.DST_ALPHA=772]="DST_ALPHA",y[y.ONE_MINUS_DST_ALPHA=773]="ONE_MINUS_DST_ALPHA",y[y.DST_COLOR=774]="DST_COLOR",y[y.ONE_MINUS_DST_COLOR=775]="ONE_MINUS_DST_COLOR",y[y.SRC_ALPHA_SATURATE=776]="SRC_ALPHA_SATURATE",y[y.FUNC_ADD=32774]="FUNC_ADD",y[y.BLEND_EQUATION=32777]="BLEND_EQUATION",y[y.BLEND_EQUATION_RGB=32777]="BLEND_EQUATION_RGB",y[y.BLEND_EQUATION_ALPHA=34877]="BLEND_EQUATION_ALPHA",y[y.FUNC_SUBTRACT=32778]="FUNC_SUBTRACT",y[y.FUNC_REVERSE_SUBTRACT=32779]="FUNC_REVERSE_SUBTRACT",y[y.MAX_EXT=32776]="MAX_EXT",y[y.MIN_EXT=32775]="MIN_EXT",y[y.BLEND_DST_RGB=32968]="BLEND_DST_RGB",y[y.BLEND_SRC_RGB=32969]="BLEND_SRC_RGB",y[y.BLEND_DST_ALPHA=32970]="BLEND_DST_ALPHA",y[y.BLEND_SRC_ALPHA=32971]="BLEND_SRC_ALPHA",y[y.CONSTANT_COLOR=32769]="CONSTANT_COLOR",y[y.ONE_MINUS_CONSTANT_COLOR=32770]="ONE_MINUS_CONSTANT_COLOR",y[y.CONSTANT_ALPHA=32771]="CONSTANT_ALPHA",y[y.ONE_MINUS_CONSTANT_ALPHA=32772]="ONE_MINUS_CONSTANT_ALPHA",y[y.BLEND_COLOR=32773]="BLEND_COLOR",y[y.ARRAY_BUFFER=34962]="ARRAY_BUFFER",y[y.ELEMENT_ARRAY_BUFFER=34963]="ELEMENT_ARRAY_BUFFER",y[y.ARRAY_BUFFER_BINDING=34964]="ARRAY_BUFFER_BINDING",y[y.ELEMENT_ARRAY_BUFFER_BINDING=34965]="ELEMENT_ARRAY_BUFFER_BINDING",y[y.STREAM_DRAW=35040]="STREAM_DRAW",y[y.STATIC_DRAW=35044]="STATIC_DRAW",y[y.DYNAMIC_DRAW=35048]="DYNAMIC_DRAW",y[y.BUFFER_SIZE=34660]="BUFFER_SIZE",y[y.BUFFER_USAGE=34661]="BUFFER_USAGE",y[y.CURRENT_VERTEX_ATTRIB=34342]="CURRENT_VERTEX_ATTRIB",y[y.FRONT=1028]="FRONT",y[y.BACK=1029]="BACK",y[y.FRONT_AND_BACK=1032]="FRONT_AND_BACK",y[y.CULL_FACE=2884]="CULL_FACE",y[y.BLEND=3042]="BLEND",y[y.DITHER=3024]="DITHER",y[y.STENCIL_TEST=2960]="STENCIL_TEST",y[y.DEPTH_TEST=2929]="DEPTH_TEST",y[y.SCISSOR_TEST=3089]="SCISSOR_TEST",y[y.POLYGON_OFFSET_FILL=32823]="POLYGON_OFFSET_FILL",y[y.SAMPLE_ALPHA_TO_COVERAGE=32926]="SAMPLE_ALPHA_TO_COVERAGE",y[y.SAMPLE_COVERAGE=32928]="SAMPLE_COVERAGE",y[y.NO_ERROR=0]="NO_ERROR",y[y.INVALID_ENUM=1280]="INVALID_ENUM",y[y.INVALID_VALUE=1281]="INVALID_VALUE",y[y.INVALID_OPERATION=1282]="INVALID_OPERATION",y[y.OUT_OF_MEMORY=1285]="OUT_OF_MEMORY",y[y.CW=2304]="CW",y[y.CCW=2305]="CCW",y[y.LINE_WIDTH=2849]="LINE_WIDTH",y[y.ALIASED_POINT_SIZE_RANGE=33901]="ALIASED_POINT_SIZE_RANGE",y[y.ALIASED_LINE_WIDTH_RANGE=33902]="ALIASED_LINE_WIDTH_RANGE",y[y.CULL_FACE_MODE=2885]="CULL_FACE_MODE",y[y.FRONT_FACE=2886]="FRONT_FACE",y[y.DEPTH_RANGE=2928]="DEPTH_RANGE",y[y.DEPTH_WRITEMASK=2930]="DEPTH_WRITEMASK",y[y.DEPTH_CLEAR_VALUE=2931]="DEPTH_CLEAR_VALUE",y[y.DEPTH_FUNC=2932]="DEPTH_FUNC",y[y.STENCIL_CLEAR_VALUE=2961]="STENCIL_CLEAR_VALUE",y[y.STENCIL_FUNC=2962]="STENCIL_FUNC",y[y.STENCIL_FAIL=2964]="STENCIL_FAIL",y[y.STENCIL_PASS_DEPTH_FAIL=2965]="STENCIL_PASS_DEPTH_FAIL",y[y.STENCIL_PASS_DEPTH_PASS=2966]="STENCIL_PASS_DEPTH_PASS",y[y.STENCIL_REF=2967]="STENCIL_REF",y[y.STENCIL_VALUE_MASK=2963]="STENCIL_VALUE_MASK",y[y.STENCIL_WRITEMASK=2968]="STENCIL_WRITEMASK",y[y.STENCIL_BACK_FUNC=34816]="STENCIL_BACK_FUNC",y[y.STENCIL_BACK_FAIL=34817]="STENCIL_BACK_FAIL",y[y.STENCIL_BACK_PASS_DEPTH_FAIL=34818]="STENCIL_BACK_PASS_DEPTH_FAIL",y[y.STENCIL_BACK_PASS_DEPTH_PASS=34819]="STENCIL_BACK_PASS_DEPTH_PASS",y[y.STENCIL_BACK_REF=36003]="STENCIL_BACK_REF",y[y.STENCIL_BACK_VALUE_MASK=36004]="STENCIL_BACK_VALUE_MASK",y[y.STENCIL_BACK_WRITEMASK=36005]="STENCIL_BACK_WRITEMASK",y[y.VIEWPORT=2978]="VIEWPORT",y[y.SCISSOR_BOX=3088]="SCISSOR_BOX",y[y.COLOR_CLEAR_VALUE=3106]="COLOR_CLEAR_VALUE",y[y.COLOR_WRITEMASK=3107]="COLOR_WRITEMASK",y[y.UNPACK_ALIGNMENT=3317]="UNPACK_ALIGNMENT",y[y.PACK_ALIGNMENT=3333]="PACK_ALIGNMENT",y[y.MAX_TEXTURE_SIZE=3379]="MAX_TEXTURE_SIZE",y[y.MAX_VIEWPORT_DIMS=3386]="MAX_VIEWPORT_DIMS",y[y.SUBPIXEL_BITS=3408]="SUBPIXEL_BITS",y[y.RED_BITS=3410]="RED_BITS",y[y.GREEN_BITS=3411]="GREEN_BITS",y[y.BLUE_BITS=3412]="BLUE_BITS",y[y.ALPHA_BITS=3413]="ALPHA_BITS",y[y.DEPTH_BITS=3414]="DEPTH_BITS",y[y.STENCIL_BITS=3415]="STENCIL_BITS",y[y.POLYGON_OFFSET_UNITS=10752]="POLYGON_OFFSET_UNITS",y[y.POLYGON_OFFSET_FACTOR=32824]="POLYGON_OFFSET_FACTOR",y[y.TEXTURE_BINDING_2D=32873]="TEXTURE_BINDING_2D",y[y.SAMPLE_BUFFERS=32936]="SAMPLE_BUFFERS",y[y.SAMPLES=32937]="SAMPLES",y[y.SAMPLE_COVERAGE_VALUE=32938]="SAMPLE_COVERAGE_VALUE",y[y.SAMPLE_COVERAGE_INVERT=32939]="SAMPLE_COVERAGE_INVERT",y[y.COMPRESSED_TEXTURE_FORMATS=34467]="COMPRESSED_TEXTURE_FORMATS",y[y.DONT_CARE=4352]="DONT_CARE",y[y.FASTEST=4353]="FASTEST",y[y.NICEST=4354]="NICEST",y[y.GENERATE_MIPMAP_HINT=33170]="GENERATE_MIPMAP_HINT",y[y.BYTE=5120]="BYTE",y[y.UNSIGNED_BYTE=5121]="UNSIGNED_BYTE",y[y.SHORT=5122]="SHORT",y[y.UNSIGNED_SHORT=5123]="UNSIGNED_SHORT",y[y.INT=5124]="INT",y[y.UNSIGNED_INT=5125]="UNSIGNED_INT",y[y.FLOAT=5126]="FLOAT",y[y.DEPTH_COMPONENT=6402]="DEPTH_COMPONENT",y[y.ALPHA=6406]="ALPHA",y[y.RGB=6407]="RGB",y[y.RGBA=6408]="RGBA",y[y.LUMINANCE=6409]="LUMINANCE",y[y.LUMINANCE_ALPHA=6410]="LUMINANCE_ALPHA",y[y.UNSIGNED_SHORT_4_4_4_4=32819]="UNSIGNED_SHORT_4_4_4_4",y[y.UNSIGNED_SHORT_5_5_5_1=32820]="UNSIGNED_SHORT_5_5_5_1",y[y.UNSIGNED_SHORT_5_6_5=33635]="UNSIGNED_SHORT_5_6_5",y[y.FRAGMENT_SHADER=35632]="FRAGMENT_SHADER",y[y.VERTEX_SHADER=35633]="VERTEX_SHADER",y[y.MAX_VERTEX_ATTRIBS=34921]="MAX_VERTEX_ATTRIBS",y[y.MAX_VERTEX_UNIFORM_VECTORS=36347]="MAX_VERTEX_UNIFORM_VECTORS",y[y.MAX_VARYING_VECTORS=36348]="MAX_VARYING_VECTORS",y[y.MAX_COMBINED_TEXTURE_IMAGE_UNITS=35661]="MAX_COMBINED_TEXTURE_IMAGE_UNITS",y[y.MAX_VERTEX_TEXTURE_IMAGE_UNITS=35660]="MAX_VERTEX_TEXTURE_IMAGE_UNITS",y[y.MAX_TEXTURE_IMAGE_UNITS=34930]="MAX_TEXTURE_IMAGE_UNITS",y[y.MAX_FRAGMENT_UNIFORM_VECTORS=36349]="MAX_FRAGMENT_UNIFORM_VECTORS",y[y.SHADER_TYPE=35663]="SHADER_TYPE",y[y.DELETE_STATUS=35712]="DELETE_STATUS",y[y.LINK_STATUS=35714]="LINK_STATUS",y[y.VALIDATE_STATUS=35715]="VALIDATE_STATUS",y[y.ATTACHED_SHADERS=35717]="ATTACHED_SHADERS",y[y.ACTIVE_UNIFORMS=35718]="ACTIVE_UNIFORMS",y[y.ACTIVE_ATTRIBUTES=35721]="ACTIVE_ATTRIBUTES",y[y.SHADING_LANGUAGE_VERSION=35724]="SHADING_LANGUAGE_VERSION",y[y.CURRENT_PROGRAM=35725]="CURRENT_PROGRAM",y[y.NEVER=512]="NEVER",y[y.LESS=513]="LESS",y[y.EQUAL=514]="EQUAL",y[y.LEQUAL=515]="LEQUAL",y[y.GREATER=516]="GREATER",y[y.NOTEQUAL=517]="NOTEQUAL",y[y.GEQUAL=518]="GEQUAL",y[y.ALWAYS=519]="ALWAYS",y[y.KEEP=7680]="KEEP",y[y.REPLACE=7681]="REPLACE",y[y.INCR=7682]="INCR",y[y.DECR=7683]="DECR",y[y.INVERT=5386]="INVERT",y[y.INCR_WRAP=34055]="INCR_WRAP",y[y.DECR_WRAP=34056]="DECR_WRAP",y[y.VENDOR=7936]="VENDOR",y[y.RENDERER=7937]="RENDERER",y[y.VERSION=7938]="VERSION",y[y.NEAREST=9728]="NEAREST",y[y.LINEAR=9729]="LINEAR",y[y.NEAREST_MIPMAP_NEAREST=9984]="NEAREST_MIPMAP_NEAREST",y[y.LINEAR_MIPMAP_NEAREST=9985]="LINEAR_MIPMAP_NEAREST",y[y.NEAREST_MIPMAP_LINEAR=9986]="NEAREST_MIPMAP_LINEAR",y[y.LINEAR_MIPMAP_LINEAR=9987]="LINEAR_MIPMAP_LINEAR",y[y.TEXTURE_MAG_FILTER=10240]="TEXTURE_MAG_FILTER",y[y.TEXTURE_MIN_FILTER=10241]="TEXTURE_MIN_FILTER",y[y.TEXTURE_WRAP_S=10242]="TEXTURE_WRAP_S",y[y.TEXTURE_WRAP_T=10243]="TEXTURE_WRAP_T",y[y.TEXTURE_2D=3553]="TEXTURE_2D",y[y.TEXTURE=5890]="TEXTURE",y[y.TEXTURE_CUBE_MAP=34067]="TEXTURE_CUBE_MAP",y[y.TEXTURE_BINDING_CUBE_MAP=34068]="TEXTURE_BINDING_CUBE_MAP",y[y.TEXTURE_CUBE_MAP_POSITIVE_X=34069]="TEXTURE_CUBE_MAP_POSITIVE_X",y[y.TEXTURE_CUBE_MAP_NEGATIVE_X=34070]="TEXTURE_CUBE_MAP_NEGATIVE_X",y[y.TEXTURE_CUBE_MAP_POSITIVE_Y=34071]="TEXTURE_CUBE_MAP_POSITIVE_Y",y[y.TEXTURE_CUBE_MAP_NEGATIVE_Y=34072]="TEXTURE_CUBE_MAP_NEGATIVE_Y",y[y.TEXTURE_CUBE_MAP_POSITIVE_Z=34073]="TEXTURE_CUBE_MAP_POSITIVE_Z",y[y.TEXTURE_CUBE_MAP_NEGATIVE_Z=34074]="TEXTURE_CUBE_MAP_NEGATIVE_Z",y[y.MAX_CUBE_MAP_TEXTURE_SIZE=34076]="MAX_CUBE_MAP_TEXTURE_SIZE",y[y.TEXTURE0=33984]="TEXTURE0",y[y.TEXTURE1=33985]="TEXTURE1",y[y.TEXTURE2=33986]="TEXTURE2",y[y.TEXTURE3=33987]="TEXTURE3",y[y.TEXTURE4=33988]="TEXTURE4",y[y.TEXTURE5=33989]="TEXTURE5",y[y.TEXTURE6=33990]="TEXTURE6",y[y.TEXTURE7=33991]="TEXTURE7",y[y.TEXTURE8=33992]="TEXTURE8",y[y.TEXTURE9=33993]="TEXTURE9",y[y.TEXTURE10=33994]="TEXTURE10",y[y.TEXTURE11=33995]="TEXTURE11",y[y.TEXTURE12=33996]="TEXTURE12",y[y.TEXTURE13=33997]="TEXTURE13",y[y.TEXTURE14=33998]="TEXTURE14",y[y.TEXTURE15=33999]="TEXTURE15",y[y.TEXTURE16=34e3]="TEXTURE16",y[y.TEXTURE17=34001]="TEXTURE17",y[y.TEXTURE18=34002]="TEXTURE18",y[y.TEXTURE19=34003]="TEXTURE19",y[y.TEXTURE20=34004]="TEXTURE20",y[y.TEXTURE21=34005]="TEXTURE21",y[y.TEXTURE22=34006]="TEXTURE22",y[y.TEXTURE23=34007]="TEXTURE23",y[y.TEXTURE24=34008]="TEXTURE24",y[y.TEXTURE25=34009]="TEXTURE25",y[y.TEXTURE26=34010]="TEXTURE26",y[y.TEXTURE27=34011]="TEXTURE27",y[y.TEXTURE28=34012]="TEXTURE28",y[y.TEXTURE29=34013]="TEXTURE29",y[y.TEXTURE30=34014]="TEXTURE30",y[y.TEXTURE31=34015]="TEXTURE31",y[y.ACTIVE_TEXTURE=34016]="ACTIVE_TEXTURE",y[y.REPEAT=10497]="REPEAT",y[y.CLAMP_TO_EDGE=33071]="CLAMP_TO_EDGE",y[y.MIRRORED_REPEAT=33648]="MIRRORED_REPEAT",y[y.FLOAT_VEC2=35664]="FLOAT_VEC2",y[y.FLOAT_VEC3=35665]="FLOAT_VEC3",y[y.FLOAT_VEC4=35666]="FLOAT_VEC4",y[y.INT_VEC2=35667]="INT_VEC2",y[y.INT_VEC3=35668]="INT_VEC3",y[y.INT_VEC4=35669]="INT_VEC4",y[y.BOOL=35670]="BOOL",y[y.BOOL_VEC2=35671]="BOOL_VEC2",y[y.BOOL_VEC3=35672]="BOOL_VEC3",y[y.BOOL_VEC4=35673]="BOOL_VEC4",y[y.FLOAT_MAT2=35674]="FLOAT_MAT2",y[y.FLOAT_MAT3=35675]="FLOAT_MAT3",y[y.FLOAT_MAT4=35676]="FLOAT_MAT4",y[y.SAMPLER_2D=35678]="SAMPLER_2D",y[y.SAMPLER_CUBE=35680]="SAMPLER_CUBE",y[y.VERTEX_ATTRIB_ARRAY_ENABLED=34338]="VERTEX_ATTRIB_ARRAY_ENABLED",y[y.VERTEX_ATTRIB_ARRAY_SIZE=34339]="VERTEX_ATTRIB_ARRAY_SIZE",y[y.VERTEX_ATTRIB_ARRAY_STRIDE=34340]="VERTEX_ATTRIB_ARRAY_STRIDE",y[y.VERTEX_ATTRIB_ARRAY_TYPE=34341]="VERTEX_ATTRIB_ARRAY_TYPE",y[y.VERTEX_ATTRIB_ARRAY_NORMALIZED=34922]="VERTEX_ATTRIB_ARRAY_NORMALIZED",y[y.VERTEX_ATTRIB_ARRAY_POINTER=34373]="VERTEX_ATTRIB_ARRAY_POINTER",y[y.VERTEX_ATTRIB_ARRAY_BUFFER_BINDING=34975]="VERTEX_ATTRIB_ARRAY_BUFFER_BINDING",y[y.COMPILE_STATUS=35713]="COMPILE_STATUS",y[y.LOW_FLOAT=36336]="LOW_FLOAT",y[y.MEDIUM_FLOAT=36337]="MEDIUM_FLOAT",y[y.HIGH_FLOAT=36338]="HIGH_FLOAT",y[y.LOW_INT=36339]="LOW_INT",y[y.MEDIUM_INT=36340]="MEDIUM_INT",y[y.HIGH_INT=36341]="HIGH_INT",y[y.FRAMEBUFFER=36160]="FRAMEBUFFER",y[y.RENDERBUFFER=36161]="RENDERBUFFER",y[y.RGBA4=32854]="RGBA4",y[y.RGB5_A1=32855]="RGB5_A1",y[y.RGB565=36194]="RGB565",y[y.DEPTH_COMPONENT16=33189]="DEPTH_COMPONENT16",y[y.STENCIL_INDEX=6401]="STENCIL_INDEX",y[y.STENCIL_INDEX8=36168]="STENCIL_INDEX8",y[y.DEPTH_STENCIL=34041]="DEPTH_STENCIL",y[y.RENDERBUFFER_WIDTH=36162]="RENDERBUFFER_WIDTH",y[y.RENDERBUFFER_HEIGHT=36163]="RENDERBUFFER_HEIGHT",y[y.RENDERBUFFER_INTERNAL_FORMAT=36164]="RENDERBUFFER_INTERNAL_FORMAT",y[y.RENDERBUFFER_RED_SIZE=36176]="RENDERBUFFER_RED_SIZE",y[y.RENDERBUFFER_GREEN_SIZE=36177]="RENDERBUFFER_GREEN_SIZE",y[y.RENDERBUFFER_BLUE_SIZE=36178]="RENDERBUFFER_BLUE_SIZE",y[y.RENDERBUFFER_ALPHA_SIZE=36179]="RENDERBUFFER_ALPHA_SIZE",y[y.RENDERBUFFER_DEPTH_SIZE=36180]="RENDERBUFFER_DEPTH_SIZE",y[y.RENDERBUFFER_STENCIL_SIZE=36181]="RENDERBUFFER_STENCIL_SIZE",y[y.FRAMEBUFFER_ATTACHMENT_OBJECT_TYPE=36048]="FRAMEBUFFER_ATTACHMENT_OBJECT_TYPE",y[y.FRAMEBUFFER_ATTACHMENT_OBJECT_NAME=36049]="FRAMEBUFFER_ATTACHMENT_OBJECT_NAME",y[y.FRAMEBUFFER_ATTACHMENT_TEXTURE_LEVEL=36050]="FRAMEBUFFER_ATTACHMENT_TEXTURE_LEVEL",y[y.FRAMEBUFFER_ATTACHMENT_TEXTURE_CUBE_MAP_FACE=36051]="FRAMEBUFFER_ATTACHMENT_TEXTURE_CUBE_MAP_FACE",y[y.COLOR_ATTACHMENT0=36064]="COLOR_ATTACHMENT0",y[y.DEPTH_ATTACHMENT=36096]="DEPTH_ATTACHMENT",y[y.STENCIL_ATTACHMENT=36128]="STENCIL_ATTACHMENT",y[y.DEPTH_STENCIL_ATTACHMENT=33306]="DEPTH_STENCIL_ATTACHMENT",y[y.NONE=0]="NONE",y[y.FRAMEBUFFER_COMPLETE=36053]="FRAMEBUFFER_COMPLETE",y[y.FRAMEBUFFER_INCOMPLETE_ATTACHMENT=36054]="FRAMEBUFFER_INCOMPLETE_ATTACHMENT",y[y.FRAMEBUFFER_INCOMPLETE_MISSING_ATTACHMENT=36055]="FRAMEBUFFER_INCOMPLETE_MISSING_ATTACHMENT",y[y.FRAMEBUFFER_INCOMPLETE_DIMENSIONS=36057]="FRAMEBUFFER_INCOMPLETE_DIMENSIONS",y[y.FRAMEBUFFER_UNSUPPORTED=36061]="FRAMEBUFFER_UNSUPPORTED",y[y.FRAMEBUFFER_BINDING=36006]="FRAMEBUFFER_BINDING",y[y.RENDERBUFFER_BINDING=36007]="RENDERBUFFER_BINDING",y[y.MAX_RENDERBUFFER_SIZE=34024]="MAX_RENDERBUFFER_SIZE",y[y.INVALID_FRAMEBUFFER_OPERATION=1286]="INVALID_FRAMEBUFFER_OPERATION",y[y.UNPACK_FLIP_Y_WEBGL=37440]="UNPACK_FLIP_Y_WEBGL",y[y.UNPACK_PREMULTIPLY_ALPHA_WEBGL=37441]="UNPACK_PREMULTIPLY_ALPHA_WEBGL",y[y.CONTEXT_LOST_WEBGL=37442]="CONTEXT_LOST_WEBGL",y[y.UNPACK_COLORSPACE_CONVERSION_WEBGL=37443]="UNPACK_COLORSPACE_CONVERSION_WEBGL",y[y.BROWSER_DEFAULT_WEBGL=37444]="BROWSER_DEFAULT_WEBGL"})(M||(M={}))},"oCl/":function(ze,A,r){var M=r("CH3K"),y=r("LcsW"),T=r("MvSz"),b=r("0ycA"),u=Object.getOwnPropertySymbols,H=u?function(k){for(var Z=[];k;)M(Z,T(k)),k=y(k);return Z}:b;ze.exports=H},oShl:function(ze,A,r){var M=r("Nsbk"),y=r("SksO"),T=r("xfeJ"),b=r("sXyB");function u(H){var k=typeof Map=="function"?new Map:void 0;return ze.exports=u=function(oe){if(oe===null||!T(oe))return oe;if(typeof oe!="function")throw new TypeError("Super expression must either be null or a function");if(typeof k!="undefined"){if(k.has(oe))return k.get(oe);k.set(oe,ne)}function ne(){return b(oe,arguments,M(this).constructor)}return ne.prototype=Object.create(oe.prototype,{constructor:{value:ne,enumerable:!1,writable:!0,configurable:!0}}),y(ne,oe)},ze.exports.default=ze.exports,ze.exports.__esModule=!0,u(H)}ze.exports=u,ze.exports.default=ze.exports,ze.exports.__esModule=!0},oaX6:function(ze,A,r){"use strict";Object.defineProperty(A,"__esModule",{value:!0}),A.targetName=void 0;var M=r("xfSm"),y=r("GXnB"),T=r("Ztfv");function b(u){return function(H,k,Z){var oe=new y.Metadata(M.NAME_TAG,u);T.tagParameter(H,k,Z,oe)}}A.targetName=b},"otv/":function(ze,A,r){var M=r("nmnc"),y=M?M.prototype:void 0,T=y?y.valueOf:void 0;function b(u){return T?Object(T.call(u)):{}}ze.exports=b},"oy+k":function(ze,A,r){"use strict";Object.defineProperty(A,"__esModule",{value:!0}),A.Context=void 0;var M=r("d9O0"),y=function(){function T(b){this.id=M.id(),this.container=b}return T.prototype.addPlan=function(b){this.plan=b},T.prototype.setCurrentRequest=function(b){this.currentRequest=b},T}();A.Context=y},pAY0:function(ze,A,r){},"pED+":function(ze,A,r){},pFRH:function(ze,A,r){var M=r("cvCv"),y=r("O0oS"),T=r("zZ0H"),b=y?function(u,H){return y(u,"toString",{configurable:!0,enumerable:!1,value:M(H),writable:!0})}:T;ze.exports=b},pL63:function(ze,A,r){},qK8v:function(ze,A,r){"use strict";Object.defineProperty(A,"__esModule",{value:!0}),A.isStackOverflowExeption=void 0;var M=r("MON2");function y(T){return T instanceof RangeError||T.message===M.STACK_OVERFLOW}A.isStackOverflowExeption=y},qRkn:function(ze,A,r){var M=r("3cYt"),y={\u00C0:"A",\u00C1:"A",\u00C2:"A",\u00C3:"A",\u00C4:"A",\u00C5:"A",\u00E0:"a",\u00E1:"a",\u00E2:"a",\u00E3:"a",\u00E4:"a",\u00E5:"a",\u00C7:"C",\u00E7:"c",\u00D0:"D",\u00F0:"d",\u00C8:"E",\u00C9:"E",\u00CA:"E",\u00CB:"E",\u00E8:"e",\u00E9:"e",\u00EA:"e",\u00EB:"e",\u00CC:"I",\u00CD:"I",\u00CE:"I",\u00CF:"I",\u00EC:"i",\u00ED:"i",\u00EE:"i",\u00EF:"i",\u00D1:"N",\u00F1:"n",\u00D2:"O",\u00D3:"O",\u00D4:"O",\u00D5:"O",\u00D6:"O",\u00D8:"O",\u00F2:"o",\u00F3:"o",\u00F4:"o",\u00F5:"o",\u00F6:"o",\u00F8:"o",\u00D9:"U",\u00DA:"U",\u00DB:"U",\u00DC:"U",\u00F9:"u",\u00FA:"u",\u00FB:"u",\u00FC:"u",\u00DD:"Y",\u00FD:"y",\u00FF:"y",\u00C6:"Ae",\u00E6:"ae",\u00DE:"Th",\u00FE:"th",\u00DF:"ss",\u0100:"A",\u0102:"A",\u0104:"A",\u0101:"a",\u0103:"a",\u0105:"a",\u0106:"C",\u0108:"C",\u010A:"C",\u010C:"C",\u0107:"c",\u0109:"c",\u010B:"c",\u010D:"c",\u010E:"D",\u0110:"D",\u010F:"d",\u0111:"d",\u0112:"E",\u0114:"E",\u0116:"E",\u0118:"E",\u011A:"E",\u0113:"e",\u0115:"e",\u0117:"e",\u0119:"e",\u011B:"e",\u011C:"G",\u011E:"G",\u0120:"G",\u0122:"G",\u011D:"g",\u011F:"g",\u0121:"g",\u0123:"g",\u0124:"H",\u0126:"H",\u0125:"h",\u0127:"h",\u0128:"I",\u012A:"I",\u012C:"I",\u012E:"I",\u0130:"I",\u0129:"i",\u012B:"i",\u012D:"i",\u012F:"i",\u0131:"i",\u0134:"J",\u0135:"j",\u0136:"K",\u0137:"k",\u0138:"k",\u0139:"L",\u013B:"L",\u013D:"L",\u013F:"L",\u0141:"L",\u013A:"l",\u013C:"l",\u013E:"l",\u0140:"l",\u0142:"l",\u0143:"N",\u0145:"N",\u0147:"N",\u014A:"N",\u0144:"n",\u0146:"n",\u0148:"n",\u014B:"n",\u014C:"O",\u014E:"O",\u0150:"O",\u014D:"o",\u014F:"o",\u0151:"o",\u0154:"R",\u0156:"R",\u0158:"R",\u0155:"r",\u0157:"r",\u0159:"r",\u015A:"S",\u015C:"S",\u015E:"S",\u0160:"S",\u015B:"s",\u015D:"s",\u015F:"s",\u0161:"s",\u0162:"T",\u0164:"T",\u0166:"T",\u0163:"t",\u0165:"t",\u0167:"t",\u0168:"U",\u016A:"U",\u016C:"U",\u016E:"U",\u0170:"U",\u0172:"U",\u0169:"u",\u016B:"u",\u016D:"u",\u016F:"u",\u0171:"u",\u0173:"u",\u0174:"W",\u0175:"w",\u0176:"Y",\u0177:"y",\u0178:"Y",\u0179:"Z",\u017B:"Z",\u017D:"Z",\u017A:"z",\u017C:"z",\u017E:"z",\u0132:"IJ",\u0133:"ij",\u0152:"Oe",\u0153:"oe",\u0149:"'n",\u017F:"s"},T=M(y);ze.exports=T},"ql/k":function(ze,A,r){"use strict";Object.defineProperty(A,"__esModule",{value:!0});var M=Object.assign||function(k){for(var Z=1;Z<arguments.length;Z++){var oe=arguments[Z];for(var ne in oe)Object.prototype.hasOwnProperty.call(oe,ne)&&(k[ne]=oe[ne])}return k},y=r("q1tI"),T=b(y);function b(k){return k&&k.__esModule?k:{default:k}}function u(k,Z){var oe={};for(var ne in k)Z.indexOf(ne)>=0||!Object.prototype.hasOwnProperty.call(k,ne)||(oe[ne]=k[ne]);return oe}var H=24;A.default=function(k){var Z=k.fill,oe=Z===void 0?"currentColor":Z,ne=k.width,Te=ne===void 0?H:ne,at=k.height,ve=at===void 0?H:at,we=k.style,I=we===void 0?{}:we,Ce=u(k,["fill","width","height","style"]);return T.default.createElement("svg",M({viewBox:"0 0 "+H+" "+H,style:M({fill:oe,width:Te,height:ve},I)},Ce),T.default.createElement("path",{d:"M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"}))}},quyA:function(ze,A){var r="\\ud800-\\udfff",M="\\u0300-\\u036f",y="\\ufe20-\\ufe2f",T="\\u20d0-\\u20ff",b=M+y+T,u="\\ufe0e\\ufe0f",H="\\u200d",k=RegExp("["+H+r+b+u+"]");function Z(oe){return k.test(oe)}ze.exports=Z},qx4F:function(ze,A,r){"use strict";r.d(A,"a",function(){return y}),r.d(A,"b",function(){return b});var M;function y(u){if(typeof document=="undefined")return 0;if(u||M===void 0){var H=document.createElement("div");H.style.width="100%",H.style.height="200px";var k=document.createElement("div"),Z=k.style;Z.position="absolute",Z.top="0",Z.left="0",Z.pointerEvents="none",Z.visibility="hidden",Z.width="200px",Z.height="150px",Z.overflow="hidden",k.appendChild(H),document.body.appendChild(k);var oe=H.offsetWidth;k.style.overflow="scroll";var ne=H.offsetWidth;oe===ne&&(ne=k.clientWidth),document.body.removeChild(k),M=oe-ne}return M}function T(u){var H=u.match(/^(.*)px$/),k=Number(H==null?void 0:H[1]);return Number.isNaN(k)?y():k}function b(u){if(typeof document=="undefined"||!u||!(u instanceof Element))return{width:0,height:0};var H=getComputedStyle(u,"::-webkit-scrollbar"),k=H.width,Z=H.height;return{width:T(k),height:T(Z)}}},qxNg:function(ze,A,r){"use strict";r.d(A,"a",function(){return k});var M=r("lSNA"),y=r.n(M),T=r("mpbz"),b=r.n(T);function u(oe,ne){var Te=Object.keys(oe);if(Object.getOwnPropertySymbols){var at=Object.getOwnPropertySymbols(oe);ne&&(at=at.filter(function(ve){return Object.getOwnPropertyDescriptor(oe,ve).enumerable})),Te.push.apply(Te,at)}return Te}function H(oe){for(var ne=1;ne<arguments.length;ne++){var Te=arguments[ne]!=null?arguments[ne]:{};ne%2?u(Object(Te),!0).forEach(function(at){y()(oe,at,Te[at])}):Object.getOwnPropertyDescriptors?Object.defineProperties(oe,Object.getOwnPropertyDescriptors(Te)):u(Object(Te)).forEach(function(at){Object.defineProperty(oe,at,Object.getOwnPropertyDescriptor(Te,at))})}return oe}function k(oe,ne){var Te=ne.radius,at=Te===void 0?40:Te,ve=ne.maxZoom,we=ve===void 0?18:ve,I=ne.minZoom,Ce=I===void 0?0:I,et=ne.zoom,Et=et===void 0?2:et;if(oe.pointIndex){var We=oe.pointIndex.getClusters(oe.extent,Math.floor(Et));return oe.dataArray=Z(We),oe}var ct=new b.a({radius:at,minZoom:Ce,maxZoom:we}),ce={type:"FeatureCollection",features:[]};return ce.features=oe.dataArray.map(function(Vt){return{type:"Feature",geometry:{type:"Point",coordinates:Vt.coordinates},properties:H({},Vt)}}),ct.load(ce.features),ct}function Z(oe){return oe.map(function(ne,Te){return H({coordinates:ne.geometry.coordinates,_id:Te+1},ne.properties)})}},riiI:function(ze,A){},rlAn:function(ze,A,r){"use strict";r.d(A,"DEFAULT_DATA",function(){return Ce}),r.d(A,"DEFAULT_PARSER",function(){return et});var M=r("ISu3"),y=r("gMG2"),T=r("5gLl"),b=r("BpBL"),u=r("5zYK"),H=r("lJbI"),k=r("l94r"),Z=r("qxNg"),oe=r("Y8BV"),ne=r("VIsB"),Te=r("+VLl"),at=r("aF1E"),ve=r("fdMe");r.d(A,"getTransform",function(){return M.b}),r.d(A,"getParser",function(){return M.a});var we=r("U1ZX"),I=r.n(we);A.default=k.a,Object(M.c)("geojson",T.a),Object(M.c)("image",b.a),Object(M.c)("csv",y.a),Object(M.c)("json",u.a),Object(M.c)("raster",H.a),Object(M.d)("cluster",Z.a),Object(M.d)("filter",oe.a),Object(M.d)("join",at.a),Object(M.d)("map",ve.a),Object(M.d)("grid",ne.a),Object(M.d)("hexagon",Te.a);var Ce=u.b,et=u.c},rmhi:function(ze,A,r){"use strict";var M=r("WmNS"),y=r.n(M),T=r("cIOH"),b=r("1wcP"),u=r("+L6B"),H=r("rePB"),k=r("wx14"),Z=r("q1tI"),oe=r.n(Z),ne=r("hzQT"),Te=r("TSYQ"),at=r.n(Te),ve=r("4i/N"),we=r("ul5b"),I=r("2/Rp"),Ce=r("zvFY"),et=r("YMnH"),Et=r("H84U"),We=r("R3zJ"),ct=r("EXcs"),ce=function(Ee,be){var rt={};for(var de in Ee)Object.prototype.hasOwnProperty.call(Ee,de)&&be.indexOf(de)<0&&(rt[de]=Ee[de]);if(Ee!=null&&typeof Object.getOwnPropertySymbols=="function")for(var Pe=0,de=Object.getOwnPropertySymbols(Ee);Pe<de.length;Pe++)be.indexOf(de[Pe])<0&&Object.prototype.propertyIsEnumerable.call(Ee,de[Pe])&&(rt[de[Pe]]=Ee[de[Pe]]);return rt},Vt,It=function(be){Vt={x:be.pageX,y:be.pageY},setTimeout(function(){Vt=null},100)};Object(We.a)()&&document.documentElement.addEventListener("click",It,!0);var Mt=function(be){var rt,de=Z.useContext(Et.b),Pe=de.getPopupContainer,xe=de.getPrefixCls,Oe=de.direction,dt=function(ni){var Da=be.onCancel;Da==null||Da(ni)},Gt=function(ni){var Da=be.onOk;Da==null||Da(ni)},$t=function(ni){var Da=be.okText,Fa=be.okType,ba=be.cancelText,Oi=be.confirmLoading;return Z.createElement(Z.Fragment,null,Z.createElement(I.a,Object(k.a)({onClick:dt},be.cancelButtonProps),ba||ni.cancelText),Z.createElement(I.a,Object(k.a)({},Object(Ce.a)(Fa),{loading:Oi,onClick:Gt},be.okButtonProps),Da||ni.okText))},nr=be.prefixCls,lr=be.footer,Dr=be.visible,Pr=be.wrapClassName,Wr=be.centered,an=be.getContainer,dn=be.closeIcon,Rn=be.focusTriggerAfterClose,zn=Rn===void 0?!0:Rn,Qn=ce(be,["prefixCls","footer","visible","wrapClassName","centered","getContainer","closeIcon","focusTriggerAfterClose"]),Ma=xe("modal",nr),Ca=xe(),ia=Z.createElement(et.a,{componentName:"Modal",defaultLocale:Object(we.b)()},$t),_a=Z.createElement("span",{className:"".concat(Ma,"-close-x")},dn||Z.createElement(ve.a,{className:"".concat(Ma,"-close-icon")})),$a=at()(Pr,(rt={},Object(H.a)(rt,"".concat(Ma,"-centered"),!!Wr),Object(H.a)(rt,"".concat(Ma,"-wrap-rtl"),Oe==="rtl"),rt));return Z.createElement(ne.a,Object(k.a)({},Qn,{getContainer:an===void 0?Pe:an,prefixCls:Ma,wrapClassName:$a,footer:lr===void 0?ia:lr,visible:Dr,mousePosition:Vt,onClose:dt,closeIcon:_a,focusTriggerAfterClose:zn,transitionName:Object(ct.b)(Ca,"zoom",be.transitionName),maskTransitionName:Object(ct.b)(Ca,"fade",be.maskTransitionName)}))};Mt.defaultProps={width:520,confirmLoading:!1,visible:!1,okType:"primary"};var Tt=Mt,ye=r("i8i4"),lt=r("+YFz"),yt=r("Ue1A"),Dt=r("2BaD"),Jt=r("RCxd"),At=r("ODXe"),vt=function(be){var rt=Z.useRef(!1),de=Z.useRef(),Pe=Z.useState(!1),xe=Object(At.a)(Pe,2),Oe=xe[0],dt=xe[1];Z.useEffect(function(){var Wr;if(be.autoFocus){var an=de.current;Wr=setTimeout(function(){return an.focus()})}return function(){Wr&&clearTimeout(Wr)}},[]);var Gt=function(an){var dn=be.closeModal;!an||!an.then||(dt(!0),an.then(function(){dn.apply(void 0,arguments)},function(Rn){console.error(Rn),dt(!1),rt.current=!1}))},$t=function(){var an=be.actionFn,dn=be.closeModal;if(!rt.current){if(rt.current=!0,!an){dn();return}var Rn;if(an.length)Rn=an(dn),rt.current=!1;else if(Rn=an(),!Rn){dn();return}Gt(Rn)}},nr=be.type,lr=be.children,Dr=be.prefixCls,Pr=be.buttonProps;return Z.createElement(I.a,Object(k.a)({},Object(Ce.a)(nr),{onClick:$t,loading:Oe,prefixCls:Dr},Pr,{ref:de}),lr)},ie=vt,J=r("uaoM"),ee=r("wEI+"),Ie=function(be){var rt=be.icon,de=be.onCancel,Pe=be.onOk,xe=be.close,Oe=be.zIndex,dt=be.afterClose,Gt=be.visible,$t=be.keyboard,nr=be.centered,lr=be.getContainer,Dr=be.maskStyle,Pr=be.okText,Wr=be.okButtonProps,an=be.cancelText,dn=be.cancelButtonProps,Rn=be.direction,zn=be.prefixCls,Qn=be.rootPrefixCls,Ma=be.bodyStyle,Ca=be.closable,ia=Ca===void 0?!1:Ca,_a=be.closeIcon,$a=be.modalRender,ra=be.focusTriggerAfterClose;Object(J.a)(!(typeof rt=="string"&&rt.length>2),"Modal","`icon` is using ReactNode instead of string naming in v4. Please check `".concat(rt,"` at https://ant.design/components/icon"));var ni=be.okType||"primary",Da="".concat(zn,"-confirm"),Fa="okCancel"in be?be.okCancel:!0,ba=be.width||416,Oi=be.style||{},Do=be.mask===void 0?!0:be.mask,Li=be.maskClosable===void 0?!1:be.maskClosable,Ui=be.autoFocusButton===null?!1:be.autoFocusButton||"ok",Na=at()(Da,"".concat(Da,"-").concat(be.type),Object(H.a)({},"".concat(Da,"-rtl"),Rn==="rtl"),be.className),wa=Fa&&Z.createElement(ie,{actionFn:de,closeModal:xe,autoFocus:Ui==="cancel",buttonProps:dn,prefixCls:"".concat(Qn,"-btn")},an);return Z.createElement(Tt,{prefixCls:zn,className:Na,wrapClassName:at()(Object(H.a)({},"".concat(Da,"-centered"),!!be.centered)),onCancel:function(){return xe({triggerCancel:!0})},visible:Gt,title:"",footer:"",transitionName:Object(ct.b)(Qn,"zoom",be.transitionName),maskTransitionName:Object(ct.b)(Qn,"fade",be.maskTransitionName),mask:Do,maskClosable:Li,maskStyle:Dr,style:Oi,width:ba,zIndex:Oe,afterClose:dt,keyboard:$t,centered:nr,getContainer:lr,closable:ia,closeIcon:_a,modalRender:$a,focusTriggerAfterClose:ra},Z.createElement("div",{className:"".concat(Da,"-body-wrapper")},Z.createElement(ee.b,{prefixCls:Qn,direction:Rn},Z.createElement("div",{className:"".concat(Da,"-body"),style:Ma},rt,be.title===void 0?null:Z.createElement("span",{className:"".concat(Da,"-title")},be.title),Z.createElement("div",{className:"".concat(Da,"-content")},be.content))),Z.createElement("div",{className:"".concat(Da,"-btns")},wa,Z.createElement(ie,{type:ni,actionFn:Pe,closeModal:xe,autoFocus:Ui==="ok",buttonProps:Wr,prefixCls:"".concat(Qn,"-btn")},Pr))))},me=Ie,Ve=[],Re=Ve,bt=function(Ee,be){var rt={};for(var de in Ee)Object.prototype.hasOwnProperty.call(Ee,de)&&be.indexOf(de)<0&&(rt[de]=Ee[de]);if(Ee!=null&&typeof Object.getOwnPropertySymbols=="function")for(var Pe=0,de=Object.getOwnPropertySymbols(Ee);Pe<de.length;Pe++)be.indexOf(de[Pe])<0&&Object.prototype.propertyIsEnumerable.call(Ee,de[Pe])&&(rt[de[Pe]]=Ee[de[Pe]]);return rt},Pt="";function ht(){return Pt}function Ye(Ee){var be=document.createElement("div");document.body.appendChild(be);var rt=Object(k.a)(Object(k.a)({},Ee),{close:xe,visible:!0});function de(){var dt=ye.unmountComponentAtNode(be);dt&&be.parentNode&&be.parentNode.removeChild(be);for(var Gt=arguments.length,$t=new Array(Gt),nr=0;nr<Gt;nr++)$t[nr]=arguments[nr];var lr=$t.some(function(Wr){return Wr&&Wr.triggerCancel});Ee.onCancel&&lr&&Ee.onCancel.apply(Ee,$t);for(var Dr=0;Dr<Re.length;Dr++){var Pr=Re[Dr];if(Pr===xe){Re.splice(Dr,1);break}}}function Pe(dt){var Gt=dt.okText,$t=dt.cancelText,nr=dt.prefixCls,lr=bt(dt,["okText","cancelText","prefixCls"]);setTimeout(function(){var Dr=Object(we.b)(),Pr=Object(ee.c)(),Wr=Pr.getPrefixCls,an=Wr(void 0,ht()),dn=nr||"".concat(an,"-modal");ye.render(Z.createElement(me,Object(k.a)({},lr,{prefixCls:dn,rootPrefixCls:an,okText:Gt||(lr.okCancel?Dr.okText:Dr.justOkText),cancelText:$t||Dr.cancelText})),be)})}function xe(){for(var dt=this,Gt=arguments.length,$t=new Array(Gt),nr=0;nr<Gt;nr++)$t[nr]=arguments[nr];rt=Object(k.a)(Object(k.a)({},rt),{visible:!1,afterClose:function(){typeof Ee.afterClose=="function"&&Ee.afterClose(),de.apply(dt,$t)}}),Pe(rt)}function Oe(dt){typeof dt=="function"?rt=dt(rt):rt=Object(k.a)(Object(k.a)({},rt),dt),Pe(rt)}return Pe(rt),Re.push(xe),{destroy:xe,update:Oe}}function Ke(Ee){return Object(k.a)(Object(k.a)({icon:Z.createElement(Jt.a,null),okCancel:!1},Ee),{type:"warning"})}function nt(Ee){return Object(k.a)(Object(k.a)({icon:Z.createElement(lt.a,null),okCancel:!1},Ee),{type:"info"})}function Ot(Ee){return Object(k.a)(Object(k.a)({icon:Z.createElement(yt.a,null),okCancel:!1},Ee),{type:"success"})}function Xe(Ee){return Object(k.a)(Object(k.a)({icon:Z.createElement(Dt.a,null),okCancel:!1},Ee),{type:"error"})}function xt(Ee){return Object(k.a)(Object(k.a)({icon:Z.createElement(Jt.a,null),okCancel:!0},Ee),{type:"confirm"})}function Ne(Ee){var be=Ee.rootPrefixCls;Object(J.a)(!1,"Modal","Modal.config is deprecated. Please use ConfigProvider.config instead."),Pt=be}var B=r("KQm4");function z(){var Ee=Z.useState([]),be=Object(At.a)(Ee,2),rt=be[0],de=be[1],Pe=Z.useCallback(function(xe){return de(function(Oe){return[].concat(Object(B.a)(Oe),[xe])}),function(){de(function(Oe){return Oe.filter(function(dt){return dt!==xe})})}},[]);return[rt,Pe]}var q=r("ZvpZ"),S=function(be,rt){var de=be.afterClose,Pe=be.config,xe=Z.useState(!0),Oe=Object(At.a)(xe,2),dt=Oe[0],Gt=Oe[1],$t=Z.useState(Pe),nr=Object(At.a)($t,2),lr=nr[0],Dr=nr[1],Pr=Z.useContext(Et.b),Wr=Pr.direction,an=Pr.getPrefixCls,dn=an("modal"),Rn=an();function zn(){Gt(!1);for(var Qn=arguments.length,Ma=new Array(Qn),Ca=0;Ca<Qn;Ca++)Ma[Ca]=arguments[Ca];var ia=Ma.some(function(_a){return _a&&_a.triggerCancel});lr.onCancel&&ia&&lr.onCancel()}return Z.useImperativeHandle(rt,function(){return{destroy:zn,update:function(Ma){Dr(function(Ca){return Object(k.a)(Object(k.a)({},Ca),Ma)})}}}),Z.createElement(et.a,{componentName:"Modal",defaultLocale:q.a.Modal},function(Qn){return Z.createElement(me,Object(k.a)({prefixCls:dn,rootPrefixCls:Rn},lr,{close:zn,visible:dt,afterClose:de,okText:lr.okText||(lr.okCancel?Qn.okText:Qn.justOkText),direction:Wr,cancelText:lr.cancelText||Qn.cancelText}))})},K=Z.forwardRef(S),fe=0,Fe=Z.memo(Z.forwardRef(function(Ee,be){var rt=z(),de=Object(At.a)(rt,2),Pe=de[0],xe=de[1];return Z.useImperativeHandle(be,function(){return{patchElement:xe}},[]),Z.createElement(Z.Fragment,null,Pe)}));function pe(){var Ee=Z.useRef(null),be=Z.useState([]),rt=Object(At.a)(be,2),de=rt[0],Pe=rt[1];Z.useEffect(function(){if(de.length){var dt=Object(B.a)(de);dt.forEach(function(Gt){Gt()}),Pe([])}},[de]);var xe=Z.useCallback(function(dt){return function($t){var nr;fe+=1;var lr=Z.createRef(),Dr,Pr=Z.createElement(K,{key:"modal-".concat(fe),config:dt($t),ref:lr,afterClose:function(){Dr()}});return Dr=(nr=Ee.current)===null||nr===void 0?void 0:nr.patchElement(Pr),{destroy:function(){function an(){var dn;(dn=lr.current)===null||dn===void 0||dn.destroy()}lr.current?an():Pe(function(dn){return[].concat(Object(B.a)(dn),[an])})},update:function(an){function dn(){var Rn;(Rn=lr.current)===null||Rn===void 0||Rn.update(an)}lr.current?dn():Pe(function(Rn){return[].concat(Object(B.a)(Rn),[dn])})}}}},[]),Oe=Z.useMemo(function(){return{info:xe(nt),success:xe(Ot),error:xe(Xe),warning:xe(Ke),confirm:xe(xt)}},[]);return[Oe,Z.createElement(Fe,{ref:Ee})]}function Me(Ee){return Ye(Ke(Ee))}var U=Tt;U.useModal=pe,U.info=function(be){return Ye(nt(be))},U.success=function(be){return Ye(Ot(be))},U.error=function(be){return Ye(Xe(be))},U.warning=Me,U.warn=Me,U.confirm=function(be){return Ye(xt(be))},U.destroyAll=function(){for(;Re.length;){var be=Re.pop();be&&be()}},U.config=Ne;var le=U,Le=r("GNNt"),ot=r("6cGi"),St=r("BGR+"),Ge=r("b1eo"),Be=r("Kwbf"),Nt=r("4AAd"),kt=["children","trigger","onVisibleChange","modalProps","onFinish","title","width"];function ft(){return ft=Object.assign||function(Ee){for(var be=1;be<arguments.length;be++){var rt=arguments[be];for(var de in rt)Object.prototype.hasOwnProperty.call(rt,de)&&(Ee[de]=rt[de])}return Ee},ft.apply(this,arguments)}function ut(Ee,be,rt,de,Pe,xe,Oe){try{var dt=Ee[xe](Oe),Gt=dt.value}catch($t){rt($t);return}dt.done?be(Gt):Promise.resolve(Gt).then(de,Pe)}function Ze(Ee){return function(){var be=this,rt=arguments;return new Promise(function(de,Pe){var xe=Ee.apply(be,rt);function Oe(Gt){ut(xe,de,Pe,Oe,dt,"next",Gt)}function dt(Gt){ut(xe,de,Pe,Oe,dt,"throw",Gt)}Oe(void 0)})}}function Qt(Ee,be){var rt=Object.keys(Ee);if(Object.getOwnPropertySymbols){var de=Object.getOwnPropertySymbols(Ee);be&&(de=de.filter(function(Pe){return Object.getOwnPropertyDescriptor(Ee,Pe).enumerable})),rt.push.apply(rt,de)}return rt}function ar(Ee){for(var be=1;be<arguments.length;be++){var rt=arguments[be]!=null?arguments[be]:{};be%2?Qt(Object(rt),!0).forEach(function(de){zr(Ee,de,rt[de])}):Object.getOwnPropertyDescriptors?Object.defineProperties(Ee,Object.getOwnPropertyDescriptors(rt)):Qt(Object(rt)).forEach(function(de){Object.defineProperty(Ee,de,Object.getOwnPropertyDescriptor(rt,de))})}return Ee}function zr(Ee,be,rt){return be in Ee?Object.defineProperty(Ee,be,{value:rt,enumerable:!0,configurable:!0,writable:!0}):Ee[be]=rt,Ee}function qr(Ee,be){return Tr(Ee)||ya(Ee,be)||_n(Ee,be)||tn()}function tn(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function _n(Ee,be){if(!!Ee){if(typeof Ee=="string")return Bn(Ee,be);var rt=Object.prototype.toString.call(Ee).slice(8,-1);if(rt==="Object"&&Ee.constructor&&(rt=Ee.constructor.name),rt==="Map"||rt==="Set")return Array.from(Ee);if(rt==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(rt))return Bn(Ee,be)}}function Bn(Ee,be){(be==null||be>Ee.length)&&(be=Ee.length);for(var rt=0,de=new Array(be);rt<be;rt++)de[rt]=Ee[rt];return de}function ya(Ee,be){var rt=Ee==null?null:typeof Symbol!="undefined"&&Ee[Symbol.iterator]||Ee["@@iterator"];if(rt!=null){var de=[],Pe=!0,xe=!1,Oe,dt;try{for(rt=rt.call(Ee);!(Pe=(Oe=rt.next()).done)&&(de.push(Oe.value),!(be&&de.length===be));Pe=!0);}catch(Gt){xe=!0,dt=Gt}finally{try{!Pe&&rt.return!=null&&rt.return()}finally{if(xe)throw dt}}return de}}function Tr(Ee){if(Array.isArray(Ee))return Ee}function it(Ee,be){if(Ee==null)return{};var rt=ue(Ee,be),de,Pe;if(Object.getOwnPropertySymbols){var xe=Object.getOwnPropertySymbols(Ee);for(Pe=0;Pe<xe.length;Pe++)de=xe[Pe],!(be.indexOf(de)>=0)&&(!Object.prototype.propertyIsEnumerable.call(Ee,de)||(rt[de]=Ee[de]))}return rt}function ue(Ee,be){if(Ee==null)return{};var rt={},de=Object.keys(Ee),Pe,xe;for(xe=0;xe<de.length;xe++)Pe=de[xe],!(be.indexOf(Pe)>=0)&&(rt[Pe]=Ee[Pe]);return rt}function ge(Ee){var be,rt,de,Pe,xe,Oe,dt,Gt=Ee.children,$t=Ee.trigger,nr=Ee.onVisibleChange,lr=Ee.modalProps,Dr=Ee.onFinish,Pr=Ee.title,Wr=Ee.width,an=it(Ee,kt),dn=Object(Z.useRef)(null),Rn=Object(ot.a)(!!an.visible,{value:an.visible,onChange:nr}),zn=qr(Rn,2),Qn=zn[0],Ma=zn[1],Ca=Object(ot.a)(0),ia=qr(Ca,2),_a=ia[0],$a=ia[1],ra=Object(Z.useContext)(ee.b.ConfigContext),ni=Object(Z.useMemo)(function(){var wa;if(lr==null?void 0:lr.getContainer){if(typeof(lr==null?void 0:lr.getContainer)=="function"){var ga;return lr==null||(ga=lr.getContainer)===null||ga===void 0?void 0:ga.call(lr)}return typeof(lr==null?void 0:lr.getContainer)=="string"?document.getElementById(lr==null?void 0:lr.getContainer):lr==null?void 0:lr.getContainer}return(lr==null?void 0:lr.getContainer)===!1?!1:ra==null||(wa=ra.getPopupContainer)===null||wa===void 0?void 0:wa.call(ra,document.body)},[ra,lr,Qn]),Da=Object(Z.useState)(function(){return new Nt.a({container:ni||document.body})}),Fa=qr(Da,1),ba=Fa[0];Object(Be.b)(!an.footer||!(lr==null?void 0:lr.footer),"ModalForm \u662F\u4E00\u4E2A ProForm \u7684\u7279\u6B8A\u5E03\u5C40\uFF0C\u5982\u679C\u60F3\u81EA\u5B9A\u4E49\u6309\u94AE\uFF0C\u8BF7\u4F7F\u7528 submit.render \u81EA\u5B9A\u4E49\u3002"),Object(Z.useEffect)(function(){if(Qn){var wa;ba==null||(wa=ba.lock)===null||wa===void 0||wa.call(ba)}else{var ga;ba==null||(ga=ba.unLock)===null||ga===void 0||ga.call(ba)}return Qn&&an.visible&&(nr==null||nr(!0)),function(){var pi;Qn||ba==null||(pi=ba.unLock)===null||pi===void 0||pi.call(ba)}},[Qn]),Object(Z.useEffect)(function(){return function(){var wa;ba==null||(wa=ba.unLock)===null||wa===void 0||wa.call(ba)}},[]);var Oi=Object(Z.useRef)(!(lr==null?void 0:lr.forceRender)),Do=Object(Z.useMemo)(function(){return!(Oi.current&&Qn===!1||Qn===!1&&(lr==null?void 0:lr.destroyOnClose))},[Qn,lr==null?void 0:lr.destroyOnClose]),Li=Object(Z.useRef)();Object(Z.useEffect)(function(){Qn&&(Oi.current=!1),!Qn&&(lr==null?void 0:lr.destroyOnClose)&&$a(_a+1)},[lr==null?void 0:lr.destroyOnClose,Qn]),Object(Z.useImperativeHandle)(an.formRef,function(){return Li.current});var Ui=an.submitter===!1?!1:ar(ar({},an.submitter),{},{searchConfig:ar({submitText:(lr==null?void 0:lr.okText)||((be=ra.locale)===null||be===void 0||(rt=be.Modal)===null||rt===void 0?void 0:rt.okText)||"\u786E\u8BA4",resetText:(lr==null?void 0:lr.cancelText)||((de=ra.locale)===null||de===void 0||(Pe=de.Modal)===null||Pe===void 0?void 0:Pe.cancelText)||"\u53D6\u6D88"},(xe=an.submitter)===null||xe===void 0?void 0:xe.searchConfig),submitButtonProps:ar({type:(lr==null?void 0:lr.okType)||"primary"},(Oe=an.submitter)===null||Oe===void 0?void 0:Oe.submitButtonProps),resetButtonProps:ar({preventDefault:!0,onClick:function(ga){var pi;lr==null||(pi=lr.onCancel)===null||pi===void 0||pi.call(lr,ga),Ma(!1)}},(dt=an.submitter)===null||dt===void 0?void 0:dt.resetButtonProps)}),Na=oe.a.createElement("div",{ref:dn,onClick:function(ga){return ga.stopPropagation()}},oe.a.createElement(Ge.a,ft({key:_a,formComponentType:"ModalForm",layout:"vertical"},Object(St.a)(an,["visible"]),{formRef:Li,onFinish:function(){var wa=Ze(y.a.mark(function ga(pi){var _o;return y.a.wrap(function(so){for(;;)switch(so.prev=so.next){case 0:if(Dr){so.next=2;break}return so.abrupt("return");case 2:return so.next=4,Dr(pi);case 4:_o=so.sent,_o&&(Ma(!1),setTimeout(function(){var vi;(lr==null?void 0:lr.destroyOnClose)&&((vi=Li.current)===null||vi===void 0||vi.resetFields())},300));case 6:case"end":return so.stop()}},ga)}));return function(ga){return wa.apply(this,arguments)}}(),submitter:Ui,contentRender:function(ga,pi){return oe.a.createElement(le,ft({title:Pr,width:Wr||800},lr,{getContainer:!1,visible:Qn,onCancel:function(To){var so;Ma(!1),lr==null||(so=lr.onCancel)===null||so===void 0||so.call(lr,To)},footer:pi===void 0?null:pi}),Do?ga:null)}}),Gt));return oe.a.createElement(oe.a.Fragment,null,ni!==!1?Object(ye.createPortal)(Na,ni||document.body):Na,$t&&oe.a.cloneElement($t,ar(ar({},$t.props),{},{onClick:function(ga){var pi,_o;Ma(!Qn),(pi=$t.props)===null||pi===void 0||(_o=pi.onClick)===null||_o===void 0||_o.call(pi,ga)}})))}var De=A.a=ge},rxlC:function(ze,A,r){"use strict";ze.exports=y,ze.exports.default=y;var M=1e20;function y(k,Z,oe,ne,Te,at){this.fontSize=k||24,this.buffer=Z===void 0?3:Z,this.cutoff=ne||.25,this.fontFamily=Te||"sans-serif",this.fontWeight=at||"normal",this.radius=oe||8;var ve=this.size=this.fontSize+this.buffer*2,we=ve+this.buffer*2;this.canvas=document.createElement("canvas"),this.canvas.width=this.canvas.height=ve,this.ctx=this.canvas.getContext("2d"),this.ctx.font=this.fontWeight+" "+this.fontSize+"px "+this.fontFamily,this.ctx.textAlign="left",this.ctx.fillStyle="black",this.gridOuter=new Float64Array(we*we),this.gridInner=new Float64Array(we*we),this.f=new Float64Array(we),this.z=new Float64Array(we+1),this.v=new Uint16Array(we),this.useMetrics=this.ctx.measureText("A").actualBoundingBoxLeft!==void 0,this.middle=Math.round(ve/2*(navigator.userAgent.indexOf("Gecko/")>=0?1.2:1))}function T(k,Z,oe,ne,Te,at,ve){at.fill(M,0,Z*oe),ve.fill(0,0,Z*oe);for(var we=(Z-ne)/2,I=0;I<Te;I++)for(var Ce=0;Ce<ne;Ce++){var et=(I+we)*Z+Ce+we,Et=k.data[4*(I*ne+Ce)+3]/255;if(Et===1)at[et]=0,ve[et]=M;else if(Et===0)at[et]=M,ve[et]=0;else{var We=Math.max(0,.5-Et),ct=Math.max(0,Et-.5);at[et]=We*We,ve[et]=ct*ct}}}function b(k,Z,oe,ne,Te,at,ve){for(var we=0;we<Z*oe;we++){var I=Math.sqrt(ne[we])-Math.sqrt(Te[we]);k[we]=Math.round(255-255*(I/at+ve))}}y.prototype._draw=function(k,Z){var oe=this.ctx.measureText(k),ne=oe.width,Te=2*this.buffer,at,ve,we,I,Ce,et,Et,We;Z&&this.useMetrics?(Ce=Math.floor(oe.actualBoundingBoxAscent),We=this.buffer+Math.ceil(oe.actualBoundingBoxAscent),et=this.buffer,Et=this.buffer,ve=Math.min(this.size,Math.ceil(oe.actualBoundingBoxRight-oe.actualBoundingBoxLeft)),I=Math.min(this.size-et,Math.ceil(oe.actualBoundingBoxAscent+oe.actualBoundingBoxDescent)),at=ve+Te,we=I+Te,this.ctx.textBaseline="alphabetic"):(at=ve=this.size,we=I=this.size,Ce=19*this.fontSize/24,et=Et=0,We=this.middle,this.ctx.textBaseline="middle");var ct;ve&&I&&(this.ctx.clearRect(Et,et,ve,I),this.ctx.fillText(k,this.buffer,We),ct=this.ctx.getImageData(Et,et,ve,I));var ce=new Uint8ClampedArray(at*we);return T(ct,at,we,ve,I,this.gridOuter,this.gridInner),u(this.gridOuter,at,we,this.f,this.v,this.z),u(this.gridInner,at,we,this.f,this.v,this.z),b(ce,at,we,this.gridOuter,this.gridInner,this.radius,this.cutoff),{data:ce,metrics:{width:ve,height:I,sdfWidth:at,sdfHeight:we,top:Ce,left:0,advance:ne}}},y.prototype.draw=function(k){return this._draw(k,!1).data},y.prototype.drawWithMetrics=function(k){return this._draw(k,!0)};function u(k,Z,oe,ne,Te,at){for(var ve=0;ve<Z;ve++)H(k,ve,Z,oe,ne,Te,at);for(var we=0;we<oe;we++)H(k,we*Z,1,Z,ne,Te,at)}function H(k,Z,oe,ne,Te,at,ve){var we,I,Ce,et;for(at[0]=0,ve[0]=-M,ve[1]=M,we=0;we<ne;we++)Te[we]=k[Z+we*oe];for(we=1,I=0,Ce=0;we<ne;we++){do et=at[I],Ce=(Te[we]-Te[et]+we*we-et*et)/(we-et)/2;while(Ce<=ve[I]&&--I>-1);I++,at[I]=we,ve[I]=Ce,ve[I+1]=M}for(we=0,I=0;we<ne;we++){for(;ve[I+1]<we;)I++;et=at[I],k[Z+we*oe]=Te[et]+(we-et)*(we-et)}}},sE09:function(ze,A,r){},sRBo:function(ze,A,r){"use strict";var M=r("cIOH"),y=r.n(M),T=r("KCY9"),b=r.n(T)},sXyB:function(ze,A,r){var M=r("SksO"),y=r("b48C");function T(b,u,H){return y()?(ze.exports=T=Reflect.construct,ze.exports.default=ze.exports,ze.exports.__esModule=!0):(ze.exports=T=function(Z,oe,ne){var Te=[null];Te.push.apply(Te,oe);var at=Function.bind.apply(Z,Te),ve=new at;return ne&&M(ve,ne.prototype),ve},ze.exports.default=ze.exports,ze.exports.__esModule=!0),T.apply(null,arguments)}ze.exports=T,ze.exports.default=ze.exports,ze.exports.__esModule=!0},sgoq:function(ze,A,r){var M=r("asDA"),y=r("TKrE"),T=r("6nK8"),b="['\u2019]",u=RegExp(b,"g");function H(k){return function(Z){return M(T(y(Z).replace(u,"")),k,"")}}ze.exports=H},slOs:function(ze,A,r){},sxDa:function(ze,A,r){"use strict";r.d(A,"e",function(){return Wf}),r.d(A,"f",function(){return ph}),r.d(A,"d",function(){return sf}),r.d(A,"a",function(){return fu}),r.d(A,"c",function(){return zf}),r.d(A,"g",function(){return Dl}),r.d(A,"b",function(){return Hs});var M=r("h1nZ"),y=r("lwsE"),T=r.n(y),b=r("W8MJ"),u=r.n(b),H=r("PJYZ"),k=r.n(H),Z=r("7W2i"),oe=r.n(Z),ne=r("a1gu"),Te=r.n(ne),at=r("Nsbk"),ve=r.n(at),we=r("lSNA"),I=r.n(we),Ce=r("QILm"),et=r.n(Ce),Et=r("yG8O"),We=r.n(Et),ct=r("U+yc"),ce=r.n(ct),Vt=r("1ABj"),It=r("GoyQ"),Mt=r.n(It),Tt=r("lSCD"),ye=r.n(Tt),lt=r("xp6e"),yt=r("Hel2"),Dt=r("uhBA"),Jt=r("4cb6"),At=r("mNvP"),vt,ie,J,ee,Ie;function me(x){return x.map(function(j){return typeof j=="string"&&(j=[j,{}]),j})}var Ve=(vt=Object(Jt.injectable)(),ie=Object(Jt.inject)(M.TYPES.IGlobalConfigService),vt(J=(ee=function(){function x(){T()(this,x),We()(this,"configService",Ie,this),I()(this,"enabled",void 0)}return u()(x,[{key:"apply",value:function(L,R){var N=this,W=R.rendererService,he=R.postProcessingPassFactory,$e=R.normalPassFactory;L.hooks.init.tap("MultiPassRendererPlugin",function(){var st=L.getLayerConfig(),Yt=st.enableMultiPassRenderer,hr=st.passes,yr=hr===void 0?[]:hr;N.enabled=!!Yt&&L.getLayerConfig().enableMultiPassRenderer!==!1,N.enabled&&(L.multiPassRenderer=N.createMultiPassRenderer(L,yr,he,$e),L.multiPassRenderer.setRenderFlag(!0))}),L.hooks.beforeRender.tap("MultiPassRendererPlugin",function(){})}},{key:"createMultiPassRenderer",value:function(L,R,N,W){var he=L.multiPassRenderer,$e=L.getLayerConfig(),st=$e.enablePicking,Yt=$e.enableTAA;return st&&he.add(W("pixelPicking")),he}}]),x}(),Ie=ce()(ee.prototype,"configService",[ie],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),ee))||J),Re,bt=(Re={},I()(Re,M.BlendType.additive,{enable:!0,func:{srcRGB:M.gl.ONE,dstRGB:M.gl.ONE,srcAlpha:1,dstAlpha:1}}),I()(Re,M.BlendType.none,{enable:!1}),I()(Re,M.BlendType.normal,{enable:!0,func:{srcRGB:M.gl.SRC_ALPHA,dstRGB:M.gl.ONE_MINUS_SRC_ALPHA,srcAlpha:1,dstAlpha:1}}),I()(Re,M.BlendType.subtractive,{enable:!0,func:{srcRGB:M.gl.ONE,dstRGB:M.gl.ONE,srcAlpha:M.gl.ZERO,dstAlpha:M.gl.ONE_MINUS_SRC_COLOR},equation:{rgb:M.gl.FUNC_SUBTRACT,alpha:M.gl.FUNC_SUBTRACT}}),I()(Re,M.BlendType.max,{enable:!0,func:{srcRGB:M.gl.ONE,dstRGB:M.gl.ONE},equation:{rgb:M.gl.MAX_EXT}}),I()(Re,M.BlendType.min,{enable:!0,func:{srcRGB:M.gl.ONE,dstRGB:M.gl.ONE},equation:{rgb:M.gl.MIN_EXT}}),Re),Pt=r("4qC0"),ht=r.n(Pt),Ye=r("UB5X"),Ke=r.n(Ye),nt=r("Z0cm"),Ot=r.n(nt),Xe=1024;function xt(x,j,L,R,N){j.updateStyleAttribute(x,L,R,N)}function Ne(x,j){x.opacity&&B("opacity",j,x.opacity),x.strokeWidth&&B("strokeWidth",j,x.strokeWidth),x.strokeOpacity&&B("strokeOpacity",j,x.strokeOpacity),x.stroke&&q("stroke",j,x.stroke),x.offsets&&z("offsets",j,x.offsets),x.textOffset&&z("textOffset",j,x.textOffset)}function B(x,j,L){ht()(L)?xt(x,j,L,function(R){return R}):Ke()(L)?xt(x,j,[L],void 0):Ot()(L)&&L.length===2?ht()(L[0])&&ye()(L[1])||ht()(L[0])&&Ot()(L[1])&&Ke()(L[1][0])&&Ke()(L[1][1])?xt(x,j,L[0],L[1]):xt(x,j,[1],void 0):xt(x,j,[1],void 0)}function z(x,j,L){ht()(L)?xt(x,j,L,function(R){return R}):Ot()(L)&&L.length===2&&ht()(L[0])&&ye()(L[1])?xt(x,j,L[0],L[1]):Ot()(L)&&L.length===2&&Ke()(L[0])&&Ke()(L[1])?xt(x,j,L,void 0):xt(x,j,[0,0],void 0)}function q(x,j,L){ht()(L)?xt(x,j,L,void 0):Ot()(L)&&L.length===2&&(ht()(L[0])&&ye()(L[1])||ht()(L[0])&&Ot()(L[1])&&L[1].length>0)?xt(x,j,L[0],L[1]):xt(x,j,"#fff",void 0)}var S,K,fe,Fe,pe;function Me(x,j){var L=typeof Symbol!="undefined"&&x[Symbol.iterator]||x["@@iterator"];if(!L){if(Array.isArray(x)||(L=U(x))||j&&x&&typeof x.length=="number"){L&&(x=L);var R=0,N=function(){};return{s:N,n:function(){return R>=x.length?{done:!0}:{done:!1,value:x[R++]}},e:function(Yt){throw Yt},f:N}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var W=!0,he=!1,$e;return{s:function(){L=L.call(x)},n:function(){var Yt=L.next();return W=Yt.done,Yt},e:function(Yt){he=!0,$e=Yt},f:function(){try{!W&&L.return!=null&&L.return()}finally{if(he)throw $e}}}}function U(x,j){if(!!x){if(typeof x=="string")return le(x,j);var L=Object.prototype.toString.call(x).slice(8,-1);if(L==="Object"&&x.constructor&&(L=x.constructor.name),L==="Map"||L==="Set")return Array.from(x);if(L==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(L))return le(x,j)}}function le(x,j){(j==null||j>x.length)&&(j=x.length);for(var L=0,R=new Array(j);L<j;L++)R[L]=x[L];return R}function Le(x,j){var L=Object.keys(x);if(Object.getOwnPropertySymbols){var R=Object.getOwnPropertySymbols(x);j&&(R=R.filter(function(N){return Object.getOwnPropertyDescriptor(x,N).enumerable})),L.push.apply(L,R)}return L}function ot(x){for(var j=1;j<arguments.length;j++){var L=arguments[j]!=null?arguments[j]:{};j%2?Le(Object(L),!0).forEach(function(R){I()(x,R,L[R])}):Object.getOwnPropertyDescriptors?Object.defineProperties(x,Object.getOwnPropertyDescriptors(L)):Le(Object(L)).forEach(function(R){Object.defineProperty(x,R,Object.getOwnPropertyDescriptor(L,R))})}return x}function St(x){var j=Ge();return function(){var R=ve()(x),N;if(j){var W=ve()(this).constructor;N=Reflect.construct(R,arguments,W)}else N=R.apply(this,arguments);return Te()(this,N)}}function Ge(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(x){return!1}}var Be=0,Nt=(S=Object(M.lazyInject)(M.TYPES.IGlobalConfigService),K=Object(M.lazyInject)(M.TYPES.IShaderModuleService),fe=function(x){oe()(L,x);var j=St(L);function L(){var R,N=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return T()(this,L),R=j.call(this),I()(k()(R),"id","".concat(Be++)),I()(k()(R),"name","".concat(Be)),I()(k()(R),"type",void 0),I()(k()(R),"visible",!0),I()(k()(R),"zIndex",0),I()(k()(R),"minZoom",void 0),I()(k()(R),"maxZoom",void 0),I()(k()(R),"inited",!1),I()(k()(R),"layerModelNeedUpdate",!1),I()(k()(R),"pickedFeatureID",null),I()(k()(R),"selectedFeatureID",null),I()(k()(R),"styleNeedUpdate",!1),I()(k()(R),"rendering",void 0),I()(k()(R),"dataState",{dataSourceNeedUpdate:!1,dataMappingNeedUpdate:!1,filterNeedUpdate:!1,featureScaleNeedUpdate:!1,StyleAttrNeedUpdate:!1}),I()(k()(R),"hooks",{init:new lt.b,afterInit:new lt.b,beforeRender:new lt.b,beforeRenderData:new lt.d,afterRender:new lt.c,beforePickingEncode:new lt.c,afterPickingEncode:new lt.c,beforeHighlight:new lt.c(["pickedColor"]),afterHighlight:new lt.c,beforeSelect:new lt.c(["pickedColor"]),afterSelect:new lt.c,beforeDestroy:new lt.c,afterDestroy:new lt.c}),I()(k()(R),"models",[]),I()(k()(R),"multiPassRenderer",void 0),I()(k()(R),"plugins",void 0),I()(k()(R),"sourceOption",void 0),I()(k()(R),"layerModel",void 0),We()(k()(R),"configService",Fe,k()(R)),We()(k()(R),"shaderModuleService",pe,k()(R)),I()(k()(R),"cameraService",void 0),I()(k()(R),"coordinateService",void 0),I()(k()(R),"iconService",void 0),I()(k()(R),"fontService",void 0),I()(k()(R),"pickingService",void 0),I()(k()(R),"rendererService",void 0),I()(k()(R),"layerService",void 0),I()(k()(R),"interactionService",void 0),I()(k()(R),"mapService",void 0),I()(k()(R),"styleAttributeService",void 0),I()(k()(R),"layerSource",void 0),I()(k()(R),"postProcessingPassFactory",void 0),I()(k()(R),"normalPassFactory",void 0),I()(k()(R),"animateOptions",{enable:!1}),I()(k()(R),"container",void 0),I()(k()(R),"encodedData",void 0),I()(k()(R),"configSchema",void 0),I()(k()(R),"currentPickId",null),I()(k()(R),"rawConfig",void 0),I()(k()(R),"needUpdateConfig",void 0),I()(k()(R),"pendingStyleAttributes",[]),I()(k()(R),"scaleOptions",{}),I()(k()(R),"animateStartTime",void 0),I()(k()(R),"aniamateStatus",!1),I()(k()(R),"sourceEvent",function(){R.dataState.dataSourceNeedUpdate=!0;var W=R.getLayerConfig(),he=W.autoFit,$e=W.fitBoundsOptions;he&&R.fitBounds($e),R.emit("dataUpdate"),R.reRender()}),R.name=N.name||R.id,R.zIndex=N.zIndex||0,R.rawConfig=N,R}return u()(L,[{key:"getLayerConfig",value:function(){return this.configService.getLayerConfig(this.id)}},{key:"updateLayerConfig",value:function(N){if(!this.inited)this.needUpdateConfig=ot(ot({},this.needUpdateConfig),N);else{var W=this.container.get(M.TYPES.SceneID);Ne(N,this),this.configService.setLayerConfig(W,this.id,ot(ot(ot({},this.configService.getLayerConfig(this.id)),this.needUpdateConfig),N)),this.needUpdateConfig={}}}},{key:"setContainer",value:function(N){this.container=N}},{key:"getContainer",value:function(){return this.container}},{key:"addPlugin",value:function(N){return this.plugins.push(N),this}},{key:"init",value:function(){var N=this,W=this.container.get(M.TYPES.SceneID),he=this.rawConfig.enableMultiPassRenderer,$e=he===void 0?!1:he;this.configService.setLayerConfig(W,this.id,{enableMultiPassRenderer:$e}),this.iconService=this.container.get(M.TYPES.IIconService),this.fontService=this.container.get(M.TYPES.IFontService),this.rendererService=this.container.get(M.TYPES.IRendererService),this.layerService=this.container.get(M.TYPES.ILayerService),this.interactionService=this.container.get(M.TYPES.IInteractionService),this.pickingService=this.container.get(M.TYPES.IPickingService),this.mapService=this.container.get(M.TYPES.IMapService),this.cameraService=this.container.get(M.TYPES.ICameraService),this.coordinateService=this.container.get(M.TYPES.ICoordinateSystemService),this.postProcessingPassFactory=this.container.get(M.TYPES.IFactoryPostProcessingPass),this.normalPassFactory=this.container.get(M.TYPES.IFactoryNormalPass),this.styleAttributeService=this.container.get(M.TYPES.IStyleAttributeService),this.multiPassRenderer=this.container.get(M.TYPES.IMultiPassRenderer),this.multiPassRenderer.setLayer(this),this.pendingStyleAttributes.forEach(function(yr){var Zr=yr.attributeName,on=yr.attributeField,ca=yr.attributeValues,Ra=yr.updateOptions;N.styleAttributeService.updateStyleAttribute(Zr,{scale:ot({field:on},N.splitValuesAndCallbackInAttribute(ca,N.getLayerConfig()[Zr]))},Ra)}),this.pendingStyleAttributes=[],this.plugins=this.container.getAll(M.TYPES.ILayerPlugin);var st=Me(this.plugins),Yt;try{for(st.s();!(Yt=st.n()).done;){var hr=Yt.value;hr.apply(this,{rendererService:this.rendererService,mapService:this.mapService,styleAttributeService:this.styleAttributeService,normalPassFactory:this.normalPassFactory,postProcessingPassFactory:this.postProcessingPassFactory})}}catch(yr){st.e(yr)}finally{st.f()}return this.hooks.init.call(),this.hooks.afterInit.call(),this.emit("inited",{target:this,type:"inited"}),this.emit("add",{target:this,type:"add"}),this}},{key:"prepareBuildModel",value:function(){this.inited=!0,this.updateLayerConfig(ot(ot({},this.getDefaultConfig()),this.rawConfig));var N=this.getLayerConfig(),W=N.animateOption;W!=null&&W.enable&&(this.layerService.startAnimate(),this.aniamateStatus=!0)}},{key:"color",value:function(N,W,he){return this.updateStyleAttribute("color",N,W,he),this}},{key:"texture",value:function(N,W,he){return this.updateStyleAttribute("texture",N,W,he),this}},{key:"rotate",value:function(N,W,he){return this.updateStyleAttribute("rotate",N,W,he),this}},{key:"size",value:function(N,W,he){return this.updateStyleAttribute("size",N,W,he),this}},{key:"filter",value:function(N,W,he){return this.updateStyleAttribute("filter",N,W,he),this}},{key:"shape",value:function(N,W,he){return this.updateStyleAttribute("shape",N,W,he),this}},{key:"label",value:function(N,W,he){return this.pendingStyleAttributes.push({attributeName:"label",attributeField:N,attributeValues:W,updateOptions:he}),this}},{key:"animate",value:function(N){var W={};return Mt()(N)?(W.enable=!0,W=ot(ot({},W),N)):W.enable=N,this.updateLayerConfig({animateOption:W}),this}},{key:"source",value:function(N,W){return N!=null&&N.data?(this.setSource(N),this):(this.sourceOption={data:N,options:W},this)}},{key:"setData",value:function(N,W){var he=this;return this.inited?this.layerSource.setData(N,W):this.on("inited",function(){he.layerSource.setData(N,W)}),this}},{key:"style",value:function(N){var W=this,he=N.passes,$e=et()(N,["passes"]);return he&&me(he).forEach(function(st){var Yt=W.multiPassRenderer.getPostProcessor().getPostProcessingPassByName(st[0]);Yt&&Yt.updateOptions(st[1])}),this.rawConfig=ot(ot({},this.rawConfig),$e),this.container&&(this.updateLayerConfig(this.rawConfig),this.styleNeedUpdate=!0),this}},{key:"scale",value:function(N,W){return Mt()(N)?this.scaleOptions=ot(ot({},this.scaleOptions),N):this.scaleOptions[N]=W,this}},{key:"renderLayers",value:function(){this.rendering=!0,this.layerService.renderLayers(),this.rendering=!1}},{key:"render",value:function(){return this.getEncodedData().length!==0&&this.renderModels(),this}},{key:"active",value:function(N){var W={};return W.enableHighlight=Mt()(N)?!0:N,Mt()(N)?(W.enableHighlight=!0,N.color&&(W.highlightColor=N.color)):W.enableHighlight=!!N,this.updateLayerConfig(W),this}},{key:"setActive",value:function(N,W){var he=this;if(Mt()(N)){var $e=N.x,st=$e===void 0?0:$e,Yt=N.y,hr=Yt===void 0?0:Yt;this.updateLayerConfig({highlightColor:Mt()(W)?W.color:this.getLayerConfig().highlightColor}),this.pick({x:st,y:hr})}else this.updateLayerConfig({pickedFeatureID:N,highlightColor:Mt()(W)?W.color:this.getLayerConfig().highlightColor}),this.hooks.beforeSelect.call(Object(yt.l)(N)).then(function(){setTimeout(function(){he.reRender()},1)})}},{key:"select",value:function(N){var W={};return W.enableSelect=Mt()(N)?!0:N,Mt()(N)?(W.enableSelect=!0,N.color&&(W.selectColor=N.color)):W.enableSelect=!!N,this.updateLayerConfig(W),this}},{key:"setSelect",value:function(N,W){var he=this;if(Mt()(N)){var $e=N.x,st=$e===void 0?0:$e,Yt=N.y,hr=Yt===void 0?0:Yt;this.updateLayerConfig({selectColor:Mt()(W)?W.color:this.getLayerConfig().selectColor}),this.pick({x:st,y:hr})}else this.updateLayerConfig({pickedFeatureID:N,selectColor:Mt()(W)?W.color:this.getLayerConfig().selectColor}),this.hooks.beforeSelect.call(Object(yt.l)(N)).then(function(){setTimeout(function(){he.reRender()},1)})}},{key:"setBlend",value:function(N){this.updateLayerConfig({blend:N}),this.layerModelNeedUpdate=!0,this.reRender()}},{key:"show",value:function(){return this.updateLayerConfig({visible:!0}),this.reRender(),this}},{key:"hide",value:function(){return this.updateLayerConfig({visible:!1}),this.reRender(),this}},{key:"setIndex",value:function(N){return this.zIndex=N,this.layerService.updateRenderOrder(),this}},{key:"setCurrentPickId",value:function(N){this.currentPickId=N}},{key:"getCurrentPickId",value:function(){return this.currentPickId}},{key:"setCurrentSelectedId",value:function(N){this.selectedFeatureID=N}},{key:"getCurrentSelectedId",value:function(){return this.selectedFeatureID}},{key:"isVisible",value:function(){var N=this.mapService.getZoom(),W=this.getLayerConfig(),he=W.visible,$e=W.minZoom,st=$e===void 0?-Infinity:$e,Yt=W.maxZoom,hr=Yt===void 0?Infinity:Yt;return!!he&&N>=st&&N<=hr}},{key:"setMinZoom",value:function(N){return this.updateLayerConfig({minZoom:N}),this}},{key:"getMinZoom",value:function(){var N=this.getLayerConfig(),W=N.minZoom;return W}},{key:"getMaxZoom",value:function(){var N=this.getLayerConfig(),W=N.maxZoom;return W}},{key:"get",value:function(N){var W=this.getLayerConfig();return W[N]}},{key:"setMaxZoom",value:function(N){return this.updateLayerConfig({maxZoom:N}),this}},{key:"fitBounds",value:function(N){if(!this.inited)return this.updateLayerConfig({autoFit:!0}),this;var W=this.getSource(),he=W.extent,$e=he.some(function(st){return Math.abs(st)===Infinity});return $e?this:(this.mapService.fitBounds([[he[0],he[1]],[he[2],he[3]]],N),this)}},{key:"destroy",value:function(){this.hooks.beforeDestroy.call(),this.layerSource.off("update",this.sourceEvent),this.multiPassRenderer.destroy(),this.styleAttributeService.clearAllAttributes(),this.hooks.afterDestroy.call(),this.emit("remove",{target:this,type:"remove"}),this.removeAllListeners()}},{key:"clear",value:function(){this.styleAttributeService.clearAllAttributes()}},{key:"clearModels",value:function(){this.models.forEach(function(N){return N.destroy()}),this.layerModel.clearModels()}},{key:"isDirty",value:function(){return!!(this.styleAttributeService.getLayerStyleAttributes()||[]).filter(function(N){return N.needRescale||N.needRemapping||N.needRegenerateVertices}).length}},{key:"setSource",value:function(N){if(this.layerSource&&this.layerSource.off("update",this.sourceEvent),this.layerSource=N,this.inited&&this.layerSource.cluster){var W=this.mapService.getZoom();this.layerSource.updateClusterData(W)}this.layerSource.on("update",this.sourceEvent)}},{key:"getSource",value:function(){return this.layerSource}},{key:"getScaleOptions",value:function(){return this.scaleOptions}},{key:"setEncodedData",value:function(N){this.encodedData=N}},{key:"getEncodedData",value:function(){return this.encodedData}},{key:"getLegendItems",value:function(N){var W=this.styleAttributeService.getLayerAttributeScale(N);if(W){if(W.ticks){var he=W.ticks().map(function(st){return I()({value:st},N,W(st))});return he}else if(W.invertExtent){var $e=W.range().map(function(st){return I()({value:W.invertExtent(st)},N,st)});return $e}}else return[]}},{key:"pick",value:function(N){var W=N.x,he=N.y;this.interactionService.triggerHover({x:W,y:he})}},{key:"boxSelect",value:function(N,W){this.pickingService.boxPickLayer(this,N,W)}},{key:"buildLayerModel",value:function(N){var W=N.moduleName,he=N.vertexShader,$e=N.fragmentShader,st=N.triangulation,Yt=N.segmentNumber,hr=et()(N,["moduleName","vertexShader","fragmentShader","triangulation","segmentNumber"]);this.shaderModuleService.registerModule(W,{vs:he,fs:$e});var yr=this.shaderModuleService.getModule(W),Zr=yr.vs,on=yr.fs,ca=yr.uniforms,Ra=this.rendererService.createModel,Ga=this.styleAttributeService.createAttributesAndIndices(this.encodedData,st,Yt),Ji=Ga.attributes,go=Ga.elements;return Ra(ot({attributes:Ji,uniforms:ca,fs:on,vs:Zr,elements:go,blend:bt[M.BlendType.normal]},hr))}},{key:"getTime",value:function(){return this.layerService.clock.getDelta()}},{key:"setAnimateStartTime",value:function(){this.animateStartTime=this.layerService.clock.getElapsedTime()}},{key:"stopAnimate",value:function(){this.aniamateStatus&&(this.layerService.stopAnimate(),this.aniamateStatus=!1,this.updateLayerConfig({animateOption:{enable:!1}}))}},{key:"getLayerAnimateTime",value:function(){return this.layerService.clock.getElapsedTime()-this.animateStartTime}},{key:"needPick",value:function(N){var W=this.getLayerConfig(),he=W.enableHighlight,$e=he===void 0?!0:he,st=W.enableSelect,Yt=st===void 0?!0:st,hr=this.eventNames().indexOf(N)!==-1||this.eventNames().indexOf("un"+N)!==-1;return(N==="click"||N==="dblclick")&&Yt&&(hr=!0),N==="mousemove"&&($e||this.eventNames().indexOf("mouseenter")!==-1||this.eventNames().indexOf("unmousemove")!==-1||this.eventNames().indexOf("mouseout")!==-1)&&(hr=!0),this.isVisible()&&hr}},{key:"buildModels",value:function(){throw new Error("Method not implemented.")}},{key:"rebuildModels",value:function(){throw new Error("Method not implemented.")}},{key:"renderModels",value:function(){var N=this;return this.getEncodedData().length>0&&(this.layerModelNeedUpdate&&this.layerModel&&(this.models=this.layerModel.buildModels(),this.hooks.beforeRender.call(),this.layerModelNeedUpdate=!1),this.models.forEach(function(W){W.draw({uniforms:N.layerModel.getUninforms()})})),this}},{key:"updateStyleAttribute",value:function(N,W,he,$e){this.inited?this.styleAttributeService.updateStyleAttribute(N,{scale:ot({field:W},this.splitValuesAndCallbackInAttribute(he,this.getLayerConfig()[W]))},$e):this.pendingStyleAttributes.push({attributeName:N,attributeField:W,attributeValues:he,updateOptions:$e})}},{key:"setEarthTime",value:function(N){console.warn("empty fn")}},{key:"getConfigSchema",value:function(){throw new Error("Method not implemented.")}},{key:"getModelType",value:function(){throw new Error("Method not implemented.")}},{key:"getDefaultConfig",value:function(){return{}}},{key:"reRender",value:function(){this.inited&&this.layerService.renderLayers()}},{key:"splitValuesAndCallbackInAttribute",value:function(N,W){return{values:ye()(N)?void 0:N||W,callback:ye()(N)?N:void 0}}}]),L}(Dt.EventEmitter),Fe=ce()(fe.prototype,"configService",[S],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),pe=ce()(fe.prototype,"shaderModuleService",[K],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),fe),kt=r("RIqP"),ft=r.n(kt),ut=r("Y+p1"),Ze=r.n(ut),Qt=r("FmoU"),ar,zr,qr,tn,_n;function Bn(x,j){var L=typeof Symbol!="undefined"&&x[Symbol.iterator]||x["@@iterator"];if(!L){if(Array.isArray(x)||(L=ya(x))||j&&x&&typeof x.length=="number"){L&&(x=L);var R=0,N=function(){};return{s:N,n:function(){return R>=x.length?{done:!0}:{done:!1,value:x[R++]}},e:function(Yt){throw Yt},f:N}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var W=!0,he=!1,$e;return{s:function(){L=L.call(x)},n:function(){var Yt=L.next();return W=Yt.done,Yt},e:function(Yt){he=!0,$e=Yt},f:function(){try{!W&&L.return!=null&&L.return()}finally{if(he)throw $e}}}}function ya(x,j){if(!!x){if(typeof x=="string")return Tr(x,j);var L=Object.prototype.toString.call(x).slice(8,-1);if(L==="Object"&&x.constructor&&(L=x.constructor.name),L==="Map"||L==="Set")return Array.from(x);if(L==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(L))return Tr(x,j)}}function Tr(x,j){(j==null||j>x.length)&&(j=x.length);for(var L=0,R=new Array(j);L<j;L++)R[L]=x[L];return R}var it=(ar=Object(M.lazyInject)(M.TYPES.IGlobalConfigService),zr=Object(M.lazyInject)(M.TYPES.IShaderModuleService),qr=function(){function x(j){T()(this,x),I()(this,"triangulation",void 0),I()(this,"createTexture2D",void 0),I()(this,"layer",void 0),I()(this,"dataTexture",void 0),I()(this,"DATA_TEXTURE_WIDTH",void 0),I()(this,"rowCount",void 0),I()(this,"cacheStyleProperties",void 0),I()(this,"cellLength",void 0),I()(this,"cellProperties",void 0),I()(this,"cellTypeLayout",void 0),I()(this,"stylePropertyesExist",void 0),I()(this,"dataTextureTest",void 0),We()(this,"configService",tn,this),We()(this,"shaderModuleService",_n,this),I()(this,"rendererService",void 0),I()(this,"iconService",void 0),I()(this,"fontService",void 0),I()(this,"styleAttributeService",void 0),I()(this,"mapService",void 0),I()(this,"cameraService",void 0),I()(this,"layerService",void 0),this.layer=j,this.rendererService=j.getContainer().get(M.TYPES.IRendererService),this.styleAttributeService=j.getContainer().get(M.TYPES.IStyleAttributeService),this.mapService=j.getContainer().get(M.TYPES.IMapService),this.iconService=j.getContainer().get(M.TYPES.IIconService),this.fontService=j.getContainer().get(M.TYPES.IFontService),this.cameraService=j.getContainer().get(M.TYPES.ICameraService),this.layerService=j.getContainer().get(M.TYPES.ILayerService),this.registerBuiltinAttributes(),this.startModelAnimate();var L=this.rendererService.createTexture2D;this.createTexture2D=L,this.DATA_TEXTURE_WIDTH=1024,this.rowCount=1,this.cellLength=0,this.cellProperties=[],this.cacheStyleProperties={opacity:void 0,strokeOpacity:void 0,strokeWidth:void 0,stroke:void 0,offsets:void 0},this.stylePropertyesExist={hasOpacity:0,hasStrokeOpacity:0,hasStrokeWidth:0,hasStroke:0,hasOffsets:0},this.dataTextureTest=this.layerService.getOESTextureFloat(),this.dataTextureTest||(this.dataTexture=this.createTexture2D({data:new ImageData(1,1).data,mag:M.gl.NEAREST,min:M.gl.NEAREST,width:1,height:1}))}return u()(x,[{key:"clearLastCalRes",value:function(){this.cellProperties=[],this.cellLength=0,this.stylePropertyesExist={hasOpacity:0,hasStrokeOpacity:0,hasStrokeWidth:0,hasStroke:0,hasOffsets:0}}},{key:"getCellTypeLayout",value:function(){return this.dataTextureTest?[this.rowCount,this.DATA_TEXTURE_WIDTH,0,0,this.stylePropertyesExist.hasOpacity,this.stylePropertyesExist.hasStrokeOpacity,this.stylePropertyesExist.hasStrokeWidth,this.stylePropertyesExist.hasStroke,this.stylePropertyesExist.hasOffsets,0,0,0,0,0,0,1]:[1,1,0,0,0,0,0,0,0,0,0,0,0,0,0,-1]}},{key:"dataTextureNeedUpdate",value:function(L){var R=!1;return Ze()(L.opacity,this.cacheStyleProperties.opacity)||(R=!0,this.cacheStyleProperties.opacity=L.opacity),Ze()(L.strokeOpacity,this.cacheStyleProperties.strokeOpacity)||(R=!0,this.cacheStyleProperties.strokeOpacity=L.strokeOpacity),Ze()(L.strokeWidth,this.cacheStyleProperties.strokeWidth)||(R=!0,this.cacheStyleProperties.strokeWidth=L.strokeWidth),Ze()(L.stroke,this.cacheStyleProperties.stroke)||(R=!0,this.cacheStyleProperties.stroke=L.stroke),Ze()(L.offsets,this.cacheStyleProperties.offsets)||(R=!0,this.cacheStyleProperties.offsets=L.offsets),this.dataTexture===void 0&&(R=!0),R}},{key:"judgeStyleAttributes",value:function(L){this.clearLastCalRes(),L.opacity!==void 0&&!Ke()(L.opacity)&&(this.cellProperties.push({attr:"opacity",count:1}),this.stylePropertyesExist.hasOpacity=1,this.cellLength+=1),L.strokeOpacity!==void 0&&!Ke()(L.strokeOpacity)&&(this.cellProperties.push({attr:"strokeOpacity",count:1}),this.stylePropertyesExist.hasStrokeOpacity=1,this.cellLength+=1),L.strokeWidth!==void 0&&!Ke()(L.strokeWidth)&&(this.cellProperties.push({attr:"strokeWidth",count:1}),this.stylePropertyesExist.hasStrokeWidth=1,this.cellLength+=1),L.stroke!==void 0&&!this.isStaticColor(L.stroke)&&(this.cellProperties.push({attr:"stroke",count:4}),this.stylePropertyesExist.hasStroke=1,this.cellLength+=4),L.offsets!==void 0&&!this.isOffsetStatic(L.offsets)&&(this.cellProperties.push({attr:"offsets",count:2}),this.stylePropertyesExist.hasOffsets=1,this.cellLength+=2)}},{key:"isStaticColor",value:function(L){return ht()(L)?!!Object(Qt.a)(L):!1}},{key:"getStrokeColor",value:function(L){if(this.isStaticColor(L)){var R=Object(yt.s)(L);return R[0]=R[0]?R[0]:0,R[1]=R[1]?R[1]:0,R[2]=R[2]?R[2]:0,R[3]=R[3]?R[3]:0,R}else return[0,0,0,0]}},{key:"isOffsetStatic",value:function(L){return!!(Ot()(L)&&L.length===2&&Ke()(L[0])&&Ke()(L[1]))}},{key:"patchMod",value:function(L,R){for(var N=0;N<R;N++)L.push(-1)}},{key:"patchData",value:function(L,R,N){var W=Bn(N),he;try{for(W.s();!(he=W.n()).done;){var $e=he.value,st=$e.attr,Yt=$e.count,hr=R[st];hr?st==="stroke"?L.push.apply(L,ft()(Object(yt.s)(hr))):st==="offsets"?this.isOffsetStatic(hr)?L.push(-hr[0],hr[1]):L.push(0,0):L.push(Ke()(hr)?hr:1):this.patchMod(L,Yt)}}catch(yr){W.e(yr)}finally{W.f()}}},{key:"calDataFrame",value:function(L,R,N){for(var W=R.length,he=Math.ceil(W*L/this.DATA_TEXTURE_WIDTH),$e=he*this.DATA_TEXTURE_WIDTH,st=[],Yt=0;Yt<W;Yt++){var hr=R[Yt];this.patchData(st,hr,N)}for(var yr=st.length;yr<$e;yr++)st.push(-1);return{data:st,width:this.DATA_TEXTURE_WIDTH,height:he}}},{key:"getBlend",value:function(){var L=this.layer.getLayerConfig(),R=L.blend,N=R===void 0?"normal":R;return bt[M.BlendType[N]]}},{key:"getDefaultStyle",value:function(){return{}}},{key:"getUninforms",value:function(){throw new Error("Method not implemented.")}},{key:"getAnimateUniforms",value:function(){return{}}},{key:"needUpdate",value:function(){return!1}},{key:"buildModels",value:function(){throw new Error("Method not implemented.")}},{key:"initModels",value:function(){throw new Error("Method not implemented.")}},{key:"clearModels",value:function(){}},{key:"getAttribute",value:function(){throw new Error("Method not implemented.")}},{key:"render",value:function(){throw new Error("Method not implemented.")}},{key:"registerBuiltinAttributes",value:function(){throw new Error("Method not implemented.")}},{key:"animateOption2Array",value:function(L){return[L.enable?0:1,L.duration||4,L.interval||.2,L.trailLength||.1]}},{key:"startModelAnimate",value:function(){var L=this.layer.getLayerConfig(),R=L.animateOption;R.enable&&this.layer.setAnimateStartTime()}}]),x}(),tn=ce()(qr.prototype,"configService",[ar],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),_n=ce()(qr.prototype,"shaderModuleService",[zr],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),qr),ue=r("J4zp"),ge=r.n(ue),De=r("VmRL"),Ee=r.n(De),be=r("IOcx"),rt=100,de=36,Pe=40;function xe(x){return x/180*Math.acos(-1)}function Oe(x){var j=xe(x[0])+Math.PI/2,L=xe(x[1]),R=rt+Math.random()*.4,N=R*Math.cos(L)*Math.cos(j),W=R*Math.cos(L)*Math.sin(j),he=R*Math.sin(L);return[W,he,N]}function dt(x,j){var L=be.b.create(),R=be.b.create(),N=be.d.fromValues(0,1,0),W=be.d.fromValues(0,0,0);j=j||{},x=typeof x!="undefined"?x:1;for(var he=typeof j.segments!="undefined"?j.segments:32,$e=2+he,st=2*$e,Yt=[],hr=[],yr=[],Zr=[],on=[],ca=[],Ra=0;Ra<=$e;Ra++){for(var Ga=Ra/$e,Ji=Ga*Math.PI,go=0;go<=st;go++){var jo=go/st,Mo=jo*Math.PI*2;be.b.identity(R),be.b.rotateZ(R,R,-Ji),be.b.identity(L),be.b.rotateY(L,L,Mo),be.d.transformMat4(W,N,R),be.d.transformMat4(W,W,L),be.d.scale(W,W,-x),yr.push(W.slice()),Zr.push.apply(Zr,ft()(W.slice())),be.d.normalize(W,W),on.push.apply(on,ft()(W.slice())),ca.push([jo,1-Ga]),Zr.push(jo,1-Ga)}if(Ra>0)for(var $i=yr.length,Ho=$i-2*(st+1);Ho+st+2<$i;Ho++)Yt.push([Ho,Ho+1,Ho+st+1]),hr.push(Ho,Ho+1,Ho+st+1),Yt.push([Ho+st+1,Ho+1,Ho+st+2]),hr.push(Ho+st+1,Ho+1,Ho+st+2)}return{cells:Yt,positions:yr,uvs:ca,positionsArr:Zr,indicesArr:hr,normalArr:on}}var Gt=be.c.create(),$t=be.c.create(),nr=be.c.create(),lr=be.c.create(),Dr=be.c.create();function Pr(x,j,L,R,N){be.c.add(x,L,R),be.c.normalize(x,x),j=be.c.fromValues(-x[1],x[0]);var W=be.c.fromValues(-L[1],L[0]);return[N/be.c.dot(j,W),j]}function Wr(x,j){return be.c.set(x,-j[1],j[0])}function an(x,j,L){return be.c.sub(x,j,L),be.c.normalize(x,x),x}function dn(x,j){return x[0]===j[0]&&x[1]===j[1]}function Rn(x){for(var j=new Map,L=0;L<x.length;L++){var R=x[0].toString()+"-"+x[1].toString();j.get(R)?(x.splice(L,1),L++):j.set(R,R)}return x}var zn=function(){function x(){var j=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};T()(this,x),I()(this,"complex",void 0),I()(this,"join",void 0),I()(this,"cap",void 0),I()(this,"miterLimit",void 0),I()(this,"thickness",void 0),I()(this,"normal",void 0),I()(this,"lastFlip",-1),I()(this,"miter",be.c.fromValues(0,0)),I()(this,"started",!1),I()(this,"dash",!1),I()(this,"totalDistance",0),this.join=j.join||"miter",this.cap=j.cap||"butt",this.miterLimit=j.miterLimit||10,this.thickness=j.thickness||1,this.dash=j.dash||!1,this.complex={positions:[],indices:[],normals:[],startIndex:0}}return u()(x,[{key:"extrude_gaode2",value:function(L,R){var N=this.complex;if(L.length<=1)return N;this.lastFlip=-1,this.started=!1,this.normal=null,this.totalDistance=0;for(var W=L.length,he=N.startIndex,$e=1;$e<W;$e++){var st=L[$e-1],Yt=R[$e-1],hr=L[$e],yr=R[$e],Zr=$e<L.length-1?L[$e+1]:null,on=$e<R.length-1?R[$e+1]:null,ca=this.segment_gaode2(N,he,st,hr,Zr,Yt,yr,on);he+=ca}if(this.dash)for(var Ra=0;Ra<N.positions.length/6;Ra++)N.positions[Ra*6+5]=this.totalDistance;return N.startIndex=N.positions.length/6,N}},{key:"extrude",value:function(L){var R=this.complex;if(L.length<=1)return R;this.lastFlip=-1,this.started=!1,this.normal=null,this.totalDistance=0;for(var N=L.length,W=R.startIndex,he=1;he<N;he++){var $e=L[he-1],st=L[he],Yt=he<L.length-1?L[he+1]:null,hr=this.segment(R,W,$e,st,Yt);W+=hr}if(this.dash)for(var yr=0;yr<R.positions.length/6;yr++)R.positions[yr*6+5]=this.totalDistance;return R.startIndex=R.positions.length/6,R}},{key:"segment_gaode2",value:function(L,R,N,W,he,$e,st,Yt){var hr=0,yr=L.indices,Zr=L.positions,on=L.normals,ca=this.cap==="square",Ra=this.join==="bevel",Ga=Object(yt.d)([st[0],st[1]]),Ji=Object(yt.d)([$e[0],$e[1]]);an(nr,W,N);var go=0;if(this.dash&&(go=this.lineSegmentDistance(Ga,Ji),this.totalDistance+=go),this.normal||(this.normal=be.c.create(),Wr(this.normal,nr)),!this.started)if(this.started=!0,ca){var jo=be.c.create(),Mo=be.c.create();be.c.add(jo,this.normal,nr),be.c.add(Mo,this.normal,nr),on.push(Mo[0],Mo[1],0),on.push(jo[0],jo[1],0),Zr.push(N[0],N[1],0,this.totalDistance-go,-this.thickness,0),Zr.push(N[0],N[1],0,this.totalDistance-go,this.thickness,0)}else this.extrusions(Zr,on,N,this.normal,this.thickness,this.totalDistance-go);if(yr.push(R+0,R+1,R+2),he){dn(W,he)&&be.c.add(he,W,be.c.normalize(he,be.c.subtract(he,W,N))),an(lr,he,W);var Ta=Pr(Dr,be.c.create(),nr,lr,this.thickness),Rs=ge()(Ta,2),hi=Rs[0],Sl=Rs[1],fo=be.c.dot(Dr,this.normal)<0?-1:1,ou=Ra;if(!ou&&this.join==="miter"){var Fs=hi;Fs>this.miterLimit&&(ou=!0)}ou?(on.push(this.normal[0],this.normal[1],0),on.push(Sl[0],Sl[1],0),Zr.push(W[0],W[1],0,this.totalDistance,-this.thickness*fo,0),Zr.push(W[0],W[1],0,this.totalDistance,this.thickness*fo,0),yr.push.apply(yr,ft()(this.lastFlip!==-fo?[R,R+2,R+3]:[R+2,R+1,R+3])),yr.push(R+2,R+3,R+4),Wr(Gt,lr),be.c.copy(this.normal,Gt),on.push(this.normal[0],this.normal[1],0),Zr.push(W[0],W[1],0,this.totalDistance,-this.thickness*fo,0),hr+=3):(this.extrusions(Zr,on,W,Sl,hi,this.totalDistance),yr.push.apply(yr,ft()(this.lastFlip===1?[R,R+2,R+3]:[R+2,R+1,R+3])),fo=-1,be.c.copy(this.normal,Sl),hr+=2),this.lastFlip=fo}else{if(Wr(this.normal,nr),ca){var $i=be.c.create(),Ho=be.c.create();be.c.sub(Ho,nr,this.normal),be.c.add($i,nr,this.normal),on.push(Ho[0],Ho[1],0),on.push($i[0],$i[1],0),Zr.push(W[0],W[1],0,this.totalDistance,this.thickness,0),Zr.push(W[0],W[1],0,this.totalDistance,this.thickness,0)}else this.extrusions(Zr,on,W,this.normal,this.thickness,this.totalDistance);yr.push.apply(yr,ft()(this.lastFlip===1?[R,R+2,R+3]:[R+2,R+1,R+3])),hr+=2}return hr}},{key:"segment",value:function(L,R,N,W,he){var $e=0,st=L.indices,Yt=L.positions,hr=L.normals,yr=this.cap==="square",Zr=this.join==="bevel",on=Object(yt.d)([W[0],W[1]]),ca=Object(yt.d)([N[0],N[1]]);an(nr,on,ca);var Ra=0;if(this.dash&&(Ra=this.lineSegmentDistance(on,ca),this.totalDistance+=Ra),this.normal||(this.normal=be.c.create(),Wr(this.normal,nr)),!this.started)if(this.started=!0,yr){var Ga=be.c.create(),Ji=be.c.create();be.c.add(Ga,this.normal,nr),be.c.add(Ji,this.normal,nr),hr.push(Ji[0],Ji[1],0),hr.push(Ga[0],Ga[1],0),Yt.push(N[0],N[1],0,this.totalDistance-Ra,-this.thickness,0),Yt.push(N[0],N[1],0,this.totalDistance-Ra,this.thickness,0)}else this.extrusions(Yt,hr,N,this.normal,this.thickness,this.totalDistance-Ra);if(st.push(R+0,R+1,R+2),he){var Mo=Object(yt.d)([he[0],he[1]]);dn(on,Mo)&&be.c.add(Mo,on,be.c.normalize(Mo,be.c.subtract(Mo,on,ca))),an(lr,Mo,on);var $i=Pr(Dr,be.c.create(),nr,lr,this.thickness),Ho=ge()($i,2),Ta=Ho[0],Rs=Ho[1],hi=be.c.dot(Dr,this.normal)<0?-1:1,Sl=Zr;if(!Sl&&this.join==="miter"){var fo=Ta;fo>this.miterLimit&&(Sl=!0)}Sl?(hr.push(this.normal[0],this.normal[1],0),hr.push(Rs[0],Rs[1],0),Yt.push(W[0],W[1],0,this.totalDistance,-this.thickness*hi,0),Yt.push(W[0],W[1],0,this.totalDistance,this.thickness*hi,0),st.push.apply(st,ft()(this.lastFlip!==-hi?[R,R+2,R+3]:[R+2,R+1,R+3])),st.push(R+2,R+3,R+4),Wr(Gt,lr),be.c.copy(this.normal,Gt),hr.push(this.normal[0],this.normal[1],0),Yt.push(W[0],W[1],0,this.totalDistance,-this.thickness*hi,0),$e+=3):(this.extrusions(Yt,hr,W,Rs,Ta,this.totalDistance),st.push.apply(st,ft()(this.lastFlip===1?[R,R+2,R+3]:[R+2,R+1,R+3])),hi=-1,be.c.copy(this.normal,Rs),$e+=2),this.lastFlip=hi}else{if(Wr(this.normal,nr),yr){var go=be.c.create(),jo=be.c.create();be.c.sub(jo,nr,this.normal),be.c.add(go,nr,this.normal),hr.push(jo[0],jo[1],0),hr.push(go[0],go[1],0),Yt.push(W[0],W[1],0,this.totalDistance,this.thickness,0),Yt.push(W[0],W[1],0,this.totalDistance,this.thickness,0)}else this.extrusions(Yt,hr,W,this.normal,this.thickness,this.totalDistance);st.push.apply(st,ft()(this.lastFlip===1?[R,R+2,R+3]:[R+2,R+1,R+3])),$e+=2}return $e}},{key:"extrusions",value:function(L,R,N,W,he,$e){R.push(W[0],W[1],0),R.push(W[0],W[1],0),L.push(N[0],N[1],0,$e,-he,0),L.push(N[0],N[1],0,$e,he,0)}},{key:"lineSegmentDistance",value:function(L,R){var N=R[0]-L[0],W=R[1]-L[1];return Math.sqrt(N*N+W*W)}}]),x}();function Qn(x){if(Ke()(x[0]))return x;if(Ke()(x[0][0]))throw new Error("\u5F53\u524D\u6570\u636E\u4E0D\u652F\u6301\u6807\u6CE8");if(Ke()(x[0][0][0])){var j=x,L=0,R=0,N=0;return j.forEach(function(W){W.forEach(function(he){L+=he[0],R+=he[1],N++})}),[L/N,R/N,0]}else throw new Error("\u5F53\u524D\u6570\u636E\u4E0D\u652F\u6301\u6807\u6CE8")}function Ma(x){var j=x[0][0],L=x[0][x[0].length-1];j[0]===L[0]&&j[1]===L[1]&&(x[0]=x[0].slice(0,x[0].length-1));for(var R=x[0].length,N=Ee.a.flatten(x),W=N.vertices,he=N.dimensions,$e=[],st=[],Yt=0;Yt<W.length/he;Yt++)he===2?$e.push(W[Yt*2],W[Yt*2+1],1):$e.push(W[Yt*3],W[Yt*3+1],1);var hr=Ee()(N.vertices,N.holes,N.dimensions);st.push.apply(st,ft()(hr));for(var yr=function(ca){var Ra=N.vertices.slice(ca*he,(ca+1)*he),Ga=N.vertices.slice((ca+1)*he,(ca+2)*he);Ga.length===0&&(Ga=N.vertices.slice(0,he));var Ji=$e.length/3;$e.push(Ra[0],Ra[1],1,Ga[0],Ga[1],1,Ra[0],Ra[1],0,Ga[0],Ga[1],0),st.push.apply(st,ft()([0,2,1,2,3,1].map(function(go){return go+Ji})))},Zr=0;Zr<R;Zr++)yr(Zr);return{positions:$e,index:st}}function Ca(x){var j=Ee.a.flatten(x),L=Ee()(j.vertices,j.holes,j.dimensions);return{positions:j.vertices,index:L}}function ia(x){var j=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,L=x[0][0],R=x[0][x[0].length-1];L[0]===R[0]&&L[1]===R[1]&&(x[0]=x[0].slice(0,x[0].length-1));for(var N=x[0].length,W=Ee.a.flatten(x),he=W.vertices,$e=W.dimensions,st=[],Yt=[],hr=[],yr=0;yr<he.length/$e;yr++)$e===2?st.push(he[yr*2],he[yr*2+1],1,-1,-1):st.push(he[yr*3],he[yr*3+1],1,-1,-1),hr.push(0,0,1);var Zr=Ee()(W.vertices,W.holes,W.dimensions);Yt.push.apply(Yt,ft()(Zr));for(var on=function(Ga){var Ji=W.vertices.slice(Ga*$e,(Ga+1)*$e),go=W.vertices.slice((Ga+1)*$e,(Ga+2)*$e);go.length===0&&(go=W.vertices.slice(0,$e));var jo=st.length/5;st.push(Ji[0],Ji[1],1,0,0,go[0],go[1],1,.1,0,Ji[0],Ji[1],0,0,.8,go[0],go[1],0,.1,.8);var Mo=_a([go[0],go[1],1],[Ji[0],Ji[1],0],[Ji[0],Ji[1],1],j);hr.push.apply(hr,ft()(Mo).concat(ft()(Mo),ft()(Mo),ft()(Mo))),Yt.push.apply(Yt,ft()([1,2,0,3,2,1].map(function($i){return $i+jo})))},ca=0;ca<N;ca++)on(ca);return{positions:st,index:Yt,normals:hr}}function _a(x,j,L){var R=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1,N=be.d.create(),W=be.d.create(),he=be.d.create();R&&(x=Object(yt.p)(x),j=Object(yt.p)(j),L=Object(yt.p)(L));var $e=be.d.fromValues.apply(be.d,ft()(x)),st=be.d.fromValues.apply(be.d,ft()(j)),Yt=be.d.fromValues.apply(be.d,ft()(L));be.d.sub(N,Yt,st),be.d.sub(W,$e,st),be.d.cross(he,N,W);var hr=be.d.create();return be.d.normalize(hr,he),hr}var $a,ra;(function(x){x.CYLINDER="cylinder",x.SQUARECOLUMN="squareColumn",x.TRIANGLECOLUMN="triangleColumn",x.HEXAGONCOLUMN="hexagonColumn",x.PENTAGONCOLUMN="pentagonColumn"})(ra||(ra={}));var ni;(function(x){x.CIRCLE="circle",x.SQUARE="square",x.TRIANGLE="triangle",x.HEXAGON="hexagon",x.PENTAGON="pentagon"})(ni||(ni={}));function Da(x){for(var j=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,L=Math.PI*2/x,R=[],N=0;N<x;N++)R.push(L*N+j*Math.PI/12);var W=R.map(function(he){var $e=Math.sin(he+Math.PI/4),st=Math.cos(he+Math.PI/4);return[$e,st,0]});return W}function Fa(){return Da(30)}function ba(){return Da(4)}function Oi(){return Da(3)}function Do(){return Da(6,1)}function Li(){return Da(5)}var Ui=($a={},I()($a,ni.CIRCLE,Fa),I()($a,ni.HEXAGON,Do),I()($a,ni.TRIANGLE,Oi),I()($a,ni.SQUARE,ba),I()($a,ni.PENTAGON,Li),I()($a,ra.CYLINDER,Fa),I()($a,ra.HEXAGONCOLUMN,Do),I()($a,ra.TRIANGLECOLUMN,Oi),I()($a,ra.SQUARECOLUMN,ba),I()($a,ra.PENTAGONCOLUMN,Li),$a),Na={};function wa(x){var j=Qn(x.coordinates);return{vertices:[].concat(ft()(j),ft()(j),ft()(j),ft()(j)),indices:[0,1,2,2,3,0],size:j.length}}function ga(x){var j=Qn(x.coordinates),L=Oe(j);return{vertices:[].concat(ft()(L),ft()(L),ft()(L),ft()(L)),indices:[0,1,2,2,3,0],size:L.length}}function pi(x){var j=x.shape,L=lo(j,!1),R=L.positions,N=L.index,W=L.normals;return{vertices:R,indices:N,normals:W,size:5}}function _o(x){var j=Qn(x.coordinates);return{vertices:ft()(j),indices:[0],size:j.length}}function To(x){var j=x.coordinates,L=x.originCoordinates,R=x.version,N=new zn({dash:!0,join:"bevel"});if(R==="GAODE2.x"){var W=j;Array.isArray(W[0][0])||(W=[j]);var he=L;Array.isArray(he[0][0])||(he=[L]);for(var $e=0;$e<W.length;$e++){var st=W[$e],Yt=he[$e];N.extrude_gaode2(st,Yt)}}else{var hr=j;Array.isArray(hr[0][0])||(hr=[j]),hr.forEach(function(Zr){N.extrude(Zr)})}var yr=N.complex;return{vertices:yr.positions,indices:yr.indices,normals:yr.normals,size:6}}function so(x){var j=x.coordinates,L=Ee.a.flatten(j),R=L.vertices,N=L.dimensions,W=L.holes;return{indices:Ee()(R,W,N),vertices:R,size:N}}function vi(x){var j=x.coordinates,L=ia(j,!0),R=L.positions,N=L.index,W=L.normals;return{vertices:R,indices:N,normals:W,size:5}}function ko(x){var j=x.shape,L=Wt(j),R=L.positions,N=L.index;return{vertices:R,indices:N,size:3}}function bo(x){var j=x.coordinates,L=[].concat(ft()(j[0]),[0,0,1,j[1][0],j[0][1],0,1,1],ft()(j[1]),[0,1,0],ft()(j[0]),[0,0,1],ft()(j[1]),[0,1,0,j[0][0],j[1][1],0,0,0]),R=[0,1,2,3,4,5];return{vertices:L,indices:R,size:5}}function Ba(x,j){for(var L=j||30,R=x.coordinates,N=[],W=[],he=function(Yt){N.push(Yt,1,Yt,R[0][0],R[0][1],R[1][0],R[1][1],Yt,-1,Yt,R[0][0],R[0][1],R[1][0],R[1][1]),Yt!==L-1&&W.push.apply(W,ft()([0,1,2,1,3,2].map(function(hr){return Yt*2+hr})))},$e=0;$e<L;$e++)he($e);return{vertices:N,indices:W,size:7}}function Pa(x){var j=x.coordinates;j.length===2&&j.push(0);var L=x.size,R=vr(-1,1),N=vr(1,1),W=vr(-1,-1),he=vr(1,-1),$e=[].concat(ft()(j),ft()(R),ft()(j),ft()(W),ft()(j),ft()(he),ft()(j),ft()(N)),st=[0,1,2,3,0,2];return{vertices:$e,indices:st,size:5}}function lo(x){var j=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;if(Na&&Na[x])return Na[x];var L=Ui[x]?Ui[x]():Ui.cylinder(),R=ia([L],j);return Na[x]=R,R}function No(x,j){for(var L=arguments.length>2&&arguments[2]!==void 0?arguments[2]:3,R=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1,N=new Float32Array(x.length/L*3),W,he,$e,st=be.d.create(),Yt=be.d.create(),hr=be.d.create(),yr=0,Zr=j.length;yr<Zr;yr+=3){W=j[yr+0]*3,he=j[yr+1]*3,$e=j[yr+2]*3;var on=[x[W],x[W+1]],ca=[x[he],x[he+1]],Ra=[x[$e],x[$e+1]];R&&(on=Object(yt.p)(on),ca=Object(yt.p)(ca),Ra=Object(yt.p)(Ra));var Ga=on,Ji=ge()(Ga,2),go=Ji[0],jo=Ji[1],Mo=be.d.fromValues(go,jo,x[W+2]),$i=ca,Ho=ge()($i,2),Ta=Ho[0],Rs=Ho[1],hi=be.d.fromValues(Ta,Rs,x[he+2]),Sl=Ra,fo=ge()(Sl,2),ou=fo[0],Fs=fo[1],xh=be.d.fromValues(ou,Fs,x[$e+2]);be.d.sub(st,xh,hi),be.d.sub(Yt,Mo,hi),be.d.cross(hr,st,Yt),N[W]+=st[0],N[W+1]+=st[1],N[W+2]+=st[2],N[he]+=st[0],N[he+1]+=st[1],N[he+2]+=st[2],N[$e]+=st[0],N[$e+1]+=st[1],N[$e+2]+=st[2]}return La(N),N}function La(x){for(var j=0,L=x.length;j<L;j+=3){var R=be.d.fromValues(x[j],x[j+1],x[j+2]),N=be.d.create();be.d.normalize(N,R),x.set(N,j)}}function mr(x){var j=x[0][0],L=x[0][x[0].length-1];return j[0]===L[0]&&j[1]===L[1]}function Wt(x){var j=["cylinder","triangleColumn","hexagonColumn","squareColumn"],L=Ui[x]?Ui[x]():Ui.circle(),R=j.indexOf(x)===-1?Ca([L]):Ma([L]);return R}function vr(x,j){var L=(x+1)/2,R=(j+1)/2;return[L,R]}function un(){var x=dt(rt,{segments:de}),j=x.positionsArr,L=x.indicesArr,R=x.normalArr;return{vertices:j,indices:L,size:5,normals:R}}function va(){var x=dt(rt+Pe,{segments:de}),j=x.positionsArr,L=x.indicesArr,R=x.normalArr;return{vertices:j,indices:L,size:5,normals:R}}function qa(x){var j=mi();return function(){var R=ve()(x),N;if(j){var W=ve()(this).constructor;N=Reflect.construct(R,arguments,W)}else N=R.apply(this,arguments);return Te()(this,N)}}function mi(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(x){return!1}}var ys=`uniform float u_opacity: 1.0;
uniform vec4 u_baseColor : [ 1.0, 0, 0, 1.0 ];
uniform vec4 u_brightColor : [ 1.0, 0, 0, 1.0 ];
uniform vec4 u_windowColor : [ 1.0, 0, 0, 1.0 ];
uniform float u_near : 0;
uniform float u_far : 1;
varying vec4 v_Color;
varying vec2 v_texCoord;
uniform float u_Zoom : 1;
uniform float u_time;

#pragma include "picking"

vec3 getWindowColor(float n, float hot, vec3 brightColor, vec3 darkColor) {
    float s = step(hot, n);
    vec3 color = mix(brightColor,vec3(0.9,0.9,1.0),n);

    return mix(darkColor, color, s);
}
float random (vec2 st) {
    return fract(sin(dot(st.xy, vec2(12.9898,78.233)))* 43758.5453123);
}

float LinearizeDepth()
{
    float z = gl_FragCoord.z * 2.0 - 1.0;
    return (2.0 * u_near * u_far) / (u_far + u_near - z * (u_far - u_near));
}

vec3 fog(vec3 color, vec3 fogColor, float depth){
    float fogFactor=clamp(depth,0.0,1.0);
    vec3 output_color=mix(fogColor,color,fogFactor);
    return output_color;
}

float sdRect(vec2 p, vec2 sz) {
  vec2 d = abs(p) - sz;
  float outside = length(max(d, 0.));
  float inside = min(max(d.x, d.y), 0.);
  return outside + inside;
}

void main() {
  gl_FragColor = v_Color;
  vec3 baseColor = u_baseColor.xyz;
  vec3 brightColor = u_brightColor.xyz;
  vec3 windowColor = u_windowColor.xyz;
  float targetColId = 5.;
  float depth = 1.0 - LinearizeDepth() / u_far * u_Zoom;
  vec3 fogColor = vec3(23.0/255.0,31.0/255.0,51.0/255.0);
  if(v_texCoord.x < 0.) { //\u9876\u90E8\u989C\u8272
       vec3 foggedColor = fog(baseColor.xyz + vec3(0.12*0.9,0.2*0.9,0.3*0.9),fogColor,depth);
       gl_FragColor = vec4( foggedColor, v_Color.w);
  }else { // \u4FA7\u9762\u989C\u8272
        vec2 st = v_texCoord;
        vec2  UvScale = v_texCoord;
        float tStep = min(0.08,max(0.05* (18.0-u_Zoom),0.02));
        float tStart = 0.25 * tStep;
        float tEnd = 0.75 * tStep;
        float u = mod(UvScale.x, tStep);
        float v = mod(UvScale.y, tStep);
        float ux = floor(UvScale.x/tStep);
        float uy = floor(UvScale.y/tStep);
        float n = random(vec2(ux,uy));
        float lightP = u_time;
        float head = 1.0- step(0.005,st.y);
        /*step3*/
        // \u5C06\u7A97\u6237\u989C\u8272\u548C\u5899\u9762\u989C\u8272\u533A\u522B\u5F00\u6765
        float sU = step(tStart, u) - step(tEnd, u);
        float sV = step(tStart, v) - step(tEnd, v);
        vec2 windowSize = vec2(abs(tEnd-tStart),abs(tEnd-tStart));
        float dist = sdRect(vec2(u,v), windowSize);
        float s = sU * sV;

        float curColId = floor(UvScale.x / tStep);
        float sCol = step(targetColId - 0.2, curColId) - step(targetColId + 0.2, curColId);

        float mLightP = mod(lightP, 2.);
        float sRow = step(mLightP - 0.2, st.y) - step(mLightP, st.y);
        if(ux == targetColId){
            n =0.;
        }
        float timeP = min(0.75, abs ( sin(u_time/3.0) ) );
        float hot = smoothstep(1.0,0.0,timeP);
        vec3 color = mix(baseColor, getWindowColor(n,hot,brightColor,windowColor), s);
        //vec3 color = mix(baseColor, getWindowColor(n,hot,brightColor,windowColor), 1.0);
        float sFinal = s * sCol * sRow;
        color += mix(baseColor, brightColor, sFinal*n);
        if (st.y<0.01){
        color = baseColor;
         }
        if(head ==1.0) { // \u9876\u90E8\u4EAE\u7EBF
            color = brightColor;
        }
        color = color * v_Color.rgb;

        vec3 foggedColor = fog(color,fogColor,depth);

        gl_FragColor = vec4(foggedColor,1.0);
  }
  gl_FragColor.a *= u_opacity;
  gl_FragColor = filterColor(gl_FragColor);
}
`,cl=`precision highp float;

#define ambientRatio 0.5
#define diffuseRatio 0.3
#define specularRatio 0.2

attribute vec4 a_Color;
attribute vec3 a_Position;
attribute vec3 a_Normal;
attribute float a_Size;
uniform mat4 u_ModelMatrix;

attribute vec2 a_Uv;
varying vec2 v_texCoord;

varying vec4 v_Color;
uniform mat4 u_Mvp;

#pragma include "projection"
#pragma include "light"
#pragma include "picking"

void main() {
  vec4 pos = vec4(a_Position.xy, a_Position.z * a_Size, 1.0);
  vec4 project_pos = project_position(pos);
   v_texCoord = a_Uv;
  // gl_Position = project_common_position_to_clipspace(vec4(project_pos.xyz, 1.0));
  if(u_CoordinateSystem == COORDINATE_SYSTEM_P20_2) { // gaode2.x
    gl_Position = u_Mvp * (vec4(project_pos.xyz, 1.0));
  } else {
    gl_Position = project_common_position_to_clipspace(vec4(project_pos.xyz, 1.0));
  }

  float lightWeight = calc_lighting(pos);
  // v_Color = a_Color;
  v_Color = vec4(a_Color.rgb * lightWeight, a_Color.w);

  setPickingColor(a_PickingColor);
}
`,gl=function(x){oe()(L,x);var j=qa(L);function L(){return T()(this,L),j.apply(this,arguments)}return u()(L,[{key:"getUninforms",value:function(){var N=this.layer.getLayerConfig(),W=N.opacity,he=W===void 0?1:W,$e=N.baseColor,st=$e===void 0?"rgb(16,16,16)":$e,Yt=N.brightColor,hr=Yt===void 0?"rgb(255,176,38)":Yt,yr=N.windowColor,Zr=yr===void 0?"rgb(30,60,89)":yr,on=N.time,ca=on===void 0?0:on;return{u_opacity:he,u_baseColor:Object(yt.s)(st),u_brightColor:Object(yt.s)(hr),u_windowColor:Object(yt.s)(Zr),u_time:this.layer.getLayerAnimateTime()||ca}}},{key:"initModels",value:function(){return this.startModelAnimate(),[this.layer.buildLayerModel({moduleName:"cityBuilding",vertexShader:cl,fragmentShader:ys,triangulation:vi})]}},{key:"registerBuiltinAttributes",value:function(){this.styleAttributeService.registerStyleAttribute({name:"normal",type:M.AttributeType.Attribute,descriptor:{name:"a_Normal",buffer:{usage:M.gl.STATIC_DRAW,data:[],type:M.gl.FLOAT},size:3,update:function(W,he,$e,st,Yt){return Yt}}}),this.styleAttributeService.registerStyleAttribute({name:"size",type:M.AttributeType.Attribute,descriptor:{name:"a_Size",buffer:{usage:M.gl.DYNAMIC_DRAW,data:[],type:M.gl.FLOAT},size:1,update:function(W,he,$e,st){var Yt=W.size,hr=Yt===void 0?10:Yt;return Array.isArray(hr)?[hr[0]]:[hr]}}}),this.styleAttributeService.registerStyleAttribute({name:"uv",type:M.AttributeType.Attribute,descriptor:{name:"a_Uv",buffer:{usage:M.gl.DYNAMIC_DRAW,data:[],type:M.gl.FLOAT},size:2,update:function(W,he,$e,st){var Yt=W.size;return[$e[3],$e[4]]}}})}}]),L}(it);function Es(x){var j=tl();return function(){var R=ve()(x),N;if(j){var W=ve()(this).constructor;N=Reflect.construct(R,arguments,W)}else N=R.apply(this,arguments);return Te()(this,N)}}function tl(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(x){return!1}}var fu=function(x){oe()(L,x);var j=Es(L);function L(){var R;T()(this,L);for(var N=arguments.length,W=new Array(N),he=0;he<N;he++)W[he]=arguments[he];return R=j.call.apply(j,[this].concat(W)),I()(k()(R),"type","PolygonLayer"),R}return u()(L,[{key:"buildModels",value:function(){this.layerModel=new gl(this),this.models=this.layerModel.initModels()}},{key:"rebuildModels",value:function(){this.models=this.layerModel.buildModels()}},{key:"setLight",value:function(N){this.updateLayerConfig({time:N})}},{key:"getConfigSchema",value:function(){return{properties:{opacity:{type:"number",minimum:0,maximum:1}}}}},{key:"getModelType",value:function(){return"citybuilding"}}]),L}(Nt);function vc(x){var j=of();return function(){var R=ve()(x),N;if(j){var W=ve()(this).constructor;N=Reflect.construct(R,arguments,W)}else N=R.apply(this,arguments);return Te()(this,N)}}function of(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(x){return!1}}var ku=`precision highp float;\r
// \u591A\u8FB9\u5F62\u9876\u70B9\u5750\u6807\r
attribute vec3 a_Position;\r
// \u591A\u8FB9\u5F62\u7ECF\u7EAC\u5EA6\u5750\u6807\r
attribute vec3 a_Pos;\r
attribute float a_Size;\r
attribute vec4 a_Color;\r
uniform vec2 u_radius;\r
uniform float u_coverage: 0.9;\r
uniform float u_angle: 0;\r
uniform mat4 u_ModelMatrix;\r
uniform mat4 u_Mvp;\r
varying vec4 v_color;\r
\r
uniform vec2 u_SceneCenterMKT;\r
\r
#pragma include "projection"\r
#pragma include "project"\r
#pragma include "picking"\r
\r
void main() {\r
  v_color = a_Color;\r
\r
  mat2 rotationMatrix = mat2(cos(u_angle), sin(u_angle), -sin(u_angle), cos(u_angle));\r
  vec2 offset = a_Position.xy * u_radius * rotationMatrix * u_coverage ;\r
  // vec2 lnglat = unProjectFlat(a_Pos.xy + offset);\r
  // vec4 project_pos = project_position(vec4(lnglat, 0, 1.0));\r
  // gl_Position = project_common_position_to_clipspace(project_pos);\r
\r
  if(u_CoordinateSystem == COORDINATE_SYSTEM_P20_2) { // gaode2.x\r
    vec2 lnglat = unProjectFlat(a_Pos.xy + offset);\r
    vec2 customLnglat = customProject(lnglat) - u_SceneCenterMKT; // \u5C06\u7ECF\u7EAC\u5EA6\u8F6C\u6362\u4E3A\u9AD8\u5FB72.0\u9700\u8981\u7684\u5E73\u9762\u5750\u6807\r
    vec4 project_pos = project_position(vec4(customLnglat, 0, 1.0));\r
    gl_Position = u_Mvp * (project_pos);\r
  } else {\r
     vec2 lnglat = unProjectFlat(a_Pos.xy + offset);\r
    vec4 project_pos = project_position(vec4(lnglat, 0, 1.0));\r
    gl_Position = project_common_position_to_clipspace(project_pos);\r
  }\r
\r
  setPickingColor(a_PickingColor);\r
}\r
`,Wl=`precision highp float;
varying vec4 v_color;
uniform float u_opacity: 1;

#pragma include "picking"

void main() {
  gl_FragColor = v_color;
  gl_FragColor.a *= u_opacity;

  gl_FragColor = filterColor(gl_FragColor);
}
`,ql=function(x){oe()(L,x);var j=vc(L);function L(){return T()(this,L),j.apply(this,arguments)}return u()(L,[{key:"getUninforms",value:function(){var N=this.layer.getLayerConfig(),W=N.opacity,he=N.coverage,$e=N.angle;return{u_opacity:W||1,u_coverage:he||.9,u_angle:$e||0,u_radius:[this.layer.getSource().data.xOffset,this.layer.getSource().data.yOffset]}}},{key:"initModels",value:function(){return this.buildModels()}},{key:"buildModels",value:function(){return[this.layer.buildLayerModel({moduleName:"gridheatmap",vertexShader:ku,fragmentShader:Wl,triangulation:ko,depth:{enable:!1},primitive:M.gl.TRIANGLES,blend:this.getBlend()})]}},{key:"registerBuiltinAttributes",value:function(){this.styleAttributeService.registerStyleAttribute({name:"pos",type:M.AttributeType.Attribute,descriptor:{name:"a_Pos",buffer:{usage:M.gl.DYNAMIC_DRAW,data:[],type:M.gl.FLOAT},size:3,update:function(W,he){var $e=W.version==="GAODE2.x"?W.originCoordinates:W.coordinates;return[$e[0],$e[1],0]}}})}}]),L}(it);function al(x){var j=du();return function(){var R=ve()(x),N;if(j){var W=ve()(this).constructor;N=Reflect.construct(R,arguments,W)}else N=R.apply(this,arguments);return Te()(this,N)}}function du(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(x){return!1}}var Bu=`precision highp float;
// \u591A\u8FB9\u5F62\u9876\u70B9\u5750\u6807
attribute vec3 a_Position;
// \u591A\u8FB9\u5F62\u7ECF\u7EAC\u5EA6\u5750\u6807
attribute vec3 a_Pos;

attribute vec3 a_Normal;
attribute float a_Size;
attribute vec4 a_Color;
uniform vec2 u_radius;
uniform float u_coverage: 0.9;
uniform float u_angle: 0;
uniform mat4 u_ModelMatrix;
uniform mat4 u_Mvp;
varying vec4 v_color;

uniform vec2 u_SceneCenterMKT;

#pragma include "projection"
#pragma include "project"
#pragma include "light"
#pragma include "picking"


void main() {
  mat2 rotationMatrix = mat2(cos(u_angle), sin(u_angle), -sin(u_angle), cos(u_angle));
  vec2 offset =(vec2(a_Position.xy * u_radius * rotationMatrix * u_coverage));
  // vec2 lnglat = unProjectFlat(a_Pos.xy + offset); // \u5B9E\u9645\u7684\u7ECF\u7EAC\u5EA6
  // vec2 lnglat = (a_Pos.xy + offset); 
  // vec4 project_pos = project_position(vec4(lnglat, a_Position.z * a_Size, 1.0));
  // gl_Position = project_common_position_to_clipspace(project_pos);
  // float lightWeight = calc_lighting(project_pos);
  // v_color =vec4(a_Color.rgb*lightWeight, a_Color.w);

  if(u_CoordinateSystem == COORDINATE_SYSTEM_P20_2) { // gaode2.x
    // vec2 lnglat = (a_Pos.xy + offset); 
    // vec4 project_pos = project_position(vec4(lnglat, a_Position.z * a_Size, 1.0));

    // float lightWeight = calc_lighting(project_pos);
    // v_color =vec4(a_Color.rgb*lightWeight, a_Color.w);
  
    // gl_Position = u_Mvp * vec4(lnglat , a_Position.z * a_Size, 1.0);
    vec2 lnglat = unProjectFlat(a_Pos.xy + offset); // \u7ECF\u7EAC\u5EA6
    vec2 customLnglat = customProject(lnglat) - u_SceneCenterMKT; // \u5C06\u7ECF\u7EAC\u5EA6\u8F6C\u6362\u4E3A\u9AD8\u5FB72.0\u9700\u8981\u7684\u5E73\u9762\u5750\u6807
    vec4 project_pos = project_position(vec4(customLnglat, a_Position.z * a_Size, 1.0));

    float lightWeight = calc_lighting(project_pos);
    v_color =vec4(a_Color.rgb*lightWeight, a_Color.w);
  
    gl_Position = u_Mvp * vec4(customLnglat , a_Position.z * a_Size, 1.0);
  } else {
    vec2 lnglat = unProjectFlat(a_Pos.xy + offset); // \u5B9E\u9645\u7684\u7ECF\u7EAC\u5EA6
    vec4 project_pos = project_position(vec4(lnglat, a_Position.z * a_Size, 1.0));
    
    float lightWeight = calc_lighting(project_pos);
    v_color =vec4(a_Color.rgb*lightWeight, a_Color.w);
    
    gl_Position = project_common_position_to_clipspace(project_pos);
  }



  setPickingColor(a_PickingColor);
}
`,Hc=`precision highp float;
varying vec4 v_color;
uniform float u_opacity: 1;

#pragma include "picking"

void main() {
  gl_FragColor = v_color;
  gl_FragColor.a *= u_opacity;

  gl_FragColor = filterColor(gl_FragColor);
}
`,ps=function(x){oe()(L,x);var j=al(L);function L(){return T()(this,L),j.apply(this,arguments)}return u()(L,[{key:"getUninforms",value:function(){var N=this.layer.getLayerConfig(),W=N.opacity,he=N.coverage,$e=N.angle;return{u_opacity:W||1,u_coverage:he||1,u_angle:$e||0,u_radius:[this.layer.getSource().data.xOffset,this.layer.getSource().data.yOffset]}}},{key:"initModels",value:function(){return this.buildModels()}},{key:"buildModels",value:function(){return[this.layer.buildLayerModel({moduleName:"grid3dheatmap",vertexShader:Bu,fragmentShader:Hc,triangulation:pi,depth:{enable:!0},blend:this.getBlend()})]}},{key:"registerBuiltinAttributes",value:function(){this.styleAttributeService.registerStyleAttribute({name:"size",type:M.AttributeType.Attribute,descriptor:{name:"a_Size",buffer:{usage:M.gl.DYNAMIC_DRAW,data:[],type:M.gl.FLOAT},size:1,update:function(W,he,$e,st){var Yt=W.size;return Array.isArray(Yt)?[Yt[0]]:[Yt]}}}),this.styleAttributeService.registerStyleAttribute({name:"normal",type:M.AttributeType.Attribute,descriptor:{name:"a_Normal",buffer:{usage:M.gl.STATIC_DRAW,data:[],type:M.gl.FLOAT},size:3,update:function(W,he,$e,st,Yt){return Yt}}}),this.styleAttributeService.registerStyleAttribute({name:"pos",type:M.AttributeType.Attribute,descriptor:{name:"a_Pos",buffer:{usage:M.gl.DYNAMIC_DRAW,data:[],type:M.gl.FLOAT},size:3,update:function(W,he){var $e=W.version==="GAODE2.x"?W.originCoordinates:W.coordinates;return[$e[0],$e[1],0]}}})}}]),L}(it);function Bs(x,j){for(var L=[],R=[],N=[],W=x+1,he=j+1,$e=x/2,st=j/2,Yt=0;Yt<he;Yt++)for(var hr=Yt-st,yr=0;yr<W;yr++){var Zr=yr-$e;R.push(Zr/$e,-hr/st,0),N.push(yr/x),N.push(1-Yt/j)}for(var on=0;on<j;on++)for(var ca=0;ca<x;ca++){var Ra=ca+W*on,Ga=ca+W*(on+1),Ji=ca+1+W*(on+1),go=ca+1+W*on;L.push(Ra,Ga,go),L.push(Ga,Ji,go)}return{vertices:R,indices:L,uvs:N}}var tu,il;function fl(x,j){var L=Object.keys(x);if(Object.getOwnPropertySymbols){var R=Object.getOwnPropertySymbols(x);j&&(R=R.filter(function(N){return Object.getOwnPropertyDescriptor(x,N).enumerable})),L.push.apply(L,R)}return L}function Yh(x){for(var j=1;j<arguments.length;j++){var L=arguments[j]!=null?arguments[j]:{};j%2?fl(Object(L),!0).forEach(function(R){I()(x,R,L[R])}):Object.getOwnPropertyDescriptors?Object.defineProperties(x,Object.getOwnPropertyDescriptors(L)):fl(Object(L)).forEach(function(R){Object.defineProperty(x,R,Object.getOwnPropertyDescriptor(L,R))})}return x}function Fr(x){var j=Sn();return function(){var R=ve()(x),N;if(j){var W=ve()(this).constructor;N=Reflect.construct(R,arguments,W)}else N=R.apply(this,arguments);return Te()(this,N)}}function Sn(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(x){return!1}}var Jn=`uniform sampler2D u_texture;
uniform sampler2D u_colorTexture;
uniform float u_opacity;
varying vec2 v_texCoord;
varying float v_intensity;

void main(){
   
     float intensity = texture2D(u_texture, v_texCoord).r;
    vec4 color = texture2D(u_colorTexture,vec2(intensity, 0));
    gl_FragColor = color;
    // gl_FragColor.a = color.a * smoothstep(0.1,0.2,intensity)* u_opacity;
     gl_FragColor.a = color.a * smoothstep(0.,0.1,intensity) * u_opacity;
}
`,xo=`precision highp float;
attribute vec3 a_Position;
attribute vec2 a_Uv;
uniform sampler2D u_texture;
varying vec2 v_texCoord;
uniform mat4 u_ModelMatrix;
uniform mat4 u_InverseViewProjectionMatrix;
uniform mat4 u_ViewProjectionMatrixUncentered;
varying float v_intensity;


vec2 toBezier(float t, vec2 P0, vec2 P1, vec2 P2, vec2 P3) {
    float t2 = t * t;
    float one_minus_t = 1.0 - t;
    float one_minus_t2 = one_minus_t * one_minus_t;
    return (P0 * one_minus_t2 * one_minus_t + P1 * 3.0 * t * one_minus_t2 + P2 * 3.0 * t2 * one_minus_t + P3 * t2 * t);
}
vec2 toBezier(float t, vec4 p){
    return toBezier(t, vec2(0.0, 0.0), vec2(p.x, p.y), vec2(p.z, p.w), vec2(1.0, 1.0));
}
#pragma include "projection"
void main() {
  v_texCoord = a_Uv;

  vec2 pos = a_Uv * vec2(2.0) - vec2(1.0); // \u5C06\u539F\u672C 0 -> 1 \u7684 uv \u8F6C\u6362\u4E3A -1 -> 1 \u7684\u6807\u51C6\u5750\u6807\u7A7A\u95F4\uFF08NDC\uFF09

  vec4 p1 = vec4(pos, 0.0, 1.0); // x/y \u5E73\u9762\u4E0A\u7684\u70B9\uFF08z == 0\uFF09\u53EF\u4EE5\u8BA4\u4E3A\u662F\u4E09\u7EF4\u4E0A\u7684\u70B9\u88AB\u6295\u5F71\u5230\u5E73\u9762\u540E\u7684\u70B9
	vec4 p2 = vec4(pos, 1.0, 1.0); // \u5E73\u884C\u4E8Ex/y\u5E73\u9762\u3001z==1 \u7684\u5E73\u9762\u4E0A\u7684\u70B9

	vec4 inverseP1 = u_InverseViewProjectionMatrix * p1; // \u6839\u636E\u89C6\u56FE\u6295\u5F71\u77E9\u9635\u7684\u9006\u77E9\u9635\u5E73\u9762\u4E0A\u7684\u53CD\u7B97\u51FA\u4E09\u7EF4\u7A7A\u95F4\u4E2D\u7684\u70B9\uFF08p1\u5E73\u9762\u4E0A\u7684\u70B9\uFF09
	vec4 inverseP2 = u_InverseViewProjectionMatrix * p2;

  inverseP1 = inverseP1 / inverseP1.w; // \u5F52\u4E00\u5316\u64CD\u4F5C\uFF08\u5F52\u4E00\u5316\u540E\u4E3A\u4E16\u754C\u5750\u6807\uFF09
	inverseP2 = inverseP2 / inverseP2.w;

	float zPos = (0.0 - inverseP1.z) / (inverseP2.z - inverseP1.z); // ??
	vec4 position = inverseP1 + zPos * (inverseP2 - inverseP1);

  vec4 b= vec4(0.5000, 0.0, 1.0, 0.5000);
  float fh;

  v_intensity = texture2D(u_texture, v_texCoord).r;
  fh = toBezier(v_intensity, b).y;
  gl_Position = u_ViewProjectionMatrixUncentered * vec4(position.xy, fh * project_pixel(50.), 1.0);
 
}
`,w=`uniform sampler2D u_texture;
uniform sampler2D u_colorTexture;
uniform float u_opacity;
varying vec2 v_texCoord;
varying float v_intensity;

void main(){
     float intensity = texture2D(u_texture, v_texCoord).r;
    vec4 color = texture2D(u_colorTexture,vec2(intensity, 0));
    gl_FragColor =color;
    gl_FragColor.a = color.a * smoothstep(0.,0.1,intensity) * u_opacity;

}
`,re=`precision highp float;
uniform float u_intensity;
varying float v_weight;
varying vec2 v_extrude;
#define GAUSS_COEF  0.3989422804014327
void main(){
    float d = -0.5 * 3.0 * 3.0 * dot(v_extrude, v_extrude);
    float val = v_weight * u_intensity * GAUSS_COEF * exp(d);
    gl_FragColor = vec4(val, 1., 1., 1.);
}
`,Qe=`precision highp float;
attribute vec3 a_Position;
attribute float a_Size;
attribute vec2 a_Dir;
uniform float u_intensity;
uniform float u_radius;
varying vec2 v_extrude;
varying float v_weight;
uniform mat4 u_ModelMatrix;
uniform mat4 u_Mvp;

#define GAUSS_COEF  0.3989422804014327

#pragma include "projection"

void main(){
    v_weight = a_Size;
    float ZERO = 1.0 / 255.0 / 16.0;
    float extrude_x = a_Dir.x * 2.0 -1.0;
    float extrude_y = a_Dir.y * 2.0 -1.0;
    vec2 extrude_dir = normalize(vec2(extrude_x,extrude_y));
    float S = sqrt(-2.0 * log(ZERO / a_Size / u_intensity / GAUSS_COEF)) / 3.0;
    v_extrude = extrude_dir * S;

    vec2 offset = project_pixel(v_extrude * u_radius);
    vec4 project_pos = project_position(vec4(a_Position.xy, 0.0, 1.0));

    // gl_Position = project_common_position_to_clipspace(vec4(project_pos.xy + offset, 0.0, 1.0));

    if(u_CoordinateSystem == COORDINATE_SYSTEM_P20_2) { // gaode2.x
        gl_Position = u_Mvp * (vec4(project_pos.xy + offset, 0.0, 1.0));
    } else {
        gl_Position = project_common_position_to_clipspace(vec4(project_pos.xy + offset, 0.0, 1.0));
    }
}
`,Se=`precision highp float;
attribute vec3 a_Position;
attribute vec2 a_Uv;
uniform sampler2D u_texture;
varying vec2 v_texCoord;
varying float v_intensity;
void main() {
  v_texCoord = a_Uv;
  v_intensity = texture2D(u_texture, v_texCoord).r;
  gl_Position = vec4(a_Position.xy, 0, 1.);
}
`,jt=(tu=Object(Jt.injectable)(),tu(il=function(x){oe()(L,x);var j=Fr(L);function L(){var R;T()(this,L);for(var N=arguments.length,W=new Array(N),he=0;he<N;he++)W[he]=arguments[he];return R=j.call.apply(j,[this].concat(W)),I()(k()(R),"texture",void 0),I()(k()(R),"colorTexture",void 0),I()(k()(R),"heatmapFramerBuffer",void 0),I()(k()(R),"intensityModel",void 0),I()(k()(R),"colorModel",void 0),I()(k()(R),"shapeType",void 0),R}return u()(L,[{key:"render",value:function(){var N=this,W=this.rendererService,he=W.clear,$e=W.useFramebuffer;$e(this.heatmapFramerBuffer,function(){he({color:[0,0,0,0],depth:1,stencil:0,framebuffer:N.heatmapFramerBuffer}),N.drawIntensityMode()}),this.layer.styleNeedUpdate&&this.updateColorTexture(),this.shapeType==="heatmap"?this.drawColorMode():this.draw3DHeatMap()}},{key:"getUninforms",value:function(){throw new Error("Method not implemented.")}},{key:"initModels",value:function(){var N,W=this.rendererService,he=W.createFramebuffer,$e=W.clear,st=W.getViewportSize,Yt=W.createTexture2D,hr=W.useFramebuffer,yr=this.styleAttributeService.getLayerStyleAttribute("shape"),Zr=(yr==null||(N=yr.scale)===null||N===void 0?void 0:N.field)||"heatmap";this.shapeType=Zr,this.intensityModel=this.buildHeatMapIntensity(),this.colorModel=Zr==="heatmap"?this.buildHeatmapColor():this.build3dHeatMap();var on=this.layer.getLayerConfig(),ca=on.rampColors,Ra=Object(yt.n)(ca),Ga=st(),Ji=Ga.width,go=Ga.height;return this.heatmapFramerBuffer=he({color:Yt({width:Math.floor(Ji/4),height:Math.floor(go/4),wrapS:M.gl.CLAMP_TO_EDGE,wrapT:M.gl.CLAMP_TO_EDGE,min:M.gl.LINEAR,mag:M.gl.LINEAR}),depth:!1}),this.updateColorTexture(),[this.intensityModel,this.colorModel]}},{key:"buildModels",value:function(){return this.initModels()}},{key:"registerBuiltinAttributes",value:function(){this.styleAttributeService.registerStyleAttribute({name:"dir",type:M.AttributeType.Attribute,descriptor:{name:"a_Dir",buffer:{usage:M.gl.DYNAMIC_DRAW,data:[],type:M.gl.FLOAT},size:2,update:function(W,he,$e,st){return[$e[3],$e[4]]}}}),this.styleAttributeService.registerStyleAttribute({name:"size",type:M.AttributeType.Attribute,descriptor:{name:"a_Size",buffer:{usage:M.gl.DYNAMIC_DRAW,data:[],type:M.gl.FLOAT},size:1,update:function(W,he,$e,st){var Yt=W.size,hr=Yt===void 0?1:Yt;return[hr]}}})}},{key:"buildHeatMapIntensity",value:function(){return this.layer.buildLayerModel({moduleName:"heatmapintensity",vertexShader:Qe,fragmentShader:re,triangulation:Pa,depth:{enable:!1},blend:{enable:!0,func:{srcRGB:M.gl.ONE,srcAlpha:1,dstRGB:M.gl.ONE,dstAlpha:1}}})}},{key:"buildHeatmapColor",value:function(){this.shaderModuleService.registerModule("heatmapColor",{vs:Se,fs:w});var N=this.shaderModuleService.getModule("heatmapColor"),W=N.vs,he=N.fs,$e=N.uniforms,st=this.rendererService,Yt=st.createAttribute,hr=st.createElements,yr=st.createBuffer,Zr=st.createModel;return Zr({vs:W,fs:he,attributes:{a_Position:Yt({buffer:yr({data:[-1,1,0,1,1,0,-1,-1,0,1,-1,0],type:M.gl.FLOAT}),size:3}),a_Uv:Yt({buffer:yr({data:[0,1,1,1,0,0,1,0],type:M.gl.FLOAT}),size:2})},uniforms:Yh({},$e),depth:{enable:!1},blend:this.getBlend(),count:6,elements:hr({data:[0,2,1,2,3,1],type:M.gl.UNSIGNED_INT,count:6})})}},{key:"drawIntensityMode",value:function(){var N=this.layer.getLayerConfig(),W=N.opacity,he=N.intensity,$e=he===void 0?10:he,st=N.radius,Yt=st===void 0?5:st;this.intensityModel.draw({uniforms:{u_opacity:W||1,u_radius:Yt,u_intensity:$e}})}},{key:"drawColorMode",value:function(){var N=this.layer.getLayerConfig(),W=N.opacity;this.colorModel.draw({uniforms:{u_opacity:W||1,u_colorTexture:this.colorTexture,u_texture:this.heatmapFramerBuffer}})}},{key:"draw3DHeatMap",value:function(){var N=this.layer.getLayerConfig(),W=N.opacity,he=be.b.create();be.b.invert(he,this.cameraService.getViewProjectionMatrixUncentered()),this.colorModel.draw({uniforms:{u_opacity:W||1,u_colorTexture:this.colorTexture,u_texture:this.heatmapFramerBuffer,u_ViewProjectionMatrixUncentered:this.cameraService.getViewProjectionMatrixUncentered(),u_InverseViewProjectionMatrix:ft()(he)}})}},{key:"build3dHeatMap",value:function(){var N=this.rendererService.getViewportSize,W=N(),he=W.width,$e=W.height,st=Bs(he/4,$e/4);this.shaderModuleService.registerModule("heatmap3dColor",{vs:xo,fs:Jn});var Yt=this.shaderModuleService.getModule("heatmap3dColor"),hr=Yt.vs,yr=Yt.fs,Zr=Yt.uniforms,on=this.rendererService,ca=on.createAttribute,Ra=on.createElements,Ga=on.createBuffer,Ji=on.createModel;return Ji({vs:hr,fs:yr,attributes:{a_Position:ca({buffer:Ga({data:st.vertices,type:M.gl.FLOAT}),size:3}),a_Uv:ca({buffer:Ga({data:st.uvs,type:M.gl.FLOAT}),size:2})},primitive:M.gl.TRIANGLES,uniforms:Yh({},Zr),depth:{enable:!0},blend:{enable:!0,func:{srcRGB:M.gl.SRC_ALPHA,srcAlpha:1,dstRGB:M.gl.ONE_MINUS_SRC_ALPHA,dstAlpha:1}},elements:Ra({data:st.indices,type:M.gl.UNSIGNED_INT,count:st.indices.length})})}},{key:"updateStyle",value:function(){this.updateColorTexture()}},{key:"updateColorTexture",value:function(){var N=this.rendererService.createTexture2D;this.texture&&this.texture.destroy();var W=this.layer.getLayerConfig(),he=W.rampColors,$e=Object(yt.n)(he);this.colorTexture=N({data:new Uint8Array($e.data),width:$e.width,height:$e.height,wrapS:M.gl.CLAMP_TO_EDGE,wrapT:M.gl.CLAMP_TO_EDGE,min:M.gl.NEAREST,mag:M.gl.NEAREST,flipY:!1})}}]),L}(it))||il);function br(x){var j=Yr();return function(){var R=ve()(x),N;if(j){var W=ve()(this).constructor;N=Reflect.construct(R,arguments,W)}else N=R.apply(this,arguments);return Te()(this,N)}}function Yr(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(x){return!1}}var fn=`precision highp float;
varying vec4 v_color;
uniform float u_opacity: 1;

#pragma include "picking"

void main() {
  gl_FragColor = v_color;
  gl_FragColor.a *= u_opacity;

  gl_FragColor = filterColor(gl_FragColor);
}
`,En=`precision highp float;
// \u591A\u8FB9\u5F62\u9876\u70B9\u5750\u6807
attribute vec3 a_Position;
// \u591A\u8FB9\u5F62\u7ECF\u7EAC\u5EA6\u5750\u6807
attribute vec3 a_Pos;
attribute float a_Size;
attribute vec4 a_Color;
uniform vec2 u_radius;
uniform float u_coverage: 0.9;
uniform float u_angle: 0;
uniform mat4 u_ModelMatrix;
uniform mat4 u_Mvp;
varying vec4 v_color;

uniform vec2 u_SceneCenterMKT;

#pragma include "projection"
#pragma include "project"
#pragma include "picking"

void main() {
  v_color = a_Color;
    
  mat2 rotationMatrix = mat2(cos(u_angle), sin(u_angle), -sin(u_angle), cos(u_angle));
  vec2 offset =(vec2(a_Position.xy * u_radius * rotationMatrix * u_coverage));
  vec2 lnglat = unProjectFlat(a_Pos.xy + offset);
 
  // vec4 project_pos = project_position(vec4(lnglat, 0, 1.0));
  // gl_Position = project_common_position_to_clipspace(vec4(project_pos.xy, 0., 1.0));
  if(u_CoordinateSystem == COORDINATE_SYSTEM_P20_2) { // gaode2.x
    // gl_Position = u_Mvp * (vec4(project_pos.xy, 0., 1.0));
    // gl_Position = u_Mvp * (vec4(a_Pos.xy + offset, 0., 1.0));
    vec2 customLnglat = customProject(lnglat) - u_SceneCenterMKT;
    vec4 project_pos = project_position(vec4(customLnglat, 0, 1.0));
    gl_Position = u_Mvp * vec4(project_pos.xy, 0.0, 1.0);
  } else {
    vec4 project_pos = project_position(vec4(lnglat, 0, 1.0));
    gl_Position = project_common_position_to_clipspace(vec4(project_pos.xy, 0., 1.0));
  }
  setPickingColor(a_PickingColor);
}
`,ma=function(x){oe()(L,x);var j=br(L);function L(){return T()(this,L),j.apply(this,arguments)}return u()(L,[{key:"getUninforms",value:function(){var N=this.layer.getLayerConfig(),W=N.opacity,he=N.coverage,$e=N.angle;return{u_opacity:W||1,u_coverage:he||.9,u_angle:$e||0,u_radius:[this.layer.getSource().data.xOffset,this.layer.getSource().data.yOffset]}}},{key:"initModels",value:function(){return this.buildModels()}},{key:"buildModels",value:function(){return[this.layer.buildLayerModel({moduleName:"hexagonheatmap",vertexShader:En,fragmentShader:fn,triangulation:ko,depth:{enable:!1},primitive:M.gl.TRIANGLES,blend:this.getBlend()})]}},{key:"registerBuiltinAttributes",value:function(){this.styleAttributeService.registerStyleAttribute({name:"pos",type:M.AttributeType.Attribute,descriptor:{name:"a_Pos",buffer:{usage:M.gl.DYNAMIC_DRAW,data:[],type:M.gl.FLOAT},size:3,update:function(W,he){var $e=W.version==="GAODE2.x"?W.originCoordinates:W.coordinates;return[$e[0],$e[1],0]}}})}}]),L}(it),Ia={heatmap:jt,heatmap3d:jt,grid:ql,grid3d:ps,hexagon:ma},Co=Ia;function $o(x){var j=Zo();return function(){var R=ve()(x),N;if(j){var W=ve()(this).constructor;N=Reflect.construct(R,arguments,W)}else N=R.apply(this,arguments);return Te()(this,N)}}function Zo(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(x){return!1}}var Hs=function(x){oe()(L,x);var j=$o(L);function L(){var R;T()(this,L);for(var N=arguments.length,W=new Array(N),he=0;he<N;he++)W[he]=arguments[he];return R=j.call.apply(j,[this].concat(W)),I()(k()(R),"type","HeatMapLayer"),R}return u()(L,[{key:"buildModels",value:function(){var N=this.getModelType();this.layerModel=new Co[N](this),this.models=this.layerModel.initModels()}},{key:"rebuildModels",value:function(){this.models=this.layerModel.buildModels()}},{key:"renderModels",value:function(){var N=this,W=this.getModelType();return W==="heatmap"?(this.layerModel&&this.layerModel.render(),this):(this.layerModelNeedUpdate&&(this.models=this.layerModel.buildModels(),this.layerModelNeedUpdate=!1),this.models.forEach(function(he){return he.draw({uniforms:N.layerModel.getUninforms()})}),this)}},{key:"getConfigSchema",value:function(){return{properties:{opacity:{type:"number",minimum:0,maximum:1}}}}},{key:"getModelType",value:function(){var N,W=this.styleAttributeService.getLayerStyleAttribute("shape"),he=this.getLayerConfig(),$e=he.shape3d,st=this.getSource(),Yt=st.data.type,hr=(W==null||(N=W.scale)===null||N===void 0?void 0:N.field)||"heatmap";return hr==="heatmap"||hr==="heatmap3d"?"heatmap":Yt==="hexagon"?($e==null?void 0:$e.indexOf(hr))===-1?"hexagon":"grid3d":Yt==="grid"?($e==null?void 0:$e.indexOf(hr))===-1?"grid":"grid3d":"heatmap"}}]),L}(Nt);function ms(x){var j=Ws();return function(){var R=ve()(x),N;if(j){var W=ve()(this).constructor;N=Reflect.construct(R,arguments,W)}else N=R.apply(this,arguments);return Te()(this,N)}}function Ws(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(x){return!1}}var zu=`precision mediump float;
uniform float u_opacity: 1.0;
uniform sampler2D u_texture;
varying vec2 v_texCoord;
void main() {
  vec4 color = texture2D(u_texture,vec2(v_texCoord.x,v_texCoord.y));
  gl_FragColor = color;
  gl_FragColor.a *= u_opacity;
}
`,Pc=`precision highp float;
uniform mat4 u_ModelMatrix;
uniform mat4 u_Mvp;
attribute vec3 a_Position;
attribute vec2 a_Uv;
varying vec2 v_texCoord;
#pragma include "projection"
void main() {
   v_texCoord = a_Uv;
   vec4 project_pos = project_position(vec4(a_Position, 1.0));
   // gl_Position = project_common_position_to_clipspace(vec4(project_pos.xy,0., 1.0));
   if(u_CoordinateSystem == COORDINATE_SYSTEM_P20_2) { // gaode2.x
      gl_Position = u_Mvp * (vec4(project_pos.xy,0., 1.0));
   } else {
      gl_Position = project_common_position_to_clipspace(vec4(project_pos.xy,0., 1.0));
   }
}
`,Ys=function(x){oe()(L,x);var j=ms(L);function L(){var R;T()(this,L);for(var N=arguments.length,W=new Array(N),he=0;he<N;he++)W[he]=arguments[he];return R=j.call.apply(j,[this].concat(W)),I()(k()(R),"texture",void 0),R}return u()(L,[{key:"getUninforms",value:function(){var N=this.layer.getLayerConfig(),W=N.opacity;return{u_opacity:W||1,u_texture:this.texture}}},{key:"initModels",value:function(){var N=this,W=this.layer.getSource(),he=this.rendererService.createTexture2D;return this.texture=he({height:0,width:0}),W.data.images.then(function($e){N.texture=he({data:$e[0],width:$e[0].width,height:$e[0].height}),N.layerService.renderLayers()}),[this.layer.buildLayerModel({moduleName:"RasterImage",vertexShader:Pc,fragmentShader:zu,triangulation:bo,primitive:M.gl.TRIANGLES,depth:{enable:!1},blend:this.getBlend()})]}},{key:"buildModels",value:function(){return this.initModels()}},{key:"getConfigSchema",value:function(){return{properties:{opacity:{type:"number",minimum:0,maximum:1}}}}},{key:"registerBuiltinAttributes",value:function(){this.styleAttributeService.registerStyleAttribute({name:"uv",type:M.AttributeType.Attribute,descriptor:{name:"a_Uv",buffer:{usage:M.gl.DYNAMIC_DRAW,data:[],type:M.gl.FLOAT},size:2,update:function(W,he,$e,st){return[$e[3],$e[4]]}}})}}]),L}(it),Ef={image:Ys},hd=Ef;function Bf(x){var j=Ms();return function(){var R=ve()(x),N;if(j){var W=ve()(this).constructor;N=Reflect.construct(R,arguments,W)}else N=R.apply(this,arguments);return Te()(this,N)}}function Ms(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(x){return!1}}var zf=function(x){oe()(L,x);var j=Bf(L);function L(){var R;T()(this,L);for(var N=arguments.length,W=new Array(N),he=0;he<N;he++)W[he]=arguments[he];return R=j.call.apply(j,[this].concat(W)),I()(k()(R),"type","ImageLayer"),R}return u()(L,[{key:"buildModels",value:function(){var N=this.getModelType();this.layerModel=new hd[N](this),this.models=this.layerModel.initModels()}},{key:"rebuildModels",value:function(){this.models=this.layerModel.buildModels()}},{key:"getConfigSchema",value:function(){return{properties:{opacity:{type:"number",minimum:0,maximum:1}}}}},{key:"getDefaultConfig",value:function(){var N=this.getModelType(),W={image:{}};return W[N]}},{key:"getModelType",value:function(){return"image"}}]),L}(Nt);function wh(x){var j=_d();return function(){var R=ve()(x),N;if(j){var W=ve()(this).constructor;N=Reflect.construct(R,arguments,W)}else N=R.apply(this,arguments);return Te()(this,N)}}function _d(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(x){return!1}}var zl=`#define LineTypeSolid 0.0
#define LineTypeDash 1.0
#define Animate 0.0
#define LineTexture 1.0

uniform float u_opacity;
uniform float u_textureBlend;
uniform float u_blur : 0.9;
uniform float u_line_type: 0.0;
// varying vec2 v_normal;
varying vec4 v_dash_array;
varying vec4 v_color;

uniform float u_time;
uniform vec4 u_aimate: [ 0, 2., 1.0, 0.2 ];

uniform float u_line_texture;
uniform sampler2D u_texture;
uniform vec2 u_textSize;

uniform float segmentNumber;
varying vec2 v_iconMapUV;

varying vec4 v_dataset; // \u6570\u636E\u96C6 - \u7528\u4E8E\u5408\u5E76\u5355\u4E2A\u7684 varying \u53D8\u91CF

varying mat4 styleMappingMat; // \u4F20\u9012\u4ECE\u7247\u5143\u4E2D\u4F20\u9012\u7684\u6620\u5C04\u6570\u636E

uniform float u_linearColor: 0;
uniform vec4 u_sourceColor;
uniform vec4 u_targetColor;

#pragma include "picking"

void main() {
  float opacity = styleMappingMat[0][0];
  float animateSpeed = 0.0; // \u8FD0\u52A8\u901F\u5EA6
  float d_segmentIndex = v_dataset.r;   // \u5F53\u524D\u9876\u70B9\u5728\u5F27\u7EBF\u4E2D\u6240\u5904\u7684\u5206\u6BB5\u4F4D\u7F6E
  float d_distance_ratio = v_dataset.b; // \u5F53\u524D\u9876\u70B9\u5728\u5F27\u7EBF\u4E2D\u6240\u5904\u7684\u5206\u6BB5\u6BD4\u4F8B

  // \u8BBE\u7F6E\u5F27\u7EBF\u7684\u5E95\u8272
  if(u_linearColor == 1.0) { // \u4F7F\u7528\u6E10\u53D8\u989C\u8272
    gl_FragColor = mix(u_sourceColor, u_targetColor, d_segmentIndex/segmentNumber);
  } else { // \u4F7F\u7528 color \u65B9\u6CD5\u4F20\u5165\u7684\u989C\u8272
     gl_FragColor = v_color;
  }
  
  // float blur = 1.- smoothstep(u_blur, 1., length(v_normal.xy));
  // float blur = smoothstep(1.0, u_blur, length(v_normal.xy));
  gl_FragColor.a *= opacity;
  if(u_line_type == LineTypeDash) {
   float flag = 0.;
    float dashLength = mod(d_distance_ratio, v_dash_array.x + v_dash_array.y + v_dash_array.z + v_dash_array.w);
    if(dashLength < v_dash_array.x || (dashLength > (v_dash_array.x + v_dash_array.y) && dashLength <  v_dash_array.x + v_dash_array.y + v_dash_array.z)) {
      flag = 1.;
    }
    gl_FragColor.a *=flag;
  }

  if(u_aimate.x == Animate) {
      animateSpeed = u_time / u_aimate.y;
      float alpha =1.0 - fract( mod(1.0- d_distance_ratio, u_aimate.z)* (1.0/ u_aimate.z) + u_time / u_aimate.y);
      alpha = (alpha + u_aimate.w -1.0) / u_aimate.w;
      // alpha = smoothstep(0., 1., alpha);
      alpha = clamp(alpha, 0.0, 1.0);
      gl_FragColor.a *= alpha;
  }

  // \u5F53\u5B58\u5728\u8D34\u56FE\u65F6\u5728\u5E95\u8272\u4E0A\u8D34\u4E0A\u8D34\u56FE
  if(u_line_texture == LineTexture && u_line_type != LineTypeDash) { // while load texture
    float arcRadio = smoothstep( 0.0, 1.0, (d_segmentIndex / segmentNumber));
    // float arcRadio = smoothstep( 0.0, 1.0, d_distance_ratio);

    float d_texCount = v_dataset.g; // \u8D34\u56FE\u5728\u5F27\u7EBF\u4E0A\u91CD\u590D\u7684\u6570\u91CF

    float u = 1.0 - fract(arcRadio * d_texCount + animateSpeed);

    if(u_aimate.x == Animate) {
      u = gl_FragColor.a/opacity;
    }
    float v = v_dataset.a; // \u6A2A\u5411 v
    vec2 uv= v_iconMapUV / u_textSize + vec2(u, v) / u_textSize * 64.;

    vec4 pattern = texture2D(u_texture, uv);

    if(u_textureBlend == 0.0) { // normal
      pattern.a = 0.0;
      gl_FragColor = filterColor(gl_FragColor + pattern);
    } else { // replace
        pattern.a *= opacity;
        if(gl_FragColor.a <= 0.0) {
          pattern.a = 0.0;
        }
        gl_FragColor = filterColor(pattern);
    }
    // gl_FragColor = vec4(1.0 - fract(arcRadio * 20000.0), 0.0, 0.0, 1.0);
    // gl_FragColor = filterColor(gl_FragColor + texture2D(u_texture, uv));
    // gl_FragColor = filterColor(texture2D(u_texture, uv));
    
  } else {
     gl_FragColor = filterColor(gl_FragColor);
  }
  // gl_FragColor = filterColor(gl_FragColor);
}`,Uf=`#define LineTypeSolid 0.0
#define LineTypeDash 1.0
#define Animate 0.0
#define LineTexture 1.0

attribute vec4 a_Color;
attribute vec3 a_Position;
attribute vec4 a_Instance;
attribute float a_Size;
uniform mat4 u_ModelMatrix;
uniform mat4 u_Mvp;
uniform float segmentNumber;
uniform vec4 u_aimate: [ 0, 2., 1.0, 0.2 ];
varying vec4 v_color;
// varying vec2 v_normal;

uniform float u_line_type: 0.0;
uniform vec4 u_dash_array: [10.0, 5., 0, 0];
uniform float u_lineDir: 1.0;
varying vec4 v_dash_array;

uniform float u_thetaOffset: 0.314;
uniform float u_icon_step: 100;
uniform float u_line_texture: 0.0;
attribute vec2 a_iconMapUV;
varying vec2 v_iconMapUV;

varying vec4 v_dataset; // \u6570\u636E\u96C6 - \u7528\u4E8E\u5408\u5E76\u5355\u4E2A\u7684 varying \u53D8\u91CF

uniform float u_opacity: 1.0;
varying mat4 styleMappingMat; // \u7528\u4E8E\u5C06\u5728\u9876\u70B9\u7740\u8272\u5668\u4E2D\u8BA1\u7B97\u597D\u7684\u6837\u5F0F\u503C\u4F20\u9012\u7ED9\u7247\u5143

#pragma include "styleMapping"
#pragma include "styleMappingCalOpacity"

#pragma include "projection"
#pragma include "project"
#pragma include "picking"

float bezier3(vec3 arr, float t) {
  float ut = 1. - t;
  return (arr.x * ut + arr.y * t) * ut + (arr.y * ut + arr.z * t) * t;
}
vec2 midPoint(vec2 source, vec2 target) {
  vec2 center = target - source;
  float r = length(center);
  float theta = atan(center.y, center.x);
  float thetaOffset = u_thetaOffset;
  float r2 = r / 2.0 / cos(thetaOffset);
  float theta2 = theta + thetaOffset;
  vec2 mid = vec2(r2*cos(theta2) + source.x, r2*sin(theta2) + source.y);
  if(u_lineDir == 1.0) { // \u6B63\u5411
    return mid;
  } else { // \u9006\u5411
    // (mid + vmin)/2 = (s + t)/2
    vec2 vmid = source + target - mid;
    return vmid;
  }
  // return mid;
}
float getSegmentRatio(float index) {
    return smoothstep(0.0, 1.0, index / (segmentNumber - 1.));
}
vec2 interpolate (vec2 source, vec2 target, float t) {
  // if the angularDist is PI, linear interpolation is applied. otherwise, use spherical interpolation
  vec2 mid = midPoint(source, target);
  vec3 x = vec3(source.x, mid.x, target.x);
  vec3 y = vec3(source.y, mid.y, target.y);
  return vec2(bezier3(x ,t), bezier3(y,t));
}
vec2 getExtrusionOffset(vec2 line_clipspace, float offset_direction) {
  // normalized direction of the line
  vec2 dir_screenspace = normalize(line_clipspace);
  // rotate by 90 degrees
   dir_screenspace = vec2(-dir_screenspace.y, dir_screenspace.x);
  vec2 offset = dir_screenspace * offset_direction * setPickingSize(a_Size) / 2.0;
  return offset;
}
vec2 getNormal(vec2 line_clipspace, float offset_direction) {
  // normalized direction of the line
  vec2 dir_screenspace = normalize(line_clipspace);
  // rotate by 90 degrees
   dir_screenspace = vec2(-dir_screenspace.y, dir_screenspace.x);
   return reverse_offset_normal(vec3(dir_screenspace,1.0)).xy * sign(offset_direction);
}

void main() {
  v_color = a_Color;

  // cal style mapping - \u6570\u636E\u7EB9\u7406\u6620\u5C04\u90E8\u5206\u7684\u8BA1\u7B97
  styleMappingMat = mat4(
    0.0, 0.0, 0.0, 0.0, // opacity - strokeOpacity - strokeWidth - empty
    0.0, 0.0, 0.0, 0.0, // strokeR - strokeG - strokeB - strokeA
    0.0, 0.0, 0.0, 0.0, // offsets[0] - offsets[1]
    0.0, 0.0, 0.0, 0.0
  );

  float rowCount = u_cellTypeLayout[0][0];    // \u5F53\u524D\u7684\u6570\u636E\u7EB9\u7406\u6709\u51E0\u884C
  float columnCount = u_cellTypeLayout[0][1]; // \u5F53\u770B\u5230\u6570\u636E\u7EB9\u7406\u6709\u51E0\u5217
  float columnWidth = 1.0/columnCount;  // \u5217\u5BBD
  float rowHeight = 1.0/rowCount;       // \u884C\u9AD8
  float cellCount = calCellCount(); // opacity - strokeOpacity - strokeWidth - stroke - offsets
  float id = a_vertexId; // \u7B2Cn\u4E2A\u9876\u70B9
  float cellCurrentRow = floor(id * cellCount / columnCount) + 1.0; // \u8D77\u59CB\u70B9\u5728\u7B2C\u51E0\u884C
  float cellCurrentColumn = mod(id * cellCount, columnCount) + 1.0; // \u8D77\u59CB\u70B9\u5728\u7B2C\u51E0\u5217
  
  // cell \u56FA\u5B9A\u987A\u5E8F opacity -> strokeOpacity -> strokeWidth -> stroke ... 
  // \u6309\u987A\u5E8F\u4ECE cell \u4E2D\u53D6\u503C\u3001\u82E5\u6CA1\u6709\u5219\u81EA\u52A8\u5F80\u4E0B\u53D6\u503C
  float textureOffset = 0.0; // \u5728 cell \u4E2D\u53D6\u503C\u7684\u504F\u79FB\u91CF

  vec2 opacityAndOffset = calOpacityAndOffset(cellCurrentRow, cellCurrentColumn, columnCount, textureOffset, columnWidth, rowHeight);
  styleMappingMat[0][0] = opacityAndOffset.r;
  textureOffset = opacityAndOffset.g;
  // cal style mapping - \u6570\u636E\u7EB9\u7406\u6620\u5C04\u90E8\u5206\u7684\u8BA1\u7B97

  
  vec2 source = a_Instance.rg;  // \u8D77\u59CB\u70B9
  vec2 target =  a_Instance.ba; // \u7EC8\u70B9
  float segmentIndex = a_Position.x;
  float segmentRatio = getSegmentRatio(segmentIndex);

  float indexDir = mix(-1.0, 1.0, step(segmentIndex, 0.0));
  float nextSegmentRatio = getSegmentRatio(segmentIndex + indexDir);
  float d_distance_ratio;
  if(u_line_type == LineTypeDash) {
      d_distance_ratio = segmentIndex / segmentNumber;

      vec2 s = source;
      vec2 t = target;
      
      if(u_CoordinateSystem == COORDINATE_SYSTEM_P20_2) { // gaode2.x
        s = unProjCustomCoord(source);
        t = unProjCustomCoord(target);
      }
      float total_Distance = pixelDistance(s, t) / 2.0 * PI;
      // float total_Distance = pixelDistance(a_Instance.rg, a_Instance.ba) / 2.0 * PI;
      v_dash_array = pow(2.0, 20.0 - u_Zoom) * u_dash_array / (total_Distance / segmentNumber * segmentIndex);
  }
  
  if(u_aimate.x == Animate) {
      d_distance_ratio = segmentIndex / segmentNumber;
      if(u_lineDir != 1.0) {
        d_distance_ratio = 1.0 - d_distance_ratio;
      }
  }

  v_dataset.b = d_distance_ratio;

  vec4 curr = project_position(vec4(interpolate(source, target, segmentRatio), 0.0, 1.0));
  vec4 next = project_position(vec4(interpolate(source, target, nextSegmentRatio), 0.0, 1.0));
  // v_normal = getNormal((next.xy - curr.xy) * indexDir, a_Position.y);
  //unProjCustomCoord
  
  vec2 offset = project_pixel(getExtrusionOffset((next.xy - curr.xy) * indexDir, a_Position.y));


  float d_segmentIndex = a_Position.x + 1.0; // \u5F53\u524D\u9876\u70B9\u5728\u5F27\u7EBF\u4E2D\u6240\u5904\u7684\u5206\u6BB5\u4F4D\u7F6E
  v_dataset.r = d_segmentIndex;

  if(LineTexture == u_line_texture) { // \u5F00\u542F\u8D34\u56FE\u6A21\u5F0F

    float arcDistrance = length(source - target); // \u8D77\u59CB\u70B9\u548C\u7EC8\u70B9\u7684\u8DDD\u79BB
    if(u_CoordinateSystem == COORDINATE_SYSTEM_P20) { // amap
      arcDistrance *= 1000000.0;
    }
    if(u_CoordinateSystem == COORDINATE_SYSTEM_LNGLAT || u_CoordinateSystem == COORDINATE_SYSTEM_LNGLAT_OFFSET) { // mapbox
      // arcDistrance *= 8.0;
      arcDistrance = project_pixel_allmap(arcDistrance);
    }
    v_iconMapUV = a_iconMapUV;

    float pixelLen = project_pixel(u_icon_step); // \u8D34\u56FE\u6CBF\u5F27\u7EBF\u65B9\u5411\u7684\u957F\u5EA6 - \u968F\u5730\u56FE\u7F29\u653E\u6539\u53D8
    float texCount = floor(arcDistrance/pixelLen); // \u8D34\u56FE\u5728\u5F27\u7EBF\u4E0A\u91CD\u590D\u7684\u6570\u91CF
    v_dataset.g = texCount;

    float lineOffsetWidth = length(offset + offset * sign(a_Position.y)); // \u7EBF\u6A2A\u5411\u504F\u79FB\u7684\u8DDD\u79BB
    float linePixelSize = project_pixel(a_Size); // \u5B9A\u70B9\u4F4D\u7F6E\u504F\u79FB
    v_dataset.a = lineOffsetWidth/linePixelSize; // \u7EBF\u56FE\u5C42\u8D34\u56FE\u90E8\u5206\u7684 v \u5750\u6807\u503C
  }
  

  // gl_Position = project_common_position_to_clipspace(vec4(curr.xy + offset, 0, 1.0));
  if(u_CoordinateSystem == COORDINATE_SYSTEM_P20_2) { // gaode2.x
    // gl_Position = u_Mvp * (vec4(curr.xy + offset, 0, 1.0));
    gl_Position = u_Mvp * (vec4(curr.xy + offset, 0, 1.0));
  } else {
    gl_Position = project_common_position_to_clipspace(vec4(curr.xy + offset, 0, 1.0));
  }
  setPickingColor(a_PickingColor);
}
`,$h={solid:0,dash:1},Sf=function(x){oe()(L,x);var j=wh(L);function L(){var R;T()(this,L);for(var N=arguments.length,W=new Array(N),he=0;he<N;he++)W[he]=arguments[he];return R=j.call.apply(j,[this].concat(W)),I()(k()(R),"texture",void 0),I()(k()(R),"updateTexture",function(){var $e=R.rendererService.createTexture2D;if(R.texture){R.texture.update({data:R.iconService.getCanvas()}),R.layer.render();return}R.texture=$e({data:R.iconService.getCanvas(),mag:M.gl.NEAREST,min:M.gl.NEAREST,premultiplyAlpha:!1,width:1024,height:R.iconService.canvasHeight||128})}),R}return u()(L,[{key:"getUninforms",value:function(){var N=this.layer.getLayerConfig(),W=N.opacity,he=N.sourceColor,$e=N.targetColor,st=N.textureBlend,Yt=st===void 0?"normal":st,hr=N.lineType,yr=hr===void 0?"solid":hr,Zr=N.dashArray,on=Zr===void 0?[10,5]:Zr,ca=N.forward,Ra=ca===void 0?!0:ca,Ga=N.lineTexture,Ji=Ga===void 0?!1:Ga,go=N.iconStep,jo=go===void 0?100:go,Mo=N.segmentNumber,$i=Mo===void 0?30:Mo,Ho=N.thetaOffset,Ta=Ho===void 0?.314:Ho;if(this.dataTextureTest&&this.dataTextureNeedUpdate({opacity:W})){this.judgeStyleAttributes({opacity:W});var Rs=this.layer.getEncodedData(),hi=this.calDataFrame(this.cellLength,Rs,this.cellProperties),Sl=hi.data,fo=hi.width,ou=hi.height;this.rowCount=ou,this.dataTexture=this.cellLength>0&&Sl.length>0?this.createTexture2D({flipY:!0,data:Sl,format:M.gl.LUMINANCE,type:M.gl.FLOAT,width:fo,height:ou}):this.createTexture2D({flipY:!0,data:[1],format:M.gl.LUMINANCE,type:M.gl.FLOAT,width:1,height:1})}on.length===2&&on.push(0,0);var Fs=0,xh=[0,0,0,0],ks=[0,0,0,0];return he&&$e&&(xh=Object(yt.s)(he),ks=Object(yt.s)($e),Fs=1),this.rendererService.getDirty()&&this.texture.bind(),{u_thetaOffset:Ta,u_dataTexture:this.dataTexture,u_cellTypeLayout:this.getCellTypeLayout(),u_opacity:Ke()(W)?W:1,u_textureBlend:Yt==="normal"?0:1,segmentNumber:$i,u_line_type:$h[yr||"solid"],u_dash_array:on,u_blur:.9,u_lineDir:Ra?1:-1,u_texture:this.texture,u_line_texture:Ji?1:0,u_icon_step:jo,u_textSize:[1024,this.iconService.canvasHeight||128],u_linearColor:Fs,u_sourceColor:xh,u_targetColor:ks}}},{key:"getAnimateUniforms",value:function(){var N=this.layer.getLayerConfig(),W=N.animateOption;return{u_aimate:this.animateOption2Array(W),u_time:this.layer.getLayerAnimateTime()}}},{key:"initModels",value:function(){return this.updateTexture(),this.iconService.on("imageUpdate",this.updateTexture),this.buildModels()}},{key:"clearModels",value:function(){var N,W;(N=this.texture)===null||N===void 0||N.destroy(),(W=this.dataTexture)===null||W===void 0||W.destroy(),this.iconService.off("imageUpdate",this.updateTexture)}},{key:"buildModels",value:function(){var N=this.layer.getLayerConfig(),W=N.segmentNumber,he=W===void 0?30:W;return[this.layer.buildLayerModel({moduleName:"arc2dline",vertexShader:Uf,fragmentShader:zl,triangulation:Ba,depth:{enable:!1},blend:this.getBlend(),segmentNumber:he})]}},{key:"registerBuiltinAttributes",value:function(){var N=this;this.styleAttributeService.registerStyleAttribute({name:"size",type:M.AttributeType.Attribute,descriptor:{name:"a_Size",buffer:{usage:M.gl.DYNAMIC_DRAW,data:[],type:M.gl.FLOAT},size:1,update:function(he,$e,st,Yt){var hr=he.size,yr=hr===void 0?1:hr;return Array.isArray(yr)?[yr[0]]:[yr]}}}),this.styleAttributeService.registerStyleAttribute({name:"instance",type:M.AttributeType.Attribute,descriptor:{name:"a_Instance",buffer:{usage:M.gl.STATIC_DRAW,data:[],type:M.gl.FLOAT},size:4,update:function(he,$e,st,Yt){return[st[3],st[4],st[5],st[6]]}}}),this.styleAttributeService.registerStyleAttribute({name:"uv",type:M.AttributeType.Attribute,descriptor:{name:"a_iconMapUV",buffer:{usage:M.gl.DYNAMIC_DRAW,data:[],type:M.gl.FLOAT},size:2,update:function(he,$e,st,Yt){var hr=N.iconService.getIconMap(),yr=he.texture,Zr=hr[yr]||{x:0,y:0},on=Zr.x,ca=Zr.y;return[on,ca]}}})}}]),L}(it);function Gl(x){var j=Wc();return function(){var R=ve()(x),N;if(j){var W=ve()(this).constructor;N=Reflect.construct(R,arguments,W)}else N=R.apply(this,arguments);return Te()(this,N)}}function Wc(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(x){return!1}}var mc=`#define LineTypeSolid 0.0
#define LineTypeDash 1.0
#define Animate 0.0
#define LineTexture 1.0

uniform float u_opacity;
uniform float u_textureBlend;
uniform float u_blur : 0.9;
uniform float u_line_type: 0.0;
// varying vec2 v_normal;
varying vec4 v_dash_array;
varying vec4 v_color;

uniform float u_line_texture: 0.0;
uniform sampler2D u_texture;
uniform vec2 u_textSize;
varying float v_segmentIndex;
uniform float segmentNumber;

varying vec4 v_dataset; // \u6570\u636E\u96C6

varying vec2 v_iconMapUV;

uniform float u_time;
uniform vec4 u_aimate: [ 0, 2., 1.0, 0.2 ];

uniform float u_linearColor: 0;
uniform vec4 u_sourceColor;
uniform vec4 u_targetColor;

varying mat4 styleMappingMat;

#pragma include "picking"

void main() {
  float opacity = styleMappingMat[0][0];
  float animateSpeed = 0.0; // \u8FD0\u52A8\u901F\u5EA6
  float d_distance_ratio = v_dataset.g; // \u5F53\u524D\u70B9\u4F4D\u8DDD\u79BB\u5360\u7EBF\u603B\u957F\u7684\u6BD4\u4F8B

  if(u_linearColor == 1.0) { // \u4F7F\u7528\u6E10\u53D8\u989C\u8272
    gl_FragColor = mix(u_sourceColor, u_targetColor, v_segmentIndex/segmentNumber);
  } else { // \u4F7F\u7528 color \u65B9\u6CD5\u4F20\u5165\u7684\u989C\u8272
     gl_FragColor = v_color;
  }

  // float blur = 1.- smoothstep(u_blur, 1., length(v_normal.xy));
  // float blur = smoothstep(1.0, u_blur, length(v_normal.xy));
  gl_FragColor.a *= opacity;
  if(u_line_type == LineTypeDash) {
   float flag = 0.;
    float dashLength = mod(d_distance_ratio, v_dash_array.x + v_dash_array.y + v_dash_array.z + v_dash_array.w);
    if(dashLength < v_dash_array.x || (dashLength > (v_dash_array.x + v_dash_array.y) && dashLength <  v_dash_array.x + v_dash_array.y + v_dash_array.z)) {
      flag = 1.;
    }
    gl_FragColor.a *=flag;
  }

  if(u_aimate.x == Animate) {
      animateSpeed = u_time / u_aimate.y;
      float alpha =1.0 - fract( mod(1.0- d_distance_ratio, u_aimate.z)* (1.0/ u_aimate.z) + u_time / u_aimate.y);

      alpha = (alpha + u_aimate.w -1.0) / u_aimate.w;
      // alpha = smoothstep(0., 1., alpha);
      alpha = clamp(alpha, 0.0, 1.0);
      gl_FragColor.a *= alpha;
  }

  if(u_line_texture == LineTexture && u_line_type != LineTypeDash) { // while load texture
    // float arcRadio = smoothstep( 0.0, 1.0, (v_segmentIndex / segmentNumber));
    float arcRadio = v_segmentIndex / (segmentNumber - 1.0);
    float count = v_dataset.b; // // \u8D34\u56FE\u5728\u5F27\u7EBF\u4E0A\u91CD\u590D\u7684\u6570\u91CF

    float u = fract(arcRadio * count - animateSpeed * count);
 
    if(u_aimate.x == Animate) {
      u = gl_FragColor.a/opacity;
    }

    float v = v_dataset.a;  // \u7EBF\u56FE\u5C42\u8D34\u56FE\u90E8\u5206\u7684 v \u5750\u6807\u503C
    vec2 uv= v_iconMapUV / u_textSize + vec2(u, v) / u_textSize * 64.;
    vec4 pattern = texture2D(u_texture, uv);

    if(u_textureBlend == 0.0) { // normal
      pattern.a = 0.0;
      gl_FragColor = filterColor(gl_FragColor + pattern);
    } else { // replace
        pattern.a *= opacity;
        if(gl_FragColor.a <= 0.0) {
          pattern.a = 0.0;
          discard;
        } else {
          gl_FragColor = filterColor(pattern);
        }
    }

  } else {
    gl_FragColor = filterColor(gl_FragColor);
  }

  // gl_FragColor = filterColor(gl_FragColor);
}
`,pd=`#define LineTypeSolid 0.0
#define LineTypeDash 1.0
#define Animate 0.0
#define LineTexture 1.0
attribute vec3 a_Position;
attribute vec4 a_Instance;
attribute vec4 a_Color;
attribute float a_Size;

uniform float u_globel;
uniform float u_globel_radius;
uniform float u_global_height: 10;
uniform mat4 u_ModelMatrix;
uniform mat4 u_Mvp;
uniform float segmentNumber;
uniform vec4 u_aimate: [ 0, 2., 1.0, 0.2 ];
varying vec4 v_color;
// varying vec2 v_normal;
uniform float u_line_type: 0.0;
uniform vec4 u_dash_array: [10.0, 5., 0, 0];
varying vec4 v_dash_array;

uniform float u_icon_step: 100;
uniform float u_line_texture: 0.0;
varying float v_segmentIndex;

varying vec4 v_dataset; // \u6570\u636E\u96C6

attribute vec2 a_iconMapUV;
varying vec2 v_iconMapUV;

uniform float u_opacity: 1.0;
varying mat4 styleMappingMat; // \u7528\u4E8E\u5C06\u5728\u9876\u70B9\u7740\u8272\u5668\u4E2D\u8BA1\u7B97\u597D\u7684\u6837\u5F0F\u503C\u4F20\u9012\u7ED9\u7247\u5143

#pragma include "styleMapping"
#pragma include "styleMappingCalOpacity"

#pragma include "projection"
#pragma include "project"
#pragma include "picking"

float maps (float value, float start1, float stop1, float start2, float stop2) {
  return start2 + (stop2 - start2) * ((value - start1) / (stop1 - start1));
}

float getSegmentRatio(float index) {
  return smoothstep(0.0, 1.0, index / (segmentNumber - 1.0));
}

float paraboloid(vec2 source, vec2 target, float ratio) {
  vec2 x = mix(source, target, ratio);
  vec2 center = mix(source, target, 0.5);
  float dSourceCenter = distance(source, center);
  float dXCenter = distance(x, center);
  return (dSourceCenter + dXCenter) * (dSourceCenter - dXCenter);
}

vec3 getPos(vec2 source, vec2 target, float segmentRatio) {
  float vertex_height = paraboloid(source, target, segmentRatio);

  return vec3(
    mix(source, target, segmentRatio),
    sqrt(max(0.0, vertex_height))
  );
}
vec2 getExtrusionOffset(vec2 line_clipspace, float offset_direction) {
  // normalized direction of the line
  vec2 dir_screenspace = normalize(line_clipspace);
  // rotate by 90 degrees
  dir_screenspace = vec2(-dir_screenspace.y, dir_screenspace.x);

  vec2 offset = dir_screenspace * offset_direction * setPickingSize(a_Size) / 2.0;

  return offset;
}
vec2 getNormal(vec2 line_clipspace, float offset_direction) {
  // normalized direction of the line
  vec2 dir_screenspace = normalize(line_clipspace);
  // rotate by 90 degrees
  dir_screenspace = vec2(-dir_screenspace.y, dir_screenspace.x);
  return reverse_offset_normal(vec3(dir_screenspace,1.0)).xy * sign(offset_direction);
}

float torad(float deg) {
  return (deg / 180.0) * acos(-1.0);
}

vec3 lglt2xyz(vec2 lnglat) {
  float pi = 3.1415926;
  // TODO: + Math.PI/2 \u662F\u4E3A\u4E86\u5BF9\u9F50\u5750\u6807
  float lng = torad(lnglat.x) + pi / 2.0;
  float lat = torad(lnglat.y);

  // TODO: \u624B\u52A8\u589E\u52A0\u4E00\u4E9B\u504F\u79FB\uFF0C\u51CF\u8F7B\u9762\u7684\u51B2\u7A81
  float radius = u_globel_radius;

  float z = radius * cos(lat) * cos(lng);
  float x = radius * cos(lat) * sin(lng);
  float y = radius * sin(lat);
  return vec3(x, y, z);
}

void main() {
  // cal style mapping - \u6570\u636E\u7EB9\u7406\u6620\u5C04\u90E8\u5206\u7684\u8BA1\u7B97
  styleMappingMat = mat4(
    0.0, 0.0, 0.0, 0.0, // opacity - strokeOpacity - strokeWidth - empty
    0.0, 0.0, 0.0, 0.0, // strokeR - strokeG - strokeB - strokeA
    0.0, 0.0, 0.0, 0.0, // offsets[0] - offsets[1]
    0.0, 0.0, 0.0, 0.0
  );

  float rowCount = u_cellTypeLayout[0][0];    // \u5F53\u524D\u7684\u6570\u636E\u7EB9\u7406\u6709\u51E0\u884C
  float columnCount = u_cellTypeLayout[0][1]; // \u5F53\u770B\u5230\u6570\u636E\u7EB9\u7406\u6709\u51E0\u5217
  float columnWidth = 1.0/columnCount;  // \u5217\u5BBD
  float rowHeight = 1.0/rowCount;       // \u884C\u9AD8
  float cellCount = calCellCount(); // opacity - strokeOpacity - strokeWidth - stroke - offsets
  float id = a_vertexId; // \u7B2Cn\u4E2A\u9876\u70B9
  float cellCurrentRow = floor(id * cellCount / columnCount) + 1.0; // \u8D77\u59CB\u70B9\u5728\u7B2C\u51E0\u884C
  float cellCurrentColumn = mod(id * cellCount, columnCount) + 1.0; // \u8D77\u59CB\u70B9\u5728\u7B2C\u51E0\u5217
  
  // cell \u56FA\u5B9A\u987A\u5E8F opacity -> strokeOpacity -> strokeWidth -> stroke ... 
  // \u6309\u987A\u5E8F\u4ECE cell \u4E2D\u53D6\u503C\u3001\u82E5\u6CA1\u6709\u5219\u81EA\u52A8\u5F80\u4E0B\u53D6\u503C
  float textureOffset = 0.0; // \u5728 cell \u4E2D\u53D6\u503C\u7684\u504F\u79FB\u91CF

  vec2 opacityAndOffset = calOpacityAndOffset(cellCurrentRow, cellCurrentColumn, columnCount, textureOffset, columnWidth, rowHeight);
  styleMappingMat[0][0] = opacityAndOffset.r;
  textureOffset = opacityAndOffset.g;
  // cal style mapping - \u6570\u636E\u7EB9\u7406\u6620\u5C04\u90E8\u5206\u7684\u8BA1\u7B97

  v_color = a_Color;
  vec2 source = project_position(vec4(a_Instance.rg, 0, 0)).xy;
  vec2 target = project_position(vec4(a_Instance.ba, 0, 0)).xy;
  float segmentIndex = a_Position.x;
  float segmentRatio = getSegmentRatio(segmentIndex);
  float indexDir = mix(-1.0, 1.0, step(segmentIndex, 0.0));

  float d_distance_ratio;
   if(u_line_type == LineTypeDash) {
    d_distance_ratio = segmentIndex / segmentNumber;
    // float total_Distance = pixelDistance(a_Instance.rg, a_Instance.ba) / 2.0 * PI;
    vec2 s = source;
    vec2 t = target;
    
    if(u_CoordinateSystem == COORDINATE_SYSTEM_P20_2) { // gaode2.x
      s = unProjCustomCoord(source);
      t = unProjCustomCoord(target);
    }
    float total_Distance = pixelDistance(s, t) / 2.0 * PI;
    v_dash_array = pow(2.0, 20.0 - u_Zoom) * u_dash_array / (total_Distance / segmentNumber * segmentIndex);
  }
    if(u_aimate.x == Animate) {
      d_distance_ratio = segmentIndex / segmentNumber;
  }
  v_dataset.g = d_distance_ratio; // \u5F53\u524D\u70B9\u4F4D\u8DDD\u79BB\u5360\u7EBF\u603B\u957F\u7684\u6BD4\u4F8B

  float nextSegmentRatio = getSegmentRatio(segmentIndex + indexDir);
  vec3 curr = getPos(source, target, segmentRatio);
  vec3 next = getPos(source, target, nextSegmentRatio);
  vec2 offset = getExtrusionOffset((next.xy - curr.xy) * indexDir, a_Position.y);
  // v_normal = getNormal((next.xy - curr.xy) * indexDir, a_Position.y);


  v_segmentIndex = a_Position.x;
  if(LineTexture == u_line_texture && u_line_type != LineTypeDash) { // \u5F00\u542F\u8D34\u56FE\u6A21\u5F0F  

    float arcDistrance = length(source - target);
    float pixelLen =  project_pixel(u_icon_step);
    v_dataset.b = floor(arcDistrance/pixelLen); // \u8D34\u56FE\u5728\u5F27\u7EBF\u4E0A\u91CD\u590D\u7684\u6570\u91CF

    vec2 projectOffset = project_pixel(offset);
    float lineOffsetWidth = length(projectOffset + projectOffset * sign(a_Position.y)); // \u7EBF\u6A2A\u5411\u504F\u79FB\u7684\u8DDD\u79BB
    float linePixelSize = project_pixel(a_Size);  // \u5B9A\u70B9\u4F4D\u7F6E\u504F\u79FB\uFF0C\u6309\u5730\u56FE\u7B49\u7EA7\u7F29\u653E\u540E\u7684\u8DDD\u79BB
    v_dataset.a = lineOffsetWidth/linePixelSize;  // \u7EBF\u56FE\u5C42\u8D34\u56FE\u90E8\u5206\u7684 v \u5750\u6807\u503C

    v_iconMapUV = a_iconMapUV;
  }
  

  // gl_Position = project_common_position_to_clipspace(vec4(curr.xy + project_pixel(offset), curr.z, 1.0));
  if(u_CoordinateSystem == COORDINATE_SYSTEM_P20_2) { // gaode2.x
    gl_Position = u_Mvp * (vec4(curr.xy + project_pixel(offset), curr.z, 1.0));
  } else {
    gl_Position = project_common_position_to_clipspace(vec4(curr.xy + project_pixel(offset), curr.z, 1.0));
  }

  // \u5730\u7403\u6A21\u5F0F
  if(u_globel > 0.0) {
    vec3 startLngLat = lglt2xyz(a_Instance.rg);
    vec3 endLngLat = lglt2xyz(a_Instance.ba);
    float globalRadius = length(startLngLat);

    vec3 lineDir = normalize(endLngLat - startLngLat);
    vec3 midPointDir = normalize((startLngLat + endLngLat)/2.0);

    // \u7EBF\u7684\u504F\u79FB
    vec3 lnglatOffset = cross(lineDir, midPointDir) * a_Position.y;
    // \u8BA1\u7B97\u8D77\u59CB\u70B9\u548C\u7EC8\u6B62\u70B9\u7684\u8DDD\u79BB
    float lnglatLength = length(a_Instance.rg - a_Instance.ba)/50.0;
    // \u8BA1\u7B97\u98DE\u7EBF\u5404\u4E2A\u8282\u70B9\u76F8\u5E94\u7684\u9AD8\u5EA6
    float lineHeight = u_global_height * (-4.0*segmentRatio*segmentRatio + 4.0 * segmentRatio) * lnglatLength;
    // \u5730\u7403\u70B9\u4F4D
    vec3 globalPoint = normalize(mix(startLngLat, endLngLat, segmentRatio)) * (globalRadius + lineHeight) + lnglatOffset * a_Size;
    
    gl_Position = u_ViewProjectionMatrix * vec4(globalPoint, 1.0);
  }
 

  setPickingColor(a_PickingColor);
}
`,Vf={solid:0,dash:1},Gc=function(x){oe()(L,x);var j=Gl(L);function L(){var R;T()(this,L);for(var N=arguments.length,W=new Array(N),he=0;he<N;he++)W[he]=arguments[he];return R=j.call.apply(j,[this].concat(W)),I()(k()(R),"texture",void 0),I()(k()(R),"updateTexture",function(){var $e=R.rendererService.createTexture2D;if(R.texture){R.texture.update({data:R.iconService.getCanvas()}),R.layer.render();return}R.texture=$e({data:R.iconService.getCanvas(),mag:M.gl.NEAREST,min:M.gl.NEAREST,premultiplyAlpha:!1,width:1024,height:R.iconService.canvasHeight||128})}),R}return u()(L,[{key:"getUninforms",value:function(){var N=this.layer.getLayerConfig(),W=N.opacity,he=N.sourceColor,$e=N.targetColor,st=N.textureBlend,Yt=st===void 0?"normal":st,hr=N.lineType,yr=hr===void 0?"solid":hr,Zr=N.dashArray,on=Zr===void 0?[10,5]:Zr,ca=N.lineTexture,Ra=ca===void 0?!1:ca,Ga=N.iconStep,Ji=Ga===void 0?100:Ga,go=N.segmentNumber,jo=go===void 0?30:go,Mo=N.globalArcHeight,$i=Mo===void 0?10:Mo;on.length===2&&on.push(0,0);var Ho=0,Ta=[0,0,0,0],Rs=[0,0,0,0];if(he&&$e&&(Ta=Object(yt.s)(he),Rs=Object(yt.s)($e),Ho=1),this.rendererService.getDirty()&&this.texture.bind(),this.dataTextureTest&&this.dataTextureNeedUpdate({opacity:W})){this.judgeStyleAttributes({opacity:W});var hi=this.layer.getEncodedData(),Sl=this.calDataFrame(this.cellLength,hi,this.cellProperties),fo=Sl.data,ou=Sl.width,Fs=Sl.height;this.rowCount=Fs,this.dataTexture=this.cellLength>0&&fo.length>0?this.createTexture2D({flipY:!0,data:fo,format:M.gl.LUMINANCE,type:M.gl.FLOAT,width:ou,height:Fs}):this.createTexture2D({flipY:!0,data:[1],format:M.gl.LUMINANCE,type:M.gl.FLOAT,width:1,height:1})}return{u_globel:this.mapService.version==="GLOBEL"?1:0,u_globel_radius:rt,u_global_height:$i,u_dataTexture:this.dataTexture,u_cellTypeLayout:this.getCellTypeLayout(),u_opacity:Ke()(W)?W:1,u_textureBlend:Yt==="normal"?0:1,segmentNumber:jo,u_line_type:Vf[yr]||0,u_dash_array:on,u_texture:this.texture,u_line_texture:Ra?1:0,u_icon_step:Ji,u_textSize:[1024,this.iconService.canvasHeight||128],u_linearColor:Ho,u_sourceColor:Ta,u_targetColor:Rs}}},{key:"getAnimateUniforms",value:function(){var N=this.layer.getLayerConfig(),W=N.animateOption;return{u_aimate:this.animateOption2Array(W),u_time:this.layer.getLayerAnimateTime()}}},{key:"initModels",value:function(){return this.updateTexture(),this.iconService.on("imageUpdate",this.updateTexture),this.buildModels()}},{key:"clearModels",value:function(){var N,W;(N=this.texture)===null||N===void 0||N.destroy(),(W=this.dataTexture)===null||W===void 0||W.destroy(),this.iconService.off("imageUpdate",this.updateTexture)}},{key:"buildModels",value:function(){var N=this.layer.getLayerConfig(),W=N.segmentNumber,he=W===void 0?30:W;return[this.layer.buildLayerModel({moduleName:"arc3Dline",vertexShader:pd,fragmentShader:mc,triangulation:Ba,blend:this.getBlend(),segmentNumber:he})]}},{key:"registerBuiltinAttributes",value:function(){var N=this;this.styleAttributeService.registerStyleAttribute({name:"size",type:M.AttributeType.Attribute,descriptor:{name:"a_Size",buffer:{usage:M.gl.DYNAMIC_DRAW,data:[],type:M.gl.FLOAT},size:1,update:function(he,$e,st,Yt){var hr=he.size,yr=hr===void 0?1:hr;return Array.isArray(yr)?[yr[0]]:[yr]}}}),this.styleAttributeService.registerStyleAttribute({name:"instance",type:M.AttributeType.Attribute,descriptor:{name:"a_Instance",buffer:{usage:M.gl.STATIC_DRAW,data:[],type:M.gl.FLOAT},size:4,update:function(he,$e,st,Yt){return[st[3],st[4],st[5],st[6]]}}}),this.styleAttributeService.registerStyleAttribute({name:"uv",type:M.AttributeType.Attribute,descriptor:{name:"a_iconMapUV",buffer:{usage:M.gl.DYNAMIC_DRAW,data:[],type:M.gl.FLOAT},size:2,update:function(he,$e,st,Yt){var hr=N.iconService.getIconMap(),yr=he.texture,Zr=hr[yr]||{x:0,y:0},on=Zr.x,ca=Zr.y;return[on,ca]}}})}}]),L}(it);function vd(x){var j=Ll();return function(){var R=ve()(x),N;if(j){var W=ve()(this).constructor;N=Reflect.construct(R,arguments,W)}else N=R.apply(this,arguments);return Te()(this,N)}}function Ll(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(x){return!1}}var Yd=`#define LineTypeSolid 0.0
#define LineTypeDash 1.0
#define Animate 0.0
#define LineTexture 1.0

uniform float u_opacity;
uniform float u_textureBlend;
uniform float u_blur : 0.9;
uniform float u_line_type: 0.0;
// varying vec2 v_normal;
varying vec4 v_dash_array;
varying float v_distance_ratio;
varying vec4 v_color;

uniform float u_time;
uniform vec4 u_aimate: [ 0, 2., 1.0, 0.2 ];

uniform float u_line_texture: 0.0;
uniform sampler2D u_texture;
uniform vec2 u_textSize;
uniform float segmentNumber;

varying vec4 v_dataset; // \u6570\u636E\u96C6

varying vec2 v_iconMapUV;

uniform float u_linearColor: 0;
uniform vec4 u_sourceColor;
uniform vec4 u_targetColor;

varying mat4 styleMappingMat;

#pragma include "picking"
#pragma include "project"
#pragma include "projection"

void main() {
  float opacity = styleMappingMat[0][0];
  float animateSpeed = 0.0;
  float d_segmentIndex = v_dataset.g;
  
  // \u8BBE\u7F6E\u5F27\u7EBF\u7684\u5E95\u8272
  if(u_linearColor == 1.0) { // \u4F7F\u7528\u6E10\u53D8\u989C\u8272
    gl_FragColor = mix(u_sourceColor, u_targetColor, d_segmentIndex/segmentNumber);
  } else { // \u4F7F\u7528 color \u65B9\u6CD5\u4F20\u5165\u7684\u989C\u8272
     gl_FragColor = v_color;
  }

  // float blur = 1.- smoothstep(u_blur, 1., length(v_normal.xy));
  // float blur = smoothstep(1.0, u_blur, length(v_normal.xy));
  gl_FragColor.a *= opacity;
  if(u_line_type == LineTypeDash) {
   float flag = 0.;
    float dashLength = mod(v_distance_ratio, v_dash_array.x + v_dash_array.y + v_dash_array.z + v_dash_array.w);
    if(dashLength < v_dash_array.x || (dashLength > (v_dash_array.x + v_dash_array.y) && dashLength <  v_dash_array.x + v_dash_array.y + v_dash_array.z)) {
      flag = 1.;
    }
    gl_FragColor.a *=flag;
  }

  // \u8BBE\u7F6E\u5F27\u7EBF\u7684\u52A8\u753B\u6A21\u5F0F
  if(u_aimate.x == Animate) {
      animateSpeed = u_time / u_aimate.y;
      float alpha =1.0 - fract( mod(1.0- smoothstep(0.0, 1.0, v_distance_ratio), u_aimate.z)* (1.0/ u_aimate.z) + u_time / u_aimate.y);
      alpha = (alpha + u_aimate.w -1.0) / u_aimate.w;
      alpha = smoothstep(0., 1., alpha);
      gl_FragColor.a *= alpha;
  }

  // \u8BBE\u7F6E\u5F27\u7EBF\u7684\u8D34\u56FE
  if(LineTexture == u_line_texture && u_line_type != LineTypeDash) { 
    float arcRadio = smoothstep( 0.0, 1.0, (d_segmentIndex / (segmentNumber - 1.0)));
    // float arcRadio = d_segmentIndex / (segmentNumber - 1.0);
    float count = v_dataset.b; // \u8D34\u56FE\u5728\u5F27\u7EBF\u4E0A\u91CD\u590D\u7684\u6570\u91CF
    float u = fract(arcRadio * count - animateSpeed * count);
    // float u = fract(arcRadio * count - animateSpeed);
    if(u_aimate.x == Animate) {
      u = gl_FragColor.a/opacity;
    }

    float v = v_dataset.a; // \u7EBF\u56FE\u5C42\u8D34\u56FE\u90E8\u5206\u7684 v \u5750\u6807\u503C

    vec2 uv= v_iconMapUV / u_textSize + vec2(u, v) / u_textSize * 64.;
    vec4 pattern = texture2D(u_texture, uv);
    
    // \u8BBE\u7F6E\u8D34\u56FE\u548C\u5E95\u8272\u7684\u53E0\u52A0\u6A21\u5F0F
    if(u_textureBlend == 0.0) { // normal
      pattern.a = 0.0;
      gl_FragColor = filterColor(gl_FragColor + pattern);
    } else { // replace
        pattern.a *= opacity;
        if(gl_FragColor.a <= 0.0) {
          pattern.a = 0.0;
        }
        gl_FragColor = filterColor(pattern);
    }
  } else {
    gl_FragColor = filterColor(gl_FragColor);
  }

  // gl_FragColor = filterColor(gl_FragColor);
}`,Up=`#define LineTypeSolid 0.0
#define LineTypeDash 1.0
#define Animate 0.0
#define LineTexture 1.0

attribute vec4 a_Color;
attribute vec3 a_Position;
attribute vec4 a_Instance;
attribute float a_Size;
uniform mat4 u_ModelMatrix;
uniform mat4 u_Mvp;
uniform float segmentNumber;
uniform vec4 u_aimate: [ 0, 2., 1.0, 0.2 ];
varying vec4 v_color;
// varying vec2 v_normal;

varying float v_distance_ratio;
uniform float u_line_type: 0.0;
uniform vec4 u_dash_array: [10.0, 5., 0, 0];
varying vec4 v_dash_array;

uniform float u_icon_step: 100;
uniform float u_line_texture: 0.0;

varying vec4 v_dataset; // \u6570\u636E\u96C6

attribute vec2 a_iconMapUV;
varying vec2 v_iconMapUV;

uniform float u_opacity: 1.0;
varying mat4 styleMappingMat; // \u7528\u4E8E\u5C06\u5728\u9876\u70B9\u7740\u8272\u5668\u4E2D\u8BA1\u7B97\u597D\u7684\u6837\u5F0F\u503C\u4F20\u9012\u7ED9\u7247\u5143

#pragma include "styleMapping"
#pragma include "styleMappingCalOpacity"

#pragma include "projection"
#pragma include "project"
#pragma include "picking"

float maps (float value, float start1, float stop1, float start2, float stop2) {
    return start2 + (stop2 - start2) * ((value - start1) / (stop1 - start1));
}

float getSegmentRatio(float index) {
    return smoothstep(0.0, 1.0, index / (segmentNumber - 1.));
}

float paraboloid(vec2 source, vec2 target, float ratio) {
    vec2 x = mix(source, target, ratio);
    vec2 center = mix(source, target, 0.5);
    float dSourceCenter = distance(source, center);
    float dXCenter = distance(x, center);
    return (dSourceCenter + dXCenter) * (dSourceCenter - dXCenter);
}

vec3 getPos(vec2 source, vec2 target, float segmentRatio) {
     float vertex_height = paraboloid(source, target, segmentRatio);

    return vec3(
    mix(source, target, segmentRatio),
    sqrt(max(0.0, vertex_height))
    );
}
vec2 getExtrusionOffset(vec2 line_clipspace, float offset_direction) {
  // normalized direction of the line
  vec2 dir_screenspace = normalize(line_clipspace);
  // rotate by 90 degrees
   dir_screenspace = vec2(-dir_screenspace.y, dir_screenspace.x);
  vec2 offset = dir_screenspace * offset_direction * setPickingSize(a_Size)/ 2.0;
  return offset;
}
vec2 getNormal(vec2 line_clipspace, float offset_direction) {
  // normalized direction of the line
  vec2 dir_screenspace = normalize(line_clipspace);
  // rotate by 90 degrees
   dir_screenspace = vec2(-dir_screenspace.y, dir_screenspace.x);
   return reverse_offset_normal(vec3(dir_screenspace,1.0)).xy * sign(offset_direction);
}
float getAngularDist (vec2 source, vec2 target) {
  vec2 delta = source - target;
  vec2 sin_half_delta = sin(delta / 2.0);
  float a =
    sin_half_delta.y * sin_half_delta.y +
    cos(source.y) * cos(target.y) *
    sin_half_delta.x * sin_half_delta.x;
  return 2.0 * atan(sqrt(a), sqrt(1.0 - a));
}

vec2 midPoint(vec2 source, vec2 target) {
  vec2 center = target - source;
  float r = length(center);
  float theta = atan(center.y, center.x);
  float thetaOffset = 0.314;
  float r2 = r / 2.0 / cos(thetaOffset);
  float theta2 = theta + thetaOffset;
  vec2 mid = vec2(r2*cos(theta2) + source.x, r2*sin(theta2) + source.y);
  return mid;
}
float bezier3(vec3 arr, float t) {
  float ut = 1. - t;
  return (arr.x * ut + arr.y * t) * ut + (arr.y * ut + arr.z * t) * t;
}

vec2 interpolate (vec2 source, vec2 target, float angularDist, float t) {
  // if the angularDist is PI, linear interpolation is applied. otherwise, use spherical interpolation
  if(u_CoordinateSystem == COORDINATE_SYSTEM_P20_2) { // gaode2.x
    vec2 mid = midPoint(source, target);
    vec3 x = vec3(source.x, mid.x, target.x);
    vec3 y = vec3(source.y, mid.y, target.y);
    return vec2(bezier3(x ,t), bezier3(y,t));
  }else {
    if(abs(angularDist - PI) < 0.001) {
      return (1.0 - t) * source + t * target;
    }
    float a = sin((1.0 - t) * angularDist) / sin(angularDist);
    float b = sin(t * angularDist) / sin(angularDist);
    vec2 sin_source = sin(source);
    vec2 cos_source = cos(source);
    vec2 sin_target = sin(target);
    vec2 cos_target = cos(target);
    float x = a * cos_source.y * cos_source.x + b * cos_target.y * cos_target.x;
    float y = a * cos_source.y * sin_source.x + b * cos_target.y * sin_target.x;
    float z = a * sin_source.y + b * sin_target.y;
    return vec2(atan(y, x), atan(z, sqrt(x * x + y * y)));
  }
}

void main() {
  // cal style mapping - \u6570\u636E\u7EB9\u7406\u6620\u5C04\u90E8\u5206\u7684\u8BA1\u7B97
  styleMappingMat = mat4(
    0.0, 0.0, 0.0, 0.0, // opacity - strokeOpacity - strokeWidth - empty
    0.0, 0.0, 0.0, 0.0, // strokeR - strokeG - strokeB - strokeA
    0.0, 0.0, 0.0, 0.0, // offsets[0] - offsets[1]
    0.0, 0.0, 0.0, 0.0
  );

  float rowCount = u_cellTypeLayout[0][0];    // \u5F53\u524D\u7684\u6570\u636E\u7EB9\u7406\u6709\u51E0\u884C
  float columnCount = u_cellTypeLayout[0][1]; // \u5F53\u770B\u5230\u6570\u636E\u7EB9\u7406\u6709\u51E0\u5217
  float columnWidth = 1.0/columnCount;  // \u5217\u5BBD
  float rowHeight = 1.0/rowCount;       // \u884C\u9AD8
  float cellCount = calCellCount(); // opacity - strokeOpacity - strokeWidth - stroke - offsets
  float id = a_vertexId; // \u7B2Cn\u4E2A\u9876\u70B9
  float cellCurrentRow = floor(id * cellCount / columnCount) + 1.0; // \u8D77\u59CB\u70B9\u5728\u7B2C\u51E0\u884C
  float cellCurrentColumn = mod(id * cellCount, columnCount) + 1.0; // \u8D77\u59CB\u70B9\u5728\u7B2C\u51E0\u5217
  
  // cell \u56FA\u5B9A\u987A\u5E8F opacity -> strokeOpacity -> strokeWidth -> stroke ... 
  // \u6309\u987A\u5E8F\u4ECE cell \u4E2D\u53D6\u503C\u3001\u82E5\u6CA1\u6709\u5219\u81EA\u52A8\u5F80\u4E0B\u53D6\u503C
  float textureOffset = 0.0; // \u5728 cell \u4E2D\u53D6\u503C\u7684\u504F\u79FB\u91CF

  vec2 opacityAndOffset = calOpacityAndOffset(cellCurrentRow, cellCurrentColumn, columnCount, textureOffset, columnWidth, rowHeight);
  styleMappingMat[0][0] = opacityAndOffset.r;
  textureOffset = opacityAndOffset.g;
  // cal style mapping - \u6570\u636E\u7EB9\u7406\u6620\u5C04\u90E8\u5206\u7684\u8BA1\u7B97

  v_color = a_Color;
  vec2 source = radians(a_Instance.rg);
  vec2 target = radians(a_Instance.ba);
  float angularDist = getAngularDist(source, target);
  float segmentIndex = a_Position.x;
  float segmentRatio = getSegmentRatio(segmentIndex);
  float indexDir = mix(-1.0, 1.0, step(segmentIndex, 0.0));
  if(u_line_type == LineTypeDash) {
    v_distance_ratio = segmentIndex / segmentNumber;
    vec2 s = source;
    vec2 t = target;
    
    if(u_CoordinateSystem == COORDINATE_SYSTEM_P20_2) { // gaode2.x
      s = unProjCustomCoord(source);
      t = unProjCustomCoord(target);
    }
    float total_Distance = pixelDistance(s, t) / 2.0 * PI;
    total_Distance = total_Distance*8.0;
    // float total_Distance = pixelDistance(a_Instance.rg, a_Instance.ba);
    v_dash_array = pow(2.0, 20.0 - u_Zoom) * u_dash_array / (total_Distance / segmentNumber * segmentIndex);
  }
  if(u_aimate.x == Animate) {
      v_distance_ratio = segmentIndex / segmentNumber;
  }
  float nextSegmentRatio = getSegmentRatio(segmentIndex + indexDir);
  v_distance_ratio = segmentIndex / segmentNumber;
  vec4 curr = project_position(vec4(degrees(interpolate(source, target, angularDist, segmentRatio)), 0.0, 1.0));
  vec4 next = project_position(vec4(degrees(interpolate(source, target, angularDist, nextSegmentRatio)), 0.0, 1.0));
  // v_normal = getNormal((next.xy - curr.xy) * indexDir, a_Position.y);
  vec2 offset = project_pixel(getExtrusionOffset((next.xy - curr.xy) * indexDir, a_Position.y));
  //  vec4 project_pos = project_position(vec4(curr.xy, 0, 1.0));
  // gl_Position = project_common_position_to_clipspace(vec4(curr.xy + offset, curr.z, 1.0));

  v_dataset.g = a_Position.x; // \u8BE5\u9876\u70B9\u5728\u5F27\u7EBF\u4E0A\u7684\u5206\u6BB5\u6392\u5E8F
  if(LineTexture == u_line_texture) { // \u5F00\u542F\u8D34\u56FE\u6A21\u5F0F  
    // float mapZoomScale = u_CoordinateSystem !== COORDINATE_SYSTEM_P20_2?10000000.0:1.0;
    float d_arcDistrance = length(source - target);
    if(u_CoordinateSystem == COORDINATE_SYSTEM_P20) { // amap
      d_arcDistrance = d_arcDistrance * 1000000.0;
    }
    if(u_CoordinateSystem == COORDINATE_SYSTEM_LNGLAT || u_CoordinateSystem == COORDINATE_SYSTEM_LNGLAT_OFFSET) { // mapbox
      d_arcDistrance = project_pixel_allmap(d_arcDistrance);
    }
    float d_pixelLen = project_pixel(u_icon_step)/8.0;
    v_dataset.b = floor(d_arcDistrance/d_pixelLen); // \u8D34\u56FE\u5728\u5F27\u7EBF\u4E0A\u91CD\u590D\u7684\u6570\u91CF

    float lineOffsetWidth = length(offset + offset * sign(a_Position.y)); // \u7EBF\u6A2A\u5411\u504F\u79FB\u7684\u8DDD\u79BB
    float linePixelSize = project_pixel(a_Size);  // \u5B9A\u70B9\u4F4D\u7F6E\u504F\u79FB\uFF0C\u6309\u5730\u56FE\u7B49\u7EA7\u7F29\u653E\u540E\u7684\u8DDD\u79BB
    v_dataset.a = lineOffsetWidth/linePixelSize;  // \u7EBF\u56FE\u5C42\u8D34\u56FE\u90E8\u5206\u7684 v \u5750\u6807\u503C

    v_iconMapUV = a_iconMapUV;
  }

  if(u_CoordinateSystem == COORDINATE_SYSTEM_P20_2) { // gaode2.x
    gl_Position = u_Mvp * (vec4(curr.xy + offset, curr.z, 1.0));
  } else {
    gl_Position = project_common_position_to_clipspace(vec4(curr.xy + offset, curr.z, 1.0));
  }
  setPickingColor(a_PickingColor);
}

`,$d={solid:0,dash:1},uc=function(x){oe()(L,x);var j=vd(L);function L(){var R;T()(this,L);for(var N=arguments.length,W=new Array(N),he=0;he<N;he++)W[he]=arguments[he];return R=j.call.apply(j,[this].concat(W)),I()(k()(R),"texture",void 0),I()(k()(R),"updateTexture",function(){var $e=R.rendererService.createTexture2D;if(R.texture){R.texture.update({data:R.iconService.getCanvas()}),R.layer.render();return}R.texture=$e({data:R.iconService.getCanvas(),mag:M.gl.NEAREST,min:M.gl.NEAREST,premultiplyAlpha:!1,width:1024,height:R.iconService.canvasHeight||128})}),R}return u()(L,[{key:"getUninforms",value:function(){var N=this.layer.getLayerConfig(),W=N.opacity,he=N.sourceColor,$e=N.targetColor,st=N.textureBlend,Yt=st===void 0?"normal":st,hr=N.lineType,yr=hr===void 0?"solid":hr,Zr=N.dashArray,on=Zr===void 0?[10,5]:Zr,ca=N.lineTexture,Ra=ca===void 0?!1:ca,Ga=N.iconStep,Ji=Ga===void 0?100:Ga,go=N.segmentNumber,jo=go===void 0?30:go;on.length===2&&on.push(0,0),this.rendererService.getDirty()&&this.texture.bind();var Mo=0,$i=[0,0,0,0],Ho=[0,0,0,0];if(he&&$e&&($i=Object(yt.s)(he),Ho=Object(yt.s)($e),Mo=1),this.dataTextureTest&&this.dataTextureNeedUpdate({opacity:W})){this.judgeStyleAttributes({opacity:W});var Ta=this.layer.getEncodedData(),Rs=this.calDataFrame(this.cellLength,Ta,this.cellProperties),hi=Rs.data,Sl=Rs.width,fo=Rs.height;this.rowCount=fo,this.dataTexture=this.cellLength>0&&hi.length>0?this.createTexture2D({flipY:!0,data:hi,format:M.gl.LUMINANCE,type:M.gl.FLOAT,width:Sl,height:fo}):this.createTexture2D({flipY:!0,data:[1],format:M.gl.LUMINANCE,type:M.gl.FLOAT,width:1,height:1})}return{u_dataTexture:this.dataTexture,u_cellTypeLayout:this.getCellTypeLayout(),u_opacity:Ke()(W)?W:1,u_textureBlend:Yt==="normal"?0:1,segmentNumber:jo,u_line_type:$d[yr]||0,u_dash_array:on,u_texture:this.texture,u_line_texture:Ra?1:0,u_icon_step:Ji,u_textSize:[1024,this.iconService.canvasHeight||128],u_linearColor:Mo,u_sourceColor:$i,u_targetColor:Ho}}},{key:"getAnimateUniforms",value:function(){var N=this.layer.getLayerConfig(),W=N.animateOption;return{u_aimate:this.animateOption2Array(W),u_time:this.layer.getLayerAnimateTime()}}},{key:"initModels",value:function(){return this.updateTexture(),this.iconService.on("imageUpdate",this.updateTexture),this.buildModels()}},{key:"clearModels",value:function(){var N,W;(N=this.texture)===null||N===void 0||N.destroy(),(W=this.dataTexture)===null||W===void 0||W.destroy(),this.iconService.off("imageUpdate",this.updateTexture)}},{key:"buildModels",value:function(){return[this.layer.buildLayerModel({moduleName:"arc2dline",vertexShader:Up,fragmentShader:Yd,triangulation:Ba,depth:{enable:!1},blend:this.getBlend()})]}},{key:"registerBuiltinAttributes",value:function(){var N=this;this.styleAttributeService.registerStyleAttribute({name:"size",type:M.AttributeType.Attribute,descriptor:{name:"a_Size",buffer:{usage:M.gl.DYNAMIC_DRAW,data:[],type:M.gl.FLOAT},size:1,update:function(he,$e,st,Yt){var hr=he.size,yr=hr===void 0?1:hr;return Array.isArray(yr)?[yr[0]]:[yr]}}}),this.styleAttributeService.registerStyleAttribute({name:"instance",type:M.AttributeType.Attribute,descriptor:{name:"a_Instance",buffer:{usage:M.gl.STATIC_DRAW,data:[],type:M.gl.FLOAT},size:4,update:function(he,$e,st,Yt){return[st[3],st[4],st[5],st[6]]}}}),this.styleAttributeService.registerStyleAttribute({name:"uv",type:M.AttributeType.Attribute,descriptor:{name:"a_iconMapUV",buffer:{usage:M.gl.DYNAMIC_DRAW,data:[],type:M.gl.FLOAT},size:2,update:function(he,$e,st,Yt){var hr=N.iconService.getIconMap(),yr=he.texture,Zr=hr[yr]||{x:0,y:0},on=Zr.x,ca=Zr.y;return[on,ca]}}})}}]),L}(it);function sv(x){var j=Vp();return function(){var R=ve()(x),N;if(j){var W=ve()(this).constructor;N=Reflect.construct(R,arguments,W)}else N=R.apply(this,arguments);return Te()(this,N)}}function Vp(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(x){return!1}}var wc=`#define LineTypeSolid 0.0
#define LineTypeDash 1.0
#define Animate 0.0
#define LineTexture 1.0
uniform float u_blur : 0.99;
uniform float u_line_type: 0.0;
uniform float u_opacity : 1.0;
uniform float u_textureBlend;
varying vec4 v_color;
varying vec2 v_normal;

// line texture
uniform float u_line_texture;
uniform sampler2D u_texture;
uniform vec2 u_textSize;

// dash
uniform float u_dash_offset : 0.0;
uniform float u_dash_ratio : 0.1;
varying vec4 v_dash_array;

varying vec4 v_dataset; // \u6570\u636E\u96C6 - distance_ratio/distance/pixelLen/texV

varying vec2 v_iconMapUV;

uniform float u_linearColor: 0;
uniform vec4 u_sourceColor;
uniform vec4 u_targetColor;

#pragma include "picking"

uniform float u_time;
uniform vec4 u_aimate: [ 0, 2., 1.0, 0.2 ]; // \u63A7\u5236\u8FD0\u52A8

varying mat4 styleMappingMat;
// [animate, duration, interval, trailLength],
void main() {
  float opacity = styleMappingMat[0][0];
  float animateSpeed = 0.0; // \u8FD0\u52A8\u901F\u5EA6
  float d_distance_ratio = v_dataset.r; // \u5F53\u524D\u70B9\u4F4D\u8DDD\u79BB\u5360\u7EBF\u603B\u957F\u7684\u6BD4\u4F8B

  if(u_linearColor == 1.0) { // \u4F7F\u7528\u6E10\u53D8\u989C\u8272
    gl_FragColor = mix(u_sourceColor, u_targetColor, d_distance_ratio);
  } else { // \u4F7F\u7528 color \u65B9\u6CD5\u4F20\u5165\u7684\u989C\u8272
     gl_FragColor = v_color;
  }

  // anti-alias
  // float blur = 1.0 - smoothstep(u_blur, 1., length(v_normal.xy));
  gl_FragColor.a *= opacity; // \u5168\u5C40\u900F\u660E\u5EA6
  if(u_aimate.x == Animate) {
      animateSpeed = u_time / u_aimate.y;
       float alpha =1.0 - fract( mod(1.0- d_distance_ratio, u_aimate.z)* (1.0/ u_aimate.z) + animateSpeed);
      alpha = (alpha + u_aimate.w -1.0) / u_aimate.w;
      alpha = smoothstep(0., 1., alpha);
      gl_FragColor.a *= alpha;
  }
 // dash line
  if(u_line_type == LineTypeDash) {
    float flag = 0.;
    float dashLength = mod(d_distance_ratio, v_dash_array.x + v_dash_array.y + v_dash_array.z + v_dash_array.w);
    if(dashLength < v_dash_array.x || (dashLength > (v_dash_array.x + v_dash_array.y) && dashLength <  v_dash_array.x + v_dash_array.y + v_dash_array.z)) {
      flag = 1.;
    }
    gl_FragColor.a *=flag;
  }

  if(u_line_texture == LineTexture && u_line_type != LineTypeDash) { // while load texture
    float aDistance = v_dataset.g;      // \u5F53\u524D\u9876\u70B9\u7684\u8DDD\u79BB
    float d_texPixelLen = v_dataset.b;  // \u8D34\u56FE\u7684\u50CF\u7D20\u957F\u5EA6\uFF0C\u6839\u636E\u5730\u56FE\u5C42\u7EA7\u7F29\u653E
    float u = fract(mod(aDistance, d_texPixelLen)/d_texPixelLen - animateSpeed);
    float v = v_dataset.a;  // \u7EBF\u56FE\u5C42\u8D34\u56FE\u90E8\u5206\u7684 v \u5750\u6807\u503C

    v = max(smoothstep(0.95, 1.0, v), v);
    vec2 uv= v_iconMapUV / u_textSize + vec2(u, v) / u_textSize * 64.;
    // gl_FragColor = filterColor(gl_FragColor + texture2D(u_texture, vec2(u, v)));
    // gl_FragColor = filterColor(gl_FragColor + texture2D(u_texture, uv));
     vec4 pattern = texture2D(u_texture, uv);

    if(u_textureBlend == 0.0) { // normal
      pattern.a = 0.0;
      gl_FragColor = filterColor(gl_FragColor + pattern);
    } else { // replace
        pattern.a *= opacity;
        if(gl_FragColor.a <= 0.0) {
          pattern.a = 0.0;
        }
        gl_FragColor = filterColor(pattern);
    }
  } else {
    gl_FragColor = filterColor(gl_FragColor);
  }
  // gl_FragColor = filterColor(vec4(1.0, 0.0, 0.0, 1.0));
 
  // if(rV < r || rV > 1.0 - r) {
  //   gl_FragColor = vec4(1.0, 0.0, 0.0, 1.0);
  // } 
  // if(v > 0.9) {
  //   gl_FragColor = vec4(0.17647, 0.43921568, 0.2, 1.0);
  // } else if(v < 0.1) {
  //   gl_FragColor = vec4(0.17647, 0.43921568, 0.2, 1.0);
  // }

  // gl_FragColor = filterColor(gl_FragColor);
}
`,Xf=`#define LineTypeSolid 0.0
#define LineTypeDash 1.0
#define Animate 0.0

attribute float a_Miter;
attribute vec4 a_Color;
attribute vec2 a_Size;
attribute vec3 a_Normal;
attribute vec3 a_Position;

attribute vec2 a_iconMapUV;

// dash line
attribute float a_Total_Distance;
attribute float a_Distance;

uniform mat4 u_ModelMatrix;
uniform mat4 u_Mvp;
uniform float u_line_type: 0.0;
uniform vec4 u_dash_array: [10.0, 5., 0, 0];
uniform vec4 u_aimate: [ 0, 2., 1.0, 0.2 ];
uniform float u_icon_step: 100;

#pragma include "projection"
#pragma include "picking"

varying vec4 v_color;
varying vec4 v_dash_array;
varying vec2 v_normal;

varying vec4 v_dataset; // \u6570\u636E\u96C6 - distance_ratio/distance/pixelLen/texV
// texV \u7EBF\u56FE\u5C42 - \u8D34\u56FE\u90E8\u5206\u7684 v \u5750\u6807\uFF08\u7EBF\u7684\u5BBD\u5EA6\u65B9\u5411\uFF09
varying vec2 v_iconMapUV;
uniform float u_linearColor: 0;

uniform float u_opacity: 1.0;
varying mat4 styleMappingMat; // \u7528\u4E8E\u5C06\u5728\u9876\u70B9\u7740\u8272\u5668\u4E2D\u8BA1\u7B97\u597D\u7684\u6837\u5F0F\u503C\u4F20\u9012\u7ED9\u7247\u5143

#pragma include "styleMapping"
#pragma include "styleMappingCalOpacity"

void main() {
  // cal style mapping - \u6570\u636E\u7EB9\u7406\u6620\u5C04\u90E8\u5206\u7684\u8BA1\u7B97
  styleMappingMat = mat4(
    0.0, 0.0, 0.0, 0.0, // opacity - strokeOpacity - strokeWidth - empty
    0.0, 0.0, 0.0, 0.0, // strokeR - strokeG - strokeB - strokeA
    0.0, 0.0, 0.0, 0.0, // offsets[0] - offsets[1]
    0.0, 0.0, 0.0, 0.0
  );

  float rowCount = u_cellTypeLayout[0][0];    // \u5F53\u524D\u7684\u6570\u636E\u7EB9\u7406\u6709\u51E0\u884C
  float columnCount = u_cellTypeLayout[0][1]; // \u5F53\u770B\u5230\u6570\u636E\u7EB9\u7406\u6709\u51E0\u5217
  float columnWidth = 1.0/columnCount;  // \u5217\u5BBD
  float rowHeight = 1.0/rowCount;       // \u884C\u9AD8
  float cellCount = calCellCount(); // opacity - strokeOpacity - strokeWidth - stroke - offsets
  float id = a_vertexId; // \u7B2Cn\u4E2A\u9876\u70B9
  float cellCurrentRow = floor(id * cellCount / columnCount) + 1.0; // \u8D77\u59CB\u70B9\u5728\u7B2C\u51E0\u884C
  float cellCurrentColumn = mod(id * cellCount, columnCount) + 1.0; // \u8D77\u59CB\u70B9\u5728\u7B2C\u51E0\u5217
  
  // cell \u56FA\u5B9A\u987A\u5E8F opacity -> strokeOpacity -> strokeWidth -> stroke ... 
  // \u6309\u987A\u5E8F\u4ECE cell \u4E2D\u53D6\u503C\u3001\u82E5\u6CA1\u6709\u5219\u81EA\u52A8\u5F80\u4E0B\u53D6\u503C
  float textureOffset = 0.0; // \u5728 cell \u4E2D\u53D6\u503C\u7684\u504F\u79FB\u91CF

  vec2 opacityAndOffset = calOpacityAndOffset(cellCurrentRow, cellCurrentColumn, columnCount, textureOffset, columnWidth, rowHeight);
  styleMappingMat[0][0] = opacityAndOffset.r;
  textureOffset = opacityAndOffset.g;
  // cal style mapping - \u6570\u636E\u7EB9\u7406\u6620\u5C04\u90E8\u5206\u7684\u8BA1\u7B97

  float d_distance_ratio; // \u5F53\u524D\u70B9\u4F4D\u8DDD\u79BB\u5360\u7EBF\u603B\u957F\u7684\u6BD4\u4F8B
  float d_texPixelLen;    // \u8D34\u56FE\u7684\u50CF\u7D20\u957F\u5EA6\uFF0C\u6839\u636E\u5730\u56FE\u5C42\u7EA7\u7F29\u653E

  v_iconMapUV = a_iconMapUV;
  d_texPixelLen = project_pixel(u_icon_step);
  if(u_CoordinateSystem == COORDINATE_SYSTEM_P20_2) {
    d_texPixelLen *= 10.0;
  }

  if(u_line_type == LineTypeDash) {
    d_distance_ratio = a_Distance / a_Total_Distance;
    v_dash_array = pow(2.0, 20.0 - u_Zoom) * u_dash_array / a_Total_Distance;
  }
  if(u_aimate.x == Animate || u_linearColor == 1.0) {
      d_distance_ratio = a_Distance / a_Total_Distance;
  }
  v_normal = vec2(reverse_offset_normal(a_Normal) * sign(a_Miter));


  v_color = a_Color;

  vec3 size = a_Miter * setPickingSize(a_Size.x) * reverse_offset_normal(a_Normal);

  vec2 offset = project_pixel(size.xy);

  float lineOffsetWidth = length(offset + offset * sign(a_Miter)); // \u7EBF\u6A2A\u5411\u504F\u79FB\u7684\u8DDD\u79BB\uFF08\u5411\u4E24\u4FA7\u504F\u79FB\u7684\u548C\uFF09
  float linePixelSize = project_pixel(a_Size.x) * 2.0;  // \u5B9A\u70B9\u4F4D\u7F6E\u504F\u79FB\uFF0C\u6309\u5730\u56FE\u7B49\u7EA7\u7F29\u653E\u540E\u7684\u8DDD\u79BB \u5355\u4FA7 * 2
  float texV = lineOffsetWidth/linePixelSize; // \u7EBF\u56FE\u5C42\u8D34\u56FE\u90E8\u5206\u7684 v \u5750\u6807\u503C

  // \u8BBE\u7F6E\u6570\u636E\u96C6\u7684\u53C2\u6570
  v_dataset.r = d_distance_ratio; // \u5F53\u524D\u70B9\u4F4D\u8DDD\u79BB\u5360\u7EBF\u603B\u957F\u7684\u6BD4\u4F8B
  v_dataset.g = a_Distance;       // \u5F53\u524D\u9876\u70B9\u7684\u8DDD\u79BB
  v_dataset.b = d_texPixelLen;    // \u8D34\u56FE\u7684\u50CF\u7D20\u957F\u5EA6\uFF0C\u6839\u636E\u5730\u56FE\u5C42\u7EA7\u7F29\u653E
  v_dataset.a = texV;             // \u7EBF\u56FE\u5C42\u8D34\u56FE\u90E8\u5206\u7684 v \u5750\u6807\u503C

  vec4 project_pos = project_position(vec4(a_Position.xy, 0, 1.0));

  // gl_Position = project_common_position_to_clipspace(vec4(project_pos.xy + offset, a_Size.y, 1.0));

  if(u_CoordinateSystem == COORDINATE_SYSTEM_P20_2) { // gaode2.x
    // gl_Position = u_Mvp * (vec4(project_pos.xy + offset, a_Size.y, 1.0));
    gl_Position = u_Mvp * (vec4(project_pos.xy + offset, a_Size.y / 8.0, 1.0)); // \u989D\u5916\u9664 8.0 \u662F\u4E3A\u4E86\u548Cgaode1.x\u7684\u9AD8\u5EA6\u517C\u5BB9
  } else {
    float lineHeight = a_Size.y;
    // \u517C\u5BB9 mapbox \u5728\u7EBF\u9AD8\u5EA6\u4E0A\u7684\u6548\u679C\u8868\u73B0\u57FA\u672C\u4E00\u81F4
    if(u_CoordinateSystem == COORDINATE_SYSTEM_LNGLAT || u_CoordinateSystem == COORDINATE_SYSTEM_LNGLAT_OFFSET) {
      lineHeight = lineHeight*2.0/pow(2.0, 20.0 - u_Zoom);
    }
    gl_Position = project_common_position_to_clipspace(vec4(project_pos.xy + offset, lineHeight, 1.0));
  }

  setPickingColor(a_PickingColor);
}
`,Hf={solid:0,dash:1},jd=function(x){oe()(L,x);var j=sv(L);function L(){var R;T()(this,L);for(var N=arguments.length,W=new Array(N),he=0;he<N;he++)W[he]=arguments[he];return R=j.call.apply(j,[this].concat(W)),I()(k()(R),"texture",void 0),I()(k()(R),"updateTexture",function(){var $e=R.rendererService.createTexture2D;if(R.texture){R.texture.update({data:R.iconService.getCanvas()}),R.layer.render();return}R.texture=$e({data:R.iconService.getCanvas(),mag:M.gl.NEAREST,min:M.gl.NEAREST,premultiplyAlpha:!1,width:1024,height:R.iconService.canvasHeight||128})}),R}return u()(L,[{key:"getUninforms",value:function(){var N=this.layer.getLayerConfig(),W=N.opacity,he=N.sourceColor,$e=N.targetColor,st=N.textureBlend,Yt=st===void 0?"normal":st,hr=N.lineType,yr=hr===void 0?"solid":hr,Zr=N.dashArray,on=Zr===void 0?[10,5,0,0]:Zr,ca=N.lineTexture,Ra=ca===void 0?!1:ca,Ga=N.iconStep,Ji=Ga===void 0?100:Ga;on.length===2&&on.push(0,0),this.rendererService.getDirty()&&this.texture.bind();var go=0,jo=[0,0,0,0],Mo=[0,0,0,0];if(he&&$e&&(jo=Object(yt.s)(he),Mo=Object(yt.s)($e),go=1),this.dataTextureTest&&this.dataTextureNeedUpdate({opacity:W})){this.judgeStyleAttributes({opacity:W});var $i=this.layer.getEncodedData(),Ho=this.calDataFrame(this.cellLength,$i,this.cellProperties),Ta=Ho.data,Rs=Ho.width,hi=Ho.height;this.rowCount=hi,this.dataTexture=this.cellLength>0&&Ta.length>0?this.createTexture2D({flipY:!0,data:Ta,format:M.gl.LUMINANCE,type:M.gl.FLOAT,width:Rs,height:hi}):this.createTexture2D({flipY:!0,data:[1],format:M.gl.LUMINANCE,type:M.gl.FLOAT,width:1,height:1})}return{u_dataTexture:this.dataTexture,u_cellTypeLayout:this.getCellTypeLayout(),u_opacity:Ke()(W)?W:1,u_textureBlend:Yt==="normal"?0:1,u_line_type:Hf[yr],u_dash_array:on,u_texture:this.texture,u_line_texture:Ra?1:0,u_icon_step:Ji,u_textSize:[1024,this.iconService.canvasHeight||128],u_linearColor:go,u_sourceColor:jo,u_targetColor:Mo}}},{key:"getAnimateUniforms",value:function(){var N=this.layer.getLayerConfig(),W=N.animateOption;return{u_aimate:this.animateOption2Array(W),u_time:this.layer.getLayerAnimateTime()}}},{key:"initModels",value:function(){return this.updateTexture(),this.iconService.on("imageUpdate",this.updateTexture),this.buildModels()}},{key:"clearModels",value:function(){var N,W;(N=this.texture)===null||N===void 0||N.destroy(),(W=this.dataTexture)===null||W===void 0||W.destroy(),this.iconService.off("imageUpdate",this.updateTexture)}},{key:"buildModels",value:function(){return[this.layer.buildLayerModel({moduleName:"line",vertexShader:Xf,fragmentShader:wc,triangulation:To,primitive:M.gl.TRIANGLES,blend:this.getBlend(),depth:{enable:!1}})]}},{key:"registerBuiltinAttributes",value:function(){var N=this,W=this.layer.getLayerConfig(),he=W.lineType,$e=he===void 0?"solid":he;this.styleAttributeService.registerStyleAttribute({name:"distance",type:M.AttributeType.Attribute,descriptor:{name:"a_Distance",buffer:{usage:M.gl.STATIC_DRAW,data:[],type:M.gl.FLOAT},size:1,update:function(Yt,hr,yr,Zr){return[yr[3]]}}}),this.styleAttributeService.registerStyleAttribute({name:"total_distance",type:M.AttributeType.Attribute,descriptor:{name:"a_Total_Distance",buffer:{usage:M.gl.STATIC_DRAW,data:[],type:M.gl.FLOAT},size:1,update:function(Yt,hr,yr,Zr){return[yr[5]]}}}),this.styleAttributeService.registerStyleAttribute({name:"size",type:M.AttributeType.Attribute,descriptor:{name:"a_Size",buffer:{usage:M.gl.DYNAMIC_DRAW,data:[],type:M.gl.FLOAT},size:2,update:function(Yt,hr,yr,Zr){var on=Yt.size,ca=on===void 0?1:on;return Array.isArray(ca)?[ca[0],ca[1]]:[ca,0]}}}),this.styleAttributeService.registerStyleAttribute({name:"normal",type:M.AttributeType.Attribute,descriptor:{name:"a_Normal",buffer:{usage:M.gl.STATIC_DRAW,data:[],type:M.gl.FLOAT},size:3,update:function(Yt,hr,yr,Zr,on){return on}}}),this.styleAttributeService.registerStyleAttribute({name:"miter",type:M.AttributeType.Attribute,descriptor:{name:"a_Miter",buffer:{usage:M.gl.STATIC_DRAW,data:[],type:M.gl.FLOAT},size:1,update:function(Yt,hr,yr,Zr){return[yr[4]]}}}),this.styleAttributeService.registerStyleAttribute({name:"uv",type:M.AttributeType.Attribute,descriptor:{name:"a_iconMapUV",buffer:{usage:M.gl.DYNAMIC_DRAW,data:[],type:M.gl.FLOAT},size:2,update:function(Yt,hr,yr,Zr){var on=N.iconService.getIconMap(),ca=Yt.texture,Ra=on[ca]||{x:0,y:0},Ga=Ra.x,Ji=Ra.y;return[Ga,Ji]}}})}},{key:"loadImage",value:function(N){return new Promise(function(W,he){if(N instanceof HTMLImageElement){W(N);return}var $e=new Image;$e.crossOrigin="anonymous",$e.onload=function(){W($e)},$e.onerror=function(){he(new Error("Could not load image at "+N))},$e.src=N instanceof File?URL.createObjectURL(N):N})}}]),L}(it),Tc={arc:Sf,arc3d:Gc,greatcircle:uc,line:jd},Qf=Tc;function kd(x){var j=md();return function(){var R=ve()(x),N;if(j){var W=ve()(this).constructor;N=Reflect.construct(R,arguments,W)}else N=R.apply(this,arguments);return Te()(this,N)}}function md(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(x){return!1}}var sf=function(x){oe()(L,x);var j=kd(L);function L(){var R;T()(this,L);for(var N=arguments.length,W=new Array(N),he=0;he<N;he++)W[he]=arguments[he];return R=j.call.apply(j,[this].concat(W)),I()(k()(R),"type","LineLayer"),R}return u()(L,[{key:"buildModels",value:function(){var N=this.getModelType();this.layerModel=new Qf[N](this),this.models=this.layerModel.initModels()}},{key:"rebuildModels",value:function(){this.models=this.layerModel.buildModels()}},{key:"getConfigSchema",value:function(){return{properties:{opacity:{type:"number",minimum:0,maximum:1}}}}},{key:"getDefaultConfig",value:function(){var N=this.getModelType(),W={line:{},arc3d:{blend:"additive"},arc:{blend:"additive"},greatcircle:{blend:"additive"}};return W[N]}},{key:"getModelType",value:function(){var N,W=this.styleAttributeService.getLayerStyleAttribute("shape"),he=W==null||(N=W.scale)===null||N===void 0?void 0:N.field;return he||"line"}}]),L}(Nt);function Xh(x){var j=Id();return function(){var R=ve()(x),N;if(j){var W=ve()(this).constructor;N=Reflect.construct(R,arguments,W)}else N=R.apply(this,arguments);return Te()(this,N)}}function Id(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(x){return!1}}var gp=`varying vec4 v_color;
uniform float u_opacity: 1.0;

#pragma include "picking"

varying mat4 styleMappingMat; // \u4F20\u9012\u4ECE\u7247\u5143\u4E2D\u4F20\u9012\u7684\u6620\u5C04\u6570\u636E

void main() {
  float opacity = styleMappingMat[0][0];
  gl_FragColor = v_color;
  // gl_FragColor.a *= u_opacity;
  gl_FragColor.a *= opacity;
  gl_FragColor = filterColor(gl_FragColor);
}
`,Xd=`precision highp float;

#define pi 3.1415926535
#define ambientRatio 0.5
#define diffuseRatio 0.3
#define specularRatio 0.2

attribute vec3 a_Position;
attribute vec3 a_Pos;
attribute vec4 a_Color;
attribute vec3 a_Size;
attribute vec3 a_Normal;

uniform float u_globel;
uniform mat4 u_ModelMatrix;
uniform mat4 u_Mvp;
varying vec4 v_color;

uniform float u_opacity : 1;

varying mat4 styleMappingMat; // \u7528\u4E8E\u5C06\u5728\u9876\u70B9\u7740\u8272\u5668\u4E2D\u8BA1\u7B97\u597D\u7684\u6837\u5F0F\u503C\u4F20\u9012\u7ED9\u7247\u5143

#pragma include "styleMapping"
#pragma include "styleMappingCalOpacity"

#pragma include "projection"
#pragma include "light"
#pragma include "picking"

float getYRadian(float x, float z) {
  if(x > 0.0 && z > 0.0) {
    return atan(x/z);
  } else if(x > 0.0 && z <= 0.0){
    return atan(-z/x) + pi/2.0;
  } else if(x <= 0.0 && z <= 0.0) {
    return  pi + atan(x/z); //atan(x/z) + 
  } else {
    return atan(z/-x) + pi*3.0/2.0;
  }
}

float getXRadian(float y, float r) {
  return atan(y/r);
}

void main() {

  // cal style mapping - \u6570\u636E\u7EB9\u7406\u6620\u5C04\u90E8\u5206\u7684\u8BA1\u7B97
  styleMappingMat = mat4(
    0.0, 0.0, 0.0, 0.0, // opacity - strokeOpacity - strokeWidth - empty
    0.0, 0.0, 0.0, 0.0, // strokeR - strokeG - strokeB - strokeA
    0.0, 0.0, 0.0, 0.0, // offsets[0] - offsets[1]
    0.0, 0.0, 0.0, 0.0
  );

  float rowCount = u_cellTypeLayout[0][0];    // \u5F53\u524D\u7684\u6570\u636E\u7EB9\u7406\u6709\u51E0\u884C
  float columnCount = u_cellTypeLayout[0][1]; // \u5F53\u770B\u5230\u6570\u636E\u7EB9\u7406\u6709\u51E0\u5217
  float columnWidth = 1.0/columnCount;  // \u5217\u5BBD
  float rowHeight = 1.0/rowCount;       // \u884C\u9AD8
  float cellCount = calCellCount(); // opacity - strokeOpacity - strokeWidth - stroke - offsets
  float id = a_vertexId; // \u7B2Cn\u4E2A\u9876\u70B9
  float cellCurrentRow = floor(id * cellCount / columnCount) + 1.0; // \u8D77\u59CB\u70B9\u5728\u7B2C\u51E0\u884C
  float cellCurrentColumn = mod(id * cellCount, columnCount) + 1.0; // \u8D77\u59CB\u70B9\u5728\u7B2C\u51E0\u5217
  
  // cell \u56FA\u5B9A\u987A\u5E8F opacity -> strokeOpacity -> strokeWidth -> stroke ... 
  // \u6309\u987A\u5E8F\u4ECE cell \u4E2D\u53D6\u503C\u3001\u82E5\u6CA1\u6709\u5219\u81EA\u52A8\u5F80\u4E0B\u53D6\u503C
  float textureOffset = 0.0; // \u5728 cell \u4E2D\u53D6\u503C\u7684\u504F\u79FB\u91CF

  vec2 opacityAndOffset = calOpacityAndOffset(cellCurrentRow, cellCurrentColumn, columnCount, textureOffset, columnWidth, rowHeight);
  styleMappingMat[0][0] = opacityAndOffset.r;
  textureOffset = opacityAndOffset.g;
  // cal style mapping - \u6570\u636E\u7EB9\u7406\u6620\u5C04\u90E8\u5206\u7684\u8BA1\u7B97
  vec3 size = a_Size * a_Position;

  vec2 offset = project_pixel(size.xy);

  vec4 project_pos = project_position(vec4(a_Pos.xy, 0., 1.0));

  vec4 pos = vec4(project_pos.xy + offset, project_pixel(size.z), 1.0);

  float lightWeight = calc_lighting(pos);
  v_color =vec4(a_Color.rgb * lightWeight, a_Color.w);

  // gl_Position = project_common_position_to_clipspace(pos);

  if(u_CoordinateSystem == COORDINATE_SYSTEM_P20_2) { // gaode2.x
    gl_Position = u_Mvp * pos;
  } else {
    gl_Position = project_common_position_to_clipspace(pos);
  }
  
  if(u_globel > 0.0) {
    // \u5728\u5730\u7403\u6A21\u5F0F\u4E0B\uFF0C\u5C06\u539F\u672C\u5782\u76F4\u4E8E xy \u5E73\u9762\u7684\u5706\u67F1\u8C03\u6574\u59FF\u6001\u5230\u9002\u5E94\u5706\u7684\u89D2\u5EA6
    //\u65CB\u8F6C\u77E9\u9635mx\uFF0C\u521B\u5EFA\u7ED5x\u8F74\u65CB\u8F6C\u77E9\u9635
    float r = sqrt(a_Pos.z*a_Pos.z + a_Pos.x*a_Pos.x);
    float xRadian = getXRadian(a_Pos.y, r);
    float xcos = cos(xRadian);//\u6C42\u89E3\u65CB\u8F6C\u89D2\u5EA6\u4F59\u5F26\u503C
    float xsin = sin(xRadian);//\u6C42\u89E3\u65CB\u8F6C\u89D2\u5EA6\u6B63\u5F26\u503C
    mat4 mx = mat4(
      1,0,0,0,  
      0,xcos,-xsin,0,  
      0,xsin,xcos,0,  
      0,0,0,1);

    //\u65CB\u8F6C\u77E9\u9635my\uFF0C\u521B\u5EFA\u7ED5y\u8F74\u65CB\u8F6C\u77E9\u9635
    float yRadian = getYRadian(a_Pos.x, a_Pos.z);
    float ycos = cos(yRadian);//\u6C42\u89E3\u65CB\u8F6C\u89D2\u5EA6\u4F59\u5F26\u503C
    float ysin = sin(yRadian);//\u6C42\u89E3\u65CB\u8F6C\u89D2\u5EA6\u6B63\u5F26\u503C
    mat4 my = mat4(
      ycos,0,-ysin,0,  
      0,1,0,0,  
      ysin,0,ycos,0,  
      0,0,0,1);

    gl_Position = u_ViewProjectionMatrix * vec4(( my * mx *  vec4(a_Position * a_Size, 1.0)).xyz + a_Pos, 1.0);
  }

  setPickingColor(a_PickingColor);
}
`,Of=function(x){oe()(L,x);var j=Xh(L);function L(){return T()(this,L),j.apply(this,arguments)}return u()(L,[{key:"getUninforms",value:function(){var N=this.layer.getLayerConfig(),W=N.opacity,he=W===void 0?1:W;if(this.dataTextureTest&&this.dataTextureNeedUpdate({opacity:he})){this.judgeStyleAttributes({opacity:he});var $e=this.layer.getEncodedData(),st=this.calDataFrame(this.cellLength,$e,this.cellProperties),Yt=st.data,hr=st.width,yr=st.height;this.rowCount=yr,this.dataTexture=this.cellLength>0&&Yt.length>0?this.createTexture2D({flipY:!0,data:Yt,format:M.gl.LUMINANCE,type:M.gl.FLOAT,width:hr,height:yr}):this.createTexture2D({flipY:!0,data:[1],format:M.gl.LUMINANCE,type:M.gl.FLOAT,width:1,height:1})}return{u_globel:this.mapService.version==="GLOBEL"?1:0,u_dataTexture:this.dataTexture,u_cellTypeLayout:this.getCellTypeLayout(),u_opacity:Ke()(he)?he:1}}},{key:"initModels",value:function(){return this.buildModels()}},{key:"buildModels",value:function(){return[this.layer.buildLayerModel({moduleName:"pointExtrude2",vertexShader:Xd,fragmentShader:gp,triangulation:pi,blend:this.getBlend()})]}},{key:"clearModels",value:function(){var N;(N=this.dataTexture)===null||N===void 0||N.destroy()}},{key:"registerBuiltinAttributes",value:function(){var N=this.mapService.version==="GLOBEL";this.styleAttributeService.registerStyleAttribute({name:"size",type:M.AttributeType.Attribute,descriptor:{name:"a_Size",buffer:{usage:M.gl.DYNAMIC_DRAW,data:[],type:M.gl.FLOAT},size:3,update:function(he,$e,st,Yt){var hr=he.size;if(hr){var yr=[];return Array.isArray(hr)&&(yr=hr.length===2?[hr[0],hr[0],hr[1]]:hr),Array.isArray(hr)||(yr=[hr,hr,hr]),yr}else return[2,2,2]}}}),this.styleAttributeService.registerStyleAttribute({name:"normal",type:M.AttributeType.Attribute,descriptor:{name:"a_Normal",buffer:{usage:M.gl.STATIC_DRAW,data:[],type:M.gl.FLOAT},size:3,update:function(he,$e,st,Yt,hr){return hr}}}),this.styleAttributeService.registerStyleAttribute({name:"pos",type:M.AttributeType.Attribute,descriptor:{name:"a_Pos",buffer:{usage:M.gl.DYNAMIC_DRAW,data:[],type:M.gl.FLOAT},size:3,update:function(he,$e){var st=Qn(he.coordinates);return N?Oe([st[0],st[1]]):[st[0],st[1],0]}}})}}]),L}(it);function ch(x){var j=Jf();return function(){var R=ve()(x),N;if(j){var W=ve()(this).constructor;N=Reflect.construct(R,arguments,W)}else N=R.apply(this,arguments);return Te()(this,N)}}function Jf(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(x){return!1}}var Bd=`#define Animate 0.0

uniform float u_globel;
uniform float u_blur : 0;
// uniform float u_stroke_width : 1;

varying mat4 styleMappingMat; // \u4F20\u9012\u4ECE\u7247\u5143\u4E2D\u4F20\u9012\u7684\u6620\u5C04\u6570\u636E

varying vec4 v_data;
varying vec4 v_color;
varying float v_radius;
uniform float u_time;
uniform vec4 u_aimate: [ 0, 2., 1.0, 0.2 ];

#pragma include "sdf_2d"
#pragma include "picking"


void main() {
  int shape = int(floor(v_data.w + 0.5));

 
  vec4 textrueStroke = vec4(
    styleMappingMat[1][0],
    styleMappingMat[1][1],
    styleMappingMat[1][2],
    styleMappingMat[1][3]
  );

  float opacity = styleMappingMat[0][0];
  float stroke_opacity = styleMappingMat[0][1];
  float strokeWidth = styleMappingMat[0][2];
  vec4 strokeColor = textrueStroke == vec4(0) ? v_color : textrueStroke;

  lowp float antialiasblur = v_data.z;
  float antialiased_blur = -max(u_blur, antialiasblur);
  // float r = v_radius / (v_radius + u_stroke_width);
  float r = v_radius / (v_radius + strokeWidth);

  float outer_df;
  float inner_df;
  // 'circle', 'triangle', 'square', 'pentagon', 'hexagon', 'octogon', 'hexagram', 'rhombus', 'vesica'
  if (shape == 0) {
    outer_df = sdCircle(v_data.xy, 1.0);
    inner_df = sdCircle(v_data.xy, r);
  } else if (shape == 1) {
    outer_df = sdEquilateralTriangle(1.1 * v_data.xy);
    inner_df = sdEquilateralTriangle(1.1 / r * v_data.xy);
  } else if (shape == 2) {
    outer_df = sdBox(v_data.xy, vec2(1.));
    inner_df = sdBox(v_data.xy, vec2(r));
  } else if (shape == 3) {
    outer_df = sdPentagon(v_data.xy, 0.8);
    inner_df = sdPentagon(v_data.xy, r * 0.8);
  } else if (shape == 4) {
    outer_df = sdHexagon(v_data.xy, 0.8);
    inner_df = sdHexagon(v_data.xy, r * 0.8);
  } else if (shape == 5) {
    outer_df = sdOctogon(v_data.xy, 1.0);
    inner_df = sdOctogon(v_data.xy, r);
  } else if (shape == 6) {
    outer_df = sdHexagram(v_data.xy, 0.52);
    inner_df = sdHexagram(v_data.xy, r * 0.52);
  } else if (shape == 7) {
    outer_df = sdRhombus(v_data.xy, vec2(1.0));
    inner_df = sdRhombus(v_data.xy, vec2(r));
  } else if (shape == 8) {
    outer_df = sdVesica(v_data.xy, 1.1, 0.8);
    inner_df = sdVesica(v_data.xy, r * 1.1, r * 0.8);
  }

  if(u_globel > 0.0) {
    // TODO: \u5730\u7403\u6A21\u5F0F\u4E0B\u907F\u514D\u591A\u4F59\u7247\u5143\u7ED8\u5236\uFF0C\u540C\u65F6\u4E5F\u80FD\u907F\u514D\u6709\u7528\u7247\u5143\u5728\u900F\u660E\u4E14\u91CD\u53E0\u7684\u60C5\u51B5\u4E0B\u65E0\u6CD5\u5199\u5165
    // \u4ED8\u51FA\u7684\u4EE3\u4EF7\u662F\u8FB9\u7F18\u4F1A\u6709\u4E00\u4E9B\u952F\u9F7F
    if(outer_df > antialiased_blur + 0.018) discard;
  }
  float opacity_t = smoothstep(0.0, antialiased_blur, outer_df);
  
 
  // float color_t = u_stroke_width < 0.01 ? 0.0 : smoothstep(
  //   antialiased_blur,
  //   0.0,
  //   inner_df
  // );
   float color_t = strokeWidth < 0.01 ? 0.0 : smoothstep(
    antialiased_blur,
    0.0,
    inner_df
  );
  float PI = 3.14159;
  float N_RINGS = 3.0;
  float FREQ = 1.0;

  gl_FragColor = mix(vec4(v_color.rgb, v_color.a * opacity), strokeColor * stroke_opacity, color_t);

  gl_FragColor.a = gl_FragColor.a * opacity_t;
  if(u_aimate.x == Animate) {
    float d = length(v_data.xy);
    float intensity = clamp(cos(d * PI), 0.0, 1.0) * clamp(cos(2.0 * PI * (d * 2.0 * u_aimate.z - u_aimate.y * u_time)), 0.0, 1.0);
    gl_FragColor = vec4(gl_FragColor.xyz, intensity);
  }

  gl_FragColor = filterColor(gl_FragColor);

  

}
`,fh=`attribute vec4 a_Color;
attribute vec3 a_Position;
attribute vec3 a_Extrude;
attribute float a_Size;
attribute float a_Shape;

varying mat4 styleMappingMat; // \u7528\u4E8E\u5C06\u5728\u9876\u70B9\u7740\u8272\u5668\u4E2D\u8BA1\u7B97\u597D\u7684\u6837\u5F0F\u503C\u4F20\u9012\u7ED9\u7247\u5143

uniform float u_globel;
uniform mat4 u_ModelMatrix;
uniform mat4 u_Mvp;

varying vec4 v_data;
varying vec4 v_color;
varying float v_radius;

uniform float u_opacity : 1;
uniform float u_stroke_opacity : 1;
uniform float u_stroke_width : 2;
uniform vec4 u_stroke_color : [0.0, 0.0, 0.0, 0.0];
uniform vec2 u_offsets;

#pragma include "styleMapping"
#pragma include "styleMappingCalOpacity"
#pragma include "styleMappingCalStrokeOpacity"
#pragma include "styleMappingCalStrokeWidth"

#pragma include "projection"
#pragma include "picking"


void main() {
  vec3 extrude = a_Extrude;
  float shape_type = a_Shape;
  float newSize = setPickingSize(a_Size);

  // cal style mapping - \u6570\u636E\u7EB9\u7406\u6620\u5C04\u90E8\u5206\u7684\u8BA1\u7B97
  styleMappingMat = mat4(
    0.0, 0.0, 0.0, 0.0, // opacity - strokeOpacity - strokeWidth - empty
    0.0, 0.0, 0.0, 0.0, // strokeR - strokeG - strokeB - strokeA
    0.0, 0.0, 0.0, 0.0, // offsets[0] - offsets[1]
    0.0, 0.0, 0.0, 0.0
  );

  float rowCount = u_cellTypeLayout[0][0];    // \u5F53\u524D\u7684\u6570\u636E\u7EB9\u7406\u6709\u51E0\u884C
  float columnCount = u_cellTypeLayout[0][1]; // \u5F53\u770B\u5230\u6570\u636E\u7EB9\u7406\u6709\u51E0\u5217
  float columnWidth = 1.0/columnCount;  // \u5217\u5BBD
  float rowHeight = 1.0/rowCount;       // \u884C\u9AD8
  float cellCount = calCellCount(); // opacity - strokeOpacity - strokeWidth - stroke - offsets
  float id = a_vertexId; // \u7B2Cn\u4E2A\u9876\u70B9
  float cellCurrentRow = floor(id * cellCount / columnCount) + 1.0; // \u8D77\u59CB\u70B9\u5728\u7B2C\u51E0\u884C
  float cellCurrentColumn = mod(id * cellCount, columnCount) + 1.0; // \u8D77\u59CB\u70B9\u5728\u7B2C\u51E0\u5217
  
  // cell \u56FA\u5B9A\u987A\u5E8F opacity -> strokeOpacity -> strokeWidth -> stroke ... 
  // \u6309\u987A\u5E8F\u4ECE cell \u4E2D\u53D6\u503C\u3001\u82E5\u6CA1\u6709\u5219\u81EA\u52A8\u5F80\u4E0B\u53D6\u503C
  float textureOffset = 0.0; // \u5728 cell \u4E2D\u53D6\u503C\u7684\u504F\u79FB\u91CF

  vec2 opacityAndOffset = calOpacityAndOffset(cellCurrentRow, cellCurrentColumn, columnCount, textureOffset, columnWidth, rowHeight);
  styleMappingMat[0][0] = opacityAndOffset.r;
  textureOffset = opacityAndOffset.g;

  vec2 strokeOpacityAndOffset = calStrokeOpacityAndOffset(cellCurrentRow, cellCurrentColumn, columnCount, textureOffset, columnWidth, rowHeight);
  styleMappingMat[0][1] = strokeOpacityAndOffset.r;
  textureOffset = strokeOpacityAndOffset.g;

  vec2 strokeWidthAndOffset = calStrokeWidthAndOffset(cellCurrentRow, cellCurrentColumn, columnCount, textureOffset, columnWidth, rowHeight);
  styleMappingMat[0][2] = strokeWidthAndOffset.r;
  textureOffset = strokeWidthAndOffset.g;

  vec4 textrueStroke = vec4(-1.0, -1.0, -1.0, -1.0);
  if(hasStroke()) {
    vec2 valueRPos = nextPos(cellCurrentRow, cellCurrentColumn, columnCount, textureOffset);
    styleMappingMat[1][0] = pos2value(valueRPos, columnWidth, rowHeight); // R
    textureOffset += 1.0;

    vec2 valueGPos = nextPos(cellCurrentRow, cellCurrentColumn, columnCount, textureOffset);
    styleMappingMat[1][1] = pos2value(valueGPos, columnWidth, rowHeight); // G
    textureOffset += 1.0;

    vec2 valueBPos = nextPos(cellCurrentRow, cellCurrentColumn, columnCount, textureOffset);
    styleMappingMat[1][2] = pos2value(valueBPos, columnWidth, rowHeight); // B
    textureOffset += 1.0;

    vec2 valueAPos = nextPos(cellCurrentRow, cellCurrentColumn, columnCount, textureOffset);
    styleMappingMat[1][3] = pos2value(valueAPos, columnWidth, rowHeight); // A
    textureOffset += 1.0;
  } else {
    if(u_stroke_color == vec4(0.0)) {
      styleMappingMat[1][0] = v_color.r;
      styleMappingMat[1][1] = v_color.g;
      styleMappingMat[1][2] = v_color.b;
      styleMappingMat[1][3] = v_color.a;
    } else {
      styleMappingMat[1][0] = u_stroke_color.r;
      styleMappingMat[1][1] = u_stroke_color.g;
      styleMappingMat[1][2] = u_stroke_color.b;
      styleMappingMat[1][3] = u_stroke_color.a;
    }
  }

  vec2 textrueOffsets = vec2(0.0, 0.0);
  if(hasOffsets()) {
    vec2 valueXPos = nextPos(cellCurrentRow, cellCurrentColumn, columnCount, textureOffset);
    textrueOffsets.r = pos2value(valueXPos, columnWidth, rowHeight); // x
    textureOffset += 1.0;

    vec2 valueYPos = nextPos(cellCurrentRow, cellCurrentColumn, columnCount, textureOffset);
    textrueOffsets.g = pos2value(valueYPos, columnWidth, rowHeight); // x
    textureOffset += 1.0;
  } else {
    textrueOffsets = u_offsets;
  }

  // cal style mapping

  // unpack color(vec2)
  v_color = a_Color;

  // radius(16-bit)
  v_radius = newSize;

  // TODO: billboard
  // anti-alias
  float antialiasblur = 1.0 / u_DevicePixelRatio / (newSize + u_stroke_width);

  // construct point coords
  // TODP: /abs(extrude.x) \u662F\u4E3A\u4E86\u517C\u5BB9\u5730\u7403\u6A21\u5F0F
  v_data = vec4(extrude.x/abs(extrude.x), extrude.y/abs(extrude.y), antialiasblur,shape_type);

  // vec2 offset = project_pixel(extrude * (newSize + u_stroke_width) + u_offsets);
  vec2 offset = project_pixel(extrude.xy * (newSize + u_stroke_width) + textrueOffsets);
  vec4 project_pos = project_position(vec4(a_Position.xy, 0.0, 1.0));
  // gl_Position = project_common_position_to_clipspace(vec4(project_pos.xy + offset, project_pixel(setPickingOrder(0.0)), 1.0));

  if(u_CoordinateSystem == COORDINATE_SYSTEM_P20_2) { // gaode2.x
    gl_Position = u_Mvp * vec4(project_pos.xy + offset, 0.0, 1.0);
  } else {
    gl_Position = project_common_position_to_clipspace(vec4(project_pos.xy + offset, project_pixel(setPickingOrder(0.0)), 1.0));
  }

  if(u_globel > 0.0) {
    gl_Position = u_ViewProjectionMatrix * vec4(a_Position + extrude * newSize * 0.1, 1.0);
  }
 
  // gl_Position = project_common_position_to_clipspace(vec4(project_pos.xy + offset, 0.0, 1.0));

  setPickingColor(a_PickingColor);
}
`,Th=function(x){oe()(L,x);var j=ch(L);function L(){return T()(this,L),j.apply(this,arguments)}return u()(L,[{key:"getUninforms",value:function(){var N=this.layer.getLayerConfig(),W=N.opacity,he=W===void 0?1:W,$e=N.strokeOpacity,st=$e===void 0?1:$e,Yt=N.strokeWidth,hr=Yt===void 0?0:Yt,yr=N.stroke,Zr=yr===void 0?"rgba(0,0,0,0)":yr,on=N.offsets,ca=on===void 0?[0,0]:on;if(this.dataTextureTest&&this.dataTextureNeedUpdate({opacity:he,strokeOpacity:st,strokeWidth:hr,stroke:Zr,offsets:ca})){this.judgeStyleAttributes({opacity:he,strokeOpacity:st,strokeWidth:hr,stroke:Zr,offsets:ca});var Ra=this.layer.getEncodedData(),Ga=this.calDataFrame(this.cellLength,Ra,this.cellProperties),Ji=Ga.data,go=Ga.width,jo=Ga.height;this.rowCount=jo,this.dataTexture=this.cellLength>0&&Ji.length>0?this.createTexture2D({flipY:!0,data:Ji,format:M.gl.LUMINANCE,type:M.gl.FLOAT,width:go,height:jo}):this.createTexture2D({flipY:!0,data:[1],format:M.gl.LUMINANCE,type:M.gl.FLOAT,width:1,height:1})}return{u_globel:this.mapService.version==="GLOBEL"?1:0,u_dataTexture:this.dataTexture,u_cellTypeLayout:this.getCellTypeLayout(),u_opacity:Ke()(he)?he:1,u_stroke_opacity:Ke()(st)?st:1,u_stroke_width:Ke()(hr)?hr:0,u_stroke_color:this.getStrokeColor(Zr),u_offsets:this.isOffsetStatic(ca)?ca:[0,0]}}},{key:"getAnimateUniforms",value:function(){var N=this.layer.getLayerConfig(),W=N.animateOption;return{u_aimate:this.animateOption2Array(W),u_time:this.layer.getLayerAnimateTime()}}},{key:"getAttribute",value:function(){return this.styleAttributeService.createAttributesAndIndices(this.layer.getEncodedData(),wa)}},{key:"initModels",value:function(){return this.buildModels()}},{key:"buildModels",value:function(){var N=this.mapService.version==="GLOBEL";return[this.layer.buildLayerModel({moduleName:"pointfill",vertexShader:fh,fragmentShader:Bd,triangulation:N?ga:wa,depth:{enable:N},blend:this.getBlend()})]}},{key:"clearModels",value:function(){var N;(N=this.dataTexture)===null||N===void 0||N.destroy()}},{key:"animateOption2Array",value:function(N){return[N.enable?0:1,N.speed||1,N.rings||3,0]}},{key:"registerBuiltinAttributes",value:function(){var N=this,W=this.mapService.version==="GLOBEL";this.styleAttributeService.registerStyleAttribute({name:"extrude",type:M.AttributeType.Attribute,descriptor:{name:"a_Extrude",buffer:{usage:M.gl.DYNAMIC_DRAW,data:[],type:M.gl.FLOAT},size:3,update:function($e,st,Yt,hr){var yr;if(W){var Zr=ge()(Yt,3),on=Zr[0],ca=Zr[1],Ra=Zr[2],Ga=be.d.fromValues(0,0,1),Ji=be.d.fromValues(on,0,Ra),go=on>=0?be.d.angle(Ga,Ji):Math.PI*2-be.d.angle(Ga,Ji),jo=Math.PI*2-Math.asin(ca/100),Mo=be.b.create();be.b.rotateY(Mo,Mo,go),be.b.rotateX(Mo,Mo,jo);var $i=be.d.fromValues(1,1,0);be.d.transformMat4($i,$i,Mo),be.d.normalize($i,$i);var Ho=be.d.fromValues(-1,1,0);be.d.transformMat4(Ho,Ho,Mo),be.d.normalize(Ho,Ho);var Ta=be.d.fromValues(-1,-1,0);be.d.transformMat4(Ta,Ta,Mo),be.d.normalize(Ta,Ta);var Rs=be.d.fromValues(1,-1,0);be.d.transformMat4(Rs,Rs,Mo),be.d.normalize(Rs,Rs),yr=[].concat(ft()($i),ft()(Ho),ft()(Ta),ft()(Rs))}else yr=[1,1,0,-1,1,0,-1,-1,0,1,-1,0];var hi=hr%4*3;return[yr[hi],yr[hi+1],yr[hi+2]]}}}),this.styleAttributeService.registerStyleAttribute({name:"size",type:M.AttributeType.Attribute,descriptor:{name:"a_Size",buffer:{usage:M.gl.DYNAMIC_DRAW,data:[],type:M.gl.FLOAT},size:1,update:function($e,st,Yt,hr){var yr=$e.size,Zr=yr===void 0?5:yr;return Array.isArray(Zr)?[Zr[0]]:[Zr]}}}),this.styleAttributeService.registerStyleAttribute({name:"shape",type:M.AttributeType.Attribute,descriptor:{name:"a_Shape",buffer:{usage:M.gl.DYNAMIC_DRAW,data:[],type:M.gl.FLOAT},size:1,update:function($e,st,Yt,hr){var yr=$e.shape,Zr=yr===void 0?2:yr,on=N.layer.getLayerConfig().shape2d,ca=on.indexOf(Zr);return[ca]}}})}}]),L}(it);function yp(x){var j=Rd();return function(){var R=ve()(x),N;if(j){var W=ve()(this).constructor;N=Reflect.construct(R,arguments,W)}else N=R.apply(this,arguments);return Te()(this,N)}}function Rd(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(x){return!1}}var qf=`
uniform sampler2D u_texture;
varying vec4 v_color;
varying vec2 v_uv;
uniform vec2 u_textSize;
uniform float u_opacity : 1;

varying mat4 styleMappingMat; // \u4F20\u9012\u4ECE\u7247\u5143\u4E2D\u4F20\u9012\u7684\u6620\u5C04\u6570\u636E

#pragma include "picking"
void main(){
      float opacity = styleMappingMat[0][0];
      vec2 pos= v_uv / u_textSize + gl_PointCoord / u_textSize * 64.;
      vec4 textureColor=texture2D(u_texture,pos);
      if(all(lessThan(v_color, vec4(1.0+0.00001))) && all(greaterThan(v_color, vec4(1.0-0.00001))) || v_color==vec4(1.0)){
            gl_FragColor= textureColor;
      }else {
            gl_FragColor= step(0.01, textureColor.z) * v_color;
      }
      // gl_FragColor.a =gl_FragColor.a * u_opacity;
      gl_FragColor.a =gl_FragColor.a * opacity;
      gl_FragColor = filterColor(gl_FragColor);
}
`,bp=`precision highp float;
attribute vec3 a_Position;
attribute vec4 a_Color;
attribute vec2 a_Uv;
attribute float a_Size;
varying vec4 v_color;
varying vec2 v_uv;
uniform mat4 u_ModelMatrix;
uniform mat4 u_Mvp;
uniform float u_stroke_width : 1;
uniform vec2 u_offsets;

uniform float u_opacity : 1;

varying mat4 styleMappingMat; // \u7528\u4E8E\u5C06\u5728\u9876\u70B9\u7740\u8272\u5668\u4E2D\u8BA1\u7B97\u597D\u7684\u6837\u5F0F\u503C\u4F20\u9012\u7ED9\u7247\u5143

#pragma include "styleMapping"
#pragma include "styleMappingCalOpacity"

#pragma include "projection"
#pragma include "picking"

void main() {
  // cal style mapping - \u6570\u636E\u7EB9\u7406\u6620\u5C04\u90E8\u5206\u7684\u8BA1\u7B97
  styleMappingMat = mat4(
    0.0, 0.0, 0.0, 0.0, // opacity - strokeOpacity - strokeWidth - empty
    0.0, 0.0, 0.0, 0.0, // strokeR - strokeG - strokeB - strokeA
    0.0, 0.0, 0.0, 0.0, // offsets[0] - offsets[1]
    0.0, 0.0, 0.0, 0.0
  );

  float rowCount = u_cellTypeLayout[0][0];    // \u5F53\u524D\u7684\u6570\u636E\u7EB9\u7406\u6709\u51E0\u884C
  float columnCount = u_cellTypeLayout[0][1]; // \u5F53\u770B\u5230\u6570\u636E\u7EB9\u7406\u6709\u51E0\u5217
  float columnWidth = 1.0/columnCount;  // \u5217\u5BBD
  float rowHeight = 1.0/rowCount;       // \u884C\u9AD8
  float cellCount = calCellCount(); // opacity - strokeOpacity - strokeWidth - stroke - offsets
  float id = a_vertexId; // \u7B2Cn\u4E2A\u9876\u70B9
  float cellCurrentRow = floor(id * cellCount / columnCount) + 1.0; // \u8D77\u59CB\u70B9\u5728\u7B2C\u51E0\u884C
  float cellCurrentColumn = mod(id * cellCount, columnCount) + 1.0; // \u8D77\u59CB\u70B9\u5728\u7B2C\u51E0\u5217
  
  // cell \u56FA\u5B9A\u987A\u5E8F opacity -> strokeOpacity -> strokeWidth -> stroke ... 
  // \u6309\u987A\u5E8F\u4ECE cell \u4E2D\u53D6\u503C\u3001\u82E5\u6CA1\u6709\u5219\u81EA\u52A8\u5F80\u4E0B\u53D6\u503C
  float textureOffset = 0.0; // \u5728 cell \u4E2D\u53D6\u503C\u7684\u504F\u79FB\u91CF

  vec2 opacityAndOffset = calOpacityAndOffset(cellCurrentRow, cellCurrentColumn, columnCount, textureOffset, columnWidth, rowHeight);
  styleMappingMat[0][0] = opacityAndOffset.r;
  textureOffset = opacityAndOffset.g;

  vec2 textrueOffsets = vec2(0.0, 0.0);
  if(hasOffsets()) {
    vec2 valueXPos = nextPos(cellCurrentRow, cellCurrentColumn, columnCount, textureOffset);
    textrueOffsets.r = pos2value(valueXPos, columnWidth, rowHeight); // x
    textureOffset += 1.0;

    vec2 valueYPos = nextPos(cellCurrentRow, cellCurrentColumn, columnCount, textureOffset);
    textrueOffsets.g = pos2value(valueYPos, columnWidth, rowHeight); // x
    textureOffset += 1.0;
  } else {
    textrueOffsets = u_offsets;
  }

  // cal style mapping - \u6570\u636E\u7EB9\u7406\u6620\u5C04\u90E8\u5206\u7684\u8BA1\u7B97
   v_color = a_Color;
   v_uv = a_Uv;
   vec4 project_pos = project_position(vec4(a_Position, 1.0));
   
  //  vec2 offset = project_pixel(u_offsets);
  vec2 offset = project_pixel(textrueOffsets);

  //  gl_Position = project_common_position_to_clipspace(vec4(vec2(project_pos.xy + offset),project_pos.z, 1.0));

    if(u_CoordinateSystem == COORDINATE_SYSTEM_P20_2) { // gaode2.x
      gl_Position = u_Mvp * vec4(vec2(project_pos.xy + offset),project_pos.z, 1.0);
    } else {
      gl_Position = project_common_position_to_clipspace(vec4(vec2(project_pos.xy + offset),project_pos.z, 1.0));
    }
   gl_PointSize = a_Size * 2.0 * u_DevicePixelRatio;

  setPickingColor(a_PickingColor);

}
`,Hp=function(x){oe()(L,x);var j=yp(L);function L(){var R;T()(this,L);for(var N=arguments.length,W=new Array(N),he=0;he<N;he++)W[he]=arguments[he];return R=j.call.apply(j,[this].concat(W)),I()(k()(R),"texture",void 0),R}return u()(L,[{key:"getUninforms",value:function(){var N=this.layer.getLayerConfig(),W=N.opacity;return{u_opacity:W||1,u_texture:this.texture,u_textSize:[1024,this.iconService.canvasHeight||128]}}},{key:"initModels",value:function(){var N=this;return this.initIconFontGlyphs(),this.registerBuiltinAttributes(),this.updateTexture(),this.iconService.on("imageUpdate",function(){N.updateTexture(),N.layer.render()}),[this.layer.buildLayerModel({moduleName:"pointiconImage",vertexShader:bp,fragmentShader:qf,triangulation:_o,primitive:M.gl.POINTS,depth:{enable:!1},blend:this.getBlend()})]}},{key:"clearModels",value:function(){var N;(N=this.dataTexture)===null||N===void 0||N.destroy()}},{key:"registerBuiltinAttributes",value:function(){var N=this;this.styleAttributeService.registerStyleAttribute({name:"size",type:M.AttributeType.Attribute,descriptor:{name:"a_Size",buffer:{usage:M.gl.DYNAMIC_DRAW,data:[],type:M.gl.FLOAT},size:1,update:function(he,$e,st,Yt){var hr=he.size;return Array.isArray(hr)?[hr[0]]:[hr]}}}),this.styleAttributeService.registerStyleAttribute({name:"uv",type:M.AttributeType.Attribute,descriptor:{name:"a_Uv",buffer:{usage:M.gl.DYNAMIC_DRAW,data:[],type:M.gl.FLOAT},size:2,update:function(he,$e,st,Yt){var hr=N.fontService.mapping,yr=he.shape,Zr=N.fontService.getGlyph(yr),on=hr[Zr],ca=on.x,Ra=on.y;return[ca,Ra]}}})}},{key:"updateTexture",value:function(){var N=this.rendererService.createTexture2D,W=this.fontService.canvas;this.texture=N({data:W,mag:M.gl.LINEAR,min:M.gl.LINEAR,width:W.width,height:W.height})}},{key:"initIconFontGlyphs",value:function(){var N=this,W=this.layer.getLayerConfig(),he=W.fontWeight,$e=he===void 0?"normal":he,st=W.fontFamily,Yt=st===void 0?"sans-serif":st,hr=this.layer.getEncodedData(),yr=[];hr.forEach(function(Zr){var on=Zr.shape,ca=on===void 0?"":on;ca=ca.toString();var Ra=N.fontService.getGlyph(ca);yr.indexOf(Ra)===-1&&yr.push(Ra)}),this.fontService.setFontOptions({characterSet:yr,fontWeight:$e,fontFamily:Yt,fontSize:48})}}]),L}(it);function Ah(x){var j=Mh();return function(){var R=ve()(x),N;if(j){var W=ve()(this).constructor;N=Reflect.construct(R,arguments,W)}else N=R.apply(this,arguments);return Te()(this,N)}}function Mh(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(x){return!1}}var Qh=`
uniform sampler2D u_texture;
varying vec4 v_color;
varying vec2 v_uv;
uniform vec2 u_textSize;
uniform float u_opacity : 1;

varying mat4 styleMappingMat; // \u4F20\u9012\u4ECE\u7247\u5143\u4E2D\u4F20\u9012\u7684\u6620\u5C04\u6570\u636E

#pragma include "picking"
void main(){
      float opacity = styleMappingMat[0][0];
      vec2 pos= v_uv / u_textSize + gl_PointCoord / u_textSize * 64.;
      vec4 textureColor=texture2D(u_texture,pos);
      if(all(lessThan(v_color, vec4(1.0+0.00001))) && all(greaterThan(v_color, vec4(1.0-0.00001))) || v_color==vec4(1.0)){
            gl_FragColor= textureColor;
      }else {
            gl_FragColor= step(0.01, textureColor.z) * v_color;
      }
      // gl_FragColor.a =gl_FragColor.a * u_opacity;
      gl_FragColor.a =gl_FragColor.a * opacity;
      gl_FragColor = filterColor(gl_FragColor);
}
`,Wp=`precision highp float;
attribute vec3 a_Position;
attribute vec4 a_Color;
attribute vec2 a_Uv;
attribute float a_Size;
varying vec4 v_color;
varying vec2 v_uv;
uniform mat4 u_ModelMatrix;
uniform mat4 u_Mvp;
uniform float u_stroke_width : 1;
uniform vec2 u_offsets;

uniform float u_opacity : 1;

varying mat4 styleMappingMat; // \u7528\u4E8E\u5C06\u5728\u9876\u70B9\u7740\u8272\u5668\u4E2D\u8BA1\u7B97\u597D\u7684\u6837\u5F0F\u503C\u4F20\u9012\u7ED9\u7247\u5143

#pragma include "styleMapping"
#pragma include "styleMappingCalOpacity"

#pragma include "projection"
#pragma include "picking"

void main() {
  // cal style mapping - \u6570\u636E\u7EB9\u7406\u6620\u5C04\u90E8\u5206\u7684\u8BA1\u7B97
  styleMappingMat = mat4(
    0.0, 0.0, 0.0, 0.0, // opacity - strokeOpacity - strokeWidth - empty
    0.0, 0.0, 0.0, 0.0, // strokeR - strokeG - strokeB - strokeA
    0.0, 0.0, 0.0, 0.0, // offsets[0] - offsets[1]
    0.0, 0.0, 0.0, 0.0
  );

  float rowCount = u_cellTypeLayout[0][0];    // \u5F53\u524D\u7684\u6570\u636E\u7EB9\u7406\u6709\u51E0\u884C
  float columnCount = u_cellTypeLayout[0][1]; // \u5F53\u770B\u5230\u6570\u636E\u7EB9\u7406\u6709\u51E0\u5217
  float columnWidth = 1.0/columnCount;  // \u5217\u5BBD
  float rowHeight = 1.0/rowCount;       // \u884C\u9AD8
  float cellCount = calCellCount(); // opacity - strokeOpacity - strokeWidth - stroke - offsets
  float id = a_vertexId; // \u7B2Cn\u4E2A\u9876\u70B9
  float cellCurrentRow = floor(id * cellCount / columnCount) + 1.0; // \u8D77\u59CB\u70B9\u5728\u7B2C\u51E0\u884C
  float cellCurrentColumn = mod(id * cellCount, columnCount) + 1.0; // \u8D77\u59CB\u70B9\u5728\u7B2C\u51E0\u5217
  
  // cell \u56FA\u5B9A\u987A\u5E8F opacity -> strokeOpacity -> strokeWidth -> stroke ... 
  // \u6309\u987A\u5E8F\u4ECE cell \u4E2D\u53D6\u503C\u3001\u82E5\u6CA1\u6709\u5219\u81EA\u52A8\u5F80\u4E0B\u53D6\u503C
  float textureOffset = 0.0; // \u5728 cell \u4E2D\u53D6\u503C\u7684\u504F\u79FB\u91CF

  vec2 opacityAndOffset = calOpacityAndOffset(cellCurrentRow, cellCurrentColumn, columnCount, textureOffset, columnWidth, rowHeight);
  styleMappingMat[0][0] = opacityAndOffset.r;
  textureOffset = opacityAndOffset.g;

  vec2 textrueOffsets = vec2(0.0, 0.0);
  if(hasOffsets()) {
    vec2 valueXPos = nextPos(cellCurrentRow, cellCurrentColumn, columnCount, textureOffset);
    textrueOffsets.r = pos2value(valueXPos, columnWidth, rowHeight); // x
    textureOffset += 1.0;

    vec2 valueYPos = nextPos(cellCurrentRow, cellCurrentColumn, columnCount, textureOffset);
    textrueOffsets.g = pos2value(valueYPos, columnWidth, rowHeight); // x
    textureOffset += 1.0;
  } else {
    textrueOffsets = u_offsets;
  }

  // cal style mapping - \u6570\u636E\u7EB9\u7406\u6620\u5C04\u90E8\u5206\u7684\u8BA1\u7B97
   v_color = a_Color;
   v_uv = a_Uv;
   vec4 project_pos = project_position(vec4(a_Position, 1.0));
   
  //  vec2 offset = project_pixel(u_offsets);
  vec2 offset = project_pixel(textrueOffsets);

  //  gl_Position = project_common_position_to_clipspace(vec4(vec2(project_pos.xy + offset),project_pos.z, 1.0));

    if(u_CoordinateSystem == COORDINATE_SYSTEM_P20_2) { // gaode2.x
      gl_Position = u_Mvp * vec4(vec2(project_pos.xy + offset),project_pos.z, 1.0);
    } else {
      gl_Position = project_common_position_to_clipspace(vec4(vec2(project_pos.xy + offset),project_pos.z, 1.0));
    }
   gl_PointSize = a_Size * 2.0 * u_DevicePixelRatio;

  setPickingColor(a_PickingColor);

}
`,ed=function(x){oe()(L,x);var j=Ah(L);function L(){var R;T()(this,L);for(var N=arguments.length,W=new Array(N),he=0;he<N;he++)W[he]=arguments[he];return R=j.call.apply(j,[this].concat(W)),I()(k()(R),"texture",void 0),I()(k()(R),"updateTexture",function(){var $e=R.rendererService.createTexture2D;if(R.texture){R.texture.update({data:R.iconService.getCanvas()}),R.layer.renderLayers();return}R.texture=$e({data:R.iconService.getCanvas(),mag:M.gl.LINEAR,min:M.gl.LINEAR,premultiplyAlpha:!1,width:1024,height:R.iconService.canvasHeight||128})}),R}return u()(L,[{key:"getUninforms",value:function(){var N=this.layer.getLayerConfig(),W=N.opacity,he=N.offsets,$e=he===void 0?[0,0]:he;if(this.rendererService.getDirty()&&this.texture.bind(),this.dataTextureTest&&this.dataTextureNeedUpdate({opacity:W,offsets:$e})){this.judgeStyleAttributes({opacity:W,offsets:$e});var st=this.layer.getEncodedData(),Yt=this.calDataFrame(this.cellLength,st,this.cellProperties),hr=Yt.data,yr=Yt.width,Zr=Yt.height;this.rowCount=Zr,this.dataTexture=this.cellLength>0&&hr.length>0?this.createTexture2D({flipY:!0,data:hr,format:M.gl.LUMINANCE,type:M.gl.FLOAT,width:yr,height:Zr}):this.createTexture2D({flipY:!0,data:[1],format:M.gl.LUMINANCE,type:M.gl.FLOAT,width:1,height:1})}return{u_dataTexture:this.dataTexture,u_cellTypeLayout:this.getCellTypeLayout(),u_texture:this.texture,u_textSize:[1024,this.iconService.canvasHeight||128],u_opacity:Ke()(W)?W:1,u_offsets:this.isOffsetStatic($e)?$e:[0,0]}}},{key:"initModels",value:function(){return this.registerBuiltinAttributes(),this.updateTexture(),this.iconService.on("imageUpdate",this.updateTexture),this.buildModels()}},{key:"clearModels",value:function(){var N,W;(N=this.texture)===null||N===void 0||N.destroy(),(W=this.dataTexture)===null||W===void 0||W.destroy(),this.iconService.off("imageUpdate",this.updateTexture)}},{key:"buildModels",value:function(){return[this.layer.buildLayerModel({moduleName:"pointImage",vertexShader:Wp,fragmentShader:Qh,triangulation:_o,primitive:M.gl.POINTS,depth:{enable:!1},blend:this.getBlend()})]}},{key:"registerBuiltinAttributes",value:function(){var N=this;this.styleAttributeService.registerStyleAttribute({name:"size",type:M.AttributeType.Attribute,descriptor:{name:"a_Size",buffer:{usage:M.gl.DYNAMIC_DRAW,data:[],type:M.gl.FLOAT},size:1,update:function(he,$e,st,Yt){var hr=he.size,yr=hr===void 0?5:hr;return Array.isArray(yr)?[yr[0]]:[yr]}}}),this.styleAttributeService.registerStyleAttribute({name:"uv",type:M.AttributeType.Attribute,descriptor:{name:"a_Uv",buffer:{usage:M.gl.DYNAMIC_DRAW,data:[],type:M.gl.FLOAT},size:2,update:function(he,$e,st,Yt){var hr=N.iconService.getIconMap(),yr=he.shape,Zr=hr[yr]||{x:0,y:0},on=Zr.x,ca=Zr.y;return[on,ca]}}})}}]),L}(it);function vn(x){var j=Oa();return function(){var R=ve()(x),N;if(j){var W=ve()(this).constructor;N=Reflect.construct(R,arguments,W)}else N=R.apply(this,arguments);return Te()(this,N)}}function Oa(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(x){return!1}}var oa=`
uniform float u_opacity : 1;
uniform vec2 u_offsets;
varying vec4 v_color;
varying mat4 styleMappingMat; // \u4F20\u9012\u4ECE\u7247\u5143\u4E2D\u4F20\u9012\u7684\u6620\u5C04\u6570\u636E

#pragma include "picking"
void main() {
  float opacity = styleMappingMat[0][0];

  gl_FragColor = v_color;
  // gl_FragColor.a =gl_FragColor.a * u_opacity;
  gl_FragColor.a =gl_FragColor.a * opacity;
  gl_FragColor = filterColor(gl_FragColor);
}
`,to=`
attribute vec3 a_Position;
uniform mat4 u_ModelMatrix;
uniform mat4 u_Mvp;
attribute float a_Size;
attribute vec4 a_Color;
varying vec4 v_color;

uniform float u_opacity : 1;
uniform vec2 u_offsets;

varying mat4 styleMappingMat; // \u7528\u4E8E\u5C06\u5728\u9876\u70B9\u7740\u8272\u5668\u4E2D\u8BA1\u7B97\u597D\u7684\u6837\u5F0F\u503C\u4F20\u9012\u7ED9\u7247\u5143

#pragma include "styleMapping"
#pragma include "styleMappingCalOpacity"

#pragma include "projection"
#pragma include "picking"
#pragma include "project"
void main() {
  v_color = a_Color;

  // cal style mapping - \u6570\u636E\u7EB9\u7406\u6620\u5C04\u90E8\u5206\u7684\u8BA1\u7B97
styleMappingMat = mat4(
    0.0, 0.0, 0.0, 0.0, // opacity - strokeOpacity - strokeWidth - empty
    0.0, 0.0, 0.0, 0.0, // strokeR - strokeG - strokeB - strokeA
    0.0, 0.0, 0.0, 0.0, // offsets[0] - offsets[1]
    0.0, 0.0, 0.0, 0.0
  );

  float rowCount = u_cellTypeLayout[0][0];    // \u5F53\u524D\u7684\u6570\u636E\u7EB9\u7406\u6709\u51E0\u884C
  float columnCount = u_cellTypeLayout[0][1]; // \u5F53\u770B\u5230\u6570\u636E\u7EB9\u7406\u6709\u51E0\u5217
  float columnWidth = 1.0/columnCount;  // \u5217\u5BBD
  float rowHeight = 1.0/rowCount;       // \u884C\u9AD8
  float cellCount = calCellCount(); // opacity - strokeOpacity - strokeWidth - stroke - offsets
  float id = a_vertexId; // \u7B2Cn\u4E2A\u9876\u70B9
  float cellCurrentRow = floor(id * cellCount / columnCount) + 1.0; // \u8D77\u59CB\u70B9\u5728\u7B2C\u51E0\u884C
  float cellCurrentColumn = mod(id * cellCount, columnCount) + 1.0; // \u8D77\u59CB\u70B9\u5728\u7B2C\u51E0\u5217
  
  // cell \u56FA\u5B9A\u987A\u5E8F opacity -> strokeOpacity -> strokeWidth -> stroke ... 
  // \u6309\u987A\u5E8F\u4ECE cell \u4E2D\u53D6\u503C\u3001\u82E5\u6CA1\u6709\u5219\u81EA\u52A8\u5F80\u4E0B\u53D6\u503C
  float textureOffset = 0.0; // \u5728 cell \u4E2D\u53D6\u503C\u7684\u504F\u79FB\u91CF

  vec2 opacityAndOffset = calOpacityAndOffset(cellCurrentRow, cellCurrentColumn, columnCount, textureOffset, columnWidth, rowHeight);
  styleMappingMat[0][0] = opacityAndOffset.r;
  textureOffset = opacityAndOffset.g;

  vec2 textrueOffsets = vec2(0.0, 0.0);
  if(hasOffsets()) {
    vec2 valueXPos = nextPos(cellCurrentRow, cellCurrentColumn, columnCount, textureOffset);
    textrueOffsets.r = pos2value(valueXPos, columnWidth, rowHeight); // x
    textureOffset += 1.0;

    vec2 valueYPos = nextPos(cellCurrentRow, cellCurrentColumn, columnCount, textureOffset);
    textrueOffsets.g = pos2value(valueYPos, columnWidth, rowHeight); // x
    textureOffset += 1.0;
  } else {
    textrueOffsets = u_offsets;
  }

  // cal style mapping
  
  // vec2 offset = project_pixel(u_offsets);
  vec2 offset = project_pixel(textrueOffsets);
  // vec4 project_pos = project_position(vec4(a_Position, 1.0)) + vec4(a_Size / 2.,-a_Size /2.,0.,0.);
  // gl_Position = project_common_position_to_clipspace(vec4(vec2(project_pos.xy+offset),project_pos.z,project_pos.w));\\
  // 
  if(u_CoordinateSystem == COORDINATE_SYSTEM_P20_2) { // gaode2.x
    // vec2 offset = project_pixel((u_offsets));
    gl_Position = u_Mvp * vec4(a_Position.xy + offset, a_Position.z, 1.0);
  } else { // else
    // vec2 offset = project_pixel(u_offsets);
    vec4 project_pos = project_position(vec4(a_Position, 1.0)) + vec4(a_Size / 2.,-a_Size /2.,0.,0.);
    gl_Position = project_common_position_to_clipspace(vec4(vec2(project_pos.xy+offset),project_pos.z,project_pos.w));
  }

  gl_PointSize = a_Size * 2.0 * u_DevicePixelRatio;
  setPickingColor(a_PickingColor);
}
`;function Ai(x){var j=x.coordinates;return{vertices:ft()(j),indices:[0],size:j.length}}var Xo=function(x){oe()(L,x);var j=vn(L);function L(){return T()(this,L),j.apply(this,arguments)}return u()(L,[{key:"getDefaultStyle",value:function(){return{blend:"additive"}}},{key:"getUninforms",value:function(){var N=this.layer.getLayerConfig(),W=N.opacity,he=W===void 0?1:W,$e=N.offsets,st=$e===void 0?[0,0]:$e;if(this.dataTextureTest&&this.dataTextureNeedUpdate({opacity:he,offsets:st})){this.judgeStyleAttributes({opacity:he,offsets:st});var Yt=this.layer.getEncodedData(),hr=this.calDataFrame(this.cellLength,Yt,this.cellProperties),yr=hr.data,Zr=hr.width,on=hr.height;this.rowCount=on,this.dataTexture=this.cellLength>0&&yr.length>0?this.createTexture2D({flipY:!0,data:yr,format:M.gl.LUMINANCE,type:M.gl.FLOAT,width:Zr,height:on}):this.createTexture2D({flipY:!0,data:[1],format:M.gl.LUMINANCE,type:M.gl.FLOAT,width:1,height:1})}return{u_dataTexture:this.dataTexture,u_cellTypeLayout:this.getCellTypeLayout(),u_opacity:Ke()(he)?he:1,u_offsets:this.isOffsetStatic(st)?st:[0,0]}}},{key:"initModels",value:function(){return this.buildModels()}},{key:"buildModels",value:function(){return[this.layer.buildLayerModel({moduleName:"normalpoint",vertexShader:to,fragmentShader:oa,triangulation:Ai,depth:{enable:!1},primitive:M.gl.POINTS,blend:this.getBlend()})]}},{key:"clearModels",value:function(){var N;(N=this.dataTexture)===null||N===void 0||N.destroy()}},{key:"registerBuiltinAttributes",value:function(){this.styleAttributeService.registerStyleAttribute({name:"size",type:M.AttributeType.Attribute,descriptor:{name:"a_Size",buffer:{usage:M.gl.DYNAMIC_DRAW,data:[],type:M.gl.FLOAT},size:1,update:function(W,he,$e,st){var Yt=W.size,hr=Yt===void 0?1:Yt;return Array.isArray(hr)?[hr[0]]:[hr]}}})}},{key:"defaultStyleOptions",value:function(){return{blend:M.BlendType.additive}}}]),L}(it);function ol(x,j){var L=typeof Symbol!="undefined"&&x[Symbol.iterator]||x["@@iterator"];if(!L){if(Array.isArray(x)||(L=dl(x))||j&&x&&typeof x.length=="number"){L&&(x=L);var R=0,N=function(){};return{s:N,n:function(){return R>=x.length?{done:!0}:{done:!1,value:x[R++]}},e:function(Yt){throw Yt},f:N}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var W=!0,he=!1,$e;return{s:function(){L=L.call(x)},n:function(){var Yt=L.next();return W=Yt.done,Yt},e:function(Yt){he=!0,$e=Yt},f:function(){try{!W&&L.return!=null&&L.return()}finally{if(he)throw $e}}}}function dl(x,j){if(!!x){if(typeof x=="string")return gd(x,j);var L=Object.prototype.toString.call(x).slice(8,-1);if(L==="Object"&&x.constructor&&(L=x.constructor.name),L==="Map"||L==="Set")return Array.from(x);if(L==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(L))return gd(x,j)}}function gd(x,j){(j==null||j>x.length)&&(j=x.length);for(var L=0,R=new Array(j);L<j;L++)R[L]=x[L];return R}var Ld=function(){function x(j,L,R){T()(this,x),I()(this,"boxCells",[]),I()(this,"xCellCount",void 0),I()(this,"yCellCount",void 0),I()(this,"boxKeys",void 0),I()(this,"bboxes",void 0),I()(this,"width",void 0),I()(this,"height",void 0),I()(this,"xScale",void 0),I()(this,"yScale",void 0),I()(this,"boxUid",void 0);var N=this.boxCells;this.xCellCount=Math.ceil(j/R),this.yCellCount=Math.ceil(L/R);for(var W=0;W<this.xCellCount*this.yCellCount;W++)N.push([]);this.boxKeys=[],this.bboxes=[],this.width=j,this.height=L,this.xScale=this.xCellCount/j,this.yScale=this.yCellCount/L,this.boxUid=0}return u()(x,[{key:"insert",value:function(L,R,N,W,he){this.forEachCell(R,N,W,he,this.insertBoxCell,this.boxUid++),this.boxKeys.push(L),this.bboxes.push(R),this.bboxes.push(N),this.bboxes.push(W),this.bboxes.push(he)}},{key:"query",value:function(L,R,N,W,he){return this.queryHitTest(L,R,N,W,!1,he)}},{key:"hitTest",value:function(L,R,N,W,he){return this.queryHitTest(L,R,N,W,!0,he)}},{key:"insertBoxCell",value:function(L,R,N,W,he,$e){this.boxCells[he].push($e)}},{key:"queryHitTest",value:function(L,R,N,W,he,$e){if(N<0||L>this.width||W<0||R>this.height)return he?!1:[];var st=[];if(L<=0&&R<=0&&this.width<=N&&this.height<=W){if(he)return!0;for(var Yt=0;Yt<this.boxKeys.length;Yt++)st.push({key:this.boxKeys[Yt],x1:this.bboxes[Yt*4],y1:this.bboxes[Yt*4+1],x2:this.bboxes[Yt*4+2],y2:this.bboxes[Yt*4+3]});return $e?st.filter($e):st}var hr={hitTest:he,seenUids:{box:{},circle:{}}};return this.forEachCell(L,R,N,W,this.queryCell,st,hr,$e),he?st.length>0:st}},{key:"queryCell",value:function(L,R,N,W,he,$e,st,Yt){var hr=st.seenUids,yr=this.boxCells[he];if(yr!==null){var Zr=this.bboxes,on=ol(yr),ca;try{for(on.s();!(ca=on.n()).done;){var Ra=ca.value;if(!hr.box[Ra]){hr.box[Ra]=!0;var Ga=Ra*4;if(L<=Zr[Ga+2]&&R<=Zr[Ga+3]&&N>=Zr[Ga+0]&&W>=Zr[Ga+1]&&(!Yt||Yt(this.boxKeys[Ra]))){if(st.hitTest)return $e.push(!0),!0;$e.push({key:this.boxKeys[Ra],x1:Zr[Ga],y1:Zr[Ga+1],x2:Zr[Ga+2],y2:Zr[Ga+3]})}}}}catch(Ji){on.e(Ji)}finally{on.f()}}return!1}},{key:"forEachCell",value:function(L,R,N,W,he,$e,st,Yt){for(var hr=this.convertToXCellCoord(L),yr=this.convertToYCellCoord(R),Zr=this.convertToXCellCoord(N),on=this.convertToYCellCoord(W),ca=hr;ca<=Zr;ca++)for(var Ra=yr;Ra<=on;Ra++){var Ga=this.xCellCount*Ra+ca;if(he.call(this,L,R,N,W,Ga,$e,st,Yt))return}}},{key:"convertToXCellCoord",value:function(L){return Math.max(0,Math.min(this.xCellCount-1,Math.floor(L*this.xScale)))}},{key:"convertToYCellCoord",value:function(L){return Math.max(0,Math.min(this.yCellCount-1,Math.floor(L*this.yScale)))}}]),x}(),lf=Ld,Jh=function(){function x(j,L){T()(this,x),I()(this,"width",void 0),I()(this,"height",void 0),I()(this,"grid",void 0),I()(this,"viewportPadding",100),I()(this,"screenRightBoundary",void 0),I()(this,"screenBottomBoundary",void 0),I()(this,"gridRightBoundary",void 0),I()(this,"gridBottomBoundary",void 0),this.width=j,this.height=L,this.viewportPadding=Math.max(j,L),this.grid=new lf(j+this.viewportPadding,L+this.viewportPadding,25),this.screenRightBoundary=j+this.viewportPadding,this.screenBottomBoundary=L+this.viewportPadding,this.gridRightBoundary=j+2*this.viewportPadding,this.gridBottomBoundary=L+2*this.viewportPadding}return u()(x,[{key:"placeCollisionBox",value:function(L){var R=L.x1+L.anchorPointX+this.viewportPadding,N=L.y1+L.anchorPointY+this.viewportPadding,W=L.x2+L.anchorPointX+this.viewportPadding,he=L.y2+L.anchorPointY+this.viewportPadding;return!this.isInsideGrid(R,N,W,he)||this.grid.hitTest(R,N,W,he)?{box:[]}:{box:[R,N,W,he]}}},{key:"insertCollisionBox",value:function(L,R){var N={featureIndex:R};this.grid.insert(N,L[0],L[1],L[2],L[3])}},{key:"project",value:function(L,R,N){var W=be.e.fromValues(R,N,0,1),he=be.e.create(),$e=be.b.fromValues.apply(be.b,ft()(L));return be.e.transformMat4(he,W,$e),{x:(he[0]/he[3]+1)/2*this.width+this.viewportPadding,y:(-he[1]/he[3]+1)/2*this.height+this.viewportPadding}}},{key:"isInsideGrid",value:function(L,R,N,W){return N>=0&&L<this.gridRightBoundary&&W>=0&&R<this.gridBottomBoundary}}]),x}();function _h(x,j){var L=typeof Symbol!="undefined"&&x[Symbol.iterator]||x["@@iterator"];if(!L){if(Array.isArray(x)||(L=uf(x))||j&&x&&typeof x.length=="number"){L&&(x=L);var R=0,N=function(){};return{s:N,n:function(){return R>=x.length?{done:!0}:{done:!1,value:x[R++]}},e:function(Yt){throw Yt},f:N}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var W=!0,he=!1,$e;return{s:function(){L=L.call(x)},n:function(){var Yt=L.next();return W=Yt.done,Yt},e:function(Yt){he=!0,$e=Yt},f:function(){try{!W&&L.return!=null&&L.return()}finally{if(he)throw $e}}}}function uf(x,j){if(!!x){if(typeof x=="string")return Pf(x,j);var L=Object.prototype.toString.call(x).slice(8,-1);if(L==="Object"&&x.constructor&&(L=x.constructor.name),L==="Map"||L==="Set")return Array.from(x);if(L==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(L))return Pf(x,j)}}function Pf(x,j){(j==null||j>x.length)&&(j=x.length);for(var L=0,R=new Array(j);L<j;L++)R[L]=x[L];return R}function ru(x){var j=.5,L=.5;switch(x){case"right":case"top-right":case"bottom-right":j=1;break;case"left":case"top-left":case"bottom-left":j=0;break;default:j=.5}switch(x){case"bottom":case"bottom-right":case"bottom-left":L=1;break;case"top":case"top-right":case"top-left":L=0;break;default:L=.5}return{horizontalAlign:j,verticalAlign:L}}function hl(x,j,L,R,N){if(!!N){var W=x[R],he=W.glyph;if(he)for(var $e=j[he].advance*W.scale,st=(x[R].x+$e)*N,Yt=L;Yt<=R;Yt++)x[Yt].x-=st}}function dh(x,j,L,R,N,W,he){var $e=(j-L)*N,st=(-R*he+.5)*W,Yt=_h(x),hr;try{for(Yt.s();!(hr=Yt.n()).done;){var yr=hr.value;yr.x+=$e,yr.y+=st}}catch(Zr){Yt.e(Zr)}finally{Yt.f()}}function Al(x,j,L,R,N,W,he){var $e=-8,st=0,Yt=$e,hr=0,yr=x.positionedGlyphs,Zr=W==="right"?1:W==="left"?0:.5,on=yr.length;L.forEach(function(go){if(go.split("").forEach(function(Mo){var $i=j[Mo],Ho=0;$i&&(yr.push({glyph:Mo,x:st,y:Yt+Ho,vertical:!1,scale:1,metrics:$i}),st+=$i.advance+he)}),yr.length!==on){var jo=st-he;hr=Math.max(jo,hr),hl(yr,j,on,yr.length-1,Zr)}st=0,Yt+=R});var ca=ru(N),Ra=ca.horizontalAlign,Ga=ca.verticalAlign;dh(yr,Zr,Ra,Ga,hr,R,L.length);var Ji=Yt-$e;x.top+=-Ga*Ji,x.bottom=x.top+Ji,x.left+=-Ra*hr,x.right=x.left+hr}function bi(x,j,L,R,N,W,he){var $e=-8,st=0,Yt=$e,hr=0,yr=x.positionedGlyphs,Zr=W==="right"?1:W==="left"?0:.5,on=yr.length;L.forEach(function(go){var jo=j[go],Mo=0;if(jo&&(yr.push({glyph:go,x:st,y:Yt+Mo,vertical:!1,scale:1,metrics:jo}),st+=jo.advance+he),yr.length!==on){var $i=st-he;hr=Math.max($i,hr),hl(yr,j,on,yr.length-1,Zr)}st=0,Yt+=R});var ca=ru(N),Ra=ca.horizontalAlign,Ga=ca.verticalAlign;dh(yr,Zr,Ra,Ga,hr,R,L.length);var Ji=Yt-$e;x.top+=-Ga*Ji,x.bottom=x.top+Ji,x.left+=-Ra*hr,x.right=x.left+hr}function Kc(x,j,L,R,N,W){var he=arguments.length>6&&arguments[6]!==void 0?arguments[6]:[0,0],$e=arguments.length>7?arguments[7]:void 0,st=x.split(`
`),Yt=[],hr={positionedGlyphs:Yt,top:he[1],bottom:he[1],left:he[0],right:he[0],lineCount:st.length,text:x};return $e?bi(hr,j,st,L,R,N,W):Al(hr,j,st,L,R,N,W),Yt.length?hr:!1}function qh(x){var j=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[0,0],L=arguments.length>2?arguments[2]:void 0,R=x.positionedGlyphs,N=R===void 0?[]:R,W=[],he=_h(N),$e;try{for(he.s();!($e=he.n()).done;){var st=$e.value,Yt=st.metrics,hr=4,yr=Yt.advance*st.scale/2,Zr=L?[st.x+yr,st.y]:[0,0],on=L?[0,0]:[st.x+yr+j[0],st.y+j[1]],ca=(0-hr)*st.scale-yr+on[0],Ra=(0-hr)*st.scale+on[1],Ga=ca+Yt.width*st.scale,Ji=Ra+Yt.height*st.scale,go={x:ca,y:Ra},jo={x:Ga,y:Ra},Mo={x:ca,y:Ji},$i={x:Ga,y:Ji};W.push({tl:go,tr:jo,bl:Mo,br:$i,tex:Yt,glyphOffset:Zr})}}catch(Ho){he.e(Ho)}finally{he.f()}return W}function Ih(x,j){var L=typeof Symbol!="undefined"&&x[Symbol.iterator]||x["@@iterator"];if(!L){if(Array.isArray(x)||(L=cf(x))||j&&x&&typeof x.length=="number"){L&&(x=L);var R=0,N=function(){};return{s:N,n:function(){return R>=x.length?{done:!0}:{done:!1,value:x[R++]}},e:function(Yt){throw Yt},f:N}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var W=!0,he=!1,$e;return{s:function(){L=L.call(x)},n:function(){var Yt=L.next();return W=Yt.done,Yt},e:function(Yt){he=!0,$e=Yt},f:function(){try{!W&&L.return!=null&&L.return()}finally{if(he)throw $e}}}}function cf(x,j){if(!!x){if(typeof x=="string")return Yu(x,j);var L=Object.prototype.toString.call(x).slice(8,-1);if(L==="Object"&&x.constructor&&(L=x.constructor.name),L==="Map"||L==="Set")return Array.from(x);if(L==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(L))return Yu(x,j)}}function Yu(x,j){(j==null||j>x.length)&&(j=x.length);for(var L=0,R=new Array(j);L<j;L++)R[L]=x[L];return R}function hh(x){var j=gi();return function(){var R=ve()(x),N;if(j){var W=ve()(this).constructor;N=Reflect.construct(R,arguments,W)}else N=R.apply(this,arguments);return Te()(this,N)}}function gi(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(x){return!1}}var td=`#define SDF_PX 8.0
#define EDGE_GAMMA 0.105
#define FONT_SIZE 48.0
uniform sampler2D u_sdf_map;
uniform float u_gamma_scale : 0.5;
// uniform float u_font_size : 24.0;
uniform float u_opacity : 1.0;
uniform vec4 u_stroke_color : [0, 0, 0, 1];
uniform float u_stroke_width : 2.0;
uniform float u_halo_blur : 0.5;
uniform float u_DevicePixelRatio;

varying vec4 v_color;
varying vec2 v_uv;
varying float v_gamma_scale;
varying float v_fontScale;

varying mat4 styleMappingMat; // \u4F20\u9012\u4ECE\u7247\u5143\u4E2D\u4F20\u9012\u7684\u6620\u5C04\u6570\u636E

#pragma include "picking"
void main() {
  // get style data mapping
  float opacity = styleMappingMat[0][0];
  float strokeWidth = styleMappingMat[0][2];
  vec4 textrueStroke = vec4(
    styleMappingMat[1][0],
    styleMappingMat[1][1],
    styleMappingMat[1][2],
    styleMappingMat[1][3]
  );

  // get sdf from atlas
  float dist = texture2D(u_sdf_map, v_uv).a;

  // float fontScale = u_font_size / FONT_SIZE;

  // lowp float buff = (6.0 - u_stroke_width / v_fontScale) / SDF_PX;
  lowp float buff = (6.0 - strokeWidth / v_fontScale) / SDF_PX;
  highp float gamma = (u_halo_blur * 1.19 / SDF_PX + EDGE_GAMMA) / (v_fontScale * u_gamma_scale) / 1.0;

  highp float gamma_scaled = gamma * v_gamma_scale;

  highp float alpha = smoothstep(buff - gamma_scaled, buff + gamma_scaled, dist);
  // gl_FragColor = mix(vec4(v_color.rgb, v_color.a * u_opacity), vec4(u_stroke_color.rgb, u_stroke_color.a * u_opacity), smoothstep(0., 0.5, 1. - dist));
  gl_FragColor = mix(vec4(v_color.rgb, v_color.a * opacity), vec4(textrueStroke.rgb, textrueStroke.a * opacity), smoothstep(0., 0.5, 1. - dist));
  gl_FragColor.a= gl_FragColor.a * alpha;
  gl_FragColor = filterColor(gl_FragColor);
}
`,Uu=`#define SDF_PX 8.0
#define EDGE_GAMMA 0.105
#define FONT_SIZE 24.0
attribute vec3 a_Position;
attribute vec2 a_tex;
attribute vec2 a_textOffsets;
attribute vec4 a_Color;
attribute float a_Size;
attribute float a_Rotate;

uniform vec2 u_sdf_map_size;
uniform mat4 u_ModelMatrix;
uniform mat4 u_Mvp;

varying vec2 v_uv;
varying float v_gamma_scale;
varying vec4 v_color;
varying float v_fontScale;

varying mat4 styleMappingMat; // \u7528\u4E8E\u5C06\u5728\u9876\u70B9\u7740\u8272\u5668\u4E2D\u8BA1\u7B97\u597D\u7684\u6837\u5F0F\u503C\u4F20\u9012\u7ED9\u7247\u5143

uniform float u_opacity : 1;
uniform float u_stroke_width : 2;
uniform vec4 u_stroke_color : [0.0, 0.0, 0.0, 0.0];

#pragma include "styleMapping"
#pragma include "styleMappingCalOpacity"
#pragma include "styleMappingCalStrokeWidth"

#pragma include "projection"
#pragma include "picking"

void main() {
  // cal style mapping - \u6570\u636E\u7EB9\u7406\u6620\u5C04\u90E8\u5206\u7684\u8BA1\u7B97
   styleMappingMat = mat4(
    0.0, 0.0, 0.0, 0.0, // opacity - strokeOpacity - strokeWidth - empty
    0.0, 0.0, 0.0, 0.0, // strokeR - strokeG - strokeB - strokeA
    0.0, 0.0, 0.0, 0.0, // offsets[0] - offsets[1]
    0.0, 0.0, 0.0, 0.0
  );

  float rowCount = u_cellTypeLayout[0][0];    // \u5F53\u524D\u7684\u6570\u636E\u7EB9\u7406\u6709\u51E0\u884C
  float columnCount = u_cellTypeLayout[0][1]; // \u5F53\u770B\u5230\u6570\u636E\u7EB9\u7406\u6709\u51E0\u5217
  float columnWidth = 1.0/columnCount;  // \u5217\u5BBD
  float rowHeight = 1.0/rowCount;       // \u884C\u9AD8
  float cellCount = calCellCount(); // opacity - strokeOpacity - strokeWidth - stroke - offsets
  float id = a_vertexId; // \u7B2Cn\u4E2A\u9876\u70B9
  float cellCurrentRow = floor(id * cellCount / columnCount) + 1.0; // \u8D77\u59CB\u70B9\u5728\u7B2C\u51E0\u884C
  float cellCurrentColumn = mod(id * cellCount, columnCount) + 1.0; // \u8D77\u59CB\u70B9\u5728\u7B2C\u51E0\u5217
  
  // cell \u56FA\u5B9A\u987A\u5E8F opacity -> strokeOpacity -> strokeWidth -> stroke ... 
  // \u6309\u987A\u5E8F\u4ECE cell \u4E2D\u53D6\u503C\u3001\u82E5\u6CA1\u6709\u5219\u81EA\u52A8\u5F80\u4E0B\u53D6\u503C
  float textureOffset = 0.0; // \u5728 cell \u4E2D\u53D6\u503C\u7684\u504F\u79FB\u91CF

  vec2 opacityAndOffset = calOpacityAndOffset(cellCurrentRow, cellCurrentColumn, columnCount, textureOffset, columnWidth, rowHeight);
  styleMappingMat[0][0] = opacityAndOffset.r;
  textureOffset = opacityAndOffset.g;

   vec2 strokeWidthAndOffset = calStrokeWidthAndOffset(cellCurrentRow, cellCurrentColumn, columnCount, textureOffset, columnWidth, rowHeight);
  styleMappingMat[0][2] = strokeWidthAndOffset.r;
  textureOffset = strokeWidthAndOffset.g;

  vec4 textrueStroke = vec4(-1.0, -1.0, -1.0, -1.0);
  if(hasStroke()) {
    vec2 valueRPos = nextPos(cellCurrentRow, cellCurrentColumn, columnCount, textureOffset);
    styleMappingMat[1][0] = pos2value(valueRPos, columnWidth, rowHeight); // R
    textureOffset += 1.0;

    vec2 valueGPos = nextPos(cellCurrentRow, cellCurrentColumn, columnCount, textureOffset);
    styleMappingMat[1][1] = pos2value(valueGPos, columnWidth, rowHeight); // G
    textureOffset += 1.0;

    vec2 valueBPos = nextPos(cellCurrentRow, cellCurrentColumn, columnCount, textureOffset);
    styleMappingMat[1][2] = pos2value(valueBPos, columnWidth, rowHeight); // B
    textureOffset += 1.0;

    vec2 valueAPos = nextPos(cellCurrentRow, cellCurrentColumn, columnCount, textureOffset);
    styleMappingMat[1][3] = pos2value(valueAPos, columnWidth, rowHeight); // A
    textureOffset += 1.0;
  } else {
    if(u_stroke_color == vec4(0.0)) {
      styleMappingMat[1][0] = v_color.r;
      styleMappingMat[1][1] = v_color.g;
      styleMappingMat[1][2] = v_color.b;
      styleMappingMat[1][3] = v_color.a;
    } else {
      styleMappingMat[1][0] = u_stroke_color.r;
      styleMappingMat[1][1] = u_stroke_color.g;
      styleMappingMat[1][2] = u_stroke_color.b;
      styleMappingMat[1][3] = u_stroke_color.a;
    }
  }
  
  // cal style mapping - \u6570\u636E\u7EB9\u7406\u6620\u5C04\u90E8\u5206\u7684\u8BA1\u7B97

  v_color = a_Color;
  v_uv = a_tex / u_sdf_map_size;

  // \u6587\u672C\u7F29\u653E\u6BD4\u4F8B
  float fontScale = a_Size / FONT_SIZE;
  v_fontScale = fontScale;

  vec4 project_pos = project_position(vec4(a_Position, 1.0));
  // vec4 projected_position  = project_common_position_to_clipspace(vec4(project_pos.xyz, 1.0));

  highp float angle_sin = sin(a_Rotate);
  highp float angle_cos = cos(a_Rotate);
  mat2 rotation_matrix = mat2(angle_cos, -1.0 * angle_sin, angle_sin, angle_cos);
  
  // gl_Position = vec4(projected_position.xy / projected_position.w + rotation_matrix * a_textOffsets * fontScale / u_ViewportSize * 2.0 * u_DevicePixelRatio, 0.0, 1.0);

  vec4 projected_position;
  if(u_CoordinateSystem == COORDINATE_SYSTEM_P20_2) { // gaode2.x
   projected_position  = u_Mvp * (vec4(a_Position.xyz, 1.0));
  } else { // else
   projected_position  = project_common_position_to_clipspace(vec4(project_pos.xyz, 1.0));
  }

  gl_Position = vec4(projected_position.xy / projected_position.w + rotation_matrix * a_textOffsets * fontScale / u_ViewportSize * 2.0 * u_DevicePixelRatio, 0.0, 1.0);
  v_gamma_scale = gl_Position.w;
  setPickingColor(a_PickingColor);

}
`;function ep(x){var j=this,L=x.id,R=[],N=[];if(!j.glyphInfoMap||!j.glyphInfoMap[L])return{vertices:[],indices:[],size:7};var W=j.glyphInfoMap[L].centroid,he=W.length===2?[W[0],W[1],0]:W;return j.glyphInfoMap[L].glyphQuads.forEach(function($e,st){R.push.apply(R,ft()(he).concat([$e.tex.x,$e.tex.y+$e.tex.height,$e.tl.x,$e.tl.y],ft()(he),[$e.tex.x+$e.tex.width,$e.tex.y+$e.tex.height,$e.tr.x,$e.tr.y],ft()(he),[$e.tex.x+$e.tex.width,$e.tex.y,$e.br.x,$e.br.y],ft()(he),[$e.tex.x,$e.tex.y,$e.bl.x,$e.bl.y])),N.push(0+st*4,1+st*4,2+st*4,2+st*4,3+st*4,0+st*4)}),{vertices:R,indices:N,size:7}}var tc=function(x){oe()(L,x);var j=hh(L);function L(){var R;T()(this,L);for(var N=arguments.length,W=new Array(N),he=0;he<N;he++)W[he]=arguments[he];return R=j.call.apply(j,[this].concat(W)),I()(k()(R),"glyphInfo",void 0),I()(k()(R),"glyphInfoMap",{}),I()(k()(R),"texture",void 0),I()(k()(R),"currentZoom",-1),I()(k()(R),"extent",void 0),I()(k()(R),"textureHeight",0),I()(k()(R),"textCount",0),I()(k()(R),"preTextStyle",{}),I()(k()(R),"buildModels",function(){return R.initGlyph(),R.updateTexture(),R.filterGlyphs(),R.reBuildModel(),[R.layer.buildLayerModel({moduleName:"pointText",vertexShader:Uu,fragmentShader:td,triangulation:ep.bind(k()(R)),depth:{enable:!1},blend:R.getBlend()})]}),R}return u()(L,[{key:"getUninforms",value:function(){var N=this.layer.getLayerConfig(),W=N.opacity,he=W===void 0?1:W,$e=N.stroke,st=$e===void 0?"#fff":$e,Yt=N.strokeWidth,hr=Yt===void 0?0:Yt,yr=N.textAnchor,Zr=yr===void 0?"center":yr,on=N.textAllowOverlap,ca=on===void 0?!1:on,Ra=N.halo,Ga=Ra===void 0?.5:Ra,Ji=N.gamma,go=Ji===void 0?2:Ji,jo=this.fontService,Mo=jo.canvas,$i=jo.mapping;if(Object.keys($i).length!==this.textCount&&(this.updateTexture(),this.textCount=Object.keys($i).length),this.preTextStyle={textAnchor:Zr,textAllowOverlap:ca},this.dataTextureTest&&this.dataTextureNeedUpdate({opacity:he,strokeWidth:hr,stroke:st})){this.judgeStyleAttributes({opacity:he,strokeWidth:hr,stroke:st});var Ho=this.layer.getEncodedData(),Ta=this.calDataFrame(this.cellLength,Ho,this.cellProperties),Rs=Ta.data,hi=Ta.width,Sl=Ta.height;this.rowCount=Sl,this.dataTexture=this.cellLength>0&&Rs.length>0?this.createTexture2D({flipY:!0,data:Rs,format:M.gl.LUMINANCE,type:M.gl.FLOAT,width:hi,height:Sl}):this.createTexture2D({flipY:!0,data:[1],format:M.gl.LUMINANCE,type:M.gl.FLOAT,width:1,height:1})}return{u_dataTexture:this.dataTexture,u_cellTypeLayout:this.getCellTypeLayout(),u_opacity:Ke()(he)?he:1,u_stroke_width:Ke()(hr)?hr:0,u_stroke_color:this.getStrokeColor(st),u_sdf_map:this.texture,u_halo_blur:Ga,u_gamma_scale:go,u_sdf_map_size:[Mo.width,Mo.height]}}},{key:"initModels",value:function(){this.layer.on("remapping",this.buildModels),this.extent=this.textExtent();var N=this.layer.getLayerConfig(),W=N.textAnchor,he=W===void 0?"center":W,$e=N.textAllowOverlap,st=$e===void 0?!0:$e;return this.preTextStyle={textAnchor:he,textAllowOverlap:st},this.buildModels()}},{key:"needUpdate",value:function(){var N=this.layer.getLayerConfig(),W=N.textAllowOverlap,he=W===void 0?!1:W,$e=this.mapService.getZoom(),st=this.mapService.getBounds(),Yt=Object(yt.j)(this.extent,st);return!he&&(Math.abs(this.currentZoom-$e)>1||!Yt)||he!==this.preTextStyle.textAllowOverlap?(this.reBuildModel(),!0):!1}},{key:"clearModels",value:function(){var N;(N=this.dataTexture)===null||N===void 0||N.destroy(),this.layer.off("remapping",this.buildModels)}},{key:"registerBuiltinAttributes",value:function(){this.styleAttributeService.registerStyleAttribute({name:"rotate",type:M.AttributeType.Attribute,descriptor:{name:"a_Rotate",buffer:{usage:M.gl.DYNAMIC_DRAW,data:[],type:M.gl.FLOAT},size:1,update:function(W,he,$e,st){var Yt=W.rotate,hr=Yt===void 0?0:Yt;return Array.isArray(hr)?[hr[0]]:[hr]}}}),this.styleAttributeService.registerStyleAttribute({name:"textOffsets",type:M.AttributeType.Attribute,descriptor:{name:"a_textOffsets",buffer:{usage:M.gl.STATIC_DRAW,data:[],type:M.gl.FLOAT},size:2,update:function(W,he,$e,st){return[$e[5],$e[6]]}}}),this.styleAttributeService.registerStyleAttribute({name:"size",type:M.AttributeType.Attribute,descriptor:{name:"a_Size",buffer:{usage:M.gl.DYNAMIC_DRAW,data:[],type:M.gl.FLOAT},size:1,update:function(W,he,$e,st){var Yt=W.size,hr=Yt===void 0?12:Yt;return Array.isArray(hr)?[hr[0]]:[hr]}}}),this.styleAttributeService.registerStyleAttribute({name:"textUv",type:M.AttributeType.Attribute,descriptor:{name:"a_tex",buffer:{usage:M.gl.DYNAMIC_DRAW,data:[],type:M.gl.FLOAT},size:2,update:function(W,he,$e,st){return[$e[3],$e[4]]}}})}},{key:"textExtent",value:function(){var N=this.mapService.getBounds();return Object(yt.r)(N,.5)}},{key:"initTextFont",value:function(){var N=this.layer.getLayerConfig(),W=N.fontWeight,he=W===void 0?"400":W,$e=N.fontFamily,st=$e===void 0?"sans-serif":$e,Yt=this.layer.getEncodedData(),hr=[];Yt.forEach(function(yr){var Zr=yr.shape,on=Zr===void 0?"":Zr;on=on.toString();var ca=Ih(on),Ra;try{for(ca.s();!(Ra=ca.n()).done;){var Ga=Ra.value;hr.indexOf(Ga)===-1&&hr.push(Ga)}}catch(Ji){ca.e(Ji)}finally{ca.f()}}),this.fontService.setFontOptions({characterSet:hr,fontWeight:he,fontFamily:st,iconfont:!1})}},{key:"initIconFontTex",value:function(){var N=this.layer.getLayerConfig(),W=N.fontWeight,he=W===void 0?"400":W,$e=N.fontFamily,st=$e===void 0?"sans-serif":$e,Yt=this.layer.getEncodedData(),hr=[];Yt.forEach(function(yr){var Zr=yr.shape,on=Zr===void 0?"":Zr;on=on.toString(),hr.indexOf(on)===-1&&hr.push(on)}),this.fontService.setFontOptions({characterSet:hr,fontWeight:he,fontFamily:st,iconfont:!0})}},{key:"generateGlyphLayout",value:function(N){var W=this,he=this.fontService.mapping,$e=this.layer.getLayerConfig(),st=$e.spacing,Yt=st===void 0?2:st,hr=$e.textAnchor,yr=hr===void 0?"center":hr,Zr=this.layer.getEncodedData();this.glyphInfo=Zr.map(function(on){var ca=on.shape,Ra=ca===void 0?"":ca,Ga=on.id,Ji=on.size,go=Ji===void 0?1:Ji,jo=on.textOffset,Mo=jo===void 0?[0,0]:jo,$i=Kc(Ra.toString(),he,go,yr,"center",Yt,Mo,N),Ho=qh($i,Mo,!1);return on.shaping=$i,on.glyphQuads=Ho,on.centroid=Qn(on.coordinates),on.originCentroid=on.version==="GAODE2.x"?Qn(on.originCoordinates):on.originCentroid=on.centroid,W.glyphInfoMap[Ga]={shaping:$i,glyphQuads:Ho,centroid:Qn(on.coordinates)},on})}},{key:"filterGlyphs",value:function(){var N=this,W=this.layer.getLayerConfig(),he=W.padding,$e=he===void 0?[4,4]:he,st=W.textAllowOverlap,Yt=st===void 0?!1:st;if(!Yt){this.glyphInfoMap={},this.currentZoom=this.mapService.getZoom(),this.extent=this.textExtent();var hr=this.rendererService.getViewportSize(),yr=hr.width,Zr=hr.height,on=new Jh(yr,Zr),ca=this.glyphInfo.filter(function(Ra){var Ga=Ra.shaping,Ji=Ra.id,go=Ji===void 0?0:Ji,jo=Ra.version==="GAODE2.x"?Ra.originCentroid:Ra.centroid,Mo=Ra.size,$i=Mo/24,Ho=N.mapService.lngLatToContainer(jo),Ta=on.placeCollisionBox({x1:Ga.left*$i-$e[0],x2:Ga.right*$i+$e[0],y1:Ga.top*$i-$e[1],y2:Ga.bottom*$i+$e[1],anchorPointX:Ho.x,anchorPointY:Ho.y}),Rs=Ta.box;return Rs&&Rs.length?(on.insertCollisionBox(Rs,go),!0):!1});ca.forEach(function(Ra){N.glyphInfoMap[Ra.id]=Ra})}}},{key:"initGlyph",value:function(){var N=this.layer.getLayerConfig(),W=N.iconfont,he=W===void 0?!1:W;he?this.initIconFontTex():this.initTextFont(),this.generateGlyphLayout(he)}},{key:"updateTexture",value:function(){var N=this.rendererService.createTexture2D,W=this.fontService.canvas;this.textureHeight=W.height,this.texture&&this.texture.destroy(),this.texture=N({data:W,mag:M.gl.LINEAR,min:M.gl.LINEAR,width:W.width,height:W.height})}},{key:"reBuildModel",value:function(){this.filterGlyphs(),this.layer.models=[this.layer.buildLayerModel({moduleName:"pointText",vertexShader:Uu,fragmentShader:td,triangulation:ep.bind(this),depth:{enable:!1},blend:this.getBlend()})]}}]),L}(it),gu={fill:Th,image:ed,normal:Xo,extrude:Of,text:tc,icon:Hp},Zc=gu;function wf(x){var j=nu();return function(){var R=ve()(x),N;if(j){var W=ve()(this).constructor;N=Reflect.construct(R,arguments,W)}else N=R.apply(this,arguments);return Te()(this,N)}}function nu(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(x){return!1}}var Wf=function(x){oe()(L,x);var j=wf(L);function L(){var R;T()(this,L);for(var N=arguments.length,W=new Array(N),he=0;he<N;he++)W[he]=arguments[he];return R=j.call.apply(j,[this].concat(W)),I()(k()(R),"type","PointLayer"),R}return u()(L,[{key:"buildModels",value:function(){var N=this.getModelType();this.layerModel=new Zc[N](this),this.models=this.layerModel.initModels()}},{key:"rebuildModels",value:function(){this.models=this.layerModel.buildModels()}},{key:"getConfigSchema",value:function(){return{properties:{opacity:{type:"number",minimum:0,maximum:1}}}}},{key:"getDefaultConfig",value:function(){var N=this.getModelType(),W={normal:{blend:"additive"},fill:{blend:"normal"},extrude:{},image:{},icon:{},text:{blend:"normal"}};return W[N]}},{key:"getModelType",value:function(){var N=this.getEncodedData(),W=this.getLayerConfig(),he=W.shape2d,$e=W.shape3d,st=this.iconService.getIconMap(),Yt=N.find(function(yr){return yr.hasOwnProperty("shape")});if(Yt){var hr=Yt.shape;return hr==="dot"?"normal":(he==null?void 0:he.indexOf(hr))!==-1?"fill":($e==null?void 0:$e.indexOf(hr))!==-1?"extrude":st.hasOwnProperty(hr)?"image":this.fontService.getGlyph(hr)!==""?"icon":"text"}else return"normal"}}]),L}(Nt);function Qd(x){var j=Gf();return function(){var R=ve()(x),N;if(j){var W=ve()(this).constructor;N=Reflect.construct(R,arguments,W)}else N=R.apply(this,arguments);return Te()(this,N)}}function Gf(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(x){return!1}}var Rh=`uniform float u_opacity: 1.0;
varying vec4 v_Color;
varying mat4 styleMappingMat; // \u4F20\u9012\u4ECE\u7247\u5143\u4E2D\u4F20\u9012\u7684\u6620\u5C04\u6570\u636E
#pragma include "picking"

void main() {
  float opacity = styleMappingMat[0][0];
  gl_FragColor = v_Color;
  // gl_FragColor.a *= u_opacity;
  gl_FragColor.a *= opacity;
  gl_FragColor = filterColor(gl_FragColor);
}
`,Jd=`precision highp float;

#define ambientRatio 0.5
#define diffuseRatio 0.3
#define specularRatio 0.2

attribute vec4 a_Color;
attribute vec3 a_Position;
attribute vec3 a_Normal;
attribute float a_Size;
uniform mat4 u_ModelMatrix;
uniform mat4 u_Mvp;

varying vec4 v_Color;
uniform float u_opacity: 1.0;
varying mat4 styleMappingMat; // \u7528\u4E8E\u5C06\u5728\u9876\u70B9\u7740\u8272\u5668\u4E2D\u8BA1\u7B97\u597D\u7684\u6837\u5F0F\u503C\u4F20\u9012\u7ED9\u7247\u5143

#pragma include "styleMapping"
#pragma include "styleMappingCalOpacity"

#pragma include "projection"
#pragma include "light"
#pragma include "picking"

void main() {
  // cal style mapping - \u6570\u636E\u7EB9\u7406\u6620\u5C04\u90E8\u5206\u7684\u8BA1\u7B97
  styleMappingMat = mat4(
    0.0, 0.0, 0.0, 0.0, // opacity - strokeOpacity - strokeWidth - empty
    0.0, 0.0, 0.0, 0.0, // strokeR - strokeG - strokeB - strokeA
    0.0, 0.0, 0.0, 0.0, // offsets[0] - offsets[1]
    0.0, 0.0, 0.0, 0.0
  );

  float rowCount = u_cellTypeLayout[0][0];    // \u5F53\u524D\u7684\u6570\u636E\u7EB9\u7406\u6709\u51E0\u884C
  float columnCount = u_cellTypeLayout[0][1]; // \u5F53\u770B\u5230\u6570\u636E\u7EB9\u7406\u6709\u51E0\u5217
  float columnWidth = 1.0/columnCount;  // \u5217\u5BBD
  float rowHeight = 1.0/rowCount;       // \u884C\u9AD8
  float cellCount = calCellCount(); // opacity - strokeOpacity - strokeWidth - stroke - offsets
  float id = a_vertexId; // \u7B2Cn\u4E2A\u9876\u70B9
  float cellCurrentRow = floor(id * cellCount / columnCount) + 1.0; // \u8D77\u59CB\u70B9\u5728\u7B2C\u51E0\u884C
  float cellCurrentColumn = mod(id * cellCount, columnCount) + 1.0; // \u8D77\u59CB\u70B9\u5728\u7B2C\u51E0\u5217
  
  // cell \u56FA\u5B9A\u987A\u5E8F opacity -> strokeOpacity -> strokeWidth -> stroke ... 
  // \u6309\u987A\u5E8F\u4ECE cell \u4E2D\u53D6\u503C\u3001\u82E5\u6CA1\u6709\u5219\u81EA\u52A8\u5F80\u4E0B\u53D6\u503C
  float textureOffset = 0.0; // \u5728 cell \u4E2D\u53D6\u503C\u7684\u504F\u79FB\u91CF

  vec2 opacityAndOffset = calOpacityAndOffset(cellCurrentRow, cellCurrentColumn, columnCount, textureOffset, columnWidth, rowHeight);
  styleMappingMat[0][0] = opacityAndOffset.r;
  textureOffset = opacityAndOffset.g;
  // cal style mapping - \u6570\u636E\u7EB9\u7406\u6620\u5C04\u90E8\u5206\u7684\u8BA1\u7B97
  vec4 pos = vec4(a_Position.xy, a_Position.z * a_Size, 1.0);
  vec4 project_pos = project_position(pos);

  // gl_Position = project_common_position_to_clipspace(vec4(project_pos.xyz, 1.0));

  if(u_CoordinateSystem == COORDINATE_SYSTEM_P20_2) { // gaode2.x
    // gl_Position = u_Mvp * (vec4(project_pos.xyz * vec3(1.0, 1.0, -1.0), 1.0));
    gl_Position = u_Mvp * (vec4(project_pos.xyz, 1.0));
  } else {
    gl_Position = project_common_position_to_clipspace(vec4(project_pos.xyz, 1.0));
  }

  float lightWeight = calc_lighting(pos);
  // v_Color = a_Color;
  v_Color = vec4(a_Color.rgb * lightWeight, a_Color.w);

  setPickingColor(a_PickingColor);
}
`,Tf=function(x){oe()(L,x);var j=Qd(L);function L(){return T()(this,L),j.apply(this,arguments)}return u()(L,[{key:"getUninforms",value:function(){var N=this.layer.getLayerConfig(),W=N.opacity,he=W===void 0?1:W;if(this.dataTextureTest&&this.dataTextureNeedUpdate({opacity:he})){this.judgeStyleAttributes({opacity:he});var $e=this.layer.getEncodedData(),st=this.calDataFrame(this.cellLength,$e,this.cellProperties),Yt=st.data,hr=st.width,yr=st.height;this.rowCount=yr,this.dataTexture=this.cellLength>0&&Yt.length>0?this.createTexture2D({flipY:!0,data:Yt,format:M.gl.LUMINANCE,type:M.gl.FLOAT,width:hr,height:yr}):this.createTexture2D({flipY:!0,data:[1],format:M.gl.LUMINANCE,type:M.gl.FLOAT,width:1,height:1})}return{u_dataTexture:this.dataTexture,u_cellTypeLayout:this.getCellTypeLayout(),u_opacity:Ke()(he)?he:1}}},{key:"initModels",value:function(){return this.buildModels()}},{key:"buildModels",value:function(){return[this.layer.buildLayerModel({moduleName:"polygonExtrude",vertexShader:Jd,fragmentShader:Rh,triangulation:vi})]}},{key:"clearModels",value:function(){var N;(N=this.dataTexture)===null||N===void 0||N.destroy()}},{key:"registerBuiltinAttributes",value:function(){this.styleAttributeService.registerStyleAttribute({name:"normal",type:M.AttributeType.Attribute,descriptor:{name:"a_Normal",buffer:{usage:M.gl.STATIC_DRAW,data:[],type:M.gl.FLOAT},size:3,update:function(W,he,$e,st,Yt){return Yt}}}),this.styleAttributeService.registerStyleAttribute({name:"size",type:M.AttributeType.Attribute,descriptor:{name:"a_Size",buffer:{usage:M.gl.DYNAMIC_DRAW,data:[],type:M.gl.FLOAT},size:1,update:function(W,he,$e,st){var Yt=W.size,hr=Yt===void 0?10:Yt;return Array.isArray(hr)?[hr[0]]:[hr]}}})}}]),L}(it);function gc(x){var j=_s();return function(){var R=ve()(x),N;if(j){var W=ve()(this).constructor;N=Reflect.construct(R,arguments,W)}else N=R.apply(this,arguments);return Te()(this,N)}}function _s(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(x){return!1}}var yd=`uniform float u_opacity: 1.0;
varying vec4 v_Color;
varying mat4 styleMappingMat; // \u4F20\u9012\u4ECE\u7247\u5143\u4E2D\u4F20\u9012\u7684\u6620\u5C04\u6570\u636E

#pragma include "picking"

void main() {
  float opacity = styleMappingMat[0][0];
  gl_FragColor = v_Color;
  // gl_FragColor.a *= u_opacity;
  gl_FragColor.a *= opacity;
  gl_FragColor = filterColor(gl_FragColor);
}
`,rd=`attribute vec4 a_Color;
attribute vec3 a_Position;
attribute vec3 a_Normal;
attribute float a_Size;
uniform mat4 u_ModelMatrix;
uniform mat4 u_Mvp;

varying vec4 v_Color;
uniform float u_opacity: 1.0;
varying mat4 styleMappingMat; // \u7528\u4E8E\u5C06\u5728\u9876\u70B9\u7740\u8272\u5668\u4E2D\u8BA1\u7B97\u597D\u7684\u6837\u5F0F\u503C\u4F20\u9012\u7ED9\u7247\u5143

#pragma include "styleMapping"
#pragma include "styleMappingCalOpacity"

#pragma include "projection"
#pragma include "picking"

void main() {
  // cal style mapping - \u6570\u636E\u7EB9\u7406\u6620\u5C04\u90E8\u5206\u7684\u8BA1\u7B97
styleMappingMat = mat4(
    0.0, 0.0, 0.0, 0.0, // opacity - strokeOpacity - strokeWidth - empty
    0.0, 0.0, 0.0, 0.0, // strokeR - strokeG - strokeB - strokeA
    0.0, 0.0, 0.0, 0.0, // offsets[0] - offsets[1]
    0.0, 0.0, 0.0, 0.0
  );

  float rowCount = u_cellTypeLayout[0][0];    // \u5F53\u524D\u7684\u6570\u636E\u7EB9\u7406\u6709\u51E0\u884C
  float columnCount = u_cellTypeLayout[0][1]; // \u5F53\u770B\u5230\u6570\u636E\u7EB9\u7406\u6709\u51E0\u5217
  float columnWidth = 1.0/columnCount;  // \u5217\u5BBD
  float rowHeight = 1.0/rowCount;       // \u884C\u9AD8
  float cellCount = calCellCount(); // opacity - strokeOpacity - strokeWidth - stroke - offsets
  float id = a_vertexId; // \u7B2Cn\u4E2A\u9876\u70B9
  float cellCurrentRow = floor(id * cellCount / columnCount) + 1.0; // \u8D77\u59CB\u70B9\u5728\u7B2C\u51E0\u884C
  float cellCurrentColumn = mod(id * cellCount, columnCount) + 1.0; // \u8D77\u59CB\u70B9\u5728\u7B2C\u51E0\u5217
  
  // cell \u56FA\u5B9A\u987A\u5E8F opacity -> strokeOpacity -> strokeWidth -> stroke ... 
  // \u6309\u987A\u5E8F\u4ECE cell \u4E2D\u53D6\u503C\u3001\u82E5\u6CA1\u6709\u5219\u81EA\u52A8\u5F80\u4E0B\u53D6\u503C
  float textureOffset = 0.0; // \u5728 cell \u4E2D\u53D6\u503C\u7684\u504F\u79FB\u91CF

  vec2 opacityAndOffset = calOpacityAndOffset(cellCurrentRow, cellCurrentColumn, columnCount, textureOffset, columnWidth, rowHeight);
  styleMappingMat[0][0] = opacityAndOffset.r;
  textureOffset = opacityAndOffset.g;
  // cal style mapping - \u6570\u636E\u7EB9\u7406\u6620\u5C04\u90E8\u5206\u7684\u8BA1\u7B97

  v_Color = a_Color;
  vec4 project_pos = project_position(vec4(a_Position, 1.0));
  // gl_Position = project_common_position_to_clipspace(vec4(project_pos.xyz, 1.0));

  if(u_CoordinateSystem == COORDINATE_SYSTEM_P20_2) { // gaode2.x
    gl_Position = u_Mvp * (vec4(project_pos.xyz, 1.0));
  } else {
    gl_Position = project_common_position_to_clipspace(vec4(project_pos.xyz, 1.0));
  }

  setPickingColor(a_PickingColor);
}

`,sl=function(x){oe()(L,x);var j=gc(L);function L(){return T()(this,L),j.apply(this,arguments)}return u()(L,[{key:"getUninforms",value:function(){var N=this.layer.getLayerConfig(),W=N.opacity,he=W===void 0?1:W;if(this.dataTextureTest&&this.dataTextureNeedUpdate({opacity:he})){this.judgeStyleAttributes({opacity:he});var $e=this.layer.getEncodedData(),st=this.calDataFrame(this.cellLength,$e,this.cellProperties),Yt=st.data,hr=st.width,yr=st.height;this.rowCount=yr,this.dataTexture=this.cellLength>0&&Yt.length>0?this.createTexture2D({flipY:!0,data:Yt,format:M.gl.LUMINANCE,type:M.gl.FLOAT,width:hr,height:yr}):this.createTexture2D({flipY:!0,data:[1],format:M.gl.LUMINANCE,type:M.gl.FLOAT,width:1,height:1})}return{u_dataTexture:this.dataTexture,u_cellTypeLayout:this.getCellTypeLayout(),u_opacity:Ke()(he)?he:1}}},{key:"initModels",value:function(){return this.buildModels()}},{key:"buildModels",value:function(){return[this.layer.buildLayerModel({moduleName:"polygon",vertexShader:rd,fragmentShader:yd,triangulation:so,blend:this.getBlend(),depth:{enable:!1}})]}},{key:"clearModels",value:function(){var N;(N=this.dataTexture)===null||N===void 0||N.destroy()}},{key:"registerBuiltinAttributes",value:function(){}}]),L}(it),Mu={fill:sl,line:jd,extrude:Tf,text:tc,point_fill:Th,point_image:ed,point_normal:Xo,point_extrude:Of},ff=Mu;function Af(x){var j=jc();return function(){var R=ve()(x),N;if(j){var W=ve()(this).constructor;N=Reflect.construct(R,arguments,W)}else N=R.apply(this,arguments);return Te()(this,N)}}function jc(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(x){return!1}}var ph=function(x){oe()(L,x);var j=Af(L);function L(){var R;T()(this,L);for(var N=arguments.length,W=new Array(N),he=0;he<N;he++)W[he]=arguments[he];return R=j.call.apply(j,[this].concat(W)),I()(k()(R),"type","PolygonLayer"),R}return u()(L,[{key:"buildModels",value:function(){var N=this.getModelType();this.layerModel=new ff[N](this),this.models=this.layerModel.initModels()}},{key:"rebuildModels",value:function(){this.models=this.layerModel.buildModels()}},{key:"getConfigSchema",value:function(){return{properties:{opacity:{type:"number",minimum:0,maximum:1}}}}},{key:"getModelType",value:function(){var N,W=this.styleAttributeService.getLayerStyleAttribute("shape"),he=W==null||(N=W.scale)===null||N===void 0?void 0:N.field;return he==="fill"?"fill":he==="extrude"?"extrude":he==="line"?"line":this.getPointModelType()}},{key:"getPointModelType",value:function(){var N=this.getEncodedData(),W=this.getLayerConfig(),he=W.shape2d,$e=W.shape3d,st=this.iconService.getIconMap(),Yt=N.find(function(yr){return yr.hasOwnProperty("shape")});if(Yt){var hr=Yt.shape;return hr==="dot"?"point_normal":(he==null?void 0:he.indexOf(hr))!==-1?"point_fill":($e==null?void 0:$e.indexOf(hr))!==-1?"point_extrude":st.hasOwnProperty(hr)?"point_image":"text"}else return"fill"}}]),L}(Nt);function Io(x){var j=Mi();return function(){var R=ve()(x),N;if(j){var W=ve()(this).constructor;N=Reflect.construct(R,arguments,W)}else N=R.apply(this,arguments);return Te()(this,N)}}function Mi(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(x){return!1}}var df=`precision mediump float;
uniform float u_opacity: 1.0;
uniform sampler2D u_texture;
uniform sampler2D u_colorTexture;
uniform float u_min;
uniform float u_max;
uniform vec2 u_domain;
uniform float u_noDataValue;
uniform bool u_clampLow: true;
uniform bool u_clampHigh: true;
varying vec2 v_texCoord;

void main() {

  float value = texture2D(u_texture,vec2(v_texCoord.x,v_texCoord.y)).r;
  if (value == u_noDataValue)
    gl_FragColor = vec4(0.0, 0, 0, 0.0);
  else if ((!u_clampLow && value < u_domain[0]) || (!u_clampHigh && value > u_domain[1]))
    gl_FragColor = vec4(0, 0, 0, 0);
  else {
    float normalisedValue =(value - u_domain[0]) / (u_domain[1] -u_domain[0]);
    vec4 color = texture2D(u_colorTexture,vec2(normalisedValue, 0));
    gl_FragColor = color;
    gl_FragColor.a =  gl_FragColor.a * u_opacity ;
  }


}
`,_u=`precision highp float;
uniform mat4 u_ModelMatrix;
uniform mat4 u_Mvp;
attribute vec3 a_Position;
attribute vec2 a_Uv;
varying vec2 v_texCoord;
#pragma include "projection"
void main() {
   v_texCoord = a_Uv;
   vec4 project_pos = project_position(vec4(a_Position, 1.0));
   gl_Position = project_common_position_to_clipspace(vec4(project_pos.xy,0., 1.0));

   if(u_CoordinateSystem == COORDINATE_SYSTEM_P20_2) { // gaode2.x
      gl_Position = u_Mvp * (vec4(project_pos.xy,0., 1.0));
   } else {
      gl_Position = project_common_position_to_clipspace(vec4(project_pos.xy,0., 1.0));
   }
}
`,cc=function(x){oe()(L,x);var j=Io(L);function L(){var R;T()(this,L);for(var N=arguments.length,W=new Array(N),he=0;he<N;he++)W[he]=arguments[he];return R=j.call.apply(j,[this].concat(W)),I()(k()(R),"texture",void 0),I()(k()(R),"colorTexture",void 0),R}return u()(L,[{key:"getUninforms",value:function(){var N=this.layer.getLayerConfig(),W=N.opacity,he=W===void 0?1:W,$e=N.clampLow,st=$e===void 0?!0:$e,Yt=N.clampHigh,hr=Yt===void 0?!0:Yt,yr=N.noDataValue,Zr=yr===void 0?-9999999:yr,on=N.domain,ca=on===void 0?[0,1]:on;return this.updateColorTexure(),{u_opacity:he||1,u_texture:this.texture,u_domain:ca,u_clampLow:st,u_clampHigh:typeof hr!="undefined"?hr:st,u_noDataValue:Zr,u_colorTexture:this.colorTexture}}},{key:"initModels",value:function(){var N=this.layer.getSource(),W=this.rendererService.createTexture2D,he=N.data.dataArray[0];this.texture=W({data:he.data,width:he.width,height:he.height,format:M.gl.LUMINANCE,type:M.gl.FLOAT});var $e=this.layer.getLayerConfig(),st=$e.rampColors,Yt=Object(yt.n)(st);return this.colorTexture=W({data:Yt.data,width:Yt.width,height:Yt.height,flipY:!1}),[this.layer.buildLayerModel({moduleName:"RasterImageData",vertexShader:_u,fragmentShader:df,triangulation:bo,primitive:M.gl.TRIANGLES,depth:{enable:!1},blend:this.getBlend()})]}},{key:"buildModels",value:function(){return this.initModels()}},{key:"registerBuiltinAttributes",value:function(){this.styleAttributeService.registerStyleAttribute({name:"uv",type:M.AttributeType.Attribute,descriptor:{name:"a_Uv",buffer:{usage:M.gl.DYNAMIC_DRAW,data:[],type:M.gl.FLOAT},size:2,update:function(W,he,$e,st){return[$e[3],$e[4]]}}})}},{key:"updateColorTexure",value:function(){var N=this.rendererService.createTexture2D,W=this.layer.getLayerConfig(),he=W.rampColors,$e=Object(yt.n)(he);this.colorTexture=N({data:$e.data,width:$e.width,height:$e.height,flipY:!1})}}]),L}(it),$u={raster:cc,raster3d:cc},Mf=$u;function Ac(x){var j=qd();return function(){var R=ve()(x),N;if(j){var W=ve()(this).constructor;N=Reflect.construct(R,arguments,W)}else N=R.apply(this,arguments);return Te()(this,N)}}function qd(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(x){return!1}}var Dl=function(x){oe()(L,x);var j=Ac(L);function L(){var R;T()(this,L);for(var N=arguments.length,W=new Array(N),he=0;he<N;he++)W[he]=arguments[he];return R=j.call.apply(j,[this].concat(W)),I()(k()(R),"type","RasterLayer"),R}return u()(L,[{key:"buildModels",value:function(){var N=this.getModelType();this.layerModel=new Mf[N](this),this.models=this.layerModel.initModels()}},{key:"rebuildModels",value:function(){this.models=this.layerModel.buildModels()}},{key:"getConfigSchema",value:function(){return{properties:{opacity:{type:"number",minimum:0,maximum:1}}}}},{key:"getDefaultConfig",value:function(){var N=this.getModelType(),W={raster:{},raster3d:{}};return W[N]}},{key:"getModelType",value:function(){return"raster"}}]),L}(Nt),yu=r("BkRI"),eh=r.n(yu),_f,If,Mc,_c,dr,Iu,nd,rc,$s;function xp(x,j){var L=Object.keys(x);if(Object.getOwnPropertySymbols){var R=Object.getOwnPropertySymbols(x);j&&(R=R.filter(function(N){return Object.getOwnPropertyDescriptor(x,N).enumerable})),L.push.apply(L,R)}return L}function tp(x){for(var j=1;j<arguments.length;j++){var L=arguments[j]!=null?arguments[j]:{};j%2?xp(Object(L),!0).forEach(function(R){I()(x,R,L[R])}):Object.getOwnPropertyDescriptors?Object.defineProperties(x,Object.getOwnPropertyDescriptors(L)):xp(Object(L)).forEach(function(R){Object.defineProperty(x,R,Object.getOwnPropertyDescriptor(L,R))})}return x}var th=(_f=Object(Jt.injectable)(),If=Object(Jt.inject)(M.TYPES.IGlobalConfigService),Mc=Object(Jt.inject)(M.TYPES.IMapService),_c=Object(Jt.inject)(M.TYPES.IFontService),_f(dr=(Iu=function(){function x(){T()(this,x),We()(this,"configService",nd,this),We()(this,"mapService",rc,this),We()(this,"fontService",$s,this)}return u()(x,[{key:"apply",value:function(L,R){var N=this,W=R.styleAttributeService;L.hooks.init.tap("DataMappingPlugin",function(){N.generateMaping(L,{styleAttributeService:W})}),L.hooks.beforeRenderData.tap("DataMappingPlugin",function(){return L.dataState.dataMappingNeedUpdate=!1,N.generateMaping(L,{styleAttributeService:W}),!0}),L.hooks.beforeRender.tap("DataMappingPlugin",function(){if(!L.layerModelNeedUpdate){var he=W.getLayerStyleAttributes()||[],$e=W.getLayerStyleAttribute("filter"),st=L.getSource().data.dataArray,Yt=he.filter(function(yr){return yr.needRemapping}),hr=st;$e!=null&&$e.needRemapping&&$e!==null&&$e!==void 0&&$e.scale&&(hr=st.filter(function(yr){return N.applyAttributeMapping($e,yr)[0]})),Yt.length&&($e!=null&&$e.needRemapping?(L.setEncodedData(N.mapping(he,hr)),$e.needRemapping=!1):L.setEncodedData(N.mapping(Yt,hr,L.getEncodedData())),L.emit("remapping",null))}})}},{key:"generateMaping",value:function(L,R){var N=this,W=R.styleAttributeService,he=W.getLayerStyleAttributes()||[],$e=W.getLayerStyleAttribute("filter"),st=L.getSource().data.dataArray,Yt=st;$e!=null&&$e.scale&&(Yt=st.filter(function(hr){return N.applyAttributeMapping($e,hr)[0]})),L.setEncodedData(this.mapping(he,Yt))}},{key:"mapping",value:function(L,R,N){var W=this,he=R.map(function($e,st){var Yt=N?N[st]:{},hr=tp({id:$e._id,coordinates:$e.coordinates},Yt);return L.filter(function(yr){return yr.scale!==void 0}).forEach(function(yr){var Zr=W.applyAttributeMapping(yr,$e);yr.needRemapping=!1,yr.name==="color"&&(Zr=Zr.map(function(on){return Object(yt.s)(on)})),hr[yr.name]=Array.isArray(Zr)&&Zr.length===1?Zr[0]:Zr,yr.name==="shape"&&(hr.shape=W.fontService.getIconFontKey(hr[yr.name]))}),hr});return he.length>0&&this.mapService.version==="GAODE2.x"&&(typeof he[0].coordinates[0]=="number"?he.filter(function($e){return!$e.originCoordinates}).map(function($e){$e.version="GAODE2.x",$e.originCoordinates=eh()($e.coordinates),$e.coordinates=W.mapService.lngLatToCoord($e.coordinates)}):he.filter(function($e){return!$e.originCoordinates}).map(function($e){$e.version="GAODE2.x",$e.originCoordinates=eh()($e.coordinates),$e.coordinates=W.mapService.lngLatToCoords($e.coordinates)})),he}},{key:"applyAttributeMapping",value:function(L,R){var N;if(!L.scale)return[];var W=(L==null||(N=L.scale)===null||N===void 0?void 0:N.scalers)||[],he=[];return W.forEach(function($e){var st,Yt=$e.field;(R.hasOwnProperty(Yt)||((st=L.scale)===null||st===void 0?void 0:st.type)==="variable")&&he.push(R[Yt])}),L.mapping?L.mapping(he):[]}}]),x}(),nd=ce()(Iu.prototype,"configService",[If],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),rc=ce()(Iu.prototype,"mapService",[Mc],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),$s=ce()(Iu.prototype,"fontService",[_c],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Iu))||dr),ad=r("rlAn"),zd,bd,Yc=(zd=Object(Jt.injectable)(),zd(bd=function(){function x(){T()(this,x),I()(this,"mapService",void 0)}return u()(x,[{key:"apply",value:function(L){var R=this;this.mapService=L.getContainer().get(M.TYPES.IMapService),L.hooks.init.tap("DataSourcePlugin",function(){var N=L.getSource();if(!N){var W=L.sourceOption||{data:ad.DEFAULT_DATA,options:ad.DEFAULT_PARSER},he=W.data,$e=W.options;L.setSource(new ad.default(he,$e))}R.updateClusterData(L)}),L.hooks.beforeRenderData.tap("DataSourcePlugin",function(){var N=R.updateClusterData(L),W=L.dataState.dataSourceNeedUpdate;return L.dataState.dataSourceNeedUpdate=!1,N||W})}},{key:"updateClusterData",value:function(L){var R=L.getSource(),N=R.cluster,W=R.clusterOptions,he=W.zoom,$e=he===void 0?0:he,st=W.maxZoom,Yt=st===void 0?16:st,hr=this.mapService.getZoom()-1,yr=L.dataState.dataSourceNeedUpdate;return N&&(yr||Math.abs($e-hr)>1)&&Yt>$e?(R.updateClusterData(Math.floor(hr)),!0):!1}}]),x}())||bd),Ud=r("7tbW"),Rf=r.n(Ud),$c=r("J2iB"),id=r.n($c),Vd=function(x,j){return x<j?-1:x>j?1:x>=j?0:NaN},Cp=function(x){return x.length===1&&(x=v(x)),{left:function(L,R,N,W){for(N==null&&(N=0),W==null&&(W=L.length);N<W;){var he=N+W>>>1;x(L[he],R)<0?N=he+1:W=he}return N},right:function(L,R,N,W){for(N==null&&(N=0),W==null&&(W=L.length);N<W;){var he=N+W>>>1;x(L[he],R)>0?W=he:N=he+1}return N}}};function v(x){return function(j,L){return Vd(x(j),L)}}var c=Cp(Vd),l=c.right,g=c.left,F=l,Q=function(x,j){j==null&&(j=se);for(var L=0,R=x.length-1,N=x[0],W=new Array(R<0?0:R);L<R;)W[L]=j(N,N=x[++L]);return W};function se(x,j){return[x,j]}var _e=function(x,j,L){var R=x.length,N=j.length,W=new Array(R*N),he,$e,st,Yt;for(L==null&&(L=se),he=st=0;he<R;++he)for(Yt=x[he],$e=0;$e<N;++$e,++st)W[st]=L(Yt,j[$e]);return W},mt=function(x,j){return j<x?-1:j>x?1:j>=x?0:NaN},Rt=function(x){return x===null?NaN:+x},ir=function(x,j){var L=x.length,R=0,N=-1,W=0,he,$e,st=0;if(j==null)for(;++N<L;)isNaN(he=Rt(x[N]))||($e=he-W,W+=$e/++R,st+=$e*(he-W));else for(;++N<L;)isNaN(he=Rt(j(x[N],N,x)))||($e=he-W,W+=$e/++R,st+=$e*(he-W));if(R>1)return st/(R-1)},rr=function(x,j){var L=ir(x,j);return L&&Math.sqrt(L)},ur=function(x,j){var L=x.length,R=-1,N,W,he;if(j==null){for(;++R<L;)if((N=x[R])!=null&&N>=N)for(W=he=N;++R<L;)(N=x[R])!=null&&(W>N&&(W=N),he<N&&(he=N))}else for(;++R<L;)if((N=j(x[R],R,x))!=null&&N>=N)for(W=he=N;++R<L;)(N=j(x[R],R,x))!=null&&(W>N&&(W=N),he<N&&(he=N));return[W,he]},kr=Array.prototype,Nr=kr.slice,Xr=kr.map,Br=function(x){return function(){return x}},Hr=function(x){return x},hn=function(x,j,L){x=+x,j=+j,L=(N=arguments.length)<2?(j=x,x=0,1):N<3?1:+L;for(var R=-1,N=Math.max(0,Math.ceil((j-x)/L))|0,W=new Array(N);++R<N;)W[R]=x+R*L;return W},pn=Math.sqrt(50),la=Math.sqrt(10),Gn=Math.sqrt(2),aa=function(x,j,L){var R,N=-1,W,he,$e;if(j=+j,x=+x,L=+L,x===j&&L>0)return[x];if((R=j<x)&&(W=x,x=j,j=W),($e=sa(x,j,L))===0||!isFinite($e))return[];if($e>0)for(x=Math.ceil(x/$e),j=Math.floor(j/$e),he=new Array(W=Math.ceil(j-x+1));++N<W;)he[N]=(x+N)*$e;else for(x=Math.floor(x*$e),j=Math.ceil(j*$e),he=new Array(W=Math.ceil(x-j+1));++N<W;)he[N]=(x-N)/$e;return R&&he.reverse(),he};function sa(x,j,L){var R=(j-x)/Math.max(0,L),N=Math.floor(Math.log(R)/Math.LN10),W=R/Math.pow(10,N);return N>=0?(W>=pn?10:W>=la?5:W>=Gn?2:1)*Math.pow(10,N):-Math.pow(10,-N)/(W>=pn?10:W>=la?5:W>=Gn?2:1)}function Ya(x,j,L){var R=Math.abs(j-x)/Math.max(0,L),N=Math.pow(10,Math.floor(Math.log(R)/Math.LN10)),W=R/N;return W>=pn?N*=10:W>=la?N*=5:W>=Gn&&(N*=2),j<x?-N:N}var Ka=function(x){return Math.ceil(Math.log(x.length)/Math.LN2)+1},Di=function(){var x=Hr,j=ur,L=Ka;function R(N){var W,he=N.length,$e,st=new Array(he);for(W=0;W<he;++W)st[W]=x(N[W],W,N);var Yt=j(st),hr=Yt[0],yr=Yt[1],Zr=L(st,hr,yr);Array.isArray(Zr)||(Zr=Ya(hr,yr,Zr),Zr=hn(Math.ceil(hr/Zr)*Zr,yr,Zr));for(var on=Zr.length;Zr[0]<=hr;)Zr.shift(),--on;for(;Zr[on-1]>yr;)Zr.pop(),--on;var ca=new Array(on+1),Ra;for(W=0;W<=on;++W)Ra=ca[W]=[],Ra.x0=W>0?Zr[W-1]:hr,Ra.x1=W<on?Zr[W]:yr;for(W=0;W<he;++W)$e=st[W],hr<=$e&&$e<=yr&&ca[F(Zr,$e,0,on)].push(N[W]);return ca}return R.value=function(N){return arguments.length?(x=typeof N=="function"?N:Br(N),R):x},R.domain=function(N){return arguments.length?(j=typeof N=="function"?N:Br([N[0],N[1]]),R):j},R.thresholds=function(N){return arguments.length?(L=typeof N=="function"?N:Array.isArray(N)?Br(Nr.call(N)):Br(N),R):L},R},di=function(x,j,L){if(L==null&&(L=Rt),!!(R=x.length)){if((j=+j)<=0||R<2)return+L(x[0],0,x);if(j>=1)return+L(x[R-1],R-1,x);var R,N=(R-1)*j,W=Math.floor(N),he=+L(x[W],W,x),$e=+L(x[W+1],W+1,x);return he+($e-he)*(N-W)}},Eo=function(x,j,L){return x=Xr.call(x,Rt).sort(Vd),Math.ceil((L-j)/(2*(di(x,.75)-di(x,.25))*Math.pow(x.length,-1/3)))},Bo=function(x,j,L){return Math.ceil((L-j)/(3.5*rr(x)*Math.pow(x.length,-1/3)))},Wo=function(x,j){var L=x.length,R=-1,N,W;if(j==null){for(;++R<L;)if((N=x[R])!=null&&N>=N)for(W=N;++R<L;)(N=x[R])!=null&&N>W&&(W=N)}else for(;++R<L;)if((N=j(x[R],R,x))!=null&&N>=N)for(W=N;++R<L;)(N=j(x[R],R,x))!=null&&N>W&&(W=N);return W},ll=function(x,j){var L=x.length,R=L,N=-1,W,he=0;if(j==null)for(;++N<L;)isNaN(W=Rt(x[N]))?--R:he+=W;else for(;++N<L;)isNaN(W=Rt(j(x[N],N,x)))?--R:he+=W;if(R)return he/R},_i=function(x,j){var L=x.length,R=-1,N,W=[];if(j==null)for(;++R<L;)isNaN(N=Rt(x[R]))||W.push(N);else for(;++R<L;)isNaN(N=Rt(j(x[R],R,x)))||W.push(N);return di(W.sort(Vd),.5)},Qo=function(x){for(var j=x.length,L,R=-1,N=0,W,he;++R<j;)N+=x[R].length;for(W=new Array(N);--j>=0;)for(he=x[j],L=he.length;--L>=0;)W[--N]=he[L];return W},os=function(x,j){var L=x.length,R=-1,N,W;if(j==null){for(;++R<L;)if((N=x[R])!=null&&N>=N)for(W=N;++R<L;)(N=x[R])!=null&&W>N&&(W=N)}else for(;++R<L;)if((N=j(x[R],R,x))!=null&&N>=N)for(W=N;++R<L;)(N=j(x[R],R,x))!=null&&W>N&&(W=N);return W},qi=function(x,j){for(var L=j.length,R=new Array(L);L--;)R[L]=x[j[L]];return R},hs=function(x,j){if(!!(L=x.length)){var L,R=0,N=0,W,he=x[N];for(j==null&&(j=Vd);++R<L;)(j(W=x[R],he)<0||j(he,he)!==0)&&(he=W,N=R);if(j(he,he)===0)return N}},zo=function(x,j,L){for(var R=(L==null?x.length:L)-(j=j==null?0:+j),N,W;R;)W=Math.random()*R--|0,N=x[R+j],x[R+j]=x[W+j],x[W+j]=N;return x},us=function(x,j){var L=x.length,R=-1,N,W=0;if(j==null)for(;++R<L;)(N=+x[R])&&(W+=N);else for(;++R<L;)(N=+j(x[R],R,x))&&(W+=N);return W},Xs=function(x){if(!(W=x.length))return[];for(var j=-1,L=os(x,au),R=new Array(L);++j<L;)for(var N=-1,W,he=R[j]=new Array(W);++N<W;)he[N]=x[N][j];return R};function au(x){return x.length}var zs=function(){return Xs(arguments)};function pl(x,j){switch(arguments.length){case 0:break;case 1:this.range(x);break;default:this.range(j).domain(x);break}return this}function xl(x,j){switch(arguments.length){case 0:break;case 1:this.interpolator(x);break;default:this.interpolator(j).domain(x);break}return this}var Ns="$";function yc(){}yc.prototype=nc.prototype={constructor:yc,has:function(j){return Ns+j in this},get:function(j){return this[Ns+j]},set:function(j,L){return this[Ns+j]=L,this},remove:function(j){var L=Ns+j;return L in this&&delete this[L]},clear:function(){for(var j in this)j[0]===Ns&&delete this[j]},keys:function(){var j=[];for(var L in this)L[0]===Ns&&j.push(L.slice(1));return j},values:function(){var j=[];for(var L in this)L[0]===Ns&&j.push(this[L]);return j},entries:function(){var j=[];for(var L in this)L[0]===Ns&&j.push({key:L.slice(1),value:this[L]});return j},size:function(){var j=0;for(var L in this)L[0]===Ns&&++j;return j},empty:function(){for(var j in this)if(j[0]===Ns)return!1;return!0},each:function(j){for(var L in this)L[0]===Ns&&j(this[L],L.slice(1),this)}};function nc(x,j){var L=new yc;if(x instanceof yc)x.each(function($e,st){L.set(st,$e)});else if(Array.isArray(x)){var R=-1,N=x.length,W;if(j==null)for(;++R<N;)L.set(R,x[R]);else for(;++R<N;)L.set(j(W=x[R],R,x),W)}else if(x)for(var he in x)L.set(he,x[he]);return L}var Ru=nc,Hd=function(){var x=[],j=[],L,R,N;function W($e,st,Yt,hr){if(st>=x.length)return L!=null&&$e.sort(L),R!=null?R($e):$e;for(var yr=-1,Zr=$e.length,on=x[st++],ca,Ra,Ga=Ru(),Ji,go=Yt();++yr<Zr;)(Ji=Ga.get(ca=on(Ra=$e[yr])+""))?Ji.push(Ra):Ga.set(ca,[Ra]);return Ga.each(function(jo,Mo){hr(go,Mo,W(jo,st,Yt,hr))}),go}function he($e,st){if(++st>x.length)return $e;var Yt,hr=j[st-1];return R!=null&&st>=x.length?Yt=$e.entries():(Yt=[],$e.each(function(yr,Zr){Yt.push({key:Zr,values:he(yr,st)})})),hr!=null?Yt.sort(function(yr,Zr){return hr(yr.key,Zr.key)}):Yt}return N={object:function(st){return W(st,0,Ft,Ht)},map:function(st){return W(st,0,Ue,He)},entries:function(st){return he(W(st,0,Ue,He),0)},key:function(st){return x.push(st),N},sortKeys:function(st){return j[x.length-1]=st,N},sortValues:function(st){return L=st,N},rollup:function(st){return R=st,N}}};function Ft(){return{}}function Ht(x,j,L){x[j]=L}function Ue(){return Ru()}function He(x,j,L){x.set(j,L)}function Zt(){}var cr=Ru.prototype;Zt.prototype=ln.prototype={constructor:Zt,has:cr.has,add:function(j){return j+="",this[Ns+j]=j,this},remove:cr.remove,clear:cr.clear,values:cr.keys,size:cr.size,empty:cr.empty,each:cr.each};function ln(x,j){var L=new Zt;if(x instanceof Zt)x.each(function(W){L.add(W)});else if(x){var R=-1,N=x.length;if(j==null)for(;++R<N;)L.add(x[R]);else for(;++R<N;)L.add(j(x[R],R,x))}return L}var Mn=ln,Cn=function(x){var j=[];for(var L in x)j.push(L);return j},qn=function(x){var j=[];for(var L in x)j.push(x[L]);return j},Ea=function(x){var j=[];for(var L in x)j.push({key:L,value:x[L]});return j},ji=Array.prototype,ro=ji.map,Ao=ji.slice,uo={name:"implicit"};function So(){var x=Ru(),j=[],L=[],R=uo;function N(W){var he=W+"",$e=x.get(he);if(!$e){if(R!==uo)return R;x.set(he,$e=j.push(W))}return L[($e-1)%L.length]}return N.domain=function(W){if(!arguments.length)return j.slice();j=[],x=Ru();for(var he=-1,$e=W.length,st,Yt;++he<$e;)x.has(Yt=(st=W[he])+"")||x.set(Yt,j.push(st));return N},N.range=function(W){return arguments.length?(L=Ao.call(W),N):L.slice()},N.unknown=function(W){return arguments.length?(R=W,N):R},N.copy=function(){return So(j,L).unknown(R)},pl.apply(N,arguments),N}function fs(){var x=So().unknown(void 0),j=x.domain,L=x.range,R=[0,1],N,W,he=!1,$e=0,st=0,Yt=.5;delete x.unknown;function hr(){var yr=j().length,Zr=R[1]<R[0],on=R[Zr-0],ca=R[1-Zr];N=(ca-on)/Math.max(1,yr-$e+st*2),he&&(N=Math.floor(N)),on+=(ca-on-N*(yr-$e))*Yt,W=N*(1-$e),he&&(on=Math.round(on),W=Math.round(W));var Ra=hn(yr).map(function(Ga){return on+N*Ga});return L(Zr?Ra.reverse():Ra)}return x.domain=function(yr){return arguments.length?(j(yr),hr()):j()},x.range=function(yr){return arguments.length?(R=[+yr[0],+yr[1]],hr()):R.slice()},x.rangeRound=function(yr){return R=[+yr[0],+yr[1]],he=!0,hr()},x.bandwidth=function(){return W},x.step=function(){return N},x.round=function(yr){return arguments.length?(he=!!yr,hr()):he},x.padding=function(yr){return arguments.length?($e=Math.min(1,st=+yr),hr()):$e},x.paddingInner=function(yr){return arguments.length?($e=Math.min(1,yr),hr()):$e},x.paddingOuter=function(yr){return arguments.length?(st=+yr,hr()):st},x.align=function(yr){return arguments.length?(Yt=Math.max(0,Math.min(1,yr)),hr()):Yt},x.copy=function(){return fs(j(),R).round(he).paddingInner($e).paddingOuter(st).align(Yt)},pl.apply(hr(),arguments)}function vs(x){var j=x.copy;return x.padding=x.paddingOuter,delete x.paddingInner,delete x.paddingOuter,x.copy=function(){return vs(j())},x}function bs(){return vs(fs.apply(null,arguments).paddingInner(1))}function Yl(x,j,L,R,N){var W=x*x,he=W*x;return((1-3*x+3*W-he)*j+(4-6*W+3*he)*L+(1+3*x+3*W-3*he)*R+he*N)/6}var Ml=function(x){var j=x.length-1;return function(L){var R=L<=0?L=0:L>=1?(L=1,j-1):Math.floor(L*j),N=x[R],W=x[R+1],he=R>0?x[R-1]:2*N-W,$e=R<j-1?x[R+2]:2*W-N;return Yl((L-R/j)*j,he,N,W,$e)}},Xu=function(x){var j=x.length;return function(L){var R=Math.floor(((L%=1)<0?++L:L)*j),N=x[(R+j-1)%j],W=x[R%j],he=x[(R+1)%j],$e=x[(R+2)%j];return Yl((L-R/j)*j,N,W,he,$e)}},Ul=function(x){return function(){return x}};function Ds(x,j){return function(L){return x+L*j}}function Qs(x,j,L){return x=Math.pow(x,L),j=Math.pow(j,L)-x,L=1/L,function(R){return Math.pow(x+R*j,L)}}function Vl(x,j){var L=j-x;return L?Ds(x,L>180||L<-180?L-360*Math.round(L/360):L):Ul(isNaN(x)?j:x)}function Kl(x){return(x=+x)==1?vl:function(j,L){return L-j?Qs(j,L,x):Ul(isNaN(j)?L:j)}}function vl(x,j){var L=j-x;return L?Ds(x,L):Ul(isNaN(x)?j:x)}var hf=function x(j){var L=Kl(j);function R(N,W){var he=L((N=Object(Qt.b)(N)).r,(W=Object(Qt.b)(W)).r),$e=L(N.g,W.g),st=L(N.b,W.b),Yt=vl(N.opacity,W.opacity);return function(hr){return N.r=he(hr),N.g=$e(hr),N.b=st(hr),N.opacity=Yt(hr),N+""}}return R.gamma=x,R}(1);function pf(x){return function(j){var L=j.length,R=new Array(L),N=new Array(L),W=new Array(L),he,$e;for(he=0;he<L;++he)$e=Object(Qt.b)(j[he]),R[he]=$e.r||0,N[he]=$e.g||0,W[he]=$e.b||0;return R=x(R),N=x(N),W=x(W),$e.opacity=1,function(st){return $e.r=R(st),$e.g=N(st),$e.b=W(st),$e+""}}}var Gp=pf(Ml),vh=pf(Xu),bc=function(x,j){j||(j=[]);var L=x?Math.min(j.length,x.length):0,R=j.slice(),N;return function(W){for(N=0;N<L;++N)R[N]=x[N]*(1-W)+j[N]*W;return R}};function lv(x){return ArrayBuffer.isView(x)&&!(x instanceof DataView)}var Tv=function(x,j){return(lv(j)?bc:Kp)(x,j)};function Kp(x,j){var L=j?j.length:0,R=x?Math.min(L,x.length):0,N=new Array(R),W=new Array(L),he;for(he=0;he<R;++he)N[he]=gm(x[he],j[he]);for(;he<L;++he)W[he]=j[he];return function($e){for(he=0;he<R;++he)W[he]=N[he]($e);return W}}var tm=function(x,j){var L=new Date;return x=+x,j=+j,function(R){return L.setTime(x*(1-R)+j*R),L}},Ep=function(x,j){return x=+x,j=+j,function(L){return x*(1-L)+j*L}},Gs=function(x,j){var L={},R={},N;(x===null||typeof x!="object")&&(x={}),(j===null||typeof j!="object")&&(j={});for(N in j)N in x?L[N]=gm(x[N],j[N]):R[N]=j[N];return function(W){for(N in L)R[N]=L[N](W);return R}},rh=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,rm=new RegExp(rh.source,"g");function Zp(x){return function(){return x}}function tg(x){return function(j){return x(j)+""}}var nm=function(x,j){var L=rh.lastIndex=rm.lastIndex=0,R,N,W,he=-1,$e=[],st=[];for(x=x+"",j=j+"";(R=rh.exec(x))&&(N=rm.exec(j));)(W=N.index)>L&&(W=j.slice(L,W),$e[he]?$e[he]+=W:$e[++he]=W),(R=R[0])===(N=N[0])?$e[he]?$e[he]+=N:$e[++he]=N:($e[++he]=null,st.push({i:he,x:Ep(R,N)})),L=rm.lastIndex;return L<j.length&&(W=j.slice(L),$e[he]?$e[he]+=W:$e[++he]=W),$e.length<2?st[0]?tg(st[0].x):Zp(j):(j=st.length,function(Yt){for(var hr=0,yr;hr<j;++hr)$e[(yr=st[hr]).i]=yr.x(Yt);return $e.join("")})},gm=function(x,j){var L=typeof j,R;return j==null||L==="boolean"?Ul(j):(L==="number"?Ep:L==="string"?(R=Object(Qt.a)(j))?(j=R,hf):nm:j instanceof Qt.a?hf:j instanceof Date?tm:lv(j)?bc:Array.isArray(j)?Kp:typeof j.valueOf!="function"&&typeof j.toString!="function"||isNaN(j)?Gs:Ep)(x,j)},mh=function(x,j){return x=+x,j=+j,function(L){return Math.round(x*(1-L)+j*L)}},rg=function(x){return function(){return x}},rp=function(x){return+x},ym=[0,1];function Ic(x){return x}function Av(x,j){return(j-=x=+x)?function(L){return(L-x)/j}:rg(isNaN(j)?NaN:.5)}function Hl(x){var j=x[0],L=x[x.length-1],R;return j>L&&(R=j,j=L,L=R),function(N){return Math.max(j,Math.min(L,N))}}function gh(x,j,L){var R=x[0],N=x[1],W=j[0],he=j[1];return N<R?(R=Av(N,R),W=L(he,W)):(R=Av(R,N),W=L(W,he)),function($e){return W(R($e))}}function am(x,j,L){var R=Math.min(x.length,j.length)-1,N=new Array(R),W=new Array(R),he=-1;for(x[R]<x[0]&&(x=x.slice().reverse(),j=j.slice().reverse());++he<R;)N[he]=Av(x[he],x[he+1]),W[he]=L(j[he],j[he+1]);return function($e){var st=F(x,$e,1,R)-1;return W[st](N[st]($e))}}function Lh(x,j){return j.domain(x.domain()).range(x.range()).interpolate(x.interpolate()).clamp(x.clamp()).unknown(x.unknown())}function nh(){var x=ym,j=ym,L=gm,R,N,W,he=Ic,$e,st,Yt;function hr(){return $e=Math.min(x.length,j.length)>2?am:gh,st=Yt=null,yr}function yr(Zr){return isNaN(Zr=+Zr)?W:(st||(st=$e(x.map(R),j,L)))(R(he(Zr)))}return yr.invert=function(Zr){return he(N((Yt||(Yt=$e(j,x.map(R),Ep)))(Zr)))},yr.domain=function(Zr){return arguments.length?(x=ro.call(Zr,rp),he===Ic||(he=Hl(x)),hr()):x.slice()},yr.range=function(Zr){return arguments.length?(j=Ao.call(Zr),hr()):j.slice()},yr.rangeRound=function(Zr){return j=Ao.call(Zr),L=mh,hr()},yr.clamp=function(Zr){return arguments.length?(he=Zr?Hl(x):Ic,yr):he!==Ic},yr.interpolate=function(Zr){return arguments.length?(L=Zr,hr()):L},yr.unknown=function(Zr){return arguments.length?(W=Zr,yr):W},function(Zr,on){return R=Zr,N=on,hr()}}function np(x,j){return nh()(x,j)}var Mv=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function Dh(x){if(!(j=Mv.exec(x)))throw new Error("invalid format: "+x);var j;return new Fh({fill:j[1],align:j[2],sign:j[3],symbol:j[4],zero:j[5],width:j[6],comma:j[7],precision:j[8]&&j[8].slice(1),trim:j[9],type:j[10]})}Dh.prototype=Fh.prototype;function Fh(x){this.fill=x.fill===void 0?" ":x.fill+"",this.align=x.align===void 0?">":x.align+"",this.sign=x.sign===void 0?"-":x.sign+"",this.symbol=x.symbol===void 0?"":x.symbol+"",this.zero=!!x.zero,this.width=x.width===void 0?void 0:+x.width,this.comma=!!x.comma,this.precision=x.precision===void 0?void 0:+x.precision,this.trim=!!x.trim,this.type=x.type===void 0?"":x.type+""}Fh.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};var Sp=function(x){return Math.abs(x=Math.round(x))>=1e21?x.toLocaleString("en").replace(/,/g,""):x.toString(10)};function Rc(x,j){if((L=(x=j?x.toExponential(j-1):x.toExponential()).indexOf("e"))<0)return null;var L,R=x.slice(0,L);return[R.length>1?R[0]+R.slice(2):R,+x.slice(L+1)]}var Op=function(x){return x=Rc(Math.abs(x)),x?x[1]:NaN},vf=function(x,j){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(Op(j)/3)))*3-Op(Math.abs(x)))},_v=function(x,j){return function(L,R){for(var N=L.length,W=[],he=0,$e=x[0],st=0;N>0&&$e>0&&(st+$e+1>R&&($e=Math.max(1,R-st)),W.push(L.substring(N-=$e,N+$e)),!((st+=$e+1)>R));)$e=x[he=(he+1)%x.length];return W.reverse().join(j)}},uv=function(x){return function(j){return j.replace(/[0-9]/g,function(L){return x[+L]})}},Yp=function(x){e:for(var j=x.length,L=1,R=-1,N;L<j;++L)switch(x[L]){case".":R=N=L;break;case"0":R===0&&(R=L),N=L;break;default:if(!+x[L])break e;R>0&&(R=0);break}return R>0?x.slice(0,R)+x.slice(N+1):x},cv,$p=function(x,j){var L=Rc(x,j);if(!L)return x+"";var R=L[0],N=L[1],W=N-(cv=Math.max(-8,Math.min(8,Math.floor(N/3)))*3)+1,he=R.length;return W===he?R:W>he?R+new Array(W-he+1).join("0"):W>0?R.slice(0,W)+"."+R.slice(W):"0."+new Array(1-W).join("0")+Rc(x,Math.max(0,j+W-1))[0]},xd=function(x,j){var L=Rc(x,j);if(!L)return x+"";var R=L[0],N=L[1];return N<0?"0."+new Array(-N).join("0")+R:R.length>N+1?R.slice(0,N+1)+"."+R.slice(N+1):R+new Array(N-R.length+2).join("0")},fv={"%":function(j,L){return(j*100).toFixed(L)},b:function(j){return Math.round(j).toString(2)},c:function(j){return j+""},d:Sp,e:function(j,L){return j.toExponential(L)},f:function(j,L){return j.toFixed(L)},g:function(j,L){return j.toPrecision(L)},o:function(j){return Math.round(j).toString(8)},p:function(j,L){return xd(j*100,L)},r:xd,s:$p,X:function(j){return Math.round(j).toString(16).toUpperCase()},x:function(j){return Math.round(j).toString(16)}},im=function(x){return x},dv=Array.prototype.map,Pp=["y","z","a","f","p","n","\xB5","m","","k","M","G","T","P","E","Z","Y"],om=function(x){var j=x.grouping===void 0||x.thousands===void 0?im:_v(dv.call(x.grouping,Number),x.thousands+""),L=x.currency===void 0?"":x.currency[0]+"",R=x.currency===void 0?"":x.currency[1]+"",N=x.decimal===void 0?".":x.decimal+"",W=x.numerals===void 0?im:uv(dv.call(x.numerals,String)),he=x.percent===void 0?"%":x.percent+"",$e=x.minus===void 0?"-":x.minus+"",st=x.nan===void 0?"NaN":x.nan+"";function Yt(yr){yr=Dh(yr);var Zr=yr.fill,on=yr.align,ca=yr.sign,Ra=yr.symbol,Ga=yr.zero,Ji=yr.width,go=yr.comma,jo=yr.precision,Mo=yr.trim,$i=yr.type;$i==="n"?(go=!0,$i="g"):fv[$i]||(jo===void 0&&(jo=12),Mo=!0,$i="g"),(Ga||Zr==="0"&&on==="=")&&(Ga=!0,Zr="0",on="=");var Ho=Ra==="$"?L:Ra==="#"&&/[boxX]/.test($i)?"0"+$i.toLowerCase():"",Ta=Ra==="$"?R:/[%p]/.test($i)?he:"",Rs=fv[$i],hi=/[defgprs%]/.test($i);jo=jo===void 0?6:/[gprs]/.test($i)?Math.max(1,Math.min(21,jo)):Math.max(0,Math.min(20,jo));function Sl(fo){var ou=Ho,Fs=Ta,xh,ks,Wv;if($i==="c")Fs=Rs(fo)+Fs,fo="";else{fo=+fo;var Cc=fo<0||1/fo<0;if(fo=isNaN(fo)?st:Rs(Math.abs(fo),jo),Mo&&(fo=Yp(fo)),Cc&&+fo==0&&ca!=="+"&&(Cc=!1),ou=(Cc?ca==="("?ca:$e:ca==="-"||ca==="("?"":ca)+ou,Fs=($i==="s"?Pp[8+cv/3]:"")+Fs+(Cc&&ca==="("?")":""),hi){for(xh=-1,ks=fo.length;++xh<ks;)if(Wv=fo.charCodeAt(xh),48>Wv||Wv>57){Fs=(Wv===46?N+fo.slice(xh+1):fo.slice(xh))+Fs,fo=fo.slice(0,xh);break}}}go&&!Ga&&(fo=j(fo,Infinity));var dm=ou.length+fo.length+Fs.length,Er=dm<Ji?new Array(Ji-dm+1).join(Zr):"";switch(go&&Ga&&(fo=j(Er+fo,Er.length?Ji-Fs.length:Infinity),Er=""),on){case"<":fo=ou+fo+Fs+Er;break;case"=":fo=ou+Er+fo+Fs;break;case"^":fo=Er.slice(0,dm=Er.length>>1)+ou+fo+Fs+Er.slice(dm);break;default:fo=Er+ou+fo+Fs;break}return W(fo)}return Sl.toString=function(){return yr+""},Sl}function hr(yr,Zr){var on=Yt((yr=Dh(yr),yr.type="f",yr)),ca=Math.max(-8,Math.min(8,Math.floor(Op(Zr)/3)))*3,Ra=Math.pow(10,-ca),Ga=Pp[8+ca/3];return function(Ji){return on(Ra*Ji)+Ga}}return{format:Yt,formatPrefix:hr}},Lc,ah,km;Bm({decimal:".",thousands:",",grouping:[3],currency:["$",""],minus:"-"});function Bm(x){return Lc=om(x),ah=Lc.format,km=Lc.formatPrefix,Lc}var ih=function(x,j){return x=Math.abs(x),j=Math.abs(j)-x,Math.max(0,Op(j)-Op(x))+1},ap=function(x){return Math.max(0,-Op(Math.abs(x)))},hv=function(x,j,L,R){var N=Ya(x,j,L),W;switch(R=Dh(R==null?",f":R),R.type){case"s":{var he=Math.max(Math.abs(x),Math.abs(j));return R.precision==null&&!isNaN(W=vf(N,he))&&(R.precision=W),km(R,he)}case"":case"e":case"g":case"p":case"r":{R.precision==null&&!isNaN(W=ih(N,Math.max(Math.abs(x),Math.abs(j))))&&(R.precision=W-(R.type==="e"));break}case"f":case"%":{R.precision==null&&!isNaN(W=ap(N))&&(R.precision=W-(R.type==="%")*2);break}}return ah(R)};function Cd(x){var j=x.domain;return x.ticks=function(L){var R=j();return aa(R[0],R[R.length-1],L==null?10:L)},x.tickFormat=function(L,R){var N=j();return hv(N[0],N[N.length-1],L==null?10:L,R)},x.nice=function(L){L==null&&(L=10);var R=j(),N=0,W=R.length-1,he=R[N],$e=R[W],st;return $e<he&&(st=he,he=$e,$e=st,st=N,N=W,W=st),st=sa(he,$e,L),st>0?(he=Math.floor(he/st)*st,$e=Math.ceil($e/st)*st,st=sa(he,$e,L)):st<0&&(he=Math.ceil(he*st)/st,$e=Math.floor($e*st)/st,st=sa(he,$e,L)),st>0?(R[N]=Math.floor(he/st)*st,R[W]=Math.ceil($e/st)*st,j(R)):st<0&&(R[N]=Math.ceil(he*st)/st,R[W]=Math.floor($e*st)/st,j(R)),x},x}function ng(){var x=np(Ic,Ic);return x.copy=function(){return Lh(x,ng())},pl.apply(x,arguments),Cd(x)}function pv(x){var j;function L(R){return isNaN(R=+R)?j:R}return L.invert=L,L.domain=L.range=function(R){return arguments.length?(x=ro.call(R,rp),L):x.slice()},L.unknown=function(R){return arguments.length?(j=R,L):j},L.copy=function(){return pv(x).unknown(j)},x=arguments.length?ro.call(x,rp):[0,1],Cd(L)}var Wd=function(x,j){x=x.slice();var L=0,R=x.length-1,N=x[L],W=x[R],he;return W<N&&(he=L,L=R,R=he,he=N,N=W,W=he),x[L]=j.floor(N),x[R]=j.ceil(W),x};function Vo(x){return Math.log(x)}function zm(x){return Math.exp(x)}function wp(x){return-Math.log(-x)}function ip(x){return-Math.exp(-x)}function Tp(x){return isFinite(x)?+("1e"+x):x<0?0:x}function Iv(x){return x===10?Tp:x===Math.E?Math.exp:function(j){return Math.pow(x,j)}}function op(x){return x===Math.E?Math.log:x===10&&Math.log10||x===2&&Math.log2||(x=Math.log(x),function(j){return Math.log(j)/x})}function Ap(x){return function(j){return-x(-j)}}function fc(x){var j=x(Vo,zm),L=j.domain,R=10,N,W;function he(){return N=op(R),W=Iv(R),L()[0]<0?(N=Ap(N),W=Ap(W),x(wp,ip)):x(Vo,zm),j}return j.base=function($e){return arguments.length?(R=+$e,he()):R},j.domain=function($e){return arguments.length?(L($e),he()):L()},j.ticks=function($e){var st=L(),Yt=st[0],hr=st[st.length-1],yr;(yr=hr<Yt)&&(Zr=Yt,Yt=hr,hr=Zr);var Zr=N(Yt),on=N(hr),ca,Ra,Ga,Ji=$e==null?10:+$e,go=[];if(!(R%1)&&on-Zr<Ji){if(Zr=Math.round(Zr)-1,on=Math.round(on)+1,Yt>0){for(;Zr<on;++Zr)for(Ra=1,ca=W(Zr);Ra<R;++Ra)if(Ga=ca*Ra,!(Ga<Yt)){if(Ga>hr)break;go.push(Ga)}}else for(;Zr<on;++Zr)for(Ra=R-1,ca=W(Zr);Ra>=1;--Ra)if(Ga=ca*Ra,!(Ga<Yt)){if(Ga>hr)break;go.push(Ga)}}else go=aa(Zr,on,Math.min(on-Zr,Ji)).map(W);return yr?go.reverse():go},j.tickFormat=function($e,st){if(st==null&&(st=R===10?".0e":","),typeof st!="function"&&(st=ah(st)),$e===Infinity)return st;$e==null&&($e=10);var Yt=Math.max(1,R*$e/j.ticks().length);return function(hr){var yr=hr/W(Math.round(N(hr)));return yr*R<R-.5&&(yr*=R),yr<=Yt?st(hr):""}},j.nice=function(){return L(Wd(L(),{floor:function(st){return W(Math.floor(N(st)))},ceil:function(st){return W(Math.ceil(N(st)))}}))},j}function Mp(){var x=fc(nh()).domain([1,10]);return x.copy=function(){return Lh(x,Mp()).base(x.base())},pl.apply(x,arguments),x}function dc(x){return function(j){return Math.sign(j)*Math.log1p(Math.abs(j/x))}}function $l(x){return function(j){return Math.sign(j)*Math.expm1(Math.abs(j))*x}}function sm(x){var j=1,L=x(dc(j),$l(j));return L.constant=function(R){return arguments.length?x(dc(j=+R),$l(j)):j},Cd(L)}function lm(){var x=sm(nh());return x.copy=function(){return Lh(x,lm()).constant(x.constant())},pl.apply(x,arguments)}function Rv(x){return function(j){return j<0?-Math.pow(-j,x):Math.pow(j,x)}}function ag(x){return x<0?-Math.sqrt(-x):Math.sqrt(x)}function sp(x){return x<0?-x*x:x*x}function Lv(x){var j=x(Ic,Ic),L=1;function R(){return L===1?x(Ic,Ic):L===.5?x(ag,sp):x(Rv(L),Rv(1/L))}return j.exponent=function(N){return arguments.length?(L=+N,R()):L},Cd(j)}function bm(){var x=Lv(nh());return x.copy=function(){return Lh(x,bm()).exponent(x.exponent())},pl.apply(x,arguments),x}function jg(){return bm.apply(null,arguments).exponent(.5)}function xm(){var x=[],j=[],L=[],R;function N(){var he=0,$e=Math.max(1,j.length);for(L=new Array($e-1);++he<$e;)L[he-1]=di(x,he/$e);return W}function W(he){return isNaN(he=+he)?R:j[F(L,he)]}return W.invertExtent=function(he){var $e=j.indexOf(he);return $e<0?[NaN,NaN]:[$e>0?L[$e-1]:x[0],$e<L.length?L[$e]:x[x.length-1]]},W.domain=function(he){if(!arguments.length)return x.slice();x=[];for(var $e=0,st=he.length,Yt;$e<st;++$e)Yt=he[$e],Yt!=null&&!isNaN(Yt=+Yt)&&x.push(Yt);return x.sort(Vd),N()},W.range=function(he){return arguments.length?(j=Ao.call(he),N()):j.slice()},W.unknown=function(he){return arguments.length?(R=he,W):R},W.quantiles=function(){return L.slice()},W.copy=function(){return xm().domain(x).range(j).unknown(R)},pl.apply(W,arguments)}function Cm(){var x=0,j=1,L=1,R=[.5],N=[0,1],W;function he(st){return st<=st?N[F(R,st,0,L)]:W}function $e(){var st=-1;for(R=new Array(L);++st<L;)R[st]=((st+1)*j-(st-L)*x)/(L+1);return he}return he.domain=function(st){return arguments.length?(x=+st[0],j=+st[1],$e()):[x,j]},he.range=function(st){return arguments.length?(L=(N=Ao.call(st)).length-1,$e()):N.slice()},he.invertExtent=function(st){var Yt=N.indexOf(st);return Yt<0?[NaN,NaN]:Yt<1?[x,R[0]]:Yt>=L?[R[L-1],j]:[R[Yt-1],R[Yt]]},he.unknown=function(st){return arguments.length&&(W=st),he},he.thresholds=function(){return R.slice()},he.copy=function(){return Cm().domain([x,j]).range(N).unknown(W)},pl.apply(Cd(he),arguments)}function ig(){var x=[.5],j=[0,1],L,R=1;function N(W){return W<=W?j[F(x,W,0,R)]:L}return N.domain=function(W){return arguments.length?(x=Ao.call(W),R=Math.min(x.length,j.length-1),N):x.slice()},N.range=function(W){return arguments.length?(j=Ao.call(W),R=Math.min(x.length,j.length-1),N):j.slice()},N.invertExtent=function(W){var he=j.indexOf(W);return[x[he-1],x[he]]},N.unknown=function(W){return arguments.length?(L=W,N):L},N.copy=function(){return ig().domain(x).range(j).unknown(L)},pl.apply(N,arguments)}var xc=new Date,_p=new Date;function kc(x,j,L,R){function N(W){return x(W=arguments.length===0?new Date:new Date(+W)),W}return N.floor=function(W){return x(W=new Date(+W)),W},N.ceil=function(W){return x(W=new Date(W-1)),j(W,1),x(W),W},N.round=function(W){var he=N(W),$e=N.ceil(W);return W-he<$e-W?he:$e},N.offset=function(W,he){return j(W=new Date(+W),he==null?1:Math.floor(he)),W},N.range=function(W,he,$e){var st=[],Yt;if(W=N.ceil(W),$e=$e==null?1:Math.floor($e),!(W<he)||!($e>0))return st;do st.push(Yt=new Date(+W)),j(W,$e),x(W);while(Yt<W&&W<he);return st},N.filter=function(W){return kc(function(he){if(he>=he)for(;x(he),!W(he);)he.setTime(he-1)},function(he,$e){if(he>=he)if($e<0)for(;++$e<=0;)for(;j(he,-1),!W(he););else for(;--$e>=0;)for(;j(he,1),!W(he););})},L&&(N.count=function(W,he){return xc.setTime(+W),_p.setTime(+he),x(xc),x(_p),Math.floor(L(xc,_p))},N.every=function(W){return W=Math.floor(W),!isFinite(W)||!(W>0)?null:W>1?N.filter(R?function(he){return R(he)%W==0}:function(he){return N.count(0,he)%W==0}):N}),N}var lp=kc(function(x){x.setMonth(0,1),x.setHours(0,0,0,0)},function(x,j){x.setFullYear(x.getFullYear()+j)},function(x,j){return j.getFullYear()-x.getFullYear()},function(x){return x.getFullYear()});lp.every=function(x){return!isFinite(x=Math.floor(x))||!(x>0)?null:kc(function(j){j.setFullYear(Math.floor(j.getFullYear()/x)*x),j.setMonth(0,1),j.setHours(0,0,0,0)},function(j,L){j.setFullYear(j.getFullYear()+L*x)})};var Pl=lp,Cl=lp.range,ss=kc(function(x){x.setDate(1),x.setHours(0,0,0,0)},function(x,j){x.setMonth(x.getMonth()+j)},function(x,j){return j.getMonth()-x.getMonth()+(j.getFullYear()-x.getFullYear())*12},function(x){return x.getMonth()}),_t=ss,qt=ss.range,Ur=1e3,jn=6e4,fa=36e5,ea=864e5,Nn=6048e5;function mn(x){return kc(function(j){j.setDate(j.getDate()-(j.getDay()+7-x)%7),j.setHours(0,0,0,0)},function(j,L){j.setDate(j.getDate()+L*7)},function(j,L){return(L-j-(L.getTimezoneOffset()-j.getTimezoneOffset())*jn)/Nn})}var Ua=mn(0),ja=mn(1),ei=mn(2),Va=mn(3),si=mn(4),ai=mn(5),Ha=mn(6),Fn=Ua.range,In=ja.range,Wa=ei.range,ki=Va.range,ua=si.range,vo=ai.range,Pi=Ha.range,yi=kc(function(x){x.setHours(0,0,0,0)},function(x,j){x.setDate(x.getDate()+j)},function(x,j){return(j-x-(j.getTimezoneOffset()-x.getTimezoneOffset())*jn)/ea},function(x){return x.getDate()-1}),ta=yi,na=yi.range,Ii=kc(function(x){x.setTime(x-x.getMilliseconds()-x.getSeconds()*Ur-x.getMinutes()*jn)},function(x,j){x.setTime(+x+j*fa)},function(x,j){return(j-x)/fa},function(x){return x.getHours()}),Qa=Ii,Za=Ii.range,Ei=kc(function(x){x.setTime(x-x.getMilliseconds()-x.getSeconds()*Ur)},function(x,j){x.setTime(+x+j*jn)},function(x,j){return(j-x)/jn},function(x){return x.getMinutes()}),Si=Ei,Ss=Ei.range,ls=kc(function(x){x.setTime(x-x.getMilliseconds())},function(x,j){x.setTime(+x+j*Ur)},function(x,j){return(j-x)/Ur},function(x){return x.getUTCSeconds()}),xi=ls,wi=ls.range,Fo=kc(function(){},function(x,j){x.setTime(+x+j)},function(x,j){return j-x});Fo.every=function(x){return x=Math.floor(x),!isFinite(x)||!(x>0)?null:x>1?kc(function(j){j.setTime(Math.floor(j/x)*x)},function(j,L){j.setTime(+j+L*x)},function(j,L){return(L-j)/x}):Fo};var es=Fo,cs=Fo.range;function eu(x){return kc(function(j){j.setUTCDate(j.getUTCDate()-(j.getUTCDay()+7-x)%7),j.setUTCHours(0,0,0,0)},function(j,L){j.setUTCDate(j.getUTCDate()+L*7)},function(j,L){return(L-j)/Nn})}var bu=eu(0),js=eu(1),Lu=eu(2),Zl=eu(3),xu=eu(4),hu=eu(5),mf=eu(6),Xc=bu.range,Su=js.range,ac=Lu.range,Os=Zl.range,Lf=xu.range,_l=hu.range,Bc=mf.range,Go=kc(function(x){x.setUTCHours(0,0,0,0)},function(x,j){x.setUTCDate(x.getUTCDate()+j)},function(x,j){return(j-x)/ea},function(x){return x.getUTCDate()-1}),ds=Go,Ou=Go.range,Qc=kc(function(x){x.setUTCMonth(0,1),x.setUTCHours(0,0,0,0)},function(x,j){x.setUTCFullYear(x.getUTCFullYear()+j)},function(x,j){return j.getUTCFullYear()-x.getUTCFullYear()},function(x){return x.getUTCFullYear()});Qc.every=function(x){return!isFinite(x=Math.floor(x))||!(x>0)?null:kc(function(j){j.setUTCFullYear(Math.floor(j.getUTCFullYear()/x)*x),j.setUTCMonth(0,1),j.setUTCHours(0,0,0,0)},function(j,L){j.setUTCFullYear(j.getUTCFullYear()+L*x)})};var gf=Qc,Rr=Qc.range;function $n(x){if(0<=x.y&&x.y<100){var j=new Date(-1,x.m,x.d,x.H,x.M,x.S,x.L);return j.setFullYear(x.y),j}return new Date(x.y,x.m,x.d,x.H,x.M,x.S,x.L)}function kn(x){if(0<=x.y&&x.y<100){var j=new Date(Date.UTC(-1,x.m,x.d,x.H,x.M,x.S,x.L));return j.setUTCFullYear(x.y),j}return new Date(Date.UTC(x.y,x.m,x.d,x.H,x.M,x.S,x.L))}function Ri(x,j,L){return{y:x,m:j,d:L,H:0,M:0,S:0,L:0}}function As(x){var j=x.dateTime,L=x.date,R=x.time,N=x.periods,W=x.days,he=x.shortDays,$e=x.months,st=x.shortMonths,Yt=Jr(N),hr=sn(N),yr=Jr(W),Zr=sn(W),on=Jr(he),ca=sn(he),Ra=Jr($e),Ga=sn($e),Ji=Jr(st),go=sn(st),jo={a:Cc,A:dm,b:Er,B:sy,c:null,d:od,e:od,f:yh,g:Eg,G:Nh,H:Il,I:Nl,j:Ed,L:vv,m:Um,M:kg,p:Kf,q:ly,Q:Ar,s:$r,S:Vm,u:Dv,U:Em,V:hc,w:Fv,W:mv,x:null,X:null,y:og,Y:Nv,Z:Xp,"%":Ir},Mo={a:pu,A:Ug,b:Pg,B:Vg,c:null,d:gv,e:gv,f:Bg,g:wt,G:Kt,H:Sg,I:Qp,j:Dc,L:Ip,m:e,M:t,p:Hg,q:Wg,Q:Ar,s:$r,S:o,u:m,U:E,V,w:ae,W:je,x:null,X:null,y:tt,Y:Bt,Z:pr,"%":Ir},$i={a:Sl,A:fo,b:ou,B:Fs,c:xh,d:no,e:no,f:Fl,g:fi,G:Aa,H:Xi,I:Xi,j:Vi,L:ts,m:ii,M:Qi,p:hi,q:Ti,Q:Gd,s:Dd,S:ao,u:jr,U:Mr,V:An,w:xr,W:Ln,x:ks,X:Wv,y:fi,Y:Aa,Z:ui,"%":ic};jo.x=Ho(L,jo),jo.X=Ho(R,jo),jo.c=Ho(j,jo),Mo.x=Ho(L,Mo),Mo.X=Ho(R,Mo),Mo.c=Ho(j,Mo);function Ho(xs,ml){return function(Ls){var Gi=[],wd=-1,sc=0,xf=xs.length,Np,cp,Ry;for(Ls instanceof Date||(Ls=new Date(+Ls));++wd<xf;)xs.charCodeAt(wd)===37&&(Gi.push(xs.slice(sc,wd)),(cp=wr[Np=xs.charAt(++wd)])!=null?Np=xs.charAt(++wd):cp=Np==="e"?" ":"0",(Ry=ml[Np])&&(Np=Ry(Ls,cp)),Gi.push(Np),sc=wd+1);return Gi.push(xs.slice(sc,wd)),Gi.join("")}}function Ta(xs,ml){return function(Ls){var Gi=Ri(1900,void 0,1),wd=Rs(Gi,xs,Ls+="",0),sc,xf;if(wd!=Ls.length)return null;if("Q"in Gi)return new Date(Gi.Q);if("s"in Gi)return new Date(Gi.s*1e3+("L"in Gi?Gi.L:0));if(ml&&!("Z"in Gi)&&(Gi.Z=0),"p"in Gi&&(Gi.H=Gi.H%12+Gi.p*12),Gi.m===void 0&&(Gi.m="q"in Gi?Gi.q:0),"V"in Gi){if(Gi.V<1||Gi.V>53)return null;"w"in Gi||(Gi.w=1),"Z"in Gi?(sc=kn(Ri(Gi.y,0,1)),xf=sc.getUTCDay(),sc=xf>4||xf===0?js.ceil(sc):js(sc),sc=ds.offset(sc,(Gi.V-1)*7),Gi.y=sc.getUTCFullYear(),Gi.m=sc.getUTCMonth(),Gi.d=sc.getUTCDate()+(Gi.w+6)%7):(sc=$n(Ri(Gi.y,0,1)),xf=sc.getDay(),sc=xf>4||xf===0?ja.ceil(sc):ja(sc),sc=ta.offset(sc,(Gi.V-1)*7),Gi.y=sc.getFullYear(),Gi.m=sc.getMonth(),Gi.d=sc.getDate()+(Gi.w+6)%7)}else("W"in Gi||"U"in Gi)&&("w"in Gi||(Gi.w="u"in Gi?Gi.u%7:"W"in Gi?1:0),xf="Z"in Gi?kn(Ri(Gi.y,0,1)).getUTCDay():$n(Ri(Gi.y,0,1)).getDay(),Gi.m=0,Gi.d="W"in Gi?(Gi.w+6)%7+Gi.W*7-(xf+5)%7:Gi.w+Gi.U*7-(xf+6)%7);return"Z"in Gi?(Gi.H+=Gi.Z/100|0,Gi.M+=Gi.Z%100,kn(Gi)):$n(Gi)}}function Rs(xs,ml,Ls,Gi){for(var wd=0,sc=ml.length,xf=Ls.length,Np,cp;wd<sc;){if(Gi>=xf)return-1;if(Np=ml.charCodeAt(wd++),Np===37){if(Np=ml.charAt(wd++),cp=$i[Np in wr?ml.charAt(wd++):Np],!cp||(Gi=cp(xs,Ls,Gi))<0)return-1}else if(Np!=Ls.charCodeAt(Gi++))return-1}return Gi}function hi(xs,ml,Ls){var Gi=Yt.exec(ml.slice(Ls));return Gi?(xs.p=hr[Gi[0].toLowerCase()],Ls+Gi[0].length):-1}function Sl(xs,ml,Ls){var Gi=on.exec(ml.slice(Ls));return Gi?(xs.w=ca[Gi[0].toLowerCase()],Ls+Gi[0].length):-1}function fo(xs,ml,Ls){var Gi=yr.exec(ml.slice(Ls));return Gi?(xs.w=Zr[Gi[0].toLowerCase()],Ls+Gi[0].length):-1}function ou(xs,ml,Ls){var Gi=Ji.exec(ml.slice(Ls));return Gi?(xs.m=go[Gi[0].toLowerCase()],Ls+Gi[0].length):-1}function Fs(xs,ml,Ls){var Gi=Ra.exec(ml.slice(Ls));return Gi?(xs.m=Ga[Gi[0].toLowerCase()],Ls+Gi[0].length):-1}function xh(xs,ml,Ls){return Rs(xs,j,ml,Ls)}function ks(xs,ml,Ls){return Rs(xs,L,ml,Ls)}function Wv(xs,ml,Ls){return Rs(xs,R,ml,Ls)}function Cc(xs){return he[xs.getDay()]}function dm(xs){return W[xs.getDay()]}function Er(xs){return st[xs.getMonth()]}function sy(xs){return $e[xs.getMonth()]}function Kf(xs){return N[+(xs.getHours()>=12)]}function ly(xs){return 1+~~(xs.getMonth()/3)}function pu(xs){return he[xs.getUTCDay()]}function Ug(xs){return W[xs.getUTCDay()]}function Pg(xs){return st[xs.getUTCMonth()]}function Vg(xs){return $e[xs.getUTCMonth()]}function Hg(xs){return N[+(xs.getUTCHours()>=12)]}function Wg(xs){return 1+~~(xs.getUTCMonth()/3)}return{format:function(ml){var Ls=Ho(ml+="",jo);return Ls.toString=function(){return ml},Ls},parse:function(ml){var Ls=Ta(ml+="",!1);return Ls.toString=function(){return ml},Ls},utcFormat:function(ml){var Ls=Ho(ml+="",Mo);return Ls.toString=function(){return ml},Ls},utcParse:function(ml){var Ls=Ta(ml+="",!0);return Ls.toString=function(){return ml},Ls}}}var wr={"-":"",_:" ","0":"0"},tr=/^\s*\d+/,en=/^%/,Pn=/[\\^$*+?|[\]().{}]/g;function wn(x,j,L){var R=x<0?"-":"",N=(R?-x:x)+"",W=N.length;return R+(W<L?new Array(L-W+1).join(j)+N:N)}function rn(x){return x.replace(Pn,"\\$&")}function Jr(x){return new RegExp("^(?:"+x.map(rn).join("|")+")","i")}function sn(x){for(var j={},L=-1,R=x.length;++L<R;)j[x[L].toLowerCase()]=L;return j}function xr(x,j,L){var R=tr.exec(j.slice(L,L+1));return R?(x.w=+R[0],L+R[0].length):-1}function jr(x,j,L){var R=tr.exec(j.slice(L,L+1));return R?(x.u=+R[0],L+R[0].length):-1}function Mr(x,j,L){var R=tr.exec(j.slice(L,L+2));return R?(x.U=+R[0],L+R[0].length):-1}function An(x,j,L){var R=tr.exec(j.slice(L,L+2));return R?(x.V=+R[0],L+R[0].length):-1}function Ln(x,j,L){var R=tr.exec(j.slice(L,L+2));return R?(x.W=+R[0],L+R[0].length):-1}function Aa(x,j,L){var R=tr.exec(j.slice(L,L+4));return R?(x.y=+R[0],L+R[0].length):-1}function fi(x,j,L){var R=tr.exec(j.slice(L,L+2));return R?(x.y=+R[0]+(+R[0]>68?1900:2e3),L+R[0].length):-1}function ui(x,j,L){var R=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(j.slice(L,L+6));return R?(x.Z=R[1]?0:-(R[2]+(R[3]||"00")),L+R[0].length):-1}function Ti(x,j,L){var R=tr.exec(j.slice(L,L+1));return R?(x.q=R[0]*3-3,L+R[0].length):-1}function ii(x,j,L){var R=tr.exec(j.slice(L,L+2));return R?(x.m=R[0]-1,L+R[0].length):-1}function no(x,j,L){var R=tr.exec(j.slice(L,L+2));return R?(x.d=+R[0],L+R[0].length):-1}function Vi(x,j,L){var R=tr.exec(j.slice(L,L+3));return R?(x.m=0,x.d=+R[0],L+R[0].length):-1}function Xi(x,j,L){var R=tr.exec(j.slice(L,L+2));return R?(x.H=+R[0],L+R[0].length):-1}function Qi(x,j,L){var R=tr.exec(j.slice(L,L+2));return R?(x.M=+R[0],L+R[0].length):-1}function ao(x,j,L){var R=tr.exec(j.slice(L,L+2));return R?(x.S=+R[0],L+R[0].length):-1}function ts(x,j,L){var R=tr.exec(j.slice(L,L+3));return R?(x.L=+R[0],L+R[0].length):-1}function Fl(x,j,L){var R=tr.exec(j.slice(L,L+6));return R?(x.L=Math.floor(R[0]/1e3),L+R[0].length):-1}function ic(x,j,L){var R=en.exec(j.slice(L,L+1));return R?L+R[0].length:-1}function Gd(x,j,L){var R=tr.exec(j.slice(L));return R?(x.Q=+R[0],L+R[0].length):-1}function Dd(x,j,L){var R=tr.exec(j.slice(L));return R?(x.s=+R[0],L+R[0].length):-1}function od(x,j){return wn(x.getDate(),j,2)}function Il(x,j){return wn(x.getHours(),j,2)}function Nl(x,j){return wn(x.getHours()%12||12,j,2)}function Ed(x,j){return wn(1+ta.count(Pl(x),x),j,3)}function vv(x,j){return wn(x.getMilliseconds(),j,3)}function yh(x,j){return vv(x,j)+"000"}function Um(x,j){return wn(x.getMonth()+1,j,2)}function kg(x,j){return wn(x.getMinutes(),j,2)}function Vm(x,j){return wn(x.getSeconds(),j,2)}function Dv(x){var j=x.getDay();return j===0?7:j}function Em(x,j){return wn(Ua.count(Pl(x)-1,x),j,2)}function Cg(x){var j=x.getDay();return j>=4||j===0?si(x):si.ceil(x)}function hc(x,j){return x=Cg(x),wn(si.count(Pl(x),x)+(Pl(x).getDay()===4),j,2)}function Fv(x){return x.getDay()}function mv(x,j){return wn(ja.count(Pl(x)-1,x),j,2)}function og(x,j){return wn(x.getFullYear()%100,j,2)}function Eg(x,j){return x=Cg(x),wn(x.getFullYear()%100,j,2)}function Nv(x,j){return wn(x.getFullYear()%1e4,j,4)}function Nh(x,j){var L=x.getDay();return x=L>=4||L===0?si(x):si.ceil(x),wn(x.getFullYear()%1e4,j,4)}function Xp(x){var j=x.getTimezoneOffset();return(j>0?"-":(j*=-1,"+"))+wn(j/60|0,"0",2)+wn(j%60,"0",2)}function gv(x,j){return wn(x.getUTCDate(),j,2)}function Sg(x,j){return wn(x.getUTCHours(),j,2)}function Qp(x,j){return wn(x.getUTCHours()%12||12,j,2)}function Dc(x,j){return wn(1+ds.count(gf(x),x),j,3)}function Ip(x,j){return wn(x.getUTCMilliseconds(),j,3)}function Bg(x,j){return Ip(x,j)+"000"}function e(x,j){return wn(x.getUTCMonth()+1,j,2)}function t(x,j){return wn(x.getUTCMinutes(),j,2)}function o(x,j){return wn(x.getUTCSeconds(),j,2)}function m(x){var j=x.getUTCDay();return j===0?7:j}function E(x,j){return wn(bu.count(gf(x)-1,x),j,2)}function D(x){var j=x.getUTCDay();return j>=4||j===0?xu(x):xu.ceil(x)}function V(x,j){return x=D(x),wn(xu.count(gf(x),x)+(gf(x).getUTCDay()===4),j,2)}function ae(x){return x.getUTCDay()}function je(x,j){return wn(js.count(gf(x)-1,x),j,2)}function tt(x,j){return wn(x.getUTCFullYear()%100,j,2)}function wt(x,j){return x=D(x),wn(x.getUTCFullYear()%100,j,2)}function Bt(x,j){return wn(x.getUTCFullYear()%1e4,j,4)}function Kt(x,j){var L=x.getUTCDay();return x=L>=4||L===0?xu(x):xu.ceil(x),wn(x.getUTCFullYear()%1e4,j,4)}function pr(){return"+0000"}function Ir(){return"%"}function Ar(x){return+x}function $r(x){return Math.floor(+x/1e3)}var Gr,gn,Dn,Kn,ha;da({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function da(x){return Gr=As(x),gn=Gr.format,Dn=Gr.parse,Kn=Gr.utcFormat,ha=Gr.utcParse,Gr}var Ja=1e3,ti=Ja*60,Hi=ti*60,co=Hi*24,mo=co*7,Wi=co*30,Jo=co*365;function Ko(x){return new Date(x)}function Yi(x){return x instanceof Date?+x:+new Date(+x)}function Ks(x,j,L,R,N,W,he,$e,st){var Yt=np(Ic,Ic),hr=Yt.invert,yr=Yt.domain,Zr=st(".%L"),on=st(":%S"),ca=st("%I:%M"),Ra=st("%I %p"),Ga=st("%a %d"),Ji=st("%b %d"),go=st("%B"),jo=st("%Y"),Mo=[[he,1,Ja],[he,5,5*Ja],[he,15,15*Ja],[he,30,30*Ja],[W,1,ti],[W,5,5*ti],[W,15,15*ti],[W,30,30*ti],[N,1,Hi],[N,3,3*Hi],[N,6,6*Hi],[N,12,12*Hi],[R,1,co],[R,2,2*co],[L,1,mo],[j,1,Wi],[j,3,3*Wi],[x,1,Jo]];function $i(Ta){return(he(Ta)<Ta?Zr:W(Ta)<Ta?on:N(Ta)<Ta?ca:R(Ta)<Ta?Ra:j(Ta)<Ta?L(Ta)<Ta?Ga:Ji:x(Ta)<Ta?go:jo)(Ta)}function Ho(Ta,Rs,hi,Sl){if(Ta==null&&(Ta=10),typeof Ta=="number"){var fo=Math.abs(hi-Rs)/Ta,ou=Cp(function(Fs){return Fs[2]}).right(Mo,fo);ou===Mo.length?(Sl=Ya(Rs/Jo,hi/Jo,Ta),Ta=x):ou?(ou=Mo[fo/Mo[ou-1][2]<Mo[ou][2]/fo?ou-1:ou],Sl=ou[1],Ta=ou[0]):(Sl=Math.max(Ya(Rs,hi,Ta),1),Ta=$e)}return Sl==null?Ta:Ta.every(Sl)}return Yt.invert=function(Ta){return new Date(hr(Ta))},Yt.domain=function(Ta){return arguments.length?yr(ro.call(Ta,Yi)):yr().map(Ko)},Yt.ticks=function(Ta,Rs){var hi=yr(),Sl=hi[0],fo=hi[hi.length-1],ou=fo<Sl,Fs;return ou&&(Fs=Sl,Sl=fo,fo=Fs),Fs=Ho(Ta,Sl,fo,Rs),Fs=Fs?Fs.range(Sl,fo+1):[],ou?Fs.reverse():Fs},Yt.tickFormat=function(Ta,Rs){return Rs==null?$i:st(Rs)},Yt.nice=function(Ta,Rs){var hi=yr();return(Ta=Ho(Ta,hi[0],hi[hi.length-1],Rs))?yr(Wd(hi,Ta)):Yt},Yt.copy=function(){return Lh(Yt,Ks(x,j,L,R,N,W,he,$e,st))},Yt}var Ps=function(){return pl.apply(Ks(Pl,_t,Ua,ta,Qa,Si,xi,es,gn).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)},Rl=kc(function(x){x.setUTCDate(1),x.setUTCHours(0,0,0,0)},function(x,j){x.setUTCMonth(x.getUTCMonth()+j)},function(x,j){return j.getUTCMonth()-x.getUTCMonth()+(j.getUTCFullYear()-x.getUTCFullYear())*12},function(x){return x.getUTCMonth()}),rs=Rl,Us=Rl.range,Cu=kc(function(x){x.setUTCMinutes(0,0,0)},function(x,j){x.setTime(+x+j*fa)},function(x,j){return(j-x)/fa},function(x){return x.getUTCHours()}),Du=Cu,Vu=Cu.range,Qu=kc(function(x){x.setUTCSeconds(0,0)},function(x,j){x.setTime(+x+j*jn)},function(x,j){return(j-x)/jn},function(x){return x.getUTCMinutes()}),Hu=Qu,yf=Qu.range,Jc=function(){return pl.apply(Ks(gf,rs,bu,ds,Du,Hu,xi,es,Kn).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)};function bf(){var x=0,j=1,L,R,N,W,he=Ic,$e=!1,st;function Yt(hr){return isNaN(hr=+hr)?st:he(N===0?.5:(hr=(W(hr)-L)*N,$e?Math.max(0,Math.min(1,hr)):hr))}return Yt.domain=function(hr){return arguments.length?(L=W(x=+hr[0]),R=W(j=+hr[1]),N=L===R?0:1/(R-L),Yt):[x,j]},Yt.clamp=function(hr){return arguments.length?($e=!!hr,Yt):$e},Yt.interpolator=function(hr){return arguments.length?(he=hr,Yt):he},Yt.unknown=function(hr){return arguments.length?(st=hr,Yt):st},function(hr){return W=hr,L=hr(x),R=hr(j),N=L===R?0:1/(R-L),Yt}}function Wu(x,j){return j.domain(x.domain()).interpolator(x.interpolator()).clamp(x.clamp()).unknown(x.unknown())}function Fc(){var x=Cd(bf()(Ic));return x.copy=function(){return Wu(x,Fc())},xl.apply(x,arguments)}function qc(){var x=fc(bf()).domain([1,10]);return x.copy=function(){return Wu(x,qc()).base(x.base())},xl.apply(x,arguments)}function ef(){var x=sm(bf());return x.copy=function(){return Wu(x,ef()).constant(x.constant())},xl.apply(x,arguments)}function tf(){var x=Lv(bf());return x.copy=function(){return Wu(x,tf()).exponent(x.exponent())},xl.apply(x,arguments)}function jl(){return tf.apply(null,arguments).exponent(.5)}function yl(){var x=[],j=Ic;function L(R){if(!isNaN(R=+R))return j((F(x,R)-1)/(x.length-1))}return L.domain=function(R){if(!arguments.length)return x.slice();x=[];for(var N=0,W=R.length,he;N<W;++N)he=R[N],he!=null&&!isNaN(he=+he)&&x.push(he);return x.sort(Vd),L},L.interpolator=function(R){return arguments.length?(j=R,L):j},L.copy=function(){return yl(j).domain(x)},xl.apply(L,arguments)}function Xl(){var x=0,j=.5,L=1,R,N,W,he,$e,st=Ic,Yt,hr=!1,yr;function Zr(on){return isNaN(on=+on)?yr:(on=.5+((on=+Yt(on))-N)*(on<N?he:$e),st(hr?Math.max(0,Math.min(1,on)):on))}return Zr.domain=function(on){return arguments.length?(R=Yt(x=+on[0]),N=Yt(j=+on[1]),W=Yt(L=+on[2]),he=R===N?0:.5/(N-R),$e=N===W?0:.5/(W-N),Zr):[x,j,L]},Zr.clamp=function(on){return arguments.length?(hr=!!on,Zr):hr},Zr.interpolator=function(on){return arguments.length?(st=on,Zr):st},Zr.unknown=function(on){return arguments.length?(yr=on,Zr):yr},function(on){return Yt=on,R=on(x),N=on(j),W=on(L),he=R===N?0:.5/(N-R),$e=N===W?0:.5/(W-N),Zr}}function Fu(){var x=Cd(Xl()(Ic));return x.copy=function(){return Wu(x,Fu())},xl.apply(x,arguments)}function Sd(){var x=fc(Xl()).domain([.1,1,10]);return x.copy=function(){return Wu(x,Sd()).base(x.base())},xl.apply(x,arguments)}function Pu(){var x=sm(Xl());return x.copy=function(){return Wu(x,Pu()).constant(x.constant())},xl.apply(x,arguments)}function iu(){var x=Lv(Xl());return x.copy=function(){return Wu(x,iu()).exponent(x.exponent())},xl.apply(x,arguments)}function zc(){return iu.apply(null,arguments).exponent(.5)}var Is,oc,bh,up,rf,ns,yv=/^(?:(?!0000)[0-9]{4}([-/.]+)(?:(?:0?[1-9]|1[0-2])\1(?:0?[1-9]|1[0-9]|2[0-8])|(?:0?[13-9]|1[0-2])\1(?:29|30)|(?:0?[13578]|1[02])\1(?:31))|(?:[0-9]{2}(?:0[48]|[2468][048]|[13579][26])|(?:0[48]|[2468][048]|[13579][26])00)([-/.]?)0?2\2(?:29))(\s+([01]|([01][0-9]|2[0-3])):([0-9]|[0-5][0-9]):([0-9]|[0-5][0-9]))?$/,Zs=(Is={},I()(Is,M.ScaleTypes.LINEAR,ng),I()(Is,M.ScaleTypes.POWER,bm),I()(Is,M.ScaleTypes.LOG,Mp),I()(Is,M.ScaleTypes.IDENTITY,pv),I()(Is,M.ScaleTypes.TIME,Ps),I()(Is,M.ScaleTypes.QUANTILE,xm),I()(Is,M.ScaleTypes.QUANTIZE,Cm),I()(Is,M.ScaleTypes.THRESHOLD,ig),I()(Is,M.ScaleTypes.CAT,So),Is),Gu=(oc=Object(Jt.injectable)(),bh=Object(Jt.inject)(M.TYPES.IGlobalConfigService),oc(up=(rf=function(){function x(){T()(this,x),We()(this,"configService",ns,this),I()(this,"scaleCache",{}),I()(this,"scaleOptions",{})}return u()(x,[{key:"apply",value:function(L,R){var N=this,W=R.styleAttributeService;L.hooks.init.tap("FeatureScalePlugin",function(){N.scaleOptions=L.getScaleOptions();var he=W.getLayerStyleAttributes(),$e=L.getSource().data.dataArray;$e.length!==0&&N.caculateScalesForAttributes(he||[],$e)}),L.hooks.beforeRenderData.tap("FeatureScalePlugin",function(){N.scaleOptions=L.getScaleOptions();var he=W.getLayerStyleAttributes(),$e=L.getSource().data.dataArray;return N.caculateScalesForAttributes(he||[],$e),L.layerModelNeedUpdate=!0,!0}),L.hooks.beforeRender.tap("FeatureScalePlugin",function(){if(!L.layerModelNeedUpdate){N.scaleOptions=L.getScaleOptions();var he=W.getLayerStyleAttributes();if(he){var $e=L.getSource().data.dataArray;if($e.length===0)return;var st=he.filter(function(Yt){return Yt.needRescale});st.length&&N.caculateScalesForAttributes(st,$e)}}})}},{key:"isNumber",value:function(L){return!isNaN(parseFloat(L))&&isFinite(L)}},{key:"caculateScalesForAttributes",value:function(L,R){var N=this;this.scaleCache={},L.forEach(function(W){if(W.scale){var he=W.scale,$e=W.name;he.names=N.parseFields(W.scale.field||[]);var st=[];he.names.forEach(function(Yt){st.push(N.getOrCreateScale(Yt,W,R))}),st.some(function(Yt){return Yt.type===M.StyleScaleType.VARIABLE})?(he.type=M.StyleScaleType.VARIABLE,st.forEach(function(Yt){if(!he.callback){var hr;if(he.values&&he.values!=="text"){var yr;if(((yr=Yt.option)===null||yr===void 0?void 0:yr.type)==="linear"&&he.values.length>2){var Zr=Yt.scale.ticks(he.values.length);$e==="color"&&Yt.scale.domain(Zr)}Yt.scale.range(he.values)}else((hr=Yt.option)===null||hr===void 0?void 0:hr.type)==="cat"&&Yt.scale.range(Yt.option.domain)}})):(he.type=M.StyleScaleType.CONSTANT,he.defaultValues=st.map(function(Yt,hr){return Yt.scale(he.names[hr])})),he.scalers=st.map(function(Yt){return{field:Yt.field,func:Yt.scale,option:Yt.option}}),W.needRescale=!1}})}},{key:"getOrCreateScale",value:function(L,R,N){var W,he=[L,R.name].join("_"),$e=(W=R.scale)===null||W===void 0?void 0:W.values,st=this.createScale(L,R.name,$e,N);return st}},{key:"parseFields",value:function(L){return Array.isArray(L)?L:ht()(L)?L.split("*"):[L]}},{key:"createScale",value:function(L,R,N,W){var he,$e,st=this.scaleOptions[R]&&((he=this.scaleOptions[R])===null||he===void 0?void 0:he.field)===L?this.scaleOptions[R]:this.scaleOptions[L],Yt={field:L,scale:void 0,type:M.StyleScaleType.VARIABLE,option:st};if(!W||!W.length)return st&&st.type?Yt.scale=this.createDefaultScale(st):(Yt.scale=So([L]),Yt.type=M.StyleScaleType.CONSTANT),Yt;var hr=($e=W.find(function(on){return!id()(on[L])}))===null||$e===void 0?void 0:$e[L];if(this.isNumber(L)||id()(hr)&&!st)Yt.scale=So([L]),Yt.type=M.StyleScaleType.CONSTANT;else{var yr=st&&st.type||this.getDefaultType(hr);N==="text"&&(yr=M.ScaleTypes.CAT);var Zr=this.createDefaultScaleConfig(yr,L,W);Object.assign(Zr,st),Yt.scale=this.createDefaultScale(Zr),Yt.option=Zr}return Yt}},{key:"getDefaultType",value:function(L){var R=M.ScaleTypes.LINEAR;return typeof L=="string"&&(R=yv.test(L)?M.ScaleTypes.TIME:M.ScaleTypes.CAT),R}},{key:"createDefaultScaleConfig",value:function(L,R,N){var W={type:L},he=(N==null?void 0:N.map(function($e){return $e[R]}))||[];return L!==M.ScaleTypes.CAT&&L!==M.ScaleTypes.QUANTILE?W.domain=ur(he):L===M.ScaleTypes.CAT?W.domain=Rf()(he):L===M.ScaleTypes.QUANTILE&&(W.domain=he),W}},{key:"createDefaultScale",value:function(L){var R=L.type,N=L.domain,W=Zs[R]();return N&&W.domain(N),W}}]),x}(),ns=ce()(rf.prototype,"configService",[bh],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),rf))||up),oh,Od,Sm,um,Jp,Hm,jv;function cm(x,j){var L=Object.keys(x);if(Object.getOwnPropertySymbols){var R=Object.getOwnPropertySymbols(x);j&&(R=R.filter(function(N){return Object.getOwnPropertyDescriptor(x,N).enumerable})),L.push.apply(L,R)}return L}function Rp(x){for(var j=1;j<arguments.length;j++){var L=arguments[j]!=null?arguments[j]:{};j%2?cm(Object(L),!0).forEach(function(R){I()(x,R,L[R])}):Object.getOwnPropertyDescriptors?Object.defineProperties(x,Object.getOwnPropertyDescriptors(L)):cm(Object(L)).forEach(function(R){Object.defineProperty(x,R,Object.getOwnPropertyDescriptor(L,R))})}return x}var Pd=(oh=Object(Jt.injectable)(),Od=Object(Jt.inject)(M.TYPES.ICameraService),Sm=Object(Jt.inject)(M.TYPES.IRendererService),oh(um=(Jp=function(){function x(){T()(this,x),We()(this,"cameraService",Hm,this),We()(this,"rendererService",jv,this)}return u()(x,[{key:"apply",value:function(L){L.hooks.beforeRender.tap("LayerAnimateStylePlugin",function(){L.models.forEach(function(R){R.addUniforms(Rp({},L.layerModel.getAnimateUniforms()))})})}}]),x}(),Hm=ce()(Jp.prototype,"cameraService",[Od],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),jv=ce()(Jp.prototype,"rendererService",[Sm],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Jp))||um),Om,Lp,Ju=(Om=Object(Jt.injectable)(),Om(Lp=function(){function x(){T()(this,x)}return u()(x,[{key:"apply",value:function(L){L.hooks.init.tap("LayerModelPlugin",function(){L.prepareBuildModel(),L.buildModels(),L.styleNeedUpdate=!1}),L.hooks.beforeRenderData.tap("DataSourcePlugin",function(){return L.prepareBuildModel(),L.clearModels(),L.buildModels(),L.layerModelNeedUpdate=!1,!1})}}]),x}())||Lp),pc,Pm,sg=(pc=Object(Jt.injectable)(),pc(Pm=function(){function x(){T()(this,x)}return u()(x,[{key:"apply",value:function(L){L.hooks.afterInit.tap("LayerStylePlugin",function(){L.updateLayerConfig({});var R=L.getLayerConfig(),N=R.autoFit,W=R.fitBoundsOptions;N&&setTimeout(function(){L.fitBounds(W)},100)})}}]),x}())||Pm),kv,Wm;function Bv(x,j){var L=Object.keys(x);if(Object.getOwnPropertySymbols){var R=Object.getOwnPropertySymbols(x);j&&(R=R.filter(function(N){return Object.getOwnPropertyDescriptor(x,N).enumerable})),L.push.apply(L,R)}return L}function jh(x){for(var j=1;j<arguments.length;j++){var L=arguments[j]!=null?arguments[j]:{};j%2?Bv(Object(L),!0).forEach(function(R){I()(x,R,L[R])}):Object.getOwnPropertyDescriptors?Object.defineProperties(x,Object.getOwnPropertyDescriptors(L)):Bv(Object(L)).forEach(function(R){Object.defineProperty(x,R,Object.getOwnPropertyDescriptor(L,R))})}return x}var fm={directional:{lights:"u_DirectionalLights",num:"u_NumOfDirectionalLights"},spot:{lights:"u_SpotLights",num:"u_NumOfSpotLights"}},wm={type:"directional",direction:[1,10.5,12],ambient:[.2,.2,.2],diffuse:[.6,.6,.6],specular:[.1,.1,.1]},bv={direction:[0,0,0],ambient:[0,0,0],diffuse:[0,0,0],specular:[0,0,0]},kh={position:[0,0,0],direction:[0,0,0],ambient:[0,0,0],diffuse:[0,0,0],specular:[0,0,0],constant:1,linear:0,quadratic:0,angle:14,exponent:40,blur:5},zv=["ambient","diffuse","specular"];function Tm(x){var j={u_DirectionalLights:new Array(3).fill(jh({},bv)),u_NumOfDirectionalLights:0,u_SpotLights:new Array(3).fill(jh({},kh)),u_NumOfSpotLights:0};return(!x||!x.length)&&(x=[wm]),x.forEach(function(L,R){var N=L.type,W=N===void 0?"directional":N,he=et()(L,["type"]),$e=fm[W].lights,st=fm[W].num,Yt=j[st];j[$e][Yt]=jh(jh({},j[$e][Yt]),he),j[st]++}),j}var qp=(kv=Object(Jt.injectable)(),kv(Wm=function(){function x(){T()(this,x)}return u()(x,[{key:"apply",value:function(L){L.hooks.beforeRender.tap("LightingPlugin",function(){var R=L.getLayerConfig(),N=R.enableLighting;N&&L.models.forEach(function(W){return W.addUniforms(jh({},Tm()))})})}}]),x}())||Wm),sd,Dp,Uv={NONE:0,ENCODE:1,HIGHLIGHT:2},lg=(sd=Object(Jt.injectable)(),sd(Dp=function(){function x(){T()(this,x)}return u()(x,[{key:"apply",value:function(L,R){var N=R.rendererService,W=R.styleAttributeService;L.hooks.init.tap("PixelPickingPlugin",function(){var he=L.getLayerConfig(),$e=he.enablePicking;W.registerStyleAttribute({name:"pickingColor",type:M.AttributeType.Attribute,descriptor:{name:"a_PickingColor",buffer:{data:[],type:M.gl.FLOAT},size:3,update:function(Yt,hr){var yr=Yt.id;return $e?Object(yt.l)(yr):[0,0,0]}}})}),L.hooks.beforePickingEncode.tap("PixelPickingPlugin",function(){var he=L.getLayerConfig(),$e=he.enablePicking;$e&&L.isVisible()&&L.models.forEach(function(st){return st.addUniforms({u_PickingStage:Uv.ENCODE})})}),L.hooks.afterPickingEncode.tap("PixelPickingPlugin",function(){var he=L.getLayerConfig(),$e=he.enablePicking;$e&&L.isVisible()&&L.models.forEach(function(st){return st.addUniforms({u_PickingStage:Uv.HIGHLIGHT})})}),L.hooks.beforeHighlight.tap("PixelPickingPlugin",function(he){var $e=L.getLayerConfig(),st=$e.highlightColor,Yt=typeof st=="string"?Object(yt.s)(st):st||[1,0,0,1];L.updateLayerConfig({pickedFeatureID:Object(yt.k)(new Uint8Array(he))}),L.models.forEach(function(hr){return hr.addUniforms({u_PickingStage:Uv.HIGHLIGHT,u_PickingColor:he,u_HighlightColor:Yt.map(function(yr){return yr*255})})})}),L.hooks.beforeSelect.tap("PixelPickingPlugin",function(he){var $e=L.getLayerConfig(),st=$e.selectColor,Yt=typeof st=="string"?Object(yt.s)(st):st||[1,0,0,1];L.updateLayerConfig({pickedFeatureID:Object(yt.k)(new Uint8Array(he))}),L.models.forEach(function(hr){return hr.addUniforms({u_PickingStage:Uv.HIGHLIGHT,u_PickingColor:he,u_HighlightColor:Yt.map(function(yr){return yr*255})})})})}}]),x}())||Dp),ld,Vv,Og=(ld=Object(Jt.injectable)(),ld(Vv=function(){function x(){T()(this,x)}return u()(x,[{key:"apply",value:function(L,R){var N=this,W=R.styleAttributeService;L.hooks.init.tap("RegisterStyleAttributePlugin",function(){N.registerBuiltinAttributes(W)})}},{key:"registerBuiltinAttributes",value:function(L){L.registerStyleAttribute({name:"position",type:M.AttributeType.Attribute,descriptor:{name:"a_Position",buffer:{data:[],type:M.gl.FLOAT},size:3,update:function(N,W,he){return he.length===2?[he[0],he[1],0]:[he[0],he[1],he[2]]}}}),L.registerStyleAttribute({name:"filter",type:M.AttributeType.Attribute,descriptor:{name:"filter",buffer:{usage:M.gl.DYNAMIC_DRAW,data:[],type:M.gl.FLOAT},size:1,update:function(N,W){var he=N.filter;return he?[1]:[0]}}}),L.registerStyleAttribute({name:"color",type:M.AttributeType.Attribute,descriptor:{name:"a_Color",buffer:{usage:M.gl.DYNAMIC_DRAW,data:[],type:M.gl.FLOAT},size:4,update:function(N,W){var he=N.color;return!he||!he.length?[1,1,1,1]:he}}}),L.registerStyleAttribute({name:"vertexId",type:M.AttributeType.Attribute,descriptor:{name:"a_vertexId",buffer:{usage:M.gl.DYNAMIC_DRAW,data:[],type:M.gl.FLOAT},size:1,update:function(N,W,he,$e){return[W]}}})}}]),x}())||Vv),Gm,xv,wl,Cv,Ql,Bh,Ev,El,Km,Zm,Hv,Fp=(Gm=Object(Jt.injectable)(),xv=Object(Jt.inject)(M.TYPES.ICameraService),wl=Object(Jt.inject)(M.TYPES.ICoordinateSystemService),Cv=Object(Jt.inject)(M.TYPES.IRendererService),Ql=Object(Jt.inject)(M.TYPES.IMapService),Gm(Bh=(Ev=function(){function x(){T()(this,x),We()(this,"cameraService",El,this),We()(this,"coordinateSystemService",Km,this),We()(this,"rendererService",Zm,this),We()(this,"mapService",Hv,this)}return u()(x,[{key:"apply",value:function(L){var R=this,N=this.mapService.version,W=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1],he=[0,0];L.hooks.beforeRender.tap("ShaderUniformPlugin",function(){R.coordinateSystemService.refresh(),N==="GAODE2.x"&&(W=R.mapService.map.customCoords.getMVPMatrix(),he=R.mapService.getCustomCoordCenter());var $e=R.rendererService.getViewportSize(),st=$e.width,Yt=$e.height;L.models.forEach(function(hr){var yr;hr.addUniforms((yr={},I()(yr,M.CameraUniform.ProjectionMatrix,R.cameraService.getProjectionMatrix()),I()(yr,M.CameraUniform.ViewMatrix,R.cameraService.getViewMatrix()),I()(yr,M.CameraUniform.ViewProjectionMatrix,R.cameraService.getViewProjectionMatrix()),I()(yr,M.CameraUniform.Zoom,R.cameraService.getZoom()),I()(yr,M.CameraUniform.ZoomScale,R.cameraService.getZoomScale()),I()(yr,M.CameraUniform.FocalDistance,R.cameraService.getFocalDistance()),I()(yr,M.CameraUniform.CameraPosition,R.cameraService.getCameraPosition()),I()(yr,M.CoordinateUniform.CoordinateSystem,R.coordinateSystemService.getCoordinateSystem()),I()(yr,M.CoordinateUniform.ViewportCenter,R.coordinateSystemService.getViewportCenter()),I()(yr,M.CoordinateUniform.ViewportCenterProjection,R.coordinateSystemService.getViewportCenterProjection()),I()(yr,M.CoordinateUniform.PixelsPerDegree,R.coordinateSystemService.getPixelsPerDegree()),I()(yr,M.CoordinateUniform.PixelsPerDegree2,R.coordinateSystemService.getPixelsPerDegree2()),I()(yr,M.CoordinateUniform.PixelsPerMeter,R.coordinateSystemService.getPixelsPerMeter()),I()(yr,M.CoordinateUniform.Mvp,W),I()(yr,"u_SceneCenterMKT",he),I()(yr,"u_ViewportSize",[st,Yt]),I()(yr,"u_DevicePixelRatio",window.devicePixelRatio),I()(yr,"u_ModelMatrix",R.cameraService.getModelMatrix()),I()(yr,"u_PickingBuffer",L.getLayerConfig().pickingBuffer||0),yr))})})}}]),x}(),El=ce()(Ev.prototype,"cameraService",[xv],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Km=ce()(Ev.prototype,"coordinateSystemService",[wl],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Zm=ce()(Ev.prototype,"rendererService",[Cv],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Hv=ce()(Ev.prototype,"mapService",[Ql],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Ev))||Bh),Ym,Am,$m=(Ym=Object(Jt.injectable)(),Ym(Am=function(){function x(){T()(this,x)}return u()(x,[{key:"apply",value:function(L){L.hooks.beforeRender.tap("UpdateModelPlugin",function(){L.layerModel&&L.layerModel.needUpdate()})}}]),x}())||Am),Xm,Qm,zg=(Xm=Object(Jt.injectable)(),Xm(Qm=function(){function x(){T()(this,x)}return u()(x,[{key:"apply",value:function(L,R){var N=this,W=R.styleAttributeService;L.hooks.init.tap("UpdateStyleAttributePlugin",function(){N.initStyleAttribute(L,{styleAttributeService:W})}),L.hooks.beforeRender.tap("UpdateStyleAttributePlugin",function(){L.layerModelNeedUpdate||N.updateStyleAtrribute(L,{styleAttributeService:W})})}},{key:"updateStyleAtrribute",value:function(L,R){var N=R.styleAttributeService,W=N.getLayerStyleAttributes()||[],he=N.getLayerStyleAttribute("filter"),$e=N.getLayerStyleAttribute("shape");if(he&&he.needRegenerateVertices||$e&&$e.needRegenerateVertices){L.layerModelNeedUpdate=!0,W.forEach(function(st){return st.needRegenerateVertices=!1});return}W.filter(function(st){return st.needRegenerateVertices}).forEach(function(st){N.updateAttributeByFeatureRange(st.name,L.getEncodedData(),st.featureRange.startIndex,st.featureRange.endIndex),st.needRegenerateVertices=!1})}},{key:"initStyleAttribute",value:function(L,R){var N=R.styleAttributeService,W=N.getLayerStyleAttributes()||[];W.filter(function(he){return he.needRegenerateVertices}).forEach(function(he){N.updateAttributeByFeatureRange(he.name,L.getEncodedData(),he.featureRange.startIndex,he.featureRange.endIndex),he.needRegenerateVertices=!1})}}]),x}())||Qm);M.container.bind(M.TYPES.ILayerPlugin).to(Yc).inRequestScope(),M.container.bind(M.TYPES.ILayerPlugin).to(Og).inRequestScope(),M.container.bind(M.TYPES.ILayerPlugin).to(Gu).inRequestScope(),M.container.bind(M.TYPES.ILayerPlugin).to(th).inRequestScope(),M.container.bind(M.TYPES.ILayerPlugin).to(sg).inRequestScope(),M.container.bind(M.TYPES.ILayerPlugin).to(zg).inRequestScope(),M.container.bind(M.TYPES.ILayerPlugin).to($m).inRequestScope(),M.container.bind(M.TYPES.ILayerPlugin).to(Ve).inRequestScope(),M.container.bind(M.TYPES.ILayerPlugin).to(Fp).inRequestScope(),M.container.bind(M.TYPES.ILayerPlugin).to(Pd).inRequestScope(),M.container.bind(M.TYPES.ILayerPlugin).to(qp).inRequestScope(),M.container.bind(M.TYPES.ILayerPlugin).to(lg).inRequestScope(),M.container.bind(M.TYPES.ILayerPlugin).to(Ju).inRequestScope()},szb8:function(ze,A,r){"use strict";r.r(A),r.d(A,"Interpreter",function(){return Bs}),r.d(A,"vm",function(){return M}),r.d(A,"evaluate",function(){return Sn}),r.d(A,"Function",function(){return Jn});var M={};r.r(M),r.d(M,"createContext",function(){return tu}),r.d(M,"compileFunction",function(){return il}),r.d(M,"runInContext",function(){return fl}),r.d(M,"runInNewContext",function(){return Yh}),r.d(M,"Script",function(){return Fr});var y={3:"abstract boolean byte char class double enum export extends final float goto implements import int interface long native package private protected public short static super synchronized throws transient volatile",5:"class enum extends super const export import",6:"enum",strict:"implements interface let package private protected public static yield",strictBind:"eval arguments"},T="break case catch continue debugger default do else finally for function if return switch throw try var while with null true false instanceof typeof void delete new in this",b={5:T,"5module":T+" export import",6:T+" const class extends export import super"},u=/^in(stanceof)?$/,H="\xAA\xB5\xBA\xC0-\xD6\xD8-\xF6\xF8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0370-\u0374\u0376\u0377\u037A-\u037D\u037F\u0386\u0388-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5\u03F7-\u0481\u048A-\u052F\u0531-\u0556\u0559\u0560-\u0588\u05D0-\u05EA\u05EF-\u05F2\u0620-\u064A\u066E\u066F\u0671-\u06D3\u06D5\u06E5\u06E6\u06EE\u06EF\u06FA-\u06FC\u06FF\u0710\u0712-\u072F\u074D-\u07A5\u07B1\u07CA-\u07EA\u07F4\u07F5\u07FA\u0800-\u0815\u081A\u0824\u0828\u0840-\u0858\u0860-\u086A\u08A0-\u08B4\u08B6-\u08C7\u0904-\u0939\u093D\u0950\u0958-\u0961\u0971-\u0980\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BD\u09CE\u09DC\u09DD\u09DF-\u09E1\u09F0\u09F1\u09FC\u0A05-\u0A0A\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39\u0A59-\u0A5C\u0A5E\u0A72-\u0A74\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABD\u0AD0\u0AE0\u0AE1\u0AF9\u0B05-\u0B0C\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3D\u0B5C\u0B5D\u0B5F-\u0B61\u0B71\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BD0\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C39\u0C3D\u0C58-\u0C5A\u0C60\u0C61\u0C80\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBD\u0CDE\u0CE0\u0CE1\u0CF1\u0CF2\u0D04-\u0D0C\u0D0E-\u0D10\u0D12-\u0D3A\u0D3D\u0D4E\u0D54-\u0D56\u0D5F-\u0D61\u0D7A-\u0D7F\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0E01-\u0E30\u0E32\u0E33\u0E40-\u0E46\u0E81\u0E82\u0E84\u0E86-\u0E8A\u0E8C-\u0EA3\u0EA5\u0EA7-\u0EB0\u0EB2\u0EB3\u0EBD\u0EC0-\u0EC4\u0EC6\u0EDC-\u0EDF\u0F00\u0F40-\u0F47\u0F49-\u0F6C\u0F88-\u0F8C\u1000-\u102A\u103F\u1050-\u1055\u105A-\u105D\u1061\u1065\u1066\u106E-\u1070\u1075-\u1081\u108E\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u1380-\u138F\u13A0-\u13F5\u13F8-\u13FD\u1401-\u166C\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u16EE-\u16F8\u1700-\u170C\u170E-\u1711\u1720-\u1731\u1740-\u1751\u1760-\u176C\u176E-\u1770\u1780-\u17B3\u17D7\u17DC\u1820-\u1878\u1880-\u18A8\u18AA\u18B0-\u18F5\u1900-\u191E\u1950-\u196D\u1970-\u1974\u1980-\u19AB\u19B0-\u19C9\u1A00-\u1A16\u1A20-\u1A54\u1AA7\u1B05-\u1B33\u1B45-\u1B4B\u1B83-\u1BA0\u1BAE\u1BAF\u1BBA-\u1BE5\u1C00-\u1C23\u1C4D-\u1C4F\u1C5A-\u1C7D\u1C80-\u1C88\u1C90-\u1CBA\u1CBD-\u1CBF\u1CE9-\u1CEC\u1CEE-\u1CF3\u1CF5\u1CF6\u1CFA\u1D00-\u1DBF\u1E00-\u1F15\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u2071\u207F\u2090-\u209C\u2102\u2107\u210A-\u2113\u2115\u2118-\u211D\u2124\u2126\u2128\u212A-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2160-\u2188\u2C00-\u2C2E\u2C30-\u2C5E\u2C60-\u2CE4\u2CEB-\u2CEE\u2CF2\u2CF3\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D80-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u3005-\u3007\u3021-\u3029\u3031-\u3035\u3038-\u303C\u3041-\u3096\u309B-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312F\u3131-\u318E\u31A0-\u31BF\u31F0-\u31FF\u3400-\u4DBF\u4E00-\u9FFC\uA000-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA61F\uA62A\uA62B\uA640-\uA66E\uA67F-\uA69D\uA6A0-\uA6EF\uA717-\uA71F\uA722-\uA788\uA78B-\uA7BF\uA7C2-\uA7CA\uA7F5-\uA801\uA803-\uA805\uA807-\uA80A\uA80C-\uA822\uA840-\uA873\uA882-\uA8B3\uA8F2-\uA8F7\uA8FB\uA8FD\uA8FE\uA90A-\uA925\uA930-\uA946\uA960-\uA97C\uA984-\uA9B2\uA9CF\uA9E0-\uA9E4\uA9E6-\uA9EF\uA9FA-\uA9FE\uAA00-\uAA28\uAA40-\uAA42\uAA44-\uAA4B\uAA60-\uAA76\uAA7A\uAA7E-\uAAAF\uAAB1\uAAB5\uAAB6\uAAB9-\uAABD\uAAC0\uAAC2\uAADB-\uAADD\uAAE0-\uAAEA\uAAF2-\uAAF4\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E\uAB30-\uAB5A\uAB5C-\uAB69\uAB70-\uABE2\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D\uFB1F-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE70-\uFE74\uFE76-\uFEFC\uFF21-\uFF3A\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC",k="\u200C\u200D\xB7\u0300-\u036F\u0387\u0483-\u0487\u0591-\u05BD\u05BF\u05C1\u05C2\u05C4\u05C5\u05C7\u0610-\u061A\u064B-\u0669\u0670\u06D6-\u06DC\u06DF-\u06E4\u06E7\u06E8\u06EA-\u06ED\u06F0-\u06F9\u0711\u0730-\u074A\u07A6-\u07B0\u07C0-\u07C9\u07EB-\u07F3\u07FD\u0816-\u0819\u081B-\u0823\u0825-\u0827\u0829-\u082D\u0859-\u085B\u08D3-\u08E1\u08E3-\u0903\u093A-\u093C\u093E-\u094F\u0951-\u0957\u0962\u0963\u0966-\u096F\u0981-\u0983\u09BC\u09BE-\u09C4\u09C7\u09C8\u09CB-\u09CD\u09D7\u09E2\u09E3\u09E6-\u09EF\u09FE\u0A01-\u0A03\u0A3C\u0A3E-\u0A42\u0A47\u0A48\u0A4B-\u0A4D\u0A51\u0A66-\u0A71\u0A75\u0A81-\u0A83\u0ABC\u0ABE-\u0AC5\u0AC7-\u0AC9\u0ACB-\u0ACD\u0AE2\u0AE3\u0AE6-\u0AEF\u0AFA-\u0AFF\u0B01-\u0B03\u0B3C\u0B3E-\u0B44\u0B47\u0B48\u0B4B-\u0B4D\u0B55-\u0B57\u0B62\u0B63\u0B66-\u0B6F\u0B82\u0BBE-\u0BC2\u0BC6-\u0BC8\u0BCA-\u0BCD\u0BD7\u0BE6-\u0BEF\u0C00-\u0C04\u0C3E-\u0C44\u0C46-\u0C48\u0C4A-\u0C4D\u0C55\u0C56\u0C62\u0C63\u0C66-\u0C6F\u0C81-\u0C83\u0CBC\u0CBE-\u0CC4\u0CC6-\u0CC8\u0CCA-\u0CCD\u0CD5\u0CD6\u0CE2\u0CE3\u0CE6-\u0CEF\u0D00-\u0D03\u0D3B\u0D3C\u0D3E-\u0D44\u0D46-\u0D48\u0D4A-\u0D4D\u0D57\u0D62\u0D63\u0D66-\u0D6F\u0D81-\u0D83\u0DCA\u0DCF-\u0DD4\u0DD6\u0DD8-\u0DDF\u0DE6-\u0DEF\u0DF2\u0DF3\u0E31\u0E34-\u0E3A\u0E47-\u0E4E\u0E50-\u0E59\u0EB1\u0EB4-\u0EBC\u0EC8-\u0ECD\u0ED0-\u0ED9\u0F18\u0F19\u0F20-\u0F29\u0F35\u0F37\u0F39\u0F3E\u0F3F\u0F71-\u0F84\u0F86\u0F87\u0F8D-\u0F97\u0F99-\u0FBC\u0FC6\u102B-\u103E\u1040-\u1049\u1056-\u1059\u105E-\u1060\u1062-\u1064\u1067-\u106D\u1071-\u1074\u1082-\u108D\u108F-\u109D\u135D-\u135F\u1369-\u1371\u1712-\u1714\u1732-\u1734\u1752\u1753\u1772\u1773\u17B4-\u17D3\u17DD\u17E0-\u17E9\u180B-\u180D\u1810-\u1819\u18A9\u1920-\u192B\u1930-\u193B\u1946-\u194F\u19D0-\u19DA\u1A17-\u1A1B\u1A55-\u1A5E\u1A60-\u1A7C\u1A7F-\u1A89\u1A90-\u1A99\u1AB0-\u1ABD\u1ABF\u1AC0\u1B00-\u1B04\u1B34-\u1B44\u1B50-\u1B59\u1B6B-\u1B73\u1B80-\u1B82\u1BA1-\u1BAD\u1BB0-\u1BB9\u1BE6-\u1BF3\u1C24-\u1C37\u1C40-\u1C49\u1C50-\u1C59\u1CD0-\u1CD2\u1CD4-\u1CE8\u1CED\u1CF4\u1CF7-\u1CF9\u1DC0-\u1DF9\u1DFB-\u1DFF\u203F\u2040\u2054\u20D0-\u20DC\u20E1\u20E5-\u20F0\u2CEF-\u2CF1\u2D7F\u2DE0-\u2DFF\u302A-\u302F\u3099\u309A\uA620-\uA629\uA66F\uA674-\uA67D\uA69E\uA69F\uA6F0\uA6F1\uA802\uA806\uA80B\uA823-\uA827\uA82C\uA880\uA881\uA8B4-\uA8C5\uA8D0-\uA8D9\uA8E0-\uA8F1\uA8FF-\uA909\uA926-\uA92D\uA947-\uA953\uA980-\uA983\uA9B3-\uA9C0\uA9D0-\uA9D9\uA9E5\uA9F0-\uA9F9\uAA29-\uAA36\uAA43\uAA4C\uAA4D\uAA50-\uAA59\uAA7B-\uAA7D\uAAB0\uAAB2-\uAAB4\uAAB7\uAAB8\uAABE\uAABF\uAAC1\uAAEB-\uAAEF\uAAF5\uAAF6\uABE3-\uABEA\uABEC\uABED\uABF0-\uABF9\uFB1E\uFE00-\uFE0F\uFE20-\uFE2F\uFE33\uFE34\uFE4D-\uFE4F\uFF10-\uFF19\uFF3F",Z=new RegExp("["+H+"]"),oe=new RegExp("["+H+k+"]");H=k=null;var ne=[0,11,2,25,2,18,2,1,2,14,3,13,35,122,70,52,268,28,4,48,48,31,14,29,6,37,11,29,3,35,5,7,2,4,43,157,19,35,5,35,5,39,9,51,157,310,10,21,11,7,153,5,3,0,2,43,2,1,4,0,3,22,11,22,10,30,66,18,2,1,11,21,11,25,71,55,7,1,65,0,16,3,2,2,2,28,43,28,4,28,36,7,2,27,28,53,11,21,11,18,14,17,111,72,56,50,14,50,14,35,349,41,7,1,79,28,11,0,9,21,107,20,28,22,13,52,76,44,33,24,27,35,30,0,3,0,9,34,4,0,13,47,15,3,22,0,2,0,36,17,2,24,85,6,2,0,2,3,2,14,2,9,8,46,39,7,3,1,3,21,2,6,2,1,2,4,4,0,19,0,13,4,159,52,19,3,21,2,31,47,21,1,2,0,185,46,42,3,37,47,21,0,60,42,14,0,72,26,230,43,117,63,32,7,3,0,3,7,2,1,2,23,16,0,2,0,95,7,3,38,17,0,2,0,29,0,11,39,8,0,22,0,12,45,20,0,35,56,264,8,2,36,18,0,50,29,113,6,2,1,2,37,22,0,26,5,2,1,2,31,15,0,328,18,190,0,80,921,103,110,18,195,2749,1070,4050,582,8634,568,8,30,114,29,19,47,17,3,32,20,6,18,689,63,129,74,6,0,67,12,65,1,2,0,29,6135,9,1237,43,8,8952,286,50,2,18,3,9,395,2309,106,6,12,4,8,8,9,5991,84,2,70,2,1,3,0,3,1,3,3,2,11,2,0,2,6,2,64,2,3,3,7,2,6,2,27,2,3,2,4,2,0,4,6,2,339,3,24,2,24,2,30,2,24,2,30,2,24,2,30,2,24,2,30,2,24,2,7,2357,44,11,6,17,0,370,43,1301,196,60,67,8,0,1205,3,2,26,2,1,2,0,3,0,2,9,2,3,2,0,2,0,7,0,5,0,2,0,2,0,2,2,2,1,2,0,3,0,2,0,2,0,2,0,2,0,2,1,2,0,3,3,2,6,2,3,2,3,2,0,2,9,2,16,6,2,2,4,2,16,4421,42717,35,4148,12,221,3,5761,15,7472,3104,541,1507,4938],Te=[509,0,227,0,150,4,294,9,1368,2,2,1,6,3,41,2,5,0,166,1,574,3,9,9,370,1,154,10,176,2,54,14,32,9,16,3,46,10,54,9,7,2,37,13,2,9,6,1,45,0,13,2,49,13,9,3,2,11,83,11,7,0,161,11,6,9,7,3,56,1,2,6,3,1,3,2,10,0,11,1,3,6,4,4,193,17,10,9,5,0,82,19,13,9,214,6,3,8,28,1,83,16,16,9,82,12,9,9,84,14,5,9,243,14,166,9,71,5,2,1,3,3,2,0,2,1,13,9,120,6,3,6,4,0,29,9,41,6,2,3,9,0,10,10,47,15,406,7,2,7,17,9,57,21,2,13,123,5,4,0,2,1,2,6,2,0,9,9,49,4,2,1,2,4,9,9,330,3,19306,9,135,4,60,6,26,9,1014,0,2,54,8,3,82,0,12,1,19628,1,5319,4,4,5,9,7,3,6,31,3,149,2,1418,49,513,54,5,49,9,0,15,0,23,4,2,14,1361,6,2,16,3,6,2,1,2,4,262,6,10,9,419,13,1495,6,110,6,6,9,4759,9,787719,239];function at(w,re){for(var Qe=65536,Se=0;Se<re.length;Se+=2){if(Qe+=re[Se],Qe>w)return!1;if(Qe+=re[Se+1],Qe>=w)return!0}}function ve(w,re){return w<65?w===36:w<91?!0:w<97?w===95:w<123?!0:w<=65535?w>=170&&Z.test(String.fromCharCode(w)):re===!1?!1:at(w,ne)}function we(w,re){return w<48?w===36:w<58?!0:w<65?!1:w<91?!0:w<97?w===95:w<123?!0:w<=65535?w>=170&&oe.test(String.fromCharCode(w)):re===!1?!1:at(w,ne)||at(w,Te)}var I=function(re,Qe){Qe===void 0&&(Qe={}),this.label=re,this.keyword=Qe.keyword,this.beforeExpr=!!Qe.beforeExpr,this.startsExpr=!!Qe.startsExpr,this.isLoop=!!Qe.isLoop,this.isAssign=!!Qe.isAssign,this.prefix=!!Qe.prefix,this.postfix=!!Qe.postfix,this.binop=Qe.binop||null,this.updateContext=null};function Ce(w,re){return new I(w,{beforeExpr:!0,binop:re})}var et={beforeExpr:!0},Et={startsExpr:!0},We={};function ct(w,re){return re===void 0&&(re={}),re.keyword=w,We[w]=new I(w,re)}var ce={num:new I("num",Et),regexp:new I("regexp",Et),string:new I("string",Et),name:new I("name",Et),eof:new I("eof"),bracketL:new I("[",{beforeExpr:!0,startsExpr:!0}),bracketR:new I("]"),braceL:new I("{",{beforeExpr:!0,startsExpr:!0}),braceR:new I("}"),parenL:new I("(",{beforeExpr:!0,startsExpr:!0}),parenR:new I(")"),comma:new I(",",et),semi:new I(";",et),colon:new I(":",et),dot:new I("."),question:new I("?",et),questionDot:new I("?."),arrow:new I("=>",et),template:new I("template"),invalidTemplate:new I("invalidTemplate"),ellipsis:new I("...",et),backQuote:new I("`",Et),dollarBraceL:new I("${",{beforeExpr:!0,startsExpr:!0}),eq:new I("=",{beforeExpr:!0,isAssign:!0}),assign:new I("_=",{beforeExpr:!0,isAssign:!0}),incDec:new I("++/--",{prefix:!0,postfix:!0,startsExpr:!0}),prefix:new I("!/~",{beforeExpr:!0,prefix:!0,startsExpr:!0}),logicalOR:Ce("||",1),logicalAND:Ce("&&",2),bitwiseOR:Ce("|",3),bitwiseXOR:Ce("^",4),bitwiseAND:Ce("&",5),equality:Ce("==/!=/===/!==",6),relational:Ce("</>/<=/>=",7),bitShift:Ce("<</>>/>>>",8),plusMin:new I("+/-",{beforeExpr:!0,binop:9,prefix:!0,startsExpr:!0}),modulo:Ce("%",10),star:Ce("*",10),slash:Ce("/",10),starstar:new I("**",{beforeExpr:!0}),coalesce:Ce("??",1),_break:ct("break"),_case:ct("case",et),_catch:ct("catch"),_continue:ct("continue"),_debugger:ct("debugger"),_default:ct("default",et),_do:ct("do",{isLoop:!0,beforeExpr:!0}),_else:ct("else",et),_finally:ct("finally"),_for:ct("for",{isLoop:!0}),_function:ct("function",Et),_if:ct("if"),_return:ct("return",et),_switch:ct("switch"),_throw:ct("throw",et),_try:ct("try"),_var:ct("var"),_const:ct("const"),_while:ct("while",{isLoop:!0}),_with:ct("with"),_new:ct("new",{beforeExpr:!0,startsExpr:!0}),_this:ct("this",Et),_super:ct("super",Et),_class:ct("class",Et),_extends:ct("extends",et),_export:ct("export"),_import:ct("import",Et),_null:ct("null",Et),_true:ct("true",Et),_false:ct("false",Et),_in:ct("in",{beforeExpr:!0,binop:7}),_instanceof:ct("instanceof",{beforeExpr:!0,binop:7}),_typeof:ct("typeof",{beforeExpr:!0,prefix:!0,startsExpr:!0}),_void:ct("void",{beforeExpr:!0,prefix:!0,startsExpr:!0}),_delete:ct("delete",{beforeExpr:!0,prefix:!0,startsExpr:!0})},Vt=/\r\n?|\n|\u2028|\u2029/,It=new RegExp(Vt.source,"g");function Mt(w,re){return w===10||w===13||!re&&(w===8232||w===8233)}var Tt=/[\u1680\u2000-\u200a\u202f\u205f\u3000\ufeff]/,ye=/(?:\s|\/\/.*|\/\*[^]*?\*\/)*/g,lt=Object.prototype,yt=lt.hasOwnProperty,Dt=lt.toString;function Jt(w,re){return yt.call(w,re)}var At=Array.isArray||function(w){return Dt.call(w)==="[object Array]"};function vt(w){return new RegExp("^(?:"+w.replace(/ /g,"|")+")$")}var ie=function(re,Qe){this.line=re,this.column=Qe};ie.prototype.offset=function(re){return new ie(this.line,this.column+re)};var J=function(re,Qe,Se){this.start=Qe,this.end=Se,re.sourceFile!==null&&(this.source=re.sourceFile)};function ee(w,re){for(var Qe=1,Se=0;;){It.lastIndex=Se;var jt=It.exec(w);if(jt&&jt.index<re)++Qe,Se=jt.index+jt[0].length;else return new ie(Qe,re-Se)}}var Ie={ecmaVersion:10,sourceType:"script",onInsertedSemicolon:null,onTrailingComma:null,allowReserved:null,allowReturnOutsideFunction:!1,allowImportExportEverywhere:!1,allowAwaitOutsideFunction:!1,allowHashBang:!1,locations:!1,onToken:null,onComment:null,ranges:!1,program:null,sourceFile:null,directSourceFile:null,preserveParens:!1};function me(w){var re={};for(var Qe in Ie)re[Qe]=w&&Jt(w,Qe)?w[Qe]:Ie[Qe];if(re.ecmaVersion>=2015&&(re.ecmaVersion-=2009),re.allowReserved==null&&(re.allowReserved=re.ecmaVersion<5),At(re.onToken)){var Se=re.onToken;re.onToken=function(jt){return Se.push(jt)}}return At(re.onComment)&&(re.onComment=Ve(re,re.onComment)),re}function Ve(w,re){return function(Qe,Se,jt,br,Yr,fn){var En={type:Qe?"Block":"Line",value:Se,start:jt,end:br};w.locations&&(En.loc=new J(this,Yr,fn)),w.ranges&&(En.range=[jt,br]),re.push(En)}}var Re=1,bt=2,Pt=Re|bt,ht=4,Ye=8,Ke=16,nt=32,Ot=64,Xe=128;function xt(w,re){return bt|(w?ht:0)|(re?Ye:0)}var Ne=0,B=1,z=2,q=3,S=4,K=5,fe=function(re,Qe,Se){this.options=re=me(re),this.sourceFile=re.sourceFile,this.keywords=vt(b[re.ecmaVersion>=6?6:re.sourceType==="module"?"5module":5]);var jt="";if(re.allowReserved!==!0){for(var br=re.ecmaVersion;!(jt=y[br]);br--);re.sourceType==="module"&&(jt+=" await")}this.reservedWords=vt(jt);var Yr=(jt?jt+" ":"")+y.strict;this.reservedWordsStrict=vt(Yr),this.reservedWordsStrictBind=vt(Yr+" "+y.strictBind),this.input=String(Qe),this.containsEsc=!1,Se?(this.pos=Se,this.lineStart=this.input.lastIndexOf(`
`,Se-1)+1,this.curLine=this.input.slice(0,this.lineStart).split(Vt).length):(this.pos=this.lineStart=0,this.curLine=1),this.type=ce.eof,this.value=null,this.start=this.end=this.pos,this.startLoc=this.endLoc=this.curPosition(),this.lastTokEndLoc=this.lastTokStartLoc=null,this.lastTokStart=this.lastTokEnd=this.pos,this.context=this.initialContext(),this.exprAllowed=!0,this.inModule=re.sourceType==="module",this.strict=this.inModule||this.strictDirective(this.pos),this.potentialArrowAt=-1,this.yieldPos=this.awaitPos=this.awaitIdentPos=0,this.labels=[],this.undefinedExports={},this.pos===0&&re.allowHashBang&&this.input.slice(0,2)==="#!"&&this.skipLineComment(2),this.scopeStack=[],this.enterScope(Re),this.regexpState=null},Fe={inFunction:{configurable:!0},inGenerator:{configurable:!0},inAsync:{configurable:!0},allowSuper:{configurable:!0},allowDirectSuper:{configurable:!0},treatFunctionsAsVar:{configurable:!0}};fe.prototype.parse=function(){var re=this.options.program||this.startNode();return this.nextToken(),this.parseTopLevel(re)},Fe.inFunction.get=function(){return(this.currentVarScope().flags&bt)>0},Fe.inGenerator.get=function(){return(this.currentVarScope().flags&Ye)>0},Fe.inAsync.get=function(){return(this.currentVarScope().flags&ht)>0},Fe.allowSuper.get=function(){return(this.currentThisScope().flags&Ot)>0},Fe.allowDirectSuper.get=function(){return(this.currentThisScope().flags&Xe)>0},Fe.treatFunctionsAsVar.get=function(){return this.treatFunctionsAsVarInScope(this.currentScope())},fe.prototype.inNonArrowFunction=function(){return(this.currentThisScope().flags&bt)>0},fe.extend=function(){for(var re=[],Qe=arguments.length;Qe--;)re[Qe]=arguments[Qe];for(var Se=this,jt=0;jt<re.length;jt++)Se=re[jt](Se);return Se},fe.parse=function(re,Qe){return new this(Qe,re).parse()},fe.parseExpressionAt=function(re,Qe,Se){var jt=new this(Se,re,Qe);return jt.nextToken(),jt.parseExpression()},fe.tokenizer=function(re,Qe){return new this(Qe,re)},Object.defineProperties(fe.prototype,Fe);var pe=fe.prototype,Me=/^(?:'((?:\\.|[^'\\])*?)'|"((?:\\.|[^"\\])*?)")/;pe.strictDirective=function(w){for(;;){ye.lastIndex=w,w+=ye.exec(this.input)[0].length;var re=Me.exec(this.input.slice(w));if(!re)return!1;if((re[1]||re[2])==="use strict"){ye.lastIndex=w+re[0].length;var Qe=ye.exec(this.input),Se=Qe.index+Qe[0].length,jt=this.input.charAt(Se);return jt===";"||jt==="}"||Vt.test(Qe[0])&&!(/[(`.[+\-/*%<>=,?^&]/.test(jt)||jt==="!"&&this.input.charAt(Se+1)==="=")}w+=re[0].length,ye.lastIndex=w,w+=ye.exec(this.input)[0].length,this.input[w]===";"&&w++}},pe.eat=function(w){return this.type===w?(this.next(),!0):!1},pe.isContextual=function(w){return this.type===ce.name&&this.value===w&&!this.containsEsc},pe.eatContextual=function(w){return this.isContextual(w)?(this.next(),!0):!1},pe.expectContextual=function(w){this.eatContextual(w)||this.unexpected()},pe.canInsertSemicolon=function(){return this.type===ce.eof||this.type===ce.braceR||Vt.test(this.input.slice(this.lastTokEnd,this.start))},pe.insertSemicolon=function(){if(this.canInsertSemicolon())return this.options.onInsertedSemicolon&&this.options.onInsertedSemicolon(this.lastTokEnd,this.lastTokEndLoc),!0},pe.semicolon=function(){!this.eat(ce.semi)&&!this.insertSemicolon()&&this.unexpected()},pe.afterTrailingComma=function(w,re){if(this.type===w)return this.options.onTrailingComma&&this.options.onTrailingComma(this.lastTokStart,this.lastTokStartLoc),re||this.next(),!0},pe.expect=function(w){this.eat(w)||this.unexpected()},pe.unexpected=function(w){this.raise(w!=null?w:this.start,"Unexpected token")};function U(){this.shorthandAssign=this.trailingComma=this.parenthesizedAssign=this.parenthesizedBind=this.doubleProto=-1}pe.checkPatternErrors=function(w,re){if(!!w){w.trailingComma>-1&&this.raiseRecoverable(w.trailingComma,"Comma is not permitted after the rest element");var Qe=re?w.parenthesizedAssign:w.parenthesizedBind;Qe>-1&&this.raiseRecoverable(Qe,"Parenthesized pattern")}},pe.checkExpressionErrors=function(w,re){if(!w)return!1;var Qe=w.shorthandAssign,Se=w.doubleProto;if(!re)return Qe>=0||Se>=0;Qe>=0&&this.raise(Qe,"Shorthand property assignments are valid only in destructuring patterns"),Se>=0&&this.raiseRecoverable(Se,"Redefinition of __proto__ property")},pe.checkYieldAwaitInDefaultParams=function(){this.yieldPos&&(!this.awaitPos||this.yieldPos<this.awaitPos)&&this.raise(this.yieldPos,"Yield expression cannot be a default value"),this.awaitPos&&this.raise(this.awaitPos,"Await expression cannot be a default value")},pe.isSimpleAssignTarget=function(w){return w.type==="ParenthesizedExpression"?this.isSimpleAssignTarget(w.expression):w.type==="Identifier"||w.type==="MemberExpression"};var le=fe.prototype;le.parseTopLevel=function(w){var re={};for(w.body||(w.body=[]);this.type!==ce.eof;){var Qe=this.parseStatement(null,!0,re);w.body.push(Qe)}if(this.inModule)for(var Se=0,jt=Object.keys(this.undefinedExports);Se<jt.length;Se+=1){var br=jt[Se];this.raiseRecoverable(this.undefinedExports[br].start,"Export '"+br+"' is not defined")}return this.adaptDirectivePrologue(w.body),this.next(),w.sourceType=this.options.sourceType,this.finishNode(w,"Program")};var Le={kind:"loop"},ot={kind:"switch"};le.isLet=function(w){if(this.options.ecmaVersion<6||!this.isContextual("let"))return!1;ye.lastIndex=this.pos;var re=ye.exec(this.input),Qe=this.pos+re[0].length,Se=this.input.charCodeAt(Qe);if(Se===91)return!0;if(w)return!1;if(Se===123)return!0;if(ve(Se,!0)){for(var jt=Qe+1;we(this.input.charCodeAt(jt),!0);)++jt;var br=this.input.slice(Qe,jt);if(!u.test(br))return!0}return!1},le.isAsyncFunction=function(){if(this.options.ecmaVersion<8||!this.isContextual("async"))return!1;ye.lastIndex=this.pos;var w=ye.exec(this.input),re=this.pos+w[0].length;return!Vt.test(this.input.slice(this.pos,re))&&this.input.slice(re,re+8)==="function"&&(re+8===this.input.length||!we(this.input.charAt(re+8)))},le.parseStatement=function(w,re,Qe){var Se=this.type,jt=this.startNode(),br;switch(this.isLet(w)&&(Se=ce._var,br="let"),Se){case ce._break:case ce._continue:return this.parseBreakContinueStatement(jt,Se.keyword);case ce._debugger:return this.parseDebuggerStatement(jt);case ce._do:return this.parseDoStatement(jt);case ce._for:return this.parseForStatement(jt);case ce._function:return w&&(this.strict||w!=="if"&&w!=="label")&&this.options.ecmaVersion>=6&&this.unexpected(),this.parseFunctionStatement(jt,!1,!w);case ce._class:return w&&this.unexpected(),this.parseClass(jt,!0);case ce._if:return this.parseIfStatement(jt);case ce._return:return this.parseReturnStatement(jt);case ce._switch:return this.parseSwitchStatement(jt);case ce._throw:return this.parseThrowStatement(jt);case ce._try:return this.parseTryStatement(jt);case ce._const:case ce._var:return br=br||this.value,w&&br!=="var"&&this.unexpected(),this.parseVarStatement(jt,br);case ce._while:return this.parseWhileStatement(jt);case ce._with:return this.parseWithStatement(jt);case ce.braceL:return this.parseBlock(!0,jt);case ce.semi:return this.parseEmptyStatement(jt);case ce._export:case ce._import:if(this.options.ecmaVersion>10&&Se===ce._import){ye.lastIndex=this.pos;var Yr=ye.exec(this.input),fn=this.pos+Yr[0].length,En=this.input.charCodeAt(fn);if(En===40||En===46)return this.parseExpressionStatement(jt,this.parseExpression())}return this.options.allowImportExportEverywhere||(re||this.raise(this.start,"'import' and 'export' may only appear at the top level"),this.inModule||this.raise(this.start,"'import' and 'export' may appear only with 'sourceType: module'")),Se===ce._import?this.parseImport(jt):this.parseExport(jt,Qe);default:if(this.isAsyncFunction())return w&&this.unexpected(),this.next(),this.parseFunctionStatement(jt,!0,!w);var ma=this.value,Ia=this.parseExpression();return Se===ce.name&&Ia.type==="Identifier"&&this.eat(ce.colon)?this.parseLabeledStatement(jt,ma,Ia,w):this.parseExpressionStatement(jt,Ia)}},le.parseBreakContinueStatement=function(w,re){var Qe=re==="break";this.next(),this.eat(ce.semi)||this.insertSemicolon()?w.label=null:this.type!==ce.name?this.unexpected():(w.label=this.parseIdent(),this.semicolon());for(var Se=0;Se<this.labels.length;++Se){var jt=this.labels[Se];if((w.label==null||jt.name===w.label.name)&&(jt.kind!=null&&(Qe||jt.kind==="loop")||w.label&&Qe))break}return Se===this.labels.length&&this.raise(w.start,"Unsyntactic "+re),this.finishNode(w,Qe?"BreakStatement":"ContinueStatement")},le.parseDebuggerStatement=function(w){return this.next(),this.semicolon(),this.finishNode(w,"DebuggerStatement")},le.parseDoStatement=function(w){return this.next(),this.labels.push(Le),w.body=this.parseStatement("do"),this.labels.pop(),this.expect(ce._while),w.test=this.parseParenExpression(),this.options.ecmaVersion>=6?this.eat(ce.semi):this.semicolon(),this.finishNode(w,"DoWhileStatement")},le.parseForStatement=function(w){this.next();var re=this.options.ecmaVersion>=9&&(this.inAsync||!this.inFunction&&this.options.allowAwaitOutsideFunction)&&this.eatContextual("await")?this.lastTokStart:-1;if(this.labels.push(Le),this.enterScope(0),this.expect(ce.parenL),this.type===ce.semi)return re>-1&&this.unexpected(re),this.parseFor(w,null);var Qe=this.isLet();if(this.type===ce._var||this.type===ce._const||Qe){var Se=this.startNode(),jt=Qe?"let":this.value;return this.next(),this.parseVar(Se,!0,jt),this.finishNode(Se,"VariableDeclaration"),(this.type===ce._in||this.options.ecmaVersion>=6&&this.isContextual("of"))&&Se.declarations.length===1?(this.options.ecmaVersion>=9&&(this.type===ce._in?re>-1&&this.unexpected(re):w.await=re>-1),this.parseForIn(w,Se)):(re>-1&&this.unexpected(re),this.parseFor(w,Se))}var br=new U,Yr=this.parseExpression(!0,br);return this.type===ce._in||this.options.ecmaVersion>=6&&this.isContextual("of")?(this.options.ecmaVersion>=9&&(this.type===ce._in?re>-1&&this.unexpected(re):w.await=re>-1),this.toAssignable(Yr,!1,br),this.checkLVal(Yr),this.parseForIn(w,Yr)):(this.checkExpressionErrors(br,!0),re>-1&&this.unexpected(re),this.parseFor(w,Yr))},le.parseFunctionStatement=function(w,re,Qe){return this.next(),this.parseFunction(w,Ge|(Qe?0:Be),!1,re)},le.parseIfStatement=function(w){return this.next(),w.test=this.parseParenExpression(),w.consequent=this.parseStatement("if"),w.alternate=this.eat(ce._else)?this.parseStatement("if"):null,this.finishNode(w,"IfStatement")},le.parseReturnStatement=function(w){return!this.inFunction&&!this.options.allowReturnOutsideFunction&&this.raise(this.start,"'return' outside of function"),this.next(),this.eat(ce.semi)||this.insertSemicolon()?w.argument=null:(w.argument=this.parseExpression(),this.semicolon()),this.finishNode(w,"ReturnStatement")},le.parseSwitchStatement=function(w){this.next(),w.discriminant=this.parseParenExpression(),w.cases=[],this.expect(ce.braceL),this.labels.push(ot),this.enterScope(0);for(var re,Qe=!1;this.type!==ce.braceR;)if(this.type===ce._case||this.type===ce._default){var Se=this.type===ce._case;re&&this.finishNode(re,"SwitchCase"),w.cases.push(re=this.startNode()),re.consequent=[],this.next(),Se?re.test=this.parseExpression():(Qe&&this.raiseRecoverable(this.lastTokStart,"Multiple default clauses"),Qe=!0,re.test=null),this.expect(ce.colon)}else re||this.unexpected(),re.consequent.push(this.parseStatement(null));return this.exitScope(),re&&this.finishNode(re,"SwitchCase"),this.next(),this.labels.pop(),this.finishNode(w,"SwitchStatement")},le.parseThrowStatement=function(w){return this.next(),Vt.test(this.input.slice(this.lastTokEnd,this.start))&&this.raise(this.lastTokEnd,"Illegal newline after throw"),w.argument=this.parseExpression(),this.semicolon(),this.finishNode(w,"ThrowStatement")};var St=[];le.parseTryStatement=function(w){if(this.next(),w.block=this.parseBlock(),w.handler=null,this.type===ce._catch){var re=this.startNode();if(this.next(),this.eat(ce.parenL)){re.param=this.parseBindingAtom();var Qe=re.param.type==="Identifier";this.enterScope(Qe?nt:0),this.checkLVal(re.param,Qe?S:z),this.expect(ce.parenR)}else this.options.ecmaVersion<10&&this.unexpected(),re.param=null,this.enterScope(0);re.body=this.parseBlock(!1),this.exitScope(),w.handler=this.finishNode(re,"CatchClause")}return w.finalizer=this.eat(ce._finally)?this.parseBlock():null,!w.handler&&!w.finalizer&&this.raise(w.start,"Missing catch or finally clause"),this.finishNode(w,"TryStatement")},le.parseVarStatement=function(w,re){return this.next(),this.parseVar(w,!1,re),this.semicolon(),this.finishNode(w,"VariableDeclaration")},le.parseWhileStatement=function(w){return this.next(),w.test=this.parseParenExpression(),this.labels.push(Le),w.body=this.parseStatement("while"),this.labels.pop(),this.finishNode(w,"WhileStatement")},le.parseWithStatement=function(w){return this.strict&&this.raise(this.start,"'with' in strict mode"),this.next(),w.object=this.parseParenExpression(),w.body=this.parseStatement("with"),this.finishNode(w,"WithStatement")},le.parseEmptyStatement=function(w){return this.next(),this.finishNode(w,"EmptyStatement")},le.parseLabeledStatement=function(w,re,Qe,Se){for(var jt=0,br=this.labels;jt<br.length;jt+=1){var Yr=br[jt];Yr.name===re&&this.raise(Qe.start,"Label '"+re+"' is already declared")}for(var fn=this.type.isLoop?"loop":this.type===ce._switch?"switch":null,En=this.labels.length-1;En>=0;En--){var ma=this.labels[En];if(ma.statementStart===w.start)ma.statementStart=this.start,ma.kind=fn;else break}return this.labels.push({name:re,kind:fn,statementStart:this.start}),w.body=this.parseStatement(Se?Se.indexOf("label")===-1?Se+"label":Se:"label"),this.labels.pop(),w.label=Qe,this.finishNode(w,"LabeledStatement")},le.parseExpressionStatement=function(w,re){return w.expression=re,this.semicolon(),this.finishNode(w,"ExpressionStatement")},le.parseBlock=function(w,re,Qe){for(w===void 0&&(w=!0),re===void 0&&(re=this.startNode()),re.body=[],this.expect(ce.braceL),w&&this.enterScope(0);this.type!==ce.braceR;){var Se=this.parseStatement(null);re.body.push(Se)}return Qe&&(this.strict=!1),this.next(),w&&this.exitScope(),this.finishNode(re,"BlockStatement")},le.parseFor=function(w,re){return w.init=re,this.expect(ce.semi),w.test=this.type===ce.semi?null:this.parseExpression(),this.expect(ce.semi),w.update=this.type===ce.parenR?null:this.parseExpression(),this.expect(ce.parenR),w.body=this.parseStatement("for"),this.exitScope(),this.labels.pop(),this.finishNode(w,"ForStatement")},le.parseForIn=function(w,re){var Qe=this.type===ce._in;return this.next(),re.type==="VariableDeclaration"&&re.declarations[0].init!=null&&(!Qe||this.options.ecmaVersion<8||this.strict||re.kind!=="var"||re.declarations[0].id.type!=="Identifier")?this.raise(re.start,(Qe?"for-in":"for-of")+" loop variable declaration may not have an initializer"):re.type==="AssignmentPattern"&&this.raise(re.start,"Invalid left-hand side in for-loop"),w.left=re,w.right=Qe?this.parseExpression():this.parseMaybeAssign(),this.expect(ce.parenR),w.body=this.parseStatement("for"),this.exitScope(),this.labels.pop(),this.finishNode(w,Qe?"ForInStatement":"ForOfStatement")},le.parseVar=function(w,re,Qe){for(w.declarations=[],w.kind=Qe;;){var Se=this.startNode();if(this.parseVarId(Se,Qe),this.eat(ce.eq)?Se.init=this.parseMaybeAssign(re):Qe==="const"&&!(this.type===ce._in||this.options.ecmaVersion>=6&&this.isContextual("of"))?this.unexpected():Se.id.type!=="Identifier"&&!(re&&(this.type===ce._in||this.isContextual("of")))?this.raise(this.lastTokEnd,"Complex binding patterns require an initialization value"):Se.init=null,w.declarations.push(this.finishNode(Se,"VariableDeclarator")),!this.eat(ce.comma))break}return w},le.parseVarId=function(w,re){w.id=this.parseBindingAtom(),this.checkLVal(w.id,re==="var"?B:z,!1)};var Ge=1,Be=2,Nt=4;le.parseFunction=function(w,re,Qe,Se){this.initFunction(w),(this.options.ecmaVersion>=9||this.options.ecmaVersion>=6&&!Se)&&(this.type===ce.star&&re&Be&&this.unexpected(),w.generator=this.eat(ce.star)),this.options.ecmaVersion>=8&&(w.async=!!Se),re&Ge&&(w.id=re&Nt&&this.type!==ce.name?null:this.parseIdent(),w.id&&!(re&Be)&&this.checkLVal(w.id,this.strict||w.generator||w.async?this.treatFunctionsAsVar?B:z:q));var jt=this.yieldPos,br=this.awaitPos,Yr=this.awaitIdentPos;return this.yieldPos=0,this.awaitPos=0,this.awaitIdentPos=0,this.enterScope(xt(w.async,w.generator)),re&Ge||(w.id=this.type===ce.name?this.parseIdent():null),this.parseFunctionParams(w),this.parseFunctionBody(w,Qe,!1),this.yieldPos=jt,this.awaitPos=br,this.awaitIdentPos=Yr,this.finishNode(w,re&Ge?"FunctionDeclaration":"FunctionExpression")},le.parseFunctionParams=function(w){this.expect(ce.parenL),w.params=this.parseBindingList(ce.parenR,!1,this.options.ecmaVersion>=8),this.checkYieldAwaitInDefaultParams()},le.parseClass=function(w,re){this.next();var Qe=this.strict;this.strict=!0,this.parseClassId(w,re),this.parseClassSuper(w);var Se=this.startNode(),jt=!1;for(Se.body=[],this.expect(ce.braceL);this.type!==ce.braceR;){var br=this.parseClassElement(w.superClass!==null);br&&(Se.body.push(br),br.type==="MethodDefinition"&&br.kind==="constructor"&&(jt&&this.raise(br.start,"Duplicate constructor in the same class"),jt=!0))}return this.strict=Qe,this.next(),w.body=this.finishNode(Se,"ClassBody"),this.finishNode(w,re?"ClassDeclaration":"ClassExpression")},le.parseClassElement=function(w){var re=this;if(this.eat(ce.semi))return null;var Qe=this.startNode(),Se=function(ma,Ia){Ia===void 0&&(Ia=!1);var Co=re.start,$o=re.startLoc;return re.eatContextual(ma)?re.type!==ce.parenL&&(!Ia||!re.canInsertSemicolon())?!0:(Qe.key&&re.unexpected(),Qe.computed=!1,Qe.key=re.startNodeAt(Co,$o),Qe.key.name=ma,re.finishNode(Qe.key,"Identifier"),!1):!1};Qe.kind="method",Qe.static=Se("static");var jt=this.eat(ce.star),br=!1;jt||(this.options.ecmaVersion>=8&&Se("async",!0)?(br=!0,jt=this.options.ecmaVersion>=9&&this.eat(ce.star)):Se("get")?Qe.kind="get":Se("set")&&(Qe.kind="set")),Qe.key||this.parsePropertyName(Qe);var Yr=Qe.key,fn=!1;return!Qe.computed&&!Qe.static&&(Yr.type==="Identifier"&&Yr.name==="constructor"||Yr.type==="Literal"&&Yr.value==="constructor")?(Qe.kind!=="method"&&this.raise(Yr.start,"Constructor can't have get/set modifier"),jt&&this.raise(Yr.start,"Constructor can't be a generator"),br&&this.raise(Yr.start,"Constructor can't be an async method"),Qe.kind="constructor",fn=w):Qe.static&&Yr.type==="Identifier"&&Yr.name==="prototype"&&this.raise(Yr.start,"Classes may not have a static property named prototype"),this.parseClassMethod(Qe,jt,br,fn),Qe.kind==="get"&&Qe.value.params.length!==0&&this.raiseRecoverable(Qe.value.start,"getter should have no params"),Qe.kind==="set"&&Qe.value.params.length!==1&&this.raiseRecoverable(Qe.value.start,"setter should have exactly one param"),Qe.kind==="set"&&Qe.value.params[0].type==="RestElement"&&this.raiseRecoverable(Qe.value.params[0].start,"Setter cannot use rest params"),Qe},le.parseClassMethod=function(w,re,Qe,Se){return w.value=this.parseMethod(re,Qe,Se),this.finishNode(w,"MethodDefinition")},le.parseClassId=function(w,re){this.type===ce.name?(w.id=this.parseIdent(),re&&this.checkLVal(w.id,z,!1)):(re===!0&&this.unexpected(),w.id=null)},le.parseClassSuper=function(w){w.superClass=this.eat(ce._extends)?this.parseExprSubscripts():null},le.parseExport=function(w,re){if(this.next(),this.eat(ce.star))return this.options.ecmaVersion>=11&&(this.eatContextual("as")?(w.exported=this.parseIdent(!0),this.checkExport(re,w.exported.name,this.lastTokStart)):w.exported=null),this.expectContextual("from"),this.type!==ce.string&&this.unexpected(),w.source=this.parseExprAtom(),this.semicolon(),this.finishNode(w,"ExportAllDeclaration");if(this.eat(ce._default)){this.checkExport(re,"default",this.lastTokStart);var Qe;if(this.type===ce._function||(Qe=this.isAsyncFunction())){var Se=this.startNode();this.next(),Qe&&this.next(),w.declaration=this.parseFunction(Se,Ge|Nt,!1,Qe)}else if(this.type===ce._class){var jt=this.startNode();w.declaration=this.parseClass(jt,"nullableID")}else w.declaration=this.parseMaybeAssign(),this.semicolon();return this.finishNode(w,"ExportDefaultDeclaration")}if(this.shouldParseExportStatement())w.declaration=this.parseStatement(null),w.declaration.type==="VariableDeclaration"?this.checkVariableExport(re,w.declaration.declarations):this.checkExport(re,w.declaration.id.name,w.declaration.id.start),w.specifiers=[],w.source=null;else{if(w.declaration=null,w.specifiers=this.parseExportSpecifiers(re),this.eatContextual("from"))this.type!==ce.string&&this.unexpected(),w.source=this.parseExprAtom();else{for(var br=0,Yr=w.specifiers;br<Yr.length;br+=1){var fn=Yr[br];this.checkUnreserved(fn.local),this.checkLocalExport(fn.local)}w.source=null}this.semicolon()}return this.finishNode(w,"ExportNamedDeclaration")},le.checkExport=function(w,re,Qe){!w||(Jt(w,re)&&this.raiseRecoverable(Qe,"Duplicate export '"+re+"'"),w[re]=!0)},le.checkPatternExport=function(w,re){var Qe=re.type;if(Qe==="Identifier")this.checkExport(w,re.name,re.start);else if(Qe==="ObjectPattern")for(var Se=0,jt=re.properties;Se<jt.length;Se+=1){var br=jt[Se];this.checkPatternExport(w,br)}else if(Qe==="ArrayPattern")for(var Yr=0,fn=re.elements;Yr<fn.length;Yr+=1){var En=fn[Yr];En&&this.checkPatternExport(w,En)}else Qe==="Property"?this.checkPatternExport(w,re.value):Qe==="AssignmentPattern"?this.checkPatternExport(w,re.left):Qe==="RestElement"?this.checkPatternExport(w,re.argument):Qe==="ParenthesizedExpression"&&this.checkPatternExport(w,re.expression)},le.checkVariableExport=function(w,re){if(!!w)for(var Qe=0,Se=re;Qe<Se.length;Qe+=1){var jt=Se[Qe];this.checkPatternExport(w,jt.id)}},le.shouldParseExportStatement=function(){return this.type.keyword==="var"||this.type.keyword==="const"||this.type.keyword==="class"||this.type.keyword==="function"||this.isLet()||this.isAsyncFunction()},le.parseExportSpecifiers=function(w){var re=[],Qe=!0;for(this.expect(ce.braceL);!this.eat(ce.braceR);){if(Qe)Qe=!1;else if(this.expect(ce.comma),this.afterTrailingComma(ce.braceR))break;var Se=this.startNode();Se.local=this.parseIdent(!0),Se.exported=this.eatContextual("as")?this.parseIdent(!0):Se.local,this.checkExport(w,Se.exported.name,Se.exported.start),re.push(this.finishNode(Se,"ExportSpecifier"))}return re},le.parseImport=function(w){return this.next(),this.type===ce.string?(w.specifiers=St,w.source=this.parseExprAtom()):(w.specifiers=this.parseImportSpecifiers(),this.expectContextual("from"),w.source=this.type===ce.string?this.parseExprAtom():this.unexpected()),this.semicolon(),this.finishNode(w,"ImportDeclaration")},le.parseImportSpecifiers=function(){var w=[],re=!0;if(this.type===ce.name){var Qe=this.startNode();if(Qe.local=this.parseIdent(),this.checkLVal(Qe.local,z),w.push(this.finishNode(Qe,"ImportDefaultSpecifier")),!this.eat(ce.comma))return w}if(this.type===ce.star){var Se=this.startNode();return this.next(),this.expectContextual("as"),Se.local=this.parseIdent(),this.checkLVal(Se.local,z),w.push(this.finishNode(Se,"ImportNamespaceSpecifier")),w}for(this.expect(ce.braceL);!this.eat(ce.braceR);){if(re)re=!1;else if(this.expect(ce.comma),this.afterTrailingComma(ce.braceR))break;var jt=this.startNode();jt.imported=this.parseIdent(!0),this.eatContextual("as")?jt.local=this.parseIdent():(this.checkUnreserved(jt.imported),jt.local=jt.imported),this.checkLVal(jt.local,z),w.push(this.finishNode(jt,"ImportSpecifier"))}return w},le.adaptDirectivePrologue=function(w){for(var re=0;re<w.length&&this.isDirectiveCandidate(w[re]);++re)w[re].directive=w[re].expression.raw.slice(1,-1)},le.isDirectiveCandidate=function(w){return w.type==="ExpressionStatement"&&w.expression.type==="Literal"&&typeof w.expression.value=="string"&&(this.input[w.start]==='"'||this.input[w.start]==="'")};var kt=fe.prototype;kt.toAssignable=function(w,re,Qe){if(this.options.ecmaVersion>=6&&w)switch(w.type){case"Identifier":this.inAsync&&w.name==="await"&&this.raise(w.start,"Cannot use 'await' as identifier inside an async function");break;case"ObjectPattern":case"ArrayPattern":case"RestElement":break;case"ObjectExpression":w.type="ObjectPattern",Qe&&this.checkPatternErrors(Qe,!0);for(var Se=0,jt=w.properties;Se<jt.length;Se+=1){var br=jt[Se];this.toAssignable(br,re),br.type==="RestElement"&&(br.argument.type==="ArrayPattern"||br.argument.type==="ObjectPattern")&&this.raise(br.argument.start,"Unexpected token")}break;case"Property":w.kind!=="init"&&this.raise(w.key.start,"Object pattern can't contain getter or setter"),this.toAssignable(w.value,re);break;case"ArrayExpression":w.type="ArrayPattern",Qe&&this.checkPatternErrors(Qe,!0),this.toAssignableList(w.elements,re);break;case"SpreadElement":w.type="RestElement",this.toAssignable(w.argument,re),w.argument.type==="AssignmentPattern"&&this.raise(w.argument.start,"Rest elements cannot have a default value");break;case"AssignmentExpression":w.operator!=="="&&this.raise(w.left.end,"Only '=' operator can be used for specifying default value."),w.type="AssignmentPattern",delete w.operator,this.toAssignable(w.left,re);case"AssignmentPattern":break;case"ParenthesizedExpression":this.toAssignable(w.expression,re,Qe);break;case"ChainExpression":this.raiseRecoverable(w.start,"Optional chaining cannot appear in left-hand side");break;case"MemberExpression":if(!re)break;default:this.raise(w.start,"Assigning to rvalue")}else Qe&&this.checkPatternErrors(Qe,!0);return w},kt.toAssignableList=function(w,re){for(var Qe=w.length,Se=0;Se<Qe;Se++){var jt=w[Se];jt&&this.toAssignable(jt,re)}if(Qe){var br=w[Qe-1];this.options.ecmaVersion===6&&re&&br&&br.type==="RestElement"&&br.argument.type!=="Identifier"&&this.unexpected(br.argument.start)}return w},kt.parseSpread=function(w){var re=this.startNode();return this.next(),re.argument=this.parseMaybeAssign(!1,w),this.finishNode(re,"SpreadElement")},kt.parseRestBinding=function(){var w=this.startNode();return this.next(),this.options.ecmaVersion===6&&this.type!==ce.name&&this.unexpected(),w.argument=this.parseBindingAtom(),this.finishNode(w,"RestElement")},kt.parseBindingAtom=function(){if(this.options.ecmaVersion>=6)switch(this.type){case ce.bracketL:var w=this.startNode();return this.next(),w.elements=this.parseBindingList(ce.bracketR,!0,!0),this.finishNode(w,"ArrayPattern");case ce.braceL:return this.parseObj(!0)}return this.parseIdent()},kt.parseBindingList=function(w,re,Qe){for(var Se=[],jt=!0;!this.eat(w);)if(jt?jt=!1:this.expect(ce.comma),re&&this.type===ce.comma)Se.push(null);else{if(Qe&&this.afterTrailingComma(w))break;if(this.type===ce.ellipsis){var br=this.parseRestBinding();this.parseBindingListItem(br),Se.push(br),this.type===ce.comma&&this.raise(this.start,"Comma is not permitted after the rest element"),this.expect(w);break}else{var Yr=this.parseMaybeDefault(this.start,this.startLoc);this.parseBindingListItem(Yr),Se.push(Yr)}}return Se},kt.parseBindingListItem=function(w){return w},kt.parseMaybeDefault=function(w,re,Qe){if(Qe=Qe||this.parseBindingAtom(),this.options.ecmaVersion<6||!this.eat(ce.eq))return Qe;var Se=this.startNodeAt(w,re);return Se.left=Qe,Se.right=this.parseMaybeAssign(),this.finishNode(Se,"AssignmentPattern")},kt.checkLVal=function(w,re,Qe){switch(re===void 0&&(re=Ne),w.type){case"Identifier":re===z&&w.name==="let"&&this.raiseRecoverable(w.start,"let is disallowed as a lexically bound name"),this.strict&&this.reservedWordsStrictBind.test(w.name)&&this.raiseRecoverable(w.start,(re?"Binding ":"Assigning to ")+w.name+" in strict mode"),Qe&&(Jt(Qe,w.name)&&this.raiseRecoverable(w.start,"Argument name clash"),Qe[w.name]=!0),re!==Ne&&re!==K&&this.declareName(w.name,re,w.start);break;case"ChainExpression":this.raiseRecoverable(w.start,"Optional chaining cannot appear in left-hand side");break;case"MemberExpression":re&&this.raiseRecoverable(w.start,"Binding member expression");break;case"ObjectPattern":for(var Se=0,jt=w.properties;Se<jt.length;Se+=1){var br=jt[Se];this.checkLVal(br,re,Qe)}break;case"Property":this.checkLVal(w.value,re,Qe);break;case"ArrayPattern":for(var Yr=0,fn=w.elements;Yr<fn.length;Yr+=1){var En=fn[Yr];En&&this.checkLVal(En,re,Qe)}break;case"AssignmentPattern":this.checkLVal(w.left,re,Qe);break;case"RestElement":this.checkLVal(w.argument,re,Qe);break;case"ParenthesizedExpression":this.checkLVal(w.expression,re,Qe);break;default:this.raise(w.start,(re?"Binding":"Assigning to")+" rvalue")}};var ft=fe.prototype;ft.checkPropClash=function(w,re,Qe){if(!(this.options.ecmaVersion>=9&&w.type==="SpreadElement")&&!(this.options.ecmaVersion>=6&&(w.computed||w.method||w.shorthand))){var Se=w.key,jt;switch(Se.type){case"Identifier":jt=Se.name;break;case"Literal":jt=String(Se.value);break;default:return}var br=w.kind;if(this.options.ecmaVersion>=6){jt==="__proto__"&&br==="init"&&(re.proto&&(Qe?Qe.doubleProto<0&&(Qe.doubleProto=Se.start):this.raiseRecoverable(Se.start,"Redefinition of __proto__ property")),re.proto=!0);return}jt="$"+jt;var Yr=re[jt];if(Yr){var fn;br==="init"?fn=this.strict&&Yr.init||Yr.get||Yr.set:fn=Yr.init||Yr[br],fn&&this.raiseRecoverable(Se.start,"Redefinition of property")}else Yr=re[jt]={init:!1,get:!1,set:!1};Yr[br]=!0}},ft.parseExpression=function(w,re){var Qe=this.start,Se=this.startLoc,jt=this.parseMaybeAssign(w,re);if(this.type===ce.comma){var br=this.startNodeAt(Qe,Se);for(br.expressions=[jt];this.eat(ce.comma);)br.expressions.push(this.parseMaybeAssign(w,re));return this.finishNode(br,"SequenceExpression")}return jt},ft.parseMaybeAssign=function(w,re,Qe){if(this.isContextual("yield")){if(this.inGenerator)return this.parseYield(w);this.exprAllowed=!1}var Se=!1,jt=-1,br=-1;re?(jt=re.parenthesizedAssign,br=re.trailingComma,re.parenthesizedAssign=re.trailingComma=-1):(re=new U,Se=!0);var Yr=this.start,fn=this.startLoc;(this.type===ce.parenL||this.type===ce.name)&&(this.potentialArrowAt=this.start);var En=this.parseMaybeConditional(w,re);if(Qe&&(En=Qe.call(this,En,Yr,fn)),this.type.isAssign){var ma=this.startNodeAt(Yr,fn);return ma.operator=this.value,ma.left=this.type===ce.eq?this.toAssignable(En,!1,re):En,Se||(re.parenthesizedAssign=re.trailingComma=re.doubleProto=-1),re.shorthandAssign>=ma.left.start&&(re.shorthandAssign=-1),this.checkLVal(En),this.next(),ma.right=this.parseMaybeAssign(w),this.finishNode(ma,"AssignmentExpression")}else Se&&this.checkExpressionErrors(re,!0);return jt>-1&&(re.parenthesizedAssign=jt),br>-1&&(re.trailingComma=br),En},ft.parseMaybeConditional=function(w,re){var Qe=this.start,Se=this.startLoc,jt=this.parseExprOps(w,re);if(this.checkExpressionErrors(re))return jt;if(this.eat(ce.question)){var br=this.startNodeAt(Qe,Se);return br.test=jt,br.consequent=this.parseMaybeAssign(),this.expect(ce.colon),br.alternate=this.parseMaybeAssign(w),this.finishNode(br,"ConditionalExpression")}return jt},ft.parseExprOps=function(w,re){var Qe=this.start,Se=this.startLoc,jt=this.parseMaybeUnary(re,!1);return this.checkExpressionErrors(re)||jt.start===Qe&&jt.type==="ArrowFunctionExpression"?jt:this.parseExprOp(jt,Qe,Se,-1,w)},ft.parseExprOp=function(w,re,Qe,Se,jt){var br=this.type.binop;if(br!=null&&(!jt||this.type!==ce._in)&&br>Se){var Yr=this.type===ce.logicalOR||this.type===ce.logicalAND,fn=this.type===ce.coalesce;fn&&(br=ce.logicalAND.binop);var En=this.value;this.next();var ma=this.start,Ia=this.startLoc,Co=this.parseExprOp(this.parseMaybeUnary(null,!1),ma,Ia,br,jt),$o=this.buildBinary(re,Qe,w,Co,En,Yr||fn);return(Yr&&this.type===ce.coalesce||fn&&(this.type===ce.logicalOR||this.type===ce.logicalAND))&&this.raiseRecoverable(this.start,"Logical expressions and coalesce expressions cannot be mixed. Wrap either by parentheses"),this.parseExprOp($o,re,Qe,Se,jt)}return w},ft.buildBinary=function(w,re,Qe,Se,jt,br){var Yr=this.startNodeAt(w,re);return Yr.left=Qe,Yr.operator=jt,Yr.right=Se,this.finishNode(Yr,br?"LogicalExpression":"BinaryExpression")},ft.parseMaybeUnary=function(w,re){var Qe=this.start,Se=this.startLoc,jt;if(this.isContextual("await")&&(this.inAsync||!this.inFunction&&this.options.allowAwaitOutsideFunction))jt=this.parseAwait(),re=!0;else if(this.type.prefix){var br=this.startNode(),Yr=this.type===ce.incDec;br.operator=this.value,br.prefix=!0,this.next(),br.argument=this.parseMaybeUnary(null,!0),this.checkExpressionErrors(w,!0),Yr?this.checkLVal(br.argument):this.strict&&br.operator==="delete"&&br.argument.type==="Identifier"?this.raiseRecoverable(br.start,"Deleting local variable in strict mode"):re=!0,jt=this.finishNode(br,Yr?"UpdateExpression":"UnaryExpression")}else{if(jt=this.parseExprSubscripts(w),this.checkExpressionErrors(w))return jt;for(;this.type.postfix&&!this.canInsertSemicolon();){var fn=this.startNodeAt(Qe,Se);fn.operator=this.value,fn.prefix=!1,fn.argument=jt,this.checkLVal(jt),this.next(),jt=this.finishNode(fn,"UpdateExpression")}}return!re&&this.eat(ce.starstar)?this.buildBinary(Qe,Se,jt,this.parseMaybeUnary(null,!1),"**",!1):jt},ft.parseExprSubscripts=function(w){var re=this.start,Qe=this.startLoc,Se=this.parseExprAtom(w);if(Se.type==="ArrowFunctionExpression"&&this.input.slice(this.lastTokStart,this.lastTokEnd)!==")")return Se;var jt=this.parseSubscripts(Se,re,Qe);return w&&jt.type==="MemberExpression"&&(w.parenthesizedAssign>=jt.start&&(w.parenthesizedAssign=-1),w.parenthesizedBind>=jt.start&&(w.parenthesizedBind=-1)),jt},ft.parseSubscripts=function(w,re,Qe,Se){for(var jt=this.options.ecmaVersion>=8&&w.type==="Identifier"&&w.name==="async"&&this.lastTokEnd===w.end&&!this.canInsertSemicolon()&&w.end-w.start==5&&this.potentialArrowAt===w.start,br=!1;;){var Yr=this.parseSubscript(w,re,Qe,Se,jt,br);if(Yr.optional&&(br=!0),Yr===w||Yr.type==="ArrowFunctionExpression"){if(br){var fn=this.startNodeAt(re,Qe);fn.expression=Yr,Yr=this.finishNode(fn,"ChainExpression")}return Yr}w=Yr}},ft.parseSubscript=function(w,re,Qe,Se,jt,br){var Yr=this.options.ecmaVersion>=11,fn=Yr&&this.eat(ce.questionDot);Se&&fn&&this.raise(this.lastTokStart,"Optional chaining cannot appear in the callee of new expressions");var En=this.eat(ce.bracketL);if(En||fn&&this.type!==ce.parenL&&this.type!==ce.backQuote||this.eat(ce.dot)){var ma=this.startNodeAt(re,Qe);ma.object=w,ma.property=En?this.parseExpression():this.parseIdent(this.options.allowReserved!=="never"),ma.computed=!!En,En&&this.expect(ce.bracketR),Yr&&(ma.optional=fn),w=this.finishNode(ma,"MemberExpression")}else if(!Se&&this.eat(ce.parenL)){var Ia=new U,Co=this.yieldPos,$o=this.awaitPos,Zo=this.awaitIdentPos;this.yieldPos=0,this.awaitPos=0,this.awaitIdentPos=0;var Hs=this.parseExprList(ce.parenR,this.options.ecmaVersion>=8,!1,Ia);if(jt&&!fn&&!this.canInsertSemicolon()&&this.eat(ce.arrow))return this.checkPatternErrors(Ia,!1),this.checkYieldAwaitInDefaultParams(),this.awaitIdentPos>0&&this.raise(this.awaitIdentPos,"Cannot use 'await' as identifier inside an async function"),this.yieldPos=Co,this.awaitPos=$o,this.awaitIdentPos=Zo,this.parseArrowExpression(this.startNodeAt(re,Qe),Hs,!0);this.checkExpressionErrors(Ia,!0),this.yieldPos=Co||this.yieldPos,this.awaitPos=$o||this.awaitPos,this.awaitIdentPos=Zo||this.awaitIdentPos;var ms=this.startNodeAt(re,Qe);ms.callee=w,ms.arguments=Hs,Yr&&(ms.optional=fn),w=this.finishNode(ms,"CallExpression")}else if(this.type===ce.backQuote){(fn||br)&&this.raise(this.start,"Optional chaining cannot appear in the tag of tagged template expressions");var Ws=this.startNodeAt(re,Qe);Ws.tag=w,Ws.quasi=this.parseTemplate({isTagged:!0}),w=this.finishNode(Ws,"TaggedTemplateExpression")}return w},ft.parseExprAtom=function(w){this.type===ce.slash&&this.readRegexp();var re,Qe=this.potentialArrowAt===this.start;switch(this.type){case ce._super:return this.allowSuper||this.raise(this.start,"'super' keyword outside a method"),re=this.startNode(),this.next(),this.type===ce.parenL&&!this.allowDirectSuper&&this.raise(re.start,"super() call outside constructor of a subclass"),this.type!==ce.dot&&this.type!==ce.bracketL&&this.type!==ce.parenL&&this.unexpected(),this.finishNode(re,"Super");case ce._this:return re=this.startNode(),this.next(),this.finishNode(re,"ThisExpression");case ce.name:var Se=this.start,jt=this.startLoc,br=this.containsEsc,Yr=this.parseIdent(!1);if(this.options.ecmaVersion>=8&&!br&&Yr.name==="async"&&!this.canInsertSemicolon()&&this.eat(ce._function))return this.parseFunction(this.startNodeAt(Se,jt),0,!1,!0);if(Qe&&!this.canInsertSemicolon()){if(this.eat(ce.arrow))return this.parseArrowExpression(this.startNodeAt(Se,jt),[Yr],!1);if(this.options.ecmaVersion>=8&&Yr.name==="async"&&this.type===ce.name&&!br)return Yr=this.parseIdent(!1),(this.canInsertSemicolon()||!this.eat(ce.arrow))&&this.unexpected(),this.parseArrowExpression(this.startNodeAt(Se,jt),[Yr],!0)}return Yr;case ce.regexp:var fn=this.value;return re=this.parseLiteral(fn.value),re.regex={pattern:fn.pattern,flags:fn.flags},re;case ce.num:case ce.string:return this.parseLiteral(this.value);case ce._null:case ce._true:case ce._false:return re=this.startNode(),re.value=this.type===ce._null?null:this.type===ce._true,re.raw=this.type.keyword,this.next(),this.finishNode(re,"Literal");case ce.parenL:var En=this.start,ma=this.parseParenAndDistinguishExpression(Qe);return w&&(w.parenthesizedAssign<0&&!this.isSimpleAssignTarget(ma)&&(w.parenthesizedAssign=En),w.parenthesizedBind<0&&(w.parenthesizedBind=En)),ma;case ce.bracketL:return re=this.startNode(),this.next(),re.elements=this.parseExprList(ce.bracketR,!0,!0,w),this.finishNode(re,"ArrayExpression");case ce.braceL:return this.parseObj(!1,w);case ce._function:return re=this.startNode(),this.next(),this.parseFunction(re,0);case ce._class:return this.parseClass(this.startNode(),!1);case ce._new:return this.parseNew();case ce.backQuote:return this.parseTemplate();case ce._import:return this.options.ecmaVersion>=11?this.parseExprImport():this.unexpected();default:this.unexpected()}},ft.parseExprImport=function(){var w=this.startNode();this.containsEsc&&this.raiseRecoverable(this.start,"Escape sequence in keyword import");var re=this.parseIdent(!0);switch(this.type){case ce.parenL:return this.parseDynamicImport(w);case ce.dot:return w.meta=re,this.parseImportMeta(w);default:this.unexpected()}},ft.parseDynamicImport=function(w){if(this.next(),w.source=this.parseMaybeAssign(),!this.eat(ce.parenR)){var re=this.start;this.eat(ce.comma)&&this.eat(ce.parenR)?this.raiseRecoverable(re,"Trailing comma is not allowed in import()"):this.unexpected(re)}return this.finishNode(w,"ImportExpression")},ft.parseImportMeta=function(w){this.next();var re=this.containsEsc;return w.property=this.parseIdent(!0),w.property.name!=="meta"&&this.raiseRecoverable(w.property.start,"The only valid meta property for import is 'import.meta'"),re&&this.raiseRecoverable(w.start,"'import.meta' must not contain escaped characters"),this.options.sourceType!=="module"&&this.raiseRecoverable(w.start,"Cannot use 'import.meta' outside a module"),this.finishNode(w,"MetaProperty")},ft.parseLiteral=function(w){var re=this.startNode();return re.value=w,re.raw=this.input.slice(this.start,this.end),re.raw.charCodeAt(re.raw.length-1)===110&&(re.bigint=re.raw.slice(0,-1).replace(/_/g,"")),this.next(),this.finishNode(re,"Literal")},ft.parseParenExpression=function(){this.expect(ce.parenL);var w=this.parseExpression();return this.expect(ce.parenR),w},ft.parseParenAndDistinguishExpression=function(w){var re=this.start,Qe=this.startLoc,Se,jt=this.options.ecmaVersion>=8;if(this.options.ecmaVersion>=6){this.next();var br=this.start,Yr=this.startLoc,fn=[],En=!0,ma=!1,Ia=new U,Co=this.yieldPos,$o=this.awaitPos,Zo;for(this.yieldPos=0,this.awaitPos=0;this.type!==ce.parenR;)if(En?En=!1:this.expect(ce.comma),jt&&this.afterTrailingComma(ce.parenR,!0)){ma=!0;break}else if(this.type===ce.ellipsis){Zo=this.start,fn.push(this.parseParenItem(this.parseRestBinding())),this.type===ce.comma&&this.raise(this.start,"Comma is not permitted after the rest element");break}else fn.push(this.parseMaybeAssign(!1,Ia,this.parseParenItem));var Hs=this.start,ms=this.startLoc;if(this.expect(ce.parenR),w&&!this.canInsertSemicolon()&&this.eat(ce.arrow))return this.checkPatternErrors(Ia,!1),this.checkYieldAwaitInDefaultParams(),this.yieldPos=Co,this.awaitPos=$o,this.parseParenArrowList(re,Qe,fn);(!fn.length||ma)&&this.unexpected(this.lastTokStart),Zo&&this.unexpected(Zo),this.checkExpressionErrors(Ia,!0),this.yieldPos=Co||this.yieldPos,this.awaitPos=$o||this.awaitPos,fn.length>1?(Se=this.startNodeAt(br,Yr),Se.expressions=fn,this.finishNodeAt(Se,"SequenceExpression",Hs,ms)):Se=fn[0]}else Se=this.parseParenExpression();if(this.options.preserveParens){var Ws=this.startNodeAt(re,Qe);return Ws.expression=Se,this.finishNode(Ws,"ParenthesizedExpression")}else return Se},ft.parseParenItem=function(w){return w},ft.parseParenArrowList=function(w,re,Qe){return this.parseArrowExpression(this.startNodeAt(w,re),Qe)};var ut=[];ft.parseNew=function(){this.containsEsc&&this.raiseRecoverable(this.start,"Escape sequence in keyword new");var w=this.startNode(),re=this.parseIdent(!0);if(this.options.ecmaVersion>=6&&this.eat(ce.dot)){w.meta=re;var Qe=this.containsEsc;return w.property=this.parseIdent(!0),w.property.name!=="target"&&this.raiseRecoverable(w.property.start,"The only valid meta property for new is 'new.target'"),Qe&&this.raiseRecoverable(w.start,"'new.target' must not contain escaped characters"),this.inNonArrowFunction()||this.raiseRecoverable(w.start,"'new.target' can only be used in functions"),this.finishNode(w,"MetaProperty")}var Se=this.start,jt=this.startLoc,br=this.type===ce._import;return w.callee=this.parseSubscripts(this.parseExprAtom(),Se,jt,!0),br&&w.callee.type==="ImportExpression"&&this.raise(Se,"Cannot use new with import()"),this.eat(ce.parenL)?w.arguments=this.parseExprList(ce.parenR,this.options.ecmaVersion>=8,!1):w.arguments=ut,this.finishNode(w,"NewExpression")},ft.parseTemplateElement=function(w){var re=w.isTagged,Qe=this.startNode();return this.type===ce.invalidTemplate?(re||this.raiseRecoverable(this.start,"Bad escape sequence in untagged template literal"),Qe.value={raw:this.value,cooked:null}):Qe.value={raw:this.input.slice(this.start,this.end).replace(/\r\n?/g,`
`),cooked:this.value},this.next(),Qe.tail=this.type===ce.backQuote,this.finishNode(Qe,"TemplateElement")},ft.parseTemplate=function(w){w===void 0&&(w={});var re=w.isTagged;re===void 0&&(re=!1);var Qe=this.startNode();this.next(),Qe.expressions=[];var Se=this.parseTemplateElement({isTagged:re});for(Qe.quasis=[Se];!Se.tail;)this.type===ce.eof&&this.raise(this.pos,"Unterminated template literal"),this.expect(ce.dollarBraceL),Qe.expressions.push(this.parseExpression()),this.expect(ce.braceR),Qe.quasis.push(Se=this.parseTemplateElement({isTagged:re}));return this.next(),this.finishNode(Qe,"TemplateLiteral")},ft.isAsyncProp=function(w){return!w.computed&&w.key.type==="Identifier"&&w.key.name==="async"&&(this.type===ce.name||this.type===ce.num||this.type===ce.string||this.type===ce.bracketL||this.type.keyword||this.options.ecmaVersion>=9&&this.type===ce.star)&&!Vt.test(this.input.slice(this.lastTokEnd,this.start))},ft.parseObj=function(w,re){var Qe=this.startNode(),Se=!0,jt={};for(Qe.properties=[],this.next();!this.eat(ce.braceR);){if(Se)Se=!1;else if(this.expect(ce.comma),this.options.ecmaVersion>=5&&this.afterTrailingComma(ce.braceR))break;var br=this.parseProperty(w,re);w||this.checkPropClash(br,jt,re),Qe.properties.push(br)}return this.finishNode(Qe,w?"ObjectPattern":"ObjectExpression")},ft.parseProperty=function(w,re){var Qe=this.startNode(),Se,jt,br,Yr;if(this.options.ecmaVersion>=9&&this.eat(ce.ellipsis))return w?(Qe.argument=this.parseIdent(!1),this.type===ce.comma&&this.raise(this.start,"Comma is not permitted after the rest element"),this.finishNode(Qe,"RestElement")):(this.type===ce.parenL&&re&&(re.parenthesizedAssign<0&&(re.parenthesizedAssign=this.start),re.parenthesizedBind<0&&(re.parenthesizedBind=this.start)),Qe.argument=this.parseMaybeAssign(!1,re),this.type===ce.comma&&re&&re.trailingComma<0&&(re.trailingComma=this.start),this.finishNode(Qe,"SpreadElement"));this.options.ecmaVersion>=6&&(Qe.method=!1,Qe.shorthand=!1,(w||re)&&(br=this.start,Yr=this.startLoc),w||(Se=this.eat(ce.star)));var fn=this.containsEsc;return this.parsePropertyName(Qe),!w&&!fn&&this.options.ecmaVersion>=8&&!Se&&this.isAsyncProp(Qe)?(jt=!0,Se=this.options.ecmaVersion>=9&&this.eat(ce.star),this.parsePropertyName(Qe,re)):jt=!1,this.parsePropertyValue(Qe,w,Se,jt,br,Yr,re,fn),this.finishNode(Qe,"Property")},ft.parsePropertyValue=function(w,re,Qe,Se,jt,br,Yr,fn){if((Qe||Se)&&this.type===ce.colon&&this.unexpected(),this.eat(ce.colon))w.value=re?this.parseMaybeDefault(this.start,this.startLoc):this.parseMaybeAssign(!1,Yr),w.kind="init";else if(this.options.ecmaVersion>=6&&this.type===ce.parenL)re&&this.unexpected(),w.kind="init",w.method=!0,w.value=this.parseMethod(Qe,Se);else if(!re&&!fn&&this.options.ecmaVersion>=5&&!w.computed&&w.key.type==="Identifier"&&(w.key.name==="get"||w.key.name==="set")&&this.type!==ce.comma&&this.type!==ce.braceR&&this.type!==ce.eq){(Qe||Se)&&this.unexpected(),w.kind=w.key.name,this.parsePropertyName(w),w.value=this.parseMethod(!1);var En=w.kind==="get"?0:1;if(w.value.params.length!==En){var ma=w.value.start;w.kind==="get"?this.raiseRecoverable(ma,"getter should have no params"):this.raiseRecoverable(ma,"setter should have exactly one param")}else w.kind==="set"&&w.value.params[0].type==="RestElement"&&this.raiseRecoverable(w.value.params[0].start,"Setter cannot use rest params")}else this.options.ecmaVersion>=6&&!w.computed&&w.key.type==="Identifier"?((Qe||Se)&&this.unexpected(),this.checkUnreserved(w.key),w.key.name==="await"&&!this.awaitIdentPos&&(this.awaitIdentPos=jt),w.kind="init",re?w.value=this.parseMaybeDefault(jt,br,w.key):this.type===ce.eq&&Yr?(Yr.shorthandAssign<0&&(Yr.shorthandAssign=this.start),w.value=this.parseMaybeDefault(jt,br,w.key)):w.value=w.key,w.shorthand=!0):this.unexpected()},ft.parsePropertyName=function(w){if(this.options.ecmaVersion>=6){if(this.eat(ce.bracketL))return w.computed=!0,w.key=this.parseMaybeAssign(),this.expect(ce.bracketR),w.key;w.computed=!1}return w.key=this.type===ce.num||this.type===ce.string?this.parseExprAtom():this.parseIdent(this.options.allowReserved!=="never")},ft.initFunction=function(w){w.id=null,this.options.ecmaVersion>=6&&(w.generator=w.expression=!1),this.options.ecmaVersion>=8&&(w.async=!1)},ft.parseMethod=function(w,re,Qe){var Se=this.startNode(),jt=this.yieldPos,br=this.awaitPos,Yr=this.awaitIdentPos;return this.initFunction(Se),this.options.ecmaVersion>=6&&(Se.generator=w),this.options.ecmaVersion>=8&&(Se.async=!!re),this.yieldPos=0,this.awaitPos=0,this.awaitIdentPos=0,this.enterScope(xt(re,Se.generator)|Ot|(Qe?Xe:0)),this.expect(ce.parenL),Se.params=this.parseBindingList(ce.parenR,!1,this.options.ecmaVersion>=8),this.checkYieldAwaitInDefaultParams(),this.parseFunctionBody(Se,!1,!0),this.yieldPos=jt,this.awaitPos=br,this.awaitIdentPos=Yr,this.finishNode(Se,"FunctionExpression")},ft.parseArrowExpression=function(w,re,Qe){var Se=this.yieldPos,jt=this.awaitPos,br=this.awaitIdentPos;return this.enterScope(xt(Qe,!1)|Ke),this.initFunction(w),this.options.ecmaVersion>=8&&(w.async=!!Qe),this.yieldPos=0,this.awaitPos=0,this.awaitIdentPos=0,w.params=this.toAssignableList(re,!0),this.parseFunctionBody(w,!0,!1),this.yieldPos=Se,this.awaitPos=jt,this.awaitIdentPos=br,this.finishNode(w,"ArrowFunctionExpression")},ft.parseFunctionBody=function(w,re,Qe){var Se=re&&this.type!==ce.braceL,jt=this.strict,br=!1;if(Se)w.body=this.parseMaybeAssign(),w.expression=!0,this.checkParams(w,!1);else{var Yr=this.options.ecmaVersion>=7&&!this.isSimpleParamList(w.params);(!jt||Yr)&&(br=this.strictDirective(this.end),br&&Yr&&this.raiseRecoverable(w.start,"Illegal 'use strict' directive in function with non-simple parameter list"));var fn=this.labels;this.labels=[],br&&(this.strict=!0),this.checkParams(w,!jt&&!br&&!re&&!Qe&&this.isSimpleParamList(w.params)),this.strict&&w.id&&this.checkLVal(w.id,K),w.body=this.parseBlock(!1,void 0,br&&!jt),w.expression=!1,this.adaptDirectivePrologue(w.body.body),this.labels=fn}this.exitScope()},ft.isSimpleParamList=function(w){for(var re=0,Qe=w;re<Qe.length;re+=1){var Se=Qe[re];if(Se.type!=="Identifier")return!1}return!0},ft.checkParams=function(w,re){for(var Qe={},Se=0,jt=w.params;Se<jt.length;Se+=1){var br=jt[Se];this.checkLVal(br,B,re?null:Qe)}},ft.parseExprList=function(w,re,Qe,Se){for(var jt=[],br=!0;!this.eat(w);){if(br)br=!1;else if(this.expect(ce.comma),re&&this.afterTrailingComma(w))break;var Yr=void 0;Qe&&this.type===ce.comma?Yr=null:this.type===ce.ellipsis?(Yr=this.parseSpread(Se),Se&&this.type===ce.comma&&Se.trailingComma<0&&(Se.trailingComma=this.start)):Yr=this.parseMaybeAssign(!1,Se),jt.push(Yr)}return jt},ft.checkUnreserved=function(w){var re=w.start,Qe=w.end,Se=w.name;if(this.inGenerator&&Se==="yield"&&this.raiseRecoverable(re,"Cannot use 'yield' as identifier inside a generator"),this.inAsync&&Se==="await"&&this.raiseRecoverable(re,"Cannot use 'await' as identifier inside an async function"),this.keywords.test(Se)&&this.raise(re,"Unexpected keyword '"+Se+"'"),!(this.options.ecmaVersion<6&&this.input.slice(re,Qe).indexOf("\\")!==-1)){var jt=this.strict?this.reservedWordsStrict:this.reservedWords;jt.test(Se)&&(!this.inAsync&&Se==="await"&&this.raiseRecoverable(re,"Cannot use keyword 'await' outside an async function"),this.raiseRecoverable(re,"The keyword '"+Se+"' is reserved"))}},ft.parseIdent=function(w,re){var Qe=this.startNode();return this.type===ce.name?Qe.name=this.value:this.type.keyword?(Qe.name=this.type.keyword,(Qe.name==="class"||Qe.name==="function")&&(this.lastTokEnd!==this.lastTokStart+1||this.input.charCodeAt(this.lastTokStart)!==46)&&this.context.pop()):this.unexpected(),this.next(!!w),this.finishNode(Qe,"Identifier"),w||(this.checkUnreserved(Qe),Qe.name==="await"&&!this.awaitIdentPos&&(this.awaitIdentPos=Qe.start)),Qe},ft.parseYield=function(w){this.yieldPos||(this.yieldPos=this.start);var re=this.startNode();return this.next(),this.type===ce.semi||this.canInsertSemicolon()||this.type!==ce.star&&!this.type.startsExpr?(re.delegate=!1,re.argument=null):(re.delegate=this.eat(ce.star),re.argument=this.parseMaybeAssign(w)),this.finishNode(re,"YieldExpression")},ft.parseAwait=function(){this.awaitPos||(this.awaitPos=this.start);var w=this.startNode();return this.next(),w.argument=this.parseMaybeUnary(null,!1),this.finishNode(w,"AwaitExpression")};var Ze=fe.prototype;Ze.raise=function(w,re){var Qe=ee(this.input,w);re+=" ("+Qe.line+":"+Qe.column+")";var Se=new SyntaxError(re);throw Se.pos=w,Se.loc=Qe,Se.raisedAt=this.pos,Se},Ze.raiseRecoverable=Ze.raise,Ze.curPosition=function(){if(this.options.locations)return new ie(this.curLine,this.pos-this.lineStart)};var Qt=fe.prototype,ar=function(re){this.flags=re,this.var=[],this.lexical=[],this.functions=[]};Qt.enterScope=function(w){this.scopeStack.push(new ar(w))},Qt.exitScope=function(){this.scopeStack.pop()},Qt.treatFunctionsAsVarInScope=function(w){return w.flags&bt||!this.inModule&&w.flags&Re},Qt.declareName=function(w,re,Qe){var Se=!1;if(re===z){var jt=this.currentScope();Se=jt.lexical.indexOf(w)>-1||jt.functions.indexOf(w)>-1||jt.var.indexOf(w)>-1,jt.lexical.push(w),this.inModule&&jt.flags&Re&&delete this.undefinedExports[w]}else if(re===S){var br=this.currentScope();br.lexical.push(w)}else if(re===q){var Yr=this.currentScope();this.treatFunctionsAsVar?Se=Yr.lexical.indexOf(w)>-1:Se=Yr.lexical.indexOf(w)>-1||Yr.var.indexOf(w)>-1,Yr.functions.push(w)}else for(var fn=this.scopeStack.length-1;fn>=0;--fn){var En=this.scopeStack[fn];if(En.lexical.indexOf(w)>-1&&!(En.flags&nt&&En.lexical[0]===w)||!this.treatFunctionsAsVarInScope(En)&&En.functions.indexOf(w)>-1){Se=!0;break}if(En.var.push(w),this.inModule&&En.flags&Re&&delete this.undefinedExports[w],En.flags&Pt)break}Se&&this.raiseRecoverable(Qe,"Identifier '"+w+"' has already been declared")},Qt.checkLocalExport=function(w){this.scopeStack[0].lexical.indexOf(w.name)===-1&&this.scopeStack[0].var.indexOf(w.name)===-1&&(this.undefinedExports[w.name]=w)},Qt.currentScope=function(){return this.scopeStack[this.scopeStack.length-1]},Qt.currentVarScope=function(){for(var w=this.scopeStack.length-1;;w--){var re=this.scopeStack[w];if(re.flags&Pt)return re}},Qt.currentThisScope=function(){for(var w=this.scopeStack.length-1;;w--){var re=this.scopeStack[w];if(re.flags&Pt&&!(re.flags&Ke))return re}};var zr=function(re,Qe,Se){this.type="",this.start=Qe,this.end=0,re.options.locations&&(this.loc=new J(re,Se)),re.options.directSourceFile&&(this.sourceFile=re.options.directSourceFile),re.options.ranges&&(this.range=[Qe,0])},qr=fe.prototype;qr.startNode=function(){return new zr(this,this.start,this.startLoc)},qr.startNodeAt=function(w,re){return new zr(this,w,re)};function tn(w,re,Qe,Se){return w.type=re,w.end=Qe,this.options.locations&&(w.loc.end=Se),this.options.ranges&&(w.range[1]=Qe),w}qr.finishNode=function(w,re){return tn.call(this,w,re,this.lastTokEnd,this.lastTokEndLoc)},qr.finishNodeAt=function(w,re,Qe,Se){return tn.call(this,w,re,Qe,Se)};var _n=function(re,Qe,Se,jt,br){this.token=re,this.isExpr=!!Qe,this.preserveSpace=!!Se,this.override=jt,this.generator=!!br},Bn={b_stat:new _n("{",!1),b_expr:new _n("{",!0),b_tmpl:new _n("${",!1),p_stat:new _n("(",!1),p_expr:new _n("(",!0),q_tmpl:new _n("`",!0,!0,function(w){return w.tryReadTemplateToken()}),f_stat:new _n("function",!1),f_expr:new _n("function",!0),f_expr_gen:new _n("function",!0,!1,null,!0),f_gen:new _n("function",!1,!1,null,!0)},ya=fe.prototype;ya.initialContext=function(){return[Bn.b_stat]},ya.braceIsBlock=function(w){var re=this.curContext();return re===Bn.f_expr||re===Bn.f_stat?!0:w===ce.colon&&(re===Bn.b_stat||re===Bn.b_expr)?!re.isExpr:w===ce._return||w===ce.name&&this.exprAllowed?Vt.test(this.input.slice(this.lastTokEnd,this.start)):w===ce._else||w===ce.semi||w===ce.eof||w===ce.parenR||w===ce.arrow?!0:w===ce.braceL?re===Bn.b_stat:w===ce._var||w===ce._const||w===ce.name?!1:!this.exprAllowed},ya.inGeneratorContext=function(){for(var w=this.context.length-1;w>=1;w--){var re=this.context[w];if(re.token==="function")return re.generator}return!1},ya.updateContext=function(w){var re,Qe=this.type;Qe.keyword&&w===ce.dot?this.exprAllowed=!1:(re=Qe.updateContext)?re.call(this,w):this.exprAllowed=Qe.beforeExpr},ce.parenR.updateContext=ce.braceR.updateContext=function(){if(this.context.length===1){this.exprAllowed=!0;return}var w=this.context.pop();w===Bn.b_stat&&this.curContext().token==="function"&&(w=this.context.pop()),this.exprAllowed=!w.isExpr},ce.braceL.updateContext=function(w){this.context.push(this.braceIsBlock(w)?Bn.b_stat:Bn.b_expr),this.exprAllowed=!0},ce.dollarBraceL.updateContext=function(){this.context.push(Bn.b_tmpl),this.exprAllowed=!0},ce.parenL.updateContext=function(w){var re=w===ce._if||w===ce._for||w===ce._with||w===ce._while;this.context.push(re?Bn.p_stat:Bn.p_expr),this.exprAllowed=!0},ce.incDec.updateContext=function(){},ce._function.updateContext=ce._class.updateContext=function(w){w.beforeExpr&&w!==ce.semi&&w!==ce._else&&!(w===ce._return&&Vt.test(this.input.slice(this.lastTokEnd,this.start)))&&!((w===ce.colon||w===ce.braceL)&&this.curContext()===Bn.b_stat)?this.context.push(Bn.f_expr):this.context.push(Bn.f_stat),this.exprAllowed=!1},ce.backQuote.updateContext=function(){this.curContext()===Bn.q_tmpl?this.context.pop():this.context.push(Bn.q_tmpl),this.exprAllowed=!1},ce.star.updateContext=function(w){if(w===ce._function){var re=this.context.length-1;this.context[re]===Bn.f_expr?this.context[re]=Bn.f_expr_gen:this.context[re]=Bn.f_gen}this.exprAllowed=!0},ce.name.updateContext=function(w){var re=!1;this.options.ecmaVersion>=6&&w!==ce.dot&&(this.value==="of"&&!this.exprAllowed||this.value==="yield"&&this.inGeneratorContext())&&(re=!0),this.exprAllowed=re};var Tr="ASCII ASCII_Hex_Digit AHex Alphabetic Alpha Any Assigned Bidi_Control Bidi_C Bidi_Mirrored Bidi_M Case_Ignorable CI Cased Changes_When_Casefolded CWCF Changes_When_Casemapped CWCM Changes_When_Lowercased CWL Changes_When_NFKC_Casefolded CWKCF Changes_When_Titlecased CWT Changes_When_Uppercased CWU Dash Default_Ignorable_Code_Point DI Deprecated Dep Diacritic Dia Emoji Emoji_Component Emoji_Modifier Emoji_Modifier_Base Emoji_Presentation Extender Ext Grapheme_Base Gr_Base Grapheme_Extend Gr_Ext Hex_Digit Hex IDS_Binary_Operator IDSB IDS_Trinary_Operator IDST ID_Continue IDC ID_Start IDS Ideographic Ideo Join_Control Join_C Logical_Order_Exception LOE Lowercase Lower Math Noncharacter_Code_Point NChar Pattern_Syntax Pat_Syn Pattern_White_Space Pat_WS Quotation_Mark QMark Radical Regional_Indicator RI Sentence_Terminal STerm Soft_Dotted SD Terminal_Punctuation Term Unified_Ideograph UIdeo Uppercase Upper Variation_Selector VS White_Space space XID_Continue XIDC XID_Start XIDS",it=Tr+" Extended_Pictographic",ue=it,ge={9:Tr,10:it,11:ue},De="Cased_Letter LC Close_Punctuation Pe Connector_Punctuation Pc Control Cc cntrl Currency_Symbol Sc Dash_Punctuation Pd Decimal_Number Nd digit Enclosing_Mark Me Final_Punctuation Pf Format Cf Initial_Punctuation Pi Letter L Letter_Number Nl Line_Separator Zl Lowercase_Letter Ll Mark M Combining_Mark Math_Symbol Sm Modifier_Letter Lm Modifier_Symbol Sk Nonspacing_Mark Mn Number N Open_Punctuation Ps Other C Other_Letter Lo Other_Number No Other_Punctuation Po Other_Symbol So Paragraph_Separator Zp Private_Use Co Punctuation P punct Separator Z Space_Separator Zs Spacing_Mark Mc Surrogate Cs Symbol S Titlecase_Letter Lt Unassigned Cn Uppercase_Letter Lu",Ee="Adlam Adlm Ahom Ahom Anatolian_Hieroglyphs Hluw Arabic Arab Armenian Armn Avestan Avst Balinese Bali Bamum Bamu Bassa_Vah Bass Batak Batk Bengali Beng Bhaiksuki Bhks Bopomofo Bopo Brahmi Brah Braille Brai Buginese Bugi Buhid Buhd Canadian_Aboriginal Cans Carian Cari Caucasian_Albanian Aghb Chakma Cakm Cham Cham Cherokee Cher Common Zyyy Coptic Copt Qaac Cuneiform Xsux Cypriot Cprt Cyrillic Cyrl Deseret Dsrt Devanagari Deva Duployan Dupl Egyptian_Hieroglyphs Egyp Elbasan Elba Ethiopic Ethi Georgian Geor Glagolitic Glag Gothic Goth Grantha Gran Greek Grek Gujarati Gujr Gurmukhi Guru Han Hani Hangul Hang Hanunoo Hano Hatran Hatr Hebrew Hebr Hiragana Hira Imperial_Aramaic Armi Inherited Zinh Qaai Inscriptional_Pahlavi Phli Inscriptional_Parthian Prti Javanese Java Kaithi Kthi Kannada Knda Katakana Kana Kayah_Li Kali Kharoshthi Khar Khmer Khmr Khojki Khoj Khudawadi Sind Lao Laoo Latin Latn Lepcha Lepc Limbu Limb Linear_A Lina Linear_B Linb Lisu Lisu Lycian Lyci Lydian Lydi Mahajani Mahj Malayalam Mlym Mandaic Mand Manichaean Mani Marchen Marc Masaram_Gondi Gonm Meetei_Mayek Mtei Mende_Kikakui Mend Meroitic_Cursive Merc Meroitic_Hieroglyphs Mero Miao Plrd Modi Modi Mongolian Mong Mro Mroo Multani Mult Myanmar Mymr Nabataean Nbat New_Tai_Lue Talu Newa Newa Nko Nkoo Nushu Nshu Ogham Ogam Ol_Chiki Olck Old_Hungarian Hung Old_Italic Ital Old_North_Arabian Narb Old_Permic Perm Old_Persian Xpeo Old_South_Arabian Sarb Old_Turkic Orkh Oriya Orya Osage Osge Osmanya Osma Pahawh_Hmong Hmng Palmyrene Palm Pau_Cin_Hau Pauc Phags_Pa Phag Phoenician Phnx Psalter_Pahlavi Phlp Rejang Rjng Runic Runr Samaritan Samr Saurashtra Saur Sharada Shrd Shavian Shaw Siddham Sidd SignWriting Sgnw Sinhala Sinh Sora_Sompeng Sora Soyombo Soyo Sundanese Sund Syloti_Nagri Sylo Syriac Syrc Tagalog Tglg Tagbanwa Tagb Tai_Le Tale Tai_Tham Lana Tai_Viet Tavt Takri Takr Tamil Taml Tangut Tang Telugu Telu Thaana Thaa Thai Thai Tibetan Tibt Tifinagh Tfng Tirhuta Tirh Ugaritic Ugar Vai Vaii Warang_Citi Wara Yi Yiii Zanabazar_Square Zanb",be=Ee+" Dogra Dogr Gunjala_Gondi Gong Hanifi_Rohingya Rohg Makasar Maka Medefaidrin Medf Old_Sogdian Sogo Sogdian Sogd",rt=be+" Elymaic Elym Nandinagari Nand Nyiakeng_Puachue_Hmong Hmnp Wancho Wcho",de={9:Ee,10:be,11:rt},Pe={};function xe(w){var re=Pe[w]={binary:vt(ge[w]+" "+De),nonBinary:{General_Category:vt(De),Script:vt(de[w])}};re.nonBinary.Script_Extensions=re.nonBinary.Script,re.nonBinary.gc=re.nonBinary.General_Category,re.nonBinary.sc=re.nonBinary.Script,re.nonBinary.scx=re.nonBinary.Script_Extensions}xe(9),xe(10),xe(11);var Oe=fe.prototype,dt=function(re){this.parser=re,this.validFlags="gim"+(re.options.ecmaVersion>=6?"uy":"")+(re.options.ecmaVersion>=9?"s":""),this.unicodeProperties=Pe[re.options.ecmaVersion>=11?11:re.options.ecmaVersion],this.source="",this.flags="",this.start=0,this.switchU=!1,this.switchN=!1,this.pos=0,this.lastIntValue=0,this.lastStringValue="",this.lastAssertionIsQuantifiable=!1,this.numCapturingParens=0,this.maxBackReference=0,this.groupNames=[],this.backReferenceNames=[]};dt.prototype.reset=function(re,Qe,Se){var jt=Se.indexOf("u")!==-1;this.start=re|0,this.source=Qe+"",this.flags=Se,this.switchU=jt&&this.parser.options.ecmaVersion>=6,this.switchN=jt&&this.parser.options.ecmaVersion>=9},dt.prototype.raise=function(re){this.parser.raiseRecoverable(this.start,"Invalid regular expression: /"+this.source+"/: "+re)},dt.prototype.at=function(re,Qe){Qe===void 0&&(Qe=!1);var Se=this.source,jt=Se.length;if(re>=jt)return-1;var br=Se.charCodeAt(re);if(!(Qe||this.switchU)||br<=55295||br>=57344||re+1>=jt)return br;var Yr=Se.charCodeAt(re+1);return Yr>=56320&&Yr<=57343?(br<<10)+Yr-56613888:br},dt.prototype.nextIndex=function(re,Qe){Qe===void 0&&(Qe=!1);var Se=this.source,jt=Se.length;if(re>=jt)return jt;var br=Se.charCodeAt(re),Yr;return!(Qe||this.switchU)||br<=55295||br>=57344||re+1>=jt||(Yr=Se.charCodeAt(re+1))<56320||Yr>57343?re+1:re+2},dt.prototype.current=function(re){return re===void 0&&(re=!1),this.at(this.pos,re)},dt.prototype.lookahead=function(re){return re===void 0&&(re=!1),this.at(this.nextIndex(this.pos,re),re)},dt.prototype.advance=function(re){re===void 0&&(re=!1),this.pos=this.nextIndex(this.pos,re)},dt.prototype.eat=function(re,Qe){return Qe===void 0&&(Qe=!1),this.current(Qe)===re?(this.advance(Qe),!0):!1};function Gt(w){return w<=65535?String.fromCharCode(w):(w-=65536,String.fromCharCode((w>>10)+55296,(w&1023)+56320))}Oe.validateRegExpFlags=function(w){for(var re=w.validFlags,Qe=w.flags,Se=0;Se<Qe.length;Se++){var jt=Qe.charAt(Se);re.indexOf(jt)===-1&&this.raise(w.start,"Invalid regular expression flag"),Qe.indexOf(jt,Se+1)>-1&&this.raise(w.start,"Duplicate regular expression flag")}},Oe.validateRegExpPattern=function(w){this.regexp_pattern(w),!w.switchN&&this.options.ecmaVersion>=9&&w.groupNames.length>0&&(w.switchN=!0,this.regexp_pattern(w))},Oe.regexp_pattern=function(w){w.pos=0,w.lastIntValue=0,w.lastStringValue="",w.lastAssertionIsQuantifiable=!1,w.numCapturingParens=0,w.maxBackReference=0,w.groupNames.length=0,w.backReferenceNames.length=0,this.regexp_disjunction(w),w.pos!==w.source.length&&(w.eat(41)&&w.raise("Unmatched ')'"),(w.eat(93)||w.eat(125))&&w.raise("Lone quantifier brackets")),w.maxBackReference>w.numCapturingParens&&w.raise("Invalid escape");for(var re=0,Qe=w.backReferenceNames;re<Qe.length;re+=1){var Se=Qe[re];w.groupNames.indexOf(Se)===-1&&w.raise("Invalid named capture referenced")}},Oe.regexp_disjunction=function(w){for(this.regexp_alternative(w);w.eat(124);)this.regexp_alternative(w);this.regexp_eatQuantifier(w,!0)&&w.raise("Nothing to repeat"),w.eat(123)&&w.raise("Lone quantifier brackets")},Oe.regexp_alternative=function(w){for(;w.pos<w.source.length&&this.regexp_eatTerm(w););},Oe.regexp_eatTerm=function(w){return this.regexp_eatAssertion(w)?(w.lastAssertionIsQuantifiable&&this.regexp_eatQuantifier(w)&&w.switchU&&w.raise("Invalid quantifier"),!0):(w.switchU?this.regexp_eatAtom(w):this.regexp_eatExtendedAtom(w))?(this.regexp_eatQuantifier(w),!0):!1},Oe.regexp_eatAssertion=function(w){var re=w.pos;if(w.lastAssertionIsQuantifiable=!1,w.eat(94)||w.eat(36))return!0;if(w.eat(92)){if(w.eat(66)||w.eat(98))return!0;w.pos=re}if(w.eat(40)&&w.eat(63)){var Qe=!1;if(this.options.ecmaVersion>=9&&(Qe=w.eat(60)),w.eat(61)||w.eat(33))return this.regexp_disjunction(w),w.eat(41)||w.raise("Unterminated group"),w.lastAssertionIsQuantifiable=!Qe,!0}return w.pos=re,!1},Oe.regexp_eatQuantifier=function(w,re){return re===void 0&&(re=!1),this.regexp_eatQuantifierPrefix(w,re)?(w.eat(63),!0):!1},Oe.regexp_eatQuantifierPrefix=function(w,re){return w.eat(42)||w.eat(43)||w.eat(63)||this.regexp_eatBracedQuantifier(w,re)},Oe.regexp_eatBracedQuantifier=function(w,re){var Qe=w.pos;if(w.eat(123)){var Se=0,jt=-1;if(this.regexp_eatDecimalDigits(w)&&(Se=w.lastIntValue,w.eat(44)&&this.regexp_eatDecimalDigits(w)&&(jt=w.lastIntValue),w.eat(125)))return jt!==-1&&jt<Se&&!re&&w.raise("numbers out of order in {} quantifier"),!0;w.switchU&&!re&&w.raise("Incomplete quantifier"),w.pos=Qe}return!1},Oe.regexp_eatAtom=function(w){return this.regexp_eatPatternCharacters(w)||w.eat(46)||this.regexp_eatReverseSolidusAtomEscape(w)||this.regexp_eatCharacterClass(w)||this.regexp_eatUncapturingGroup(w)||this.regexp_eatCapturingGroup(w)},Oe.regexp_eatReverseSolidusAtomEscape=function(w){var re=w.pos;if(w.eat(92)){if(this.regexp_eatAtomEscape(w))return!0;w.pos=re}return!1},Oe.regexp_eatUncapturingGroup=function(w){var re=w.pos;if(w.eat(40)){if(w.eat(63)&&w.eat(58)){if(this.regexp_disjunction(w),w.eat(41))return!0;w.raise("Unterminated group")}w.pos=re}return!1},Oe.regexp_eatCapturingGroup=function(w){if(w.eat(40)){if(this.options.ecmaVersion>=9?this.regexp_groupSpecifier(w):w.current()===63&&w.raise("Invalid group"),this.regexp_disjunction(w),w.eat(41))return w.numCapturingParens+=1,!0;w.raise("Unterminated group")}return!1},Oe.regexp_eatExtendedAtom=function(w){return w.eat(46)||this.regexp_eatReverseSolidusAtomEscape(w)||this.regexp_eatCharacterClass(w)||this.regexp_eatUncapturingGroup(w)||this.regexp_eatCapturingGroup(w)||this.regexp_eatInvalidBracedQuantifier(w)||this.regexp_eatExtendedPatternCharacter(w)},Oe.regexp_eatInvalidBracedQuantifier=function(w){return this.regexp_eatBracedQuantifier(w,!0)&&w.raise("Nothing to repeat"),!1},Oe.regexp_eatSyntaxCharacter=function(w){var re=w.current();return $t(re)?(w.lastIntValue=re,w.advance(),!0):!1};function $t(w){return w===36||w>=40&&w<=43||w===46||w===63||w>=91&&w<=94||w>=123&&w<=125}Oe.regexp_eatPatternCharacters=function(w){for(var re=w.pos,Qe=0;(Qe=w.current())!==-1&&!$t(Qe);)w.advance();return w.pos!==re},Oe.regexp_eatExtendedPatternCharacter=function(w){var re=w.current();return re!==-1&&re!==36&&!(re>=40&&re<=43)&&re!==46&&re!==63&&re!==91&&re!==94&&re!==124?(w.advance(),!0):!1},Oe.regexp_groupSpecifier=function(w){if(w.eat(63)){if(this.regexp_eatGroupName(w)){w.groupNames.indexOf(w.lastStringValue)!==-1&&w.raise("Duplicate capture group name"),w.groupNames.push(w.lastStringValue);return}w.raise("Invalid group")}},Oe.regexp_eatGroupName=function(w){if(w.lastStringValue="",w.eat(60)){if(this.regexp_eatRegExpIdentifierName(w)&&w.eat(62))return!0;w.raise("Invalid capture group name")}return!1},Oe.regexp_eatRegExpIdentifierName=function(w){if(w.lastStringValue="",this.regexp_eatRegExpIdentifierStart(w)){for(w.lastStringValue+=Gt(w.lastIntValue);this.regexp_eatRegExpIdentifierPart(w);)w.lastStringValue+=Gt(w.lastIntValue);return!0}return!1},Oe.regexp_eatRegExpIdentifierStart=function(w){var re=w.pos,Qe=this.options.ecmaVersion>=11,Se=w.current(Qe);return w.advance(Qe),Se===92&&this.regexp_eatRegExpUnicodeEscapeSequence(w,Qe)&&(Se=w.lastIntValue),nr(Se)?(w.lastIntValue=Se,!0):(w.pos=re,!1)};function nr(w){return ve(w,!0)||w===36||w===95}Oe.regexp_eatRegExpIdentifierPart=function(w){var re=w.pos,Qe=this.options.ecmaVersion>=11,Se=w.current(Qe);return w.advance(Qe),Se===92&&this.regexp_eatRegExpUnicodeEscapeSequence(w,Qe)&&(Se=w.lastIntValue),lr(Se)?(w.lastIntValue=Se,!0):(w.pos=re,!1)};function lr(w){return we(w,!0)||w===36||w===95||w===8204||w===8205}Oe.regexp_eatAtomEscape=function(w){return this.regexp_eatBackReference(w)||this.regexp_eatCharacterClassEscape(w)||this.regexp_eatCharacterEscape(w)||w.switchN&&this.regexp_eatKGroupName(w)?!0:(w.switchU&&(w.current()===99&&w.raise("Invalid unicode escape"),w.raise("Invalid escape")),!1)},Oe.regexp_eatBackReference=function(w){var re=w.pos;if(this.regexp_eatDecimalEscape(w)){var Qe=w.lastIntValue;if(w.switchU)return Qe>w.maxBackReference&&(w.maxBackReference=Qe),!0;if(Qe<=w.numCapturingParens)return!0;w.pos=re}return!1},Oe.regexp_eatKGroupName=function(w){if(w.eat(107)){if(this.regexp_eatGroupName(w))return w.backReferenceNames.push(w.lastStringValue),!0;w.raise("Invalid named reference")}return!1},Oe.regexp_eatCharacterEscape=function(w){return this.regexp_eatControlEscape(w)||this.regexp_eatCControlLetter(w)||this.regexp_eatZero(w)||this.regexp_eatHexEscapeSequence(w)||this.regexp_eatRegExpUnicodeEscapeSequence(w,!1)||!w.switchU&&this.regexp_eatLegacyOctalEscapeSequence(w)||this.regexp_eatIdentityEscape(w)},Oe.regexp_eatCControlLetter=function(w){var re=w.pos;if(w.eat(99)){if(this.regexp_eatControlLetter(w))return!0;w.pos=re}return!1},Oe.regexp_eatZero=function(w){return w.current()===48&&!Rn(w.lookahead())?(w.lastIntValue=0,w.advance(),!0):!1},Oe.regexp_eatControlEscape=function(w){var re=w.current();return re===116?(w.lastIntValue=9,w.advance(),!0):re===110?(w.lastIntValue=10,w.advance(),!0):re===118?(w.lastIntValue=11,w.advance(),!0):re===102?(w.lastIntValue=12,w.advance(),!0):re===114?(w.lastIntValue=13,w.advance(),!0):!1},Oe.regexp_eatControlLetter=function(w){var re=w.current();return Dr(re)?(w.lastIntValue=re%32,w.advance(),!0):!1};function Dr(w){return w>=65&&w<=90||w>=97&&w<=122}Oe.regexp_eatRegExpUnicodeEscapeSequence=function(w,re){re===void 0&&(re=!1);var Qe=w.pos,Se=re||w.switchU;if(w.eat(117)){if(this.regexp_eatFixedHexDigits(w,4)){var jt=w.lastIntValue;if(Se&&jt>=55296&&jt<=56319){var br=w.pos;if(w.eat(92)&&w.eat(117)&&this.regexp_eatFixedHexDigits(w,4)){var Yr=w.lastIntValue;if(Yr>=56320&&Yr<=57343)return w.lastIntValue=(jt-55296)*1024+(Yr-56320)+65536,!0}w.pos=br,w.lastIntValue=jt}return!0}if(Se&&w.eat(123)&&this.regexp_eatHexDigits(w)&&w.eat(125)&&Pr(w.lastIntValue))return!0;Se&&w.raise("Invalid unicode escape"),w.pos=Qe}return!1};function Pr(w){return w>=0&&w<=1114111}Oe.regexp_eatIdentityEscape=function(w){if(w.switchU)return this.regexp_eatSyntaxCharacter(w)?!0:w.eat(47)?(w.lastIntValue=47,!0):!1;var re=w.current();return re!==99&&(!w.switchN||re!==107)?(w.lastIntValue=re,w.advance(),!0):!1},Oe.regexp_eatDecimalEscape=function(w){w.lastIntValue=0;var re=w.current();if(re>=49&&re<=57){do w.lastIntValue=10*w.lastIntValue+(re-48),w.advance();while((re=w.current())>=48&&re<=57);return!0}return!1},Oe.regexp_eatCharacterClassEscape=function(w){var re=w.current();if(Wr(re))return w.lastIntValue=-1,w.advance(),!0;if(w.switchU&&this.options.ecmaVersion>=9&&(re===80||re===112)){if(w.lastIntValue=-1,w.advance(),w.eat(123)&&this.regexp_eatUnicodePropertyValueExpression(w)&&w.eat(125))return!0;w.raise("Invalid property name")}return!1};function Wr(w){return w===100||w===68||w===115||w===83||w===119||w===87}Oe.regexp_eatUnicodePropertyValueExpression=function(w){var re=w.pos;if(this.regexp_eatUnicodePropertyName(w)&&w.eat(61)){var Qe=w.lastStringValue;if(this.regexp_eatUnicodePropertyValue(w)){var Se=w.lastStringValue;return this.regexp_validateUnicodePropertyNameAndValue(w,Qe,Se),!0}}if(w.pos=re,this.regexp_eatLoneUnicodePropertyNameOrValue(w)){var jt=w.lastStringValue;return this.regexp_validateUnicodePropertyNameOrValue(w,jt),!0}return!1},Oe.regexp_validateUnicodePropertyNameAndValue=function(w,re,Qe){Jt(w.unicodeProperties.nonBinary,re)||w.raise("Invalid property name"),w.unicodeProperties.nonBinary[re].test(Qe)||w.raise("Invalid property value")},Oe.regexp_validateUnicodePropertyNameOrValue=function(w,re){w.unicodeProperties.binary.test(re)||w.raise("Invalid property name")},Oe.regexp_eatUnicodePropertyName=function(w){var re=0;for(w.lastStringValue="";an(re=w.current());)w.lastStringValue+=Gt(re),w.advance();return w.lastStringValue!==""};function an(w){return Dr(w)||w===95}Oe.regexp_eatUnicodePropertyValue=function(w){var re=0;for(w.lastStringValue="";dn(re=w.current());)w.lastStringValue+=Gt(re),w.advance();return w.lastStringValue!==""};function dn(w){return an(w)||Rn(w)}Oe.regexp_eatLoneUnicodePropertyNameOrValue=function(w){return this.regexp_eatUnicodePropertyValue(w)},Oe.regexp_eatCharacterClass=function(w){if(w.eat(91)){if(w.eat(94),this.regexp_classRanges(w),w.eat(93))return!0;w.raise("Unterminated character class")}return!1},Oe.regexp_classRanges=function(w){for(;this.regexp_eatClassAtom(w);){var re=w.lastIntValue;if(w.eat(45)&&this.regexp_eatClassAtom(w)){var Qe=w.lastIntValue;w.switchU&&(re===-1||Qe===-1)&&w.raise("Invalid character class"),re!==-1&&Qe!==-1&&re>Qe&&w.raise("Range out of order in character class")}}},Oe.regexp_eatClassAtom=function(w){var re=w.pos;if(w.eat(92)){if(this.regexp_eatClassEscape(w))return!0;if(w.switchU){var Qe=w.current();(Qe===99||Ma(Qe))&&w.raise("Invalid class escape"),w.raise("Invalid escape")}w.pos=re}var Se=w.current();return Se!==93?(w.lastIntValue=Se,w.advance(),!0):!1},Oe.regexp_eatClassEscape=function(w){var re=w.pos;if(w.eat(98))return w.lastIntValue=8,!0;if(w.switchU&&w.eat(45))return w.lastIntValue=45,!0;if(!w.switchU&&w.eat(99)){if(this.regexp_eatClassControlLetter(w))return!0;w.pos=re}return this.regexp_eatCharacterClassEscape(w)||this.regexp_eatCharacterEscape(w)},Oe.regexp_eatClassControlLetter=function(w){var re=w.current();return Rn(re)||re===95?(w.lastIntValue=re%32,w.advance(),!0):!1},Oe.regexp_eatHexEscapeSequence=function(w){var re=w.pos;if(w.eat(120)){if(this.regexp_eatFixedHexDigits(w,2))return!0;w.switchU&&w.raise("Invalid escape"),w.pos=re}return!1},Oe.regexp_eatDecimalDigits=function(w){var re=w.pos,Qe=0;for(w.lastIntValue=0;Rn(Qe=w.current());)w.lastIntValue=10*w.lastIntValue+(Qe-48),w.advance();return w.pos!==re};function Rn(w){return w>=48&&w<=57}Oe.regexp_eatHexDigits=function(w){var re=w.pos,Qe=0;for(w.lastIntValue=0;zn(Qe=w.current());)w.lastIntValue=16*w.lastIntValue+Qn(Qe),w.advance();return w.pos!==re};function zn(w){return w>=48&&w<=57||w>=65&&w<=70||w>=97&&w<=102}function Qn(w){return w>=65&&w<=70?10+(w-65):w>=97&&w<=102?10+(w-97):w-48}Oe.regexp_eatLegacyOctalEscapeSequence=function(w){if(this.regexp_eatOctalDigit(w)){var re=w.lastIntValue;if(this.regexp_eatOctalDigit(w)){var Qe=w.lastIntValue;re<=3&&this.regexp_eatOctalDigit(w)?w.lastIntValue=re*64+Qe*8+w.lastIntValue:w.lastIntValue=re*8+Qe}else w.lastIntValue=re;return!0}return!1},Oe.regexp_eatOctalDigit=function(w){var re=w.current();return Ma(re)?(w.lastIntValue=re-48,w.advance(),!0):(w.lastIntValue=0,!1)};function Ma(w){return w>=48&&w<=55}Oe.regexp_eatFixedHexDigits=function(w,re){var Qe=w.pos;w.lastIntValue=0;for(var Se=0;Se<re;++Se){var jt=w.current();if(!zn(jt))return w.pos=Qe,!1;w.lastIntValue=16*w.lastIntValue+Qn(jt),w.advance()}return!0};var Ca=function(re){this.type=re.type,this.value=re.value,this.start=re.start,this.end=re.end,re.options.locations&&(this.loc=new J(re,re.startLoc,re.endLoc)),re.options.ranges&&(this.range=[re.start,re.end])},ia=fe.prototype;ia.next=function(w){!w&&this.type.keyword&&this.containsEsc&&this.raiseRecoverable(this.start,"Escape sequence in keyword "+this.type.keyword),this.options.onToken&&this.options.onToken(new Ca(this)),this.lastTokEnd=this.end,this.lastTokStart=this.start,this.lastTokEndLoc=this.endLoc,this.lastTokStartLoc=this.startLoc,this.nextToken()},ia.getToken=function(){return this.next(),new Ca(this)},typeof Symbol!="undefined"&&(ia[Symbol.iterator]=function(){var w=this;return{next:function(){var Qe=w.getToken();return{done:Qe.type===ce.eof,value:Qe}}}}),ia.curContext=function(){return this.context[this.context.length-1]},ia.nextToken=function(){var w=this.curContext();if((!w||!w.preserveSpace)&&this.skipSpace(),this.start=this.pos,this.options.locations&&(this.startLoc=this.curPosition()),this.pos>=this.input.length)return this.finishToken(ce.eof);if(w.override)return w.override(this);this.readToken(this.fullCharCodeAtPos())},ia.readToken=function(w){return ve(w,this.options.ecmaVersion>=6)||w===92?this.readWord():this.getTokenFromCode(w)},ia.fullCharCodeAtPos=function(){var w=this.input.charCodeAt(this.pos);if(w<=55295||w>=57344)return w;var re=this.input.charCodeAt(this.pos+1);return(w<<10)+re-56613888},ia.skipBlockComment=function(){var w=this.options.onComment&&this.curPosition(),re=this.pos,Qe=this.input.indexOf("*/",this.pos+=2);if(Qe===-1&&this.raise(this.pos-2,"Unterminated comment"),this.pos=Qe+2,this.options.locations){It.lastIndex=re;for(var Se;(Se=It.exec(this.input))&&Se.index<this.pos;)++this.curLine,this.lineStart=Se.index+Se[0].length}this.options.onComment&&this.options.onComment(!0,this.input.slice(re+2,Qe),re,this.pos,w,this.curPosition())},ia.skipLineComment=function(w){for(var re=this.pos,Qe=this.options.onComment&&this.curPosition(),Se=this.input.charCodeAt(this.pos+=w);this.pos<this.input.length&&!Mt(Se);)Se=this.input.charCodeAt(++this.pos);this.options.onComment&&this.options.onComment(!1,this.input.slice(re+w,this.pos),re,this.pos,Qe,this.curPosition())},ia.skipSpace=function(){e:for(;this.pos<this.input.length;){var w=this.input.charCodeAt(this.pos);switch(w){case 32:case 160:++this.pos;break;case 13:this.input.charCodeAt(this.pos+1)===10&&++this.pos;case 10:case 8232:case 8233:++this.pos,this.options.locations&&(++this.curLine,this.lineStart=this.pos);break;case 47:switch(this.input.charCodeAt(this.pos+1)){case 42:this.skipBlockComment();break;case 47:this.skipLineComment(2);break;default:break e}break;default:if(w>8&&w<14||w>=5760&&Tt.test(String.fromCharCode(w)))++this.pos;else break e}}},ia.finishToken=function(w,re){this.end=this.pos,this.options.locations&&(this.endLoc=this.curPosition());var Qe=this.type;this.type=w,this.value=re,this.updateContext(Qe)},ia.readToken_dot=function(){var w=this.input.charCodeAt(this.pos+1);if(w>=48&&w<=57)return this.readNumber(!0);var re=this.input.charCodeAt(this.pos+2);return this.options.ecmaVersion>=6&&w===46&&re===46?(this.pos+=3,this.finishToken(ce.ellipsis)):(++this.pos,this.finishToken(ce.dot))},ia.readToken_slash=function(){var w=this.input.charCodeAt(this.pos+1);return this.exprAllowed?(++this.pos,this.readRegexp()):w===61?this.finishOp(ce.assign,2):this.finishOp(ce.slash,1)},ia.readToken_mult_modulo_exp=function(w){var re=this.input.charCodeAt(this.pos+1),Qe=1,Se=w===42?ce.star:ce.modulo;return this.options.ecmaVersion>=7&&w===42&&re===42&&(++Qe,Se=ce.starstar,re=this.input.charCodeAt(this.pos+2)),re===61?this.finishOp(ce.assign,Qe+1):this.finishOp(Se,Qe)},ia.readToken_pipe_amp=function(w){var re=this.input.charCodeAt(this.pos+1);if(re===w){if(this.options.ecmaVersion>=12){var Qe=this.input.charCodeAt(this.pos+2);if(Qe===61)return this.finishOp(ce.assign,3)}return this.finishOp(w===124?ce.logicalOR:ce.logicalAND,2)}return re===61?this.finishOp(ce.assign,2):this.finishOp(w===124?ce.bitwiseOR:ce.bitwiseAND,1)},ia.readToken_caret=function(){var w=this.input.charCodeAt(this.pos+1);return w===61?this.finishOp(ce.assign,2):this.finishOp(ce.bitwiseXOR,1)},ia.readToken_plus_min=function(w){var re=this.input.charCodeAt(this.pos+1);return re===w?re===45&&!this.inModule&&this.input.charCodeAt(this.pos+2)===62&&(this.lastTokEnd===0||Vt.test(this.input.slice(this.lastTokEnd,this.pos)))?(this.skipLineComment(3),this.skipSpace(),this.nextToken()):this.finishOp(ce.incDec,2):re===61?this.finishOp(ce.assign,2):this.finishOp(ce.plusMin,1)},ia.readToken_lt_gt=function(w){var re=this.input.charCodeAt(this.pos+1),Qe=1;return re===w?(Qe=w===62&&this.input.charCodeAt(this.pos+2)===62?3:2,this.input.charCodeAt(this.pos+Qe)===61?this.finishOp(ce.assign,Qe+1):this.finishOp(ce.bitShift,Qe)):re===33&&w===60&&!this.inModule&&this.input.charCodeAt(this.pos+2)===45&&this.input.charCodeAt(this.pos+3)===45?(this.skipLineComment(4),this.skipSpace(),this.nextToken()):(re===61&&(Qe=2),this.finishOp(ce.relational,Qe))},ia.readToken_eq_excl=function(w){var re=this.input.charCodeAt(this.pos+1);return re===61?this.finishOp(ce.equality,this.input.charCodeAt(this.pos+2)===61?3:2):w===61&&re===62&&this.options.ecmaVersion>=6?(this.pos+=2,this.finishToken(ce.arrow)):this.finishOp(w===61?ce.eq:ce.prefix,1)},ia.readToken_question=function(){var w=this.options.ecmaVersion;if(w>=11){var re=this.input.charCodeAt(this.pos+1);if(re===46){var Qe=this.input.charCodeAt(this.pos+2);if(Qe<48||Qe>57)return this.finishOp(ce.questionDot,2)}if(re===63){if(w>=12){var Se=this.input.charCodeAt(this.pos+2);if(Se===61)return this.finishOp(ce.assign,3)}return this.finishOp(ce.coalesce,2)}}return this.finishOp(ce.question,1)},ia.getTokenFromCode=function(w){switch(w){case 46:return this.readToken_dot();case 40:return++this.pos,this.finishToken(ce.parenL);case 41:return++this.pos,this.finishToken(ce.parenR);case 59:return++this.pos,this.finishToken(ce.semi);case 44:return++this.pos,this.finishToken(ce.comma);case 91:return++this.pos,this.finishToken(ce.bracketL);case 93:return++this.pos,this.finishToken(ce.bracketR);case 123:return++this.pos,this.finishToken(ce.braceL);case 125:return++this.pos,this.finishToken(ce.braceR);case 58:return++this.pos,this.finishToken(ce.colon);case 96:if(this.options.ecmaVersion<6)break;return++this.pos,this.finishToken(ce.backQuote);case 48:var re=this.input.charCodeAt(this.pos+1);if(re===120||re===88)return this.readRadixNumber(16);if(this.options.ecmaVersion>=6){if(re===111||re===79)return this.readRadixNumber(8);if(re===98||re===66)return this.readRadixNumber(2)}case 49:case 50:case 51:case 52:case 53:case 54:case 55:case 56:case 57:return this.readNumber(!1);case 34:case 39:return this.readString(w);case 47:return this.readToken_slash();case 37:case 42:return this.readToken_mult_modulo_exp(w);case 124:case 38:return this.readToken_pipe_amp(w);case 94:return this.readToken_caret();case 43:case 45:return this.readToken_plus_min(w);case 60:case 62:return this.readToken_lt_gt(w);case 61:case 33:return this.readToken_eq_excl(w);case 63:return this.readToken_question();case 126:return this.finishOp(ce.prefix,1)}this.raise(this.pos,"Unexpected character '"+ra(w)+"'")},ia.finishOp=function(w,re){var Qe=this.input.slice(this.pos,this.pos+re);return this.pos+=re,this.finishToken(w,Qe)},ia.readRegexp=function(){for(var w,re,Qe=this.pos;;){this.pos>=this.input.length&&this.raise(Qe,"Unterminated regular expression");var Se=this.input.charAt(this.pos);if(Vt.test(Se)&&this.raise(Qe,"Unterminated regular expression"),w)w=!1;else{if(Se==="[")re=!0;else if(Se==="]"&&re)re=!1;else if(Se==="/"&&!re)break;w=Se==="\\"}++this.pos}var jt=this.input.slice(Qe,this.pos);++this.pos;var br=this.pos,Yr=this.readWord1();this.containsEsc&&this.unexpected(br);var fn=this.regexpState||(this.regexpState=new dt(this));fn.reset(Qe,jt,Yr),this.validateRegExpFlags(fn),this.validateRegExpPattern(fn);var En=null;try{En=new RegExp(jt,Yr)}catch(ma){}return this.finishToken(ce.regexp,{pattern:jt,flags:Yr,value:En})},ia.readInt=function(w,re,Qe){for(var Se=this.options.ecmaVersion>=12&&re===void 0,jt=Qe&&this.input.charCodeAt(this.pos)===48,br=this.pos,Yr=0,fn=0,En=0,ma=re==null?Infinity:re;En<ma;++En,++this.pos){var Ia=this.input.charCodeAt(this.pos),Co=void 0;if(Se&&Ia===95){jt&&this.raiseRecoverable(this.pos,"Numeric separator is not allowed in legacy octal numeric literals"),fn===95&&this.raiseRecoverable(this.pos,"Numeric separator must be exactly one underscore"),En===0&&this.raiseRecoverable(this.pos,"Numeric separator is not allowed at the first of digits"),fn=Ia;continue}if(Ia>=97?Co=Ia-97+10:Ia>=65?Co=Ia-65+10:Ia>=48&&Ia<=57?Co=Ia-48:Co=Infinity,Co>=w)break;fn=Ia,Yr=Yr*w+Co}return Se&&fn===95&&this.raiseRecoverable(this.pos-1,"Numeric separator is not allowed at the last of digits"),this.pos===br||re!=null&&this.pos-br!==re?null:Yr};function _a(w,re){return re?parseInt(w,8):parseFloat(w.replace(/_/g,""))}function $a(w){return typeof BigInt!="function"?null:BigInt(w.replace(/_/g,""))}ia.readRadixNumber=function(w){var re=this.pos;this.pos+=2;var Qe=this.readInt(w);return Qe==null&&this.raise(this.start+2,"Expected number in radix "+w),this.options.ecmaVersion>=11&&this.input.charCodeAt(this.pos)===110?(Qe=$a(this.input.slice(re,this.pos)),++this.pos):ve(this.fullCharCodeAtPos())&&this.raise(this.pos,"Identifier directly after number"),this.finishToken(ce.num,Qe)},ia.readNumber=function(w){var re=this.pos;!w&&this.readInt(10,void 0,!0)===null&&this.raise(re,"Invalid number");var Qe=this.pos-re>=2&&this.input.charCodeAt(re)===48;Qe&&this.strict&&this.raise(re,"Invalid number");var Se=this.input.charCodeAt(this.pos);if(!Qe&&!w&&this.options.ecmaVersion>=11&&Se===110){var jt=$a(this.input.slice(re,this.pos));return++this.pos,ve(this.fullCharCodeAtPos())&&this.raise(this.pos,"Identifier directly after number"),this.finishToken(ce.num,jt)}Qe&&/[89]/.test(this.input.slice(re,this.pos))&&(Qe=!1),Se===46&&!Qe&&(++this.pos,this.readInt(10),Se=this.input.charCodeAt(this.pos)),(Se===69||Se===101)&&!Qe&&(Se=this.input.charCodeAt(++this.pos),(Se===43||Se===45)&&++this.pos,this.readInt(10)===null&&this.raise(re,"Invalid number")),ve(this.fullCharCodeAtPos())&&this.raise(this.pos,"Identifier directly after number");var br=_a(this.input.slice(re,this.pos),Qe);return this.finishToken(ce.num,br)},ia.readCodePoint=function(){var w=this.input.charCodeAt(this.pos),re;if(w===123){this.options.ecmaVersion<6&&this.unexpected();var Qe=++this.pos;re=this.readHexChar(this.input.indexOf("}",this.pos)-this.pos),++this.pos,re>1114111&&this.invalidStringToken(Qe,"Code point out of bounds")}else re=this.readHexChar(4);return re};function ra(w){return w<=65535?String.fromCharCode(w):(w-=65536,String.fromCharCode((w>>10)+55296,(w&1023)+56320))}ia.readString=function(w){for(var re="",Qe=++this.pos;;){this.pos>=this.input.length&&this.raise(this.start,"Unterminated string constant");var Se=this.input.charCodeAt(this.pos);if(Se===w)break;Se===92?(re+=this.input.slice(Qe,this.pos),re+=this.readEscapedChar(!1),Qe=this.pos):(Mt(Se,this.options.ecmaVersion>=10)&&this.raise(this.start,"Unterminated string constant"),++this.pos)}return re+=this.input.slice(Qe,this.pos++),this.finishToken(ce.string,re)};var ni={};ia.tryReadTemplateToken=function(){this.inTemplateElement=!0;try{this.readTmplToken()}catch(w){if(w===ni)this.readInvalidTemplateToken();else throw w}this.inTemplateElement=!1},ia.invalidStringToken=function(w,re){if(this.inTemplateElement&&this.options.ecmaVersion>=9)throw ni;this.raise(w,re)},ia.readTmplToken=function(){for(var w="",re=this.pos;;){this.pos>=this.input.length&&this.raise(this.start,"Unterminated template");var Qe=this.input.charCodeAt(this.pos);if(Qe===96||Qe===36&&this.input.charCodeAt(this.pos+1)===123)return this.pos===this.start&&(this.type===ce.template||this.type===ce.invalidTemplate)?Qe===36?(this.pos+=2,this.finishToken(ce.dollarBraceL)):(++this.pos,this.finishToken(ce.backQuote)):(w+=this.input.slice(re,this.pos),this.finishToken(ce.template,w));if(Qe===92)w+=this.input.slice(re,this.pos),w+=this.readEscapedChar(!0),re=this.pos;else if(Mt(Qe)){switch(w+=this.input.slice(re,this.pos),++this.pos,Qe){case 13:this.input.charCodeAt(this.pos)===10&&++this.pos;case 10:w+=`
`;break;default:w+=String.fromCharCode(Qe);break}this.options.locations&&(++this.curLine,this.lineStart=this.pos),re=this.pos}else++this.pos}},ia.readInvalidTemplateToken=function(){for(;this.pos<this.input.length;this.pos++)switch(this.input[this.pos]){case"\\":++this.pos;break;case"$":if(this.input[this.pos+1]!=="{")break;case"`":return this.finishToken(ce.invalidTemplate,this.input.slice(this.start,this.pos))}this.raise(this.start,"Unterminated template")},ia.readEscapedChar=function(w){var re=this.input.charCodeAt(++this.pos);switch(++this.pos,re){case 110:return`
`;case 114:return"\r";case 120:return String.fromCharCode(this.readHexChar(2));case 117:return ra(this.readCodePoint());case 116:return"	";case 98:return"\b";case 118:return"\v";case 102:return"\f";case 13:this.input.charCodeAt(this.pos)===10&&++this.pos;case 10:return this.options.locations&&(this.lineStart=this.pos,++this.curLine),"";case 56:case 57:if(w){var Qe=this.pos-1;return this.invalidStringToken(Qe,"Invalid escape sequence in template string"),null}default:if(re>=48&&re<=55){var Se=this.input.substr(this.pos-1,3).match(/^[0-7]+/)[0],jt=parseInt(Se,8);return jt>255&&(Se=Se.slice(0,-1),jt=parseInt(Se,8)),this.pos+=Se.length-1,re=this.input.charCodeAt(this.pos),(Se!=="0"||re===56||re===57)&&(this.strict||w)&&this.invalidStringToken(this.pos-1-Se.length,w?"Octal literal in template string":"Octal literal in strict mode"),String.fromCharCode(jt)}return Mt(re)?"":String.fromCharCode(re)}},ia.readHexChar=function(w){var re=this.pos,Qe=this.readInt(16,w);return Qe===null&&this.invalidStringToken(re,"Bad character escape sequence"),Qe},ia.readWord1=function(){this.containsEsc=!1;for(var w="",re=!0,Qe=this.pos,Se=this.options.ecmaVersion>=6;this.pos<this.input.length;){var jt=this.fullCharCodeAtPos();if(we(jt,Se))this.pos+=jt<=65535?1:2;else if(jt===92){this.containsEsc=!0,w+=this.input.slice(Qe,this.pos);var br=this.pos;this.input.charCodeAt(++this.pos)!==117&&this.invalidStringToken(this.pos,"Expecting Unicode escape sequence \\uXXXX"),++this.pos;var Yr=this.readCodePoint();(re?ve:we)(Yr,Se)||this.invalidStringToken(br,"Invalid Unicode escape"),w+=ra(Yr),Qe=this.pos}else break;re=!1}return w+this.input.slice(Qe,this.pos)},ia.readWord=function(){var w=this.readWord1(),re=ce.name;return this.keywords.test(w)&&(re=We[w]),this.finishToken(re,w)};var Da="7.4.1";fe.acorn={Parser:fe,version:Da,defaultOptions:Ie,Position:ie,SourceLocation:J,getLineInfo:ee,Node:zr,TokenType:I,tokTypes:ce,keywordTypes:We,TokContext:_n,tokContexts:Bn,isIdentifierChar:we,isIdentifierStart:ve,Token:Ca,isNewLine:Mt,lineBreak:Vt,lineBreakG:It,nonASCIIwhitespace:Tt};function Fa(w,re){return fe.parse(w,re)}function ba(w,re,Qe){return fe.parseExpressionAt(w,re,Qe)}function Oi(w,re){return fe.tokenizer(w,re)}function Do(w,re){w.prototype=Object.create(re.prototype),w.prototype.constructor=w,w.__proto__=re}function Li(w){var re=typeof Map=="function"?new Map:void 0;return Li=function(Se){if(Se===null||!wa(Se))return Se;if(typeof Se!="function")throw new TypeError("Super expression must either be null or a function");if(typeof re!="undefined"){if(re.has(Se))return re.get(Se);re.set(Se,jt)}function jt(){return Na(Se,arguments,pi(this).constructor)}return jt.prototype=Object.create(Se.prototype,{constructor:{value:jt,enumerable:!1,writable:!0,configurable:!0}}),ga(jt,Se)},Li(w)}function Ui(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(w){return!1}}function Na(w,re,Qe){return Ui()?Na=Reflect.construct:Na=function(jt,br,Yr){var fn=[null];fn.push.apply(fn,br);var En=Function.bind.apply(jt,fn),ma=new En;return Yr&&ga(ma,Yr.prototype),ma},Na.apply(null,arguments)}function wa(w){return Function.toString.call(w).indexOf("[native code]")!==-1}function ga(w,re){return ga=Object.setPrototypeOf||function(Se,jt){return Se.__proto__=jt,Se},ga(w,re)}function pi(w){return pi=Object.setPrototypeOf?Object.getPrototypeOf:function(Qe){return Qe.__proto__||Object.getPrototypeOf(Qe)},pi(w)}var _o=function(w){Do(re,w);function re(){return w.apply(this,arguments)||this}return re}(Li(Error)),To=function(w){Do(re,w);function re(){return w.apply(this,arguments)||this}return re}(Li(SyntaxError)),so=function(w){Do(re,w);function re(){return w.apply(this,arguments)||this}return re}(Li(ReferenceError)),vi=function(w){Do(re,w);function re(){return w.apply(this,arguments)||this}return re}(Li(TypeError)),ko=function(w){Do(re,w);function re(){return w.apply(this,arguments)||this}return re}(_o),bo=function(w){Do(re,w);function re(){return w.apply(this,arguments)||this}return re}(To),Ba=function(w){Do(re,w);function re(){return w.apply(this,arguments)||this}return re}(so),Pa={UnknownError:[3001,"%0",ko],ExecutionTimeOutError:[3002,"Script execution timed out after %0ms",ko],NodeTypeSyntaxError:[1001,"Unknown node type: %0",Ba],BinaryOperatorSyntaxError:[1002,"Unknown binary operator: %0",Ba],LogicalOperatorSyntaxError:[1003,"Unknown logical operator: %0",Ba],UnaryOperatorSyntaxError:[1004,"Unknown unary operator: %0",Ba],UpdateOperatorSyntaxError:[1005,"Unknown update operator: %0",Ba],ObjectStructureSyntaxError:[1006,"Unknown object structure: %0",Ba],AssignmentExpressionSyntaxError:[1007,"Unknown assignment expression: %0",Ba],VariableTypeSyntaxError:[1008,"Unknown variable type: %0",Ba],ParamTypeSyntaxError:[1009,"Unknown param type: %0",Ba],AssignmentTypeSyntaxError:[1010,"Unknown assignment type: %0",Ba],FunctionUndefinedReferenceError:[2001,"%0 is not a function",so],VariableUndefinedReferenceError:[2002,"%0 is not defined",so],IsNotConstructor:[2003,"%0 is not a constructor",vi]};function lo(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(w){return!1}}function No(w,re,Qe){return lo()?No=Reflect.construct:No=function(jt,br,Yr){var fn=[null];fn.push.apply(fn,br);var En=Function.bind.apply(jt,fn),ma=new En;return Yr&&La(ma,Yr.prototype),ma},No.apply(null,arguments)}function La(w,re){return La=Object.setPrototypeOf||function(Se,jt){return Se.__proto__=jt,Se},La(w,re)}var mr="0.0.2";function Wt(w,re){Object.defineProperty(w,"name",{value:re,writable:!1,enumerable:!1,configurable:!0})}var vr=Object.prototype.hasOwnProperty,un=Symbol("Break"),va=Symbol("Continue"),qa=Symbol("DefaultCase"),mi=Symbol("EmptyStatementReturn"),ys=Symbol("WithScopeName"),cl=Symbol("SuperScopeName"),gl=Symbol("RootScopeName"),Es=Symbol("GlobalScopeName");function tl(w){return typeof w=="function"}var fu=function(){function w(Qe){this.interpreter=Qe}var re=w.prototype;return re.generator=function(){var Se=this.interpreter;function jt(){return this.getCurrentScope()}function br(){return this.getGlobalScope()}function Yr(){return this.getCurrentContext()}return{getOptions:Se.getOptions.bind(Se),getCurrentScope:jt.bind(Se),getGlobalScope:br.bind(Se),getCurrentContext:Yr.bind(Se),getExecStartTime:Se.getExecStartTime.bind(Se)}},w}();function vc(w,re,Qe){if(Qe===void 0&&(Qe=!0),!(w instanceof fu))throw new Error("Illegal call");if(typeof re!="string")return re;if(!!re){var Se=w.generator(),jt=Se.getOptions(),br={timeout:jt.timeout,_initEnv:function(){Qe||this.setCurrentContext(Se.getCurrentContext()),this.execStartTime=Se.getExecStartTime(),this.execEndTime=this.execStartTime}},Yr=Qe?Se.getGlobalScope():Se.getCurrentScope(),fn=new Bs(Yr,br);return fn.evaluate(re)}}Object.defineProperty(vc,"__IS_EVAL_FUNC",{value:!0,writable:!1,enumerable:!1,configurable:!1});function of(w){if(!(w instanceof fu))throw new Error("Illegal call");for(var re=w.generator(),Qe=arguments.length,Se=new Array(Qe>1?Qe-1:0),jt=1;jt<Qe;jt++)Se[jt-1]=arguments[jt];var br=Se.pop(),Yr=new Bs(re.getGlobalScope(),re.getOptions()),fn=`
		    (function anonymous(`+Se.join(",")+`){
		        `+br+`
		    });
		    `;return Yr.evaluate(fn)}Object.defineProperty(of,"__IS_FUNCTION_FUNC",{value:!0,writable:!1,enumerable:!1,configurable:!1});var ku=function(re){this.value=re},Wl=function(re){this.value=re},ql=function(re){this.value=re},al=function(re,Qe,Se){Qe===void 0&&(Qe=null),this.name=Se,this.parent=Qe,this.data=re,this.labelStack=[]};function du(){}function Bu(w,re){return w===void 0&&(w=null),new al(Object.create(null),w,re)}function Hc(w){return Object.create(w)}var ps={NaN:NaN,Infinity:Infinity,undefined:void 0,Object,Array,String,Boolean,Number,Date,RegExp,Error,URIError,TypeError,RangeError,SyntaxError,ReferenceError,Float32Array,Uint32Array,Math,parseInt,parseFloat,isNaN,isFinite,decodeURI,decodeURIComponent,encodeURI,encodeURIComponent,escape,unescape,eval:vc,Function:of};typeof JSON!="undefined"&&(ps.JSON=JSON),typeof Promise!="undefined"&&(ps.Promise=Promise),typeof Set!="undefined"&&(ps.Set=Set),typeof Map!="undefined"&&(ps.Map=Map),typeof Symbol!="undefined"&&(ps.Symbol=Symbol),typeof Proxy!="undefined"&&(ps.Proxy=Proxy),typeof WeakMap!="undefined"&&(ps.WeakMap=WeakMap),typeof WeakSet!="undefined"&&(ps.WeakSet=WeakSet),typeof Reflect!="undefined"&&(ps.Reflect=Reflect);var Bs=function(){function w(Qe,Se){Qe===void 0&&(Qe=w.global),Se===void 0&&(Se={}),this.sourceList=[],this.collectDeclVars=Object.create(null),this.collectDeclFuncs=Object.create(null),this.isVarDeclMode=!1,this.lastExecNode=null,this.isRunning=!1,this.options={ecmaVersion:Se.ecmaVersion||w.ecmaVersion,timeout:Se.timeout||0,rootContext:Se.rootContext,globalContextInFunction:Se.globalContextInFunction===void 0?w.globalContextInFunction:Se.globalContextInFunction,_initEnv:Se._initEnv},this.context=Qe||Object.create(null),this.callStack=[],this.initEnvironment(this.context)}var re=w.prototype;return re.initEnvironment=function(Se){var jt;if(Se instanceof al)jt=Se;else{var br=null,Yr=this.createSuperScope(Se);this.options.rootContext&&(br=new al(Hc(this.options.rootContext),Yr,gl)),jt=new al(Se,br||Yr,Es)}this.globalScope=jt,this.currentScope=this.globalScope,this.globalContext=jt.data,this.currentContext=jt.data,this.collectDeclVars=Object.create(null),this.collectDeclFuncs=Object.create(null),this.execStartTime=Date.now(),this.execEndTime=this.execStartTime;var fn=this.options._initEnv;fn&&fn.call(this)},re.getExecStartTime=function(){return this.execStartTime},re.getExecutionTime=function(){return this.execEndTime-this.execStartTime},re.setExecTimeout=function(Se){Se===void 0&&(Se=0),this.options.timeout=Se},re.getOptions=function(){return this.options},re.getGlobalScope=function(){return this.globalScope},re.getCurrentScope=function(){return this.currentScope},re.getCurrentContext=function(){return this.currentContext},re.isInterruptThrow=function(Se){return Se instanceof ko||Se instanceof Ba||Se instanceof bo},re.createSuperScope=function(Se){var jt=Object.assign({},ps),br=Object.keys(jt);return br.forEach(function(Yr){Yr in Se&&delete jt[Yr]}),new al(jt,null,cl)},re.setCurrentContext=function(Se){this.currentContext=Se},re.setCurrentScope=function(Se){this.currentScope=Se},re.evaluate=function(Se){Se===void 0&&(Se="");var jt;if(!!Se)return jt=Fa(Se,{ranges:!0,locations:!0,ecmaVersion:this.options.ecmaVersion||w.ecmaVersion}),this.evaluateNode(jt,Se)},re.appendCode=function(Se){return this.evaluate(Se)},re.evaluateNode=function(Se,jt){var br=this;jt===void 0&&(jt=""),this.value=void 0,this.source=jt,this.sourceList.push(jt),this.isRunning=!0,this.execStartTime=Date.now(),this.execEndTime=this.execStartTime,this.collectDeclVars=Object.create(null),this.collectDeclFuncs=Object.create(null);var Yr=this.getCurrentScope(),fn=this.getCurrentContext(),En=Yr.labelStack.concat([]),ma=this.callStack.concat([]),Ia=function(){br.setCurrentScope(Yr),br.setCurrentContext(fn),Yr.labelStack=En,br.callStack=ma};try{var Co=this.createClosure(Se);this.addDeclarationsToScope(this.collectDeclVars,this.collectDeclFuncs,this.getCurrentScope()),Co()}catch($o){throw $o}finally{Ia(),this.execEndTime=Date.now()}return this.isRunning=!1,this.getValue()},re.createErrorMessage=function(Se,jt,br){var Yr=Se[1].replace("%0",String(jt));return br!==null&&(Yr+=this.getNodePosition(br||this.lastExecNode)),Yr},re.createError=function(Se,jt){return new jt(Se)},re.createThrowError=function(Se,jt){return this.createError(Se,jt)},re.createInternalThrowError=function(Se,jt,br){return this.createError(this.createErrorMessage(Se,jt,br),Se[2])},re.checkTimeout=function(){if(!this.isRunning)return!1;var Se=this.options.timeout||0,jt=Date.now();return jt-this.execStartTime>Se},re.getNodePosition=function(Se){if(Se){var jt="";return Se.loc?" ["+Se.loc.start.line+":"+Se.loc.start.column+"]"+jt:""}return""},re.createClosure=function(Se){var jt=this,br;switch(Se.type){case"BinaryExpression":br=this.binaryExpressionHandler(Se);break;case"LogicalExpression":br=this.logicalExpressionHandler(Se);break;case"UnaryExpression":br=this.unaryExpressionHandler(Se);break;case"UpdateExpression":br=this.updateExpressionHandler(Se);break;case"ObjectExpression":br=this.objectExpressionHandler(Se);break;case"ArrayExpression":br=this.arrayExpressionHandler(Se);break;case"CallExpression":br=this.callExpressionHandler(Se);break;case"NewExpression":br=this.newExpressionHandler(Se);break;case"MemberExpression":br=this.memberExpressionHandler(Se);break;case"ThisExpression":br=this.thisExpressionHandler(Se);break;case"SequenceExpression":br=this.sequenceExpressionHandler(Se);break;case"Literal":br=this.literalHandler(Se);break;case"Identifier":br=this.identifierHandler(Se);break;case"AssignmentExpression":br=this.assignmentExpressionHandler(Se);break;case"FunctionDeclaration":br=this.functionDeclarationHandler(Se);break;case"VariableDeclaration":br=this.variableDeclarationHandler(Se);break;case"BlockStatement":case"Program":br=this.programHandler(Se);break;case"ExpressionStatement":br=this.expressionStatementHandler(Se);break;case"EmptyStatement":br=this.emptyStatementHandler(Se);break;case"ReturnStatement":br=this.returnStatementHandler(Se);break;case"FunctionExpression":br=this.functionExpressionHandler(Se);break;case"IfStatement":br=this.ifStatementHandler(Se);break;case"ConditionalExpression":br=this.conditionalExpressionHandler(Se);break;case"ForStatement":br=this.forStatementHandler(Se);break;case"WhileStatement":br=this.whileStatementHandler(Se);break;case"DoWhileStatement":br=this.doWhileStatementHandler(Se);break;case"ForInStatement":br=this.forInStatementHandler(Se);break;case"WithStatement":br=this.withStatementHandler(Se);break;case"ThrowStatement":br=this.throwStatementHandler(Se);break;case"TryStatement":br=this.tryStatementHandler(Se);break;case"ContinueStatement":br=this.continueStatementHandler(Se);break;case"BreakStatement":br=this.breakStatementHandler(Se);break;case"SwitchStatement":br=this.switchStatementHandler(Se);break;case"LabeledStatement":br=this.labeledStatementHandler(Se);break;case"DebuggerStatement":br=this.debuggerStatementHandler(Se);break;default:throw this.createInternalThrowError(Pa.NodeTypeSyntaxError,Se.type,Se)}return function(){var Yr=jt.options.timeout;if(Yr&&Yr>0&&jt.checkTimeout())throw jt.createInternalThrowError(Pa.ExecutionTimeOutError,Yr,null);return jt.lastExecNode=Se,br.apply(void 0,arguments)}},re.binaryExpressionHandler=function(Se){var jt=this,br=this.createClosure(Se.left),Yr=this.createClosure(Se.right);return function(){var fn=br(),En=Yr();switch(Se.operator){case"==":return fn==En;case"!=":return fn!=En;case"===":return fn===En;case"!==":return fn!==En;case"<":return fn<En;case"<=":return fn<=En;case">":return fn>En;case">=":return fn>=En;case"<<":return fn<<En;case">>":return fn>>En;case">>>":return fn>>>En;case"+":return fn+En;case"-":return fn-En;case"*":return fn*En;case"**":return Math.pow(fn,En);case"/":return fn/En;case"%":return fn%En;case"|":return fn|En;case"^":return fn^En;case"&":return fn&En;case"in":return fn in En;case"instanceof":return fn instanceof En;default:throw jt.createInternalThrowError(Pa.BinaryOperatorSyntaxError,Se.operator,Se)}}},re.logicalExpressionHandler=function(Se){var jt=this,br=this.createClosure(Se.left),Yr=this.createClosure(Se.right);return function(){switch(Se.operator){case"||":return br()||Yr();case"&&":return br()&&Yr();default:throw jt.createInternalThrowError(Pa.LogicalOperatorSyntaxError,Se.operator,Se)}}},re.unaryExpressionHandler=function(Se){var jt=this;switch(Se.operator){case"delete":var br=this.createObjectGetter(Se.argument),Yr=this.createNameGetter(Se.argument);return function(){var Ia=br(),Co=Yr();return delete Ia[Co]};default:var fn;if(Se.operator==="typeof"&&Se.argument.type==="Identifier"){var En=this.createObjectGetter(Se.argument),ma=this.createNameGetter(Se.argument);fn=function(){return En()[ma()]}}else fn=this.createClosure(Se.argument);return function(){var Ia=fn();switch(Se.operator){case"-":return-Ia;case"+":return+Ia;case"!":return!Ia;case"~":return~Ia;case"void":return;case"typeof":return typeof Ia;default:throw jt.createInternalThrowError(Pa.UnaryOperatorSyntaxError,Se.operator,Se)}}}},re.updateExpressionHandler=function(Se){var jt=this,br=this.createObjectGetter(Se.argument),Yr=this.createNameGetter(Se.argument);return function(){var fn=br(),En=Yr();switch(jt.assertVariable(fn,En,Se),Se.operator){case"++":return Se.prefix?++fn[En]:fn[En]++;case"--":return Se.prefix?--fn[En]:fn[En]--;default:throw jt.createInternalThrowError(Pa.UpdateOperatorSyntaxError,Se.operator,Se)}}},re.objectExpressionHandler=function(Se){var jt=this,br=[];function Yr(En){return En.type==="Identifier"?En.name:En.type==="Literal"?En.value:this.throwError(Pa.ObjectStructureSyntaxError,En.type,En)}var fn=Object.create(null);return Se.properties.forEach(function(En){var ma=En.kind,Ia=Yr(En.key);(!fn[Ia]||ma==="init")&&(fn[Ia]={}),fn[Ia][ma]=jt.createClosure(En.value),br.push({key:Ia,property:En})}),function(){for(var En={},ma=br.length,Ia=0;Ia<ma;Ia++){var Co=br[Ia],$o=Co.key,Zo=fn[$o],Hs=Zo.init?Zo.init():void 0,ms=Zo.get?Zo.get():function(){},Ws=Zo.set?Zo.set():function(Ef){};if("set"in Zo||"get"in Zo){var zu={configurable:!0,enumerable:!0,get:ms,set:Ws};Object.defineProperty(En,$o,zu)}else{var Pc=Co.property,Ys=Pc.kind;Pc.key.type==="Identifier"&&Pc.value.type==="FunctionExpression"&&Ys==="init"&&!Pc.value.id&&Wt(Hs,Pc.key.name),En[$o]=Hs}}return En}},re.arrayExpressionHandler=function(Se){var jt=this,br=Se.elements.map(function(Yr){return Yr&&jt.createClosure(Yr)});return function(){for(var Yr=br.length,fn=Array(Yr),En=0;En<Yr;En++){var ma=br[En];ma&&(fn[En]=ma())}return fn}},re.safeObjectGet=function(Se,jt,br){return Se[jt]},re.createCallFunctionGetter=function(Se){var jt=this;switch(Se.type){case"MemberExpression":var br=this.createClosure(Se.object),Yr=this.createMemberKeyGetter(Se),fn=this.source;return function(){var ma=br(),Ia=Yr(),Co=jt.safeObjectGet(ma,Ia,Se);if(!Co||!tl(Co)){var $o=fn.slice(Se.start,Se.end);throw jt.createInternalThrowError(Pa.FunctionUndefinedReferenceError,$o,Se)}return Co.__IS_EVAL_FUNC?function(Zo){return Co(new fu(jt),Zo,!0)}:Co.__IS_FUNCTION_FUNC?function(){for(var Zo=arguments.length,Hs=new Array(Zo),ms=0;ms<Zo;ms++)Hs[ms]=arguments[ms];return Co.apply(void 0,[new fu(jt)].concat(Hs))}:Co.bind(ma)};default:var En=this.createClosure(Se);return function(){var ma="";Se.type==="Identifier"&&(ma=Se.name);var Ia=En();if(!Ia||!tl(Ia))throw jt.createInternalThrowError(Pa.FunctionUndefinedReferenceError,ma,Se);if(Se.type==="Identifier"&&Ia.__IS_EVAL_FUNC&&ma==="eval")return function(Zo){var Hs=jt.getScopeFromName(ma,jt.getCurrentScope()),ms=Hs.name===cl||Hs.name===Es||Hs.name===gl;return Ia(new fu(jt),Zo,!ms)};if(Ia.__IS_EVAL_FUNC)return function(Zo){return Ia(new fu(jt),Zo,!0)};if(Ia.__IS_FUNCTION_FUNC)return function(){for(var Zo=arguments.length,Hs=new Array(Zo),ms=0;ms<Zo;ms++)Hs[ms]=arguments[ms];return Ia.apply(void 0,[new fu(jt)].concat(Hs))};var Co=jt.options.globalContextInFunction;if(Se.type==="Identifier"){var $o=jt.getIdentifierScope(Se);$o.name===ys&&(Co=$o.data)}return Ia.bind(Co)}}},re.callExpressionHandler=function(Se){var jt=this,br=this.createCallFunctionGetter(Se.callee),Yr=Se.arguments.map(function(fn){return jt.createClosure(fn)});return function(){return br().apply(void 0,Yr.map(function(fn){return fn()}))}},re.functionExpressionHandler=function(Se){var jt=this,br=this,Yr=this.source,fn=this.collectDeclVars,En=this.collectDeclFuncs;this.collectDeclVars=Object.create(null),this.collectDeclFuncs=Object.create(null);var ma=Se.id?Se.id.name:"",Ia=Se.params.length,Co=Se.params.map(function(ms){return jt.createParamNameGetter(ms)}),$o=this.createClosure(Se.body),Zo=this.collectDeclVars,Hs=this.collectDeclFuncs;return this.collectDeclVars=fn,this.collectDeclFuncs=En,function(){var ms=br.getCurrentScope(),Ws=function zu(){for(var Pc=arguments.length,Ys=new Array(Pc),Ef=0;Ef<Pc;Ef++)Ys[Ef]=arguments[Ef];br.callStack.push(""+ma);var hd=br.getCurrentScope(),Bf=Bu(ms,"FunctionScope("+ma+")");br.setCurrentScope(Bf),br.addDeclarationsToScope(Zo,Hs,Bf),ma&&(Bf.data[ma]=zu),Bf.data.arguments=arguments,Co.forEach(function(wh,_d){Bf.data[wh()]=Ys[_d]});var Ms=br.getCurrentContext();br.setCurrentContext(this);var zf=$o();if(br.setCurrentContext(Ms),br.setCurrentScope(hd),br.callStack.pop(),zf instanceof ku)return zf.value};return Wt(Ws,ma),Object.defineProperty(Ws,"length",{value:Ia,writable:!1,enumerable:!1,configurable:!0}),Object.defineProperty(Ws,"toString",{value:function(){return Yr.slice(Se.start,Se.end)},writable:!0,configurable:!0,enumerable:!1}),Object.defineProperty(Ws,"valueOf",{value:function(){return Yr.slice(Se.start,Se.end)},writable:!0,configurable:!0,enumerable:!1}),Ws}},re.newExpressionHandler=function(Se){var jt=this,br=this.source,Yr=this.createClosure(Se.callee),fn=Se.arguments.map(function(En){return jt.createClosure(En)});return function(){var En=Yr();if(!tl(En)||En.__IS_EVAL_FUNC){var ma=Se.callee,Ia=br.slice(ma.start,ma.end);throw jt.createInternalThrowError(Pa.IsNotConstructor,Ia,Se)}return En.__IS_FUNCTION_FUNC?En.apply(void 0,[new fu(jt)].concat(fn.map(function(Co){return Co()}))):No(En,fn.map(function(Co){return Co()}))}},re.memberExpressionHandler=function(Se){var jt=this.createClosure(Se.object),br=this.createMemberKeyGetter(Se);return function(){var Yr=jt(),fn=br();return Yr[fn]}},re.thisExpressionHandler=function(Se){var jt=this;return function(){return jt.getCurrentContext()}},re.sequenceExpressionHandler=function(Se){var jt=this,br=Se.expressions.map(function(Yr){return jt.createClosure(Yr)});return function(){for(var Yr,fn=br.length,En=0;En<fn;En++){var ma=br[En];Yr=ma()}return Yr}},re.literalHandler=function(Se){return function(){return Se.regex?new RegExp(Se.regex.pattern,Se.regex.flags):Se.value}},re.identifierHandler=function(Se){var jt=this;return function(){var br=jt.getCurrentScope(),Yr=jt.getScopeDataFromName(Se.name,br);return jt.assertVariable(Yr,Se.name,Se),Yr[Se.name]}},re.getIdentifierScope=function(Se){var jt=this.getCurrentScope(),br=this.getScopeFromName(Se.name,jt);return br},re.assignmentExpressionHandler=function(Se){var jt=this;Se.left.type==="Identifier"&&Se.right.type==="FunctionExpression"&&!Se.right.id&&(Se.right.id={type:"Identifier",name:Se.left.name});var br=this.createObjectGetter(Se.left),Yr=this.createNameGetter(Se.left),fn=this.createClosure(Se.right);return function(){var En=br(),ma=Yr(),Ia=fn();switch(Se.operator!=="="&&jt.assertVariable(En,ma,Se),Se.operator){case"=":return En[ma]=Ia;case"+=":return En[ma]+=Ia;case"-=":return En[ma]-=Ia;case"*=":return En[ma]*=Ia;case"**=":return En[ma]=Math.pow(En[ma],Ia);case"/=":return En[ma]/=Ia;case"%=":return En[ma]%=Ia;case"<<=":return En[ma]<<=Ia;case">>=":return En[ma]>>=Ia;case">>>=":return En[ma]>>>=Ia;case"&=":return En[ma]&=Ia;case"^=":return En[ma]^=Ia;case"|=":return En[ma]|=Ia;default:throw jt.createInternalThrowError(Pa.AssignmentExpressionSyntaxError,Se.type,Se)}}},re.functionDeclarationHandler=function(Se){if(Se.id){var jt=this.functionExpressionHandler(Se);Object.defineProperty(jt,"isFunctionDeclareClosure",{value:!0,writable:!1,configurable:!1,enumerable:!1}),this.funcDeclaration(Se.id.name,jt)}return function(){return mi}},re.getVariableName=function(Se){if(Se.type==="Identifier")return Se.name;throw this.createInternalThrowError(Pa.VariableTypeSyntaxError,Se.type,Se)},re.variableDeclarationHandler=function(Se){for(var jt=this,br,Yr=[],fn=0;fn<Se.declarations.length;fn++){var En=Se.declarations[fn];this.varDeclaration(this.getVariableName(En.id)),En.init&&Yr.push({type:"AssignmentExpression",operator:"=",left:En.id,right:En.init})}return Yr.length&&(br=this.createClosure({type:"BlockStatement",body:Yr})),function(){if(br){var ma=jt.isVarDeclMode;jt.isVarDeclMode=!0,br(),jt.isVarDeclMode=ma}return mi}},re.assertVariable=function(Se,jt,br){if(Se===this.globalScope.data&&!(jt in Se))throw this.createInternalThrowError(Pa.VariableUndefinedReferenceError,jt,br)},re.programHandler=function(Se){var jt=this,br=Se.body.map(function(Yr){return jt.createClosure(Yr)});return function(){for(var Yr=mi,fn=0;fn<br.length;fn++){var En=br[fn],ma=jt.setValue(En());if(ma!==mi&&(Yr=ma,Yr instanceof ku||Yr instanceof Wl||Yr instanceof ql||Yr===un||Yr===va))break}return Yr}},re.expressionStatementHandler=function(Se){return this.createClosure(Se.expression)},re.emptyStatementHandler=function(Se){return function(){return mi}},re.returnStatementHandler=function(Se){var jt=Se.argument?this.createClosure(Se.argument):du;return function(){return new ku(jt())}},re.ifStatementHandler=function(Se){var jt=this.createClosure(Se.test),br=this.createClosure(Se.consequent),Yr=Se.alternate?this.createClosure(Se.alternate):function(){return mi};return function(){return jt()?br():Yr()}},re.conditionalExpressionHandler=function(Se){return this.ifStatementHandler(Se)},re.forStatementHandler=function(Se){var jt=this,br=du,Yr=Se.test?this.createClosure(Se.test):function(){return!0},fn=du,En=this.createClosure(Se.body);return Se.type==="ForStatement"&&(br=Se.init?this.createClosure(Se.init):br,fn=Se.update?this.createClosure(Se.update):du),function(ma){var Ia,Co=mi,$o=Se.type==="DoWhileStatement";for(ma&&ma.type==="LabeledStatement"&&(Ia=ma.label.name),br();$o||Yr();fn()){$o=!1;var Zo=jt.setValue(En());if(!(Zo===mi||Zo===va)){if(Zo===un)break;if(Co=Zo,Co instanceof ql&&Co.value===Ia){Co=mi;continue}if(Co instanceof ku||Co instanceof Wl||Co instanceof ql)break}}return Co}},re.whileStatementHandler=function(Se){return this.forStatementHandler(Se)},re.doWhileStatementHandler=function(Se){return this.forStatementHandler(Se)},re.forInStatementHandler=function(Se){var jt=this,br=Se.left,Yr=this.createClosure(Se.right),fn=this.createClosure(Se.body);return Se.left.type==="VariableDeclaration"&&(this.createClosure(Se.left)(),br=Se.left.declarations[0].id),function(En){var ma,Ia=mi,Co;En&&En.type==="LabeledStatement"&&(ma=En.label.name);var $o=Yr();for(Co in $o){jt.assignmentExpressionHandler({type:"AssignmentExpression",operator:"=",left:br,right:{type:"Literal",value:Co}})();var Zo=jt.setValue(fn());if(!(Zo===mi||Zo===va)){if(Zo===un)break;if(Ia=Zo,Ia instanceof ql&&Ia.value===ma){Ia=mi;continue}if(Ia instanceof ku||Ia instanceof Wl||Ia instanceof ql)break}}return Ia}},re.withStatementHandler=function(Se){var jt=this,br=this.createClosure(Se.object),Yr=this.createClosure(Se.body);return function(){var fn=br(),En=jt.getCurrentScope(),ma=new al(fn,En,ys);jt.setCurrentScope(ma);var Ia=jt.setValue(Yr());return jt.setCurrentScope(En),Ia}},re.throwStatementHandler=function(Se){var jt=this,br=this.createClosure(Se.argument);return function(){throw jt.setValue(void 0),br()}},re.tryStatementHandler=function(Se){var jt=this,br=this.createClosure(Se.block),Yr=Se.handler?this.catchClauseHandler(Se.handler):null,fn=Se.finalizer?this.createClosure(Se.finalizer):null;return function(){var En=jt.getCurrentScope(),ma=jt.getCurrentContext(),Ia=En.labelStack.concat([]),Co=jt.callStack.concat([]),$o=mi,Zo,Hs,ms=function(){jt.setCurrentScope(En),jt.setCurrentContext(ma),En.labelStack=Ia,jt.callStack=Co};try{$o=jt.setValue(br()),$o instanceof ku&&(Zo=$o)}catch(Ws){if(ms(),jt.isInterruptThrow(Ws))throw Ws;if(Yr)try{$o=jt.setValue(Yr(Ws)),$o instanceof ku&&(Zo=$o)}catch(zu){if(ms(),jt.isInterruptThrow(zu))throw zu;Hs=zu}}if(fn)try{$o=fn(),$o instanceof ku&&(Zo=$o)}catch(Ws){if(ms(),jt.isInterruptThrow(Ws))throw Ws;Hs=Ws}if(Hs)throw Hs;return Zo||$o}},re.catchClauseHandler=function(Se){var jt=this,br=this.createParamNameGetter(Se.param),Yr=this.createClosure(Se.body);return function(fn){var En,ma=jt.getCurrentScope(),Ia=ma.data,Co=br(),$o=vr.call(Ia,Co),Zo=Ia[Co];return Ia[Co]=fn,En=Yr(),$o?Ia[Co]=Zo:delete Ia[Co],En}},re.continueStatementHandler=function(Se){return function(){return Se.label?new ql(Se.label.name):va}},re.breakStatementHandler=function(Se){return function(){return Se.label?new Wl(Se.label.name):un}},re.switchStatementHandler=function(Se){var jt=this,br=this.createClosure(Se.discriminant),Yr=Se.cases.map(function(fn){return jt.switchCaseHandler(fn)});return function(){for(var fn=br(),En=!1,ma,Ia,Co,$o=0;$o<Yr.length;$o++){var Zo=Yr[$o](),Hs=Zo.testClosure();if(Hs===qa){Co=Zo;continue}if(En||Hs===fn){if(En=!0,Ia=jt.setValue(Zo.bodyClosure()),Ia===mi)continue;if(Ia===un||(ma=Ia,ma instanceof ku||ma instanceof Wl||ma instanceof ql||ma===va))break}}if(!En&&Co){Ia=jt.setValue(Co.bodyClosure());var ms=Ia===mi||Ia===un||Ia===va;ms||(ma=Ia)}return ma}},re.switchCaseHandler=function(Se){var jt=Se.test?this.createClosure(Se.test):function(){return qa},br=this.createClosure({type:"BlockStatement",body:Se.consequent});return function(){return{testClosure:jt,bodyClosure:br}}},re.labeledStatementHandler=function(Se){var jt=this,br=Se.label.name,Yr=this.createClosure(Se.body);return function(){var fn,En=jt.getCurrentScope();return En.labelStack.push(br),fn=Yr(Se),fn instanceof Wl&&fn.value===br&&(fn=mi),En.labelStack.pop(),fn}},re.debuggerStatementHandler=function(Se){return function(){debugger;return mi}},re.createParamNameGetter=function(Se){if(Se.type==="Identifier")return function(){return Se.name};throw this.createInternalThrowError(Pa.ParamTypeSyntaxError,Se.type,Se)},re.createObjectKeyGetter=function(Se){var jt;return Se.type==="Identifier"?jt=function(){return Se.name}:jt=this.createClosure(Se),function(){return jt()}},re.createMemberKeyGetter=function(Se){return Se.computed?this.createClosure(Se.property):this.createObjectKeyGetter(Se.property)},re.createObjectGetter=function(Se){var jt=this;switch(Se.type){case"Identifier":return function(){return jt.getScopeDataFromName(Se.name,jt.getCurrentScope())};case"MemberExpression":return this.createClosure(Se.object);default:throw this.createInternalThrowError(Pa.AssignmentTypeSyntaxError,Se.type,Se)}},re.createNameGetter=function(Se){switch(Se.type){case"Identifier":return function(){return Se.name};case"MemberExpression":return this.createMemberKeyGetter(Se);default:throw this.createInternalThrowError(Pa.AssignmentTypeSyntaxError,Se.type,Se)}},re.varDeclaration=function(Se){var jt=this.collectDeclVars;jt[Se]=void 0},re.funcDeclaration=function(Se,jt){var br=this.collectDeclFuncs;br[Se]=jt},re.addDeclarationsToScope=function(Se,jt,br){var Yr=br.data;for(var fn in jt){var En=jt[fn];Yr[fn]=En&&En()}for(var ma in Se)ma in Yr||(Yr[ma]=void 0)},re.getScopeValue=function(Se,jt){var br=this.getScopeFromName(Se,jt);return br.data[Se]},re.getScopeDataFromName=function(Se,jt){return this.getScopeFromName(Se,jt).data},re.getScopeFromName=function(Se,jt){var br=jt;do if(Se in br.data)return br;while(br=br.parent);return this.globalScope},re.setValue=function(Se){var jt=this.callStack.length;return this.isVarDeclMode||jt||Se===mi||Se===un||Se===va||Se instanceof Wl||Se instanceof ql||(this.value=Se instanceof ku?Se.value:Se),Se},re.getValue=function(){return this.value},w}();Bs.version=mr,Bs.eval=vc,Bs.Function=of,Bs.ecmaVersion=5,Bs.globalContextInFunction=void 0,Bs.global=Object.create(null);function tu(w){return w===void 0&&(w=Object.create(null)),w}function il(w,re,Qe){re===void 0&&(re=[]),Qe===void 0&&(Qe={});var Se=Qe.parsingContext,jt=Qe.timeout===void 0?0:Qe.timeout,br=`
    (function anonymous(`+re.join(",")+`){
         `+w+`
    });
    `,Yr=new Bs(Se,{ecmaVersion:Qe.ecmaVersion,timeout:jt,rootContext:Qe.rootContext,globalContextInFunction:Qe.globalContextInFunction});return Yr.evaluate(br)}function fl(w,re,Qe){var Se=new Bs(re,Qe);return Se.evaluate(w)}var Yh=fl,Fr=function(){function w(Qe){this._code=Qe}var re=w.prototype;return re.runInContext=function(Se){return fl(this._code,Se)},re.runInNewContext=function(Se){return fl(this._code,Se)},w}(),Sn=function(w,re,Qe){return fl(w,re,Qe)},Jn=function(){for(var w=arguments.length,re=new Array(w),Qe=0;Qe<w;Qe++)re[Qe]=arguments[Qe];var Se=re.pop();return il(Se||"",re)},xo=A.default=Sn},t2Dn:function(ze,A,r){var M=r("hypo"),y=r("ljhN");function T(b,u,H){(H!==void 0&&!y(b[u],H)||H===void 0&&!(u in b))&&M(b,u,H)}ze.exports=T},tkDr:function(ze,A,r){},u6S6:function(ze,A,r){var M=r("6acW"),y=r("sgoq"),T=y(function(b,u,H){return u=u.toLowerCase(),b+(H?M(u):u)});ze.exports=T},"uX+g":function(ze,A,r){"use strict";r.d(A,"a",function(){return M});function M(y){if(typeof y=="function"){for(var T=arguments.length,b=new Array(T>1?T-1:0),u=1;u<T;u++)b[u-1]=arguments[u];return y.apply(void 0,b)}return y}},uhBA:function(ze,A,r){"use strict";var M=Object.prototype.hasOwnProperty,y="~";function T(){}Object.create&&(T.prototype=Object.create(null),new T().__proto__||(y=!1));function b(Z,oe,ne){this.fn=Z,this.context=oe,this.once=ne||!1}function u(Z,oe,ne,Te,at){if(typeof ne!="function")throw new TypeError("The listener must be a function");var ve=new b(ne,Te||Z,at),we=y?y+oe:oe;return Z._events[we]?Z._events[we].fn?Z._events[we]=[Z._events[we],ve]:Z._events[we].push(ve):(Z._events[we]=ve,Z._eventsCount++),Z}function H(Z,oe){--Z._eventsCount==0?Z._events=new T:delete Z._events[oe]}function k(){this._events=new T,this._eventsCount=0}k.prototype.eventNames=function(){var oe=[],ne,Te;if(this._eventsCount===0)return oe;for(Te in ne=this._events)M.call(ne,Te)&&oe.push(y?Te.slice(1):Te);return Object.getOwnPropertySymbols?oe.concat(Object.getOwnPropertySymbols(ne)):oe},k.prototype.listeners=function(oe){var ne=y?y+oe:oe,Te=this._events[ne];if(!Te)return[];if(Te.fn)return[Te.fn];for(var at=0,ve=Te.length,we=new Array(ve);at<ve;at++)we[at]=Te[at].fn;return we},k.prototype.listenerCount=function(oe){var ne=y?y+oe:oe,Te=this._events[ne];return Te?Te.fn?1:Te.length:0},k.prototype.emit=function(oe,ne,Te,at,ve,we){var I=y?y+oe:oe;if(!this._events[I])return!1;var Ce=this._events[I],et=arguments.length,Et,We;if(Ce.fn){switch(Ce.once&&this.removeListener(oe,Ce.fn,void 0,!0),et){case 1:return Ce.fn.call(Ce.context),!0;case 2:return Ce.fn.call(Ce.context,ne),!0;case 3:return Ce.fn.call(Ce.context,ne,Te),!0;case 4:return Ce.fn.call(Ce.context,ne,Te,at),!0;case 5:return Ce.fn.call(Ce.context,ne,Te,at,ve),!0;case 6:return Ce.fn.call(Ce.context,ne,Te,at,ve,we),!0}for(We=1,Et=new Array(et-1);We<et;We++)Et[We-1]=arguments[We];Ce.fn.apply(Ce.context,Et)}else{var ct=Ce.length,ce;for(We=0;We<ct;We++)switch(Ce[We].once&&this.removeListener(oe,Ce[We].fn,void 0,!0),et){case 1:Ce[We].fn.call(Ce[We].context);break;case 2:Ce[We].fn.call(Ce[We].context,ne);break;case 3:Ce[We].fn.call(Ce[We].context,ne,Te);break;case 4:Ce[We].fn.call(Ce[We].context,ne,Te,at);break;default:if(!Et)for(ce=1,Et=new Array(et-1);ce<et;ce++)Et[ce-1]=arguments[ce];Ce[We].fn.apply(Ce[We].context,Et)}}return!0},k.prototype.on=function(oe,ne,Te){return u(this,oe,ne,Te,!1)},k.prototype.once=function(oe,ne,Te){return u(this,oe,ne,Te,!0)},k.prototype.removeListener=function(oe,ne,Te,at){var ve=y?y+oe:oe;if(!this._events[ve])return this;if(!ne)return H(this,ve),this;var we=this._events[ve];if(we.fn)we.fn===ne&&(!at||we.once)&&(!Te||we.context===Te)&&H(this,ve);else{for(var I=0,Ce=[],et=we.length;I<et;I++)(we[I].fn!==ne||at&&!we[I].once||Te&&we[I].context!==Te)&&Ce.push(we[I]);Ce.length?this._events[ve]=Ce.length===1?Ce[0]:Ce:H(this,ve)}return this},k.prototype.removeAllListeners=function(oe){var ne;return oe?(ne=y?y+oe:oe,this._events[ne]&&H(this,ne)):(this._events=new T,this._eventsCount=0),this},k.prototype.off=k.prototype.removeListener,k.prototype.addListener=k.prototype.on,k.prefixed=y,k.EventEmitter=k,ze.exports=k},ujMp:function(ze,A,r){"use strict";Object.defineProperty(A,"__esModule",{value:!0}),A.circularDependencyToException=A.listMetadataForTarget=A.listRegisteredBindingsForServiceIdentifier=A.getServiceIdentifierAsString=A.getFunctionName=void 0;var M=r("MON2");function y(oe){if(typeof oe=="function"){var ne=oe;return ne.name}else{if(typeof oe=="symbol")return oe.toString();var ne=oe;return ne}}A.getServiceIdentifierAsString=y;function T(oe,ne,Te){var at="",ve=Te(oe,ne);return ve.length!==0&&(at=`
Registered bindings:`,ve.forEach(function(we){var I="Object";we.implementationType!==null&&(I=Z(we.implementationType)),at=at+`
 `+I,we.constraint.metaData&&(at=at+" - "+we.constraint.metaData)})),at}A.listRegisteredBindingsForServiceIdentifier=T;function b(oe,ne){return oe.parentRequest===null?!1:oe.parentRequest.serviceIdentifier===ne?!0:b(oe.parentRequest,ne)}function u(oe){function ne(at,ve){ve===void 0&&(ve=[]);var we=y(at.serviceIdentifier);return ve.push(we),at.parentRequest!==null?ne(at.parentRequest,ve):ve}var Te=ne(oe);return Te.reverse().join(" --> ")}function H(oe){oe.childRequests.forEach(function(ne){if(b(ne,ne.serviceIdentifier)){var Te=u(ne);throw new Error(M.CIRCULAR_DEPENDENCY+" "+Te)}else H(ne)})}A.circularDependencyToException=H;function k(oe,ne){if(ne.isTagged()||ne.isNamed()){var Te="",at=ne.getNamedTag(),ve=ne.getCustomTags();return at!==null&&(Te+=at.toString()+`
`),ve!==null&&ve.forEach(function(we){Te+=we.toString()+`
`})," "+oe+`
 `+oe+" - "+Te}else return" "+oe}A.listMetadataForTarget=k;function Z(oe){if(oe.name)return oe.name;var ne=oe.toString(),Te=ne.match(/^function\s*([^\s(]+)/);return Te?Te[1]:"Anonymous function: "+ne}A.getFunctionName=Z},"ut/Y":function(ze,A,r){var M=r("ZCpW"),y=r("GDhZ"),T=r("zZ0H"),b=r("Z0cm"),u=r("+c4W");function H(k){return typeof k=="function"?k:k==null?T:typeof k=="object"?b(k)?y(k[0],k[1]):M(k):u(k)}ze.exports=H},"vN+2":function(ze,A){function r(){}ze.exports=r},"w/wX":function(ze,A,r){var M=r("QqLw"),y=r("ExA7"),T="[object Set]";function b(u){return y(u)&&M(u)==T}ze.exports=b},wFNa:function(ze,A,r){},wUu8:function(ze,A,r){"use strict";var M=r("q1tI"),y=r.n(M),T=y.a.createContext({});A.a=T},wclG:function(ze,A,r){var M=r("pFRH"),y=r("88Gu"),T=y(M);ze.exports=T},wnjb:function(ze,A,r){"use strict";Object.defineProperty(A,"__esModule",{value:!0}),A.MetadataReader=void 0;var M=r("xfSm"),y=function(){function T(){}return T.prototype.getConstructorMetadata=function(b){var u=Reflect.getMetadata(M.PARAM_TYPES,b),H=Reflect.getMetadata(M.TAGGED,b);return{compilerGeneratedMetadata:u,userGeneratedMetadata:H||{}}},T.prototype.getPropertiesMetadata=function(b){var u=Reflect.getMetadata(M.TAGGED_PROP,b)||[];return u},T}();A.MetadataReader=y},wrZu:function(ze,A,r){var M=r("+K+b"),y=r("XYm9"),T=r("b2z7"),b=r("otv/"),u=r("yP5f"),H="[object Boolean]",k="[object Date]",Z="[object Map]",oe="[object Number]",ne="[object RegExp]",Te="[object Set]",at="[object String]",ve="[object Symbol]",we="[object ArrayBuffer]",I="[object DataView]",Ce="[object Float32Array]",et="[object Float64Array]",Et="[object Int8Array]",We="[object Int16Array]",ct="[object Int32Array]",ce="[object Uint8Array]",Vt="[object Uint8ClampedArray]",It="[object Uint16Array]",Mt="[object Uint32Array]";function Tt(ye,lt,yt){var Dt=ye.constructor;switch(lt){case we:return M(ye);case H:case k:return new Dt(+ye);case I:return y(ye,yt);case Ce:case et:case Et:case We:case ct:case ce:case Vt:case It:case Mt:return u(ye,yt);case Z:return new Dt;case oe:case at:return new Dt(ye);case ne:return T(ye);case Te:return new Dt;case ve:return b(ye)}}ze.exports=Tt},wy8a:function(ze,A,r){var M=r("KxBF");function y(T,b,u){var H=T.length;return u=u===void 0?H:u,!b&&u>=H?T:M(T,b,u)}ze.exports=y},x1Ii:function(ze,A,r){"use strict";r.d(A,"a",function(){return vt});var M=r("y8nQ"),y=r("Vl3Y"),T=r("GNNt"),b=r("wEI+"),u=r("+L6B"),H=r("2/Rp"),k=r("5Dmo"),Z=r("3S7+"),oe=r("q1tI"),ne=r.n(oe),Te=r("BGR+"),at=r("Zm9Q"),ve=r("lfch"),we=r("VTBJ"),I={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M360 184h-8c4.4 0 8-3.6 8-8v8h304v-8c0 4.4 3.6 8 8 8h-8v72h72v-80c0-35.3-28.7-64-64-64H352c-35.3 0-64 28.7-64 64v80h72v-72zm504 72H160c-17.7 0-32 14.3-32 32v32c0 4.4 3.6 8 8 8h60.4l24.7 523c1.6 34.1 29.8 61 63.9 61h454c34.2 0 62.3-26.8 63.9-61l24.7-523H888c4.4 0 8-3.6 8-8v-32c0-17.7-14.3-32-32-32zM731.3 840H292.7l-24.2-512h487l-24.2 512z"}}]},name:"delete",theme:"outlined"},Ce=I,et=r("6VBw"),Et=function(Re,bt){return oe.createElement(et.a,Object(we.a)(Object(we.a)({},Re),{},{ref:bt,icon:Ce}))};Et.displayName="DeleteOutlined";var We=oe.forwardRef(Et),ct=r("xvlK"),ce=r("hprd"),Vt=r("ub+h"),It=r("uX+g"),Mt=["creatorButtonProps","deleteIconProps","copyIconProps","itemContainerRender","itemRender","prefixCls","creatorRecord","action","children","actionRender","fields","meta","field","index","formInstance"],Tt=["actionRender","creatorButtonProps","label","tooltip","creatorRecord","itemRender","rules","itemContainerRender","copyIconProps","children","deleteIconProps","actionRef"];function ye(){return ye=Object.assign||function(Ve){for(var Re=1;Re<arguments.length;Re++){var bt=arguments[Re];for(var Pt in bt)Object.prototype.hasOwnProperty.call(bt,Pt)&&(Ve[Pt]=bt[Pt])}return Ve},ye.apply(this,arguments)}function lt(Ve,Re){var bt=Object.keys(Ve);if(Object.getOwnPropertySymbols){var Pt=Object.getOwnPropertySymbols(Ve);Re&&(Pt=Pt.filter(function(ht){return Object.getOwnPropertyDescriptor(Ve,ht).enumerable})),bt.push.apply(bt,Pt)}return bt}function yt(Ve){for(var Re=1;Re<arguments.length;Re++){var bt=arguments[Re]!=null?arguments[Re]:{};Re%2?lt(Object(bt),!0).forEach(function(Pt){Dt(Ve,Pt,bt[Pt])}):Object.getOwnPropertyDescriptors?Object.defineProperties(Ve,Object.getOwnPropertyDescriptors(bt)):lt(Object(bt)).forEach(function(Pt){Object.defineProperty(Ve,Pt,Object.getOwnPropertyDescriptor(bt,Pt))})}return Ve}function Dt(Ve,Re,bt){return Re in Ve?Object.defineProperty(Ve,Re,{value:bt,enumerable:!0,configurable:!0,writable:!0}):Ve[Re]=bt,Ve}function Jt(Ve,Re){if(Ve==null)return{};var bt=At(Ve,Re),Pt,ht;if(Object.getOwnPropertySymbols){var Ye=Object.getOwnPropertySymbols(Ve);for(ht=0;ht<Ye.length;ht++)Pt=Ye[ht],!(Re.indexOf(Pt)>=0)&&(!Object.prototype.propertyIsEnumerable.call(Ve,Pt)||(bt[Pt]=Ve[Pt]))}return bt}function At(Ve,Re){if(Ve==null)return{};var bt={},Pt=Object.keys(Ve),ht,Ye;for(Ye=0;Ye<Pt.length;Ye++)ht=Pt[Ye],!(Re.indexOf(ht)>=0)&&(bt[ht]=Ve[ht]);return bt}var vt=ne.a.createContext({}),ie=function(Re){return Array.isArray(Re)?Re:typeof Re=="function"?[Re]:Object(at.a)(Re)},J=function(Re){var bt,Pt=Re.creatorButtonProps,ht=Re.deleteIconProps,Ye=Re.copyIconProps,Ke=Re.itemContainerRender,nt=Re.itemRender,Ot=Re.prefixCls,Xe=Re.creatorRecord,xt=Re.action,Ne=Re.children,B=Re.actionRender,z=Re.fields,q=Re.meta,S=Re.field,K=Re.index,fe=Re.formInstance,Fe=Jt(Re,Mt),pe=Object(oe.useContext)(vt),Me=ie(Ne).map(function(kt){return typeof kt=="function"?kt==null?void 0:kt(S,K,xt):kt}).map(function(kt,ft){return ne.a.isValidElement(kt)?ne.a.cloneElement(kt,yt({key:ft},kt==null?void 0:kt.props)):kt}),U=Object(oe.useMemo)(function(){if(!Ye)return null;var kt=Ye.Icon,ft=kt===void 0?ve.a:kt,ut=Ye.tooltipText;return ne.a.createElement(Z.a,{title:ut,key:"copy"},ne.a.createElement(ft,{className:"".concat(Ot,"-action-icon"),onClick:function(){xt.add(fe==null?void 0:fe.getFieldValue([pe.listName,Fe.name,S.name].filter(function(Qt){return Qt!==void 0}).flat(1)))}}))},[xt,Ye,S.name,fe,pe.listName,Ot,Fe.name]),le=Object(oe.useMemo)(function(){if(!ht)return null;var kt=ht.Icon,ft=kt===void 0?We:kt,ut=ht.tooltipText;return ne.a.createElement(Z.a,{title:ut,key:"delete"},ne.a.createElement(ft,{className:"".concat(Ot,"-action-icon"),onClick:function(){return xt.remove(S.name)}}))},[xt,ht,S.name,Ot]),Le=Object(oe.useMemo)(function(){return[U,le].filter(Boolean)},[U,le]),ot=(B==null?void 0:B(S,xt,Le))||Le,St=ot.length>0?ne.a.createElement("div",{className:"".concat(Ot,"-action")},ot):null,Ge={field:S,index:K,record:fe==null||(bt=fe.getFieldValue)===null||bt===void 0?void 0:bt.call(fe,[pe.listName,Fe.name,S.name].filter(function(kt){return kt!==void 0}).flat(1)),fields:z,operation:xt,meta:q},Be=(Ke==null?void 0:Ke(Me,Ge))||Me,Nt=(nt==null?void 0:nt({listDom:ne.a.createElement("div",{className:"".concat(Ot,"-container")},Be),action:St},Ge))||ne.a.createElement("div",{className:"".concat(Ot,"-item"),style:{display:"flex",alignItems:"flex-end"}},ne.a.createElement("div",{className:"".concat(Ot,"-container")},Be),St);return ne.a.createElement(vt.Provider,{key:S.name,value:yt(yt({},S),{},{listName:[pe.listName,Fe.originName,S.name].filter(function(kt){return kt!==void 0}).flat(1)})},Nt)},ee=function(Re){var bt=Re.creatorButtonProps,Pt=Re.prefixCls,ht=Re.children,Ye=Re.creatorRecord,Ke=Re.action,nt=Re.fields,Ot=Object(oe.useMemo)(function(){if(bt===!1)return null;var Xe=bt||{},xt=Xe.position,Ne=xt===void 0?"bottom":xt,B=Xe.creatorButtonText,z=B===void 0?"\u6DFB\u52A0\u4E00\u884C\u6570\u636E":B;return ne.a.createElement(H.a,ye({className:"".concat(Pt,"-creator-button-").concat(Ne),type:"dashed",block:!0,icon:ne.a.createElement(ct.a,null)},Object(Te.a)(bt||{},["position","creatorButtonText"]),{onClick:function(){var S;Ne==="top"&&(S=0),Ke.add(Object(It.a)(Ye),S)}}),z)},[Ke,bt,Ye,Pt]);return ne.a.createElement("div",{style:{width:"max-content",maxWidth:"100%"}},bt!==!1&&(bt==null?void 0:bt.position)==="top"&&Ot,nt.map(function(Xe,xt){return ne.a.createElement(J,ye({key:Xe.key},Re,{field:Xe,index:xt}),ht)}),bt!==!1&&(bt==null?void 0:bt.position)!=="top"&&Ot)},Ie=function(Re){var bt=Re.actionRender,Pt=Re.creatorButtonProps,ht=Re.label,Ye=Re.tooltip,Ke=Re.creatorRecord,nt=Re.itemRender,Ot=Re.rules,Xe=Re.itemContainerRender,xt=Re.copyIconProps,Ne=xt===void 0?{Icon:ve.a,tooltipText:"\u590D\u5236\u6B64\u884C"}:xt,B=Re.children,z=Re.deleteIconProps,q=z===void 0?{Icon:We,tooltipText:"\u5220\u9664\u6B64\u884C"}:z,S=Re.actionRef,K=Jt(Re,Tt),fe=Object(oe.useRef)(),Fe=Object(oe.useContext)(b.b.ConfigContext),pe=Object(oe.useContext)(vt),Me=Fe.getPrefixCls("pro-form-list"),U=Object(oe.useMemo)(function(){return pe.name===void 0?[K.name].flat(1):[pe.name,K.name].flat(1)},[pe.name,K.name]);return Object(oe.useImperativeHandle)(S,function(){return fe.current},[fe.current]),ne.a.createElement(y.a.Item,{label:ht,tooltip:Ye,rules:Ot,shouldUpdate:function(Le,ot){return Object(Vt.a)(Le,U)!==Object(Vt.a)(ot,U)}},function(le){return ne.a.createElement("div",{className:Me},ne.a.createElement(y.a.List,ye({rules:Ot},K,{name:U}),function(Le,ot,St){return fe.current=ot,ne.a.createElement(ne.a.Fragment,null,ne.a.createElement(ee,{name:U,originName:K.name,copyIconProps:Ne,deleteIconProps:q,formInstance:le,prefixCls:Me,meta:St,fields:Le,itemContainerRender:Xe,itemRender:nt,creatorButtonProps:Pt,creatorRecord:Ke,actionRender:bt,action:ot},B),ne.a.createElement(y.a.ErrorList,{errors:St.errors}))}))})},me=A.b=Ie},x1Ya:function(ze,A,r){"use strict";var M=r("wx14"),y=r("rePB"),T=r("Ff2n"),b=r("VTBJ"),u=r("1OyB"),H=r("vuIU"),k=r("Ji7U"),Z=r("LK+K"),oe=r("q1tI"),ne=r.n(oe),Te=r("TSYQ"),at=r.n(Te),ve=function(we){Object(k.a)(Ce,we);var I=Object(Z.a)(Ce);function Ce(et){var Et;Object(u.a)(this,Ce),Et=I.call(this,et),Et.handleChange=function(ct){var ce=Et.props,Vt=ce.disabled,It=ce.onChange;Vt||("checked"in Et.props||Et.setState({checked:ct.target.checked}),It&&It({target:Object(b.a)(Object(b.a)({},Et.props),{},{checked:ct.target.checked}),stopPropagation:function(){ct.stopPropagation()},preventDefault:function(){ct.preventDefault()},nativeEvent:ct.nativeEvent}))},Et.saveInput=function(ct){Et.input=ct};var We="checked"in et?et.checked:et.defaultChecked;return Et.state={checked:We},Et}return Object(H.a)(Ce,[{key:"focus",value:function(){this.input.focus()}},{key:"blur",value:function(){this.input.blur()}},{key:"render",value:function(){var Et,We=this.props,ct=We.prefixCls,ce=We.className,Vt=We.style,It=We.name,Mt=We.id,Tt=We.type,ye=We.disabled,lt=We.readOnly,yt=We.tabIndex,Dt=We.onClick,Jt=We.onFocus,At=We.onBlur,vt=We.onKeyDown,ie=We.onKeyPress,J=We.onKeyUp,ee=We.autoFocus,Ie=We.value,me=We.required,Ve=Object(T.a)(We,["prefixCls","className","style","name","id","type","disabled","readOnly","tabIndex","onClick","onFocus","onBlur","onKeyDown","onKeyPress","onKeyUp","autoFocus","value","required"]),Re=Object.keys(Ve).reduce(function(ht,Ye){return(Ye.substr(0,5)==="aria-"||Ye.substr(0,5)==="data-"||Ye==="role")&&(ht[Ye]=Ve[Ye]),ht},{}),bt=this.state.checked,Pt=at()(ct,ce,(Et={},Object(y.a)(Et,"".concat(ct,"-checked"),bt),Object(y.a)(Et,"".concat(ct,"-disabled"),ye),Et));return ne.a.createElement("span",{className:Pt,style:Vt},ne.a.createElement("input",Object(M.a)({name:It,id:Mt,type:Tt,required:me,readOnly:lt,disabled:ye,tabIndex:yt,className:"".concat(ct,"-input"),checked:!!bt,onClick:Dt,onFocus:Jt,onBlur:At,onKeyUp:J,onKeyDown:vt,onKeyPress:ie,onChange:this.handleChange,autoFocus:ee,ref:this.saveInput,value:Ie},Re)),ne.a.createElement("span",{className:"".concat(ct,"-inner")}))}}],[{key:"getDerivedStateFromProps",value:function(Et,We){return"checked"in Et?Object(b.a)(Object(b.a)({},We),{},{checked:Et.checked}):null}}]),Ce}(oe.Component);ve.defaultProps={prefixCls:"rc-checkbox",className:"",style:{},type:"checkbox",defaultChecked:!1,onFocus:function(){},onBlur:function(){},onChange:function(){},onKeyDown:function(){},onKeyPress:function(){},onKeyUp:function(){}},A.a=ve},xfSm:function(ze,A,r){"use strict";Object.defineProperty(A,"__esModule",{value:!0}),A.NON_CUSTOM_TAG_KEYS=A.POST_CONSTRUCT=A.DESIGN_PARAM_TYPES=A.PARAM_TYPES=A.TAGGED_PROP=A.TAGGED=A.MULTI_INJECT_TAG=A.INJECT_TAG=A.OPTIONAL_TAG=A.UNMANAGED_TAG=A.NAME_TAG=A.NAMED_TAG=void 0,A.NAMED_TAG="named",A.NAME_TAG="name",A.UNMANAGED_TAG="unmanaged",A.OPTIONAL_TAG="optional",A.INJECT_TAG="inject",A.MULTI_INJECT_TAG="multi_inject",A.TAGGED="inversify:tagged",A.TAGGED_PROP="inversify:tagged_props",A.PARAM_TYPES="inversify:paramtypes",A.DESIGN_PARAM_TYPES="design:paramtypes",A.POST_CONSTRUCT="post_construct";function M(){return[A.INJECT_TAG,A.MULTI_INJECT_TAG,A.NAME_TAG,A.UNMANAGED_TAG,A.NAMED_TAG,A.OPTIONAL_TAG]}A.NON_CUSTOM_TAG_KEYS=M()},xfeJ:function(ze,A){function r(M){return Function.toString.call(M).indexOf("[native code]")!==-1}ze.exports=r,ze.exports.default=ze.exports,ze.exports.__esModule=!0},xiII:function(ze,A,r){"use strict";Object.defineProperty(A,"__esModule",{value:!0}),A.Request=void 0;var M=r("d9O0"),y=function(){function T(b,u,H,k,Z){this.id=M.id(),this.serviceIdentifier=b,this.parentContext=u,this.parentRequest=H,this.target=Z,this.childRequests=[],this.bindings=Array.isArray(k)?k:[k],this.requestScope=H===null?new Map:null}return T.prototype.addChildRequest=function(b,u,H){var k=new T(b,this.parentContext,this,u,H);return this.childRequests.push(k),k},T}();A.Request=y},xp6e:function(ze,A,r){"use strict";(function(M){r.d(A,"a",function(){return me}),r.d(A,"b",function(){return Pt}),r.d(A,"c",function(){return ie}),r.d(A,"d",function(){return bt});/*! *****************************************************************************
Copyright (c) Microsoft Corporation. All rights reserved.
Licensed under the Apache License, Version 2.0 (the "License"); you may not use
this file except in compliance with the License. You may obtain a copy of the
License at http://www.apache.org/licenses/LICENSE-2.0

THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
MERCHANTABLITY OR NON-INFRINGEMENT.

See the Apache Version 2.0 License for specific language governing permissions
and limitations under the License.
***************************************************************************** */function y(ht,Ye,Ke,nt){function Ot(Xe){return Xe instanceof Ke?Xe:new Ke(function(xt){xt(Xe)})}return new(Ke||(Ke=Promise))(function(Xe,xt){function Ne(q){try{z(nt.next(q))}catch(S){xt(S)}}function B(q){try{z(nt.throw(q))}catch(S){xt(S)}}function z(q){q.done?Xe(q.value):Ot(q.value).then(Ne,B)}z((nt=nt.apply(ht,Ye||[])).next())})}function T(ht,Ye){var Ke={label:0,sent:function(){if(Xe[0]&1)throw Xe[1];return Xe[1]},trys:[],ops:[]},nt,Ot,Xe,xt;return xt={next:Ne(0),throw:Ne(1),return:Ne(2)},typeof Symbol=="function"&&(xt[Symbol.iterator]=function(){return this}),xt;function Ne(z){return function(q){return B([z,q])}}function B(z){if(nt)throw new TypeError("Generator is already executing.");for(;Ke;)try{if(nt=1,Ot&&(Xe=z[0]&2?Ot.return:z[0]?Ot.throw||((Xe=Ot.return)&&Xe.call(Ot),0):Ot.next)&&!(Xe=Xe.call(Ot,z[1])).done)return Xe;switch(Ot=0,Xe&&(z=[z[0]&2,Xe.value]),z[0]){case 0:case 1:Xe=z;break;case 4:return Ke.label++,{value:z[1],done:!1};case 5:Ke.label++,Ot=z[1],z=[0];continue;case 7:z=Ke.ops.pop(),Ke.trys.pop();continue;default:if(Xe=Ke.trys,!(Xe=Xe.length>0&&Xe[Xe.length-1])&&(z[0]===6||z[0]===2)){Ke=0;continue}if(z[0]===3&&(!Xe||z[1]>Xe[0]&&z[1]<Xe[3])){Ke.label=z[1];break}if(z[0]===6&&Ke.label<Xe[1]){Ke.label=Xe[1],Xe=z;break}if(Xe&&Ke.label<Xe[2]){Ke.label=Xe[2],Ke.ops.push(z);break}Xe[2]&&Ke.ops.pop(),Ke.trys.pop();continue}z=Ye.call(ht,Ke)}catch(q){z=[6,q],Ot=0}finally{nt=Xe=0}if(z[0]&5)throw z[1];return{value:z[0]?z[1]:void 0,done:!0}}}function b(ht,Ye){var Ke=typeof Symbol=="function"&&ht[Symbol.iterator];if(!Ke)return ht;var nt=Ke.call(ht),Ot,Xe=[],xt;try{for(;(Ye===void 0||Ye-- >0)&&!(Ot=nt.next()).done;)Xe.push(Ot.value)}catch(Ne){xt={error:Ne}}finally{try{Ot&&!Ot.done&&(Ke=nt.return)&&Ke.call(nt)}finally{if(xt)throw xt.error}}return Xe}function u(){for(var ht=[],Ye=0;Ye<arguments.length;Ye++)ht=ht.concat(b(arguments[Ye]));return ht}function H(ht){return ht&&ht.__esModule&&Object.prototype.hasOwnProperty.call(ht,"default")?ht.default:ht}function k(ht,Ye){return Ye={exports:{}},ht(Ye,Ye.exports),Ye.exports}var Z=k(function(ht,Ye){Object.defineProperty(Ye,"__esModule",{value:!0}),Ye.default=Ke;function Ke(nt){return nt&&typeof nt.length=="number"&&nt.length>=0&&nt.length%1==0}ht.exports=Ye.default});H(Z);var oe=k(function(ht,Ye){Object.defineProperty(Ye,"__esModule",{value:!0}),Ye.default=function(Ke){return function(){for(var nt=[],Ot=arguments.length;Ot--;)nt[Ot]=arguments[Ot];var Xe=nt.pop();return Ke.call(this,nt,Xe)}},ht.exports=Ye.default});H(oe);var ne=k(function(ht,Ye){Object.defineProperty(Ye,"__esModule",{value:!0}),Ye.fallback=Ot,Ye.wrap=Xe;var Ke=Ye.hasSetImmediate=typeof setImmediate=="function"&&setImmediate,nt=Ye.hasNextTick=typeof M=="object"&&typeof M.nextTick=="function";function Ot(Ne){setTimeout(Ne,0)}function Xe(Ne){return function(B){for(var z=[],q=arguments.length-1;q-- >0;)z[q]=arguments[q+1];return Ne(function(){return B.apply(void 0,z)})}}var xt;Ke?xt=setImmediate:nt?xt=M.nextTick:xt=Ot,Ye.default=Xe(xt)});H(ne);var Te=ne.fallback,at=ne.wrap,ve=ne.hasSetImmediate,we=ne.hasNextTick,I=k(function(ht,Ye){Object.defineProperty(Ye,"__esModule",{value:!0}),Ye.default=Xe;var Ke=Ot(oe),nt=Ot(ne);function Ot(B){return B&&B.__esModule?B:{default:B}}function Xe(B){return(0,Ce.isAsync)(B)?function(){for(var z=[],q=arguments.length;q--;)z[q]=arguments[q];var S=z.pop(),K=B.apply(this,z);return xt(K,S)}:(0,Ke.default)(function(z,q){var S;try{S=B.apply(this,z)}catch(K){return q(K)}if(S&&typeof S.then=="function")return xt(S,q);q(null,S)})}function xt(B,z){return B.then(function(q){Ne(z,null,q)},function(q){Ne(z,q&&q.message?q:new Error(q))})}function Ne(B,z,q){try{B(z,q)}catch(S){(0,nt.default)(function(K){throw K},S)}}ht.exports=Ye.default});H(I);var Ce=k(function(ht,Ye){Object.defineProperty(Ye,"__esModule",{value:!0}),Ye.isAsyncIterable=Ye.isAsyncGenerator=Ye.isAsync=void 0;var Ke=nt(I);function nt(B){return B&&B.__esModule?B:{default:B}}function Ot(B){return B[Symbol.toStringTag]==="AsyncFunction"}function Xe(B){return B[Symbol.toStringTag]==="AsyncGenerator"}function xt(B){return typeof B[Symbol.asyncIterator]=="function"}function Ne(B){if(typeof B!="function")throw new Error("expected a function");return Ot(B)?(0,Ke.default)(B):B}Ye.default=Ne,Ye.isAsync=Ot,Ye.isAsyncGenerator=Xe,Ye.isAsyncIterable=xt});H(Ce);var et=Ce.isAsyncIterable,Et=Ce.isAsyncGenerator,We=Ce.isAsync,ct=k(function(ht,Ye){Object.defineProperty(Ye,"__esModule",{value:!0}),Ye.default=Ke;function Ke(nt,Ot){if(Ot===void 0&&(Ot=nt.length),!Ot)throw new Error("arity is undefined");function Xe(){for(var xt=this,Ne=[],B=arguments.length;B--;)Ne[B]=arguments[B];return typeof Ne[Ot-1]=="function"?nt.apply(this,Ne):new Promise(function(z,q){Ne[Ot-1]=function(S){for(var K=[],fe=arguments.length-1;fe-- >0;)K[fe]=arguments[fe+1];if(S)return q(S);z(K.length>1?K:K[0])},nt.apply(xt,Ne)})}return Object.defineProperty(Xe,"name",{configurable:!0,value:"awaitable("+nt.name+")"}),Xe}ht.exports=Ye.default});H(ct);var ce=k(function(ht,Ye){Object.defineProperty(Ye,"__esModule",{value:!0});var Ke=Xe(Z),nt=Xe(Ce),Ot=Xe(ct);function Xe(xt){return xt&&xt.__esModule?xt:{default:xt}}Ye.default=(0,Ot.default)(function(xt,Ne,B){var z=(0,Ke.default)(Ne)?[]:{};xt(Ne,function(q,S,K){(0,nt.default)(q)(function(fe){for(var Fe,pe=[],Me=arguments.length-1;Me-- >0;)pe[Me]=arguments[Me+1];pe.length<2&&(Fe=pe,pe=Fe[0]),z[S]=pe,K(fe)})},function(q){return B(q,z)})},3),ht.exports=Ye.default});H(ce);var Vt=k(function(ht,Ye){Object.defineProperty(Ye,"__esModule",{value:!0}),Ye.default=Ke;function Ke(nt){function Ot(){for(var Xe=[],xt=arguments.length;xt--;)Xe[xt]=arguments[xt];if(nt!==null){var Ne=nt;nt=null,Ne.apply(this,Xe)}}return Object.assign(Ot,nt),Ot}ht.exports=Ye.default});H(Vt);var It=k(function(ht,Ye){Object.defineProperty(Ye,"__esModule",{value:!0}),Ye.default=function(Ke){return Ke[Symbol.iterator]&&Ke[Symbol.iterator]()},ht.exports=Ye.default});H(It);var Mt=k(function(ht,Ye){Object.defineProperty(Ye,"__esModule",{value:!0}),Ye.default=B;var Ke=Ot(Z),nt=Ot(It);function Ot(z){return z&&z.__esModule?z:{default:z}}function Xe(z){var q=-1,S=z.length;return function(){return++q<S?{value:z[q],key:q}:null}}function xt(z){var q=-1;return function(){var K=z.next();return K.done?null:(q++,{value:K.value,key:q})}}function Ne(z){var q=z?Object.keys(z):[],S=-1,K=q.length;return function(){var Fe=q[++S];return S<K?{value:z[Fe],key:Fe}:null}}function B(z){if((0,Ke.default)(z))return Xe(z);var q=(0,nt.default)(z);return q?xt(q):Ne(z)}ht.exports=Ye.default});H(Mt);var Tt=k(function(ht,Ye){Object.defineProperty(Ye,"__esModule",{value:!0}),Ye.default=Ke;function Ke(nt){return function(){for(var Ot=[],Xe=arguments.length;Xe--;)Ot[Xe]=arguments[Xe];if(nt===null)throw new Error("Callback was already called.");var xt=nt;nt=null,xt.apply(this,Ot)}}ht.exports=Ye.default});H(Tt);var ye=k(function(ht,Ye){Object.defineProperty(Ye,"__esModule",{value:!0});var Ke={};Ye.default=Ke,ht.exports=Ye.default});H(ye);var lt=k(function(ht,Ye){Object.defineProperty(Ye,"__esModule",{value:!0}),Ye.default=Ot;var Ke=nt(ye);function nt(Xe){return Xe&&Xe.__esModule?Xe:{default:Xe}}function Ot(Xe,xt,Ne,B){var z=!1,q=!1,S=!1,K=0,fe=0;function Fe(){K>=xt||S||z||(S=!0,Xe.next().then(function(U){var le=U.value,Le=U.done;if(!(q||z)){if(S=!1,Le){z=!0,K<=0&&B(null);return}K++,Ne(le,fe,pe),fe++,Fe()}}).catch(Me))}function pe(U,le){if(K-=1,!q){if(U)return Me(U);if(U===!1){z=!0,q=!0;return}if(le===Ke.default||z&&K<=0)return z=!0,B(null);Fe()}}function Me(U){q||(S=!1,z=!0,B(U))}Fe()}ht.exports=Ye.default});H(lt);var yt=k(function(ht,Ye){Object.defineProperty(Ye,"__esModule",{value:!0});var Ke=Ne(Vt),nt=Ne(Mt),Ot=Ne(Tt),Xe=Ne(lt),xt=Ne(ye);function Ne(B){return B&&B.__esModule?B:{default:B}}Ye.default=function(B){return function(z,q,S){if(S=(0,Ke.default)(S),B<=0)throw new RangeError("concurrency limit cannot be less than 1");if(!z)return S(null);if((0,Ce.isAsyncGenerator)(z))return(0,Xe.default)(z,B,q,S);if((0,Ce.isAsyncIterable)(z))return(0,Xe.default)(z[Symbol.asyncIterator](),B,q,S);var K=(0,nt.default)(z),fe=!1,Fe=!1,pe=0,Me=!1;function U(Le,ot){if(!Fe)if(pe-=1,Le)fe=!0,S(Le);else if(Le===!1)fe=!0,Fe=!0;else{if(ot===xt.default||fe&&pe<=0)return fe=!0,S(null);Me||le()}}function le(){for(Me=!0;pe<B&&!fe;){var Le=K();if(Le===null){fe=!0,pe<=0&&S(null);return}pe+=1,q(Le.value,Le.key,(0,Ot.default)(U))}Me=!1}le()}},ht.exports=Ye.default});H(yt);var Dt=k(function(ht,Ye){Object.defineProperty(Ye,"__esModule",{value:!0});var Ke=Xe(yt),nt=Xe(Ce),Ot=Xe(ct);function Xe(Ne){return Ne&&Ne.__esModule?Ne:{default:Ne}}function xt(Ne,B,z,q){return(0,Ke.default)(B)(Ne,(0,nt.default)(z),q)}Ye.default=(0,Ot.default)(xt,4),ht.exports=Ye.default});H(Dt);var Jt=k(function(ht,Ye){Object.defineProperty(Ye,"__esModule",{value:!0});var Ke=Ot(Dt),nt=Ot(ct);function Ot(xt){return xt&&xt.__esModule?xt:{default:xt}}function Xe(xt,Ne,B){return(0,Ke.default)(xt,1,Ne,B)}Ye.default=(0,nt.default)(Xe,3),ht.exports=Ye.default});H(Jt);var At=k(function(ht,Ye){Object.defineProperty(Ye,"__esModule",{value:!0}),Ye.default=Xe;var Ke=Ot(ce),nt=Ot(Jt);function Ot(xt){return xt&&xt.__esModule?xt:{default:xt}}function Xe(xt,Ne){return(0,Ke.default)(nt.default,xt,Ne)}ht.exports=Ye.default}),vt=H(At),ie=function(){function ht(){for(var Ye=arguments,Ke=[],nt=0;nt<arguments.length;nt++)Ke[nt]=Ye[nt];this.args=[],this.tasks=[]}return ht.prototype.call=function(){for(var Ye=arguments,Ke=[],nt=0;nt<arguments.length;nt++)Ke[nt]=Ye[nt];return this.args=Ke,vt(this.tasks)},ht.prototype.tap=function(Ye,Ke){var nt=this;this.tasks.push(function(Ot){Ke.apply(void 0,u(nt.args)),Ot(null,Ye)})},ht}(),J=k(function(ht,Ye){Object.defineProperty(Ye,"__esModule",{value:!0});var Ke=z(Z),nt=z(ye),Ot=z(Dt),Xe=z(Vt),xt=z(Tt),Ne=z(Ce),B=z(ct);function z(fe){return fe&&fe.__esModule?fe:{default:fe}}function q(fe,Fe,pe){pe=(0,Xe.default)(pe);var Me=0,U=0,le=fe.length,Le=!1;le===0&&pe(null);function ot(St,Ge){St===!1&&(Le=!0),Le!==!0&&(St?pe(St):(++U===le||Ge===nt.default)&&pe(null))}for(;Me<le;Me++)Fe(fe[Me],Me,(0,xt.default)(ot))}function S(fe,Fe,pe){return(0,Ot.default)(fe,Infinity,Fe,pe)}function K(fe,Fe,pe){var Me=(0,Ke.default)(fe)?q:S;return Me(fe,(0,Ne.default)(Fe),pe)}Ye.default=(0,B.default)(K,3),ht.exports=Ye.default});H(J);var ee=k(function(ht,Ye){Object.defineProperty(Ye,"__esModule",{value:!0}),Ye.default=Xe;var Ke=Ot(J),nt=Ot(ce);function Ot(xt){return xt&&xt.__esModule?xt:{default:xt}}function Xe(xt,Ne){return(0,nt.default)(Ke.default,xt,Ne)}ht.exports=Ye.default}),Ie=H(ee),me=function(){function ht(){for(var Ye=arguments,Ke=[],nt=0;nt<arguments.length;nt++)Ke[nt]=Ye[nt];this.tasks=[]}return ht.prototype.promise=function(){for(var Ye=arguments,Ke=[],nt=0;nt<arguments.length;nt++)Ke[nt]=Ye[nt];return Ie(this.tasks)},ht.prototype.tapPromise=function(Ye,Ke){var nt=this;this.tasks.push(function(Ot){return y(nt,void 0,void 0,function(){return T(this,function(Xe){switch(Xe.label){case 0:return[4,Ke()];case 1:return Xe.sent(),Ot(null,Ye),[2]}})})})},ht}(),Ve=k(function(ht,Ye){Object.defineProperty(Ye,"__esModule",{value:!0});var Ke=xt(Vt),nt=xt(Tt),Ot=xt(Ce),Xe=xt(ct);function xt(B){return B&&B.__esModule?B:{default:B}}function Ne(B,z){if(z=(0,Ke.default)(z),!Array.isArray(B))return z(new Error("First argument to waterfall must be an array of functions"));if(!B.length)return z();var q=0;function S(fe){var Fe=(0,Ot.default)(B[q++]);Fe.apply(void 0,fe.concat([(0,nt.default)(K)]))}function K(fe){for(var Fe=[],pe=arguments.length-1;pe-- >0;)Fe[pe]=arguments[pe+1];if(fe!==!1){if(fe||q===B.length)return z.apply(void 0,[fe].concat(Fe));S(Fe)}}S([])}Ye.default=(0,Xe.default)(Ne),ht.exports=Ye.default}),Re=H(Ve),bt=function(){function ht(){for(var Ye=arguments,Ke=[],nt=0;nt<arguments.length;nt++)Ke[nt]=Ye[nt];this.tasks=[]}return ht.prototype.call=function(){for(var Ye=arguments,Ke=[],nt=0;nt<arguments.length;nt++)Ke[nt]=Ye[nt];return Re(this.tasks)},ht.prototype.tap=function(Ye,Ke){this.tasks.length===0?this.tasks.push(function(nt){var Ot=Ke();nt(Ot?null:!1,Ot)}):this.tasks.push(function(nt,Ot){var Xe=Ke();Ot(Xe?null:!1,Ye)})},ht}(),Pt=function(){function ht(){for(var Ye=arguments,Ke=[],nt=0;nt<arguments.length;nt++)Ke[nt]=Ye[nt];this.tasks=[]}return ht.prototype.call=function(){for(var Ye=arguments,Ke=[],nt=0;nt<arguments.length;nt++)Ke[nt]=Ye[nt];return vt(this.tasks)},ht.prototype.tap=function(Ye,Ke){this.tasks.push(function(nt){var Ot=Ke();nt(Ot,Ye)})},ht}()}).call(this,r("Q2Ig"))},xutz:function(ze,A,r){"use strict";(function(M){var y=r("XqMk"),T=typeof exports=="object"&&exports&&!exports.nodeType&&exports,b=T&&typeof M=="object"&&M&&!M.nodeType&&M,u=b&&b.exports===T,H=u&&y.a.process,k=function(){try{var Z=b&&b.require&&b.require("util").types;return Z||H&&H.binding&&H.binding("util")}catch(oe){}}();A.a=k}).call(this,r("Vg/k")(ze))},xzDV:function(ze,A,r){},"y/19":function(ze,A,r){},"y0+3":function(ze,A,r){"use strict";r.d(A,"a",function(){return Te}),r.d(A,"b",function(){return ve});var M=/margin|padding|width|height|max|min|offset/,y={left:!0,top:!0},T={cssFloat:1,styleFloat:1,float:1};function b(we){return we.nodeType===1?we.ownerDocument.defaultView.getComputedStyle(we,null):{}}function u(we,I,Ce){if(I=I.toLowerCase(),Ce==="auto"){if(I==="height")return we.offsetHeight;if(I==="width")return we.offsetWidth}return I in y||(y[I]=M.test(I)),y[I]?parseFloat(Ce)||0:Ce}function H(we,I){var Ce=arguments.length,et=b(we);return I=T[I]?"cssFloat"in we.style?"cssFloat":"styleFloat":I,Ce===1?et:u(we,I,et[I]||we.style[I])}function k(we,I,Ce){var et=arguments.length;if(I=T[I]?"cssFloat"in we.style?"cssFloat":"styleFloat":I,et===3)return typeof Ce=="number"&&M.test(I)&&(Ce="".concat(Ce,"px")),we.style[I]=Ce,Ce;for(var Et in I)I.hasOwnProperty(Et)&&k(we,Et,I[Et]);return b(we)}function Z(we){return we===document.body?document.documentElement.clientWidth:we.offsetWidth}function oe(we){return we===document.body?window.innerHeight||document.documentElement.clientHeight:we.offsetHeight}function ne(){var we=Math.max(document.documentElement.scrollWidth,document.body.scrollWidth),I=Math.max(document.documentElement.scrollHeight,document.body.scrollHeight);return{width:we,height:I}}function Te(){var we=document.documentElement.clientWidth,I=window.innerHeight||document.documentElement.clientHeight;return{width:we,height:I}}function at(){return{scrollLeft:Math.max(document.documentElement.scrollLeft,document.body.scrollLeft),scrollTop:Math.max(document.documentElement.scrollTop,document.body.scrollTop)}}function ve(we){var I=we.getBoundingClientRect(),Ce=document.documentElement;return{left:I.left+(window.pageXOffset||Ce.scrollLeft)-(Ce.clientLeft||document.body.clientLeft||0),top:I.top+(window.pageYOffset||Ce.scrollTop)-(Ce.clientTop||document.body.clientTop||0)}}},y8nQ:function(ze,A,r){"use strict";var M=r("cIOH"),y=r.n(M),T=r("gwTy"),b=r.n(T),u=r("1GLa"),H=r("5Dmo")},yG8O:function(ze,A){function r(M,y,T,b){!T||Object.defineProperty(M,y,{enumerable:T.enumerable,configurable:T.configurable,writable:T.writable,value:T.initializer?T.initializer.call(b):void 0})}ze.exports=r,ze.exports.default=ze.exports,ze.exports.__esModule=!0},yHx3:function(ze,A){var r=Object.prototype,M=r.hasOwnProperty;function y(T){var b=T.length,u=new T.constructor(b);return b&&typeof T[0]=="string"&&M.call(T,"index")&&(u.index=T.index,u.input=T.input),u}ze.exports=y},yLV6:function(ze,A,r){var M;/*! Hammer.JS - v2.0.7 - 2016-04-22
* http://hammerjs.github.io/
*
* Copyright (c) 2016 Jorik Tangelder;
* Licensed under the MIT license */(function(y,T,b,u){"use strict";var H=["","webkit","Moz","MS","ms","o"],k=T.createElement("div"),Z="function",oe=Math.round,ne=Math.abs,Te=Date.now;function at(mr,Wt,vr){return setTimeout(ct(mr,vr),Wt)}function ve(mr,Wt,vr){return Array.isArray(mr)?(we(mr,vr[Wt],vr),!0):!1}function we(mr,Wt,vr){var un;if(!!mr)if(mr.forEach)mr.forEach(Wt,vr);else if(mr.length!==u)for(un=0;un<mr.length;)Wt.call(vr,mr[un],un,mr),un++;else for(un in mr)mr.hasOwnProperty(un)&&Wt.call(vr,mr[un],un,mr)}function I(mr,Wt,vr){var un="DEPRECATED METHOD: "+Wt+`
`+vr+` AT 
`;return function(){var va=new Error("get-stack-trace"),qa=va&&va.stack?va.stack.replace(/^[^\(]+?[\n$]/gm,"").replace(/^\s+at\s+/gm,"").replace(/^Object.<anonymous>\s*\(/gm,"{anonymous}()@"):"Unknown Stack Trace",mi=y.console&&(y.console.warn||y.console.log);return mi&&mi.call(y.console,un,qa),mr.apply(this,arguments)}}var Ce;typeof Object.assign!="function"?Ce=function(Wt){if(Wt===u||Wt===null)throw new TypeError("Cannot convert undefined or null to object");for(var vr=Object(Wt),un=1;un<arguments.length;un++){var va=arguments[un];if(va!==u&&va!==null)for(var qa in va)va.hasOwnProperty(qa)&&(vr[qa]=va[qa])}return vr}:Ce=Object.assign;var et=I(function(Wt,vr,un){for(var va=Object.keys(vr),qa=0;qa<va.length;)(!un||un&&Wt[va[qa]]===u)&&(Wt[va[qa]]=vr[va[qa]]),qa++;return Wt},"extend","Use `assign`."),Et=I(function(Wt,vr){return et(Wt,vr,!0)},"merge","Use `assign`.");function We(mr,Wt,vr){var un=Wt.prototype,va;va=mr.prototype=Object.create(un),va.constructor=mr,va._super=un,vr&&Ce(va,vr)}function ct(mr,Wt){return function(){return mr.apply(Wt,arguments)}}function ce(mr,Wt){return typeof mr==Z?mr.apply(Wt&&Wt[0]||u,Wt):mr}function Vt(mr,Wt){return mr===u?Wt:mr}function It(mr,Wt,vr){we(lt(Wt),function(un){mr.addEventListener(un,vr,!1)})}function Mt(mr,Wt,vr){we(lt(Wt),function(un){mr.removeEventListener(un,vr,!1)})}function Tt(mr,Wt){for(;mr;){if(mr==Wt)return!0;mr=mr.parentNode}return!1}function ye(mr,Wt){return mr.indexOf(Wt)>-1}function lt(mr){return mr.trim().split(/\s+/g)}function yt(mr,Wt,vr){if(mr.indexOf&&!vr)return mr.indexOf(Wt);for(var un=0;un<mr.length;){if(vr&&mr[un][vr]==Wt||!vr&&mr[un]===Wt)return un;un++}return-1}function Dt(mr){return Array.prototype.slice.call(mr,0)}function Jt(mr,Wt,vr){for(var un=[],va=[],qa=0;qa<mr.length;){var mi=Wt?mr[qa][Wt]:mr[qa];yt(va,mi)<0&&un.push(mr[qa]),va[qa]=mi,qa++}return vr&&(Wt?un=un.sort(function(cl,gl){return cl[Wt]>gl[Wt]}):un=un.sort()),un}function At(mr,Wt){for(var vr,un,va=Wt[0].toUpperCase()+Wt.slice(1),qa=0;qa<H.length;){if(vr=H[qa],un=vr?vr+va:Wt,un in mr)return un;qa++}return u}var vt=1;function ie(){return vt++}function J(mr){var Wt=mr.ownerDocument||mr;return Wt.defaultView||Wt.parentWindow||y}var ee=/mobile|tablet|ip(ad|hone|od)|android/i,Ie="ontouchstart"in y,me=At(y,"PointerEvent")!==u,Ve=Ie&&ee.test(navigator.userAgent),Re="touch",bt="pen",Pt="mouse",ht="kinect",Ye=25,Ke=1,nt=2,Ot=4,Xe=8,xt=1,Ne=2,B=4,z=8,q=16,S=Ne|B,K=z|q,fe=S|K,Fe=["x","y"],pe=["clientX","clientY"];function Me(mr,Wt){var vr=this;this.manager=mr,this.callback=Wt,this.element=mr.element,this.target=mr.options.inputTarget,this.domHandler=function(un){ce(mr.options.enable,[mr])&&vr.handler(un)},this.init()}Me.prototype={handler:function(){},init:function(){this.evEl&&It(this.element,this.evEl,this.domHandler),this.evTarget&&It(this.target,this.evTarget,this.domHandler),this.evWin&&It(J(this.element),this.evWin,this.domHandler)},destroy:function(){this.evEl&&Mt(this.element,this.evEl,this.domHandler),this.evTarget&&Mt(this.target,this.evTarget,this.domHandler),this.evWin&&Mt(J(this.element),this.evWin,this.domHandler)}};function U(mr){var Wt,vr=mr.options.inputClass;return vr?Wt=vr:me?Wt=it:Ve?Wt=Pe:Ie?Wt=Gt:Wt=tn,new Wt(mr,le)}function le(mr,Wt,vr){var un=vr.pointers.length,va=vr.changedPointers.length,qa=Wt&Ke&&un-va==0,mi=Wt&(Ot|Xe)&&un-va==0;vr.isFirst=!!qa,vr.isFinal=!!mi,qa&&(mr.session={}),vr.eventType=Wt,Le(mr,vr),mr.emit("hammer.input",vr),mr.recognize(vr),mr.session.prevInput=vr}function Le(mr,Wt){var vr=mr.session,un=Wt.pointers,va=un.length;vr.firstInput||(vr.firstInput=Ge(Wt)),va>1&&!vr.firstMultiple?vr.firstMultiple=Ge(Wt):va===1&&(vr.firstMultiple=!1);var qa=vr.firstInput,mi=vr.firstMultiple,ys=mi?mi.center:qa.center,cl=Wt.center=Be(un);Wt.timeStamp=Te(),Wt.deltaTime=Wt.timeStamp-qa.timeStamp,Wt.angle=ut(ys,cl),Wt.distance=ft(ys,cl),ot(vr,Wt),Wt.offsetDirection=kt(Wt.deltaX,Wt.deltaY);var gl=Nt(Wt.deltaTime,Wt.deltaX,Wt.deltaY);Wt.overallVelocityX=gl.x,Wt.overallVelocityY=gl.y,Wt.overallVelocity=ne(gl.x)>ne(gl.y)?gl.x:gl.y,Wt.scale=mi?Qt(mi.pointers,un):1,Wt.rotation=mi?Ze(mi.pointers,un):0,Wt.maxPointers=vr.prevInput?Wt.pointers.length>vr.prevInput.maxPointers?Wt.pointers.length:vr.prevInput.maxPointers:Wt.pointers.length,St(vr,Wt);var Es=mr.element;Tt(Wt.srcEvent.target,Es)&&(Es=Wt.srcEvent.target),Wt.target=Es}function ot(mr,Wt){var vr=Wt.center,un=mr.offsetDelta||{},va=mr.prevDelta||{},qa=mr.prevInput||{};(Wt.eventType===Ke||qa.eventType===Ot)&&(va=mr.prevDelta={x:qa.deltaX||0,y:qa.deltaY||0},un=mr.offsetDelta={x:vr.x,y:vr.y}),Wt.deltaX=va.x+(vr.x-un.x),Wt.deltaY=va.y+(vr.y-un.y)}function St(mr,Wt){var vr=mr.lastInterval||Wt,un=Wt.timeStamp-vr.timeStamp,va,qa,mi,ys;if(Wt.eventType!=Xe&&(un>Ye||vr.velocity===u)){var cl=Wt.deltaX-vr.deltaX,gl=Wt.deltaY-vr.deltaY,Es=Nt(un,cl,gl);qa=Es.x,mi=Es.y,va=ne(Es.x)>ne(Es.y)?Es.x:Es.y,ys=kt(cl,gl),mr.lastInterval=Wt}else va=vr.velocity,qa=vr.velocityX,mi=vr.velocityY,ys=vr.direction;Wt.velocity=va,Wt.velocityX=qa,Wt.velocityY=mi,Wt.direction=ys}function Ge(mr){for(var Wt=[],vr=0;vr<mr.pointers.length;)Wt[vr]={clientX:oe(mr.pointers[vr].clientX),clientY:oe(mr.pointers[vr].clientY)},vr++;return{timeStamp:Te(),pointers:Wt,center:Be(Wt),deltaX:mr.deltaX,deltaY:mr.deltaY}}function Be(mr){var Wt=mr.length;if(Wt===1)return{x:oe(mr[0].clientX),y:oe(mr[0].clientY)};for(var vr=0,un=0,va=0;va<Wt;)vr+=mr[va].clientX,un+=mr[va].clientY,va++;return{x:oe(vr/Wt),y:oe(un/Wt)}}function Nt(mr,Wt,vr){return{x:Wt/mr||0,y:vr/mr||0}}function kt(mr,Wt){return mr===Wt?xt:ne(mr)>=ne(Wt)?mr<0?Ne:B:Wt<0?z:q}function ft(mr,Wt,vr){vr||(vr=Fe);var un=Wt[vr[0]]-mr[vr[0]],va=Wt[vr[1]]-mr[vr[1]];return Math.sqrt(un*un+va*va)}function ut(mr,Wt,vr){vr||(vr=Fe);var un=Wt[vr[0]]-mr[vr[0]],va=Wt[vr[1]]-mr[vr[1]];return Math.atan2(va,un)*180/Math.PI}function Ze(mr,Wt){return ut(Wt[1],Wt[0],pe)+ut(mr[1],mr[0],pe)}function Qt(mr,Wt){return ft(Wt[0],Wt[1],pe)/ft(mr[0],mr[1],pe)}var ar={mousedown:Ke,mousemove:nt,mouseup:Ot},zr="mousedown",qr="mousemove mouseup";function tn(){this.evEl=zr,this.evWin=qr,this.pressed=!1,Me.apply(this,arguments)}We(tn,Me,{handler:function(Wt){var vr=ar[Wt.type];vr&Ke&&Wt.button===0&&(this.pressed=!0),vr&nt&&Wt.which!==1&&(vr=Ot),!!this.pressed&&(vr&Ot&&(this.pressed=!1),this.callback(this.manager,vr,{pointers:[Wt],changedPointers:[Wt],pointerType:Pt,srcEvent:Wt}))}});var _n={pointerdown:Ke,pointermove:nt,pointerup:Ot,pointercancel:Xe,pointerout:Xe},Bn={2:Re,3:bt,4:Pt,5:ht},ya="pointerdown",Tr="pointermove pointerup pointercancel";y.MSPointerEvent&&!y.PointerEvent&&(ya="MSPointerDown",Tr="MSPointerMove MSPointerUp MSPointerCancel");function it(){this.evEl=ya,this.evWin=Tr,Me.apply(this,arguments),this.store=this.manager.session.pointerEvents=[]}We(it,Me,{handler:function(Wt){var vr=this.store,un=!1,va=Wt.type.toLowerCase().replace("ms",""),qa=_n[va],mi=Bn[Wt.pointerType]||Wt.pointerType,ys=mi==Re,cl=yt(vr,Wt.pointerId,"pointerId");qa&Ke&&(Wt.button===0||ys)?cl<0&&(vr.push(Wt),cl=vr.length-1):qa&(Ot|Xe)&&(un=!0),!(cl<0)&&(vr[cl]=Wt,this.callback(this.manager,qa,{pointers:vr,changedPointers:[Wt],pointerType:mi,srcEvent:Wt}),un&&vr.splice(cl,1))}});var ue={touchstart:Ke,touchmove:nt,touchend:Ot,touchcancel:Xe},ge="touchstart",De="touchstart touchmove touchend touchcancel";function Ee(){this.evTarget=ge,this.evWin=De,this.started=!1,Me.apply(this,arguments)}We(Ee,Me,{handler:function(Wt){var vr=ue[Wt.type];if(vr===Ke&&(this.started=!0),!!this.started){var un=be.call(this,Wt,vr);vr&(Ot|Xe)&&un[0].length-un[1].length==0&&(this.started=!1),this.callback(this.manager,vr,{pointers:un[0],changedPointers:un[1],pointerType:Re,srcEvent:Wt})}}});function be(mr,Wt){var vr=Dt(mr.touches),un=Dt(mr.changedTouches);return Wt&(Ot|Xe)&&(vr=Jt(vr.concat(un),"identifier",!0)),[vr,un]}var rt={touchstart:Ke,touchmove:nt,touchend:Ot,touchcancel:Xe},de="touchstart touchmove touchend touchcancel";function Pe(){this.evTarget=de,this.targetIds={},Me.apply(this,arguments)}We(Pe,Me,{handler:function(Wt){var vr=rt[Wt.type],un=xe.call(this,Wt,vr);!un||this.callback(this.manager,vr,{pointers:un[0],changedPointers:un[1],pointerType:Re,srcEvent:Wt})}});function xe(mr,Wt){var vr=Dt(mr.touches),un=this.targetIds;if(Wt&(Ke|nt)&&vr.length===1)return un[vr[0].identifier]=!0,[vr,vr];var va,qa,mi=Dt(mr.changedTouches),ys=[],cl=this.target;if(qa=vr.filter(function(gl){return Tt(gl.target,cl)}),Wt===Ke)for(va=0;va<qa.length;)un[qa[va].identifier]=!0,va++;for(va=0;va<mi.length;)un[mi[va].identifier]&&ys.push(mi[va]),Wt&(Ot|Xe)&&delete un[mi[va].identifier],va++;if(!!ys.length)return[Jt(qa.concat(ys),"identifier",!0),ys]}var Oe=2500,dt=25;function Gt(){Me.apply(this,arguments);var mr=ct(this.handler,this);this.touch=new Pe(this.manager,mr),this.mouse=new tn(this.manager,mr),this.primaryTouch=null,this.lastTouches=[]}We(Gt,Me,{handler:function(Wt,vr,un){var va=un.pointerType==Re,qa=un.pointerType==Pt;if(!(qa&&un.sourceCapabilities&&un.sourceCapabilities.firesTouchEvents)){if(va)$t.call(this,vr,un);else if(qa&&lr.call(this,un))return;this.callback(Wt,vr,un)}},destroy:function(){this.touch.destroy(),this.mouse.destroy()}});function $t(mr,Wt){mr&Ke?(this.primaryTouch=Wt.changedPointers[0].identifier,nr.call(this,Wt)):mr&(Ot|Xe)&&nr.call(this,Wt)}function nr(mr){var Wt=mr.changedPointers[0];if(Wt.identifier===this.primaryTouch){var vr={x:Wt.clientX,y:Wt.clientY};this.lastTouches.push(vr);var un=this.lastTouches,va=function(){var mi=un.indexOf(vr);mi>-1&&un.splice(mi,1)};setTimeout(va,Oe)}}function lr(mr){for(var Wt=mr.srcEvent.clientX,vr=mr.srcEvent.clientY,un=0;un<this.lastTouches.length;un++){var va=this.lastTouches[un],qa=Math.abs(Wt-va.x),mi=Math.abs(vr-va.y);if(qa<=dt&&mi<=dt)return!0}return!1}var Dr=At(k.style,"touchAction"),Pr=Dr!==u,Wr="compute",an="auto",dn="manipulation",Rn="none",zn="pan-x",Qn="pan-y",Ma=_a();function Ca(mr,Wt){this.manager=mr,this.set(Wt)}Ca.prototype={set:function(Wt){Wt==Wr&&(Wt=this.compute()),Pr&&this.manager.element.style&&Ma[Wt]&&(this.manager.element.style[Dr]=Wt),this.actions=Wt.toLowerCase().trim()},update:function(){this.set(this.manager.options.touchAction)},compute:function(){var Wt=[];return we(this.manager.recognizers,function(vr){ce(vr.options.enable,[vr])&&(Wt=Wt.concat(vr.getTouchAction()))}),ia(Wt.join(" "))},preventDefaults:function(Wt){var vr=Wt.srcEvent,un=Wt.offsetDirection;if(this.manager.session.prevented){vr.preventDefault();return}var va=this.actions,qa=ye(va,Rn)&&!Ma[Rn],mi=ye(va,Qn)&&!Ma[Qn],ys=ye(va,zn)&&!Ma[zn];if(qa){var cl=Wt.pointers.length===1,gl=Wt.distance<2,Es=Wt.deltaTime<250;if(cl&&gl&&Es)return}if(!(ys&&mi)&&(qa||mi&&un&S||ys&&un&K))return this.preventSrc(vr)},preventSrc:function(Wt){this.manager.session.prevented=!0,Wt.preventDefault()}};function ia(mr){if(ye(mr,Rn))return Rn;var Wt=ye(mr,zn),vr=ye(mr,Qn);return Wt&&vr?Rn:Wt||vr?Wt?zn:Qn:ye(mr,dn)?dn:an}function _a(){if(!Pr)return!1;var mr={},Wt=y.CSS&&y.CSS.supports;return["auto","manipulation","pan-y","pan-x","pan-x pan-y","none"].forEach(function(vr){mr[vr]=Wt?y.CSS.supports("touch-action",vr):!0}),mr}var $a=1,ra=2,ni=4,Da=8,Fa=Da,ba=16,Oi=32;function Do(mr){this.options=Ce({},this.defaults,mr||{}),this.id=ie(),this.manager=null,this.options.enable=Vt(this.options.enable,!0),this.state=$a,this.simultaneous={},this.requireFail=[]}Do.prototype={defaults:{},set:function(Wt){return Ce(this.options,Wt),this.manager&&this.manager.touchAction.update(),this},recognizeWith:function(Wt){if(ve(Wt,"recognizeWith",this))return this;var vr=this.simultaneous;return Wt=Na(Wt,this),vr[Wt.id]||(vr[Wt.id]=Wt,Wt.recognizeWith(this)),this},dropRecognizeWith:function(Wt){return ve(Wt,"dropRecognizeWith",this)?this:(Wt=Na(Wt,this),delete this.simultaneous[Wt.id],this)},requireFailure:function(Wt){if(ve(Wt,"requireFailure",this))return this;var vr=this.requireFail;return Wt=Na(Wt,this),yt(vr,Wt)===-1&&(vr.push(Wt),Wt.requireFailure(this)),this},dropRequireFailure:function(Wt){if(ve(Wt,"dropRequireFailure",this))return this;Wt=Na(Wt,this);var vr=yt(this.requireFail,Wt);return vr>-1&&this.requireFail.splice(vr,1),this},hasRequireFailures:function(){return this.requireFail.length>0},canRecognizeWith:function(Wt){return!!this.simultaneous[Wt.id]},emit:function(Wt){var vr=this,un=this.state;function va(qa){vr.manager.emit(qa,Wt)}un<Da&&va(vr.options.event+Li(un)),va(vr.options.event),Wt.additionalEvent&&va(Wt.additionalEvent),un>=Da&&va(vr.options.event+Li(un))},tryEmit:function(Wt){if(this.canEmit())return this.emit(Wt);this.state=Oi},canEmit:function(){for(var Wt=0;Wt<this.requireFail.length;){if(!(this.requireFail[Wt].state&(Oi|$a)))return!1;Wt++}return!0},recognize:function(Wt){var vr=Ce({},Wt);if(!ce(this.options.enable,[this,vr])){this.reset(),this.state=Oi;return}this.state&(Fa|ba|Oi)&&(this.state=$a),this.state=this.process(vr),this.state&(ra|ni|Da|ba)&&this.tryEmit(vr)},process:function(Wt){},getTouchAction:function(){},reset:function(){}};function Li(mr){return mr&ba?"cancel":mr&Da?"end":mr&ni?"move":mr&ra?"start":""}function Ui(mr){return mr==q?"down":mr==z?"up":mr==Ne?"left":mr==B?"right":""}function Na(mr,Wt){var vr=Wt.manager;return vr?vr.get(mr):mr}function wa(){Do.apply(this,arguments)}We(wa,Do,{defaults:{pointers:1},attrTest:function(Wt){var vr=this.options.pointers;return vr===0||Wt.pointers.length===vr},process:function(Wt){var vr=this.state,un=Wt.eventType,va=vr&(ra|ni),qa=this.attrTest(Wt);return va&&(un&Xe||!qa)?vr|ba:va||qa?un&Ot?vr|Da:vr&ra?vr|ni:ra:Oi}});function ga(){wa.apply(this,arguments),this.pX=null,this.pY=null}We(ga,wa,{defaults:{event:"pan",threshold:10,pointers:1,direction:fe},getTouchAction:function(){var Wt=this.options.direction,vr=[];return Wt&S&&vr.push(Qn),Wt&K&&vr.push(zn),vr},directionTest:function(Wt){var vr=this.options,un=!0,va=Wt.distance,qa=Wt.direction,mi=Wt.deltaX,ys=Wt.deltaY;return qa&vr.direction||(vr.direction&S?(qa=mi===0?xt:mi<0?Ne:B,un=mi!=this.pX,va=Math.abs(Wt.deltaX)):(qa=ys===0?xt:ys<0?z:q,un=ys!=this.pY,va=Math.abs(Wt.deltaY))),Wt.direction=qa,un&&va>vr.threshold&&qa&vr.direction},attrTest:function(Wt){return wa.prototype.attrTest.call(this,Wt)&&(this.state&ra||!(this.state&ra)&&this.directionTest(Wt))},emit:function(Wt){this.pX=Wt.deltaX,this.pY=Wt.deltaY;var vr=Ui(Wt.direction);vr&&(Wt.additionalEvent=this.options.event+vr),this._super.emit.call(this,Wt)}});function pi(){wa.apply(this,arguments)}We(pi,wa,{defaults:{event:"pinch",threshold:0,pointers:2},getTouchAction:function(){return[Rn]},attrTest:function(Wt){return this._super.attrTest.call(this,Wt)&&(Math.abs(Wt.scale-1)>this.options.threshold||this.state&ra)},emit:function(Wt){if(Wt.scale!==1){var vr=Wt.scale<1?"in":"out";Wt.additionalEvent=this.options.event+vr}this._super.emit.call(this,Wt)}});function _o(){Do.apply(this,arguments),this._timer=null,this._input=null}We(_o,Do,{defaults:{event:"press",pointers:1,time:251,threshold:9},getTouchAction:function(){return[an]},process:function(Wt){var vr=this.options,un=Wt.pointers.length===vr.pointers,va=Wt.distance<vr.threshold,qa=Wt.deltaTime>vr.time;if(this._input=Wt,!va||!un||Wt.eventType&(Ot|Xe)&&!qa)this.reset();else if(Wt.eventType&Ke)this.reset(),this._timer=at(function(){this.state=Fa,this.tryEmit()},vr.time,this);else if(Wt.eventType&Ot)return Fa;return Oi},reset:function(){clearTimeout(this._timer)},emit:function(Wt){this.state===Fa&&(Wt&&Wt.eventType&Ot?this.manager.emit(this.options.event+"up",Wt):(this._input.timeStamp=Te(),this.manager.emit(this.options.event,this._input)))}});function To(){wa.apply(this,arguments)}We(To,wa,{defaults:{event:"rotate",threshold:0,pointers:2},getTouchAction:function(){return[Rn]},attrTest:function(Wt){return this._super.attrTest.call(this,Wt)&&(Math.abs(Wt.rotation)>this.options.threshold||this.state&ra)}});function so(){wa.apply(this,arguments)}We(so,wa,{defaults:{event:"swipe",threshold:10,velocity:.3,direction:S|K,pointers:1},getTouchAction:function(){return ga.prototype.getTouchAction.call(this)},attrTest:function(Wt){var vr=this.options.direction,un;return vr&(S|K)?un=Wt.overallVelocity:vr&S?un=Wt.overallVelocityX:vr&K&&(un=Wt.overallVelocityY),this._super.attrTest.call(this,Wt)&&vr&Wt.offsetDirection&&Wt.distance>this.options.threshold&&Wt.maxPointers==this.options.pointers&&ne(un)>this.options.velocity&&Wt.eventType&Ot},emit:function(Wt){var vr=Ui(Wt.offsetDirection);vr&&this.manager.emit(this.options.event+vr,Wt),this.manager.emit(this.options.event,Wt)}});function vi(){Do.apply(this,arguments),this.pTime=!1,this.pCenter=!1,this._timer=null,this._input=null,this.count=0}We(vi,Do,{defaults:{event:"tap",pointers:1,taps:1,interval:300,time:250,threshold:9,posThreshold:10},getTouchAction:function(){return[dn]},process:function(Wt){var vr=this.options,un=Wt.pointers.length===vr.pointers,va=Wt.distance<vr.threshold,qa=Wt.deltaTime<vr.time;if(this.reset(),Wt.eventType&Ke&&this.count===0)return this.failTimeout();if(va&&qa&&un){if(Wt.eventType!=Ot)return this.failTimeout();var mi=this.pTime?Wt.timeStamp-this.pTime<vr.interval:!0,ys=!this.pCenter||ft(this.pCenter,Wt.center)<vr.posThreshold;this.pTime=Wt.timeStamp,this.pCenter=Wt.center,!ys||!mi?this.count=1:this.count+=1,this._input=Wt;var cl=this.count%vr.taps;if(cl===0)return this.hasRequireFailures()?(this._timer=at(function(){this.state=Fa,this.tryEmit()},vr.interval,this),ra):Fa}return Oi},failTimeout:function(){return this._timer=at(function(){this.state=Oi},this.options.interval,this),Oi},reset:function(){clearTimeout(this._timer)},emit:function(){this.state==Fa&&(this._input.tapCount=this.count,this.manager.emit(this.options.event,this._input))}});function ko(mr,Wt){return Wt=Wt||{},Wt.recognizers=Vt(Wt.recognizers,ko.defaults.preset),new Pa(mr,Wt)}ko.VERSION="2.0.7",ko.defaults={domEvents:!1,touchAction:Wr,enable:!0,inputTarget:null,inputClass:null,preset:[[To,{enable:!1}],[pi,{enable:!1},["rotate"]],[so,{direction:S}],[ga,{direction:S},["swipe"]],[vi],[vi,{event:"doubletap",taps:2},["tap"]],[_o]],cssProps:{userSelect:"none",touchSelect:"none",touchCallout:"none",contentZooming:"none",userDrag:"none",tapHighlightColor:"rgba(0,0,0,0)"}};var bo=1,Ba=2;function Pa(mr,Wt){this.options=Ce({},ko.defaults,Wt||{}),this.options.inputTarget=this.options.inputTarget||mr,this.handlers={},this.session={},this.recognizers=[],this.oldCssProps={},this.element=mr,this.input=U(this),this.touchAction=new Ca(this,this.options.touchAction),lo(this,!0),we(this.options.recognizers,function(vr){var un=this.add(new vr[0](vr[1]));vr[2]&&un.recognizeWith(vr[2]),vr[3]&&un.requireFailure(vr[3])},this)}Pa.prototype={set:function(Wt){return Ce(this.options,Wt),Wt.touchAction&&this.touchAction.update(),Wt.inputTarget&&(this.input.destroy(),this.input.target=Wt.inputTarget,this.input.init()),this},stop:function(Wt){this.session.stopped=Wt?Ba:bo},recognize:function(Wt){var vr=this.session;if(!vr.stopped){this.touchAction.preventDefaults(Wt);var un,va=this.recognizers,qa=vr.curRecognizer;(!qa||qa&&qa.state&Fa)&&(qa=vr.curRecognizer=null);for(var mi=0;mi<va.length;)un=va[mi],vr.stopped!==Ba&&(!qa||un==qa||un.canRecognizeWith(qa))?un.recognize(Wt):un.reset(),!qa&&un.state&(ra|ni|Da)&&(qa=vr.curRecognizer=un),mi++}},get:function(Wt){if(Wt instanceof Do)return Wt;for(var vr=this.recognizers,un=0;un<vr.length;un++)if(vr[un].options.event==Wt)return vr[un];return null},add:function(Wt){if(ve(Wt,"add",this))return this;var vr=this.get(Wt.options.event);return vr&&this.remove(vr),this.recognizers.push(Wt),Wt.manager=this,this.touchAction.update(),Wt},remove:function(Wt){if(ve(Wt,"remove",this))return this;if(Wt=this.get(Wt),Wt){var vr=this.recognizers,un=yt(vr,Wt);un!==-1&&(vr.splice(un,1),this.touchAction.update())}return this},on:function(Wt,vr){if(Wt!==u&&vr!==u){var un=this.handlers;return we(lt(Wt),function(va){un[va]=un[va]||[],un[va].push(vr)}),this}},off:function(Wt,vr){if(Wt!==u){var un=this.handlers;return we(lt(Wt),function(va){vr?un[va]&&un[va].splice(yt(un[va],vr),1):delete un[va]}),this}},emit:function(Wt,vr){this.options.domEvents&&No(Wt,vr);var un=this.handlers[Wt]&&this.handlers[Wt].slice();if(!(!un||!un.length)){vr.type=Wt,vr.preventDefault=function(){vr.srcEvent.preventDefault()};for(var va=0;va<un.length;)un[va](vr),va++}},destroy:function(){this.element&&lo(this,!1),this.handlers={},this.session={},this.input.destroy(),this.element=null}};function lo(mr,Wt){var vr=mr.element;if(!!vr.style){var un;we(mr.options.cssProps,function(va,qa){un=At(vr.style,qa),Wt?(mr.oldCssProps[un]=vr.style[un],vr.style[un]=va):vr.style[un]=mr.oldCssProps[un]||""}),Wt||(mr.oldCssProps={})}}function No(mr,Wt){var vr=T.createEvent("Event");vr.initEvent(mr,!0,!0),vr.gesture=Wt,Wt.target.dispatchEvent(vr)}Ce(ko,{INPUT_START:Ke,INPUT_MOVE:nt,INPUT_END:Ot,INPUT_CANCEL:Xe,STATE_POSSIBLE:$a,STATE_BEGAN:ra,STATE_CHANGED:ni,STATE_ENDED:Da,STATE_RECOGNIZED:Fa,STATE_CANCELLED:ba,STATE_FAILED:Oi,DIRECTION_NONE:xt,DIRECTION_LEFT:Ne,DIRECTION_RIGHT:B,DIRECTION_UP:z,DIRECTION_DOWN:q,DIRECTION_HORIZONTAL:S,DIRECTION_VERTICAL:K,DIRECTION_ALL:fe,Manager:Pa,Input:Me,TouchAction:Ca,TouchInput:Pe,MouseInput:tn,PointerEventInput:it,TouchMouseInput:Gt,SingleTouchInput:Ee,Recognizer:Do,AttrRecognizer:wa,Tap:vi,Pan:ga,Swipe:so,Pinch:pi,Rotate:To,Press:_o,on:It,off:Mt,each:we,merge:Et,extend:et,assign:Ce,inherit:We,bindFn:ct,prefixed:At});var La=typeof y!="undefined"?y:typeof self!="undefined"?self:{};La.Hammer=ko,M=function(){return ko}.call(A,r,A,ze),M!==u&&(ze.exports=M)})(window,document,"Hammer")},yMAV:function(ze,A,r){"use strict";Object.defineProperty(A,"__esModule",{value:!0}),A.Plan=void 0;var M=function(){function y(T,b){this.parentContext=T,this.rootRequest=b}return y}();A.Plan=M},yP5f:function(ze,A,r){var M=r("+K+b");function y(T,b){var u=b?M(T.buffer):T.buffer;return new T.constructor(u,T.byteOffset,T.length)}ze.exports=y},yU0y:function(ze,A,r){"use strict";r.d(A,"b",function(){return M}),r.d(A,"a",function(){return y}),r.d(A,"c",function(){return T});var M=1e-6,y=typeof Float32Array!="undefined"?Float32Array:Array,T=Math.random;function b(Z){y=Z}var u=Math.PI/180;function H(Z){return Z*u}function k(Z,oe){return Math.abs(Z-oe)<=M*Math.max(1,Math.abs(Z),Math.abs(oe))}Math.hypot||(Math.hypot=function(){for(var Z=0,oe=arguments.length;oe--;)Z+=arguments[oe]*arguments[oe];return Math.sqrt(Z)})},yXPU:function(ze,A){function r(y,T,b,u,H,k,Z){try{var oe=y[k](Z),ne=oe.value}catch(Te){b(Te);return}oe.done?T(ne):Promise.resolve(ne).then(u,H)}function M(y){return function(){var T=this,b=arguments;return new Promise(function(u,H){var k=y.apply(T,b);function Z(ne){r(k,u,H,Z,oe,"next",ne)}function oe(ne){r(k,u,H,Z,oe,"throw",ne)}Z(void 0)})}}ze.exports=M,ze.exports.default=ze.exports,ze.exports.__esModule=!0},yeZT:function(ze,A,r){"use strict";r.d(A,"a",function(){return it}),r.d(A,"c",function(){return ue}),r.d(A,"d",function(){return be}),r.d(A,"e",function(){return rt});var M=r("WmNS"),y=r.n(M),T=r("T2oS"),b=r("W9HT"),u=r("GNNt"),H=r("wEI+"),k=r("DYRE"),Z=r("zeV3"),oe=r("q1tI"),ne=r.n(oe),Te=r("9mHw"),at=r("g5r2"),ve=r("Lpa7"),we=r("LQCs"),I=r("OaEy"),Ce=r("2fM7"),et=r("5NDa"),Et=r("5rEg"),We=r("l+S1"),ct=r("TSYQ"),ce=r.n(ct),Vt=r("iGn7"),It=r("jkmW"),Mt=["label","prefixCls","onChange","value","mode","children","defaultValue","size","showSearch","disabled","style","className","bordered","options","onSearch","allowClear","labelInValue"];function Tt(){return Tt=Object.assign||function(xe){for(var Oe=1;Oe<arguments.length;Oe++){var dt=arguments[Oe];for(var Gt in dt)Object.prototype.hasOwnProperty.call(dt,Gt)&&(xe[Gt]=dt[Gt])}return xe},Tt.apply(this,arguments)}function ye(xe,Oe,dt){return Oe in xe?Object.defineProperty(xe,Oe,{value:dt,enumerable:!0,configurable:!0,writable:!0}):xe[Oe]=dt,xe}function lt(xe,Oe){return vt(xe)||At(xe,Oe)||Dt(xe,Oe)||yt()}function yt(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Dt(xe,Oe){if(!!xe){if(typeof xe=="string")return Jt(xe,Oe);var dt=Object.prototype.toString.call(xe).slice(8,-1);if(dt==="Object"&&xe.constructor&&(dt=xe.constructor.name),dt==="Map"||dt==="Set")return Array.from(xe);if(dt==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(dt))return Jt(xe,Oe)}}function Jt(xe,Oe){(Oe==null||Oe>xe.length)&&(Oe=xe.length);for(var dt=0,Gt=new Array(Oe);dt<Oe;dt++)Gt[dt]=xe[dt];return Gt}function At(xe,Oe){var dt=xe==null?null:typeof Symbol!="undefined"&&xe[Symbol.iterator]||xe["@@iterator"];if(dt!=null){var Gt=[],$t=!0,nr=!1,lr,Dr;try{for(dt=dt.call(xe);!($t=(lr=dt.next()).done)&&(Gt.push(lr.value),!(Oe&&Gt.length===Oe));$t=!0);}catch(Pr){nr=!0,Dr=Pr}finally{try{!$t&&dt.return!=null&&dt.return()}finally{if(nr)throw Dr}}return Gt}}function vt(xe){if(Array.isArray(xe))return xe}function ie(xe,Oe){if(xe==null)return{};var dt=J(xe,Oe),Gt,$t;if(Object.getOwnPropertySymbols){var nr=Object.getOwnPropertySymbols(xe);for($t=0;$t<nr.length;$t++)Gt=nr[$t],!(Oe.indexOf(Gt)>=0)&&(!Object.prototype.propertyIsEnumerable.call(xe,Gt)||(dt[Gt]=xe[Gt]))}return dt}function J(xe,Oe){if(xe==null)return{};var dt={},Gt=Object.keys(xe),$t,nr;for(nr=0;nr<Gt.length;nr++)$t=Gt[nr],!(Oe.indexOf($t)>=0)&&(dt[$t]=xe[$t]);return dt}function ee(xe){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?ee=function(dt){return typeof dt}:ee=function(dt){return dt&&typeof Symbol=="function"&&dt.constructor===Symbol&&dt!==Symbol.prototype?"symbol":typeof dt},ee(xe)}var Ie=function(Oe,dt){return ee(dt)!=="object"?Oe[dt]||dt:Oe[dt==null?void 0:dt.value]||dt.label},me=function(Oe,dt){var Gt=Oe.label,$t=Oe.prefixCls,nr=Oe.onChange,lr=Oe.value,Dr=Oe.mode,Pr=Oe.children,Wr=Oe.defaultValue,an=Oe.size,dn=Oe.showSearch,Rn=Oe.disabled,zn=Oe.style,Qn=Oe.className,Ma=Oe.bordered,Ca=Oe.options,ia=Oe.onSearch,_a=Oe.allowClear,$a=Oe.labelInValue,ra=ie(Oe,Mt),ni=Oe.placeholder,Da=ni===void 0?Gt:ni,Fa=Object(oe.useContext)(H.b.ConfigContext),ba=Fa.getPrefixCls,Oi=ba("pro-field-select-light-select"),Do=Object(oe.useState)(!1),Li=lt(Do,2),Ui=Li[0],Na=Li[1],wa=Object(oe.useState)(""),ga=lt(wa,2),pi=ga[0],_o=ga[1],To=Object(oe.useMemo)(function(){var vi={};return Ca==null||Ca.forEach(function(ko){var bo=ko.label,Ba=ko.value;vi[Ba]=bo||Ba}),vi},[Ca]),so=Array.isArray(lr)?lr.map(function(vi){return Ie(To,vi)}):Ie(To,lr);return ne.a.createElement("div",{className:ce()(Oi,ye({},"".concat(Oi,"-searchable"),dn),Qn),style:zn,onClick:function(){Rn||Na(!0)}},ne.a.createElement(Ce.a,Tt({},ra,{allowClear:_a,value:lr,mode:Dr,labelInValue:$a,size:an,disabled:Rn,onChange:function(ko,bo){nr==null||nr(ko,bo),Dr!=="multiple"&&setTimeout(function(){Na(!1)},0)},bordered:Ma,showSearch:dn,onSearch:ia,style:zn,dropdownRender:function(ko){return ne.a.createElement("div",{ref:dt},dn&&ne.a.createElement("div",{style:{margin:"4px 8px"}},ne.a.createElement(Et.a,{value:pi,allowClear:_a,onChange:function(Ba){_o(Ba.target.value.toLowerCase()),ia==null||ia(Ba.target.value)},onKeyDown:function(Ba){Ba.stopPropagation()},style:{width:"100%"},prefix:ne.a.createElement(We.a,null)})),ko)},open:Ui,onDropdownVisibleChange:Na,prefixCls:$t,options:pi?Ca==null?void 0:Ca.filter(function(vi){return String(vi.label).toLowerCase().includes(pi)||vi.value.toLowerCase().includes(pi)}):Ca})),ne.a.createElement(Vt.a,{ellipsis:!0,size:an,label:Gt,placeholder:Da,disabled:Rn,expanded:Ui,bordered:Ma,allowClear:_a,value:so||(lr==null?void 0:lr.label)||lr,onClear:function(){nr==null||nr(void 0,void 0)}}))},Ve=ne.a.forwardRef(me),Re=["optionItemRender","mode","onSearch","onFocus","onChange","autoClearSearchValue","searchOnFocus","resetAfterSelect","optionFilterProp","optionLabelProp","className","disabled","options","fetchData","resetData","prefixCls","onClear","searchValue","showSearch"];function bt(){return bt=Object.assign||function(xe){for(var Oe=1;Oe<arguments.length;Oe++){var dt=arguments[Oe];for(var Gt in dt)Object.prototype.hasOwnProperty.call(dt,Gt)&&(xe[Gt]=dt[Gt])}return xe},bt.apply(this,arguments)}function Pt(xe,Oe){var dt=Object.keys(xe);if(Object.getOwnPropertySymbols){var Gt=Object.getOwnPropertySymbols(xe);Oe&&(Gt=Gt.filter(function($t){return Object.getOwnPropertyDescriptor(xe,$t).enumerable})),dt.push.apply(dt,Gt)}return dt}function ht(xe){for(var Oe=1;Oe<arguments.length;Oe++){var dt=arguments[Oe]!=null?arguments[Oe]:{};Oe%2?Pt(Object(dt),!0).forEach(function(Gt){Ye(xe,Gt,dt[Gt])}):Object.getOwnPropertyDescriptors?Object.defineProperties(xe,Object.getOwnPropertyDescriptors(dt)):Pt(Object(dt)).forEach(function(Gt){Object.defineProperty(xe,Gt,Object.getOwnPropertyDescriptor(dt,Gt))})}return xe}function Ye(xe,Oe,dt){return Oe in xe?Object.defineProperty(xe,Oe,{value:dt,enumerable:!0,configurable:!0,writable:!0}):xe[Oe]=dt,xe}function Ke(xe,Oe){return Ne(xe)||xt(xe,Oe)||Ot(xe,Oe)||nt()}function nt(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Ot(xe,Oe){if(!!xe){if(typeof xe=="string")return Xe(xe,Oe);var dt=Object.prototype.toString.call(xe).slice(8,-1);if(dt==="Object"&&xe.constructor&&(dt=xe.constructor.name),dt==="Map"||dt==="Set")return Array.from(xe);if(dt==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(dt))return Xe(xe,Oe)}}function Xe(xe,Oe){(Oe==null||Oe>xe.length)&&(Oe=xe.length);for(var dt=0,Gt=new Array(Oe);dt<Oe;dt++)Gt[dt]=xe[dt];return Gt}function xt(xe,Oe){var dt=xe==null?null:typeof Symbol!="undefined"&&xe[Symbol.iterator]||xe["@@iterator"];if(dt!=null){var Gt=[],$t=!0,nr=!1,lr,Dr;try{for(dt=dt.call(xe);!($t=(lr=dt.next()).done)&&(Gt.push(lr.value),!(Oe&&Gt.length===Oe));$t=!0);}catch(Pr){nr=!0,Dr=Pr}finally{try{!$t&&dt.return!=null&&dt.return()}finally{if(nr)throw Dr}}return Gt}}function Ne(xe){if(Array.isArray(xe))return xe}function B(xe,Oe){if(xe==null)return{};var dt=z(xe,Oe),Gt,$t;if(Object.getOwnPropertySymbols){var nr=Object.getOwnPropertySymbols(xe);for($t=0;$t<nr.length;$t++)Gt=nr[$t],!(Oe.indexOf(Gt)>=0)&&(!Object.prototype.propertyIsEnumerable.call(xe,Gt)||(dt[Gt]=xe[Gt]))}return dt}function z(xe,Oe){if(xe==null)return{};var dt={},Gt=Object.keys(xe),$t,nr;for(nr=0;nr<Gt.length;nr++)$t=Gt[nr],!(Oe.indexOf($t)>=0)&&(dt[$t]=xe[$t]);return dt}var q=Ce.a.Option,S=Ce.a.OptGroup,K=function(Oe,dt){var Gt=Oe.optionItemRender,$t=Oe.mode,nr=Oe.onSearch,lr=Oe.onFocus,Dr=Oe.onChange,Pr=Oe.autoClearSearchValue,Wr=Oe.searchOnFocus,an=Wr===void 0?!1:Wr,dn=Oe.resetAfterSelect,Rn=dn===void 0?!1:dn,zn=Oe.optionFilterProp,Qn=zn===void 0?"label":zn,Ma=Oe.optionLabelProp,Ca=Ma===void 0?"label":Ma,ia=Oe.className,_a=Oe.disabled,$a=Oe.options,ra=Oe.fetchData,ni=Oe.resetData,Da=Oe.prefixCls,Fa=Oe.onClear,ba=Oe.searchValue,Oi=Oe.showSearch,Do=B(Oe,Re),Li=Object(oe.useState)(ba),Ui=Ke(Li,2),Na=Ui[0],wa=Ui[1];Object(oe.useEffect)(function(){wa(ba)},[ba]);var ga=Object(oe.useContext)(H.b.ConfigContext),pi=ga.getPrefixCls,_o=pi("pro-filed-search-select",Da),To=ce()(_o,ia,Ye({},"".concat(_o,"-disabled"),_a)),so=function(bo,Ba){return Array.isArray(bo)&&bo.length>0?bo.map(function(Pa,lo){var No=Ba==null?void 0:Ba[lo],La=(No==null?void 0:No["data-item"])||{};return ht(ht({},La),Pa)}):[]},vi=function ko(bo){return bo.map(function(Ba){var Pa=Ba.label,lo=Ba.value,No=Ba.disabled,La=Ba.className,mr=Ba.optionType;return mr==="optGroup"?ne.a.createElement(S,{key:Ba.key||Ba.value,label:Ba.label},ko((Ba==null?void 0:Ba.options)||(Ba==null?void 0:Ba.children)||[])):ne.a.createElement(q,bt({},Ba,{value:lo,key:lo||(Pa==null?void 0:Pa.toString()),disabled:No,"data-item":Ba,className:"".concat(_o,"-option ").concat(La||""),label:Ba.label}),(Gt==null?void 0:Gt(Ba))||Pa)})};return ne.a.createElement(Ce.a,bt({ref:dt,className:To,allowClear:!0,disabled:_a,mode:$t,showSearch:Oi,searchValue:Na,optionFilterProp:Qn,optionLabelProp:Ca,onClear:function(){Fa==null||Fa(),ra(""),Oi&&wa("")}},Do,{onSearch:Oi?function(ko){ra(ko),nr==null||nr(ko),wa(ko)}:void 0,onChange:function(bo,Ba){Oi&&Pr&&(ra(""),nr==null||nr(""),wa(""));for(var Pa=arguments.length,lo=new Array(Pa>2?Pa-2:0),No=2;No<Pa;No++)lo[No-2]=arguments[No];if(!Oe.labelInValue){Dr==null||Dr.apply(void 0,[bo,Ba].concat(lo));return}if($t!=="multiple"){var La=Ba&&Ba["data-item"]||{};Dr==null||Dr.apply(void 0,[ht(ht({},bo),La),Ba].concat(lo));return}var mr=so(bo,Ba);Dr==null||Dr.apply(void 0,[mr,Ba].concat(lo)),Rn&&ni()},onFocus:function(bo){an&&ra(""),lr==null||lr(bo)}}),vi($a||[]))},fe=ne.a.forwardRef(K),Fe=r("NYcB"),pe=r("SmY/"),Me=["value","text"],U=["mode","valueEnum","render","renderFormItem","request","fieldProps","plain","children","light","proFieldKey","params","label","bordered","id"];function le(){return le=Object.assign||function(xe){for(var Oe=1;Oe<arguments.length;Oe++){var dt=arguments[Oe];for(var Gt in dt)Object.prototype.hasOwnProperty.call(dt,Gt)&&(xe[Gt]=dt[Gt])}return xe},le.apply(this,arguments)}function Le(xe,Oe,dt,Gt,$t,nr,lr){try{var Dr=xe[nr](lr),Pr=Dr.value}catch(Wr){dt(Wr);return}Dr.done?Oe(Pr):Promise.resolve(Pr).then(Gt,$t)}function ot(xe){return function(){var Oe=this,dt=arguments;return new Promise(function(Gt,$t){var nr=xe.apply(Oe,dt);function lr(Pr){Le(nr,Gt,$t,lr,Dr,"next",Pr)}function Dr(Pr){Le(nr,Gt,$t,lr,Dr,"throw",Pr)}lr(void 0)})}}function St(xe,Oe){var dt=Object.keys(xe);if(Object.getOwnPropertySymbols){var Gt=Object.getOwnPropertySymbols(xe);Oe&&(Gt=Gt.filter(function($t){return Object.getOwnPropertyDescriptor(xe,$t).enumerable})),dt.push.apply(dt,Gt)}return dt}function Ge(xe){for(var Oe=1;Oe<arguments.length;Oe++){var dt=arguments[Oe]!=null?arguments[Oe]:{};Oe%2?St(Object(dt),!0).forEach(function(Gt){Be(xe,Gt,dt[Gt])}):Object.getOwnPropertyDescriptors?Object.defineProperties(xe,Object.getOwnPropertyDescriptors(dt)):St(Object(dt)).forEach(function(Gt){Object.defineProperty(xe,Gt,Object.getOwnPropertyDescriptor(dt,Gt))})}return xe}function Be(xe,Oe,dt){return Oe in xe?Object.defineProperty(xe,Oe,{value:dt,enumerable:!0,configurable:!0,writable:!0}):xe[Oe]=dt,xe}function Nt(xe,Oe){if(xe==null)return{};var dt=kt(xe,Oe),Gt,$t;if(Object.getOwnPropertySymbols){var nr=Object.getOwnPropertySymbols(xe);for($t=0;$t<nr.length;$t++)Gt=nr[$t],!(Oe.indexOf(Gt)>=0)&&(!Object.prototype.propertyIsEnumerable.call(xe,Gt)||(dt[Gt]=xe[Gt]))}return dt}function kt(xe,Oe){if(xe==null)return{};var dt={},Gt=Object.keys(xe),$t,nr;for(nr=0;nr<Gt.length;nr++)$t=Gt[nr],!(Oe.indexOf($t)>=0)&&(dt[$t]=xe[$t]);return dt}function ft(xe,Oe){return Qt(xe)||Ze(xe,Oe)||tn(xe,Oe)||ut()}function ut(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Ze(xe,Oe){var dt=xe==null?null:typeof Symbol!="undefined"&&xe[Symbol.iterator]||xe["@@iterator"];if(dt!=null){var Gt=[],$t=!0,nr=!1,lr,Dr;try{for(dt=dt.call(xe);!($t=(lr=dt.next()).done)&&(Gt.push(lr.value),!(Oe&&Gt.length===Oe));$t=!0);}catch(Pr){nr=!0,Dr=Pr}finally{try{!$t&&dt.return!=null&&dt.return()}finally{if(nr)throw Dr}}return Gt}}function Qt(xe){if(Array.isArray(xe))return xe}function ar(xe){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?ar=function(dt){return typeof dt}:ar=function(dt){return dt&&typeof Symbol=="function"&&dt.constructor===Symbol&&dt!==Symbol.prototype?"symbol":typeof dt},ar(xe)}function zr(xe){return Bn(xe)||_n(xe)||tn(xe)||qr()}function qr(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function tn(xe,Oe){if(!!xe){if(typeof xe=="string")return ya(xe,Oe);var dt=Object.prototype.toString.call(xe).slice(8,-1);if(dt==="Object"&&xe.constructor&&(dt=xe.constructor.name),dt==="Map"||dt==="Set")return Array.from(xe);if(dt==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(dt))return ya(xe,Oe)}}function _n(xe){if(typeof Symbol!="undefined"&&xe[Symbol.iterator]!=null||xe["@@iterator"]!=null)return Array.from(xe)}function Bn(xe){if(Array.isArray(xe))return ya(xe)}function ya(xe,Oe){(Oe==null||Oe>xe.length)&&(Oe=xe.length);for(var dt=0,Gt=new Array(Oe);dt<Oe;dt++)Gt[dt]=xe[dt];return Gt}var Tr=0,it=function(Oe){return De(Oe)==="map"?Oe:new Map(Object.entries(Oe||{}))},ue=function xe(Oe,dt){if(Array.isArray(Oe))return ne.a.createElement(Z.b,null,Oe.map(function(Pr){return ne.a.createElement(ne.a.Fragment,{key:(Pr==null?void 0:Pr.value)||Pr},xe(Pr,dt))}));var Gt=it(dt);if(!Gt.has(Oe)&&!Gt.has("".concat(Oe)))return(Oe==null?void 0:Oe.label)||Oe;var $t=Gt.get(Oe)||Gt.get("".concat(Oe));if(!$t)return(Oe==null?void 0:Oe.label)||Oe;var nr=$t.status,lr=$t.color,Dr=Fe.b[nr||"Init"];return Dr?ne.a.createElement(Dr,null,$t.text):lr?ne.a.createElement(Fe.a,{color:lr},$t.text):$t.text||$t},ge=function(Oe){var dt=Oe.label,Gt=Oe.words,$t=".^$*+-?()[]{}\\|",nr=Object(oe.useContext)(H.b.ConfigContext),lr=nr.getPrefixCls,Dr=lr("pro-select-item-option-content-light"),Pr=lr("pro-select-item-option-content"),Wr=new RegExp(Gt.map(function(Rn){return Rn.split("").map(function(zn){return $t.includes(zn)?"\\".concat(zn):zn}).join("")}).join("|"),"gi"),an=dt.replace(Wr,"#@$&#"),dn=an.split("#").map(function(Rn){return Rn[0]==="@"?ne.a.createElement("span",{className:Dr},Rn.slice(1)):Rn});return ne.a.createElement.apply(ne.a,["div",{className:Pr}].concat(zr(dn)))};function De(xe){var Oe=Object.prototype.toString.call(xe).match(/^\[object (.*)\]$/)[1].toLowerCase();return Oe==="string"&&ar(xe)==="object"?"object":xe===null?"null":xe===void 0?"undefined":Oe}function Ee(xe,Oe){var dt,Gt;if(!Oe||(xe==null||(dt=xe.label)===null||dt===void 0?void 0:dt.toString().toLowerCase().includes(Oe.toLowerCase()))||(xe==null||(Gt=xe.value)===null||Gt===void 0?void 0:Gt.toString().toLowerCase().includes(Oe.toLowerCase())))return!0;if(xe.optionType==="optGroup"&&(xe.children||xe.options)){var $t=[].concat(zr(xe.children||[]),[xe.options||[]]).find(function(nr){return Ee(nr,Oe)});if($t)return!0}return!1}var be=function(Oe){var dt=[],Gt=it(Oe);return Gt.forEach(function($t,nr){var lr=Gt.get(nr)||Gt.get("".concat(nr));if(!!lr){if(ar(lr)==="object"&&(lr==null?void 0:lr.text)){dt.push({text:lr==null?void 0:lr.text,value:nr,disabled:lr.disabled});return}dt.push({text:lr,value:nr})}}),dt},rt=function(Oe){var dt,Gt,$t=Object(oe.useState)(void 0),nr=ft($t,2),lr=nr[0],Dr=nr[1],Pr=Object(oe.useState)(function(){return Oe.proFieldKey?Oe.proFieldKey.toString():Oe.request?(Tr+=1,Tr.toString()):"no-fetch"}),Wr=ft(Pr,1),an=Wr[0],dn=Object(oe.useRef)(an),Rn=Object(oe.useCallback)(function(Li){return be(it(Li)).map(function(Ui){var Na=Ui.value,wa=Ui.text,ga=Nt(Ui,Me);return Ge({label:wa,value:Na,key:Na},ga)})},[]),zn=Object(Te.a)(function(){return Oe.valueEnum?Rn(Oe.valueEnum):[]},{value:(dt=Oe.fieldProps)===null||dt===void 0?void 0:dt.options}),Qn=ft(zn,2),Ma=Qn[0],Ca=Qn[1];Object(at.a)(function(){var Li;!Oe.valueEnum||((Li=Oe.fieldProps)===null||Li===void 0?void 0:Li.options)||Ca(Rn(Oe.valueEnum))},[Oe.valueEnum]);var ia=Object(Te.a)(!1),_a=ft(ia,2),$a=_a[0],ra=_a[1],ni=function(){var Li=ot(y.a.mark(function Ui(){var Na;return y.a.wrap(function(ga){for(;;)switch(ga.prev=ga.next){case 0:if(Oe.request){ga.next=2;break}return ga.abrupt("return",[]);case 2:return ra(!0),ga.next=5,Oe.request(Ge(Ge({},Oe.params),{},{keyWords:lr}),Oe);case 5:return Na=ga.sent,ra(!1),ga.abrupt("return",Na);case 8:case"end":return ga.stop()}},Ui)}));return function(){return Li.apply(this,arguments)}}(),Da=Object(oe.useMemo)(function(){return Oe.request?!Oe.params&&!lr?dn.current:[dn.current,JSON.stringify(Ge(Ge({},Oe.params),{},{keyWords:lr}))]:"no-fetch"},[lr,Oe.params,Oe.request]),Fa=Object(ve.a)(Da,ni,{revalidateOnFocus:!1,shouldRetryOnError:!1,revalidateOnReconnect:!1}),ba=Fa.data,Oi=Fa.mutate,Do=Object(oe.useMemo)(function(){var Li,Ui,Na=Ma==null?void 0:Ma.map(function(wa){if(typeof wa=="string")return{label:wa,value:wa};if((wa==null?void 0:wa.optionType)==="optGroup"&&(wa.children||wa.options)){var ga=[].concat(zr(wa.children||[]),zr(wa.options||[])).filter(function(pi){return Ee(pi,lr)});return Ge(Ge({},wa),{},{children:ga,options:ga})}return wa});return((Li=Oe.fieldProps)===null||Li===void 0?void 0:Li.filterOption)===!0||((Ui=Oe.fieldProps)===null||Ui===void 0?void 0:Ui.filterOption)===void 0?Na==null?void 0:Na.filter(function(wa){return wa?lr?Ee(wa,lr):!0:!1}):Na},[Ma,lr,(Gt=Oe.fieldProps)===null||Gt===void 0?void 0:Gt.filterOption]);return[$a,Oe.request?ba:Do,function(Li){Dr(Li),Object(ve.b)(Da)},function(){Dr(void 0),Oi(ot(y.a.mark(function Li(){return y.a.wrap(function(Na){for(;;)switch(Na.prev=Na.next){case 0:return Na.abrupt("return",[]);case 1:case"end":return Na.stop()}},Li)})),!1)}]},de=function(Oe,dt){var Gt=Oe.mode,$t=Oe.valueEnum,nr=Oe.render,lr=Oe.renderFormItem,Dr=Oe.request,Pr=Oe.fieldProps,Wr=Oe.plain,an=Oe.children,dn=Oe.light,Rn=Oe.proFieldKey,zn=Oe.params,Qn=Oe.label,Ma=Oe.bordered,Ca=Oe.id,ia=Nt(Oe,U),_a=Object(oe.useRef)(),$a=Object(we.d)(),ra=Object(oe.useRef)("");Object(oe.useEffect)(function(){Tr+=1},[]),Object(oe.useEffect)(function(){ra.current=Pr==null?void 0:Pr.searchValue},[Pr==null?void 0:Pr.searchValue]);var ni=rt(Oe),Da=ft(ni,4),Fa=Da[0],ba=Da[1],Oi=Da[2],Do=Da[3],Li=Object(oe.useContext)(H.b.SizeContext);if(Object(oe.useImperativeHandle)(dt,function(){return Ge(Ge({},_a.current||{}),{},{fetchData:function(){return Oi()}})}),Gt==="read"){var Ui,Na=(ba==null?void 0:ba.length)?ba==null?void 0:ba.reduce(function(To,so){return Ge(Ge({},To),{},Be({},so.value,so.label))},{}):void 0;if((Ui=ia.text)===null||Ui===void 0?void 0:Ui.label){var wa;return(wa=ia.text)===null||wa===void 0?void 0:wa.label}var ga=ne.a.createElement(ne.a.Fragment,null,ue(ia.text,it($t||Na)));return nr?nr(ia.text,Ge({mode:Gt},Pr),ga)||null:ga}if(Gt==="edit"||Gt==="update"){var pi=function(){return dn?ne.a.createElement(Ve,le({bordered:Ma,id:Ca,loading:Fa,ref:_a,allowClear:!0,size:Li,options:ba,label:Qn,placeholder:$a.getMessage("tableForm.selectPlaceholder","\u8BF7\u9009\u62E9")},Pr)):ne.a.createElement(fe,le({key:"SearchSelect",style:{minWidth:100},bordered:Ma,id:Ca,loading:Fa,ref:_a,allowClear:!0,notFoundContent:Fa?ne.a.createElement(b.a,{size:"small"}):Pr==null?void 0:Pr.notFoundContent,fetchData:function(vi){ra.current=vi,Oi(vi)},resetData:Do,optionItemRender:function(vi){return typeof vi.label=="string"&&ra.current?ne.a.createElement(ge,{label:vi.label,words:[ra.current]}):vi.label},placeholder:$a.getMessage("tableForm.selectPlaceholder","\u8BF7\u9009\u62E9"),label:Qn},Pr,{options:ba}))},_o=pi();return lr?lr(ia.text,Ge(Ge({mode:Gt},Pr),{},{options:ba}),_o)||null:_o}return null},Pe=A.b=ne.a.forwardRef(de)},z4Hk:function(ze,A,r){"use strict";Object.defineProperty(A,"__esModule",{value:!0}),A.BindingWhenSyntax=void 0;var M=r("406g"),y=r("RR/i"),T=function(){function b(u){this._binding=u}return b.prototype.when=function(u){return this._binding.constraint=u,new M.BindingOnSyntax(this._binding)},b.prototype.whenTargetNamed=function(u){return this._binding.constraint=y.namedConstraint(u),new M.BindingOnSyntax(this._binding)},b.prototype.whenTargetIsDefault=function(){return this._binding.constraint=function(u){var H=u.target!==null&&!u.target.isNamed()&&!u.target.isTagged();return H},new M.BindingOnSyntax(this._binding)},b.prototype.whenTargetTagged=function(u,H){return this._binding.constraint=y.taggedConstraint(u)(H),new M.BindingOnSyntax(this._binding)},b.prototype.whenInjectedInto=function(u){return this._binding.constraint=function(H){return y.typeConstraint(u)(H.parentRequest)},new M.BindingOnSyntax(this._binding)},b.prototype.whenParentNamed=function(u){return this._binding.constraint=function(H){return y.namedConstraint(u)(H.parentRequest)},new M.BindingOnSyntax(this._binding)},b.prototype.whenParentTagged=function(u,H){return this._binding.constraint=function(k){return y.taggedConstraint(u)(H)(k.parentRequest)},new M.BindingOnSyntax(this._binding)},b.prototype.whenAnyAncestorIs=function(u){return this._binding.constraint=function(H){return y.traverseAncerstors(H,y.typeConstraint(u))},new M.BindingOnSyntax(this._binding)},b.prototype.whenNoAncestorIs=function(u){return this._binding.constraint=function(H){return!y.traverseAncerstors(H,y.typeConstraint(u))},new M.BindingOnSyntax(this._binding)},b.prototype.whenAnyAncestorNamed=function(u){return this._binding.constraint=function(H){return y.traverseAncerstors(H,y.namedConstraint(u))},new M.BindingOnSyntax(this._binding)},b.prototype.whenNoAncestorNamed=function(u){return this._binding.constraint=function(H){return!y.traverseAncerstors(H,y.namedConstraint(u))},new M.BindingOnSyntax(this._binding)},b.prototype.whenAnyAncestorTagged=function(u,H){return this._binding.constraint=function(k){return y.traverseAncerstors(k,y.taggedConstraint(u)(H))},new M.BindingOnSyntax(this._binding)},b.prototype.whenNoAncestorTagged=function(u,H){return this._binding.constraint=function(k){return!y.traverseAncerstors(k,y.taggedConstraint(u)(H))},new M.BindingOnSyntax(this._binding)},b.prototype.whenAnyAncestorMatches=function(u){return this._binding.constraint=function(H){return y.traverseAncerstors(H,u)},new M.BindingOnSyntax(this._binding)},b.prototype.whenNoAncestorMatches=function(u){return this._binding.constraint=function(H){return!y.traverseAncerstors(H,u)},new M.BindingOnSyntax(this._binding)},b}();A.BindingWhenSyntax=T},zEVN:function(ze,A,r){var M=r("Gi0A"),y=r("sEf8"),T=r("mdPL"),b=T&&T.isMap,u=b?y(b):M;ze.exports=u},zP5H:function(ze,A,r){"use strict";r.d(A,"a",function(){return y});var M=r("q1tI");function y(b){var u=M.createContext(null);function H(Z){var oe=b(Z.initialState);return M.createElement(u.Provider,{value:oe},Z.children)}function k(){var Z=M.useContext(u);if(Z===null)throw new Error("Component must be wrapped with <Container.Provider>");return Z}return{Provider:H,useContainer:k}}function T(b){return b.useContainer()}},zZ0H:function(ze,A){function r(M){return M}ze.exports=r},zoYe:function(ze,A,r){var M=r("nmnc"),y=r("eUgh"),T=r("Z0cm"),b=r("/9aa"),u=1/0,H=M?M.prototype:void 0,k=H?H.toString:void 0;function Z(oe){if(typeof oe=="string")return oe;if(T(oe))return y(oe,Z)+"";if(b(oe))return k?k.call(oe):"";var ne=oe+"";return ne=="0"&&1/oe==-u?"-0":ne}ze.exports=Z},zvhG:function(ze,A){ze.exports=r;function r(M,y,T,b){this.cx=3*M,this.bx=3*(T-M)-this.cx,this.ax=1-this.cx-this.bx,this.cy=3*y,this.by=3*(b-y)-this.cy,this.ay=1-this.cy-this.by,this.p1x=M,this.p1y=b,this.p2x=T,this.p2y=b}r.prototype.sampleCurveX=function(M){return((this.ax*M+this.bx)*M+this.cx)*M},r.prototype.sampleCurveY=function(M){return((this.ay*M+this.by)*M+this.cy)*M},r.prototype.sampleCurveDerivativeX=function(M){return(3*this.ax*M+2*this.bx)*M+this.cx},r.prototype.solveCurveX=function(M,y){typeof y=="undefined"&&(y=1e-6);var T,b,u,H,k;for(u=M,k=0;k<8;k++){if(H=this.sampleCurveX(u)-M,Math.abs(H)<y)return u;var Z=this.sampleCurveDerivativeX(u);if(Math.abs(Z)<1e-6)break;u=u-H/Z}if(T=0,b=1,u=M,u<T)return T;if(u>b)return b;for(;T<b;){if(H=this.sampleCurveX(u),Math.abs(H-M)<y)return u;M>H?T=u:b=u,u=(b-T)*.5+T}return u},r.prototype.solve=function(M,y){return this.sampleCurveY(this.solveCurveX(M,y))}},zxMA:function(ze,A,r){"use strict";Object.defineProperty(A,"__esModule",{value:!0}),A.QueryableString=void 0;var M=function(){function y(T){this.str=T}return y.prototype.startsWith=function(T){return this.str.indexOf(T)===0},y.prototype.endsWith=function(T){var b="",u=T.split("").reverse().join("");return b=this.str.split("").reverse().join(""),this.startsWith.call({str:b},u)},y.prototype.contains=function(T){return this.str.indexOf(T)!==-1},y.prototype.equals=function(T){return this.str===T},y.prototype.value=function(){return this.str},y}();A.QueryableString=M}}]);
